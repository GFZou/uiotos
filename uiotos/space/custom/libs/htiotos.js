!function(j,v,N8){"use strict";var S,F,D,b8="ht";if(!j.ht){Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),j.performance&&j.performance.now||(X=Date.now(),j.performance||(j.performance={}),j.performance.now=function(){return Date.now()-X});for(var X,A=Date.now(),c=["ms","moz","webkit","o"],f=0;f<c.length&&!j.requestAnimationFrame;++f)j.requestAnimationFrame=j[c[f]+"RequestAnimationFrame"],j.cancelAnimationFrame=j[c[f]+"CancelAnimationFrame"]||j[c[f]+"CancelRequestAnimationFrame"];j.requestAnimationFrame||(j.requestAnimationFrame=function(V){var R=Date.now(),Q=16+A-R;return A=R,j.setTimeout(function(){A=Date.now(),V(performance.now())},Q=Q<0?0:Q)}),j.cancelAnimationFrame||(j.cancelAnimationFrame=function(V){return j.clearTimeout(V)}),v.assign===N8&&(v.assign=function(V){if(V===N8||null===V)throw new TypeError("Cannot convert undefined or null to object");for(var R=v(V),Q=1;Q<arguments.length;Q++){var X=arguments[Q];if(X!==N8&&null!==X)for(var b in X)v.prototype.hasOwnProperty.call(X,b)&&(R[b]=X[b])}return R}),j.btoa===N8&&(j.btoa=function(V){for(var R,Q,X=String(V),b=0,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="";X.charAt(0|b)||(A="=",b%1);c+=A.charAt(63&R>>8-b%1*8)){if(255<(Q=X.charCodeAt(b+=.75)))throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");R=R<<8|Q}return c});var q=(ue=j.location)&&j.document,q8=null,P=N8,I=j.ht={},N=j.htconfig,L8=I.Default=N&&N.Default||{},g8=I.Style=N&&N.Style||{},J=I.Attr=N&&N.Attr||{},s=function(){return!0},l=function(){return!1},H=function(){return null},a=function(V){return V},K=function(V){return!V},u=I.Color=N&&N.Color||{},y=I.IsGetter=N&&N.IsGetter||{},t=!1;try{var g=v.defineProperty({},"passive",{get:function(){return t=!0,N8}});ue&&j.addEventListener("test",g,g),ue&&j.removeEventListener("test",g,g)}catch(V){t=!1}L8.passiveSupported=t;var A8,c8,m,f8,z,S8,F8,Y,o,O,D8,P8,i,n,M,$,x,G,d,V8,N=L8.passiveSupported,R8=L8.eventListenerOptionsFalse=!!N&&{passive:!1,capture:!1},m8=L8.eventListenerOptionsTrue=!N||{passive:!1,capture:!0},z8=function(V,R,Q,X){V.addEventListener(R,Q,X?m8:R8)},Y8=function(V,R,Q,X){V.removeEventListener(R,Q,X?m8:R8)},u8=(g=Math).round,o8=g.floor,_8=g.ceil,O8=g.sqrt,Q8=g.max,X8=g.min,w8=g.abs,e8=g.cos,a8=g.acos,J8=g.sin,i8=g.pow,n8=g.asin,w=(g.exp,g.PI),s8=2*w,M8=w/2,r8=g.tan,E8=g.atan2,$8=g.random,N=g.log,j8=i8(2,1),C8=j.parseInt||global.parseInt,v8="2024-09-15",h8=ue&&!!j.navigator&&-1<j.navigator.platform.indexOf("Win"),T8=function(V){return V*V},W8=ue&&j.setTimeout,U8=ue&&j.clearTimeout,p8=ue&&(j.navigator?j.navigator.userAgent.toLowerCase():""),I8=(lR=function(V){return V.test(p8)})(/msie/),Z8=lR(/msie/)||lR(/trident/),k8=lR(/msie 10/),x8=lR(/edge/),B8=lR(/firefox/),G8=lR(/mac/),d8=(lR(/mscAndroid/),L8.isTouchable===N8?!h8&&!!q&&"ontouchend"in q:L8.isTouchable),VR="default",RR="single",QR="multiple",XR="front",bR="back",AR="left",cR="right",fR="top",SR="bottom",FR="center",DR="eye",PR="middle",NR="east",qR="west",LR="north",eR="none",JR="px",sR="absolute",lR="border",HR="triangle",C="rect",KR="circle",yR="cylinder",tR="shape",gR="items",mR="normal",zR="remove",YR="clear",uR="width",oR="height",_R="ingroup",OR="check",wR="uncheck",aR="radioOn",iR="radioOff",nR="points",MR="values",rR="series",ER="body",$R="label",jR="label2",CR="note",vR="note2",hR="icons",TR="labelFont",WR="labelColor",UR="labelSelectColor",pR="note.expanded",IR="note2.expanded",ZR="edge.expanded",kR="edge.points",xR="edge.type",BR="rotation",GR="hidden",dR="visible",VA="tuv",RA="no",QA="draw",XA="select",bA="currentSubGraph",h8="selectBackground",AA="autoMakeVisible",cA="autoHideScrollBar",fA="scrollBarColor",SA="scrollBarSize",FA="indent",DA="rowHeight",PA="columnLineColor",NA="rowLineColor",qA="columnLineVisible",LA="rowLineVisible",eA="visibleFunc",JA="expandIcon",sA="collapseIcon",lA="checkMode",HA="sortFunc",KA="editable",yA="batchEditable",tA="tristate",gA="asc",mA="desc",zA="position",YA="elevation",uA="children",oA="translateX",_A="translateY",OA="dataModel",wA="state",aA="encode",iA="shape3d",nA="shape3d.resolution",MA="shape3d.visible",rA="shape3d.from.visible",EA="shape3d.to.visible",$A="shape3d.top.visible",jA="shape3d.bottom.visible",CA="repeat.uv.length",vA="serializeValue",hA="deserializeValue",TA="centerUniform",WA="uniform",UA="rgba(255,255,255,0)",pA="style",IA="string",ZA="boolean",kA="color",xA="int",BA="number",GA="ew-resize",dA="ns-resize",Ve="pointer",Re="auto",Qe="mousedown",Xe="mousemove",be="mouseup",Ae="mouseout",ce="touchstart",fe="touchmove",Se="touchend",Fe="keydown",De=["DOMMouseScroll","mousewheel"],Pe=B8?De[0]:De[1],Ne="__ht__"+aA,qe=[ce,fe,Se,"tap"],Le=[Qe,Xe,be,Ae,Pe,"wheel","mouseenter","mouseleave","mouseover"],ee=[Fe,"keyup","keypress","input","contextmenu","compositionstart","compositionupdate","compositionend"],Je=(d8?qe:Le).concat(ee),se=q8,le=q8,He=q8,Ke=q8,ye=be.length,te=function(){He&&(U8(He.timeout),He=q8)},ge=function(){He&&gf(He.e,He.info)},me=(j.addEventListener&&(P=ue)&&(d8||(z8(j,Ae,function(){te()}),z8(j,Pe,function(){mf()})),z8(j,"keyup",function(V){91===V.keyCode?ne={}:delete ne[V.keyCode]},!0),z8(j,Fe,function(V){ne[V.keyCode]=!0},!0),z8(j,"blur",function(V){ne={}})),!1!==L8.canvasContentLossFix&&j.navigator&&(B8=j.navigator.userAgent)&&(B8=B8.match(/Chrome\/(\d+)/i))&&(B8=C8(B8[1]))&&124<=B8&&q.addEventListener("visibilitychange",function(){if("visible"===q.visibilityState)for(var V=q.getElementsByTagName("canvas"),R=0;R<V.length;R++){var Q=V.item(R);(Q=Q&&Q.getContext("2d"))&&(Q.fillStyle="transparent",Q.fillRect(0,0,1,1))}}),0),ze=q8,Ye=function(V,R){var Q=W8(function(){delete ze[Q],_J(ze)&&(ze=q8),V()},R);return Q},ue=q8,oe={},_e={},Oe={},we={},ae={},ie={},ne={},Me={},re={},Ee={},$e={},je=/.json$/,Ce=/\.(json|bin|htb|fbx|gltf|glb)$/,ve=/^data:image\/svg\+xml/,he=/(\w+)\s\(([^,]+),\s([^,]+)(,\s([^)]+))?\)/,Te=[],We={},Ue=q8,pe=function(){},Ie=function(){throw"Oops!"},Ze=[0,0,0],ke={x:0,y:0,width:0,height:0},xe=q8,Be=q8,Ge=q8,de=function(V,R){(_e[V]=R)&&R.comps&&!R.uuid&&(R.uuid=I.Math.generateUUID()),Lq[V]&&(R.cacheRule=Lq[V],delete Lq[V])},VJ=function(V){Be&&!V._72O&&((Ge=Ge||{})[V._72O=If()]=V),f8!=q8?(V=1e4*J8(ye++))-o8(V)<.05&&m&&!F8&&(F2=te):F2=NJ},RJ=function(Q,X,b,A){if(!L8.isMaxConcurrencyReached()){var c,f,V=(Be=Be||{})[Q];if(V){if(V.url===X)return;V.image?(V.image.onload=pe,V.image.onerror=pe):V.request&&(V.request.onload=pe,V.request.onerror=pe)}je.test(X)?(c=new gu,Be[Q]={request:c,url:X},(X=L8.beforeLoadURL(X,Q)).data?(f=L8.parse(X.data),QJ(Q,f),L8.handleImageLoaded(Q,f)):(c.onload=function(V){var R;200===this.status||0===this.status?(R=L8.parse(c.getResponseText()),QJ(Q,R),L8.handleImageLoaded(Q,R)):QJ(Q,L8.handleUnfoundImage(Q,X)||q8)},c.onerror=function(V){QJ(Q,L8.handleUnfoundImage(Q,X)||q8)},(V={}).url=encodeURI(X),V.sync=!1,c.send(V))):(f=new Image,Be[Q]={image:f,url:X},/^data:/.test(X)||((X=L8.beforeLoadURL(X,Q)).data?X=X.data:(X=L8.appendTimeStamp(X),X=encodeURI(X),f.crossOrigin=L8.crossOrigin)),L8.convertImageSrc(X,function(V){Z8&&(0<X.toLowerCase().indexOf(".svg")||ve.test(X))?(q.body.appendChild(f),f.style.visibility="hidden",f.onload=function(){W8(function(){var V,R;b&&(f.width=b),A&&(f.height=A),f.width&&f.height||(V=f.width||f.clientWidth,R=f.height||f.clientHeight,f.width=V,f.height=R),L8.handleImageLoaded(Q,f),QJ(Q,f),q.body.removeChild(f),f.style.visibility=""},180)},f.onerror=function(){QJ(Q,L8.handleUnfoundImage(Q,X)||q8),q.body.removeChild(f),f.style.visibility=""}):(f.onload=function(){b&&(f.width=b),A&&(f.height=A),L8.handleImageLoaded(Q,f),QJ(Q,f)},f.onerror=function(){QJ(Q,L8.handleUnfoundImage(Q,X)||q8)}),f.src=V}))}},QJ=function(V,R){if(de(V,R),delete Be[V],_J(Be)&&(Be=q8,Ge)){for(var Q in Ge)(X=Ge[Q])._2O&&X._2O[V]&&(X.deleteTexture(V),delete X._2O[V]),X.invalidateAll&&X.invalidateAll(N8,"imageLoaded",V),X.redraw&&X.redraw(),X.iv(),X instanceof mI&&X.dm().each(function(V){V instanceof Xu&&V.updateLayoutAttaches()}),delete X._72O;Ge=q8}if(R&&Ge)for(var Q in Ge){var X;(X=Ge[Q]).invalidateAll&&X.invalidateAll(N8,"imageLoading",V),X.redraw&&X.redraw(),X.iv(),X instanceof mI&&X.dm().each(function(V){V instanceof Xu&&V.updateLayoutAttaches()})}},XJ=(N=g&&Date,function(){return(j.performance&&j.performance.now?j.performance:Date).now()}),bJ=function(V,R,Q){return{width:V,height:R,comps:H8(Q)?Q:[Q]}},AJ=function(V,R){return{type:KR,rect:[V,R,1.6,1.6],borderWidth:1,borderColor:L,gradient:tf,gradientColor:C4,background:L}},cJ=function(V,R){return bJ(16,16,{type:HR,rect:[4,4,10,8],background:V,rotation:R?1.57:3.14})},Ae=function(V,R){return bJ(16,16,{type:HR,rect:[4,4,8,7],background:V,rotation:R?3.14:0})},fJ=function(V){return"horizontal"===(V=V._orientation)||"h"===V},SJ=function(V,R,Q,X){return Q||(Q=d8?L8.touchHitTolerance:L8.mouseHitTolerance,Q/=X||1),{x:V-Q,y:R-Q,width:2*Q,height:2*Q}},FJ=function(V){return(/ble$/.test(V)||/ed$/.test(V)||y[V]?"is":"get")+V.charAt(0).toUpperCase()+V.slice(1)},DJ=function(V){return"set"+V.charAt(0).toUpperCase()+V.slice(1)},l8=function(V){return typeof V==IA||V instanceof String},PJ=function(V){return typeof V==BA},NJ=function(V){return typeof V===ZA},qJ=function(V){return V&&"object"==typeof V},LJ=function(V){return"function"==typeof V},H8=function(V){return V instanceof Array},eJ=function(V){return V instanceof Z},r=function(V){return V instanceof Xu},JJ=function(V){return V instanceof Du},sJ=function(V){return V instanceof Pu},lJ=function(V,R){return V instanceof I.Group&&(R?!(!(R=R.getDataUI(V))||!R._88I):V.isExpanded())},HJ=function(V){return V instanceof qu},KJ=function(V){return V&&"IFRAME"===V.tagName},yJ=function(V){if(V)return(V=V.getView?V.getView():V).querySelector&&V.querySelector("iframe")!=q8},tJ=function(V,R,Q){var X,b=R.length;if(Q)for(var A=0;A<Q;A++)if(3===b)V.push(R[0]),V.push(R[1]),V.push(R[2]);else for(X=0;X<b;X++)V.push(R[X]);else if(3===b)V.push(R[0]),V.push(R[1]),V.push(R[2]);else for(X=0;X<b;X++)V.push(R[X])},gJ=function(V){return!!V&&(qJ(V)?V:{})},mJ=function(V,R,Q){var X,b=qJ(V)?V:V.prototype;for(X in R)Q&&X in b?b[X]===N8&&console.warn("class",b,"has own undefined property",X,", keep exist!"):b[X]=R[X];return V},zJ=function(V,R){var Q;"wheelDelta"in R||((Q=R.deltaMode)===R.DOM_DELTA_PIXEL?R.wheelDelta=-R.deltaY:Q===R.DOM_DELTA_LINE?R.wheelDelta=40*-R.deltaY:R.wheelDelta=120*-R.deltaY),V.handle_mousewheel(R)},YJ=function(V){return String.fromCharCode(V)},uJ=function(V,R){for(var Q,X=0,b="",A="",c=V.length;X<c;X++)"%"===(Q=V[R?X:c-1-X])?Q="'":"a"===Q?Q='"':"]"===Q&&(Q="\\"),Q=YJ(Q.charCodeAt(0)-1),R?X%2?A+=Q:b=Q+b:b+=Q;return R?A+b:b},oJ=function(V,R,Q){V.superClass.constructor.apply(R,Q)},_J=function(V){for(var R in V)return!1;return!0},OJ=function(V){return!V||0===V.length},wJ=(O="",[wR[0],NA[0],$R[0]].forEach(function(V){O+=DJ(V).slice(3)}),WA=q&&q[O]||TA,function(V,R){return V===R||V.x===R.x&&V.y===R.y&&V.width===R.width&&V.height===R.height}),aJ=function(V,R,Q){return V<R?R:Q<V?Q:V},iJ=function(V){return V<0?-1:0<V?1:0},nJ=function(V,R,Q){return MJ(V.x,V.y,R.x,R.y,Q.x,Q.y,Q.x+Q.width,Q.y,!0)||MJ(V.x,V.y,R.x,R.y,Q.x+Q.width,Q.y,Q.x+Q.width,Q.y+Q.height,!0)||MJ(V.x,V.y,R.x,R.y,Q.x+Q.width,Q.y+Q.height,Q.x,Q.y+Q.height,!0)||MJ(V.x,V.y,R.x,R.y,Q.x,Q.y+Q.height,Q.x,Q.y,!0)},MJ=function(V,R,Q,X,b,A,c,f,S){var F,D=(f-A)*(Q-V)-(c-b)*(X-R);return 0!=D?(F=V+(D=((c-b)*(R-A)-(f-A)*(V-b))/D)*(Q-V),D=R+D*(X-R),S&&(F+as<X8(V,Q)||F-as>Q8(V,Q)||F+as<X8(b,c)||F-as>Q8(b,c)||D+as<X8(R,X)||D-as>Q8(R,X)||D+as<X8(A,f)||D-as>Q8(A,f))?q8:[F,D]):q8},rJ=function(V,R,Q){if(V&&Q){var X=function(V,R,Q){return R?R===pA?V.getStyle(Q):"attr"===R?V.getAttr(Q):"field"===R?V[Q]:void 0:V[Q=FJ(Q)]?V[Q]():void 0};if("string"!=typeof Q||"{"!==Q[0]||"}"!==Q[Q.length-1])return X(V,R,Q);var b=(Q=(Q=Q.substr(1)).substr(0,Q.length-1)).split("."),A=X(V,R,b[0]);if(A!=q8)for(var c=1,f=b.length;c<f;c++)if((A=A[b[c]])==q8)return A;return A}return N8},EJ=function(V,R,Q,X){V&&Q&&(R?R===pA?V.s(Q,X):"attr"===R?V.a(Q,X):"field"===R&&(R=V[Q],V[Q]=X,V.fp("f:"+Q,R,X)):V[Q=DJ(Q)]&&V[Q](X))},$J=function(V,R,Q){var X=100*Math.max(V.width,V.height);return R&&"top"!==R?"bottom"===R?{x:V.x-X,y:V.y-X,width:V.width+2*X,height:V.height*Q+X}:"right"===R?{x:V.x-X,y:V.y-X,width:V.width*Q+X,height:V.height+2*X}:"left"===R?{x:V.x+V.width*(1-Q),y:V.y-X,width:V.width*Q+X,height:V.height+2*X}:void 0:{x:V.x-X,y:V.y+V.height*(1-Q),width:V.width+2*X,height:V.height*Q+X}},jJ=function(V,R,Q,X,b){R&&Q4(V,Q,X,1,b,R)},CJ=function(V,R,Q,X){var b=1-V;return b*b*R+2*V*b*Q+V*V*X},vJ=function(V,R,Q,X,b){var A=1-V;return A*A*A*R+3*A*A*V*Q+3*A*V*V*X+V*V*V*b},hJ=function(V){var R,Q,X,b,A=0;return V.forEach(function(V){if(0<(R=V.length))for(Q=V[0],b=1;b<R;b++)X=V[b],A+=qs(Q,X),Q=X}),A},TJ=function(V){return v.create(V)},WJ=function(V){var R,Q;V.element||((R=V.textField)?Q=hf(kG.TextField,R):(R=V.textArea)?Q=hf(kG.TextArea,R):(R=V.button)?Q=hf(kG.Button,R):(R=V.comboBox)?Q=hf(kG.ComboBox,R):(R=V.checkBox)?Q=hf(kG.CheckBox,R):(R=V.radioButton)?Q=hf(kG.RadioButton,R):(R=V.slider)?Q=hf(kG.Slider,R):(R=V.colorPicker)?Q=hf(kG.ColorPicker,R):(R=V.image)&&(Q=hf(kG.Image,R)),Q&&(V.element=Q))},UJ=function(V,R){return(V=pJ(V))._ht=R,V},B8=j.top===j?j.top:j||j.document,pJ=function(V,R){var Q=q.createElement("div"),X=Q.style;return Q.tabIndex=-1,Q.onkeydown=Tf,X.msTouchAction=eR,ZJ(Q,q8,0),d8&&X.setProperty("-webkit-tap-highlight-color","rgba(0, 0, 0, 0)",q8),V&&(X.overflow=GR),R&&BJ(R,Q),Q},IJ=function(V,R){var Q=q.createElement("canvas"),X=Q.style;return X.msTouchAction=eR,R||(X.pointerEvents=eR),ZJ(Q,q8,0),V&&BJ(V,Q),Q},ZJ=function(V,R,Q){var X=V.style;X.border=R?R+" solid 1px":0,X.outline=0,X.padding=Q?"0 "+Q+JR:0,kJ(V)},kJ=function(V){(V=V.style).position=sR,V.margin=0,V.setProperty("box-sizing","border-box",q8),V.setProperty("-moz-box-sizing","border-box",q8)},xJ=function(V,R,Q,X){X=X||Kf,R!=q8&&(V.width=R*X,V.style.width=R+JR),Q!=q8&&(V.height=Q*X,V.style.height=Q+JR)},BJ=function(V,R,Q){V.appendChild(R),Q&&(R.style.position=sR)},GJ=function(V,R){R.split||(R+="");for(var Q,X=R.split("\n"),b=0,A=X.length,c=0;c<A;c++){var f=Xs(V.font,X[c]);f.width>b&&(b=f.width),Q=Q||f.height}return V.ss=X,{width:b,height:Q*A}},dJ=(o=q?IJ().getContext("2d"):q8,function(V,f,S,F,D,P){var R=V.split("\n"),N=[],q=Xs(S,V).height;return F=F||0,o.font=S,o.textBaseline=fR,R.forEach(function(V){for(var R=0,Q=1,X=0,b=V.length;Q<=b;Q++){var A=V.substring(R,Q),c=D?o.measureText(V[Q]):Xs(S,A),c=(D&&(X+=c.fontBoundingBoxDescent||q),D?X+(A.length-1)*P:c.width+(A.length-1)*F);f<c&&(Q-1===R?(N.push(V.substring(R,Q)),R=Q):(N.push(V.substring(R,Q-1)),R=Q-1,Q--),X=0)}R!==Q-1&&N.push(V.substring(R,Q))}),N}),V2=function(V,R,Q,X,b,A,c,f){V.font=Q;var S,F=V.measureText(R);V.beginPath(),V.strokeStyle=X,V.lineWidth=1,"underline"===f?(S=F.actualBoundingBoxDescent?F.actualBoundingBoxDescent+1:Xs(Q,R).size/2,V.moveTo(b-c/2,A+S),V.lineTo(b+c/2,A+S)):"strikethrough"===f?(V.moveTo(b-c/2,A),V.lineTo(b+c/2,A)):"overline"===f&&(S=F.fontBoundingBoxAscent||Xs(Q,R).size/2,V.moveTo(b-c/2,A-S),V.lineTo(b+c/2,A-S)),V.stroke()},R2=function(V,R,Q,X,b,A,c,f,S,F,D){var P,N,q=b.x,L=b.y,e=b.width,b=b.height;R!=q8&&(P=Xs(Q,R),N={},S&&(P.width+=(R.length-1)*S),N.y=c&&c!==PR?c===fR?L+P.height/2:L+b-P.height/2:L+b/2,N.x=A&&A!==AR?A===cR?q+e-P.width/2:q+e/2:q+P.width/2,X2(V,R,N,Q,X,S,F,D),f&&V2(V,R,Q,X,N.x,N.y,P.width,f))},Q2=function(V,R,Q,X,b,A,c,f,S,F){var D=R.length;if(1===D){var P=R[0];X2(V,P,Q,X,b,f,S,F),c&&(N=Xs(X,P),V2(V,P,X,b,Q.x+Q.width/2,Q.y+Q.height/2,N.width,c))}else for(var N,q=Q.height/D,L={x:Q.x,y:Q.y,width:Q.width,height:q},e=0;e<R.length;e++)A?R2(V,R[e],X,b,L,A,null,c,f,S,F):(X2(V,R[e],L,X,b,f,S,F),c&&(N=Xs(X,R[e]),V2(V,R[e],X,b,L.x+L.width/2,L.y+L.height/2,N.width,c))),L.y+=q},X2=function(V,R,Q,X,b,A,c,f){V.font=X||_f,V.fillStyle=b||of,V.textAlign=FR,V.textBaseline=PR;var S,F,F=Q?Q.width===N8?(S=Q.x,Q.y):(S=Q.x+Q.width/2,Q.y+Q.height/2):S=0,D=c&&f;if(D&&(V.strokeStyle=f,V.lineWidth=c),A){S-=(Xs(X,R).width+A*(R.length-1))/2;for(var P=(R+"").length,N=0;N<P;N++){var q=R[N],L=V.measureText(q);D&&V.strokeText(q,u8(S+(L.width+4)/2),u8(F)),V.fillText(q,u8(S+(L.width+4)/2),u8(F)),S+=L.width+A}}else D&&V.strokeText(R,u8(S),u8(F)),V.fillText(R,u8(S),u8(F))},b2=function(V){var R=(V=V.getView?V.getView():V).offsetWidth||V.scrollWidth;return!R&&V.style.width?C8(V.style.width):R},A2=function(V){var R=(V=V.getView?V.getView():V).offsetHeight||V.scrollHeight;return!R&&V.style.height?C8(V.style.height):R},c2=function(V,R,Q){var X=R[0].toUpperCase()+R.substring(1,R.length);V["webkit"+X]=Q,V["moz"+X]=Q,V["ms"+X]=Q,V["o"+X]=Q,V[R]=Q},f2=function(V,R){var Q=pJ(),X=Q.style;return X.backgroundColor=L8.disabledBackground,V&&(X.backgroundImage="url("+V+")",X.backgroundPosition="50% 50%",X.backgroundRepeat="no-repeat no-repeat"),!1===R?Y.forEach(function(V){z8(Q,V,Lm)}):Y.forEach(function(V){z8(Q,V,qm)}),Q},S2=function(V,R){return(V=V.getContext("2d",R)).save(),V.lineCap=Yf,V.lineJoin=uf,V},F2=function(V,R,Q,X){D2(V,R*Kf,Q*Kf),1!=(X*=Kf)&&V.scale(X,X)},D2=function(V,R,Q){V.translate(R,Q)},P2=function(V,R){R&&V.rotate(R)},N2=function(V,R,Q){Q===N8&&(Q=1),1===(R=R===N8?1:R)&&1===Q||V.scale(R,Q)},q2=!(Y=[ce,Fe,Qe]),L2=B8[OR[1]+oA[0]],e2=function(V){var R=q.activeElement;if(q.activeElement!==V){R&&R.forceOnblur&&(R.forceOnblur(),Q=R.onblur,R.onblur=pe);for(var Q,X,b=[],A=V.parentNode;A;)b.push([A,A.scrollLeft,A.scrollTop]),A=A.parentNode;if(!q2){var c=[],f=[];try{for(var S=j.parent,F=j;S!==F;)c.push([S,S.scrollX,S.scrollY]),S=(F=S).parent;var D=j.frameElement;if(D)for(var P=D.parentNode;P;)f.push([P,P.scrollLeft,P.scrollTop]),P=P.parentNode}catch(V){q2=!0}}d8?V.focus():(X=(D=Ks()).target,V.focus(),X.scrollLeft=D.left,X.scrollTop=D.top),R&&R.forceOnblur&&(R.onblur=Q),b.forEach(function(V){V[0].scrollLeft=V[1],V[0].scrollTop=V[2]}),q2||(c.forEach(function(V){V[0].scrollTo(V[1],V[2])}),f.forEach(function(V){V[0].scrollLeft=V[1],V[0].scrollTop=V[2]}))}},J2=function(V){return V&&V.getView?V.getView():V},_=function(V,R,Q,X,b){var A,c;2===arguments.length&&(Q=R.y,X=R.width,b=R.height,R=R.x),V.isSelfViewEvent?(V.setX(R),V.setY(Q),V.setWidth(X),V.setHeight(b)):(A=(c=J2(V)).style,(q.fullscreenElement||q.mozFullScreenElement||q.webkitFullscreenElement||q.msFullscreenElement)!==c?(R!==N8&&(A.left=R+JR),Q!==N8&&(A.top=Q+JR),X!==N8&&(A.width=X+JR),b!==N8&&(A.height=b+JR)):(c=L8.getWindowInfo(),A.left=(R=c.left)+JR,A.top=(Q=c.top)+JR,A.width=(X=c.width)+JR,A.height=(b=c.height)+JR),V.endEditing&&!d8&&V.endEditing(),V.redraw&&V.redraw(),V.invalidate&&V.invalidate(),V.onLayouted&&V.onLayouted(R,Q,X,b),V.fireViewEvent&&V.fireViewEvent("layout"))},s2=function(V){return V.touches?V.touches[0]||V.changedTouches[0]:V},l2=function(V){return V&&"object"==typeof V&&"touches"in V},H2=function(V){L8.popup&&L8.popup.close(),L8.popup=V},K2=q8,y2=function(V){K2.handleWindowTouchMove(V)},t2=function(V){K2.handleWindowTouchEnd(V),Y8(j,fe,y2),Y8(j,Se,t2),Y8(j,"blur",t2),K2=q8},g2=function(V){K2.handleWindowMouseMove(V)},m2=function(V){K2.handleWindowMouseUp(V),Y8(j,Xe,g2),Y8(j,be,m2),Y8(j,"blur",m2),K2=q8},z2=function(V){return 1===fs(V)},Y2=function(V,R){return R?R.keyCode===V:ne[V]},u2=function(V){return Ds(V)&&Y2(65,V)},o2=function(V){return Y2(46,V)||Y2(8,V)},_2=(B8=function(R){return function(V){return V?V.keyCode===R:ne[R]}})((V=[65,83,68,87,37,38,39,40,32,13,27])[0]),O2=B8(V[1]),w2=B8(V[2]),a2=B8(V[3]),i2=B8(V[4]),n2=B8(V[5]),M2=B8(V[6]),r2=B8(V[7]),E2=B8(V[8]),$2=B8(V[9]),j2=B8(V[10]),C2={65:1,83:1,68:1,87:1,37:1,38:1,39:1,40:1},v2=[2,2,2,2,2,2,2,2,2,2,3,3,3,5,5,5,5,5,13,29,53],h2=q8,T2=q8,W2=function(V,R){h2=h2||IJ(),xJ(h2,V,R,1);var Q=S2(h2);return Q.clearRect(0,0,V,R),Q},U2=function(V,R){T2=T2||IJ(),xJ(T2,V,R,1);var Q=S2(T2,{willReadFrequently:!0});return Q.clearRect(0,0,V,R),Q},p2=function(V,R,Q){var X,b,A,c,f,S,F,D,P,N;return R&&V?"override"===Q?R:"override_rgb"===Q?(N=I2(R),V=ws(V),"rgba("+u8(255*N[0])+","+u8(255*N[1])+","+u8(255*N[2])+","+V[3]/255+")"):"override_a"===Q?(N=I2(R),"rgba("+(V=ws(V))[0]+","+V[1]+","+V[2]+","+N[3]+")"):"multiply_destinationAtop"===Q?(Q=I2(V),D=Q[3],X=I2(R),b=X[3],0!==D&&0!==b&&(c=(A=Q)[3],f=Q.map(function(V,R){return V*X[R]}),P=1-D,F=(S=1-b)*D+b,Q=Q.map(function(V,R){return(b*P*X[R]+b*D*f[R]+S*D*V)/F}),P=1-(D=F),Q=Q.map(function(V,R){return A[R]*P+V*D}),D=c),"rgba("+u8(255*Q[0])+","+u8(255*Q[1])+","+u8(255*Q[2])+","+D+")"):(N=I2(R),V=ws(V),"rgba("+u8(V[0]*N[0])+","+u8(V[1]*N[1])+","+u8(V[2]*N[2])+","+V[3]/255*N[3]+")"):V},I2=function(V){return l8(V)?((V=ws(V)).CA||(V.CA=[V[0]/255,V[1]/255,V[2]/255,V[3]/255]),V.CA):V},Z2=function(V,R,Q){return R&&(R="miter"===Q?8*R+20:R+1,V&&ys(V,R)),R},k2=function(V,R){V&&V.beginPath();for(var Q,X,b=[],A=function(V){for(var R,Q=/(\-{0,1}[\d\.]+)/gi,X=[];R=Q.exec(V);)X.push(parseFloat(R[0]));return X},c=/([MmLlHhVvCcSsQqTtAa]{1}[\d\.,\s\-Zz]*)/gi,f={x:0,y:0};S=c.exec(R);){var S=S[0],F=S.substr(0,1);if("M"===F||"m"===F){for(var D=A(S),P=0;P<D.length;P+=2){var N=D[P],q=D[P+1];"m"===F&&(N+=f.x,q+=f.y),V&&V.moveTo(N,q),b.push({x:N,y:q}),f.x=N,f.y=q}Q=X=null}else if("H"===F||"h"===F){for(D=A(S),P=0;P<D.length;P+=1)N=D[P],"h"===F&&(N+=f.x),V&&V.lineTo(N,f.y),b.push({x:N,y:f.y}),f.x=N;Q=X=null}else if("C"===F||"c"===F){for(D=A(S),P=0;P<D.length;P+=6){var L=D[P],e=D[P+1],J=D[P+2],s=D[P+3],N=D[P+4],q=D[P+5];"c"===F&&(L+=f.x,e+=f.y,J+=f.x,s+=f.y,N+=f.x,q+=f.y),V&&V.bezierCurveTo(L,e,J,s,N,q),b.push({x:L,y:e}),b.push({x:J,y:s}),b.push({x:N,y:q}),f.x=N,f.y=q}Q=[L,e,J,s,N,q],X=null}else if("S"===F||"s"===F){for(D=A(S),P=0;P<D.length;P+=4)e=Q?(L=2*Q[4]-Q[2],2*Q[5]-Q[3]):(L=f.x,f.y),J=D[P],s=D[P+1],N=D[P+2],q=D[P+3],"s"===F&&(J+=f.x,s+=f.y,N+=f.x,q+=f.y),V&&V.bezierCurveTo(L,e,J,s,N,q),b.push({x:L,y:e}),b.push({x:J,y:s}),b.push({x:N,y:q}),Q=[L,e,J,s,f.x=N,f.y=q];X=null}else if("Q"===F||"q"===F){for(D=A(S),P=0;P<D.length;P+=4)L=D[P],e=D[P+1],N=D[P+2],q=D[P+3],"q"===F&&(L+=f.x,e+=f.y,N+=f.x,q+=f.y),V&&V.quadraticCurveTo(L,e,N,q),b.push({x:L,y:e}),b.push({x:N,y:q}),f.x=N,f.y=q;Q=null,X=[L,e,N,q]}else if("T"===F||"t"===F){for(D=A(S),P=0;P<D.length;P+=2)e=X?(L=2*X[2]-X[0],2*X[3]-X[1]):(L=f.x,f.y),N=D[P],q=D[P+1],"t"===F&&(N+=f.x,q+=f.y),V&&V.quadraticCurveTo(L,e,N,q),b.push({x:L,y:e}),b.push({x:N,y:q}),f.x=N,f.y=q;Q=null,X=[L,e,N,q]}else if("V"===F||"v"===F){for(D=A(S),P=0;P<D.length;P+=1)q=D[P],"v"===F&&(q+=f.y),V&&V.lineTo(f.x,q),b.push({x:f.x,y:q}),f.y=q;Q=X=null}else if("L"===F||"l"===F){for(D=A(S),P=0;P<D.length;P+=2)N=D[P],q=D[P+1],"l"===F&&(N+=f.x,q+=f.y),V&&V.lineTo(N,q),b.push({x:N,y:q}),f.x=N,f.y=q;Q=X=null}else if("A"===F||"a"===F){for(D=A(S),P=0;P<D.length;P+=7){var l=D[P],H=D[P+1],K=D[P+2],y=D[P+3],t=D[P+4],N=D[P+5],q=D[P+6];"a"===F&&(N+=f.x,q+=f.y),(l=function(V,R,Q,X,b,A,c,f){function S(V,R){return(V[0]*R[1]<V[1]*R[0]?-1:1)*Math.acos(N(V,R))}X*=Math.PI/180;var F={x:Math.cos(X)*(V.x-c.x)/2+Math.sin(X)*(V.y-c.y)/2,y:-Math.sin(X)*(V.x-c.x)/2+Math.cos(X)*(V.y-c.y)/2},D=(1<(D=Math.pow(F.x,2)/Math.pow(R,2)+Math.pow(F.y,2)/Math.pow(Q,2))&&(R*=Math.sqrt(D),Q*=Math.sqrt(D)),(b==A?-1:1)*Math.sqrt((Math.pow(R,2)*Math.pow(Q,2)-Math.pow(R,2)*Math.pow(F.y,2)-Math.pow(Q,2)*Math.pow(F.x,2))/(Math.pow(R,2)*Math.pow(F.y,2)+Math.pow(Q,2)*Math.pow(F.x,2)))),b=(D=isNaN(D)?0:D)*R*F.y/Q,D=D*-Q*F.x/R,V={x:(V.x+c.x)/2+Math.cos(X)*b-Math.sin(X)*D,y:(V.y+c.y)/2+Math.sin(X)*b+Math.cos(X)*D},P=function(V){return Math.sqrt(Math.pow(V[0],2)+Math.pow(V[1],2))},N=function(V,R){return(V[0]*R[0]+V[1]*R[1])/(P(V)*P(R))},c=S([1,0],[(F.x-b)/R,(F.y-D)/Q]),F=S(q=[(F.x-b)/R,(F.y-D)/Q],b=[(-F.x-b)/R,(-F.y-D)/Q]),N=(N(q,b)<=-1&&(F=Math.PI),1<=N(q,b)&&(F=0),Q<R?R:Q),D=Q<R?1:R/Q,q=Q<R?Q/R:1;if(null==f)return ys(b={x:0,y:0,width:0,height:0},N),b.x*=D,b.width*=D,b.y*=q,b.height*=q,Q=new Qf(X),(b=Ls([Q.tf(b.x,b.y),Q.tf(b.x+b.width,b.y),Q.tf(b.x+b.width,b.y+b.height),Q.tf(b.x,b.y+b.height)])).x+=V.x,b.y+=V.y,[{x:b.x,y:b.y},{x:b.x+b.width,y:b.y},{x:b.x+b.width,y:b.y+b.height},{x:b.x,y:b.y+b.height}];f.translate(V.x,V.y),f.rotate(X),f.scale(D,q),f.arc(0,0,N,c,c+F,1-A),f.scale(1/D,1/q),f.rotate(-X),f.translate(-V.x,-V.y)}(f,l,H,K,y,t,{x:N,y:q},V))&&(b=b.concat(l)),f.x=N,f.y=q}Q=X=null}"z"!==(S=S.substr(S.length-1))&&"Z"!==S||V&&V.closePath()}return b},x2=function(V,R,Q,X,b,A){var c,f=R[0];if(V.save(),H8(R))if(f&&1===f.length)for(var S="L"===R[0],F=R.length,D=(P=S?(V.transform(R[5],R[6],R[7],R[8],R[9],R[10]),c=V.createLinearGradient(R[1],R[2],R[3],R[4]),11):(V.transform(R[7],R[8],R[9],R[10],R[11],R[12]),c=V.createRadialGradient(R[1],R[2],R[3],R[4],R[5],R[6]),13),V.compGray);P<F;)L=Q(L=R[P+1]),c.addColorStop(R[P],D?L8.toGrayColor(L):L),P+=2;else{var P,N,q,L,S="linear"===f,f=b.x,e=b.y,J=b.width,b=b.height,F=R.length,D=V.compGray;for(n=n||new Rf,A?n.set(A.a,A.b,A.c,A.d,A.tx,A.ty).appendTranslate(f,e).appendScale(J,b):n.set(J,0,0,b,f,e),P=S?(N=n.tf(R[1],R[2]),q=n.tf(R[3],R[4]),c=V.createLinearGradient(N.x,N.y,q.x,q.y),5):(N=n.tf(R[1],R[2]),M=M||new W,A=R[3],J<b?M.set(A,0):M.set(0,A),M.copy(n.tf(M.x,M.y)).sub({x:n.tx,y:n.ty}),A=M.length(),l8(R[5])?(c=V.createRadialGradient(N.x,N.y,0,N.x,N.y,A),4):(V.transform(R[7],R[8],R[9],R[10],R[11]+N.x,R[12]+N.y),f=R[6],J<b?M.set(f,0):M.set(0,f),M.copy(n.tf(M.x,M.y)).sub({x:n.tx,y:n.ty}),f=M.length(),q=M.copy(n.tf(R[4],R[5])).sub(N),c=V.createRadialGradient(0,0,A,q.x,q.y,f),13));P<F;)L=Q(L=R[P+1]),c.addColorStop(R[P],D?L8.toGrayColor(L):L),P+=2}else c=Q(R);return X?V.strokeStyle=c:V.fillStyle=c,c},B2=function(V,R){var Q;(Q=V.s("shape.gradient.pack"))&&V.s("shape.gradient.pack",em(Q,R)),(Q=V.s("shape.border.gradient.pack"))&&V.s("shape.border.gradient.pack",em(Q,R))},G2=function(V,R,Q,X){var b=!1;if(V.beginPath?V.beginPath():b=!0,eJ(R)&&(R=R._as),(Q=eJ(Q)?Q._as:Q)&&Q.length){for(var A,c,f,S,F=0,D=0,P=Q.length;D<P;D++)1===(A=Q[D])?(c=R[F++],V.moveTo(c.x,b?-c.y:c.y)):2===A?(c=R[F++],V.lineTo(c.x,b?-c.y:c.y)):3===A?(c=R[F++],f=R[F++],V.quadraticCurveTo(c.x,b?-c.y:c.y,f.x,b?-f.y:f.y)):4===A?(c=R[F++],f=R[F++],S=R[F++],V.bezierCurveTo(c.x,b?-c.y:c.y,f.x,b?-f.y:f.y,S.x,b?-S.y:S.y)):5===A&&V.closePath();X&&5!==A&&V.closePath()}else{var N,q,L,e=R.length;if(0<e){for(N=R[0],V.moveTo(N.x,b?-N.y:N.y),q=1;q<e;q++)L=R[q],V.lineTo(L.x,b?-L.y:L.y);X&&V.closePath()}}},d2=function(V,R,Q,X){if(eJ(V)&&(V=V._as),(R=eJ(R)?R._as:R)&&R.length){Q=Q||us;for(var b,A,c,f,S,F,D,P,N=[],q=q8,L=0,e=0,J=R.length;e<J;e++)if(1===(b=R[e]))N.push(q=[]),q.push(V[L++]);else if(2===b)q.push(V[L++]);else if(3===b){for(A=q[q.length-1],c=V[L++],f=V[L++],F=1;F<Q;F++)D=CJ(F/Q,A.x,c.x,f.x),P=CJ(F/Q,A.y,c.y,f.y),q.push({x:D,y:P,b:!0});q.push(f)}else if(4===b){for(A=q[q.length-1],c=V[L++],f=V[L++],S=V[L++],F=1;F<Q;F++)D=vJ(F/Q,A.x,c.x,f.x,S.x),P=vJ(F/Q,A.y,c.y,f.y,S.y),q.push({x:D,y:P,b:!0});q.push(S)}else 5===b&&q.push(q[0]);return X&&5!==b&&q&&2<q.length&&q.push(q[0]),N}return X&&2<V.length&&(V=V.slice()).push(V[0]),V?[V]:[]},V4=function(V,R,Q,X,b,A){var c,f,S=X,F=(R=ws(R))[0],D=R[1],P=R[2],N=Q?(c=(R=ws(Q))[0]-F,f=R[1]-D,R[2]-P):(c=255-F,f=255-D,255-P);for(A||(A=10<X?1:.5,A=b<1?X8(A/b,2):A),V.save(),V.shadowOffsetX=0,V.shadowOffsetY=0,V.shadowBlur=0,V.shadowColor=0;0<(X-=A);){var q=D+f*(e=1-X/S),L=P+N*e,e=X8(_8(F+c*e),255),q=X8(_8(q),255),L=X8(_8(L),255);V.strokeStyle="rgb("+e+","+q+","+L+")",V.lineWidth=X,V.stroke()}V.restore()},R4=(i={},function(V,R){var Q=V+"-"+R;if(A=i[Q])return A;var X,b,A=ws(V),c=R<0?(X=_8(A[0]*(R=(100+R)/100)),b=_8(A[1]*R),_8(A[2]*R)):(X=A[0],b=A[1],c=A[2],b+=(255-b)*(R/=100),c+=(255-c)*R,X=X8(_8(X+=(255-X)*R),255),b=X8(_8(b),255),X8(_8(c),255));return i[Q]="rgb("+X+","+b+","+c+")"}),Q4=function(V,R,Q,X,b,A){A&&(V.fillStyle=A),V.beginPath(),V.rect(R,Q,X,b),V.fill()},X4=function(V,R,Q,X,b,A,c){V.beginPath(),l4[R](V,Q.x,Q.y,Q.width,Q.height,X,b,A,c)},b4=function(V,R,Q,X,b){Q=l4[Q],V.fillStyle=Q?Q(V,R,X||C4,b.x,b.y,b.width,b.height):R},A4=function(V,R,Q,X,b,A,c,f,S){V.fillStyle=f4(V,R,Q,X,b,A,c,f,S)},c4=function(V,R,Q,X,b,A,c,f,S){V.strokeStyle=f4(V,R,Q,X,b,A,c,f,S)},f4=function(V,R,Q,X,b,A,c,f,S){var F,D,P,N,q,L,e,J,s,l,H,K,y,t;try{!R.tagName&&R.comps&&(R._cacheImage_||(R._cacheImage_={}),D="override"===X?"colors_override":"override_rgb"===X?"colors_override_rgb":"override_a"===X?"colors_override_a":"colors",R._cacheImage_[D]||(R._cacheImage_[D]={__count__:0}),(P=R._cacheImage_[D][Q])||(R._cacheImage_[D].__count__>L8.imageCacheThreshold&&(R._cacheImage_[D]={__count__:0}),P=I.Default.toCanvas(R,s_(R),l_(R),null,b,A,Q,null,X),R._cacheImage_[D][Q]=P,R._cacheImage_[D].__count__++),R=P),(F=V.createPattern(R,"repeat")).setTransform&&f&&c&&(S=S||0,N=new Qf,L=s_(R),e=l_(R),J=f.width/2,s=f.height/2,"uniform"===c?(l=f.width/L,H=f.height/e,K=1,y=f.x,t=f.y,l<H?(K=l,t+=(f.height-e*K)/2,s=e*K/2):(K=H,y+=(f.width-L*K)/2,J=L*K/2),N.appendTranslate(y+J,t+s).appendRotate(S).appendTranslate(-J,-s).appendScale(K,K),q=[K,0,0,K,y,t]):"fill"===c?(N.appendTranslate(f.x+J,f.y+s).appendRotate(S).appendTranslate(-J,-s).appendScale(f.width/L,f.height/e),q=[f.width/L,0,0,f.height/e,f.x,f.y]):"centerUniform"===c&&(J=L/2,s=e/2,N.appendTranslate(f.x+(f.width-L)/2+J,f.y+(f.height-e)/2+s).appendRotate(S).appendTranslate(-J,-s),q=[1,0,0,1,f.x+(f.width-L)/2,f.y+(f.height-e)/2]),(q=N.toArray())&&F.setTransform(new DOMMatrix(q)))}catch(V){F="black"}return F},S4=function(V){for(var R,Q=[],X=0,b=V.length,A=0;A<65;A++)Q[A]=A;for(A=0;A<65;A++)X=(X+Q[A]+V.charCodeAt(A%b))%65,R=Q[A],Q[A]=Q[X],Q[X]=R;for(A=0;A<65;A++)Q[A]=Zc[Q[A]];return Q.join("")},F4=function(V,R,Q,X,b,A,c){V.save(),V.translate(R,Q),V.scale(1,c/A),V.arc(0,0,A,X,b),V.restore()},D4=function(V,R,Q,X,b,A,c,f,S){6===arguments.length&&(H8(A)?(f=A[1],S=A[2],c=A[3],A=A[0]):S=f=c=A);var F=R+X,D=Q+b,P=X<b?2*X:2*b;A=A<P?A:P,c=c<P?c:P,f=f<P?f:P,S=S<P?S:P,V.roundRect?V.roundRect(R,Q,X,b,[A,c,S,f]):(V.moveTo(R+X/2,Q),V.arcTo(F,Q,F,D,c),V.arcTo(F,D,R,D,S),V.arcTo(R,D,R,Q,f),V.arcTo(R,Q,F,Q,A),V.lineTo(R+X/2,Q))},P4=function(V,R,Q,X,b,A,c){R&&(Q=u8(Q),X=u8(X),c=c||1,V.fillStyle=R,V.beginPath(),V.rect(Q,X,c,A),V.rect(Q,X,b,c),0<A-c&&V.rect(Q,X+A-c,b,c),0<b-c&&V.rect(Q+b-c,X,c,A),V.fill())},N4=function(V,R,Q,X){var b,A,c,f,S=X.x,F=X.y,D=X.width,X=X.height;!R||!Q||D<=0||X<=0||(b=Vs(R),A=Rs(R),c=0<Q,1===Q||-1===Q?(V.fillStyle=c?b:A,V.beginPath(),V.rect(S,F,1,X),V.rect(S,F,D,1),V.fill(),V.fillStyle=c?A:b,V.beginPath(),V.rect(S,F+X-1,D,1),V.rect(S+D-1,F,1,X)):(Q=X8(w8(Q),X8(D/2,X/2)),(f=V.createLinearGradient(S,F,S+Q,F)).addColorStop(0,c?b:A),f.addColorStop(1,R),V.fillStyle=f,V.beginPath(),V.moveTo(S,F),V.lineTo(S+Q,F+Q),V.lineTo(S+Q,F+X-Q),V.lineTo(S,F+X),V.lineTo(S,F),V.fill(),(f=V.createLinearGradient(S,F,S,F+Q)).addColorStop(0,c?b:A),f.addColorStop(1,R),V.fillStyle=f,V.beginPath(),V.moveTo(S,F),V.lineTo(S+Q,F+Q),V.lineTo(S+D-Q,F+Q),V.lineTo(S+D,F),V.lineTo(S,F),V.fill(),(f=V.createLinearGradient(S,F+X,S,F+X-Q)).addColorStop(0,c?A:b),f.addColorStop(1,R),V.fillStyle=f,V.beginPath(),V.moveTo(S,F+X),V.lineTo(S+Q,F+X-Q),V.lineTo(S+D-Q,F+X-Q),V.lineTo(S+D,F+X),V.lineTo(S,F+X),V.fill(),(f=V.createLinearGradient(S+D,F,S+D-Q,F)).addColorStop(0,c?A:b),f.addColorStop(1,R),V.fillStyle=f,V.beginPath(),V.moveTo(S+D,F),V.lineTo(S+D-Q,F+Q),V.lineTo(S+D-Q,F+X-Q),V.lineTo(S+D,F+X),V.lineTo(S+D,F)),V.fill())},q4=function(V,R,Q,X,b,A,c){return(V=V.createLinearGradient(X,b,A,c)).addColorStop(0,Q),V.addColorStop(1,R),V},L4=function(V,R,Q,X,b,A,c){return(V=V.createLinearGradient(X,b,A,c)).addColorStop(0,R),V.addColorStop(.5,Q),V.addColorStop(1,R),V},e4=function(V,R,Q,X,b,A,c){return(V=V.createLinearGradient(X,b,A,c)).addColorStop(0,R),V.addColorStop(1/3,Q),V.addColorStop(2/3,R),V.addColorStop(1,Q),V},J4=function(V,R,Q,X,b,A,c,f,S){return(V=V.createRadialGradient(X+A*f,b+c*S,X8(A,c)/24,X+A/2,b+c/2,Q8(A,c)/2)).addColorStop(0,Q),V.addColorStop(1,R),V},s4=[0,-1,.22451398828979272,-.30901699437494734,.9510565162951535,-.30901699437494745,.3632712640026804,.11803398874989468,.5877852522924731,.8090169943749473,-11102230246251565e-32,.38196601125010515,-.587785252292473,.8090169943749475,-.3632712640026805,.1180339887498949,-.9510565162951536,-.3090169943749473,-.22451398828979285,-.30901699437494734],l4={polygon:function(V,R,Q,X,b,A,c,f){(A==q8||A<3)&&(A=6),c==q8&&(c=0),f==q8&&(f=!0);var S=X8(X,b),F=S/2,D=new W(R+X/2,Q+b/2),P=new W,N=0,q=2*w/A,L=new W(F,F);if(!1===f&&L.multiply({x:X/S,y:b/S}),0===c)for(J=0;J<A;J++)P.set(e8(N),J8(N)).multiply(L).add(D),0===J?V.moveTo(P.x,P.y):V.lineTo(P.x,P.y),N+=q;else{for(var e=[],J=0;J<A;J++)e.push(new W(e8(N),J8(N)).multiply(L).add(D)),N+=q;var s=e[e.length-1],l=e[0],R=e[1],H=s.clone().sub(l),Q=R.clone().sub(l),F=H.normalize().dot(Q.normalize()),f=Math.sqrt((1-F)/(1+F));for(H.setLength(c/f).add(l),V.moveTo(H.x,H.y);e.length;)s=e.shift(),l=e[0]||H,V.arcTo(s.x,s.y,l.x,l.y,c)}V.closePath()},nStar:function(V,R,Q,X,b,A,c,f,S){(A==q8||A<3)&&(A=8),c==q8&&(c=0),S==q8&&(S=!0),f==q8?f=.382:f<.05?f=.05:1<f&&(f=1);var F=X8(X,b),D=F/2,P=new W(R+X/2,Q+b/2),N=new W,q=-w/2,L=2*w/A,e=L/2,J=new W(D,D);if(!1===S&&J.multiply({x:X/F,y:b/F}),0===c)for(l=0;l<A;l++)N.set(e8(q),J8(q)).multiply(J).add(P),0===l?V.moveTo(N.x,N.y):V.lineTo(N.x,N.y),N.set(e8(q+e),J8(q+e)).multiply(J).multiplyScalar(f).add(P),V.lineTo(N.x,N.y),q+=L;else{for(var s=[],l=0;l<A;l++)s.push(new W(e8(q-e),J8(q-e)).multiply(J).multiplyScalar(f).add(P)),s.push(new W(e8(q),J8(q)).multiply(J).add(P)),q+=L;var H=s[s.length-1],K=s[0],R=s[1],y=H.clone().sub(K),Q=R.clone().sub(K),D=y.normalize().dot(Q.normalize()),S=Math.sqrt((1-D)/(1+D));for(y.setLength(c/S).add(K),V.moveTo(y.x,y.y);s.length;)H=s.shift(),K=s[0]||y,V.arcTo(H.x,H.y,K.x,K.y,c)}V.closePath()},arc:function(V,R,Q,X,b,A,c,f,S){A==q8&&(A=w),c==q8&&(c=s8),R+=X/2,Q+=b/2,(f=f==q8||f)&&V.moveTo(R,Q),S?F4(V,R,Q,A,c,X/2,b/2):V.arc(R,Q,X8(X,b)/2,A,c),f&&V.closePath()},rect:function(V,R,Q,X,b){V.rect(R,Q,X,b)},circle:function(V,R,Q,X,b){V.arc(R+X/2,Q+b/2,X8(X,b)/2,0,s8,!0)},oval:function(V,R,Q,X,b){F4(V,R+X/2,Q+b/2,0,s8,X/2,b/2)},roundRect:function(V,R,Q,X,b,A){A==q8&&(A=X8(X8(X,b)/4,8)),D4(V,R,Q,X,b,A),V.closePath()},star:function(V,R,Q,X,b){var A=2*X,c=2*b,f=R+X/2,S=Q+b/2;V.moveTo(f-A/4,S-c/12),V.lineTo(R+.306*X,Q+.579*b),V.lineTo(f-A/6,S+c/4),V.lineTo(R+X/2,Q+.733*b),V.lineTo(f+A/6,S+c/4),V.lineTo(R+.693*X,Q+.579*b),V.lineTo(f+A/4,S-c/12),V.lineTo(R+.611*X,Q+.332*b),V.lineTo(f+0,S-c/4),V.lineTo(R+.388*X,Q+.332*b),V.closePath()},pentagram:function(V,R,Q,X,b){var A=R+.5*X,c=Q+(b=.5*b),f=.5257311121191336*X,S=s4,F=0;for(V.moveTo(A+(f=b<f?b:f)*S[F++],c+f*S[F++]);F<20;)V.lineTo(A+f*S[F++],c+f*S[F++]);V.closePath()},triangle:function(V,R,Q,X,b){V.moveTo(R+X/2,Q),V.lineTo(R+X,Q+b),V.lineTo(R,Q+b),V.closePath()},hexagon:function(V,R,Q,X,b){V.moveTo(R,Q+b/2),V.lineTo(R+X/4,Q+b),V.lineTo(R+3*X/4,+Q+b),V.lineTo(R+X,Q+b/2),V.lineTo(R+3*X/4,Q),V.lineTo(R+X/4,Q),V.closePath()},pentagon:function(V,R,Q,X,b){var A=2*X,c=2*b,R=R+X/2,X=Q+b/2;V.moveTo(R-A/4,X-c/12),V.lineTo(R-A/6,X+c/4),V.lineTo(R+A/6,X+c/4),V.lineTo(R+A/4,X-c/12),V.lineTo(R+0,X-c/4),V.closePath()},diamond:function(V,R,Q,X,b){V.moveTo(R+X/2,Q),V.lineTo(R,Q+b/2),V.lineTo(R+X/2,Q+b),V.lineTo(R+X,Q+b/2),V.closePath()},rightTriangle:function(V,R,Q,X,b){V.moveTo(R,Q),V.lineTo(R+X,Q+b),V.lineTo(R,Q+b),V.closePath()},parallelogram:function(V,R,Q,X,b){var A=X/4;V.moveTo(R+A,Q),V.lineTo(R+X,Q),V.lineTo(R+X-A,Q+b),V.lineTo(R,Q+b),V.closePath()},trapezoid:function(V,R,Q,X,b){var A=X/4;V.moveTo(R+A,Q),V.lineTo(R+X-A,Q),V.lineTo(R+X,Q+b),V.lineTo(R,Q+b),V.closePath()},"linear.southwest":function(V,R,Q,X,b,A,c){return q4(V,R,Q,X,b+c,X+A,b)},"linear.southeast":function(V,R,Q,X,b,A,c){return q4(V,R,Q,X+A,b+c,X,b)},"linear.northwest":function(V,R,Q,X,b,A,c){return q4(V,R,Q,X,b,X+A,b+c)},"linear.northeast":function(V,R,Q,X,b,A,c){return q4(V,R,Q,X+A,b,X,b+c)},"linear.north":function(V,R,Q,X,b,A,c){return q4(V,R,Q,X,b,X,b+c)},"linear.south":function(V,R,Q,X,b,A,c){return q4(V,R,Q,X,b+c,X,b)},"linear.west":function(V,R,Q,X,b,A,c){return q4(V,R,Q,X,b,X+A,b)},"linear.east":function(V,R,Q,X,b,A,c){return q4(V,R,Q,X+A,b,X,b)},"radial.center":function(V,R,Q,X,b,A,c){return J4(V,R,Q,X,b,A,c,.5,.5)},"radial.southwest":function(V,R,Q,X,b,A,c){return J4(V,R,Q,X,b,A,c,.25,.75)},"radial.southeast":function(V,R,Q,X,b,A,c){return J4(V,R,Q,X,b,A,c,.75,.75)},"radial.northwest":function(V,R,Q,X,b,A,c){return J4(V,R,Q,X,b,A,c,.25,.25)},"radial.northeast":function(V,R,Q,X,b,A,c){return J4(V,R,Q,X,b,A,c,.75,.25)},"radial.north":function(V,R,Q,X,b,A,c){return J4(V,R,Q,X,b,A,c,.5,.25)},"radial.south":function(V,R,Q,X,b,A,c){return J4(V,R,Q,X,b,A,c,.5,.75)},"radial.west":function(V,R,Q,X,b,A,c){return J4(V,R,Q,X,b,A,c,.25,.5)},"radial.east":function(V,R,Q,X,b,A,c){return J4(V,R,Q,X,b,A,c,.75,.5)},"spread.horizontal":function(V,R,Q,X,b,A,c){return L4(V,R,Q,X,b,X+A,b)},"spread.vertical":function(V,R,Q,X,b,A,c){return L4(V,R,Q,X,b,X,b+c)},"spread.diagonal":function(V,R,Q,X,b,A,c){return L4(V,R,Q,X+A,b,X,b+c)},"spread.antidiagonal":function(V,R,Q,X,b,A,c){return L4(V,R,Q,X,b,X+A,b+c)},"spread.north":function(V,R,Q,X,b,A,c){return e4(V,R,Q,X,b-c/4,X,b+c+c/4)},"spread.south":function(V,R,Q,X,b,A,c){return e4(V,Q,R,X,b-c/4,X,b+c+c/4)},"spread.west":function(V,R,Q,X,b,A,c){return e4(V,R,Q,X-A/4,b,X+A+A/4,b)},"spread.east":function(V,R,Q,X,b,A,c){return e4(V,Q,R,X-A/4,b,X+A+A/4,b)}},H4=function(V,R,Q){return new Qf(V).tf(R,Q)},K4=function(V){var R=V.touches[0],V=V.touches[1],Q=R.clientX,R=R.clientY,X=V.clientX,V=V.clientY;return O8((Q-X)*(Q-X)+(R-V)*(R-V))},y4=(function(){for(var V=0,R=mA.split(""),Q=0;Q<R.length;Q++)V=10*C8(R[Q])+V;for(var X,b,A,c,f,S=j[573..toString(8*Q)+$R.substr(Q)+3],F=j[573..toString(8*Q)+$R.substr(Q)+4],D=q8||4,P=q8||1,N=q8||1,q=(D<0?D=0:.25<D&&(D=.25),[]),L=[],e=[],J=s8/N,s=s8/P,l=.5-D,H=0;H<=P;H++)for(c=e8(b=H*s-w),A=J8(b),t=0;t<=N;t++)f=l+D*c,q.push(e8(X=t*J)*f,A*D,-J8(X)*f),L.push(t/N,1-H/P);for(H=0;H<P;H++)for(var K=H*(N+1),y=(H+1)*(N+1),t=0;t<N;t++)e.push(K+t,y+t+1,y+t,K+t,K+t+1,y+t+1),vJ.z=B2.z=[S,F]}(),function(V,R,Q){for(var X=0;X<Q.size();X++){var b=Q.get(X);V.co(b)&&R.add(b)}for(X=0;X<Q.size();X++)b=Q.get(X),y4(V,R,b._children)}),t4=function(V,R,Q){for(var X=0;X<Q.size();X++){var b=Q.get(Q.size()-1-X);V.co(b)&&R.add(b)}for(X=0;X<Q.size();X++)b=Q.get(X),t4(V,R,b._children)},g4=function(V,R,Q){for(var X=!1,b=0;b<Q.size();b++){var A=Q.get(b);V.co(A)?X&&R.add(A):X=1}for(b=0;b<Q.size();b++)A=Q.get(b),g4(V,R,A._children)},m4=function(V,R,Q){for(var X=!1,b=0;b<Q.size();b++){var A=Q.get(Q.size()-1-b);V.co(A)?X&&R.add(A):X=!0}for(b=0;b<Q.size();b++)A=Q.get(b),m4(V,R,A._children)},z4=L8.moveDatas=function(V,X,b,A){var R,Q,c,f,S,F,D,P=A==q8;0===X&&0===b&&(P||0===A)||(R=!0,Q=[],V.forEach(function(V){R&&(V._69O||sJ(V)||HJ(V))&&(R=!1)}),R?Q=V:(c={},f={},V.forEach(function(V){c[V._id]=!0}),S={},F=function(V){var R=V._id;return c[R]?(Q.push(V),S[R]=!0):S[R]=!1},D=function(V){var R=V._id;if(f[R])return F(V);var Q=S[R];if(Q!==N8)return Q;var X=V._parent;return X&&(HJ(X)||sJ(X))&&D(X)||(X=V._host)&&(f[R]=R,Q=D(X),f[R]=N8,Q)?S[R]=!0:F(V)},V.forEach(function(V){D(V)})),Q.forEach(function(V){var R,Q;r(V)?P?V.translate(X,b):V.translate3d(X,b,A):(R=V.s(kR))&&!R.isEmpty()&&(Q=new Z,R.each(function(V){V=Bf(V),P?(V.x+=X,V.y+=b):(V.x+=X,V.y+=A,V.e==q8?V.e=b:V.e+=b),Q.add(V)}),V.s(kR,Q))}))},Y4=function(V,R){var Q,X;if(V=V.parentElement)return V.updateAppendMatrix&&(delete V.updateAppendMatrix,function V(R,Q){$||($=new y8,x=new K8,G=new y8,d=new y8,V8=new y8),Q==N8&&(Q=new y8);for(var X,b=getComputedStyle(R),A=(!Z8&&b.perspective&&"none"!==b.perspective&&(G.el[11]=-1/sm(b.perspective),lm(b.perspectiveOrigin,x),d.setPosition(x),x.negate(),V8.setPosition(x),Q.multiplyMatrices(V8,Q),Q.multiplyMatrices(G,Q),Q.multiplyMatrices(d,Q)),b.transform&&"none"!==b.transform&&(c=b.transform,(X=$)==N8&&(X=new y8),Jm(c,"matrix3d")?(f=(f=c.substring(9,c.length-1).split(",")).map(sm),X.fromArray(f)):Jm(c,"matrix")&&(f=(f=c.substring(7,c.length-1).split(",")).map(sm),X.el[0]=f[0],X.el[1]=f[1],X.el[2]=0,X.el[3]=0,X.el[4]=f[2],X.el[5]=f[3],X.el[6]=0,X.el[7]=0,X.el[8]=0,X.el[9]=0,X.el[10]=1,X.el[11]=0,X.el[12]=f[4],X.el[13]=f[5],X.el[14]=0,X.el[15]=1),lm(b.transformOrigin,x),d.setPosition(x),x.negate(),V8.setPosition(x),!Z8&&"preserve-3d"===b.transformStyle||($.el[8]=0,$.el[9]=0,$.el[10]=1,$.el[11]=0),Q.multiplyMatrices(V8,Q),Q.multiplyMatrices($,Q),Q.multiplyMatrices(d,Q)),R.offsetParent),c=R.offsetLeft,f=R.offsetTop,S=R.parentElement;S&&S!==A;){var F=getComputedStyle(S);if("none"!==F.transform||"none"!==F.perspective||1!==Hm(F))break;S=S.parentElement}S==N8&&R!==R.ownerDocument.documentElement&&"fixed"!==b.position&&(S=R.ownerDocument.documentElement),A!=N8&&A!=S&&(c-=S.offsetLeft,f-=S.offsetTop),S&&(c-=S.scrollLeft,f-=S.scrollTop),x.set(c,f,0),d.setPosition(x),Q.multiplyMatrices(d,Q),L8.ignoreHTMLZoom&&R===R.ownerDocument.documentElement||1!==(X=Hm(b))&&Q.prependScale({x:X,y:X,z:1}),S&&V(S,Q)}(V,Q=new y8),(X=new y8).getInverse(Q),V._matrixAppend=X,V._maxrixPreAppend=Q),R?V._matrixAppend:V._maxrixPreAppend},u4=v.getPrototypeOf?function(V,R,Q){(R=function(V,R){for(;V&&!V.hasOwnProperty(R);)V=v.getPrototypeOf(V);return V&&v.getOwnPropertyDescriptor(V,R)}(R,Q))&&v.defineProperty(V,Q,R)}:function(V,R,Q){V[Q]=R[Q]},o4={1:29,2:30,3:31,4:32,5:33,6:26,7:27,8:28,9:21,10:22,11:23,12:24,13:25,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:9,22:10,23:11,24:12,25:13,26:6,27:7,28:8,29:1,30:2,31:3,32:4,33:5,34:36,35:37,36:34,37:35,38:54,39:55,40:52,41:53,42:50,43:51,44:49,50:42,51:43,52:40,53:41,54:38,55:39},_4=function(){var X={1:function(V,R){return{x:V.x-R.width/2,y:V.y-R.height/2}},2:function(V,R){return{x:V.x+R.width/2,y:V.y-R.height/2}},3:function(V,R){return{x:V.x+V.width/2,y:V.y-R.height/2}},4:function(V,R){return{x:V.x+V.width-R.width/2,y:V.y-R.height/2}},5:function(V,R){return{x:V.x+V.width+R.width/2,y:V.y-R.height/2}},6:function(V,R){return{x:V.x,y:V.y}},7:function(V,R){return{x:V.x+V.width/2,y:V.y}},8:function(V,R){return{x:V.x+V.width,y:V.y}},9:function(V,R){return{x:V.x-R.width/2,y:V.y+R.height/2}},10:function(V,R){return{x:V.x+R.width/2,y:V.y+R.height/2}},11:function(V,R){return{x:V.x+V.width/2,y:V.y+R.height/2}},12:function(V,R){return{x:V.x-R.width/2+V.width,y:V.y+R.height/2}},13:function(V,R){return{x:V.x+V.width+R.width/2,y:V.y+R.height/2}},14:function(V,R){return{x:V.x-R.width/2,y:V.y+V.height/2}},15:function(V,R){return{x:V.x,y:V.y+V.height/2}},16:function(V,R){return{x:V.x+R.width/2,y:V.y+V.height/2}},17:function(V,R){return{x:V.x+V.width/2,y:V.y+V.height/2}},18:function(V,R){return{x:V.x+V.width-R.width/2,y:V.y+V.height/2}},19:function(V,R){return{x:V.x+V.width,y:V.y+V.height/2}},20:function(V,R){return{x:V.x+V.width+R.width/2,y:V.y+V.height/2}},21:function(V,R){return{x:V.x-R.width/2,y:V.y+V.height-R.height/2}},22:function(V,R){return{x:V.x+R.width/2,y:V.y+V.height-R.height/2}},23:function(V,R){return{x:V.x+V.width/2,y:V.y+V.height-R.height/2}},24:function(V,R){return{x:V.x+V.width-R.width/2,y:V.y+V.height-R.height/2}},25:function(V,R){return{x:V.x+V.width+R.width/2,y:V.y+V.height-R.height/2}},26:function(V,R){return{x:V.x,y:V.y+V.height}},27:function(V,R){return{x:V.x+V.width/2,y:V.y+V.height}},28:function(V,R){return{x:V.x+V.width,y:V.y+V.height}},29:function(V,R){return{x:V.x-R.width/2,y:V.y+V.height+R.height/2}},30:function(V,R){return{x:V.x+R.width/2,y:V.y+V.height+R.height/2}},31:function(V,R){return{x:V.x+V.width/2,y:V.y+V.height+R.height/2}},32:function(V,R){return{x:V.x+V.width-R.width/2,y:V.y+V.height+R.height/2}},33:function(V,R){return{x:V.x+V.width+R.width/2,y:V.y+V.height+R.height/2}},34:function(V,R){return{x:V.x,y:V.y-R.height/2}},35:function(V,R){return{x:V.x+V.width,y:V.y-R.height/2}},36:function(V,R){return{x:V.x,y:V.y+V.height+R.height/2}},37:function(V,R){return{x:V.x+V.width,y:V.y+V.height+R.height/2}},38:function(V,R){return{x:V.x+V.width/4,y:V.y-R.height/2}},39:function(V,R){return{x:V.x+3*V.width/4,y:V.y-R.height/2}},40:function(V,R){return{x:V.x+V.width/4,y:V.y}},41:function(V,R){return{x:V.x+3*V.width/4,y:V.y}},42:function(V,R){return{x:V.x+V.width/4,y:V.y+R.height/2}},43:function(V,R){return{x:V.x+3*V.width/4,y:V.y+R.height/2}},44:function(V,R){return{x:V.x+V.width/2,y:V.y+V.height/2-R.height/2}},45:function(V,R){return{x:V.x+V.width/4,y:V.y+V.height/2}},46:function(V,R){return{x:V.x+V.width/2-R.width/2,y:V.y+V.height/2}},47:function(V,R){return{x:V.x+V.width/2+R.width/2,y:V.y+V.height/2}},48:function(V,R){return{x:V.x+3*V.width/4,y:V.y+V.height/2}},49:function(V,R){return{x:V.x+V.width/2,y:V.y+V.height/2+R.height/2}},50:function(V,R){return{x:V.x+V.width/4,y:V.y+V.height-R.height/2}},51:function(V,R){return{x:V.x+3*V.width/4,y:V.y+V.height-R.height/2}},52:function(V,R){return{x:V.x+V.width/4,y:V.y+V.height}},53:function(V,R){return{x:V.x+3*V.width/4,y:V.y+V.height}},54:function(V,R){return{x:V.x+V.width/4,y:V.y+V.height+R.height/2}},55:function(V,R){return{x:V.x+3*V.width/4,y:V.y+V.height+R.height/2}}};if(function(V){var R,Q=0;for(R in V)2===R.length&&573===C8(R,32)&&(Ue=V[R]),Q++;return Q}(j))return function(V,R,Q){return X[V](R,Q||ke)}}(),O4=(mJ(u,{highlight:"#1ABC9C",label:"#000",labelSelect:"#FFF",transparent:"rgba(0,0,0,0.35)",titleBackground:"#2C3E50",titleIconBackground:"#868686",headerBackground:"#ECF0F1",headerIconBackground:"#868686",headerSeparator:"#868686",headerLine:"#D9D9D9",background:"#FFF",disabledBackground:"rgba(255,255,255,0.65)",toolTipBackground:"#FFFFE0",rectSelectBorder:"#45C4F9",rectSelectBackground:"rgba(0,0,0,0.35)",editPointBorder:"#2C3E50",editPointBackground:"#D9D9D9",dash:"#2C3E50",groupBackground:"#ECF0F1",groupTitleBackground:"#2C3E50",gridBackground:"#D9D9D9",gridCellBorderColor:"#868686",gridBlockColor:"#868686",reverse:"#868686",contentIconBackground:"#868686",contentLine:"#D9D9D9",widgetBackground:"#ECF0F1",widgetBorder:"#D9D9D9",widgetIconBackground:"#868686",widgetIconBorder:"#868686",widgetIconGradient:"#D9D9D9",widgetIconHighlight:"#43AFF1",imageBackground:"#3498DB",imageGradient:"#FFF",chart:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"]},!0),u.reverse),P=u.transparent,B8=u.rectSelectBackground,w4=u.dash,g=u.titleBackground,a4=u.titleIconBackground,i4=u.headerBackground,n4=u.headerIconBackground,M4=u.headerSeparator,r4=u.headerLine,E4=u.contentIconBackground,$4=u.contentLine,j4=(u.widgetIconHighlight,u.widgetIconBorder),L=(u.widgetIconGradient,u.imageBackground),C4=u.imageGradient,v4=u.highlight,h4=u.label,T4=u.labelSelect;Math.sign===N8&&(Math.sign=function(V){return V<0?-1:0<V?1:+V});var I4,Z4,k4,x4,B4,G4,d4,VT,RT,QT,XT,bT,AT,cT,fT,ST,FT,DT,PT,NT,qT,LT,eT,JT,sT,lT,HT,KT,yT,tT,gT,mT,zT,YT,uT,oT,_T,OT,wT,aT,iT,nT,MT,rT,ET,$T,jT,CT,vT,hT,TT,WT,UT,pT,IT,ZT,kT,xT,BT,GT,dT,Vj,Rj,Qj,Xj,bj,Aj,cj,fj,Sj,Fj,Dj,Pj,Nj,qj,Lj,ej,Jj,sj,lj,Hj,Kj,yj,h,tj,gj,mj,zj,Yj,uj,T,oj,_j,Oj,wj,aj,ij,nj,Mj,rj,Ej,$j,jj,Cj,vj,hj,Tj,Wj,Uj,pj,Ij,Zj,kj,xj,Bj,Gj,dj,Vc,Rc,Qc,Xc,bc,Ac,cc,fc,Sc,Fc,Dc,Pc,Nc,qc,Lc,ec,Jc,sc,lc,Hc,Kc,yc,tc,gc,mc,zc,Yc,uc,oc,_c,Oc,wc,ac,ic,nc,Mc,rc,Ec,$c,jc,Cc,vc,hc,Tc,Wc,Uc,pc,Ic,Zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",kc=function(V,R){var Q,X,b,A,c,f,S="",F=0;for(V=unescape(encodeURIComponent(V));F<V.length;)b=(Q=V.charCodeAt(F++))>>2,A=(3&Q)<<4|(Q=V.charCodeAt(F++))>>4,c=(15&Q)<<2|(X=V.charCodeAt(F++))>>6,f=63&X,isNaN(Q)?c=f=64:isNaN(X)&&(f=64),S=S+R.charAt(b)+R.charAt(A)+R.charAt(c)+R.charAt(f);return S},xc=function(V,R,Q){for(var X,b,A,c,f,S,F="",D=Q||0;D<V.length;)A=R.indexOf(V.charAt(D++)),X=(15&(c=R.indexOf(V.charAt(D++))))<<4|(f=R.indexOf(V.charAt(D++)))>>2,b=(3&f)<<6|(S=R.indexOf(V.charAt(D++))),F+=String.fromCharCode(A<<2|c>>4),64!=f&&(F+=String.fromCharCode(X)),64!=S&&(F+=String.fromCharCode(b));return decodeURIComponent(escape(F))},Bc=[],Gc=[],dc={},B=I.Math={generateUUID:function(){for(var b=[],V=0;V<256;V++)b[V]=(V<16?"0":"")+V.toString(16).toUpperCase();return function(){var V=4294967295*Math.random()|0,R=4294967295*Math.random()|0,Q=4294967295*Math.random()|0,X=4294967295*Math.random()|0;return b[255&V]+b[V>>8&255]+b[V>>16&255]+b[V>>24&255]+"-"+b[255&R]+b[R>>8&255]+"-"+b[R>>16&15|64]+b[R>>24&255]+"-"+b[63&Q|128]+b[Q>>8&255]+"-"+b[Q>>16&255]+b[Q>>24&255]+b[255&X]+b[X>>8&255]+b[X>>16&255]+b[X>>24&255]}}(),clamp:function(V,R,Q){return Math.max(R,Math.min(Q,V))},fequal:function(V,R,Q){return null==Q&&(Q=1e-8),Math.abs(V-R)<Q},generateIncreasingID:(I4=0,function(){return++I4}),newIdGenerator:function(){var V=0;return{next:function(){return++V}}},encodeBase64:function(V,R){return kc(V,R||Zc)},decodeBase64:function(V,R){return xc(V,R||Zc)},randomArray:function(V,R){for(var Q=(R=R||V.length)-1;0<Q;Q--){var X=Math.floor(Math.random()*(Q+1)),b=V[Q];V[Q]=V[X],V[X]=b}return V},randomInt:function(V,R){return R===N8&&(R=V,V=0),V+Math.floor(Math.random()*(R-V))},randomFloat:function(V,R){return R===N8&&(R=V,V=0),V+Math.random()*(R-V)},safeInvert:function(V){return V?1/V:0},modToPositive:function(V,R){return(V%=R)<0&&(V+=R),V},roundFloat:function(V,R){return R=1===R?10:2==R?100:3==R||R==q8?1e3:Math.pow(10,R),Math.round(V*R)/R},angleMod:function(V){return(V%=s8)<-w&&(V+=s8),w<V&&(V-=s8),V},isPOT:function(V){return 0<V&&0==(V-1&V)},nearestPOT:function(V){if(!V)return 1;var R=V,Q=(R--,R=(R=(R=(R=(R|=R>>1)|R>>2)|R>>4)|R>>8)|R>>16,++R>>1);return R-V<V-Q?R:Q},requestMatrix4:function(){return 0<Bc.length?Bc.pop():new B.Matrix4},releaseMatrix4:function(V){Bc.push(V)},requestVector3:function(){return 0<Gc.length?Gc.pop():new B.Vector3},releaseVector3:function(V){Gc.push(V)},requestFloat32Array:function(V){var R=dc[V];return R&&R.length?R.pop():new Float32Array(V)},releaseFloat32Array:function(V){var R,Q;V&&(R=V.length)&&((Q=dc[R])?Q.push(V):dc[R]=[V])}},Vf=function(V,R,Q){var X=V[R];return X?X.length!=Q?(B.releaseFloat32Array(X),V[R]=B.requestFloat32Array(Q)):X:V[R]=B.requestFloat32Array(Q)},Rf=I.Matrix=I.Math.Matrix2d=function(V,R,Q,X,b){this.setFromTransform(V,R,Q,X,b)},Qf=Rf,Xf=(((Rf.prototype={}).constructor=Rf).prototype.set=function(V,R,Q,X,b,A){return this.a=V,this.b=R,this.c=Q,this.d=X,this.tx=b,this.ty=A,this},Rf.prototype.setFromTransform=function(V,R,Q,X,b){var A,c=this;return V===N8?(c.a=1,c.b=0,c.c=0,c.d=1,c.tx=0,void(c.ty=0)):(V=V?(A=J8(V),e8(V)):(A=0,1),b=b||1,c.a=V*(X=X||1),c.b=A*X,c.c=-A*b,c.d=V*b,c.tx=R||0,c.ty=Q||0,c)},Rf.prototype.apply=function(V,R){R=R||new W;var Q=V.x,V=V.y;return R.x=this.a*Q+this.c*V+this.tx,R.y=this.b*Q+this.d*V+this.ty,R},Rf.prototype.applyInverse=function(V,R){R=R||new W;var Q=1/(this.a*this.d+this.c*-this.b),X=V.x,V=V.y;return R.x=this.d*Q*X+-this.c*Q*V+(this.ty*this.c-this.tx*this.d)*Q,R.y=this.a*Q*V+-this.b*Q*X+(-this.ty*this.a+this.tx*this.b)*Q,R},Rf.prototype.translate=function(V,R){return this.tx+=V,this.ty+=R,this},Rf.prototype.scale=function(V,R){return this.a*=V,this.d*=R,this.c*=V,this.b*=R,this.tx*=V,this.ty*=R,this},Rf.prototype.rotate=function(V){var R=Math.cos(V),V=Math.sin(V),Q=this.a,X=this.c,b=this.tx;return this.a=Q*R-this.b*V,this.b=Q*V+this.b*R,this.c=X*R-this.d*V,this.d=X*V+this.d*R,this.tx=b*R-this.ty*V,this.ty=b*V+this.ty*R,this},Rf.prototype.appendTranslate=function(V,R){return this.tx+=this.a*V+this.c*R,this.ty+=this.b*V+this.d*R,this},Rf.prototype.appendScale=function(V,R){return this.a*=V,this.d*=R,this.c*=R,this.b*=V,this},Rf.prototype.appendRotate=function(V){if(!V)return this;var R=Math.cos(V),V=Math.sin(V),Q=this.a,X=this.b;return this.a=Q*R+this.c*V,this.b=X*R+this.d*V,this.c=-Q*V+this.c*R,this.d=-X*V+this.d*R,this},Rf.prototype.append=function(V){var R=this.a,Q=this.b,X=this.c,b=this.d;return this.a=V.a*R+V.b*X,this.b=V.a*Q+V.b*b,this.c=V.c*R+V.d*X,this.d=V.c*Q+V.d*b,this.tx=V.tx*R+V.ty*X+this.tx,this.ty=V.tx*Q+V.ty*b+this.ty,this},Rf.prototype.setTransform=function(V,R,Q,X,b,A,c,f,S){var F=Math.sin(c),c=Math.cos(c),D=Math.cos(S),S=Math.sin(S),P=-Math.sin(f),f=Math.cos(f),N=c*b,b=F*b,c=c*A;return this.a=D*N+S*(F=-F*A),this.b=D*b+S*c,this.c=P*N+f*F,this.d=P*b+f*c,this.tx=V+(Q*N+X*F),this.ty=R+(Q*b+X*c),this},Rf.prototype.prepend=function(V){var R,Q,X=this.tx;return 1===V.a&&0===V.b&&0===V.c&&1===V.d||(R=this.a,Q=this.c,this.a=R*V.a+this.b*V.c,this.b=R*V.b+this.b*V.d,this.c=Q*V.a+this.d*V.c,this.d=Q*V.b+this.d*V.d),this.tx=X*V.a+this.ty*V.c+V.tx,this.ty=X*V.b+this.ty*V.d+V.ty,this},Rf.prototype.transform=Rf.prototype.prepend,Rf.prototype.invert=function(){var V=this.a,R=this.b,Q=this.c,X=this.d,b=this.tx,A=V*X-R*Q;return this.a=X/A,this.b=-R/A,this.c=-Q/A,this.d=V/A,this.tx=(Q*this.ty-X*b)/A,this.ty=-(V*this.ty-R*b)/A,this},Rf.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},Rf.prototype.clone=function(){var V=new Rf;return V.a=this.a,V.b=this.b,V.c=this.c,V.d=this.d,V.tx=this.tx,V.ty=this.ty,V},Rf.prototype.copy=function(V){return this.a=V.a,this.b=V.b,this.c=V.c,this.d=V.d,this.tx=V.tx,this.ty=V.ty,this},Rf.prototype.tf=function(V,R){1===arguments.length&&(R=V.y,V=V.x);var Q=this;return{x:Q.a*V+Q.c*R+Q.tx,y:Q.b*V+Q.d*R+Q.ty}},Rf.prototype.toArray=function(){return[this.a,this.b,this.c,this.d,this.tx,this.ty]},Rf.prototype.fromArray=function(V){return this.a=V[0],this.b=V[1],this.c=V[2],this.d=V[3],this.tx=V[4],this.ty=V[5],this},Rf.prototype.toArray9=function(){return[this.a,this.b,0,this.c,this.d,0,this.tx,this.ty,1]},Rf.prototype.tfi=function(V,R){1===arguments.length&&(R=V.y,V=V.x);var Q=this,X=1/(Q.a*Q.d+Q.c*-Q.b);return{x:Q.d*X*V+-Q.c*X*R+(Q.ty*Q.c-Q.tx*Q.d)*X,y:Q.a*X*R+-Q.b*X*V+(-Q.ty*Q.a+Q.tx*Q.b)*X}},Rf.prototype.decompose=function(){var V=this,R=V.a,Q=V.b,X=V.c,b=V.d,A=Math.sqrt(R*R+Q*Q),c=Math.sqrt(X*X+b*b);return R*b-Q*X<0&&(R<b?A=-A:c=-c),A&&(R*=1/A,Q*=1/A),c&&(b*=1/c),{translateX:V.tx,translateY:V.ty,rotation:Math.atan2(Q,R),scaleX:A,scaleY:c}},Rf.IDENTITY=new Rf,Rf.TEMP_MATRIX=new Rf,I.Math.Quaternion=function(V,R,Q,X){this.set(V,R,Q,X)}),bf=(v.assign(Xf.prototype,{set:function(V,R,Q,X){var b=this;return b._x=V||0,b._y=R||0,b._z=Q||0,b._w=X!==N8?X:1,b},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(V){var R=this;return R._x=V._x,R._y=V._y,R._z=V._z,R._w=V._w,R},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this},dot:function(V){return this._x*V._x+this._y*V._y+this._z*V._z+this._w*V._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var V=this.length();return 0===V?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(V=1/V),this._y=this._y*V,this._z=this._z*V,this._w=this._w*V),this},fromArray:function(V,R){return this._x=V[R=R===N8?0:R],this._y=V[R+1],this._z=V[R+2],this._w=V[R+3],this},slerp:function(V,R){if(0===R)return this;if(1===R)return this.copy(V);var Q=this._x,X=this._y,b=this._z,A=this._w;if((c=A*V._w+Q*V._x+X*V._y+b*V._z)<0?(this._w=-V._w,this._x=-V._x,this._y=-V._y,this._z=-V._z,c=-c):this.copy(V),1<=c)return this._w=A,this._x=Q,this._y=X,this._z=b,this;if(V=Math.sqrt(1-c*c),Math.abs(V)<.001)return this._w=.5*(A+this._w),this._x=.5*(Q+this._x),this._y=.5*(X+this._y),this._z=.5*(b+this._z),this;var c=Math.atan2(V,c),f=Math.sin((1-R)*c)/V,R=Math.sin(R*c)/V;return this._w=A*f+this._w*R,this._x=Q*f+this._x*R,this._y=X*f+this._y*R,this._z=b*f+this._z*R,this},equals:function(V){return V._x===this._x&&V._y===this._y&&V._z===this._z&&V._w===this._w},setFromAxisAngle:function(V,R){var R=R/2,Q=Math.sin(R);return this._x=V.x*Q,this._y=V.y*Q,this._z=V.z*Q,this._w=Math.cos(R),this},setFromEuler:function(V){var R=V._x,Q=V._y,X=V._z,V=V._order,b=Math.cos,A=Math.sin,c=b(R/2),f=b(Q/2),b=b(X/2),R=A(R/2),Q=A(Q/2),A=A(X/2);return"XYZ"===V?(this._x=R*f*b+c*Q*A,this._y=c*Q*b-R*f*A,this._z=c*f*A+R*Q*b,this._w=c*f*b-R*Q*A):"YXZ"===V?(this._x=R*f*b+c*Q*A,this._y=c*Q*b-R*f*A,this._z=c*f*A-R*Q*b,this._w=c*f*b+R*Q*A):"ZXY"===V?(this._x=R*f*b-c*Q*A,this._y=c*Q*b+R*f*A,this._z=c*f*A+R*Q*b,this._w=c*f*b-R*Q*A):"ZYX"===V?(this._x=R*f*b-c*Q*A,this._y=c*Q*b+R*f*A,this._z=c*f*A-R*Q*b,this._w=c*f*b+R*Q*A):"YZX"===V?(this._x=R*f*b+c*Q*A,this._y=c*Q*b+R*f*A,this._z=c*f*A-R*Q*b,this._w=c*f*b-R*Q*A):"XZY"===V&&(this._x=R*f*b-c*Q*A,this._y=c*Q*b-R*f*A,this._z=c*f*A+R*Q*b,this._w=c*f*b+R*Q*A),this},setFromRotationMatrix:function(V){var R,Q=(V=V.el)[0],X=V[4],b=V[8],A=V[1],c=V[5],f=V[9],S=V[2],F=V[6],D=Q+c+(V=V[10]);return 0<D?(R=.5/Math.sqrt(D+1),this._w=.25/R,this._x=(F-f)*R,this._y=(b-S)*R,this._z=(A-X)*R):c<Q&&V<Q?(R=2*Math.sqrt(1+Q-c-V),this._w=(F-f)/R,this._x=.25*R,this._y=(X+A)/R,this._z=(b+S)/R):V<c?(R=2*Math.sqrt(1+c-Q-V),this._w=(b-S)/R,this._x=(X+A)/R,this._y=.25*R,this._z=(f+F)/R):(R=2*Math.sqrt(1+V-Q-c),this._w=(A-X)/R,this._x=(b+S)/R,this._y=(f+F)/R,this._z=.25*R),this},setFromToVectors:function(V,R){return x4===N8&&(x4=new K8),(B4=V.dot(R)+1)<1e-7?(B4=0,Math.abs(V.x)>Math.abs(V.z)?x4.set(-V.y,V.x,0):x4.set(0,-V.z,V.y)):x4.crossVectors(V,R),this._x=x4.x,this._y=x4.y,this._z=x4.z,this._w=B4,this.normalize()},setFromUnitVectors:function(V,R){return Z4===N8&&(Z4=new K8),(k4=V.dot(R)+1)<1e-6?(k4=0,Math.abs(V.x)>Math.abs(V.z)?Z4.set(-V.y,V.x,0):Z4.set(0,-V.z,V.y)):Z4.crossVectors(V,R),this._x=Z4.x,this._y=Z4.y,this._z=Z4.z,this._w=k4,this.normalize()},multiply:function(V){return this.multiplyQuaternions(this,V)},premultiply:function(V){return this.multiplyQuaternions(V,this)},multiplyQuaternions:function(V,R){var Q=V._x,X=V._y,b=V._z,V=V._w,A=R._x,c=R._y,f=R._z,R=R._w;return this._x=Q*R+V*A+X*f-b*c,this._y=X*R+V*c+b*A-Q*f,this._z=b*R+V*f+Q*c-X*A,this._w=V*R-Q*A-X*c-b*f,this},toArray:function(V,R){return(V=V||[])[R=R||0]=this._x,V[R+1]=this._y,V[R+2]=this._z,V[R+3]=this._w,V}}),Xf.slerpFlat=function(V,R,Q,X,b,A,c){var f,S,F,D=Q[X+0],P=Q[X+1],N=Q[X+2],Q=Q[X+3],X=b[A+0],q=b[A+1],L=b[A+2],b=b[A+3];return 0===c?(V[R+0]=D,V[R+1]=P,V[R+2]=N,void(V[R+3]=Q)):1===c?(V[R+0]=X,V[R+1]=q,V[R+2]=L,void(V[R+3]=b)):(Q===b&&D===X&&P===q&&N===L||(A=1-c,f=0<=(S=D*X+P*q+N*L+Q*b)?1:-1,(F=1-S*S)>Number.EPSILON&&(F=Math.sqrt(F),S=Math.atan2(F,S*f),A=Math.sin(A*S)/F,c=Math.sin(c*S)/F),D=D*A+X*(S=c*f),P=P*A+q*S,N=N*A+L*S,Q=Q*A+b*S,A===1-c&&(D*=F=1/Math.sqrt(D*D+P*P+N*N+Q*Q),P*=F,N*=F,Q*=F)),V[R]=D,V[R+1]=P,V[R+2]=N,void(V[R+3]=Q))},I.Math.Vector4=function(V,R,Q,X){this.x=V||0,this.y=R||0,this.z=Q||0,this.w=X!==N8?X:1}),K8=(v.assign(bf.prototype,{isVector4:!0,set:function(V,R,Q,X){return this.x=V,this.y=R,this.z=Q,this.w=X,this},setScalar:function(V){return this.x=V,this.y=V,this.z=V,this.w=V,this},setX:function(V){return this.x=V,this},setY:function(V){return this.y=V,this},setZ:function(V){return this.z=V,this},setW:function(V){return this.w=V,this},setComponent:function(V,R){switch(V){case 0:this.x=R;break;case 1:this.y=R;break;case 2:this.z=R;break;case 3:this.w=R;break;default:throw new Error("index is out of range: "+V)}return this},getComponent:function(V){switch(V){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+V)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(V){return this.x=V.x,this.y=V.y,this.z=V.z,this.w=V.w!==N8?V.w:1,this},add:function(V,R){return R!==N8?this.addVectors(V,R):(this.x+=V.x,this.y+=V.y,this.z+=V.z,this.w+=V.w,this)},addScalar:function(V){return this.x+=V,this.y+=V,this.z+=V,this.w+=V,this},addVectors:function(V,R){return this.x=V.x+R.x,this.y=V.y+R.y,this.z=V.z+R.z,this.w=V.w+R.w,this},addScaledVector:function(V,R){return this.x+=V.x*R,this.y+=V.y*R,this.z+=V.z*R,this.w+=V.w*R,this},sub:function(V,R){return R!==N8?this.subVectors(V,R):(this.x-=V.x,this.y-=V.y,this.z-=V.z,this.w-=V.w,this)},subScalar:function(V){return this.x-=V,this.y-=V,this.z-=V,this.w-=V,this},subVectors:function(V,R){return this.x=V.x-R.x,this.y=V.y-R.y,this.z=V.z-R.z,this.w=V.w-R.w,this},multiplyScalar:function(V){return this.x*=V,this.y*=V,this.z*=V,this.w*=V,this},applyMatrix4:function(V){var R=this.x,Q=this.y,X=this.z,b=this.w,V=V.el;return this.x=V[0]*R+V[4]*Q+V[8]*X+V[12]*b,this.y=V[1]*R+V[5]*Q+V[9]*X+V[13]*b,this.z=V[2]*R+V[6]*Q+V[10]*X+V[14]*b,this.w=V[3]*R+V[7]*Q+V[11]*X+V[15]*b,this},divideScalar:function(V){return this.multiplyScalar(1/V)},setAxisAngleFromQuaternion:function(V){this.w=2*Math.acos(V.w);var R=Math.sqrt(1-V.w*V.w);return R<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=V.x/R,this.y=V.y/R,this.z=V.z/R),this},setAxisAngleFromRotationMatrix:function(V){var R,Q,X,b=(V=V.el)[0],A=V[4],c=V[8],f=V[1],S=V[5],F=V[9],D=V[2],P=V[6],V=V[10];if(Math.abs(A-f)<.01&&Math.abs(c-D)<.01&&Math.abs(F-P)<.01){if(Math.abs(A+f)<.1&&Math.abs(c+D)<.1&&Math.abs(F+P)<.1&&Math.abs(b+S+V-3)<.1)return this.set(1,0,0,0),this;var N=Math.PI,q=(b+1)/2,L=(S+1)/2,e=(V+1)/2,J=(A+f)/4,s=(c+D)/4,l=(F+P)/4;return L<q&&e<q?X=q<.01?(R=0,Q=.707106781):(Q=J/(R=Math.sqrt(q)),s/R):e<L?X=L<.01?(Q=0,R=.707106781):(R=J/(Q=Math.sqrt(L)),l/Q):e<.01?(Q=R=.707106781,X=0):(R=s/(X=Math.sqrt(e)),Q=l/X),this.set(R,Q,X,N),this}return q=Math.sqrt((P-F)*(P-F)+(c-D)*(c-D)+(f-A)*(f-A)),Math.abs(q)<.001&&(q=1),this.x=(P-F)/q,this.y=(c-D)/q,this.z=(f-A)/q,this.w=Math.acos((b+S+V-1)/2),this},min:function(V){return this.x=Math.min(this.x,V.x),this.y=Math.min(this.y,V.y),this.z=Math.min(this.z,V.z),this.w=Math.min(this.w,V.w),this},max:function(V){return this.x=Math.max(this.x,V.x),this.y=Math.max(this.y,V.y),this.z=Math.max(this.z,V.z),this.w=Math.max(this.w,V.w),this},clamp:function(V,R){return this.x=Math.max(V.x,Math.min(R.x,this.x)),this.y=Math.max(V.y,Math.min(R.y,this.y)),this.z=Math.max(V.z,Math.min(R.z,this.z)),this.w=Math.max(V.w,Math.min(R.w,this.w)),this},clampScalar:function(V,R){return G4===N8&&(G4=new bf,d4=new bf),G4.set(V,V,V,V),d4.set(R,R,R,R),this.clamp(G4,d4)},clampLength:function(V,R){var Q=this.length();return this.divideScalar(Q||1).multiplyScalar(Math.max(V,Math.min(R,Q)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(V){return this.x*V.x+this.y*V.y+this.z*V.z+this.w*V.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(V){return this.normalize().multiplyScalar(V)},lerp:function(V,R){return this.x+=(V.x-this.x)*R,this.y+=(V.y-this.y)*R,this.z+=(V.z-this.z)*R,this.w+=(V.w-this.w)*R,this},lerpVectors:function(V,R,Q){return this.subVectors(R,V).multiplyScalar(Q).add(V)},equals:function(V){return V.x===this.x&&V.y===this.y&&V.z===this.z&&V.w===this.w},fromArray:function(V,R){return this.x=V[R=R===N8?0:R],this.y=V[R+1],this.z=V[R+2],this.w=V[R+3],this},toArray:function(V,R){return(V=V===N8?[]:V)[R=R===N8?0:R]=this.x,V[R+1]=this.y,V[R+2]=this.z,V[R+3]=this.w,V},fromBufferAttribute:function(V,R,Q){return this.x=V.getX(R),this.y=V.getY(R),this.z=V.getZ(R),this.w=V.getW(R),this}}),I.Math.Vector3=function(V,R,Q){V===N8?(this.x=0,this.y=0,this.z=0):"object"==typeof V?this.copy(V):this.set(V,R==N8?V:R,Q==N8?V:Q)}),Af=(v.assign(K8.prototype,{isVector3:!0,isNaN:function(){return isNaN(this.x)||isNaN(this.y)||isNaN(this.z)},set:function(V,R,Q){return this.x=V,this.y=R,this.z=Q,this},equals:function(V){return V&&this.x===V.x&&this.y===V.y&&this.z===V.z},setScalar:function(V){return this.x=V,this.y=V,this.z=V,this},setX:function(V){return this.x=V,this},setY:function(V){return this.y=V,this},setZ:function(V){return this.z=V,this},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(V){return V.x===N8?(this.x=V[0],this.y=V[1],this.z=V[2]):(this.x=V.x,this.y=V.y,this.z=V.z||0),this},add:function(V){return this.x+=V.x,this.y+=V.y,this.z+=V.z,this},addScalar:function(V){return this.x+=V,this.y+=V,this.z+=V,this},addVectors:function(V,R){return this.x=V.x+R.x,this.y=V.y+R.y,this.z=V.z+R.z,this},addScaledVector:function(V,R){return this.x+=V.x*R,this.y+=V.y*R,this.z+=V.z*R,this},sub:function(V){return this.x-=V.x,this.y-=V.y,this.z-=V.z,this},subScalar:function(V){return this.x-=V,this.y-=V,this.z-=V,this},subVectors:function(V,R){return this.x=V.x-R.x,this.y=V.y-R.y,this.z=V.z-R.z,this},divide:function(V){return this.x/=V.x,this.y/=V.y,this.z/=V.z,this},multiply:function(V){return this.x*=V.x,this.y*=V.y,this.z*=V.z,this},multiplyScalar:function(V){return this.x*=V,this.y*=V,this.z*=V,this},divideScalar:function(V){return 0!==V?(this.x*=V=1/V,this.y*=V,this.z*=V):(this.x=0,this.y=0,this.z=0),this},distanceTo:function(V){return Math.sqrt(this.distanceToSquared(V))},distanceToSquared:function(V){var R=this.x-V.x,Q=this.y-V.y;return R*R+Q*Q+(V=this.z-V.z)*V},distanceToSquared2:function(V){var R=this.x-V[0],Q=this.y-V[1];return R*R+Q*Q+(V=this.z-V[2])*V},divideVectors:function(V,R){return this.x=V.x/R.x,this.y=V.y/R.y,this.z=V.z/R.z,this},multiplyVectors:function(V,R){return this.x=V.x*R.x,this.y=V.y*R.y,this.z=V.z*R.z,this},transformDirection:function(V){var R=this.x,Q=this.y,X=this.z,V=V.el;return this.x=V[0]*R+V[4]*Q+V[8]*X,this.y=V[1]*R+V[5]*Q+V[9]*X,this.z=V[2]*R+V[6]*Q+V[10]*X,this.normalize()},applyAxisAngle:(QT=new Xf,function(V,R){return this.applyQuaternion(QT.setFromAxisAngle(V,R))}),applyEuler:(RT=new Xf,function(V){return this.applyQuaternion(RT.setFromEuler(V))}),applyQuaternion:function(V){var R=this.x,Q=this.y,X=this.z,b=V._x,A=V._y,c=V._z,f=(V=V._w)*R+A*X-c*Q,S=V*Q+c*R-b*X,F=V*X+b*Q-A*R;return this.x=f*V+(R=-b*R-A*Q-c*X)*-b+S*-c-F*-A,this.y=S*V+R*-A+F*-b-f*-c,this.z=F*V+R*-c+f*-A-S*-b,this},applyMatrix4:function(V){var R=this.x,Q=this.y,X=this.z,b=1/((V=V.el)[3]*R+V[7]*Q+V[11]*X+V[15]);return this.x=(V[0]*R+V[4]*Q+V[8]*X+V[12])*b,this.y=(V[1]*R+V[5]*Q+V[9]*X+V[13])*b,this.z=(V[2]*R+V[6]*Q+V[10]*X+V[14])*b,this},applyMatrix3:function(V){var R=this.x,Q=this.y,X=this.z,V=V.el;return this.x=V[0]*R+V[3]*Q+V[6]*X,this.y=V[1]*R+V[4]*Q+V[7]*X,this.z=V[2]*R+V[5]*Q+V[8]*X,this},applyNormalMatrix:function(V){return this.applyMatrix3(V).normalize()},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},reflect:(VT=new K8,function(V){return this.sub(VT.copy(V).multiplyScalar(2*this.dot(V)))}),dot:function(V){return this.x*V.x+this.y*V.y+this.z*V.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){var V=this.length();return V?this.multiplyScalar(1/V):this},setLength:function(V){return this.normalize().multiplyScalar(V)},fromArray:function(V,R){return this.x=V[R=R===N8?0:R],this.y=V[R+1],this.z=V[R+2],this},toArray:function(V,R){return(V=V===N8?[0,0,0]:V)[R=R===N8?0:R]=this.x,V[R+1]=this.y,V[R+2]=this.z,V},cross:function(V){return this.crossVectors(this,V)},angleTo:function(V){return 1+1e-6<(V=this.dot(V)/Math.sqrt(this.lengthSq()*V.lengthSq()))||V<-1-1e-6?0:Math.acos(B.clamp(V,-1,1))},lerp:function(V,R){return this.x+=(V.x-this.x)*R,this.y+=(V.y-this.y)*R,this.z+=(V.z-this.z)*R,this},lerpVectors:function(V,R,Q){return this.subVectors(R,V).multiplyScalar(Q).add(V)},crossVectors:function(V,R){var Q=V.x,X=V.y,V=V.z,b=R.x,A=R.y,R=R.z;return this.x=X*R-V*A,this.y=V*b-Q*R,this.z=Q*A-X*b,this},min:function(V){return this.x=Math.min(this.x,V.x),this.y=Math.min(this.y,V.y),this.z=Math.min(this.z,V.z),this},max:function(V){return this.x=Math.max(this.x,V.x),this.y=Math.max(this.y,V.y),this.z=Math.max(this.z,V.z),this},setFromMatrixPosition:function(V){return this.setFromMatrixColumn(V,3)},setFromMatrixScale:function(V){var R=this.setFromMatrixColumn(V,0).length(),Q=this.setFromMatrixColumn(V,1).length(),V=this.setFromMatrixColumn(V,2).length();return this.x=R,this.y=Q,this.z=V,this},setFromMatrixColumn:function(V,R){return this.fromArray(V.el,4*R)}}),K8.UP=new K8(0,1,0),K8.AxisX=new K8(1,0,0),K8.AxisY=new K8(0,1,0),K8.AxisZ=new K8(0,0,1),K8.normalizeArray=(XT=new K8,function(V){return XT.copy(V).normalize().toArray()}),bT=new K8,function(V,R){return(R=R||bT).x=V[0],R.y=V[1],R.z=V[2],R}),W=I.Math.Vector2=function(V,R,Q){"object"==typeof V&&(V=V.x!=N8?(R=V.y,Q=V.e,V.x):(Q=V[2],R=V[1],V[0])),this.set(V||0,R||0,Q)},cf=(W.prototype={},(W.prototype.constructor=W).prototype.isVector2=!0,v.defineProperties(W.prototype,{width:{get:function(){return this.x},set:function(V){this.x=V}},height:{get:function(){return this.y},set:function(V){this.y=V}}}),W.prototype.clone=function(){return new W(this.x,this.y,this.e)},W.prototype.copy=function(V){return this.set(V.x,V.y,V.e),this},W.prototype.equals=function(V){return V.x===this.x&&V.y===this.y&&V.e===this.e},W.prototype.set=function(V,R,Q){return this.x=V||0,this.y=R||(0!==R?this.x:0),Q!=N8&&(this.e=Q),this},W.prototype.setScalar=function(V){return this.x=V,this.y=V,this.e=V,this},W.prototype.setX=function(V){return this.x=V||0,this},W.prototype.setY=function(V){return this.y=V||0,this},W.prototype.setE=function(V){return this.e=V||0,this},W.prototype.add=function(V){return this.x+=V.x,this.y+=V.y,this},W.prototype.addVectors=function(V,R){return this.x=V.x+R.x,this.y=V.y+R.y,this},W.prototype.addScalar=function(V){return this.x+=V,this.y+=V,this},W.prototype.addScaledVector=function(V,R){return this.x+=V.x*R,this.y+=V.y*R,this},W.prototype.sub=function(V){return this.x-=V.x,this.y-=V.y,this},W.prototype.subScalar=function(V){return this.x-=V,this.y-=V,this},W.prototype.subVectors=function(V,R){return this.x=V.x-R.x,this.y=V.y-R.y,this},W.prototype.multiply=function(V){return this.x*=V.x,this.y*=V.y,this},W.prototype.multiplyScalar=function(V){return this.x*=V,this.y*=V,this},W.prototype.divide=function(V){return this.x/=V.x,this.y/=V.y,this},W.prototype.divideScalar=function(V){return this.multiplyScalar(1/V)},W.prototype.min=function(V){return this.x=Math.min(this.x,V.x),this.y=Math.min(this.y,V.y),this},W.prototype.max=function(V){return this.x=Math.max(this.x,V.x),this.y=Math.max(this.y,V.y),this},W.prototype.fromArray=function(V,R){return this.x=V[R=R===N8?0:R],this.y=V[R+1],this},W.prototype.toArray=function(V,R){return(V=V===N8?[0,0]:V)[R=R===N8?0:R]=this.x,V[R+1]=this.y,V},W.prototype.clamp=function(V,R){return this.x=Math.max(V.x,Math.min(R.x,this.x)),this.y=Math.max(V.y,Math.min(R.y,this.y)),this},W.prototype.clampScalar=function(V,R){return AT===N8&&(AT=new W,cT=new W),AT.set(V,V),cT.set(R,R),this.clamp(AT,cT)},W.prototype.clampLength=function(V,R){var Q=this.length();return this.multiplyScalar(Math.max(V,Math.min(R,Q))/Q)},W.prototype.dot=function(V){return this.x*V.x+this.y*V.y},W.prototype.cross=function(V){return this.x*V.y-this.y*V.x},W.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},W.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},W.prototype.normalize=function(){return this.divideScalar(this.length())},W.prototype.angle=function(){var V=Math.atan2(this.y,this.x);return V<0&&(V+=2*Math.PI),V},W.prototype.distanceTo=function(V){return Math.sqrt(this.distanceToSquared(V))},W.prototype.distanceToSquared=function(V){var R=this.x-V.x;return R*R+(V=this.y-V.y)*V},W.prototype.isNearEnough=function(V){return this.distanceToSquared(V)<1e-8},W.prototype.setLength=function(V){var R=this.length();return R?this.multiplyScalar(V/R):this},W.prototype.lerp=function(V,R){return this.x+=(V.x-this.x)*R,this.y+=(V.y-this.y)*R,"number"==typeof V.e&&"number"==typeof this.e&&(this.e+=(V.e-this.e)*R),this},W.prototype.lerpVectors=function(V,R,Q){return this.subVectors(R,V).multiplyScalar(Q).add(V)},W.prototype.rotateAround=function(V,R){var Q=V?V.x:0,V=V?V.y:0,X=Math.cos(R),R=Math.sin(R),b=this.x-Q,A=this.y-V;return this.x=b*X-A*R+Q,this.y=b*R+A*X+V,this},I.Math.Matrix3=function(){this.el=[1,0,0,0,1,0,0,0,1]}),ff=(v.assign(cf.prototype,{isMatrix3:!0,set:function(V,R,Q,X,b,A,c,f,S){var F=this.el;return F[0]=V,F[1]=X,F[2]=c,F[3]=R,F[4]=b,F[5]=f,F[6]=Q,F[7]=A,F[8]=S,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.el)},copy:function(V){var R=this.el,V=V.el;return R[0]=V[0],R[1]=V[1],R[2]=V[2],R[3]=V[3],R[4]=V[4],R[5]=V[5],R[6]=V[6],R[7]=V[7],R[8]=V[8],this},setFromMatrix4:function(V){return V=V.el,this.set(V[0],V[4],V[8],V[1],V[5],V[9],V[2],V[6],V[10]),this},applyToBufferAttribute:(fT=new K8,function(V){for(var R=0,Q=V.count;R<Q;R++)fT.x=V.getX(R),fT.y=V.getY(R),fT.z=V.getZ(R),fT.applyMatrix3(this),V.setXYZ(R,fT.x,fT.y,fT.z);return V}),multiply:function(V){return this.multiplyMatrices(this,V)},premultiply:function(V){return this.multiplyMatrices(V,this)},multiplyMatrices:function(V,R){var V=V.el,R=R.el,Q=this.el,X=V[0],b=V[3],A=V[6],c=V[1],f=V[4],S=V[7],F=V[2],D=V[5],V=V[8],P=R[0],N=R[3],q=R[6],L=R[1],e=R[4],J=R[7],s=R[2],l=R[5],R=R[8];return Q[0]=X*P+b*L+A*s,Q[3]=X*N+b*e+A*l,Q[6]=X*q+b*J+A*R,Q[1]=c*P+f*L+S*s,Q[4]=c*N+f*e+S*l,Q[7]=c*q+f*J+S*R,Q[2]=F*P+D*L+V*s,Q[5]=F*N+D*e+V*l,Q[8]=F*q+D*J+V*R,this},multiplyScalar:function(V){var R=this.el;return R[0]*=V,R[3]*=V,R[6]*=V,R[1]*=V,R[4]*=V,R[7]*=V,R[2]*=V,R[5]*=V,R[8]*=V,this},determinant:function(){var V=this.el,R=V[0],Q=V[1],X=V[2],b=V[3],A=V[4],c=V[5],f=V[6],S=V[7];return R*A*(V=V[8])-R*c*S-Q*b*V+Q*c*f+X*b*S-X*A*f},getInverse:function(V,R){var V=V.el,Q=this.el,X=V[0],b=V[1],A=V[2],c=V[3],f=V[4],S=V[5],F=V[6],D=V[7],P=(V=V[8])*f-S*D,N=S*F-V*c,q=D*c-f*F,L=X*P+b*N+A*q;return 0==L?this.identity():(Q[0]=P*(L=1/L),Q[1]=(A*D-V*b)*L,Q[2]=(S*b-A*f)*L,Q[3]=N*L,Q[4]=(V*X-A*F)*L,Q[5]=(A*c-S*X)*L,Q[6]=q*L,Q[7]=(b*F-D*X)*L,Q[8]=(f*X-b*c)*L,this)},transpose:function(){var V=this.el,R=V[1];return V[1]=V[3],V[3]=R,R=V[2],V[2]=V[6],V[6]=R,R=V[5],V[5]=V[7],V[7]=R,this},getNormalMatrix:function(V){return this.setFromMatrix4(V).getInverse(this).transpose()},transposeIntoArray:function(V){var R=this.el;return V[0]=R[0],V[1]=R[3],V[2]=R[6],V[3]=R[1],V[4]=R[4],V[5]=R[7],V[6]=R[2],V[7]=R[5],V[8]=R[8],this},setUvTransform:function(V,R,Q,X,b,A,c){var f=Math.cos(b),b=Math.sin(b);this.set(Q*f,Q*b,-Q*(f*A+b*c)+A+V,-X*b,X*f,-X*(-b*A+f*c)+c+R,0,0,1)},scale:function(V,R){var Q=this.el;return Q[0]*=V,Q[3]*=V,Q[6]*=V,Q[1]*=R,Q[4]*=R,Q[7]*=R,this},rotate:function(V){var R=Math.cos(V),V=Math.sin(V),Q=this.el,X=Q[0],b=Q[3],A=Q[6],c=Q[1],f=Q[4],S=Q[7];return Q[0]=R*X+V*c,Q[3]=R*b+V*f,Q[6]=R*A+V*S,Q[1]=-V*X+R*c,Q[4]=-V*b+R*f,Q[7]=-V*A+R*S,this},translate:function(V,R){var Q=this.el;return Q[0]+=V*Q[2],Q[3]+=V*Q[5],Q[6]+=V*Q[8],Q[1]+=R*Q[2],Q[4]+=R*Q[5],Q[7]+=R*Q[8],this},equals:function(V){for(var R=this.el,Q=V.el,X=0;X<9;X++)if(R[X]!==Q[X])return!1;return!0},fromArray:function(V,R){R===N8&&(R=0);for(var Q=0;Q<9;Q++)this.el[Q]=V[Q+R];return this},getElements:function(){return this.el},toArray:function(V,R){var Q=this.el;return(V=V===N8?[]:V)[R=R===N8?0:R]=Q[0],V[R+1]=Q[1],V[R+2]=Q[2],V[R+3]=Q[3],V[R+4]=Q[4],V[R+5]=Q[5],V[R+6]=Q[6],V[R+7]=Q[7],V[R+8]=Q[8],V}}),I.Math.Plane=function(V,R){this.normal=V!==N8?V:new K8(1,0,0),this.constant=R!==N8?R:0}),Sf=(v.assign(ff.prototype,{set:function(V,R){return this.normal.copy(V),this.constant=R,this},setComponents:function(V,R,Q,X){return this.normal.set(V,R,Q),this.constant=X,this},setFromNormalAndCoplanarPoint:function(V,R){return this.normal.copy(V),this.constant=-R.dot(this.normal),this},setFromCoplanarPoints:(PT=new K8,NT=new K8,function(V,R,Q){return Q=PT.subVectors(Q,R).cross(NT.subVectors(V,R)).normalize(),this.setFromNormalAndCoplanarPoint(Q,V),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(V){return this.normal.copy(V.normal),this.constant=V.constant,this},normalize:function(){var V=1/this.normal.length();return this.normal.multiplyScalar(V),this.constant*=V,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(V){return this.normal.dot(V)+this.constant},distanceToSphere:function(V){return this.distanceToPoint(V.center)-V.radius},projectPoint:function(V,R){return(R=R===N8?new K8:R).copy(this.normal).multiplyScalar(-this.distanceToPoint(V)).add(V)},intersectLine:(DT=new K8,function(V,R){R===N8&&(R=new K8);var Q=V.delta(DT),X=this.normal.dot(Q);return 0===X?0===this.distanceToPoint(V.start)?R.copy(V.start):N8:(X=-(V.start.dot(this.normal)+this.constant)/X)<0||1<X?N8:R.copy(Q).multiplyScalar(X).add(V.start)}),intersectsLine:function(V){var R=this.distanceToPoint(V.start),V=this.distanceToPoint(V.end);return R<0&&0<V||V<0&&0<R},intersectsBox:function(V){return V.intersectsPlane(this)},intersectsSphere:function(V){return V.intersectsPlane(this)},coplanarPoint:function(V){return(V=V===N8?new K8:V).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(ST=new K8,FT=new cf,function(V,R){return R=R||FT.getNormalMatrix(V),V=this.coplanarPoint(ST).applyMatrix4(V),R=this.normal.applyMatrix3(R).normalize(),this.constant=-V.dot(R),this}),translate:function(V){return this.constant-=V.dot(this.normal),this},equals:function(V){return V.normal.equals(this.normal)&&V.constant===this.constant}}),I.Math.Ray=function(V,R){this.origin=V!==N8?V.clone():new K8,this.direction=R!==N8?R.clone():new K8}),Ff=(v.assign(Sf.prototype,{set:function(V,R){return this.origin.copy(V),this.direction.copy(R),this},clone:function(){return(new this.constructor).copy(this)},copy:function(V){return this.origin.copy(V.origin),this.direction.copy(V.direction),this.maxHitLen=V.maxHitLen,this},at:function(V,R){return(R||new K8).copy(this.direction).multiplyScalar(V).add(this.origin)},setMaxHitLength:function(V){this.maxHitLen=V},lookAt:function(V){return this.direction.copy(V).sub(this.origin).normalize(),this},applyMatrix4:function(V){var R,Q=this.maxHitLen;return Q&&(R=this.direction.clone().multiplyScalar(Q).add(this.origin)).applyMatrix4(V),this.origin.applyMatrix4(V),this.direction.transformDirection(V),Q&&(this.maxHitLen=this.origin.distanceTo(R)),this},distanceToPlane:function(V){var R=V.normal.dot(this.direction);return 0===R?0===V.distanceToPoint(this.origin)?0:null:0<=(V=-(this.origin.dot(V.normal)+V.constant)/R)?V:null},intersectPlane:function(V,R){return null===(V=this.distanceToPlane(V))?null:this.at(V,R)},intersectSphere:(HT=new K8,function(V,R){HT.subVectors(V.center,this.origin);var Q=HT.dot(this.direction),X=HT.dot(HT)-Q*Q;return(V=V.radius*V.radius)<X?null:(X=Q-(V=Math.sqrt(V-X)),Q+=V,X<0&&Q<0?null:X<0?this.at(Q,R):this.at(X,R))}),intersectEllipsoid:(sT=new K8,lT=new K8,function(V,R){sT.subVectors(V.center,this.origin),sT.divide(V.radius),lT.divideVectors(this.direction,V.radius);var V=lT.lengthSq(),Q=sT.dot(lT),X=sT.dot(sT)*V-Q*Q;if(V<X)return null;var b=(Q-(X=Math.sqrt(V-X)))/V,Q=(Q+X)/V;return b<0&&Q<0?null:b<0?this.at(Q,R):this.at(b,R)}),intersectBox:function(V,R){var Q,X,b,A=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,S=this.origin,A=0<=A?(Q=(V.min.x-S.x)*A,(V.max.x-S.x)*A):(Q=(V.max.x-S.x)*A,(V.min.x-S.x)*A);return(c=0<=c?(b=(V.min.y-S.y)*c,(V.max.y-S.y)*c):(b=(V.max.y-S.y)*c,(V.min.y-S.y)*c))<Q||A<b?null:((Q<b||Q!=Q)&&(Q=b),(c<A||A!=A)&&(A=c),(b=0<=f?(X=(V.min.z-S.z)*f,(V.max.z-S.z)*f):(X=(V.max.z-S.z)*f,(V.min.z-S.z)*f))<Q||A<X||(A=b<A||A!=A?b:A)<0?null:(c=0<=(Q=Q<X||Q!=Q?X:Q)?Q:A,(V=this.maxHitLen)&&V<c?null:this.at(c,R)))},intersectTriangle:(qT=new K8,LT=new K8,eT=new K8,JT=new K8,function(V,R,Q,X,b,A){if(LT.subVectors(R,V),eT.subVectors(Q,V),JT.crossVectors(LT,eT),(R=b||0)<(Q=this.direction.dot(JT))){if(X)return null}else if(-R<=Q)return null;return b=1/Q,qT.subVectors(this.origin,V),(X=b*this.direction.dot(eT.crossVectors(qT,eT)))<-R||(Q=b*this.direction.dot(LT.cross(qT)))<-R||1+R<X+Q||(V=-b*qT.dot(JT))<0||(R=this.maxHitLen)&&R<V?null:this.at(V,A)})}),I.Math.Box3=function(V,R){this.min=V!==N8?V:new K8(1/0,1/0,1/0),this.max=R!==N8?R:new K8(-1/0,-1/0,-1/0)}),W4=(v.assign(Ff.prototype,{set:function(V,R){return this.min.copy(V),this.max.copy(R),this},setFromArray:function(V){for(var R=1/0,Q=1/0,X=1/0,b=-1/0,A=-1/0,c=-1/0,f=0,S=V.length;f<S;f+=3){var F=V[f],D=V[f+1],P=V[f+2];F<R&&(R=F),D<Q&&(Q=D),P<X&&(X=P),b<F&&(b=F),A<D&&(A=D),c<P&&(c=P)}return this.min.set(R,Q,X),this.max.set(b,A,c),this},setFromPoints:function(V){return this.makeEmpty().expandByPoints(V)},clone:function(){return(new this.constructor).copy(this)},intersectsBox:function(V){return!(V.max.x<this.min.x||V.min.x>this.max.x||V.max.y<this.min.y||V.min.y>this.max.y||V.max.z<this.min.z||V.min.z>this.max.z)},copy:function(V){return this.min.copy(V.min),this.max.copy(V.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(V){return V=V||new K8,this.isEmpty()?V.set(0,0,0):V.addVectors(this.min,this.max).multiplyScalar(.5)},expandByPoint:function(V){return this.min.min(V),this.max.max(V),this},expandByPoints:function(V){for(var R=0,Q=V.length;R<Q;R++)this.expandByPoint(V[R]);return this},expandByBox:function(V){return this.min.min(V.min),this.max.max(V.max),this},applyMatrix4:(KT=[new K8,new K8,new K8,new K8,new K8,new K8,new K8,new K8],function(V){return this.isEmpty()||(KT[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(V),KT[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(V),KT[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(V),KT[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(V),KT[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(V),KT[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(V),KT[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(V),KT[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(V),this.setFromPoints(KT)),this})}),I.Math.Sphere=function(V,R){this.center=V!==N8?V:new K8,this.radius=R!==N8?R:0}),U4=(v.assign(W4.prototype,{set:function(V,R){return this.center.copy(V),this.radius=R,this},setFromPoints:(yT=new Ff,function(V,R){for(var Q=this.center,X=(R!==N8?Q.copy(R):yT.setFromPoints(V).getCenter(Q),0),b=0,A=V.length;b<A;b++)X=Math.max(X,Q.distanceToSquared(V[b]));return this.radius=Math.sqrt(X),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(V){return this.center.copy(V.center),this.radius=V.radius,this},empty:function(){return this.radius<=0},containsPoint:function(V){return V.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(V){return V.distanceTo(this.center)-this.radius},intersectsSphere:function(V){var R=this.radius+V.radius;return V.center.distanceToSquared(this.center)<=R*R},intersectsBox:function(V){return V.intersectsSphere(this)},intersectsPlane:function(V){return Math.abs(V.distanceToPoint(this.center))<=this.radius},clampPoint:function(V,R){var Q=this.center.distanceToSquared(V);return(R=R===N8?new K8:R).copy(V),Q>this.radius*this.radius&&(R.sub(this.center).normalize(),R.multiplyScalar(this.radius).add(this.center)),R},getBoundingBox:function(V){return(V=V===N8?new Ff:V).set(this.center,this.center),V.expandByScalar(this.radius),V},applyMatrix4:function(V){return this.center.applyMatrix4(V),this.radius=this.radius*V.getMaxScaleOnAxis(),this},translate:function(V){return this.center.add(V),this},equals:function(V){return V.center.equals(this.center)&&V.radius===this.radius}}),I.Math.Frustum=function(V,R,Q,X,b,A){this.planes=[V!==N8?V:new ff,R!==N8?R:new ff,Q!==N8?Q:new ff,X!==N8?X:new ff,b!==N8?b:new ff,A!==N8?A:new ff]}),y8=(v.assign(U4.prototype,{set:function(V,R,Q,X,b,A){var c=this.planes;return c[0].copy(V),c[1].copy(R),c[2].copy(Q),c[3].copy(X),c[4].copy(b),c[5].copy(A),this},clone:function(){return(new this.constructor).copy(this)},copy:function(V){for(var R=this.planes,Q=0;Q<6;Q++)R[Q].copy(V.planes[Q]);return this},setFromMatrix:function(V){var R=this.planes,Q=(V=V.el)[0],X=V[1],b=V[2],A=V[3],c=V[4],f=V[5],S=V[6],F=V[7],D=V[8],P=V[9],N=V[10],q=V[11],L=V[12],e=V[13],J=V[14],V=V[15];return R[0].setComponents(A-Q,F-c,q-D,V-L).normalize(),R[1].setComponents(A+Q,F+c,q+D,V+L).normalize(),R[2].setComponents(A+X,F+f,q+P,V+e).normalize(),R[3].setComponents(A-X,F-f,q-P,V-e).normalize(),R[4].setComponents(A-b,F-S,q-N,V-J).normalize(),R[5].setComponents(A+b,F+S,q+N,V+J).normalize(),this},intersectsObject:(mT=new W4,function(V){var R=V.geometry;return null===R.boundingSphere&&R.computeBoundingSphere(),mT.copy(R.boundingSphere).applyMatrix4(V.matrixWorld),this.intersectsSphere(mT)}),intersectsSprite:(gT=new W4,function(V){return gT.center.set(0,0,0),gT.radius=.7071067811865476,gT.applyMatrix4(V.matrixWorld),this.intersectsSphere(gT)}),intersectsSphere:function(V){for(var R=this.planes,Q=V.center,X=-V.radius,b=0;b<6;b++)if(R[b].distanceToPoint(Q)<X)return!1;return!0},intersectsBox:(tT=new K8,function(V){for(var R=this.planes,Q=0;Q<6;Q++){var X=R[Q];if(tT.x=(0<X.normal.x?V.max:V.min).x,tT.y=(0<X.normal.y?V.max:V.min).y,tT.z=(0<X.normal.z?V.max:V.min).z,X.distanceToPoint(tT)<0)return!1}return!0}),containsPoint:function(V){for(var R=this.planes,Q=0;Q<6;Q++)if(R[Q].distanceToPoint(V)<0)return!1;return!0}}),I.Math.Matrix4=function(){this.el=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}),Df=(v.assign(y8.prototype,{isMatrix4:!0,set:function(V,R,Q,X,b,A,c,f,S,F,D,P,N,q,L,e){var J=this.el;return J[0]=V,J[4]=R,J[8]=Q,J[12]=X,J[1]=b,J[5]=A,J[9]=c,J[13]=f,J[2]=S,J[6]=F,J[10]=D,J[14]=P,J[3]=N,J[7]=q,J[11]=L,J[15]=e,this},clone:function(){return(new y8).fromArray(this.el)},fromArray:function(V,R){R===N8&&(R=0);for(var Q=this.el,X=0;X<16;X++)Q[X]=V[X+R];return this},getElements:function(){return this.el},scale:function(V){var R=this.el,Q=V.x,X=V.y,V=V.z;return R[0]*=Q,R[4]*=X,R[8]*=V,R[1]*=Q,R[5]*=X,R[9]*=V,R[2]*=Q,R[6]*=X,R[10]*=V,R[3]*=Q,R[7]*=X,R[11]*=V,this},translate:function(V){var R=this.el,Q=V.x||0,X=V.y||0,V=V.z||0;return R[12]+=R[0]*Q+R[4]*X+R[8]*V,R[13]+=R[1]*Q+R[5]*X+R[9]*V,R[14]+=R[2]*Q+R[6]*X+R[10]*V,R[15]+=R[3]*Q+R[7]*X+R[11]*V,this},rotate:(nT=new y8,function(V){return nT.makeRotationFromQuaternion(V),this.multiply(nT)}),prependScale:function(V){var R=this.el,Q=V.x,X=V.y,V=V.z;return R[0]*=Q,R[4]*=Q,R[8]*=Q,R[12]*=Q,R[1]*=X,R[5]*=X,R[9]*=X,R[13]*=X,R[2]*=V,R[6]*=V,R[10]*=V,R[14]*=V,this},prependRotation:(iT=new y8,function(V){return iT.makeRotationFromQuaternion(V),this.premultiply(iT)}),prependTranslation:function(V){var R=this.el,Q=V.x||0,X=V.y||0,V=V.z||0,b=R[3],A=R[7],c=R[11],f=R[15];return R[0]+=b*Q,R[4]+=A*Q,R[8]+=c*Q,R[12]+=f*Q,R[1]+=b*X,R[5]+=A*X,R[9]+=c*X,R[13]+=f*X,R[2]+=b*V,R[6]+=A*V,R[10]+=c*V,R[14]+=f*V,this},makeRotationFromEuler:function(V){var R,Q,X,b,A,c,f,S,F,D,P,N,q=this.el,L=V._x,e=V._y,J=V._z,V=V._order,s=Math.cos(L),L=Math.sin(L),l=Math.cos(e),e=Math.sin(e),H=Math.cos(J),J=Math.sin(J);return"XYZ"===V?(A=s*H,c=s*J,f=L*H,S=L*J,q[0]=l*H,q[4]=-l*J,q[8]=e,q[1]=c+f*e,q[5]=A-S*e,q[9]=-L*l,q[2]=S-A*e,q[6]=f+c*e,q[10]=s*l):"YXZ"===V?(Q=l*J,X=e*H,q[0]=(R=l*H)+(b=e*J)*L,q[4]=X*L-Q,q[8]=s*e,q[1]=s*J,q[5]=s*H,q[9]=-L,q[2]=Q*L-X,q[6]=b+R*L,q[10]=s*l):"ZXY"===V?(Q=l*J,X=e*H,q[0]=(R=l*H)-(b=e*J)*L,q[4]=-s*J,q[8]=X+Q*L,q[1]=Q+X*L,q[5]=s*H,q[9]=b-R*L,q[2]=-s*e,q[6]=L,q[10]=s*l):"ZYX"===V?(A=s*H,c=s*J,f=L*H,S=L*J,q[0]=l*H,q[4]=f*e-c,q[8]=A*e+S,q[1]=l*J,q[5]=S*e+A,q[9]=c*e-f,q[2]=-e,q[6]=L*l,q[10]=s*l):"YZX"===V?(F=s*l,D=s*e,P=L*l,N=L*e,q[0]=l*H,q[4]=N-F*J,q[8]=P*J+D,q[1]=J,q[5]=s*H,q[9]=-L*H,q[2]=-e*H,q[6]=D*J+P,q[10]=F-N*J):"XZY"===V&&(F=s*l,D=s*e,P=L*l,N=L*e,q[0]=l*H,q[4]=-J,q[8]=e*H,q[1]=F*J+N,q[5]=s*H,q[9]=D*J-P,q[2]=P*J-D,q[6]=L*H,q[10]=N*J+F),q[3]=0,q[7]=0,q[11]=0,q[12]=0,q[13]=0,q[14]=0,q[15]=1,this},makeRotationFromQuaternion:function(V){var R=this.el,Q=V._x,X=V._y,b=V._z,A=b+b,c=Q*(F=Q+Q),f=Q*(D=X+X),Q=Q*A,S=X*D,X=X*A,F=(V=V._w)*F,D=V*D,V=V*A;return R[0]=1-(S+(b=b*A)),R[4]=f-V,R[8]=Q+D,R[1]=f+V,R[5]=1-(c+b),R[9]=X-F,R[2]=Q-D,R[6]=X+F,R[10]=1-(c+S),R[3]=0,R[7]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},getInverse:function(V,R){var Q=this.el,X=(V=V.el||V)[0],b=V[1],A=V[2],c=V[3],f=V[4],S=V[5],F=V[6],D=V[7],P=V[8],N=V[9],q=V[10],L=V[11],e=V[12],J=V[13],s=V[14],l=N*s*D-J*q*D+J*F*L-S*s*L-N*F*(V=V[15])+S*q*V,H=e*q*D-P*s*D-e*F*L+f*s*L+P*F*V-f*q*V,K=P*J*D-e*N*D+e*S*L-f*J*L-P*S*V+f*N*V,y=e*N*F-P*J*F-e*S*q+f*J*q+P*S*s-f*N*s,t=X*l+b*H+A*K+c*y;return 0==t?this.identity():(Q[0]=l*(t=1/t),Q[1]=(J*q*c-N*s*c-J*A*L+b*s*L+N*A*V-b*q*V)*t,Q[2]=(S*s*c-J*F*c+J*A*D-b*s*D-S*A*V+b*F*V)*t,Q[3]=(N*F*c-S*q*c-N*A*D+b*q*D+S*A*L-b*F*L)*t,Q[4]=H*t,Q[5]=(P*s*c-e*q*c+e*A*L-X*s*L-P*A*V+X*q*V)*t,Q[6]=(e*F*c-f*s*c-e*A*D+X*s*D+f*A*V-X*F*V)*t,Q[7]=(f*q*c-P*F*c+P*A*D-X*q*D-f*A*L+X*F*L)*t,Q[8]=K*t,Q[9]=(e*N*c-P*J*c-e*b*L+X*J*L+P*b*V-X*N*V)*t,Q[10]=(f*J*c-e*S*c+e*b*D-X*J*D-f*b*V+X*S*V)*t,Q[11]=(P*S*c-f*N*c-P*b*D+X*N*D+f*b*L-X*S*L)*t,Q[12]=y*t,Q[13]=(P*J*A-e*N*A+e*b*q-X*J*q-P*b*s+X*N*s)*t,Q[14]=(e*S*A-f*J*A-e*b*F+X*J*F+f*b*s-X*S*s)*t,Q[15]=(f*N*A-P*S*A+P*b*F-X*N*F-f*b*q+X*S*q)*t,this)},invert:function(){return this.getInverse(this)},makeRotationAxis:function(V,R){var Q=Math.cos(R),R=Math.sin(R),X=1-Q,b=V.x,A=V.y,V=V.z,c=X*b,f=X*A;return this.set(c*b+Q,c*A-R*V,c*V+R*A,0,c*A+R*V,f*A+Q,f*V-R*b,0,c*V-R*A,f*V+R*b,X*V*V+Q,0,0,0,0,1),this},multiply:function(V){return this.multiplyMatrices(this,V)},premultiply:function(V){return this.multiplyMatrices(V,this)},multiplyMatrices:function(V,R){var V=V.el||V,R=R.el||R,Q=this.el,X=V[0],b=V[4],A=V[8],c=V[12],f=V[1],S=V[5],F=V[9],D=V[13],P=V[2],N=V[6],q=V[10],L=V[14],e=V[3],J=V[7],s=V[11],V=V[15],l=R[0],H=R[4],K=R[8],y=R[12],t=R[1],g=R[5],m=R[9],z=R[13],Y=R[2],u=R[6],o=R[10],_=R[14],O=R[3],w=R[7],a=R[11],R=R[15];return Q[0]=X*l+b*t+A*Y+c*O,Q[4]=X*H+b*g+A*u+c*w,Q[8]=X*K+b*m+A*o+c*a,Q[12]=X*y+b*z+A*_+c*R,Q[1]=f*l+S*t+F*Y+D*O,Q[5]=f*H+S*g+F*u+D*w,Q[9]=f*K+S*m+F*o+D*a,Q[13]=f*y+S*z+F*_+D*R,Q[2]=P*l+N*t+q*Y+L*O,Q[6]=P*H+N*g+q*u+L*w,Q[10]=P*K+N*m+q*o+L*a,Q[14]=P*y+N*z+q*_+L*R,Q[3]=e*l+J*t+s*Y+V*O,Q[7]=e*H+J*g+s*u+V*w,Q[11]=e*K+J*m+s*o+V*a,Q[15]=e*y+J*z+s*_+V*R,this},lookAt:(aT=new K8,function(V,R,Q){return aT.subVectors(V,R),this.lookAtDirection(aT,Q)}),lookAtDirection:(_T=new K8,OT=new K8,wT=new K8,function(V,R){R=R||K8.UP;var Q=this.el;return wT.copy(V),0===wT.lengthSq()&&(wT.z=1),wT.normalize(),_T.crossVectors(R,wT),0===_T.lengthSq()&&(1===Math.abs(R.z)?wT.x+=1e-4:wT.z+=1e-4,wT.normalize(),_T.crossVectors(R,wT)),_T.normalize(),OT.crossVectors(wT,_T),Q[0]=_T.x,Q[4]=OT.x,Q[8]=wT.x,Q[1]=_T.y,Q[5]=OT.y,Q[9]=wT.y,Q[2]=_T.z,Q[6]=OT.z,Q[10]=wT.z,this}),extractScale:function(V){oT===N8&&(oT=new K8),V===N8&&(V=new K8);var R=oT.setFromMatrixColumn(this,0).length(),Q=oT.setFromMatrixColumn(this,1).length(),X=oT.setFromMatrixColumn(this,2).length();return V.set(R,Q,X),V},extractRotation:function(V){uT===N8&&(uT=new K8),V===N8&&(V=new y8);var R=this.el,Q=V.el,X=1/uT.setFromMatrixColumn(V,0).length(),b=1/uT.setFromMatrixColumn(V,1).length(),V=1/uT.setFromMatrixColumn(V,2).length();return R[0]=Q[0]*X,R[1]=Q[1]*X,R[2]=Q[2]*X,R[4]=Q[4]*b,R[5]=Q[5]*b,R[6]=Q[6]*b,R[8]=Q[8]*V,R[9]=Q[9]*V,R[10]=Q[10]*V,this},multiplyScalar:function(V){var R=this.el;return R[0]*=V,R[4]*=V,R[8]*=V,R[12]*=V,R[1]*=V,R[5]*=V,R[9]*=V,R[13]*=V,R[2]*=V,R[6]*=V,R[10]*=V,R[14]*=V,R[3]*=V,R[7]*=V,R[11]*=V,R[15]*=V,this},getPosition:function(V){return(V=V===N8?new K8:V).setFromMatrixColumn(this,3)},setPosition:function(V){var R=this.el;return R[12]=V.x,R[13]=V.y,R[14]=V.z,this},copyPosition:function(V){var R=this.el,V=V.el;return R[12]=V[12],R[13]=V[13],R[14]=V[14],this},toArray:function(V,R){var Q=this.el;return(V=V===N8?[]:V)[R=R===N8?0:R]=Q[0],V[R+1]=Q[1],V[R+2]=Q[2],V[R+3]=Q[3],V[R+4]=Q[4],V[R+5]=Q[5],V[R+6]=Q[6],V[R+7]=Q[7],V[R+8]=Q[8],V[R+9]=Q[9],V[R+10]=Q[10],V[R+11]=Q[11],V[R+12]=Q[12],V[R+13]=Q[13],V[R+14]=Q[14],V[R+15]=Q[15],V},determinant:function(){var V=this.el||this,R=V[0],Q=V[4],X=V[8],b=V[12],A=V[1],c=V[5],f=V[9],S=V[13],F=V[2],D=V[6],P=V[10],N=V[14];return V[3]*(+b*f*D-X*S*D-b*c*P+Q*S*P+X*c*N-Q*f*N)+V[7]*(+R*f*N-R*S*P+b*A*P-X*A*N+X*S*F-b*f*F)+V[11]*(+R*S*D-R*c*N-b*A*D+Q*A*N+b*c*F-Q*S*F)+V[15]*(-X*c*F-R*f*D+R*c*P+X*A*D-Q*A*P+Q*f*F)},copy:function(V){var R=this.el,V=V.el||V;return R[0]=V[0],R[1]=V[1],R[2]=V[2],R[3]=V[3],R[4]=V[4],R[5]=V[5],R[6]=V[6],R[7]=V[7],R[8]=V[8],R[9]=V[9],R[10]=V[10],R[11]=V[11],R[12]=V[12],R[13]=V[13],R[14]=V[14],R[15]=V[15],this},composeFromArray:function(V,R,Q){var X,b,A,c,f,S,F,D,P,R=R?(X=R[0],b=R[1],A=R[2],R[3]):(A=b=X=0,1);return Q?(c=Q[0],f=Q[1],S=Q[2]):c=f=S=1,V?(F=V[0],D=V[1],P=V[2]):F=D=P=0,this._composeImpl(X,b,A,R,c,f,S,F,D,P)},compose:function(V,R,Q){var X,b,A,c,f,S,F,D,P,R=R?(X=R._x,b=R._y,A=R._z,R._w):(A=b=X=0,1);return Q?(c=Q.x,f=Q.y,S=Q.z):c=f=S=1,V?(F=V.x,D=V.y,P=V.z):F=D=P=0,this._composeImpl(X,b,A,R,c,f,S,F,D,P)},_composeImpl:function(V,R,Q,X,b,A,c,f,S,F){var D=this.el,P=Q+Q,N=V*(e=V+V),q=V*(J=R+R),V=V*P,L=R*J,R=R*P,Q=Q*P,e=X*e,J=X*J,X=X*P;return D[0]=(1-(L+Q))*b,D[1]=(q+X)*b,D[2]=(V-J)*b,D[3]=0,D[4]=(q-X)*A,D[5]=(1-(N+Q))*A,D[6]=(R+e)*A,D[7]=0,D[8]=(V+J)*c,D[9]=(R-e)*c,D[10]=(1-(N+L))*c,D[11]=0,D[12]=f,D[13]=S,D[14]=F,D[15]=1,this},decompose:(zT=new K8,YT=new y8,function(V,R,Q){var X=this.el,b=zT.set(X[0],X[1],X[2]).length(),A=zT.set(X[4],X[5],X[6]).length(),c=zT.set(X[8],X[9],X[10]).length(),V=(this.determinant()<0&&(b=-b),V.x=X[12],V.y=X[13],V.z=X[14],YT.copy(this),1/b),X=1/A,f=1/c;return YT.el[0]*=V,YT.el[1]*=V,YT.el[2]*=V,YT.el[4]*=X,YT.el[5]*=X,YT.el[6]*=X,YT.el[8]*=f,YT.el[9]*=f,YT.el[10]*=f,R.setFromRotationMatrix(YT),Q.x=b,Q.y=A,Q.z=c,this}),equals:function(V){for(var R=this.el,Q=V.el,X=0;X<16;X++)if(R[X]!==Q[X])return!1;return!0},transpose:function(){var V=this.el,R=V[1];return V[1]=V[4],V[4]=R,R=V[2],V[2]=V[8],V[8]=R,R=V[6],V[6]=V[9],V[9]=R,R=V[3],V[3]=V[12],V[12]=R,R=V[7],V[7]=V[13],V[13]=R,R=V[11],V[11]=V[14],V[14]=R,this}}),new y8),Pf=new y8,Nf=(y8.determinantOfArray=(MT=I.Math.Matrix4.prototype.determinant,function(V){return V?MT.call(V):0}),y8.multiplyMatrixArray=function(V,R,Q,X,b,A){var c=V.el||V,R=R.el||R,Q=Q.el||Q,f=R[b+0],S=R[b+4],F=R[b+8],D=R[b+12],P=R[b+1],N=R[b+5],q=R[b+9],L=R[b+13],e=R[b+2],J=R[b+6],s=R[b+10],l=R[b+14],H=R[b+3],K=R[b+7],y=R[b+11],R=R[b+15],b=Q[A+0],t=Q[A+4],g=Q[A+8],m=Q[A+12],z=Q[A+1],Y=Q[A+5],u=Q[A+9],o=Q[A+13],_=Q[A+2],O=Q[A+6],w=Q[A+10],a=Q[A+14],i=Q[A+3],n=Q[A+7],M=Q[A+11],Q=Q[A+15];return c[X+0]=f*b+S*z+F*_+D*i,c[X+4]=f*t+S*Y+F*O+D*n,c[X+8]=f*g+S*u+F*w+D*M,c[X+12]=f*m+S*o+F*a+D*Q,c[X+1]=P*b+N*z+q*_+L*i,c[X+5]=P*t+N*Y+q*O+L*n,c[X+9]=P*g+N*u+q*w+L*M,c[X+13]=P*m+N*o+q*a+L*Q,c[X+2]=e*b+J*z+s*_+l*i,c[X+6]=e*t+J*Y+s*O+l*n,c[X+10]=e*g+J*u+s*w+l*M,c[X+14]=e*m+J*o+s*a+l*Q,c[X+3]=H*b+K*z+y*_+R*i,c[X+7]=H*t+K*Y+y*O+R*n,c[X+11]=H*g+K*u+y*w+R*M,c[X+15]=H*m+K*o+y*a+R*Q,V},I.Math.Triangle=function(V,R,Q){this.a=V!==N8?V:new K8,this.b=R!==N8?R:new K8,this.c=Q!==N8?Q:new K8}),qf=(v.assign(Nf,{barycoordFromPoint:(ET=new K8,$T=new K8,jT=new K8,function(V,R,Q,X,b){ET.subVectors(X,R),$T.subVectors(Q,R),jT.subVectors(V,R);var X=ET.dot(ET),Q=ET.dot($T),V=ET.dot(jT),R=$T.dot($T),A=$T.dot(jT),c=X*R-Q*Q,b=b||new K8;return 0==c?b.set(-2,-1,-1):b.set(1-(R=(R*V-Q*A)*(c=1/c))-(X=(X*A-Q*V)*c),X,R)}),uvIntersection:(rT=new K8,function(V,R,Q,X,b,A,c){return Nf.barycoordFromPoint(V,R,Q,X,rT),b.multiplyScalar(rT.x),A.multiplyScalar(rT.y),c.multiplyScalar(rT.z),b.add(A).add(c),b.clone()})}),I.Math.Euler=function(V,R,Q,X,b){this.set(V,R,Q,X,b)}),Lf=(qf.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],qf.DefaultOrder="XYZ",qf.ReverseOrder=(CT={xyz:"ZYX",xzy:"YZX",yxz:"ZXY",yzx:"XZY",zxy:"YXZ",zyx:"XYZ"},function(V){return CT[V]}),v.defineProperties(qf.prototype,{x:{get:function(){return this._x},set:function(V){this._x=V,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(V){this._y=V,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(V){this._z=V,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(V){this._order=V,this.onChangeCallback()}}}),v.assign(qf.prototype,{set:function(V,R,Q,X,b){return H8(V)&&(b=Q,X=R,Q=V[2],R=V[1],V=V[0]),X?b&&(X=qf.ReverseOrder(X)):X=this._order||"ZYX",this._x=V||0,this._y=R||0,this._z=Q||0,this._order=X,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(V){return this._x=V._x,this._y=V._y,this._z=V._z,this._order=V._order,this.onChangeCallback(),this},setFromRotationMatrix:function(V,R,Q){var X=I.Math.clamp,b=(V=V.el||V)[0],A=V[4],c=V[8],f=V[1],S=V[5],F=V[9],D=V[2],P=V[6],V=V[10];return"XYZ"===(R=R||this._order)?(this._y=Math.asin(X(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-F,V),this._z=Math.atan2(-A,b)):(this._x=Math.atan2(P,S),this._z=0)):"YXZ"===R?(this._x=Math.asin(-X(F,-1,1)),Math.abs(F)<.9999999?(this._y=Math.atan2(c,V),this._z=Math.atan2(f,S)):(this._y=Math.atan2(-D,b),this._z=0)):"ZXY"===R?(this._x=Math.asin(X(P,-1,1)),Math.abs(P)<.9999999?(this._y=Math.atan2(-D,V),this._z=Math.atan2(-A,S)):(this._y=0,this._z=Math.atan2(f,b))):"ZYX"===R?(this._y=Math.asin(-X(D,-1,1)),Math.abs(D)<.9999999?(this._x=Math.atan2(P,V),this._z=Math.atan2(f,b)):(this._x=0,this._z=Math.atan2(-A,S))):"YZX"===R?(this._z=Math.asin(X(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-F,S),this._y=Math.atan2(-D,b)):(this._x=0,this._y=Math.atan2(c,V))):"XZY"===R?(this._z=Math.asin(-X(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(P,S),this._y=Math.atan2(c,b)):(this._x=Math.atan2(-F,V),this._y=0)):console.warn("unsupported order: "+R),this._order=R,!1!==Q&&this.onChangeCallback(),this},setFromQuaternion:(IT=new y8,function(V,R,Q){return IT.makeRotationFromQuaternion(V),this.setFromRotationMatrix(IT,R,Q)}),setFromVector3:function(V,R){return this.set(V.x,V.y,V.z,R||this._order)},reorder:(pT=new Xf,function(V){return pT.setFromEuler(this),this.setFromQuaternion(pT,V)}),equals:function(V){return V._x===this._x&&V._y===this._y&&V._z===this._z&&V._order===this._order},fromArray:function(V){return this._x=V[0],this._y=V[1],this._z=V[2],V[3]!==N8&&(this._order=V[3]),this.onChangeCallback(),this},toArray:function(V,R){return(V=V===N8?[]:V)[R=R===N8?0:R]=this._x,V[R+1]=this._y,V[R+2]=this._z,V[R+3]=this._order,V},toVector3:function(V){return V?V.set(this._x,this._y,this._z):new K8(this._x,this._y,this._z)},simpleXYZRotation:function(V,R){return V.x=R.x+B.angleMod(V.x-R.x),V.y=R.y+B.angleMod(V.y-R.y),V.z=R.z+B.angleMod(V.z-R.z),V},nearestRotation:(vT=new K8,hT=new K8,TT=new K8,WT=new K8,UT={X:"x",Y:"y",Z:"z"},function(V){H8(V)&&(V=WT.copy(V));var R,Q=this.order;return this.simpleXYZRotation(this,V),R=UT[Q[0]],TT[R]=w+this[R],R=UT[Q[1]],TT[R]=w-this[R],R=UT[Q[2]],TT[R]=w+this[R],this.simpleXYZRotation(TT,V),vT.subVectors(this,V),hT.subVectors(TT,V),vT.lengthSq()>hT.lengthSq()&&(this.x=TT.x,this.y=TT.y,this.z=TT.z),this}),onChange:function(V){return this.onChangeCallback=V,this},onChangeCallback:function(){}}),B.eulerArrayToQuaternionArray=(ZT=new Xf,kT=new qf,function(V,R){return ZT.setFromEuler(kT.fromArray(V)).toArray(R)}),I.Math.Interpolant=function(V,R,Q,X){this.parameterPositions=V,this._cachedIndex=0,V=R.length/V.length,Q&&(V/=Q),this.resultBuffer=X!==N8?X:new R.constructor(V),this.sampleValues=R,this.valueSize=V,this.settings=null,this.DefaultSettings_={}}),ef=(v.assign(Lf.prototype,{evaluate:function(V){var R,Q=this.parameterPositions,X=this._cachedIndex,b=Q[X],A=Q[X-1];V:{R:{Q:{X:if(!(V<b)){for(var c=X+2;;){if(b===N8){if(V<A)break X;return X=Q.length,this._cachedIndex=X,this.copySampleValue_(X-1,V,A)}if(X===c)break;if(A=b,V<(b=Q[++X]))break R}R=Q.length;break Q}if(A<=V)break V;var f=Q[1];for(V<f&&(X=2,A=f),c=X-2;;){if(A===N8)return this._cachedIndex=0,this.copySampleValue_(0,V,b);if(X===c)break;if(b=A,(A=Q[--X-1])<=V)break R}R=X,X=0}for(;X<R;){var S=X+R>>>1;V<Q[S]?R=S:X=1+S}if(b=Q[X],(A=Q[X-1])===N8)return this._cachedIndex=0,this.copySampleValue_(0,V,b);if(b===N8)return X=Q.length,this._cachedIndex=X,this.copySampleValue_(X-1,A,V)}this._cachedIndex=X,this.intervalChanged_(X,A,b)}return this.interpolateImpl(X,A,V,b)},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(V){for(var R=this.resultBuffer,Q=this.sampleValues,X=this.valueSize,b=V*X,A=0;A!==X;++A)R[A]=Q[b+A];return R},interpolateImpl:function(){},intervalChanged_:function(){}}),(Km.prototype=v.create(Lf.prototype)).interpolateImpl=function(V){return this.copySampleValue_(V-1)},(ym.prototype=v.create(Lf.prototype)).interpolateImpl=function(V,R,Q,X){for(var b=this.resultBuffer,A=this.sampleValues,c=this.valueSize,f=V*c,S=f-c,F=(Q-R)/(X-R),D=1-F,P=0;P!==c;++P)b[P]=A[S+P]*D+A[f+P]*F;return b},(tm.prototype=v.create(Lf.prototype)).interpolateImpl=function(V,R,Q,X){for(var b=this.resultBuffer,A=this.sampleValues,c=this.valueSize,f=(Q-R)/(X-R),S=V*c,F=S+c;S!==F;S+=4)Xf.slerpFlat(b,0,A,S-c,A,S,f);return b},(gm.prototype=v.create(Lf.prototype)).intervalChanged_=function(V,R,Q){var X=this.parameterPositions,b=V-2,A=V+1,c=X[b],f=X[A];if(c===N8)switch(this.getSettings_().endingStart){case"ZeroSlope":b=V,c=2*R-Q;break;case"WrapAround":c=R+X[b=X.length-2]-X[b+1];break;default:b=V,c=Q}if(f===N8)switch(this.getSettings_().endingEnd){case"ZeroSlope":A=V,f=2*Q-R;break;case"WrapAround":f=Q+X[A=1]-X[0];break;default:A=V-1,f=R}var S=.5*(Q-R),F=this.valueSize;this._weightPrev=S/(R-c),this._weightNext=S/(f-Q),this._offsetPrev=b*F,this._offsetNext=A*F},gm.prototype.interpolateImpl=function(V,R,Q,X){for(var b=this.resultBuffer,A=this.sampleValues,c=this.valueSize,f=V*c,S=f-c,F=this._offsetPrev,D=this._offsetNext,V=this._weightPrev,P=this._weightNext,N=-V*(R=(X=(Q=(Q-R)/(X-R))*Q)*Q)+2*V*X-V*Q,q=(1+V)*R+(-1.5-2*V)*X+(-.5+V)*Q+1,L=(-1-P)*R+(1.5+P)*X+.5*Q,e=P*R-P*X,J=0;J!==c;++J)b[J]=N*A[F+J]+q*A[S+J]+L*A[f+J]+e*A[D+J];return b},(mm.prototype=v.create(Lf.prototype)).copySampleValue_=function(V){for(var R=this.resultBuffer,Q=this.sampleValues,X=this.valueSize,b=V*X*3+X,A=0;A!==X;A++)R[A]=Q[b+A];return R},mm.prototype.interpolateImpl=(xT=new Xf,function(V,R,Q,X){for(var b=this.resultBuffer,A=this.sampleValues,c=this.valueSize,f=2*c,S=3*c,F=X-R,D=V*S,P=D-S,N=-2*(R=(Q=(X=(Q-R)/F)*X)*X)+3*Q,q=R-Q,L=1-N,e=q-Q+X,J=0;J!==c;J++){var s=A[P+J+c],l=A[P+J+f]*F,H=A[D+J+c],K=A[D+J]*F;b[J]=L*s+e*l+N*H+q*K}return this.isQuaternion&&xT.fromArray(b).normalize().toArray(b),b}),I.Math.BitArray=function(V){V instanceof ef?this.fromString(V.toString()):"string"==typeof V?this.fromString(V):(this.size=V=V||0,this.data=new Uint32Array(Math.ceil(V/32)))}),Jf=(v.assign(ef.prototype,{set:function(V,R,Q){var X=V>>5,V=31&V;Q&&1<Q?(Q=8==Q?255:4===Q?15:3,R?R&=Q:R=0,this.data[X]=this.data[X]&~(Q<<V)|R<<V):R?this.data[X]|=1<<V:this.data[X]&=~(1<<V)},get:function(V,R){var Q=V>>5,V=31&V;return R&&1<R?this.data[Q]>>V&(8==R?255:4===R?15:3):0!=(this.data[Q]&1<<V)},toString:(BT=["","0","00","000","0000","00000","000000","0000000","00000000"],function(){for(var V,R="",Q=0,X=this.data.length;Q<X;Q++)V=this.data[Q].toString(16),R+=BT[8-V.length]+V;return R}),fromString:function(V){var R=V.length/8;this.size=32*R,this.data=new Uint32Array(R);for(var Q=0;Q<R;Q++)this.data[Q]=C8(V.substr(8*Q,8),16);return this}}),{ms_ac:function(V,R){for(var Q=R.ms_ac,X=0;X<Q.length;X++)!function(V,Q){var X="_"+Q;V[FJ(Q)]=function(){return this[X]},V[DJ(Q)]=function(V){var R=this[X];this[X]=V,this.fp(Q,R,V)}}(V,Q[X])},ms_listener:function(V,R){V.addListeners=function(){var R=this,V=Je;L8.mockTouch&&(V=qe.concat(Le).concat(ee));for(var Q=0,X=(R.__events__=V).length;Q<X;Q++){var b=V[Q];"wheel"===b&&!R.handle_wheel&&R.handle_mousewheel&&(R.handle_wheel=function(V){zJ(R,V)}),R["handle_"+b]&&function(R,V,Q){function X(V){"mousedown"!==R&&"mouseup"!==R&&"touchstart"!==R&&"touchend"!==R||Ss(V),Q.disabled||Q["handle_"+R](V)}var b="__"+R;Q[b]||(Q[b]=X,z8(V,R,X))}(b,R.getView(),R)}},V.removeListeners=function(){var V=this.__events__;if(V){this.__events__=N8;for(var R,Q,X,b,A=0,c=V.length;A<c;A++)this["handle_"+V[A]]&&(R=V[A],Q=this.getView(),0,(b=this[X="__"+R])&&(Y8(Q,R,b),delete this[X]))}}},ms_fire:function(V,R){V.mp=function(V,R,Q){this.addPropertyChangeListener(V,R,Q)},V.ump=function(V,R){this.removePropertyChangeListener(V,R)},V.fp=function(V,R,Q,X,b){return this.firePropertyChange(V,R,Q,X,b)},V.addPropertyChangeListener=function(V,R,Q){this._62I||(this._62I=new M_),this._62I.add(V,R,Q)},V.removePropertyChangeListener=function(V,R){this._62I&&this._62I.remove(V,R)},V.firePropertyChange=function(V,R,Q,X,b){if(X){if(X(R,Q))return!1}else if(R===Q)return!1;return(X=b||{}).property=V,X.oldValue=R,X.newValue=Q,X.source=this,(X.data=this)._62I&&this._62I.fire(X),this.onPropertyChanged&&this.onPropertyChanged(X),!0}},ms_attr:function(V,R){V.a=function(V,R){if(2===arguments.length)this.setAttr(V,R);else{if(!qJ(V))return this.getAttr(V);for(var Q in V)this.setAttr(Q,V[Q])}return this},V.getAttr=function(V,R){if(R===N8&&(R=1),this._attrObject&&V in this._attrObject)return this._attrObject[V];if(this.getCurrentDrawingImage){var Q=this.getCurrentDrawingImage();if(l8(Q)&&(Q=_e[Q]),qJ(Q)&&"dataBindings"in Q)for(var X=Q.dataBindings,b=X.length-1;0<=b;b--){var A=X[b];if(A.attr===V){if("defaultValue"in A)return A.defaultValue;break}}}return R?J[V]:N8},V.setAttr=function(V,R){this._attrObject||(this._attrObject={});var Q=this._attrObject[V];R===N8?delete this._attrObject[V]:this._attrObject[V]=R,this.fp&&this.fp("a:"+V,Q,R)&&this.onAttrChanged&&this.onAttrChanged(V,Q,R)},V.getSerializableAttrs=function(){var V,R={};for(V in this._attrObject)R[V]=1;return R}},ms_bnb:function(V,R){V.getBodyColor=function(V){return V.s("body.color")},V.getBorderColor=function(V){return V.s("border.color")}},_51o:function(V,R){V.mi=function(V,R,Q){this.addInteractorListener(V,R,Q)},V.umi=function(V,R){this.removeInteractorListener(V,R)},V.fi=function(V){this.fireInteractorEvent(V)},V.addInteractorListener=function(V,R,Q){this._63I||(this._63I=new M_),this._63I.add(V,R,Q)},V.removeInteractorListener=function(V,R){this._63I&&this._63I.remove(V,R)},V.fireInteractorEvent=function(V){this._63I&&this._63I.fire(V)},V.setInteractors=function(V){var R=this._interactors;R&&R.each(function(V){V.tearDown()}),H8(V)&&(V=new Z(V)),(this._interactors=V)&&V.each(function(V){V.setUp()}),this.fp("interactors",R,V),this.invalidateSelection()},V.getInteractors=function(){return this._interactors}},_49o:function(V,R){V._44O=q8,V._45O=q8,V.getTopPainters=function(){return this._44O},V.getBottomPainters=function(){return this._45O},V.addTopPainter=function(V){this._44O||(this._44O=new Z),this._44O.contains(V)||(this._44O.add(V),this.redraw&&this.redraw())},V.removeTopPainter=function(V){this._44O&&(this._44O.remove(V),this.redraw&&this.redraw())},V.addBottomPainter=function(V){this._45O||(this._45O=new Z),this._45O.contains(V)||(this._45O.add(V),this.redraw&&this.redraw())},V.removeBottomPainter=function(V){this._45O&&(this._45O.remove(V),this.redraw&&this.redraw())},V._93db=function(R,Q){var X=this;X._45O&&X._45O.each(function(V){V.draw?V.draw(R,Q):V.call(X,R,Q)})},V._92db=function(R,Q){var X=this;X._44O&&X._44O.each(function(V){V.draw?V.draw(R,Q):V.call(X,R,Q)})}},ms_sm:function(V,R){V.sm=function(){return this.getSelectionModel()},V.setSelectableFunc=function(V){this.sm().setFilterFunc(V)},V.getSelectableFunc=function(){return this.sm().getFilterFunc()},V.getSelectionModel=function(){return this._selectionModel||this.dm().sm()},V.isSelectionModelShared=function(){return!this._selectionModel},V.setSelectionModelShared=function(V){var R=this,Q=R.sm(),X=!R._selectionModel,b=R.handleSelectionChange,A=R.dm();X!==V&&(R.invalidateSelection&&R.invalidateSelection(),V?(A.sm().ms(b,R),R._selectionModel.ums(b,R),R._selectionModel.dispose(),R._selectionModel=q8):(A.sm().ums(b,R),R._selectionModel=new $_(A),R._selectionModel.ms(b,R)),R.onSelectionModelSharedChanged(),R.fp("selectionModelShared",X,V),R.fireViewEvent({kind:"selectionModelSharedChange",oldValue:X,newValue:V,oldSelectionModel:Q,newSelectionModel:R.sm()}))},V.onSelectionModelSharedChanged=function(){this.redraw(),this.invalidateSelection&&this.invalidateSelection()},V.removeSelection=function(){var V=this.dm();V.beginTransaction(),this.sm().toSelection().each(V.remove,V),V.endTransaction()},V.selectAll=function(){var R=this;R.sm().ss(R.dm().toDatas(function(V){return R.isVisible(V)&&R.isSelectable(V)}))},V.isSelected=function(V){return this.sm().co(V)},V.isSelectedById=function(V){return!!(V=this.dm().getDataById(V))&&this.isSelected(V)},V.isSelectable=function(V){return this.sm().isSelectable(V)}},ms_tx:function(V,R){V._64I=0,V._65O=0,V.isScrollable=function(){return this.getWidth()<this._64I},V._40o=function(){return this.isScrollable()},V.getLogicalPoint=function(V){return ts(V,this._canvas||this._view,this.tx(),this.ty?this.ty():0)},V.tx=function(V){if(V===N8)return this.getTranslateX();this.setTranslateX(V)},V.getTranslateX=function(){return this._65O},V.setTranslateX=function(V){var R=this.getWidth()-this._64I,R=(V=u8(V=0<(V=V<R?R:V)?0:V),this._65O);this._65O=V,this.fp(oA,R,V)}},ms_ty:function(V,R){V._23Q=0,V._66O=0,V._41o=function(){return this.getHeight()<this._23Q},V.getLogicalPoint=function(V){return ts(V,this._canvas||this._view,this.tx?this.tx():0,this.ty())},V.ty=function(V){if(V===N8)return this.getTranslateY();this.setTranslateY(V)},V.getTranslateY=function(){return this._66O},V.setTranslateY=function(V){var R=this.getHeight()-this._23Q,R=(V=u8(V=0<(V=V<R?R:V)?0:V),this._66O);this._66O=V,this.fp(_A,R,V)}},ms_txy:function(V,R){V._65O=0,V._66O=0,V.tx=function(V){if(V===N8)return this.getTranslateX();this.setTranslateX(V)},V.ty=function(V){if(V===N8)return this.getTranslateY();this.setTranslateY(V)},V.onTranslateEnded=function(){},V.setTranslate=function(R,Q,V){var X,b,A=this;(V=gJ(V))?(A._65I&&A._65I.stop(!0),X=A.tx(),b=A.ty(),V.action=function(V){A.setTranslate(X+(R-X)*V,b+(Q-b)*V)},V._37o=function(){delete A._66I,delete A._65I,A.onTranslateEnded()},A._66I=1,A._65I=df(V)):(A.tx(R),A.ty(Q))},V.getTranslateX=function(){return this._65O},V.setTranslateX=function(V){V=this.adjustTranslateX(V);var R=this._65O;this._65O=V,this.fp(oA,R,V)},V.getTranslateY=function(){return this._66O},V.setTranslateY=function(V){V=this.adjustTranslateY(V);var R=this._66O;this._66O=V,this.fp(_A,R,V)},V.adjustTranslateX=function(V){return u8(V)},V.adjustTranslateY=function(V){return u8(V)},V.translate=function(V,R,Q){this.setTranslate(this.tx()+V,this.ty()+R,Q)},V.getLogicalPoint=function(V){return ts(V,this._canvas||this._view,this.tx(),this.ty())}},ms_dm:function(V,R){V.dm=function(V){if(!V)return this.getDataModel();this.setDataModel(V)},V.getDataModel=function(){return this._dataModel}},ms_lp:function(V,R){V.lp=function(V){return this.getLogicalPoint(V)}},ms_v:function(V,R){V._disabled=!1,V.setDisabled=function(V,R){var Q=this._disabled;Q!==V&&(Q&&(zs(this._63O),delete this._63O),V&&(BJ(this._view,this._63O=f2(R)),this.iv()),this._disabled=V,this.fp("disabled",Q,V))},V.isDisabled=function(){return this._disabled},V.getDisabledDiv=function(){return this._63O},V.getView=function(){return this._view},V.addToDOM=function(V){var R=this,Q=R.getView(),X=Q.style;(V=V||q.body).appendChild(Q),X.left="0",X.right="0",X.top="0",X.bottom="0",z8(j,"resize",function(){R.iv()}),R.iv()},V.setCursor=function(V){"default"===V&&(V=this._defaultCursor||V);var R=this.getView().style;R.cursor=V,R.cursor="-webkit-"+V,R.cursor="-moz-"+V},V.getWidth=function(){return this._view.clientWidth},V.getHeight=function(){return this._view.clientHeight},V.setWidth=function(V){this._view.style.width=V+JR,this.iv(),this.fp&&this.fp(uR,q8,V)},V.setHeight=function(V){this._view.style.height=V+JR,this.iv(),this.fp&&this.fp(oR,q8,V)},V.setFocus=function(V){var R=this._currentEditor;return!(V&&R&&(R=R.getView?R.getView():R).contains(V.target)||(e2(this._view),this.endEditing&&this.endEditing(),this.fireViewEvent("focus"),0))},V.iv=function(V){this.invalidate(V)},V.invalidate=function(V){this._68I||(this._68I=1,this._ivTimerId=Zf(this._validateImpl,this,q8,V),this._ivTimerDelay=V,this.onInvalidated&&this.onInvalidated(),this.fireViewEvent("invalidate"))},V.validate=function(){var V=this._ivTimerId,R=this._ivTimerDelay;!1!==this._validateImpl()&&V&&kf(V,R)},V._validateImpl=function(){var V,R=this,Q=R._view;if(!R._68I)return!1;delete R._68I,Q.parentNode&&(0===Q.offsetWidth&&0===Q.offsetHeight&&R._67I!==q8?(R._67I===N8&&(R._67I=L8.reinvalidateCount),0<R._67I?R._67I--:R._67I=q8,R.iv()):(R.fireViewEvent("beginValidate"),R.validateImpl(),R.onValidated&&R.onValidated(),R.fireViewEvent("validate"),(V=R._63O)&&(Q.lastChild!==V&&(zs(V),BJ(Q,V)),_(V,0,0,R.getWidth(),R.getHeight())),VJ(R),A_(R),Dy(R),ou(R)))},V.layout=function(V,R,Q,X){1===arguments.length?_(this,V):_(this,V,R,Q,X)},V.addViewListener=function(V,R,Q){this._67O||(this._67O=new M_),this._67O.add(V,R,Q)},V.removeViewListener=function(V,R){this._67O.remove(V,R)},V.fireViewEvent=function(V){this._67O&&(l8(V)&&(V={kind:V}),this._67O.fire(V)),L8.viewListener&&L8.viewListener(this,V)}},ms_tip:function(V,R){V.setToolTipEnabled=function(V){V?d8||this._13o||(this.enableToolTip(),this.fp("toolTipEnabled",!1,!0)):this._13o&&(this.disableToolTip(),this.fp("toolTipEnabled",!0,!1))},V.isToolTipEnabled=function(){return!!this._13o},V.enableToolTip=function(){var V,Q=this;d8||Q._13o||(Q._13o=function(V){var R;V.toolTipView||((R=(V.toolTipView=Q).getToolTip(V))!=q8?(L8.toolTipContinual&&L8.isToolTipShowing()?gf(V,R):(mf(),He={timeout:W8(ge,Hf),e:V,info:R}),Ke={e:V,view:Q}):mf())},V=Q.getView(),z8(V,Xe,Q._13o),z8(V,"mouseleave",L8.hideToolTip))},V.disableToolTip=function(){var V;this._13o&&(V=this.getView(),Y8(V,Xe,this._13o),Y8(V,"mouseleave",L8.hideToolTip),delete this._13o)},V.getToolTip=function(V){return this.getDataAt?(V=this.getDataAt(V))?V.getToolTip():q8:this.getValue?this.getValue():void 0}},_52o:function(V,R){V._zoom=1,V._29I=ke,V.zoomIn=function(V,R){this.setZoom(this._zoom*Ef,V,R)},V.zoomOut=function(V,R){this.setZoom(this._zoom/Ef,V,R)},V.zoomReset=function(V,R){this.setZoom(1,V,R)},V.scrollZoomIn=function(V){this.setZoom(this._zoom*$f,q8,V)},V.scrollZoomOut=function(V){this.setZoom(this._zoom/$f,q8,V)},V.pinchZoomIn=function(V){this.setZoom(this._zoom*jf,q8,V)},V.pinchZoomOut=function(V){this.setZoom(this._zoom/jf,q8,V)},V.adjustZoom=function(V){return V<vf?vf:Cf<V?Cf:V},V.getZoom=function(){return this._zoom},V.setZoom=function(R,V,Q){var X,b=this;(V=gJ(V))?(b._14o&&b._14o.stop(!0),X=b._zoom,V.action=function(V){b._96O(X+(R-X)*V,Q)},V._37o=function(){delete b._zooming,delete b._14o,b.onZoomEnded()},b._zooming=1,b._14o=df(V)):b._96O(R,Q)},V._96O=function(V,R){var Q,X;(V=this.adjustZoom(V))!==this._zoom&&(this.validate(),Q=this._29I,X=this._zoom,0!==Q.width&&0!==Q.height&&(R=R||{x:Q.x+Q.width/2,y:Q.y+Q.height/2},this.tx((R.x-Q.x)*X-R.x*V),this.ty((R.y-Q.y)*X-R.y*V)),this._zoom=V,this.fp("zoom",X,V))}},ms_edge:function(V,R){V._2I=function(V){this._44I||(this._44I=new Z),this._42I||(this._42I=new Z),this._44I.add(V),this._42I.add(V),this._20I()},V._4I=function(V){this._44I||(this._44I=new Z),this._43I||(this._43I=new Z),this._44I.add(V),this._43I.add(V),this._20I()},V._16I=function(V){this._44I.remove(V),this._42I.remove(V),this._44I.isEmpty()&&delete this._44I,this._42I.isEmpty()&&delete this._42I,this._20I()},V._18I=function(V){this._44I.remove(V),this._43I.remove(V),this._44I.isEmpty()&&delete this._44I,this._43I.isEmpty()&&delete this._43I,this._20I()},V._20I=function(){var R,Q=this;delete Q._45I,!Q._44I||Q._44I.isEmpty()?delete Q._70O:(Q._44I.each(function(V){V.isLooped()&&!(R=R||{})[V._id]&&(Q._45I||(Q._45I=new Z),Q._45I.add(V),R[V._id]=V)}),R?(Q._70O=new Z,Q._44I.each(function(V){R[V._id]?"A"!==R[V._id]&&(R[V._id]="A",Q._70O.add(V)):Q._70O.add(V)})):Q._70O=Q._44I)},V.hasAgentEdges=function(){return!!this._49I&&!this._49I.isEmpty()},V.getSourceAgentEdges=function(){return this._46I},V.getTargetAgentEdges=function(){return this._47I},V._1I=function(V){this._46I||(this._46I=new Z),this._48I||(this._48I=new Z),this._46I.add(V),this._48I.add(V),this._19I()},V._3I=function(V){this._47I||(this._47I=new Z),this._48I||(this._48I=new Z),this._47I.add(V),this._48I.add(V),this._19I()},V._15I=function(V){this._46I.remove(V),this._48I.remove(V),this._46I.isEmpty()&&delete this._46I,this._48I.isEmpty()&&delete this._48I,this._19I()},V._17I=function(V){this._47I.remove(V),this._48I.remove(V),this._47I.isEmpty()&&delete this._47I,this._48I.isEmpty()&&delete this._48I,this._19I()},V._19I=function(){var R,Q=this,V=(delete Q._49I,Q._48I);V&&!V.isEmpty()&&(R={},V.each(function(V){R[V._id]?Q._49I||(Q._49I=new Z):R[V._id]=V}),Q._49I?V.each(function(V){R[V._id]&&(Q._49I.add(V),delete R[V._id])}):Q._49I=V)},V.getLoopedEdges=function(){return this._45I},V.getEdges=function(){return this._70O},V.getAgentEdges=function(){return this._49I},V.getSourceEdges=function(){return this._42I},V.getTargetEdges=function(){return this._43I},V._8I=function(){this._70O&&this._70O.each(function(V){V._7I()})}}}),sf=(mJ(L8,{getVersion:function(){return"8.0.1"}},!0),function(V){return V.devicePixelRatio||(V.screen&&V.screen.logicalXDPI?V.screen.deviceXDPI/V.screen.logicalXDPI:1)}),lf=(mJ(L8,{numberDigits:5,crossOrigin:"",baseZIndex:N8,isTouchable:d8,mockTouch:!0,devicePixelRatio:sf(j),reinvalidateCount:3,hitMaxArea:3e3,imageCacheThreshold:20,autoMakeVisible:!0,autoHideScrollBar:!0,disabledOpacity:.4,disabledBackground:u.disabledBackground,forceHierarchicalSerialization:!0,extractBatchTranslation:!1,extractShapeTranslation:!1,extractPolylineTranslation:!1,extractVerticesTranslation:!1,ignoreHTMLZoom:!0,touchHitTolerance:5,mouseHitTolerance:3,envmapProbeMinWaitTime:300,envmapProbeMaxWaitTime:25e3,EnvmapTextureSize:1024,hoverDelay:600,clickDelay:200,toolTipDelay:800,toolTipContinual:!1,getDragger:function(){return K2},lineCap:"butt",lineJoin:"round",imageGradient:"linear.northeast",dashPattern:[16,16],blockMinSize:1,textExtraWidth:4,encodeStringKey:null,doubleClickSpeed:500,doubleClickRange:1,doubleTouchRange:20,touchMoveThreshold:10,animDuration:200,animEasing:function(V){return V*V},labelColor:h4,labelSelectColor:T4,labelFont:"12px arial, sans-serif",widgetIndent:d8?30:20,widgetRowHeight:d8?30:20,widgetHeaderHeight:d8?32:22,widgetTitleHeight:d8?34:24,scrollBarColor:P,scrollBarSize:7,scrollBarTimeout:1e3,scrollBarMinLength:20,scrollBarInteractiveSize:d8?32:16,zoomIncrement:1.3,scrollZoomIncrement:1.05,pinchZoomIncrement:1.08,pinchZoomThreshold:1,zoomMax:20,zoomMin:.01,segmentResolution:12,shapeResolution:24,shapeSide:24,resourceLoaderEventTimeout:3e4,intersectionLineRect:nJ,intersectionLineLine:MJ,isEnter:$2,isEsc:j2,isDelete:o2,isSpace:E2,isLeft:i2,isUp:n2,isRight:M2,isDown:r2,isTouchEvent:l2,getTarget:function(V){return(l2(V)?s2(V):V).target},isString:l8,isNumber:PJ,isBoolean:NJ,isArray:H8,isSelectAll:u2,isFunction:LJ,isObject:qJ,getPropertyValue:rJ,setPropertyValue:EJ,addMethod:mJ,createGradient:function(V,R,Q,X,b,A,c,f){return(0,l4[R])(V,Q,X,b,A,c,f)},appendToScreen:function(V){V=V.getView?V.getView():V,(q.fullscreenElement||q.mozFullScreenElement||q.webkitFullscreenElement||q.msFullscreenElement||q.body).appendChild(V)},encodeString:function(V){return I.Math.encodeBase64(V,L8.encodeStringKey)},decodeString:function(V){return I.Math.decodeBase64(V,L8.encodeStringKey)},findView:function(V){function R(V,R){for(var Q,X,b=-1,A=null,c="2d"===R?qq.GraphView:k.Graph3dView,f=0,S=V.length;f<S;f++)V[f]instanceof c&&b<(X=(Q=V[f]).getWidth()*Q.getHeight())&&(b=X,A=Q);return A}var Q=[];return L8.traverse(q.body,function(V){V._ht&&Q.push(V._ht)},null,"children"),"all"===V?Q:"2d"===V?R(Q,"2d"):"3d"===V?R(Q,"3d"):R(Q,"3d")||R(Q,"2d")},toggleFullscreen:function(R){var Q,X,b,A,c,f,S,V,F,D,P=!!R.getView,N=P?R.getView():R;q.fullscreenElement||q.mozFullScreenElement||q.webkitFullscreenElement||q.msFullscreenElement?q.exitFullscreen?q.exitFullscreen():q.msExitFullscreen?q.msExitFullscreen():q.mozCancelFullScreen?q.mozCancelFullScreen():q.webkitExitFullscreen&&q.webkitExitFullscreen():(Q=!0,D=R.isSelfViewEvent?(X=R.getX(),b=R.getY(),f=R.getWidth(),S=R.getHeight(),V=N.style.background,F=N.style.backgroundColor,V||F||(N.style.backgroundColor="white"),N.requestFullscreen?N.requestFullscreen():N.msRequestFullscreen?N.msRequestFullscreen():N.mozRequestFullScreen?N.mozRequestFullScreen():N.webkitRequestFullscreen&&N.webkitRequestFullscreen(),setInterval(function(){var V;N!==(q.fullscreenElement||q.mozFullScreenElement||q.webkitFullscreenElement||q.msFullscreenElement)?(clearInterval(D),R.setX(X),R.setY(b),R.setWidth(f),R.setHeight(S),R._fullscreen=!1,N.style.oldBackgroundColor=F,R.iv()):(V=I.Default.getWindowInfo(),!Q&&V.width===R.getWidth()&&V.height===R.getHeight()||(R.setX(V.left),R.setY(V.top),R.setWidth(V.width),R.setHeight(V.height),R._fullscreen=!0,R.iv(),Q=!1))},500)):(A=N.style.left,c=N.style.top,f=N.style.width,S=N.style.height,V=N.style.background,F=N.style.backgroundColor,V||F||(N.style.backgroundColor="white"),N.requestFullscreen?N.requestFullscreen():N.msRequestFullscreen?N.msRequestFullscreen():N.mozRequestFullScreen?N.mozRequestFullScreen():N.webkitRequestFullscreen&&N.webkitRequestFullscreen(),setInterval(function(){var V;N!==(q.fullscreenElement||q.mozFullScreenElement||q.webkitFullscreenElement||q.msFullscreenElement)?(clearInterval(D),N.style.left=A,N.style.top=c,N.style.width=f,N.style.height=S,N.style.oldBackgroundColor=F,P&&R.iv()):(V=I.Default.getWindowInfo(),P&&(Q||V.width!==R.getWidth()||V.height!==R.getHeight())&&(_(R),Q=!1))},500)))},appendTimeStamp:function(V){return V},setCompType:function(V,R){l8(R)&&R.substr(0,12)==Ne&&(R=L8.parse(R)),LJ(R)||qJ(R)?Me[V]=R:c_(V)},getCompType:function(V){var R=Me[V];return R===N8&&je.test(V)&&(c_(V),R=Me[V]),R},getCompTypeMap:function(){return Me},drawCompType:function(V,R,Q,X,b,A){V(R,Q,X,b,A)},numberListener:(Pj={46:1,8:1,9:1,27:1,13:1,109:1,110:1,189:1,190:1},function(V){var R=V.keyCode;Pj[R]||65===R&&L8.isCtrlDown(V)||86===R&&L8.isCtrlDown(V)||67===R&&L8.isCtrlDown(V)||88===R&&L8.isCtrlDown(V)||35<=R&&R<=40||(V.shiftKey||R<48||57<R)&&(R<96||105<R)&&V.preventDefault()}),ignoreKeyCodes:[122,123],preventDefault:function(V){var R=V.target.tagName;"DIV"!==R&&"CANVAS"!==R||0<=L8.ignoreKeyCodes.indexOf(V.keyCode)||!("keydown"!==V.type||i2(V)||M2(V)||n2(V)||r2(V)||o2(V)||65===V.keyCode&&(V.metaKey||V.ctrlKey))||!0!==V.cancelable||(V.preventDefault(),V.preventManipulation&&V.preventManipulation())},getWindowInfo:function(){var V=q.documentElement;return{target:V=V&&(V.scrollLeft||V.scrollTop)?V:q.body,left:V.scrollLeft,top:V.scrollTop,width:j.innerWidth||V.clientWidth,height:j.innerHeight||V.clientHeight}},isDragging:function(){return!!K2},isLeftButton:function(V){return!!l2(V)||0===V.button},isMiddleButton:function(V){return!l2(V)&&V&&(1===V.button||4&(V.buttons||0))},isRightButton:function(V){return!l2(V)&&V&&(2===V.button||2&(V.buttons||0))},isInput:function(V){return!!V&&("INPUT"===(V=V.tagName)||"TEXTAREA"===V||"SELECT"===V)},getTouchCount:function(V){return l2(V)?V.touches.length:1},isDoubleClick:(Dj={},ue=new N,z=ue.getTime(),function(V){if(1<fs(V))return!1;var R=V.button==q8?"":V.button,Q=(R=V.type+R)+"_isDoubleClick",X=(X=Dj[R])||(Dj[R]={details:0,timeout:null,lastPoint:null});return V[Q]===N8&&(V[Q]=!0,R=Ps(V),X.timeout&&(U8(X.timeout),X.timeout=null),Q=l2(V)?L8.doubleTouchRange:L8.doubleClickRange,X.lastPoint&&qs(X.lastPoint,R)>Q&&_m(X),X.lastPoint=R,X.details++,X.timeout=W8(function(){_m(this)}.bind(X),L8.doubleClickSpeed)),2===X.details}),isShiftDown:function(V){return V?V.shiftKey:ne[16]},isCtrlDown:function(V){return V?G8?V.metaKey:V.ctrlKey:G8?ne[91]:ne[17]},getClientPoint:function(V){return{x:(V=l2(V)?s2(V):V).clientX,y:V.clientY}},isMouseEvent:function(V){return V instanceof MouseEvent||0===V.type.indexOf("mouse")},getTargetElement:function(V){var R=Ns(V),Q=L8.isMouseEvent(V)||!q.elementFromPoint?V.target:q.elementFromPoint(R.x,R.y);if(Z8&&q.elementFromPoint){for(var X=[],b=[];"none"===Q.style.pointerEvents;)X.push(Q),b.push(Q.style.display||""),Q.style.display="none",Q=q.elementFromPoint(R.x,R.y);X.forEach(function(V,R){V.style.display=b[R]})}return Q},getPagePoint:function(V){return{x:(V=l2(V)?s2(V):V).pageX,y:V.pageY}},createObject:function(V,R){var Q,X=new V;for(Q in R){var b,A=R[Q];LJ(A)?X[Q]=A:0===Q.indexOf("s:")?X.s(Q.substr(2),R[Q]):0===Q.indexOf("a:")?X.a(Q.substr(2),R[Q]):(b=DJ(Q),A=R[Q],X[b]?(X[b](A),"setToolTip"===b&&X.enableToolTip&&X.enableToolTip()):X[Q]=A)}return X},setImage:function(V,R,Q,X){var b=arguments.length;4===b?RJ(V,X,R,Q):2===b?l8(R)?R.substr(0,12)==Ne?de(V,L8.parse(R)):RJ(V,R):de(V,R):1===b&&RJ(V,V)},getImage:function(V,R,Q){var X,b;return V==q8?q8:(qJ(V)?X=V:(X=_e[V],!V||X!==N8||Be&&Be[V]||(RJ(V,V),X=_e[V])),R&&X&&X.tagName?(X[V="override"===Q?"colors_override":"override_rgb"===Q?"colors_override_rgb":"override_a"===Q?"colors_override_a":"colors"]||(X[V]={__count__:0}),(b=X[V][R])||(X[V].__count__>L8.imageCacheThreshold&&(X[V]={__count__:0}),b=function(V,R,Q,X,b){var A=IJ(),c=(A.width=Q,A.height=X,A.getContext("2d"));c.drawImage(V,0,0,Q,X);try{for(var f=c.getImageData(0,0,Q,X),S=f.data,F=0,D=S.length;F<D;F+=4){var P=S[F+0],N=S[F+1],q=S[F+2],L=S[F+3];"override_a"===b?S[F+3]=255*R[3]:"override_rgb"===b?(S[F+0]=255*R[0],S[F+1]=255*R[1],S[F+2]=255*R[2]):"override"===b?(S[F+0]=255*R[0],S[F+1]=255*R[1],S[F+2]=255*R[2],S[F+3]=255*R[3]):(S[F+0]=R[0]*P,S[F+1]=R[1]*N,S[F+2]=R[2]*q,S[F+3]=R[3]*L)}c.putImageData(f,0,0)}catch(R){return V}return A}(X,I2(R),X.width,X.height,Q),X[V][R]=b,X[V].__count__++),b):X)},isImageComplete:function(V,R,Q){var X=U(V);if(!X)return!1;if(X.tagName)return"CANVAS"===X.tagName||("VIDEO"===X.tagName?2<=X.readyState:X.complete);for(var b=X.comps,A=!0,c=0,f=b.length;c<f;c++){var S,F=(S=b[c]).type;if("image"===S.type){if((V=S.name)&&V.func&&(V=p(V,R)),!Wf(V,R,Q)){A=!1;break}}else if(je.test(F)&&L8.getCompType(F)===N8){c_(F),L8.getCompType(F)===N8&&(A=!1);break}}return A},getId:(Fj=1,function(){return++Fj}),callLater:function(V,R,Q,X){function b(){V.apply(R,Q)}return X?W8(b,X):j.requestAnimationFrame(b)},cancelLater:function(V,R){R?U8(V):j.cancelAnimationFrame(V)},clone:function(V){if(null==V||"object"!=typeof V)return V;if(V instanceof Date)return(R=new Date).setTime(V.getTime()),R;if(V instanceof Array){for(var R=[],Q=0,X=V.length;Q<X;Q++)R[Q]=Bf(V[Q]);return R}var b=[Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array],A=b.length;for(Q=0;Q<A;Q++)if(V instanceof b[Q])return new b[Q](V);if(V instanceof Z){for(R=new Z,Q=0,X=V.length;Q<X;Q++)R.set(Q,Bf(V.get(Q)));return R}if(V instanceof r_)return V;if(V instanceof E_)return(R=new E_).deserialize(V.serialize()),R;if(V instanceof v){var c,R={};for(c in V)V.hasOwnProperty(c)&&(R[c]=Bf(V[c]));return R}return V},callWhenLoaded:function(V,R){var Q=Ye(V,R=R||100);(ze=ze||{})[Q]={tick:Q,cb:V,delay:R}},beforeLoadURL:function(V,R){if(ze){var Q={};for(R in ze){var X=ze[R],b=(U8(X.tick),Ye(X.cb,X.delay));Q[b]={tick:b,delay:X.delay,cb:X.cb}}ze=Q}return L8.convertURL?L8.convertURL(V,R):V},convertURL:function(V){return V},handleRefGraphLoaded:function(V,R,Q){},handleCompTypeLoaded:function(V,R){},handleImageLoaded:function(V,R){},handleUnfoundImage:function(V,R){return L8.getImage("default_blank")},resizeImage:function(V,R,Q,X){Q=Q||R;var b=(X=X||IJ()).getContext("2d");return xJ(X,R,Q,1),b.drawImage(V,0,0,R,Q),X},resizeImagePOT:function(V,R,Q){if(!V||!V.tagName)return V;var X,b=V.width,A=V.height;return b&&A&&(!B.isPOT(b)||!B.isPOT(A)||R&&b!==A)?(R=R?X=B.nearestPOT(Math.min(b,A)):(X=B.nearestPOT(b),B.nearestPOT(A)),L8.resizeImage(V,X,R,Q)):V},sortFunc:function(V,R){if(V===R)return 0;if(V==q8&&R!=q8)return 1;if(V!=q8&&R==q8)return-1;if(V==q8&&R==q8)return 0;var Q,X=typeof V,b=typeof R;return X==IA&&b==IA?Q=V.localeCompare(R):X==BA&&b==BA&&(Q=V-R),0<(Q=Q===N8?(""+V).localeCompare(""+R):Q)?1:Q<0?-1:0},getClassMap:function(){return oe},getClass:function(V){if(l8(V)){if(!(Q=oe[V])){for(var R=V.split("."),Q=j,X=0;X<R.length;X++)Q=Q[R[X]];oe[V]=Q}return Q}return V},def:function(V,R,Q){function X(){}var b,A,c;if(X.prototype=R.prototype,b=new X,l8(V)){if(oe[V])throw"'"+V+"' already defined";c=Gf(V),b.getClassName=function(){return V}}else c=V;if(b.constructor=c,b.getClass=function(){return c},b.getSuperClass=function(){return R},Q)for(A in Q)Jf[A]&&Jf.hasOwnProperty(A)?Jf[A](b,Q):u4(b,Q,A);c.prototype=b,c.superClass=R.prototype},startAnim:function(R){return(R=Bf(R)).easing=R.easing||L8.animEasing,R.duration||R.frames||(R.duration=L8.animDuration),R.t=0,R.duration?R.interval=0:(R.frame=0,R.interval=R.interval||10),R.tick=function(){var V;R.duration?(V=(XJ()-R.startTime)/R.duration,R.t=V=1<V?1:V,R.action(R.easing(V),V),R.isRunning()&&(1===V?R.stop():R._isPaused||(R.timeId=Zf(R.tick)))):(R.frame++,V=R.t=R.frame/R.frames,R.action(R.easing(V),V),R.isRunning()&&(R.frame<R.frames?R._isPaused||(R.timeId=Zf(R.tick,q8,q8,R.interval)):R.stop()))},R.resume=function(){R._isPaused&&(delete R._isPaused,R.duration?R.t<1&&(R.startTime=XJ()-R.duration*R.t,R.timeId=Zf(R.tick)):R.frame<R.frames&&(R.timeId=Zf(R.tick,q8,q8,R.interval)))},R.pause=function(){kf(R.timeId,!R.duration),R._isPaused=!0},R.isPaused=function(){return this._isPaused},R.stop=function(V){R.isRunning()&&(kf(R.timeId,!R.duration),delete R.timeId,R.duration?R.t<1&&V&&(R.t=1,R.action(R.easing(1),1)):R.frame<R.frames&&V&&(R.frame=R.frames,R.action(R.easing(1),1)),R._37o&&R._37o(),R.finishFunc&&R.finishFunc())},R.isRunning=function(){return R.timeId!=q8},R.delay?Zf(om,q8,[R],R.delay):om(R),R},getTextSize:(fj={},Sj=q?IJ().getContext("2d"):q8,function(V,R){return Sj.font=V||_f,(V=fj[Sj.font])||(V=2*Sj.measureText("e").width+4,fj[Sj.font]=V),{width:Sj.measureText(R).width+L8.textExtraWidth,height:V}}),drawText:function(V,R,Q,X,b,A,c,f,S,F,D){var P,N;R!=q8&&(P=Xs(Q,R),(N={}).y=F&&F!==PR?F===fR?A+P.height/2:A+f-P.height/2:A+f/2,N.x=S&&S!==AR?S===cR?b+c-P.width/2:b+c/2:b+P.width/2,X2(V,R,N,Q,X),D&&V2(V,R,Q,X,N.x,N.y,P.width,D))},getDistance:function(V,R){var Q=V.length;return R?3===Q?O8(T8(V[0]-R[0])+T8(V[1]-R[1])+T8(V[2]-R[2])):2===Q?O8(T8(V[0]-R[0])+T8(V[1]-R[1])):V.z===N8?O8(T8(R.x-V.x)+T8(R.y-V.y)):O8(T8(R.x-V.x)+T8(R.y-V.y)+T8(R.z-V.z)):3===Q?O8(T8(V[0])+T8(V[1])+T8(V[2])):2===Q?O8(T8(V[0])+T8(V[1])):void 0},brighter:function(V,R){return R4(V,(R=R<0?-R:R)||40)},darker:function(V,R){return R4(V,(R=0<R?-R:R)||-40)},traverse:(cj={},function(V,R,Q,X){var b,S;(b=(b=cj[X=X||""])?b:cj[X]=(S=X,function V(R,Q,X,b){var A;if(X&&X(R,Q),A=(A=""===S?R.getChildren():R[S])instanceof I.List?A.getArray():A)for(var c=0,f=A.length;c<f;c++)V(A[c],R,X,b);b&&b(R,Q)}))(V,null,R,Q)}),unionPoint:function(V,R){if(!V)return q8;if(2===arguments.length)return V&&R?{x:X8(V.x,R.x),y:X8(V.y,R.y),width:w8(V.x-R.x),height:w8(V.y-R.y)}:q8;var Q=V;if((Q=Q._as||Q).length===N8)return q8;var X=Q.length;if(X<=0)return q8;for(var b=1,A={x:(c=Q[0]).x,y:c.y,width:0,height:0};b<X;b++){var c=Q[b],f=X8(A.x,c.x),S=Q8(A.x+A.width,c.x),F=X8(A.y,c.y),D=Q8(A.y+A.height,c.y);A.x=f,A.y=F,A.width=S-f,A.height=D-F}return A},unionRect:function(V,R){return V&&!R?Bf(V):!V&&R?Bf(R):V&&R?((Q={x:X8(V.x,R.x),y:X8(V.y,R.y)}).width=Q8(V.x+V.width,R.x+R.width)-Q.x,Q.height=Q8(V.y+V.height,R.y+R.height)-Q.y,Q):q8;var Q},containsPoint:function(V,R,Q,X){var b,A,c,f;return X!=q8&&1!==X&&(b=V.x+V.width/2,A=V.y+V.height/2,V={x:b-V.width/2*X,y:A-V.height/2*X,width:V.width*X,height:V.height*X}),Q?(b=V.width/2,A=V.height/2,X=J8(-Q),Q=e8(-Q),c=R.x-V.x-b,f=R.y-V.y-A,Js({x:-b,y:-A,width:V.width,height:V.height},R={x:Q*c-X*f,y:X*c+Q*f})):!(!V||R.x<V.x||R.y<V.y||R.x>V.x+V.width||R.y>V.y+V.height)},containsRect:function(V,R){if(!V||!R)return!1;var Q=R.x,X=R.y,b=R.width,R=R.height,A=V.width,c=V.height;if((A|c|b|R)<0)return!1;var f=V.x,V=V.y;if(Q<f||X<V)return!1;if(A+=f,(b+=Q)<=Q){if(f<=A||A<b)return!1}else if(f<=A&&A<b)return!1;if(c+=V,(R+=X)<=X){if(V<=c||c<R)return!1}else if(V<=c&&c<R)return!1;return!0},intersectsRect:function(V,R){if(!V||!R)return!1;var Q=R.width,X=R.height,b=V.width,A=V.height;if(b<=0||A<=0||Q<=0||X<=0)return!1;var c=R.x,R=R.y,f=V.x;return A+=V=V.y,Q+=c,X+=R,c<(b+=f)&&R<A&&f<Q&&V<X},intersection:function(V,R){if(!V||!R)return q8;var Q=R.x,X=R.y,b=V.x,A=V.y,c=Q,f=X,S=b,F=A;return c+=R.width,f+=R.height,(S+=V.width)<c&&(c=S),(F+=V.height)<f&&(f=F),f-=X=X<A?A:X,(c-=Q=Q<b?b:Q)<=0||f<=0?q8:{x:Q,y:X,width:c,height:f}},grow:function(V,R,Q){Q===N8&&(Q=R),V.x-=R,V.y-=Q,V.width=V.width+2*R,V.height=V.height+2*Q},getScreenPoint:function(V,R,Q,X,b,A,c){var f=Q.getBoundingClientRect(),V=V*(A||1)-Q.scrollLeft+(X||0),A=R*(c||1)-Q.scrollTop+(b||0);return(X=Y4(Q,!1))?((R=new K8(V,A,0)).applyMatrix4(X),{x:R.x,y:R.y}):{x:V+f.left,y:A+f.top}},getLogicalPoint:function(V,R,Q,X,b,A){var c,f=R.getBoundingClientRect(),S=V.target?(Ds(V)?G8?ne[91]=!0:ne[17]=!0:G8?ne[91]=!1:ne[17]=!1,Fs(V)?ne[16]=!0:ne[16]=!1,c=(V=l2(V)?s2(V):V).clientX,V.clientY):(c=V.x,V.y),F=Y4(R,!0);if(F){var D=new K8(c,S,0);D.applyMatrix4(F);do{if(Math.abs(D.z)<=1e-6)break;var P=new K8(c,S,1);if(P.applyMatrix4(F),Math.abs(P.z)<=1e-6){D=P;break}}while(P.sub(D),!(Math.abs(P.z)<=1e-6)&&(D.addScaledVector(P,-D.z/P.z),0));return{x:(D.x+R.scrollLeft-(Q||0))/(b||1),y:(D.y+R.scrollTop-(X||0))/(A||1)}}return{x:(c-f.left+R.scrollLeft-(Q||0))/(b||1),y:(S-f.top+R.scrollTop-(X||0))/(A||1)}},removeHTML:function(V){return!(!(V=V&&V.getView?V.getView():V)||!V.parentNode||(Aj!==V&&((Aj=V).parentNode.removeChild(V),Aj=q8),0))},getToolTipDiv:function(){var V;return se||(se=pJ(),le=pJ(),V=se.style,L8.baseZIndex!=q8&&(V.zIndex=C8(L8.baseZIndex)+3+""),V.whiteSpace="nowrap",V.color=L8.toolTipLabelColor,V.background=L8.toolTipBackground,V.font=L8.toolTipLabelFont,V.padding="5px",V.boxShadow="0px 0px 3px "+L8.toolTipShadowColor),se},isToolTipShowing:function(){return!(!se||!se.parentNode)||!(!le||!le.parentNode)},updateToolTipContent:function(V,R){L8.isToolTipShowing()&&(R=R||Ke&&Ke.view,(V=V===N8&&R&&Ke.e?R.getToolTip(Ke.e):V)!=q8&&((V.html?(V=V.html,le):se).innerHTML=V))},hideToolTip:function(){var V;te(),L8.isToolTipShowing()&&(zs(se),zs(le),(V=Ke&&Ke.view)&&V.onHideToolTip&&V.onHideToolTip(),Ke=q8)},showToolTip:function(V,R,Q){var X,b,A,c,f,S;V&&R!=q8?(L8.getToolTipDiv(),R.html?(R=R.html,X=le,zs(se)):(X=se,zs(le)),b=X.style,X.innerHTML="",R instanceof HTMLElement?X.appendChild(R):X.innerHTML=R,X.parentNode||I.Default.appendToScreen(X),V.target?(V=Ns(V),R=Ks(),A=V.x,c=V.y,f=d8?60:12,d8?(S=X.getBoundingClientRect(),b.left=A-S.width/2+JR,c-S.height-f<R.top?b.top=c+f+JR:b.top=c-S.height-f+JR):(b.left=A+f+JR,b.top=c+f+JR,(S=X.getBoundingClientRect()).left+S.width>R.width&&(b.left=A-f-S.width+JR),S.top+S.height>R.height&&(b.top=c-f-S.height+JR),S.left<0&&(b.left=A+f+JR),S.top<0&&(b.top=c+f+JR))):(b.left=V.x+JR,b.top=V.y+JR),te(),Q===N8?Q=Ke&&Ke.view:Ke={e:V,view:Q},Q&&Q.onShowToolTip&&Q.onShowToolTip()):mf()},startDragging:function(V,R,Q){Q==N8&&(Q=!0),V!==K2&&(K2?Q&&(l2(R)?K2.handleWindowTouchEnd(R):K2.handleWindowMouseUp(R)):l2(R)?(z8(j,fe,y2),z8(j,Se,t2),z8(j,"blur",t2)):(z8(j,Xe,g2),z8(j,be,m2),z8(j,"blur",m2)),K2=V)},getImageMap:function(){return _e},toBoundaries:function(V,R,Q,X){var b=[];return d2(V,R,Q,X).forEach(function(V){var R=[];V.forEach(function(V){R.push(V.x,V.y)}),b.push(R)}),b},getCurrentKeyCodeMap:function(){return ne},drawCenterImage:function(V,R,Q,X,b,A,c,f){!b&&A&&A.isSelfViewEvent&&(b=A);var S=s_(R,b,A),F=l_(R,b,A);H_(V,R,u8(Q-S/2),u8(X-F/2),S,F,b,A,c,f)},drawStretchImage:function(V,R,Q,X,b,A,c,f,S,F,D,P){!f&&S&&S.isSelfViewEvent&&(f=S);var N,q=s_(R,f,S,A),L=l_(R,f,S,c);"uniform"===Q?(L*=N=X8(A/q,c/L),X+=u8((A-(q*=N))/2),b+=u8((c-L)/2),A=q,c=L):"centerUniform"===Q?((A<q||c<L)&&(q*=N=X8(A/q,c/L),L*=N),X+=u8((A-q)/2),b+=u8((c-L)/2),A=q,c=L):"cover"===Q&&(L*=N=q/A<L/c?A/q:c/L,X+=u8((A-(q*=N))/2),b+=u8((c-L)/2),A=q,c=L),"center"===Q?((N=!1!==D&&(A<q||c<L))&&(V.save(),V.beginPath(),V.rect(X,b,A,c),V.clip()),H_(V,R,X+A/2-q/2,b+c/2-L/2,q,L,f,S,F,P),N&&V.restore()):H_(V,R,X,b,A,c,f,S,F,P)},toCanvas:function(V,R,Q,X,b,A,c,f,S){V=U(V,c),R=R||s_(V,b),Q=Q||l_(V,b);var F=IJ(),D=S2(F);return f?(xJ(F,R,Q,f),D.scale(f,f)):xJ(F,R,Q,1),pf(D,V,X,0,0,R,Q,b,A,c,S),V&&V.clampToEdge&&(F.clampToEdge=V.clampToEdge),D.restore(),F},toGrayColor:function(V){if(!V)return V;var V=ws(V),R=u8(.299*V[0]+.587*V[1]+.114*V[2]);return"rgba("+R+","+R+","+R+","+V[3]/255+")"},createGradientImage:function(V,R,Q,X){for(var b=["L",0,0,V,0,1,0,0,1,0,0],A=0,c=Math.min(R.length,Q.length);A<c;A++)b.push(Q[A],R[A]);return I.Default.toCanvas({width:V,height:V,clampToEdge:!0,comps:[{type:"shape",rotation:X||0,points:[0,0,V,0,V,V,0,V],background:"#ffffff",gradientPack:b}]})},createElement:function(V,R,Q,X){return V=q.createElement(V),ZJ(V,R||u.widgetBorder,2),V.style.font=Q||_f,X!=q8&&(V.value=X),L8.onElementCreated&&L8.onElementCreated(V),V},containedInView:function(V,R){return R=J2(R).getBoundingClientRect(),Js({x:R.left,y:R.top,width:R.width,height:R.height},Ps(V))},isIsolating:function(){return 0<me},setIsolating:function(V){V?me++:me--},getMSMap:function(){return Jf},stringify:function(V,Q,R){var X=Date.prototype.toJSON,b=(Date.prototype.toJSON=function(){return"__ht__date"+this.getTime()},E_.prototype.toJSON),V=(E_.prototype.toJSON=function(){return"__ht__dataModel"+this.serialize(0)},Q=R?0:Q==q8?2:Q,JSON.stringify(V,function(V,R){return"function"==typeof R?"__ht__"+(R.__ht__||R.toString()):PJ(R)?R==q8||L8.numberDigits==q8?R:parseFloat(R.toFixed(L8.numberDigits)):x1(R)?null:R instanceof I.List?"__ht__list"+(R.__ht__list||L8.stringify(R._as)):ArrayBuffer.isView(R)?"__ht__typedArray"+R.constructor.name+":"+JSON.stringify(Array.from(R),Q):R},Q));return Date.prototype.toJSON=X,E_.prototype.toJSON=b,R?Ne+function(V){for(var R=8+B.randomInt(8),Q=Zc[8*B.randomInt(8)+(R-8)],X="",b=0;b<R;b++)X+=Zc[B.randomInt(64)];var A=S4(X+b8+"__"+aA);return Q+X+kc(V,A)}(V):V},parse:function(V,f){return l8(V)&&(V.substr(0,12)!=Ne||(V=function(V){var R=V[0];if((R=Zc.indexOf(R))<0)return"";var Q=V.slice(1,1+(R=8+(7&R))),Q=S4(Q+b8+"__"+aA);return xc(V,Q,1+R)}(V.substr(12)),l8(V)))?(f=f||{},JSON.parse(V,function(V,R){if(l8(R)&&"__ht__"==R.substr(0,6))if(f.ignoreFunction||"function"!=R.substr(6,8)){if(!f.ignoreDate&&"date"==R.substr(6,4))return new Date(C8(R.substr(10)));if("list"===R.substr(6,4))return new Z(L8.parse(R.substr(10)));if(!f.ignoreDataModel&&"dataModel"===R.substr(6,9))return(X=new E_).deserialize(L8.parse(R.substr(15))),X;if("typedArray"===R.substr(6,10))return X=R.indexOf(":"),Q=R.substring(16,X),new j[Q](JSON.parse(R.substr(X+1)))}else{var Q=R.indexOf("{")+1,X=R.lastIndexOf("}"),b=R.indexOf("(")+1,A=R.indexOf(")");if(Q&&X&&b&&A)try{var c=new Function(R.substring(b,A),R.substring(Q,X));return c.__ht__=R.substr(6),c}catch(V){throw console.info("=== SyntaxError ===\n",R),V}}return R})):V},loadJS:function(V,R){R&&V.push(R);var Q,R=V.shift();H8(R)?(V=R.contact(V),L8.loadJS(V)):LJ(R)?(R(),L8.loadJS(V)):l8(R)?((Q=q.createElement("script")).onload=function(){L8.loadJS(V)},Q.setAttribute("src",R),q.getElementsByTagName("head")[0].appendChild(Q)):V.length&&L8.loadJS(V)},extendClass:function(V,R){var Q,X=V.prototype;for(Q in R)Jf[Q]&&Jf.hasOwnProperty(Q)?Jf[Q](X,R):X[Q]=R[Q]},toRoundedCorner:(Rj=new K8,Qj=new K8,Xj=new K8,bj=new K8,function(V,R){var Q,X=0,b=(V.getPoints&&(X=V.getElevation(),V=V.getPoints()),(Q=V instanceof Z?V:new Z(V)).size());if(R<=0)return{points:Q};var A=new Z,c=new Z,f=Q.get(0);um(Rj,f,X),A.add(f),c.add(1);for(var S,F,D=1;D<b;D++)D+1<b?(S=Q.get(D),F=Q.get(D+1),um(Qj,S,X),um(Xj,F,X),bj.subVectors(Rj,Qj).setLength(Math.min(.99*bj.length(),R)).add(Qj),S.e!==N8||f.e!==N8?A.add({x:bj.x,y:bj.z,e:bj.y}):A.add({x:bj.x,y:bj.z}),A.add(S),bj.subVectors(Xj,Qj).setLength(Math.min(.99*bj.length(),R)).add(Qj),S.e!==N8||F.e!==N8?A.add(f={x:bj.x,y:bj.z,e:bj.y}):A.add(f={x:bj.x,y:bj.z}),Rj.copy(bj),c.addAll([2,3])):(A.add(Q.get(D)),c.add(2));return{points:A,segments:c}}),setCanvas:xJ,createDiv:pJ,createDisabledDiv:f2,createView:UJ,createCanvas:IJ,appendChild:BJ,initContext:S2,checkLoadingImage:VJ,translateAndScale:F2,layout:_,getPosition:_4,drawPoints:G2,drawRoundRect:D4,drawBorder:P4,setFocus:e2,getter:FJ,setter:DJ,isEmptyObject:_J,cameraPriority:(Vj={skybox:0,main:1e4,top:1e7,infinity:1/0},v.seal(v.defineProperties({},{skybox:{configurable:!1,enumerable:!1,get:function(){return Vj.skybox},set:function(V){if(V>=Vj.main)throw new RangeError("Skybox camera must have lower priority than the main camera.");Vj.skybox=Number(V)}},main:{configurable:!1,enumerable:!1,get:function(){return Vj.main},set:function(V){if(V<=Vj.skybox)throw new RangeError("Main camera must have higher priority than the skybox camera.");if(V>=Vj.top)throw new RangeError("Main camera must have lower priority than the top camera.");Vj.main=Number(V)}},top:{configurable:!1,enumerable:!1,get:function(){return Vj.top},set:function(V){if(V<=Vj.main)throw new RangeError("Top camera must have higher priority than the main camera.");Vj.top=Number(V)}},infinity:{get:function(){return Vj.infinity},set:function(V){throw new RangeError("Infinity camera cannot be changed.")}}}))),addFontFace:(GT={ttf:"truetype",otf:"opentype",eot:"embedded-opentype"},dT={eot:0,woff2:1,woff:2,ttf:3,otf:4},function(V,R,Q,X){if(V){var b;if(X&&L8.removeFontFace(V,!0),X=Oe[V])return X.parentNode||q.head.appendChild(X),void(Q&&Q(X));0!==(R=(R=l8(R)?[R]:R).filter(function(V){return!!l8(V)&&0<V.length})).length&&(R=R.map(zm),b="",R.sort(Ym).forEach(function(V){b+=", "+V.url}),b=b.substr(2),(X=q.createElement("style")).innerText='@font-face{font-family: "'+V+'";src: '+b+";}",q.head.appendChild(X),Oe[V]=X,Q&&Q(X))}}),clearFontFace:function(){if(!_J(Oe)){for(var V in Oe)L8.removeFontFace(V);Oe={}}},removeFontFace:function(V,R){if(V){var Q=V;if(Q.tagName){if(zs(Q),R){var X,b=[];for(X in Oe)Oe[X]===Q&&b.push(X);if(0<b.length)for(var A=0,c=b.length;A<c;A++)delete Oe[b[A]]}}else(Q=Oe[V])&&(zs(Q),R&&delete Oe[V])}},getFontFaceMap:function(){return Oe},handleFontFacesLoaded:function(V){},toColorData:function(){var X,V,b={};for(V in j){var R=QR.length;if(V.length==R&&V[0]===QR[2]&&V[1]===eR[1]&&V[4]===QR[3]&&V[5]===QR[4]&&V.substr(R-2)===eR[1]+eR[2]){var Q,A=j[V];for(Q in A)Q.length===R&&Q.substr(0,3)===cR[3]+zR[3]+XA[0]&&Q.substr(R-2)===QR[0]+CR[3]&&(De=A[Q])}}return function(V){var R,Q=b[V];return Q||(X||(X=IJ(),xJ(X,1,1,1)),(R=X.getContext("2d",{willReadFrequently:!0})).clearRect(0,0,1,1),Q4(R,0,0,1,1,V),Q=R.getImageData(0,0,1,1).data,Q=b[V]=[Q[0],Q[1],Q[2],Q[3]]),Q}}()},!0),q&&q.fonts&&q.fonts.addEventListener&&q.fonts.addEventListener("loadingdone",function(V){L8.handleFontFacesLoaded(V.fontfaces),L8.findView("all").forEach(function(V){V.redraw?V.redraw():V.iv()})}),mJ(y,{autoAdjustIndex:1,hierarchicalRendering:1,adjustChildrenToTop:1,autoHideScrollBar:1,autoUpdate:1,firstPersonMode:1,ortho:1,strict:1,stickToRight:1,instant:1,closePath:1,hierarchical:1,doubleClickToToggle:1,continuousLayout:1,syncSize:1},!0),L8.disabledOpacity),Hf=L8.toolTipDelay,Kf=L8.devicePixelRatio,p4=L8.autoMakeVisible,yf=L8.autoHideScrollBar,tf=L8.imageGradient,gf=L8.showToolTip,mf=L8.hideToolTip,zf=L8.dashPattern,Yf=L8.lineCap,uf=L8.lineJoin,of=L8.labelColor,v8=L8.labelSelectColor,_f=L8.labelFont,Of=L8.widgetIndent,h4=L8.widgetRowHeight,wf=L8.widgetHeaderHeight,af=L8.widgetTitleHeight,T4=L8.scrollBarColor,N=L8.scrollBarSize,nf=L8.scrollBarTimeout,Mf=L8.scrollBarMinLength,rf=L8.scrollBarInteractiveSize,Ef=L8.zoomIncrement,$f=L8.scrollZoomIncrement,jf=L8.pinchZoomIncrement,Cf=L8.zoomMax,vf=L8.zoomMin,hf=L8.createObject,Tf=L8.preventDefault,ue=L8.setImage,U=L8.getImage,Wf=L8.isImageComplete,Uf=L8.drawCenterImage,pf=L8.drawStretchImage,If=L8.getId,Zf=L8.callLater,kf=L8.cancelLater,xf=L8.sortFunc,Bf=L8.clone,Gf=L8.getClass,df=L8.startAnim,Vs=L8.brighter,Rs=L8.darker,Qs=L8.drawText,Xs=L8.getTextSize,bs=L8.isLeftButton,As=L8.isMiddleButton,cs=L8.isRightButton,fs=L8.getTouchCount,Ss=L8.isDoubleClick,Fs=L8.isShiftDown,Ds=L8.isCtrlDown,Ps=L8.getClientPoint,Ns=L8.getPagePoint,qs=L8.getDistance,Ls=L8.unionPoint,es=L8.unionRect,Js=L8.containsPoint,ss=L8.containsRect,ls=L8.intersectsRect,Hs=L8.intersection,Ks=L8.getWindowInfo,ys=L8.grow,ts=L8.getLogicalPoint,gs=L8.getScreenPoint,ms=L8.startDragging,zs=L8.removeHTML,Ys=L8.createElement,us=L8.segmentResolution,os=L8.shapeResolution,_s=L8.shapeSide,Os=L8.def,ws=L8.toColorData,W4=function(V,R,Q){Os("ht."+V,R,Q)},as=(mJ(L8,{toolTipLabelColor:of,toolTipLabelFont:_f,toolTipBackground:u.toolTipBackground,toolTipShadowColor:P,debugTipLabelFont:_f,debugTipLabelColor:of,debugTipBackground:u.toolTipBackground,drawBreakableText:Q2,setDevicePixelRatio:function(V){Kf=L8.devicePixelRatio="number"==typeof V?V:sf(j),L8.traverse(q.body,function(V){(V=V._ht)&&V._canvas&&(xJ(V._canvas,V.getWidth(),V.getHeight()),V.redraw?V.redraw():V.iv())},null,"childNodes")},getPosition3dGap:function(){return Dg()}},!0),1e-6),is="undefined"!=typeof Uint16Array?Uint16Array:Array,ns="undefined"!=typeof Uint32Array?Uint32Array:is,Ms="undefined"!=typeof Float32Array?Float32Array:Array,rs=function(V,R,Q){return V=[V[0]-R[0],V[1]-R[1],V[2]-R[2]],Q&&0<(R=qs(V))&&(V[0]/=R,V[1]/=R,V[2]/=R),V},Es=function(){var V,R="charCodeAt",Q=2*(2*sR.length+1);for(V in j)if(V===b8+AR[0]+(JR.length+2)){var X=j[V];if(!X)break;for(var b=X.length,A=0;A<b;A++)if(X[A][R](0)===Q&&X[A+1]!=q8&&X[A+1]===JR[0]&&X[A+2]!=q8&&X[A+2][R](0)===Q){for(var c=A+3;c<b;c++)if(X[c][R](0)===Q){if(0==X[c+1])for(var f,S=c+2;S<b;S++){if(X[S][R](0)===Q){0==X[S-1]&&f&&(I8=f.substr(0,f.length-1));break}f==q8?f=X[S]:f+=X[S]}break}break}break}return function(V){return[-V[0],-V[1],-V[2]]}}(),$s=function(V,R){return 3===V.length?V[0]*R[0]+V[1]*R[1]+V[2]*R[2]:V[0]*R[0]+V[1]*R[1]},js=function(){var V=new Array(16);return V[0]=1,V[1]=0,V[2]=0,V[3]=0,V[4]=0,V[5]=1,V[6]=0,V[7]=0,V[8]=0,V[9]=0,V[10]=1,V[11]=0,V[12]=0,V[13]=0,V[14]=0,V[15]=1,V},Cs=js(),vs=function(V){var R=new Array(16);return R[0]=V[0],R[1]=V[1],R[2]=V[2],R[3]=V[3],R[4]=V[4],R[5]=V[5],R[6]=V[6],R[7]=V[7],R[8]=V[8],R[9]=V[9],R[10]=V[10],R[11]=V[11],R[12]=V[12],R[13]=V[13],R[14]=V[14],R[15]=V[15],R},hs=function(V){return V[0]=1,V[1]=0,V[2]=0,V[3]=0,V[4]=0,V[5]=1,V[6]=0,V[7]=0,V[8]=0,V[9]=0,V[10]=1,V[11]=0,V[12]=0,V[13]=0,V[14]=0,V[15]=1,V},Ts=function(V,R){var Q=V[0],X=V[1],b=V[2];return V[0]=R[0]*Q+R[4]*X+R[8]*b+R[12],V[1]=R[1]*Q+R[5]*X+R[9]*b+R[13],V[2]=R[2]*Q+R[6]*X+R[10]*b+R[14],V},Ws=function(V,R){var Q=V[0],X=V[1],b=V[2],A=V[3];return V[0]=R[0]*Q+R[4]*X+R[8]*b+R[12]*A,V[1]=R[1]*Q+R[5]*X+R[9]*b+R[13]*A,V[2]=R[2]*Q+R[6]*X+R[10]*b+R[14]*A,V[3]=R[3]*Q+R[7]*X+R[11]*b+R[15]*A,V},Us=function(V,R,Q){var X,b;if("number"==typeof V?b=V:V&&(b=V.length,X=!0),b)for(var A,c=0,f=0;c<b;c++)A=R?X8(b-1,1==f?c+1:2==f?c-1:c):c,Q(X?V[A]:A),2<++f&&(f=0)},ps=(ej=YJ(V[1]+V[7]),Jj=YJ(V[0]+V[3]-V[10]),sj=YJ(V[8]+2),lj=function(){return qj=Lj.charAt(Nj),Nj+=1,qj},Hj=function(){var V="";if(qj===sj)for(;lj();){if(qj===sj)return lj(),V;V+=qj}else lj()},Kj=function(){for(;qj&&qj<=" ";)lj()},yj=function(){if(Kj(),qj!==ej)return Hj();var V,R={};if(qj===ej){if(lj(),Kj(),qj===Jj)return lj(),R;for(;qj;){if(V=Hj(),Kj(),lj(),R[V]=yj(),Kj(),qj===Jj)return lj(),R;lj(),Kj()}}},function(V){if(m={},V&&(Lj=V,Nj=0,qj=" ",V=yj(),Kj(),!qj))return V}),Is=function(V,R){var Q,X,b,A,c,f,S,F,D;R&&(Q=J8(R),R=e8(R),X=V[4],b=V[5],A=V[6],c=V[7],f=V[8],S=V[9],F=V[10],D=V[11],V[4]=X*R+f*Q,V[5]=b*R+S*Q,V[6]=A*R+F*Q,V[7]=c*R+D*Q,V[8]=f*R-X*Q,V[9]=S*R-b*Q,V[10]=F*R-A*Q,V[11]=D*R-c*Q)},Zs=function(V,R){var Q,X,b,A,c,f,S,F,D;R&&(Q=J8(R),R=e8(R),X=V[0],b=V[1],A=V[2],c=V[3],f=V[8],S=V[9],F=V[10],D=V[11],V[0]=X*R-f*Q,V[1]=b*R-S*Q,V[2]=A*R-F*Q,V[3]=c*R-D*Q,V[8]=X*Q+f*R,V[9]=b*Q+S*R,V[10]=A*Q+F*R,V[11]=c*Q+D*R)},ks=function(V,R){var Q,X,b,A,c,f,S,F,D;R&&(Q=J8(R),R=e8(R),X=V[0],b=V[1],A=V[2],c=V[3],f=V[4],S=V[5],F=V[6],D=V[7],V[0]=X*R+f*Q,V[1]=b*R+S*Q,V[2]=A*R+F*Q,V[3]=c*R+D*Q,V[4]=f*R-X*Q,V[5]=S*R-b*Q,V[6]=F*R-A*Q,V[7]=D*R-c*Q)},xs=function(V,R,Q){return Bs(q8,!1===Q?q8:V.getFinalScale3d(),V.getFinalRotation3d(),V.getRotationMode(),V.p3(),q8,R)},Bs=function(V,R,Q,X,b,A,c){return A=A||js(),b&&eg(A,b),Fu(A,Q,X),c&&sg(A,A,c),R&&Jg(A,R),V&&sg(A,A,V),A},Gs=function(V,R,Q){R=C8(R),Q=C8(Q),this.g=V,this._84O=R,this._85O=Q,this._70I=!0,this.F=0,this._83O=R+Q,this.pen={x:0,y:0}},ds="lineDashOffset",V_="setLineDash",R_=function(V,R,Q){return OJ(R)?V:V[V_]?(V[V_](R),Q&&(V.lineDashOffset=Q),V):new Gs(V,R[0],1<R.length?R[1]:R[0])},Q_=function(V,R){!OJ(R)&&V[V_]&&(V[V_](Te),V.lineDashOffset=0)},X_=(Os(Gs,v,{_69I:6,moveTo:function(V,R){var Q=this.pen;Q.x=V,Q.y=R,this.g.moveTo(V,R),this.start||(this.start={x:V,y:R})},lineTo:function(V,R){var Q=this,X=Q.pen,b=V-X.x,A=R-X.y,A=E8(A,b),b=e8(A),A=J8(A),c=Q._23O(X.x,X.y,V,R),f=Q._85O,S=Q._84O,F=Q._83O;if(Q.F){if(Q.F>c)return Q._70I?Q._72I(V,R):Q.moveTo(V,R),void(Q.F-=c);if(Q._70I?Q._72I(X.x+b*Q.F,X.y+A*Q.F):Q.moveTo(X.x+b*Q.F,X.y+A*Q.F),c-=Q.F,Q.F=0,Q._70I=!Q._70I,!c)return}var D=o8(c/F);if(D){for(var P=b*S,N=A*S,q=b*f,L=A*f,e=0;e<D;e++)Q._70I?(Q._72I(X.x+P,X.y+N),Q.moveTo(X.x+q,X.y+L)):(Q.moveTo(X.x+q,X.y+L),Q._72I(X.x+P,X.y+N));c-=F*D}Q._70I?S<c?(Q._72I(X.x+b*S,X.y+A*S),Q.moveTo(V,R),Q.F=f-(c-S),Q._70I=!1):(Q._72I(V,R),c===S?(Q.F=0,Q._70I=!Q._70I):(Q.F=S-c,Q.moveTo(V,R))):f<c?(Q.moveTo(X.x+b*f,X.y+A*f),Q._72I(V,R),Q.F=S-(c-f),Q._70I=!0):(Q.moveTo(V,R),c===f?(Q.F=0,Q._70I=!Q._70I):Q.F=f-c)},quadraticCurveTo:function(V,R,Q,X){var b,A=this,c=(S=A.pen).x,f=S.y,S=A._22O(c,f,V,R,Q,X),F=0,D=0,P=A._85O,N=A._84O;if(A.F){if(A.F>S)return A._70I?A._71I(V,R,Q,X):A.moveTo(Q,X),void(A.F-=S);if(F=A.F/S,b=A._20O(c,f,V,R,Q,X,F),A._70I?A._71I(b[2],b[3],b[4],b[5]):A.moveTo(b[4],b[5]),A.F=0,A._70I=!A._70I,!S)return}var q,L=o8((S-S*F)/A._83O),e=N/S,J=P/S;if(L)for(var s=0;s<L;s++)A._70I?(b=A._21O(c,f,V,R,Q,X,F,D=F+e),A._71I(b[2],b[3],b[4],b[5]),F=D,b=A._21O(c,f,V,R,Q,X,F,D=F+J),A.moveTo(b[4],b[5])):(b=A._21O(c,f,V,R,Q,X,F,D=F+J),A.moveTo(b[4],b[5]),F=D,b=A._21O(c,f,V,R,Q,X,F,D=F+e),A._71I(b[2],b[3],b[4],b[5])),F=D;q=S-S*F,A._70I?N<q?(b=A._21O(c,f,V,R,Q,X,F,D=F+e),A._71I(b[2],b[3],b[4],b[5]),A.moveTo(Q,X),A.F=P-(q-N),A._70I=!1):(b=A._19O(c,f,V,R,Q,X,F),A._71I(b[2],b[3],b[4],b[5]),S===N?(A.F=0,A._70I=!A._70I):(A.F=N-q,A.moveTo(Q,X))):P<q?(b=A._21O(c,f,V,R,Q,X,F,D=F+J),A.moveTo(b[4],b[5]),b=A._19O(c,f,V,R,Q,X,D),A._71I(b[2],b[3],b[4],b[5]),A.F=N-(q-P),A._70I=!0):(A.moveTo(Q,X),q===P?(A.F=0,A._70I=!A._70I):A.F=P-q)},bezierCurveTo:function(){var V=arguments;this.pen={x:V[4],y:V[5]},this.g.bezierCurveTo(V[0],V[1],V[2],V[3],V[4],V[5])},arc:function(V,R,Q,X,b,A){A||(X=-X,b=-b);var c,f,S,F,D,P=V,N=R,A=X,q=Q,L=Q,R=!1,e=-((V=w8(V=b-X)>2*w?2*w:V)/(c=_8(w8(V)/(w/4)))),J=-A;if(0<c){V=P+e8(A)*q,A=N+J8(-A)*L,R?this.lineTo(V,A):this.moveTo(V,A);for(var s=0;s<c;s++)D=(J+=e)-e/2,f=P+e8(J)*q,S=N+J8(J)*L,F=P+e8(D)*(q/e8(e/2)),D=N+J8(D)*(L/e8(e/2)),this.quadraticCurveTo(F,D,f,S)}},rect:function(V,R,Q,X){this.pen={x:V,y:R},this.moveTo(V,R),this.lineTo(V,R+X),this.lineTo(V+Q,R+X),this.lineTo(V+Q,R),this.lineTo(V,R)},beginPath:function(){this.g.beginPath()},closePath:function(){this.lineTo(this.start.x,this.start.y)},_23O:function(V,R,Q,X){return O8((Q-=V)*Q+(V=X-R)*V)},_22O:function(V,R,Q,X,b,A,c){for(var f,S,F,D,P=0,N=V,q=R,L=0<c?c:this._69I,e=1;e<=L;e++)P+=this._23O(N,q,f=(S=(F=1-(D=e/L))*F)*V+(F*=2*D)*Q+(D*=D)*b,S=S*R+F*X+D*A),N=f,q=S;return P},_21O:function(V,R,Q,X,b,A,c,f){return 0===c?this._20O(V,R,Q,X,b,A,f):1===f?this._19O(V,R,Q,X,b,A,c):((V=this._20O(V,R,Q,X,b,A,f)).push(c/f),this._19O.apply(this,V))},_20O:function(V,R,Q,X,b,A,c){var f,S;return 1!==c&&(f=Q+(b-Q)*c,S=X+(A-X)*c,b=(Q=V+(Q-V)*c)+(f-Q)*c,A=(X=R+(X-R)*c)+(S-X)*c),[V,R,Q,X,b,A]},_19O:function(V,R,Q,X,b,A,c){var f;return 1!==c&&(V=(f=V+(Q-V)*c)+((Q+=(b-Q)*c)-f)*c,R=(f=R+(X-R)*c)+((X+=(A-X)*c)-f)*c),[V,R,Q,X,b,A]},_72I:function(V,R){var Q=this.pen;V===Q.x&&R===Q.y||(Q.x=V,Q.y=R,this.g.lineTo(V,R))},_71I:function(V,R,Q,X){var b=this.pen;V===Q&&R===X&&Q===b.x&&X===b.y||(b.x=Q,b.y=X,this.g.quadraticCurveTo(V,R,Q,X))}}),Jf.ms_quickVisible=function(V,R){V._4BQ=!1,V._4CQ=function(V){var R=V._4EQ;return R!==N8?R:V._4EQ=this._4FQ(V)},V._4DQ=function(V){var R;V?(V._4EQ=N8,R=this,V instanceof qu||sJ(V)||V instanceof Ku||V.ISubGraph?V.eachChild(function(V){R.invalidateQuickVisible(V)}):V.getEdges&&(V=V.getEdges())&&V.each(function(V){R.invalidateQuickVisible(V)})):this.dm().each(function(V){V._4EQ=N8})},V.enableQuickVisibleMode=function(){return!this._4BQ&&!this._visibleFunc&&(this._4BQ=!0,this._4FQ=this.isVisible,this.isVisible=this._4CQ,this.invalidateQuickVisible=this._4DQ,!0)},V.disableQuickVisibleMode=function(){return this._quickVisiblePending=!1,!!this._4BQ&&(this._4BQ=!1,this.isVisible=this._4FQ,this.invalidateQuickVisible=pe,!0)},V.isQuickVisibleMode=function(){return this._4BQ},V.invalidateQuickVisible=pe},Jf.ms_renderEvents=function(R,V){var Q=V.ms_renderEvents;Q.forEach(function(V){R["on"+V]=pe}),R.initRenderEvents=function(){var A=this;Q.forEach(function(V){function X(V){if(b)for(var R=0;R<b.length;R++)if(b[R].listener===V)return R;return-1}var R,b,Q;Q="on"+(V=V),(R=A)["add"+V+"Listener"]=function(V,R){b=b||[];var Q=X(V);if(0<=Q){if(b[Q].priority===R)return!1;b[Q].priority=R}else b.push({listener:V,priority:R||0});return b.sort(function(V,R){return R.priority-V.priority}),!0},R["remove"+V+"Listener"]=function(V){return!((V=X(V))<0||(b.splice(V,1),b.length||(b=N8),0))},R["get"+V+"Listeners"]=function(){return b},R["emit"+V]=function(){if(b)for(var V=0,R=b.length;V<R;V++)b[V].listener();this[Q]()}})}},V=$8()+1,j8&&j.console,q8),b_=q8,A_=L8.checkLoadingCompType=function(V){X_&&!V._72O_&&((b_=b_||{})[V._72O_=If()]=V)},c_=function(Q,V){var X,R;!(V=V||Q)||L8.isMaxConcurrencyReached()||(X_=X_||{})[Q]||(X=new gu,X_[V]={request:X,url:V},(V=L8.beforeLoadURL(V,Q)).data?(R=L8.parse(V.data),f_(Q,R),L8.handleCompTypeLoaded(Q,R)):(X.onload=function(V){var R;200===this.status||0===this.status?(R=L8.parse(X.getResponseText()),f_(Q,R),L8.handleCompTypeLoaded(Q,R)):f_(Q,q8)},X.onerror=function(V){f_(Q,q8)},(R={}).url=encodeURI(V),R.sync=!1,X.send(R)))},f_=function(V,R){if(Me[V]=R,delete X_[V],_J(X_)&&(X_=q8,b_)){for(var Q in b_)(X=b_[Q]).invalidateAll&&X.invalidateAll(N8,"compTypeLoaded",V),X.redraw&&X.redraw(),X.iv(),delete X._72O_;b_=q8}if(R&&b_)for(var Q in b_){var X;(X=b_[Q]).invalidateAll&&X.invalidateAll(N8,"compTypeLoading",V),X.redraw&&X.redraw(),X.iv()}},S_=u.chart,F_="",D_=!0,P_=L8.compStack=[],N_=/^style@/,q_=/^attr@/,L_=/^field@/,e_={x:.5,y:.5},J_=function(V,R,Q){return!!V&&((X=Q&&Q.isImageFitSize?Q.isImageFitSize(R,V):X)==q8?p(V.fitSize,R,Q):X);var X},s_=function(V,R,Q,X){return V?!(J_(V,R,Q)&&X||null!=(X=p(V.width,R,Q)))?20:X:0},l_=function(V,R,Q,X){return V?!(J_(V,R,Q)&&X||null!=(X=p(V.height,R,Q)))?20:X:0},p=function(V,R,Q){if(!V||!V.func)return V;var X=V.func,b=V.value,V=LJ(X)?Q&&Q.vectorDataBindingDisabled&&!V.isSafeFunc?b:X(R,Q):R instanceof r_||R&&R.getInteractorClasses&&R.initView?q_.test(X)?R.a(F_+X.slice(5)):N_.test(X)?R.s(F_+X.slice(6)):L_.test(X)?R[X.slice(6)]:R[X]?R[X](Q):b:b;return b!==N8&&V==q8?b:V},H_=L8.drawImage=(uj=function(){if(gj&&gj.dm&&tj&&tj.dm){var V=gj.dm();if(V instanceof E_&&V!==tj.dm())return tj}return N8},T=function(V,R,Q){var X,b,A=!1;return V.prefix&&tj instanceof r_&&(b=tj.a(F_+R))!==N8&&(A=!0,X=b),(X=X===N8?V[R]:X)&&X.func&&(A=!0,X=p(X,tj,gj)),Q&&(X=Q(X),A||(V[R]=X)),X},oj=function(V){var R=T(V,"anchorX"),Q=T(V,"anchorY");return R!==N8||Q!==N8?{x:R===N8?e_.x:R,y:Q===N8?e_.y:Q}:(R=T(V,"type"),Q=T(V,"name"),"image"===R&&Q&&(V=U(Q))&&V.anchorX!==N8&&V.anchorY!==N8?{x:V.anchorX,y:V.anchorY}:e_)},_j=function(V,R){V.compInfos.push(R),V._parentCompInfo=R},Oj={border:function(V,R){P4(h,wm(V,kA),R.x,R.y,R.width,R.height,T(V,"width"))},image:function(V,R){var Q=zj||T(V,kA),X=Yj||T(V,"blendMode"),b=T(V,"name");(b=(b=U(b,Q,X))&&b.cacheRule!=q8?eq(h,b,T(V,"stretch"),R.width,R.height,tj,gj,Q):b)?pf(h,b,T(V,"stretch"),R.x,R.y,R.width,R.height,tj,gj,Q,null,X):D_=!1},text:function(V,f){var R,Q,X,S,b,F,D,P,N,q,L,e,J,s,l,H,K,A,y,c,t=T(V,"text"),g=T(V,"background"),m=T(V,"outlineColor"),z=T(V,"outlineWidth"),Y=T(V,"cornerRadius");(g||z&&m)&&(R=f.x,Q=f.y,X=f.width,b=f.height,h.beginPath(),D4(h,R,Q,X,b,Y||0),g&&(h.fillStyle=x2(h,g,wm,!1,f),h.fill(),h.restore()),z&&m&&(h.lineWidth=z,h.strokeStyle=x2(h,m,wm,!0,f),h.stroke(),h.restore())),t!=q8&&(t+="",R=T(V,"gradientPack"),Q=T(V,"gradient"),X=wm(V,"gradientColor"),S=T(V,"font"),b=T(V,"vertical"),F=T(V,"verticalGap")||0,Y=T(V,"align"),D=T(V,"vAlign"),P=T(V,"decoration"),N=T(V,"letterGap")||0,g=T(V,"wrap"),q=T(V,"borderWidth"),L=T(V,"borderColor"),e=Xs(S,t),R?(J=x2(h,R,wm,!1,f),h.restore()):J=wm(V,kA),!R&&Q&&(J=L8.createGradient(h,Q,J||L8.labelColor,X||u.imageGradient,f.x,f.y,f.width,f.height)),q&&H8(L)&&(L=x2(h,L,wm,!1,f),h.restore()),b?(null==F&&(F=1),s=[],l=[],c=g?dJ(t,f.height,S,N,b,F):[t],h.textBaseline=fR,h.font=S,c.forEach(function(V){for(var R=V.length,Q=0,X=(R-1)*F,b=0;b<R;b++){var A=h.measureText(V[b]);s.push(A),X+=A.fontBoundingBoxDescent||e.height,Q=Q8(Q,A.width)}l.push({width:Q,height:X})}),A=(c.length-1)*N,l.forEach(function(V){A+=V.width}),H=Y&&Y!==AR?Y===cR?f.x+f.width-A:f.x+(f.width-A)/2:f.x,y=0,c.forEach(function(V,R){var Q=l[R],X=V.length;K=D&&D!==PR?D===fR?f.y:f.y+f.height-Q.height:f.y+(f.height-Q.height)/2;for(var b=0;b<X;b++){var A=V[b],c=s[y].fontBoundingBoxDescent||e.height;R2(h,A,S,J,{x:H,y:K,width:Q.width,height:c},FR,D,P,N,q,L),K+=c+F,y++}H+=Q.width+N})):1<(z=(c=g?dJ(t,f.width,S,N,b,F):t.split("\n")).length)?(m=z*Xs(S,t).height+F*(z-1),V=Bf(f),D&&D!==PR?D===SR&&(V.y=f.y+f.height-m):V.y=f.y+(f.height-m)/2,V.height=m,Q2(h,c,V,S,J,Y||AR,P,N,q,L)):R2(h,t,S,J,f,Y,D,P,N,q,L))},pieChart:function(V,R){var Q=T(V,MR),X=0;if(Q&&(Q.forEach(function(V){X+=V}),0<X)){for(var b=T(V,"colors")||S_,A=T(V,"startAngle")||0,c=T(V,"hollow"),f=T(V,$R),S=T(V,TR),F=T(V,WR),D=f?new Z:q8,V=R.x,P=R.y,N=R.width,q=V+N/2,L=P+(R=R.height)/2,e=X8(N,R)/2,J=0,s=0;s<Q.length;s++){var l,H,K,y,t=Q[s],g=A+s8*t/X;h.fillStyle=b[J++],J===b.length&&(J=0),h.beginPath(),c?(l=q+e8(A)*e/2,H=L+J8(A)*e/2,K=q+e8(g)*e,y=L+J8(g)*e,h.moveTo(l,H),h.arc(q,L,e/2,A,g,!1),h.lineTo(K,y)):h.moveTo(q,L),h.arc(q,L,e,g,A,!0),D&&(l=(A+g)/2,D.add({text:LJ(f)?f(t,s,X,tj):t,x:q+e8(l)*e*.75,y:L+J8(l)*e*.75})),h.closePath(),h.fill(),A=g}D&&D.each(function(V){Qs(h,V.text,S,F,V.x,V.y,0,0,FR)})}},columnChart:function(V,R){var Q=T(V,rR);if(Q&&0<Q.length){var X=Q.length,b=T(V,$R),A=T(V,TR),c=T(V,WR),f=b?new Z:q8,S=T(V,"minValue")||0,F=T(V,"maxValue");if(F==q8&&(F=0,Q.forEach(function(V){T(V,MR).forEach(function(V){F=Q8(F,V)})})),S!==F){for(var D=R.height/(F-S),P=R.y+F*D,N=T(Q[0],MR).length,q=R.width/(3*N+1),L=2*q/X,e=0,J=0;J<X;J++)for(var s=Q[J],l=T(s,kA),H=T(s,"colors"),K=T(s,MR),y=0;y<N;y++){H?h.fillStyle=H[y]:l?h.fillStyle=l:(h.fillStyle=S_[e++],e===S_.length&&(e=0));var t,g=K[y],m=g*D,z=R.x+(1+3*y)*q+J*L;Q4(h,z,P-m,L,m),f&&(g=LJ(b)?b(g,y,s,tj):g,t=Xs(A,g).height,f.add({x:z,y:P-m-t,width:L,height:t,text:g}))}f&&f.each(function(V){Qs(h,V.text,A,c,V.x,V.y,V.width,V.height,FR)})}}},stackedColumnChart:function(V,R){var Q=T(V,rR);if(Q&&0<Q.length){var X=Q.length,b=T(Q[0],MR).length,A=R.width/(3*b+1),c=0,f=T(V,"maxValue"),S=T(V,$R),F=T(V,TR),D=T(V,WR),P=S?new Z:q8;if(f==q8)for(var f=0,N=0;N<b;N++){for(var q=0,L=0;L<X;L++)q+=T(Q[L],MR)[N];f=Q8(f,q)}if(0<f){for(N=0;N<b;N++)for(var e=R.y+R.height,L=0;L<X;L++){var J=Q[L],s=T(J,kA),l=T(J,MR)[N],H=l/f*R.height,s=(s?h.fillStyle=s:(h.fillStyle=S_[c++],c===S_.length&&(c=0)),e-=H,{x:R.x+(1+3*N)*A,y:e,width:2*A,height:H});Q4(h,s.x,s.y,s.width,s.height),P&&(s.text=LJ(S)?S(l,N,J,tj):l,P.add(s))}P&&P.each(function(V){Qs(h,V.text,F,D,V.x,V.y,V.width,V.height,FR)})}}},percentageColumnChart:function(V,R){var Q=T(V,rR);if(Q&&0<Q.length){for(var X=Q.length,b=T(Q[0],MR).length,A=R.width/(3*b+1),c=0,f=T(V,$R),S=T(V,TR),F=T(V,WR),D=f?new Z:q8,P=0;P<b;P++){for(var N=0,q=0;q<X;q++)N+=T(Q[q],MR)[P];if(0<N)for(var L=R.y+R.height,q=0;q<X;q++){var e=Q[q],J=T(e,kA),s=T(e,MR)[P],l=s/N*R.height,J=(J?h.fillStyle=J:(h.fillStyle=S_[c++],c===S_.length&&(c=0)),L-=l,{x:R.x+(1+3*P)*A,y:L,width:2*A,height:l});Q4(h,J.x,J.y,J.width,J.height),D&&(J.text=LJ(f)?f(s,P,e,tj):s,D.add(J))}}D&&D.each(function(V){Qs(h,V.text,S,F,V.x,V.y,V.width,V.height,FR)})}},lineChart:function(V,R){var Q=T(V,rR);if(Q&&0<Q.length){var X=Q.length,b=T(V,"minValue")||0,A=T(V,"maxValue");if(A==q8&&(A=0,Q.forEach(function(V){T(V,MR).forEach(function(V){A=Q8(A,V)})})),b!==A)for(var c=R.height/(A-b),f=R.y+A*c,S=T(Q[0],MR).length,F=R.width/(3*S+1),D=0,P=T(V,"lineWidth")||2,N=T(V,"line3d"),q=T(V,"linePoint"),L=T(V,$R),e=T(V,TR),J=T(V,WR),s=0;s<X;s++){var l=Q[s],H=T(l,kA),K=T(l,MR);H?h.strokeStyle=H:(H=h.strokeStyle=S_[D++],D===S_.length&&(D=0)),h.beginPath();for(var y=0;y<S;y++){var t=R.x+(2+3*y)*F,g=f-K[y]*c;0===y?h.moveTo(t,g):h.lineTo(t,g)}if(h.lineWidth=P,h.stroke(),N&&V4(h,H,q8,P,mj),q||L)for(var m,z=P/2+2,y=0;y<S;y++){var Y,u,o,_,O=K[y],t=R.x+(2+3*y)*F,g=f-O*c;LJ(q)?q(h,t,g,H,y,l,tj):q&&(h.fillStyle=H,h.beginPath(),h.arc(t,g,z,0,s8,!0),h.fill()),LJ(L)?m=L(O,y,l,tj):L&&(m=O),m&&(O=Xs(e,m).height,(Y=h.shadowBlur)&&(u=h.shadowOffsetX,o=h.shadowOffsetY,_=h.shadowColor,h.shadowOffsetX=0,h.shadowOffsetY=0,h.shadowBlur=0,h.shadowColor=q8),Qs(h,m,e,J,t,g-O-z+2,0,O,FR),Y&&(h.shadowOffsetX=u,h.shadowOffsetY=o,h.shadowBlur=Y,h.shadowColor=_))}}}}},function(V,M,R,Q,X,b,r,A,c,f){if(M&&X&&b){var S,F,D,P,E,N,q,L,e,J,$,s=[h,tj,gj,mj,zj,Yj],V=(h=V,gj=A,!(tj=r)&&gj&&gj.isSelfViewEvent&&(tj=gj),mj=gj&&gj._zoom||1,zj=c,Yj=f,X),A=b;if(aq()&&(0===h.maxSize&&!aq[0]||(S=!0),h.texureImage2D&&!aq[1]||(F=!0),h.texureImage3D&&!aq[2]||(D=!0),h.drawDNDState&&!aq[3]||(N=!0),h.drawRect&&!aq[TR[2]]||(L=!0),h.drawRoundRect&&!aq[xR[1]]||(e=!0),I[SA[1]+AA[0]+xR[1]]&&!aq[AA[0]]||(q=!0),Ue.widget[0]&&!aq[4]||(P=!0),S&&F&&D&&P&&N&&q&&L&&e&&(V=R,A=Q)),M.tagName)return l8(I8)&&!j[I8]||h.drawImage(M,V,A,X,b),void $m(s);0!=T(M,"visible")&&((c=h.interactiveInfo)&&(S={x:R,y:Q,width:X,height:b},c.rect?(F=c._parentCompInfo)&&(S.image=M,c.compInfos.push({comp:{type:"image",name:M,rect:S,pixelPerfect:F.comp.pixelPerfect},rect:S,matrix:F.matrix,prefix:F.prefix,refRect:F.refRect,exData:uj()})):c.rect=S),zj=zj||p(M.color,tj,gj),f||(Yj=p(M.blendMode,tj,gj)),l8(I8)&&!j[I8]&&(X=V,b=A),D=s_(M,tj,gj,X),P=l_(M,tj,gj,b),E={x:0,y:0,width:D,height:P,fitSize:J_(M,tj,gj)},N=T(M,"clip"),q=T(M,"opacity"),E.fitSize&&(L=E.rw=p(M.width,tj,gj)||20,E.widthScale=D/L,e=E.rh=p(M.height,tj,gj)||20,E.heightScale=P/e),h.save(),h.interactiveInfo&&(J=(R=h.interactiveInfo.matrix).clone(),R.appendTranslate(V,A).appendScale(X/D,b/P),h.interactiveInfo.refRect=E),D2(h,V,A),D===X&&P===b||h.scale(X/D,b/P),N&&(LJ(N)?N(h,D,P,tj,gj,M):(h.beginPath(),h.rect(0,0,D,P),h.clip())),q!=q8&&(h.globalAlpha*=q),$=h.compGray,T(M,"comps").forEach(function(V){var R;if(V.prefix&&(R=F_,(o=p(V.prefix,tj,gj))&&(F_=F_+o+".")),0==(o=M,u=V,gj&&gj.getDrawableState?Y=gj.getDrawableState(tj):gj&&gj.getState?Y=gj.getState(tj):(Y=tj instanceof r_?tj.s(wA):null)!==N8&&null!==Y||(Y=T(o,wA)),((o=T(u,wA))===N8||null===o||o===Y)&&T(u,dR)))V.prefix&&(F_=R);else{var Q,X,b,A,c,f,S,F,D,P,N,q,L,e,J,s,l,H,K,y,t,g,m,z,Y=T(V,"composite"),u=(Y&&(h.save(),h.globalCompositeOperation=Y),p(V.gray,tj,gj)&&(h.compGray=!0),P_.splice(0,0,V),h.interactiveInfo&&(Q=h.interactiveInfo.matrix.clone(),X=h.interactiveInfo._parentCompInfo),T(V,"opacity")),o=T(V,"shadow"),_=T(V,"type"),O=T(V,"refRect")||E,w=(P=O,F=T(D=V,C),H=oj(D),H8(F)&&(m=F.length,J=T(D,"relative"),z=P.width,y=P.height,4===m?(F={x:F[0],y:F[1],width:F[2],height:F[3]},J&&(F.x*=z,F.y*=y,F.width*=z,F.height*=y)):3===m&&(m=F[0],F={width:F[1],height:F[2]},J&&(F.width*=z,F.height*=y),"object"==typeof m?m.length&&(m={x:m[0],y:m[1]}):m=_4(m,P,F),F.x=m.x-F.width*H.x,F.y=m.y-F.height*H.y),F.x+=T(D,"offsetX")||0,F.y+=T(D,"offsetY")||0,!J&&P.fitSize&&(F=im(D,F,P))),F);if(u!=q8&&(b=h.globalAlpha,h.globalAlpha*=u),o&&(z=mj*L8.devicePixelRatio,A=h.shadowOffsetX,c=h.shadowOffsetY,f=h.shadowBlur,S=h.shadowColor,y=T(V,"shadowOffsetX"),m=T(V,"shadowOffsetY"),H=T(V,"shadowBlur"),J=wm(V,"shadowColor"),h.shadowOffsetX=(y==q8?3:y)*z,h.shadowOffsetY=(m==q8?3:m)*z,h.shadowBlur=(H==q8?6:H)*z,h.shadowColor=J||wm(v4)),"save"===_)h.save();else if("endClip"===_||"restore"===_)h.restore();else if("clip"===_)h.save(),G2(h,T(V,"points",am),T(V,"segments",nm),!0),h.clip();else if(l4[_]){if(Em(V,_,w=w||{x:0,y:0,width:O.width,height:O.height},O),V.prefix&&l8(V.prefix)&&0===V.prefix.indexOf("ui.")&&gj&&gj.getInteractorClasses&&gj.initView){gj._vectorCompInfo||(gj._vectorCompInfo=[]);for(var a=!1,i=0;i<gj._vectorCompInfo.length;i++){var n=gj._vectorCompInfo[i];if(V.prefix===n.comp.prefix&&r===n.data){gj._vectorCompInfo[i]={comp:V,type:_,rect:w,compRefRect:O,data:r,image:M,transform:h.getTransform()},a=!0;break}}a||gj._vectorCompInfo.push({comp:V,type:_,rect:w,compRefRect:O,data:r,image:M,transform:h.getTransform()})}}else _===tR?Em(V,_,w,O):"SVGPath"===_?(D=_,P=w,H=T(F=V,"path"),K=T(F,BR),y=T(F,"scaleX"),t=T(F,"scaleY"),g=oj(F),m=q8,z=k2(null,H),P||((P=F.unionRect)||(P=Ls(z),F.path.func||(F.unionRect=P)),m=P),P&&((m=m||F.unionRect)||(m=Ls(z),F.path.func||(F.unionRect=m)),z=Mm(F,P,m,K,y,t,g),P=T(F,"borderPattern"),K=R_(h,P),y=wm(F,"background"),t=wm(F,"borderColor"),g=T(F,"borderWidth"),J=T(F,"gradient"),s=wm(F,"gradientColor"),l=T(F,"border3d"),N=wm(F,"border3dColor"),q=T(F,"border3dAccuracy"),L=h.lineJoin,e=h.lineCap,h.lineJoin=T(F,"borderJoin")||uf,h.lineCap=T(F,"borderCap")||Yf,y?(b4(h,y,J,s,m),k2(h,H),h.fill(),K!==h&&k2(h,H)):k2(h,H),(J=T(F,"borderWidthAbsolute"))&&(h.save(),h.setTransform(1,0,0,1,0,0)),g&&t&&(h.lineWidth=g,h.strokeStyle=t,h.stroke(),l&&V4(h,t,N,g,mj,q)),Q_(h,P),T(F,"dash")&&0<(s=T(F,"dashWidth")||g)&&(P=T(F,"dashPattern")||zf,K=R_(h,P,T(F,"dashOffset")),l=wm(F,"dashColor")||wm(w4),K!==h&&k2(h,H),h.strokeStyle=l,h.lineWidth=s,h.stroke(),T(F,"dash3d")&&V4(h,l,wm(F,"dash3dColor"),s,mj,T(F,"dash3dAccuracy")),Q_(h,P)),J&&h.restore(),D===C&&N4(h,y,T(F,"depth"),m),h.lineJoin=L,h.lineCap=e,z&&rm())):(K=Mm(V,w=w||{x:0,y:0,width:O.width,height:O.height},w,t=T(V,BR),N=T(V,"scaleX"),q=T(V,"scaleY"),g=oj(V)),LJ(_)?(Om(V,_),L8.drawCompType(_,h,w,V,tj,gj)):L8.getCompType(_)?(l=(H=L8.getCompType(_)).func||H,Om(V,H),L8.drawCompType(l,h,w,V,tj,gj)):Oj[_]?Oj[_](V,w):L8.getCompType(_)===N8&&je.test(_)&&(c_(_),L8.getCompType(_)===N8&&(D_=!1)),K&&rm());o&&(h.shadowOffsetX=A,h.shadowOffsetY=c,h.shadowBlur=f,h.shadowColor=S),u!=q8&&(h.globalAlpha=b),h.interactiveInfo&&(h.interactiveInfo.matrix=Q,h.interactiveInfo._parentCompInfo=X),V.prefix&&(F_=R),P_.splice(0,1),h.compGray=$,Y&&h.restore()}}),h.interactiveInfo&&(h.interactiveInfo.matrix=J),h.restore()),$m(s)}}),K_=(L8.getCurrentComp=function(){return P_[0]},L8.getParentComp=function(){return P_[1]},L8.compContextSave=function(V){var R,Q,X;V.save(),(V=V.interactiveInfo)&&((R=V._compContextTransformStack)||(R=V._compContextTransformStack=[]),Q={},(X=V.matrix)&&(Q.matrix=X.clone()),V._parentCompInfo&&(X=V._parentCompInfo.matrix)&&(Q.parentMatrix=X.clone()),R.push(Q))},L8.compContextRestore=function(V){var R,Q;V.restore(),(V=V.interactiveInfo)&&(R=V._compContextTransformStack)&&(R=R.pop(),(Q=V.matrix)&&Q.copy(R.matrix),V._parentCompInfo&&(Q=V._parentCompInfo.matrix)&&Q.copy(R.parentMatrix))},L8.compContextTranslate=function(V,R,Q){var X;V.translate(R,Q),(V=V.interactiveInfo)&&((X=V.matrix)&&X.appendTranslate(R,Q),V._parentCompInfo&&(X=V._parentCompInfo.matrix)&&X.appendTranslate(R,Q))},L8.compContextScale=function(V,R,Q){var X;V.scale(R,Q),(V=V.interactiveInfo)&&((X=V.matrix)&&X.appendScale(R,Q),V._parentCompInfo&&(X=V._parentCompInfo.matrix)&&X.appendScale(R,Q))},L8.compContextRotate=function(V,R){var Q;V.rotate(R),(V=V.interactiveInfo)&&((Q=V.matrix)&&Q.appendRotate(R),V._parentCompInfo&&(Q=V._parentCompInfo.matrix)&&Q.appendRotate(R))},L8.compContextTransform=function(V,R,Q,X,b,A,c){V.transform(R,Q,X,b,A,c),(V=V.interactiveInfo)&&(R=Rf.TEMP_MATRIX.set(R,Q,X,b,A,c),(Q=V.matrix)&&Q.append(R),V._parentCompInfo&&(Q=V._parentCompInfo.matrix)&&Q.append(R))},L8.getInternal=function(){return{isEnter:$2,isEsc:j2,isSpace:E2,isLeft:i2,isUp:n2,isRight:M2,isDown:r2,addMethod:mJ,superCall:oJ,toPointsArray:d2,translateAndScale:F2,appendArray:tJ,createWorldMatrix:Bs,vec3TransformMat4:Ts,setCanvas:xJ,createDiv:pJ,createView:UJ,createCanvas:IJ,createImage:bJ,initContext:S2,layout:_,fillRect:Q4,Mat:Qf,drawBorder:P4,isString:l8,setBorder:ZJ,getPropertyValue:rJ,setPropertyValue:EJ,drawVerticalLine:jJ,draw3DRect:N4,getPinchDist:K4,isSameRect:wJ,getPosition:_4,intersectionLineRect:nJ,getNodeRect:j_,getEdgeAgentPosition:Xq,getEdgeHostPosition:Qq,getImageWidth:s_,getImageHeight:l_,initItemElement:WJ,compileShaderAndFetchUniforms:Ap,composeShaderSource:Sp,decomposeShaderSource:fp,registerShaderToLib:Dp,getShaderInternal:Fp,makeUVMatrixArray:yE,drawPoints:G2,createG2:R_,closePopup:H2,isH:fJ,createAnim:gJ,createNormalMatrix:bE,makeUVMatrix:KE,toColorArray:I2,createNormals:Yg,toFloatArray:Wy,glMV:AE,glPop:XE,batchShape:dE,createNodeMatrix:xs,getShapeModel:hy,getFaceInfo:eE,transformAppend:bg,drawFaceInfo:JE,glUploadData:Gg,glUploadElementData:VE,glDrawArray:Zg,glDrawElement:kg,glBindTexture:Og,pickValueToColor:Mp,to3dPointsArray:Iy,setGLDebugMode:function(V){vI=V},cube:function(){return{vs:ly,is:Hy,uv:Ky}},ui:function(){return{DataUI:Eu,NodeUI:ju,EdgeUI:Cu,GroupUI:hu,ShapeUI:Wu,GridUI:pu,Data3dUI:Bp,Node3dUI:Gp,Shape3dUI:RG}},getInternalVersion:function(){return"U2FsdGVkX1+5trx0cx61AnWusmFJdrymOAQnsm8apPw="},getDragger:function(){return K2},addMSMap:function(V){mJ(Jf,V)},k:A8,overrideTimerFunc:function(V,R){Zf=I.Default.callLater=V,kf=I.Default.cancelLater=R},canEnterEditDetailMode:Nq,addEventListener:z8,removeEventListener:Y8,createGradientByPackedData:x2,completeCubeCenterOfModel3d:gE,completeObjModelMapToShape3d:mE}},function(V){var K="toString",R="";function l(V,R,Q){V!=q8&&(R==q8&&IA!=typeof V?this._54O(V,256):this._54O(V,R))}c8=V["D"+11182[K](i8(2,5))];var Q=l.prototype;function H(){return new l(q8)}RA+=qR.substr(0,1);for(var V="Microsoft Internet Explorer"==(V=V.navigator?V.navigator.appName:"")?(Q.am=function(V,R,Q,X,b,A){for(var c=32767&R,f=R>>15;0<=--A;){var S=32767&this[V],F=this[V++]>>15,D=f*S+F*c;b=((S=c*S+((32767&D)<<15)+Q[X]+(1073741823&b))>>>30)+(D>>>15)+f*F+(b>>>30),Q[X++]=1073741823&S}return b},30):"Netscape"!=V?(Q.am=function(V,R,Q,X,b,A){for(;0<=--A;){var c=R*this[V++]+Q[X]+b;b=o8(c/67108864),Q[X++]=67108863&c}return b},26):(Q.am=function(V,R,Q,X,b,A){for(var c=16383&R,f=R>>14;0<=--A;){var S=16383&this[V],F=this[V++]>>14,D=f*S+F*c;b=((S=c*S+((16383&D)<<14)+Q[X]+b)>>28)+(D>>14)+f*F,Q[X++]=268435455&S}return b},28),r=(Q.DB=V,Q.DM=(1<<V)-1,Q.DV=1<<V,Q.FV=i8(2,52),Q.F1=52-V,Q.F2=2*V-52,"0123456789abcdefghijklmnopqrstuvwxyz"),F=[],c=function(V){return String.fromCharCode(V)},X="0".charCodeAt(0),b=0;b<=9;++b)F[X++]=b;for(X="a".charCodeAt(0),b=10;b<36;++b)F[X++]=b;for(X="A".charCodeAt(0),b=10;b<36;++b)F[X++]=b;function D(V){return r.charAt(V)}function A(V){var R=H();return R._58O(V),R}function y(V){var R,Q=1;return 0!=(R=V>>>16)&&(V=R,Q+=16),0!=(R=V>>8)&&(V=R,Q+=8),0!=(R=V>>4)&&(V=R,Q+=4),0!=(R=V>>2)&&(V=R,Q+=2),0!=(R=V>>1)&&(V=R,Q+=1),Q}function f(V){this.m=V}function S(V){this.m=V,this.mp=V._50O(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<V.DB-15)-1,this.mt2=2*V.t}function t(V,R){return new l(V,R)}function P(){this.n=q8,this.e=0,this.d=q8,this.p=q8,this.q=q8,this.dmp1=q8,this.dmq1=q8,this._10A=q8}(V=f.prototype)._73O=function(V){return V.s<0||0<=V._52O(this.m)?V.mod(this.m):V},V.revert=function(V){return V},V._74O=function(V){V._49O(this.m,q8,V)},V._75O=function(V,R,Q){V._47O(R,Q),this._74O(Q)},V._76O=function(V,R){V._48O(R),this._74O(R)},(V=S.prototype)._73O=function(V){var R=H();return V.abs()._59O(this.m.t,R),R._49O(this.m,q8,R),V.s<0&&0<R._52O(l.ZERO)&&this.m._78O(R,R),R},V.revert=function(V){var R=H();return V._77O(R),this._74O(R),R},V._74O=function(V){for(var R=this;V.t<=R.mt2;)V[V.t++]=0;for(var Q=0;Q<R.m.t;++Q){var X=32767&V[Q],b=X*R.mpl+((X*R.mph+(V[Q]>>15)*R.mpl&R.um)<<15)&V.DM;for(V[X=Q+R.m.t]+=R.m.am(0,b,V,Q,0,R.m.t);V[X]>=V.DV;)V[X]-=V.DV,V[++X]++}V._57O(),V._45O(R.m.t,V),0<=V._52O(R.m)&&V._78O(R.m,V)},V._75O=function(V,R,Q){V._47O(R,Q),this._74O(Q)},V._76O=function(V,R){V._48O(R),this._74O(R)},Q._77O=function(V){for(var R=this.t-1;0<=R;--R)V[R]=this[R];V.t=this.t,V.s=this.s},Q._58O=function(V){this.t=1,this.s=V<0?-1:0,0<V?this[0]=V:V<-1?this[0]=V+this.DV:this.t=0},Q._54O=function(V,R){var Q,X=this;if(16==R)Q=4;else if(8==R)Q=3;else if(256==R)Q=8;else if(2==R)Q=1;else if(32==R)Q=5;else{if(4!=R)return void X.fromRadix(V,R);Q=2}X.t=0,X.s=0;for(var b,A=V.length,c=!1,f=0;0<=--A;){var S=8==Q?255&V[A]:(S=A,(b=F[(b=V).charCodeAt(S)])==q8?-1:b);S<0?"-"==V.charAt(A)&&(c=!0):(c=!1,0==f?X[X.t++]=S:f+Q>X.DB?(X[X.t-1]|=(S&(1<<X.DB-f)-1)<<f,X[X.t++]=S>>X.DB-f):X[X.t-1]|=S<<f,(f+=Q)>=X.DB&&(f-=X.DB))}8==Q&&0!=(128&V[0])&&(X.s=-1,0<f&&(X[X.t-1]|=(1<<X.DB-f)-1<<f)),X._57O(),c&&l.ZERO._78O(X,X)},Q._57O=function(){for(var V=this.s&this.DM;0<this.t&&this[this.t-1]==V;)--this.t},Q._59O=function(V,R){for(var Q=this.t-1;0<=Q;--Q)R[Q+V]=this[Q];for(Q=V-1;0<=Q;--Q)R[Q]=0;R.t=this.t+V,R.s=this.s},Q._45O=function(V,R){for(var Q=V;Q<this.t;++Q)R[Q-V]=this[Q];R.t=Q8(this.t-V,0),R.s=this.s},Q._44O=function(V,R){for(var Q=this,X=V%Q.DB,b=Q.DB-X,A=(1<<b)-1,c=o8(V/Q.DB),f=Q.s<<X&Q.DM,S=Q.t-1;0<=S;--S)R[S+c+1]=Q[S]>>b|f,f=(Q[S]&A)<<X;for(S=c-1;0<=S;--S)R[S]=0;R[c]=f,R.t=Q.t+c+1,R.s=Q.s,R._57O()},Q._46O=function(V,R){var Q=this,X=(R.s=Q.s,o8(V/Q.DB));if(X>=Q.t)R.t=0;else{var b=V%Q.DB,A=Q.DB-b,c=(1<<b)-1;R[0]=Q[X]>>b;for(var f=X+1;f<Q.t;++f)R[f-X-1]|=(Q[f]&c)<<A,R[f-X]=Q[f]>>b;0<b&&(R[Q.t-X-1]|=(Q.s&c)<<A),R.t=Q.t-X,R._57O()}},Q._78O=function(V,R){for(var Q=this,X=0,b=0,A=X8(V.t,Q.t);X<A;)b+=Q[X]-V[X],R[X++]=b&Q.DM,b>>=Q.DB;if(V.t<Q.t){for(b-=V.s;X<Q.t;)b+=Q[X],R[X++]=b&Q.DM,b>>=Q.DB;b+=Q.s}else{for(b+=Q.s;X<V.t;)b-=V[X],R[X++]=b&Q.DM,b>>=Q.DB;b-=V.s}R.s=b<0?-1:0,b<-1?R[X++]=Q.DV+b:0<b&&(R[X++]=b),R.t=X,R._57O()},Q._47O=function(V,R){var Q=this.abs(),X=V.abs(),b=Q.t;for(R.t=b+X.t;0<=--b;)R[b]=0;for(b=0;b<X.t;++b)R[b+Q.t]=Q.am(0,X[b],R,b,0,Q.t);R.s=0,R._57O(),this.s!=V.s&&l.ZERO._78O(R,R)},Q._48O=function(V){for(var R=this.abs(),Q=V.t=2*R.t;0<=--Q;)V[Q]=0;for(Q=0;Q<R.t-1;++Q){var X=R.am(Q,R[Q],V,2*Q,0,1);(V[Q+R.t]+=R.am(Q+1,2*R[Q],V,2*Q+1,X,R.t-Q-1))>=R.DV&&(V[Q+R.t]-=R.DV,V[Q+R.t+1]=1)}0<V.t&&(V[V.t-1]+=R.am(Q,R[Q],V,2*Q,0,1)),V.s=0,V._57O()},Q._49O=function(V,R,Q){var X=this;if(!((D=V.abs()).t<=0)){var b=X.abs();if(b.t<D.t)return R!=q8&&R._58O(0),void(Q!=q8&&X._77O(Q));Q==q8&&(Q=H());var A=H(),c=X.s,V=V.s,f=X.DB-y(D[D.t-1]),S=(0<f?(D._44O(f,A),b._44O(f,Q)):(D._77O(A),b._77O(Q)),A.t),F=A[S-1];if(0!=F){var D=F*(1<<X.F1)+(1<S?A[S-2]>>X.F2:0),P=X.FV/D,N=(1<<X.F1)/D,q=1<<X.F2,L=Q.t,e=L-S,J=R==q8?H():R;for(A._59O(e,J),0<=Q._52O(J)&&(Q[Q.t++]=1,Q._78O(J,Q)),l.ONE._59O(S,J),J._78O(A,A);A.t<S;)A[A.t++]=0;for(;0<=--e;){var s=Q[--L]==F?X.DM:o8(Q[L]*P+(Q[L-1]+q)*N);if((Q[L]+=A.am(0,s,Q,e,0,S))<s)for(A._59O(e,J),Q._78O(J,Q);Q[L]<--s;)Q._78O(J,Q)}R!=q8&&(Q._45O(S,R),c!=V&&l.ZERO._78O(R,R)),Q.t=S,Q._57O(),0<f&&Q._46O(f,Q),c<0&&l.ZERO._78O(Q,Q)}}},Q._50O=function(){if(this.t<1)return 0;var V=this[0];if(0==(1&V))return 0;var R=3&V;return 0<(R=(R=(R=(R=R*(2-(15&V)*R)&15)*(2-(255&V)*R)&255)*(2-((65535&V)*R&65535))&65535)*(2-V*R%this.DV)%this.DV)?this.DV-R:-R},Q._51O=function(){return 0==(0<this.t?1&this[0]:this.s)},Q.exp=function(V,R){if(4294967295<V||V<1)return l.ONE;var Q,X=H(),b=H(),A=R._73O(this),c=y(V)-1;for(A._77O(X);0<=--c;)R._76O(X,b),0<(V&1<<c)?R._75O(b,A,X):(Q=X,X=b,b=Q);return R.revert(X)},Q.toString=function(V){var R,Q=this;if(Q.s<0)return"-"+Q._85O()[K](V);if(16==V)R=4;else if(8==V)R=3;else if(2==V)R=1;else if(32==V)R=5;else{if(4!=V)return Q.toRadix(V);R=2}var X,b=(1<<R)-1,A=!1,c="",f=Q.t,S=Q.DB-f*Q.DB%R;if(0<f--)for(S<Q.DB&&0<(X=Q[f]>>S)&&(A=!0,c=D(X));0<=f;)S<R?(X=(Q[f]&(1<<S)-1)<<R-S,X|=Q[--f]>>(S+=Q.DB-R)):(X=Q[f]>>(S-=R)&b,S<=0&&(S+=Q.DB,--f)),(A=0<X||A)&&(c+=D(X));return A?c:"0"},Q._85O=function(){var V=H();return l.ZERO._78O(this,V),V},Q.abs=function(){return this.s<0?this._85O():this},Q._52O=function(V){var R=this.s-V.s;if(0!=R)return R;var Q=this.t;if(0!=(R=Q-V.t))return this.s<0?-R:R;for(;0<=--Q;)if(0!=(R=this[Q]-V[Q]))return R;return 0},Q._55O=function(){return this.t<=0?0:this.DB*(this.t-1)+y(this[this.t-1]^this.s&this.DM)},Q.mod=function(V){var R=H();return this.abs()._49O(V,q8,R),this.s<0&&0<R._52O(l.ZERO)&&V._78O(R,R),R},Q._53O=function(V,R){return R=new(V<256||R._51O()?f:S)(R),this.exp(V,R)},l.ZERO=A(0),l.ONE=A(1),Q._86O=function(){var V=this;if(V.s<0){if(1==V.t)return V[0]-V.DV;if(0==V.t)return-1}else{if(1==V.t)return V[0];if(0==V.t)return 0}return(V[1]&(1<<32-V.DB)-1)<<V.DB|V[0]},P8=function(){V=(F=j).split(""),R=g(F),V.forEach(function(V){0<V.length&&R&&(f8+=C8(V))});var R,V=(F=R).substr(0,4),Q=F.substr(4,2),X=F.substr(6,2),b=!1,A=A8,c=[],f=dA.charAt(7);if(c8&&(c8[K]().indexOf("nat")<0||c8[RA][K]().indexOf("nat")<0||!F?D=q8:(V=(F=new c8(+V,Q-1,+X)).setHours(9),c8[RA]()>V?D=B2[f]:b=!0)),F&&D&&D[0]&&D[_8(.5)]&&A){var S,Q=ps(D[0]);for(S in X=ps(D[1]))c.push(S);var V=0,F=Q[c[0]],D=X[c[V++]],P=X[c[V++]],N=X[c[V++]],q=X[c[V++]],L=X[c[V++]],e=X[c[V++]],Q=Q[c[6]],X=X[c[+V]],V=M._27O(A);if(F===D&&V&&X){var A=D+P+N+q+L+e,J=!e||e===De||!De&&e===(je+"")[0];if(!J&&e)for(var s,l=0,H=e.length;l<H;l++)e[l]===eA[7]?s===De||s[0]===UR[5]&&De&&0<=De.indexOf(s.substr(1))?J=!0:s=q8:(s==q8?s=e[l]:s+=e[l],l===H-1&&(s===De||s[0]===UR[5]&&De&&0<=De.indexOf(s.substr(1)))&&(J=!0));A&&V._31O(A,X)&&V._31O(F,Q)&&J&&(!L||c8[RA]()<L)&&(b=!0)}}return b||(X4=OJ),f};(V=P.prototype)._37O=function(V){return V._53O(this.e,this.n)},V._38O=function(V,R){this.isPublic=!0,typeof V!=IA?(this.n=V,this.e=R):V!=q8&&R!=q8&&0<V.length&&0<R.length&&(this.n=t(V,16),this.e=C8(R,16))};var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$="=",j="ICQJFQ==";function g(V){for(var R,Q,X="",b=0,A=0;A<V.length&&V.charAt(A)!=$;++A)(Q=E.indexOf(V.charAt(A)))<0||(b=0==b?(X+=D(Q>>2),R=3&Q,1):1==b?(X+=D(R<<2|Q>>4),R=15&Q,2):2==b?(X=(X+=D(R))+D(Q>>2),R=3&Q,3):(X=(X+=D(R<<2|Q>>4))+D(15&Q),0));return 1==b&&(X+=D(R<<2)),X}u=(Q={})._7A={},N=u._6A={_80O:function(V){v.prototype=this;var R=new v;return V&&R._5A(V),R.hasOwnProperty("_82O")||(R._82O=function(){R.$super._82O.apply(this,arguments)}),(R._82O.prototype=R).$super=this,R},_3A:function(){var V=this._80O();return V._82O.apply(V,arguments),V},_82O:function(){},_5A:function(V){for(var R in V)V.hasOwnProperty(R)&&(this[R]=V[R]);V.hasOwnProperty(K)&&(this.toString=V.toString)},_88O:function(){return this._82O.prototype._80O(this)}},q=u._39O=N._80O({_82O:function(V,R){V=this._84O=V||[],this._65O=null!=R?R:4*V.length},toString:function(V){return(V||L).stringify(this)},_89O:function(V){var R=this._84O,Q=V._84O,X=this._65O,b=V._65O;if(this._57O(),X%4)for(var A=0;A<b;A++){var c=Q[A>>>2]>>>24-A%4*8&255;R[X+A>>>2]|=c<<24-(X+A)%4*8}else if(65535<Q.length)for(A=0;A<b;A+=4)R[X+A>>>2]=Q[A>>>2];else R.push.apply(R,Q);return this._65O+=b,this},_57O:function(){var V=this._84O,R=this._65O;V[R>>>2]&=4294967295<<32-R%4*8,V.length=_8(R/4)},_88O:function(){var V=N._88O.call(this);return V._84O=this._84O.slice(0),V},_87O:function(V){for(var R=[],Q=0;Q<V;Q+=4)R.push(4294967296*$8|0);return new q._82O(R,V)}}),z=Q._2A={},L=z._69O={stringify:function(V){for(var R=V._84O,Q=V._65O,X=[],b=0;b<Q;b++){var A=R[b>>>2]>>>24-b%4*8&255;X.push((A>>>4).toString(16)),X.push((15&A).toString(16))}return X.join("")},_68O:function(V){for(var R=V.length,Q=[],X=0;X<R;X+=2)Q[X>>>3]|=C8(V.substr(X,2),16)<<24-X%8*4;return new q._82O(Q,R/2)}},e=z._8A={stringify:function(V){for(var R=V._84O,Q=V._65O,X=[],b=0;b<Q;b++){var A=R[b>>>2]>>>24-b%4*8&255;X.push(c(A))}return X.join("")},_68O:function(V){for(var R=V.length,Q=[],X=0;X<R;X++)Q[X>>>2]|=(255&V.charCodeAt(X))<<24-X%4*8;return new q._82O(Q,R)}},J=z._9A={stringify:function(V){try{return decodeURIComponent(escape(e.stringify(V)))}catch(V){throw new Error("")}},_68O:function(V){return e._68O(unescape(encodeURIComponent(V)))}},s=u._32O=N._80O({_1A:function(){this._83O=new q._82O,this._23O=0},_33O:function(V){typeof V==IA&&(V=J._68O(V)),this._83O._89O(V),this._23O+=V._65O},_25O:function(V){var R=this._83O,Q=R._84O,X=R._65O,b=this._79O,A=X/(4*b),c=(A=V?_8(A):Q8((0|A)-this._22O,0))*b,V=X8(4*c,X);if(c){for(var f=0;f<c;f+=b)this._20O(Q,f);var S=Q.splice(0,c);R._65O-=V}return new q._82O(S,V)},_88O:function(){var V=N._88O.call(this);return V._83O=this._83O._88O(),V},_22O:0}),u._66O=s._80O({cfg:N._80O(),_82O:function(V){this.cfg=this.cfg._80O(V),this._1A()},_1A:function(){s._1A.call(this),this._34O()},_81O:function(V){return this._33O(V),this._25O(),this},_72O:function(V){return V&&this._33O(V),this._21O()},_79O:16,_26O:function(Q){return function(V,R){return new Q._82O(R)._72O(V)}},_19O:function(Q){return function(V,R){return new C._71O._82O(Q,R)._72O(V)}}});var N,q,L,e,J,s,C,C=Q._67O={},m=Q;function v(){}var z=m,h=(u=z._7A)._39O,Y=u._66O,u=z._67O,T=[],W=[];function U(V){return 4294967296*(V-(0|V))|0}for(var o=2,_=0;_<64;)!function(V){for(var R=O8(V),Q=2;Q<=R;Q++)if(!(V%Q))return;return 1}(o)||(_<8&&(T[_]=U(i8(o,.5))),W[_]=U(i8(o,1/3)),_++),o++;var O=[],u=u._41O=Y._80O({_34O:function(){this._64O=new h._82O(T.slice(0))},_20O:function(V,R){for(var Q=this._64O._84O,X=Q[0],b=Q[1],A=Q[2],c=Q[3],f=Q[4],S=Q[5],F=Q[6],D=Q[7],P=0;P<64;P++){P<16?O[P]=0|V[R+P]:(N=O[P-15],q=O[P-2],O[P]=((N<<25|N>>>7)^(N<<14|N>>>18)^N>>>3)+O[P-7]+((q<<15|q>>>17)^(q<<13|q>>>19)^q>>>10)+O[P-16]);var N=X&b^X&A^b&A,q=D+((f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25))+(f&S^~f&F)+W[P]+O[P],D=F,F=S,S=f,f=c+q|0,c=A,A=b,b=X,X=q+(((X<<30|X>>>2)^(X<<19|X>>>13)^(X<<10|X>>>22))+N)|0}Q[0]=Q[0]+X|0,Q[1]=Q[1]+b|0,Q[2]=Q[2]+A|0,Q[3]=Q[3]+c|0,Q[4]=Q[4]+f|0,Q[5]=Q[5]+S|0,Q[6]=Q[6]+F|0,Q[7]=Q[7]+D|0},_21O:function(){var V=this._83O,R=V._84O,Q=8*this._23O,X=8*V._65O;return R[X>>>5]|=128<<24-X%32,R[14+(64+X>>>9<<4)]=o8(Q/4294967296),R[15+(64+X>>>9<<4)]=Q,V._65O=4*R.length,this._25O(),this._64O},_88O:function(){var V=Y._88O.call(this);return V._64O=this._64O._88O(),V}}),w=(z._41O=Y._26O(u),z._42O=Y._19O(u),new RegExp(""));function a(V){var R=V.substring(0,38);return R&&30==R.indexOf("05000420")?["ss",V.substring(38)]:[]}function p(V,R,Q,X){if((R=t(R=(R=R.replace(w,"")).replace(/[ \n]+/g,""),16))._55O()>this.n._55O())return 0;if(0==(R=a(this._37O(R)[K](16).replace(/^1f+00/,""))).length)return!1;for(var b,A,c,f=_s,S=[0,.5,.75,.875,.9375],F=[],D=[],P=[],N=s8/f,q=(q=R=R[1],V=i._4O.Util._56O(V,"ss"),(c={}).v=V==q,c.t=1,c.s=0,F8=c.v,V),L=c.t=0,e=0;L<S.length;L++)for(var J=L%2==0?0:.5,s=0;s<=f;s++)A=1-S[L],F.push(.5*e8(b=(s+J)*N)*A,.5*S[L]*2-.5,.5*-J8(b)*A),D.push((s+J)/f,A);for(L=0;L<S.length-1;L++)for(var l=L*(f+1),H=(L+1)*(f+1),s=0;s<f;s++)P.push(l+s,H+s+1,H+s,l+s,l+s+1,H+s+1);return P.forEach(function(V){e+=V}),R==q&&10<e}function I(V){return(V=V.replace(w,R)).replace(/[ \n]+/g,R)}w.compile("[^0-9a-f]","gi"),P._28O=-1,P._29O=-2,V._31O=p,V._63O=p,P._43O=-2;var i,Z,k,n=new function(){var S=this;S._5O=function(V,R){return"8"!=V.substring(R+2,R+3)?1:0==(V=C8(V.substring(R+3,R+4)))?-1:0<V&&V<10?V+1:-2},S._13O=function(V,R){var Q=S._5O(V,R);return Q<1?"":V.substring(R+2,R+2+2*Q)},S._12O=function(V,R){return""==(V=S._13O(V,R))?-1:(C8(V.substring(0,1))<8?new l(V,16):new l(V.substring(2),16))._86O()},S._6O=function(V,R){return(V=S._5O(V,R))<0?V:R+2*(V+1)},S._11O=function(V,R){var Q=S._6O(V,R),R=S._12O(V,R);return V.substring(Q,Q+2*R)},S._10O=function(V,R){return S._6O(V,R)+2*S._12O(V,R)},S._7O=function(V,R){for(var Q=[],X=S._6O(V,R),b=(Q.push(X),S._12O(V,R)),A=X,c=0;;){var f=S._10O(V,A);if(f==q8||2*b<=f-X)break;if(200<=c)break;Q.push(f),A=f,c++}return Q}},x=(n._90O=c(34),n._91O=b8+c(108),(i=i!=q8&&i?i:{})._4O!=q8&&i._4O||(i._4O={}),i._4O),B=(i._4O.Util=new function(){this._56O=function(V,R){return(new i._4O._3O)._30O(V)},this._4A=function(V,R){return(new i._4O._3O)._36O(V)},this._11A=function(V,R){return(new x._3O)._30O(V)}},i._4O._3O=function(V){var Q=this;Q._8O=function(V,R){if("ss"==V&&"cj"==R){try{Q.md=m._67O._41O._3A()}catch(V){}Q._24O=function(V){Q.md._81O(V)},Q._35O=function(V){V=m._2A._69O._68O(V),Q.md._81O(V)},Q._60O=function(){return Q.md._72O()[K](m._2A._69O)},Q._30O=function(V){return Q._24O(V),Q._60O()},Q._36O=function(V){return Q._35O(V),Q._60O()}}},Q._24O=function(V){},Q._35O=function(V){},Q._60O=function(){},Q._30O=function(V){},Q._36O=function(V){},Q._8O("ss","cj")},D8=function(V){var R=vJ[vA[7]],Q=1,X=!1;if(v2.a!=vJ[BA])return v2.a;if(v2.forEach(function(V){Q*=V}),Q<V){if(R&&R[1]&&R[0]){var b=R[0],R=(R=R[1]).split(n._90O),b=b.split(n._90O),A=R[3],c=b[3],f=R[7],S=R[11],F=R[15],D=R[19],P=R[23],R=R[27],b=b[7],f=A+f+S+F+D+P,N=!P,F=c===A;if(P=P===Ce.toString()[0]?P+P+P:P){var q=P&&P.split(DJ("firefox")[3]);if(q)for(var L=0;L<q.length;L++){var e=q[L];if(e[0]===cA[8]&&(e=e.substring(1)),0<=WA.indexOf(e)){N=!0;break}}}(X=F&&xe()(c,b)&&xe()(f,R)&&N&&(!D||V<D))&&0<=S.indexOf(LR.length)&&(D8[LR.length]=LR),X&&0<=S.indexOf(LR.length+1)&&(D8[LR.length+1]=LR),X&&0<=S.indexOf(LR.length+3)&&(D8[LR.length+3]=LR),X&&0<=S.indexOf(YA.length)&&(D8[YA.length]=YA),X&&0<=S.indexOf(yR[0])&&(D8[yR[0]]=yR)}X||(Eu.prototype._42=ge)}else X=!0,D8[LR.length]=D8[LR.length+1]=D8[LR.length+3]=D8[YA.length]=D8[yR[0]]=LR;return v2.a=X},String.fromCharCode(45),t),G=/^1f+00/,M=(Q={_18O:function(V){return g(V.replace(/\s+/g,""))},_14O:function(V){return V=this._18O(V),this._15O(V)},_15O:function(V){var R;if("2a864886f70d010101"==(V=this._17O(V))._61O)return V=this._16O(V.key),(R=new P)._38O(V.n,V.e),R},_16O:function(V){var R={},Q=(V.substr(0,2),n._7O(V,0));return Q.length,V.substr(Q[0],2),R.n=n._11O(V,Q[0]),V.substr(Q[1],2),R.e=n._11O(V,Q[1]),R},_17O:function(V){var R={},Q=(R._40O=q8,n._7O(V,0)),X=(Q.length,Q[0]);return V.substr(X,2),(X=n._7O(V,X)).length,V.substr(X[0],2),R._61O=n._11O(V,X[0]),"06"==V.substr(X[1],2)?R._40O=n._11O(V,X[1]):"30"==V.substr(X[1],2)&&(R._40O={},R._40O.p=n._70O(V,X[1],[0],"02"),R._40O.q=n._70O(V,X[1],[1],"02"),R._40O.g=n._70O(V,X[1],[2],"02")),V.substr(Q[1],2),R.key=n._11O(V,Q[1]).substr(2),R}})._17O?Q:q8,d=M._27O=function(V,R,Q){return M._14O(V)},V8=(xe=function(){return function(V,R){if(V&&R){if(R=I(R),R=B(R,i8(2,4)),!this||!this.n||R._55O()>this.n._55O())return 0;if(0==(R=a(this._37O(R)[K](i8(2,4)).replace(G,""))).length)return!1;var Q=R[0];return R[1]==i._4O.Util._56O(V,Q)}}.bind(d(A8))},sA.length-JA.length);if(0<V8)for(var R8=0;R8<V8;R8++)Z=x.Util,k=I;S8=function(V,R){R=k(R);var Q=d(ds),X=JR.length,b=2*X,R=B(R,i8(X,b)),A=!0;if(A=Q&&(c=Q[eR[0]])&&R._55O()<=c._55O()?!1:A)return 0;var c=a(Q._37O(R)[K](i8(X,b)).replace(G,""));return 0!=c.length&&(A=c[0],c[1]==Z._11A(V,A))}}(j),mJ(L8,{load:(wj={},function(V,R,Q){var X,b=wj[V],A=Q?"c_"+(Q.sync?"1":"0")+"_"+(Q.post?"1":"0")+"_"+(Q.responseType||"H")+"_"+(Q.mimeType||"H")+"_"+(Q.data?JSON.stringify(Q.data):"H"):"";b&&(X=b[A])?X.push(R):(wj[V]||(b=wj[V]={count:0}),X=b[A]=[R],b.count++,L8.xhrLoad(V,function(R){delete b[A],b.count--,b.count||delete wj[V],X.forEach(function(V){V(R)})},Q))}),asyncEach:function(X,R,b){"function"!=typeof b&&(b=Function.prototype);var A=new Array(X.length),c=0,f=!1;X.forEach(function(V,Q){R(V,function(V,R){if(!f)return V?(f=!0,b(null)):(A[Q]=R,++c===X.length?b(A):void 0)})})},xhrLoad:function(V,Q,X){var b=!1,A=(H8(V)||(b=!0,V=[V]),(X=X||{}).sync),c=null,R=X.method||"GET";if(X.post&&(R="POST"),X.method=R,L8.asyncEach(V,function(V,R){var Q;(V=L8.beforeLoadURL(V)).data?R(null,V.data):(X.url=encodeURI(V),(Q=new gu).onload=function(V){200===this.status||0===this.status?R(null,Q.getResponseText()):R(!0)},Q.onerror=function(V){R(!0)},Q.send(X))},function(V){var R="function"==typeof Q;(R||A)&&(c=b&&V?V[0]:V,R&&Q(c))}),A)return c}}),v.setPrototypeOf||function(V,R){return V.__proto__=R,V}),y_=v.getPrototypeOf||function(V){return V.__proto__},t_=(Z8&&(aj=y_,y_=function(V){return qJ(V)?aj(V):null}),v.freeze),g_=(v.isFrozen,Wm.create=function(V,R){return function V(R,Q,X,b){var A=b(X),c=new Wm(R,Q,X,A);if(!A){for(var f=c.children,S=c.childMap,F=v.keys(X),D=0,P=F.length;D<P;++D){var N=V(c,N=F[D],X[N],b);f.push(N),S[N.name]=N}c.children=t_(f),c.childMap=t_(S)}return t_(c),c}(N8,N8,V,R)},Wm.prototype.forEach=function(V,R){for(var Q=this.children,X=0,b=Q.length;X<b;++X)V(Q[X],R)},Wm),t_=v.freeze,m_=1,z_={main:{mask:1,priority:L8.cameraPriority.main,clearDepth:!1,ignore:!1},top:{mask:2,priority:L8.cameraPriority.top,ignore:!1}},Y_="main",u_=z_[Y_].mask,o_=function(V,R,Q,X){var b;if(V=V||0,Q&&R in Q)b=Q[R].mask;else if(R in z_)b=z_[R].mask,!X&&Q&&(Q[R]=Bf(z_[R]));else{if(X)return V;var A,X=1;if(32<=(X=Q?(A=v.keys(Q),a_.forEach(function(V){A.indexOf(V)<0&&A.push(V)}),A.length):i_))throw new Error("Only 31 render layer can be defined.");X={mask:1<<X,priority:z_[Y_].priority},Q?Q[R]=X:(i_++,z_[R]=X,b=z_[R].mask,a_=w_(v.keys(z_)),i_=a_.length,m_++)}return V|b},__=function(V,R,Q){var X=0;if("string"==typeof V)X=o_(X,V,R,Q);else for(var b=0,A=V.length;b<A;++b)X=o_(X,V[b],R,Q);return X},O_=function(V,R){return V&&R&&V&R},w_=function(V){return V.sort(function(V,R){return z_[V].priority-z_[R].priority})},a_=w_(v.keys(z_)),i_=a_.length,Z=(mJ(L8,{setRenderLayerInfo:function(V,R){if(o_(0,V),R){for(var Q in R)z_[V][Q]=R[Q];R.priority&&(a_=w_(v.keys(z_)))}},getRenderLayerInfo:function(V){return z_[V]}},!0),I.List=function(){this._as=[];var V,R,Q=arguments.length;if(1===Q){var X=arguments[0];if(eJ(X)&&(X=X._as),H8(X))for(R=X.length,V=0;V<R;V++)this._as.push(X[V]);else X!=q8&&this._as.push(X)}else if(1<Q)for(V=0;V<Q;V++)this._as.push(arguments[V])}),n_=(W4("List",v,{forEach:function(V,R){this.each(V,R)},push:function(){for(var V=0;V<arguments.length;V++)this.add(arguments[V])},pop:function(){return this._as.pop()},shift:function(){return this._as.shift()},unshift:function(){return this._as.unshift.apply(this._as,arguments)},size:function(){return this._as.length},isEmpty:function(){return 0===this._as.length},add:function(V,R){return R===N8?this._as.push(V):this._as.splice(R,0,V)},addAll:function(V){eJ(V)&&(V=V._as),H8(V)?tJ(this._as,V):this._as.push(V)},get:function(V){return this._as[V]},slice:function(V,R){return new Z(this._as.slice(V,R))},remove:function(V){return 0<=(V=this._as.indexOf(V))&&V<this._as.length&&this.removeAt(V),V},removeAt:function(V){return this._as.splice(V,1)[0]},set:function(V,R){return this._as[V]=R},clear:function(){return this._as.splice(0,this._as.length)},contains:function(V){return 0<=this._as.indexOf(V)},indexOf:function(V){return this._as.indexOf(V)},each:function(V,R){for(var Q=0,X=this._as.length;Q<X;Q++){var b=this._as[Q];R?V.call(R,b,Q,this):V(b,Q,this)}},reverseEach:function(V,R){for(var Q=this._as.length-1;0<=Q;Q--){var X=this._as[Q];R?V.call(R,X):V(X)}},getArray:function(){return this._as},toArray:function(V,R){if(V){for(var Q,X=[],b=0,A=this._as.length;b<A;b++)Q=this._as[b],R?V.call(R,Q)&&X.push(Q):V(Q)&&X.push(Q);return X}return this._as.concat()},toList:function(V,R){if(V){for(var Q,X=new Z,b=0,A=this._as.length;b<A;b++)Q=this._as[b],R?V.call(R,Q)&&X.add(Q):V(Q)&&X.add(Q);return X}return new Z(this)},reverse:function(){this._as.reverse()},sort:function(V){return this._as.sort(V||xf),this},toString:function(){return this._as.toString()}}),v.defineProperties(Z.prototype,{length:{get:function(){return this._as.length},set:function(V){this._as.length=V}}}),new Z),M_=(mJ(n_,{size:function(){return 0},indexOf:function(){return-1},contains:function(){return!1},isEmpty:function(){return!0},sort:pe,each:pe,reverseEach:pe,toArray:function(){return[]},toList:function(){return new Z},add:Ie,addAll:Ie,set:Ie,remove:Ie,removeAt:Ie,clear:Ie}),I.Notifier=function(){this._f=0}),r_=(W4("Notifier",v,{contains:function(V,R){if(this._ls)for(var Q,X=0,b=this._ls.size();X<b;X++)if(V===(Q=this._ls.get(X)).l&&R===Q.s)return!0;return!1},add:function(V,R,Q){V={l:V,s:R,a:Q},this._ls||(this._ls=new Z),this._f?(this._as||(this._as=new Z),this._as.add(V)):V.a?this._ls.add(V,0):this._ls.add(V)},remove:function(V,R){this._ls&&(this._f?(this._rs||(this._rs=new Z),this._rs.add({l:V,s:R})):this._remove(V,R))},_remove:function(V,R){for(var Q,X=this._ls,b=0,A=X.size();b<A;b++)if((Q=X.get(b)).l===V&&Q.s===R)return void X.removeAt(b)},fire:function(V){var R=this,Q=R._ls;if(R._b=1e4,Q){++R._f;try{for(var X,b=0,A=Q.size();b<A;b++)(X=Q.get(b)).s?X.l.call(X.s,V):X.l(V)}catch(V){W8(function(){throw V})}finally{if(--R._f)return;if(R._rs){for(A=R._rs.size(),b=0;b<A;b++)X=R._rs.get(b),R._remove(X.l,X.s);delete R._rs}if(R._as){for(A=R._as.size(),b=0;b<A;b++)(X=R._as.get(b)).a?Q.add(X,0):Q.add(X);delete R._as}}}}}),I.Data=function(){this._id=If()}),E_=(W4("Data",v,{ms_ac:["tag","name","displayName","icon","toolTip","attrObject","styleMap","layer","adjustChildrenToTop","dataBindings"],ms_dm:1,ms_attr:1,_icon:q8,_parent:q8,_children:n_,_childMap:q8,_styleMap:q8,_layer:"0",_renderLayer:Y_,_renderLayerMask:u_,_adjustChildrenToTop:!1,getRenderLayerMask:function(){return this._renderLayerMask||u_},getRenderLayer:function(){return this._renderLayer||Y_},setRenderLayer:function(V){var R=o_(0,V,null,!0),R=(this._renderLayerMask=R,this._renderLayer);this._renderLayer=V,this.fp("renderLayer",R,this._renderLayer)},testRenderLayer:function(V){return z_[V]&&O_(this._renderLayerMask,z_[V].mask)},getUIClass:function(){return q8},get3dUIClass:function(){return q8},beginTransaction:function(){this._dataModel&&this._dataModel.beginTransaction()},endTransaction:function(){this._dataModel&&this._dataModel.endTransaction()},s:function(V,R){if(2===arguments.length)this.setStyle(V,R);else{if(!qJ(V))return this.getStyle(V);for(var Q in V)this.setStyle(Q,V[Q])}return this},fp:function(V,R,Q,X,b){return this.firePropertyChange(V,R,Q,X,b)},firePropertyChange:function(V,R,Q,X,b){if(X){if(X(R,Q))return!1}else if(R===Q)return!1;return(X=b||{}).property=V,X.oldValue=R,X.newValue=Q,(X.data=this)._dataModel&&this._dataModel.handleDataPropertyChange(X),this.onPropertyChanged(X),!0},onPropertyChanged:function(V){var R,Q,X=this._parent,b=V.property;sJ(X)&&(Q="s:ingroup"===b,((R=this.s(_R))&&W_[b]||b===Q)&&X._81I(),(R||Q)&&X.fp("childChange",!0,!1)),!HJ(X)||X._51I||this._51I||(W_[b]||"elevation"===b||p_[b]||"scaleTall"===b||"tall"===b)&&X.updateFromChildren(),"s:alwaysOnTop"!==b&&"s:shape3d.alwaysOnTop"!==b||(V.newValue?this.setRenderLayer("top"):this.setRenderLayer(N8))},_21I:function(V){if(V&&this._dataModel)throw"Remove data from dataModel before adding";this._dataModel=V},removeFromDataModel:function(){this._dataModel?this._dataModel.remove(this):this.setParent(null)},clearChildrenFromDataModel:function(V){for(var R=0,Q=this._children.toArray(),X=Q.length;R<X;R++)Q[R].removeFromDataModel()},getId:function(){return this._id},setId:function(V){this._id=V},getChildren:function(){return this._children},size:function(){return this._children.size()},toChildren:function(V,R){return this._children.toList(V,R)},eachChild:function(V,R){this._children.each(V,R)},addChild:function(V,R){var Q=this;V!==Q&&(Q._children===n_&&(Q._children=new Z,Q._childMap={}),0<=R||(R=Q._children.size()),Q._childMap[V._id]||Q.isDescendantOf(V)||(V._parent&&V._parent.removeChild(V),(R<0||R>Q._children.size())&&(R=Q._children.size()),Q._children.add(V,R),(Q._childMap[V._id]=V).setParent(Q),Q.onChildAdded(V,R),Q.fp(uA,q8,V)))},onChildAdded:function(V,R){},removeChild:function(V){var R;this._childMap&&this._childMap[V._id]&&(R=this._children.remove(V),delete this._childMap[V._id],this.fp(uA,V,q8),V.setParent(q8,R),this.onChildRemoved(V,R))},onChildRemoved:function(V,R){},getChildAt:function(V){return this._children.get(V)},clearChildren:function(){if(!this._children.isEmpty())for(var V=0,R=this._children.toArray(),Q=R.length;V<Q;V++)this.removeChild(R[V])},getParent:function(){return this._parent},setParent:function(V,R){var Q,X,b=this;b._73I||b._parent===V||b===V||V&&V.isDescendantOf(b)||(Q=b._parent,b._parent=V,b._73I=1,Q?(R==q8&&(R=Q.getChildren().indexOf(b)),Q.removeChild(b)):b._dataModel&&R==q8&&(R=b._dataModel.getRoots().indexOf(b)),V&&(V.addChild(b),X=V.getChildren().indexOf(b)),delete b._73I,b.fp("parent",Q,V,N8,{oldIndex:R,newIndex:X}),b.onParentChanged(Q,V))},onParentChanged:function(V,R){},hasChildren:function(){return 0<this._children.size()},isEmpty:function(){return this._children.isEmpty()},isRelatedTo:function(V){return!!V&&(this.isDescendantOf(V)||V.isDescendantOf(this))},isParentOf:function(V){return!(!V||!this._childMap||!this._childMap[V._id])},isDescendantOf:function(V){if(!V||V.isEmpty())return!1;for(var R=this._parent;R;){if(V===R)return!0;R=R._parent}return!1},getOwnStyle:function(V){var R=this._styleMap;return R?R[V]:N8},getStyle:function(V){var R=this._styleMap;return R&&(R=R[V])!==N8?R:g8[V]},setStyle:function(V,R){this._styleMap||(this._styleMap={});var Q=this._styleMap[V];R===N8?delete this._styleMap[V]:this._styleMap[V]=R,this.fp("s:"+V,Q,R)&&this.onStyleChanged(V,Q,R)},onStyleChanged:function(V,R,Q){},iv:function(V){this.invalidate(V)},invalidate:function(V){this.fp(V||"*",!1,!0)},toString:function(){return this._displayName||this._name||this._tag||this._id},toLabel:function(){return this._displayName||this._name},addStyleIcon:function(V,R){var Q=this.s(hR);this.beginTransaction(),Q||this.s(hR,Q={}),R?Q[V]=R:delete Q[V],this.fp(hR,q8,Q),this.endTransaction()},removeStyleIcon:function(V){var R,Q=this.s(hR);return Q&&(R=Q[V],delete Q[V],this.fp(hR,q8,Q)),R},_calcAnchorMatrix3d:function(){},appendAnchorMatrix3d:function(V){var R,Q,X;(this.hasOwnProperty("_anchor")||this.hasOwnProperty("_anchorElevation"))&&(R=(X=this.getAnchor3d()).x-.5,Q=X.y-.5,X=X.z-.5,eg(V,[-R,-Q,-X]))},getSerializableProperties:function(){return{name:1,displayName:1,icon:1,toolTip:1,parent:1,layer:1,renderLayer:1,tag:1,adjustChildrenToTop:1,dataBindings:1}},getSerializableStyles:function(){var V,R={};for(V in this._styleMap)R[V]=1;return R},getCurrentPrefix:function(){return this._interactPrefix||F_},ca:function(V,R){return V=this.getCurrentPrefix()+V,2===arguments.length?this.a(V,R):this.a(V)}}),I.DataModel=function(){var X=this,b=(X._isDeserializing=0,X._datas=new Z,X._dataMap={},X._roots=new Z,X._rootMap={},X._fsDataMap={},X._78O={},X._reflectorMap={},X._36I=new M_,X._35I=new M_,X._serializeNotifier=new M_,X._selectionModel=new $_(X),X._29Q=[]),A=X._scheduleCallback=function(){for(var V=Date.now(),R=0;R<b.length;R++){var Q=b[R];Q.enabled&&V-Q.lastTime>Q.interval&&(Q.beforeAction&&Q.beforeAction(),Q.action&&X.each(function(V){Q.action(V)}),Q.afterAction&&Q.afterAction(),Q.lastTime=V)}b.length&&(X._30Q=j.requestAnimationFrame(A))}}),$_=(W4("DataModel",v,{ms_fire:1,ms_attr:1,ms_ac:["layers","name","autoAdjustIndex","hierarchicalRendering","background","envmapType","envmap","postProcessingData","init"],_name:N8,_autoAdjustIndex:!0,_hierarchicalRendering:!1,_background:N8,_init:N8,_envmap:N8,_envmapType:N8,_postProcessingData:N8,sm:function(){return this.getSelectionModel()},mm:function(V,R,Q){this.addDataModelChangeListener(V,R,Q)},umm:function(V,R){this.removeDataModelChangeListener(V,R)},md:function(V,R,Q){this.addDataPropertyChangeListener(V,R,Q)},umd:function(V,R){this.removeDataPropertyChangeListener(V,R)},mh:function(V,R,Q){this.addHierarchyChangeListener(V,R,Q)},umh:function(V,R){this.removeHierarchyChangeListener(V,R)},getAttrObject:function(){return this._attrObject},setAttrObject:function(V){return this._attrObject=V},getSelectionModel:function(){return this._selectionModel},size:function(){return this._datas.size()},isEmpty:function(){return this._datas.isEmpty()},getRoots:function(){return this._roots},getDatas:function(){return this._datas},getFullscreenDatas:function(){return this._fsDataMap},getReflectors:function(){return this._reflectorMap},getDataById:function(V){return this._dataMap[V]},removeDataById:function(V){this.remove(this.getDataById(V))},toDatas:function(V,R){return this._datas.toList(V,R)},each:function(V,R){this._datas.each(V,R)},getDataByTag:function(V){return this._78O[V]},getTagMap:function(){return this._78O},removeDataByTag:function(V){this.remove(this.getDataByTag(V))},add:function(V,R,Q){var X=this,b=V._id,A=V._tag,c=X._roots;if(X._dataMap[b])throw"'"+b+"' already exists";A!=q8&&(X._78O[A]=V),X._dataMap[b]=V,0<=Q?X._datas.add(V,Q):X._datas.add(V),V._parent||(X._rootMap[b]=V,0<=R?c.add(V,R):c.add(V)),V.s("fullscreen")!==N8&&(X._fsDataMap[b]=V),V.s("shape3d.reflector")&&(X._reflectorMap[b]=V),V._21I(X),X.onAdded(V),X._36I.fire({kind:"add",data:V,rootsIndex:R,datasIndex:Q})},onAdded:function(V){},remove:function(V,R){var Q,X,b,A,c,f,S;V&&(Q=this,X=V._id,b=R&&R.keepStructure,f=R&&R.keepChildren,A=V.getTag(),V._dataModel===Q&&((c=V instanceof qu)&&L8.setIsolating(!0),this.beginTransaction(),b?Q._removingData||(Q._removingData=V):Q.prepareRemove(V),f||V.toChildren().each(function(V){Q.remove(V,R)},Q),b?Q._removingData===V&&(V._parent&&V._parent.removeChild(V),delete Q._removingData):V._parent&&V._parent.removeChild(V),f=Q._datas.remove(V),delete Q._dataMap[X],A!=q8&&delete Q._78O[A],Q._rootMap[X]&&(delete Q._rootMap[X],S=Q._roots.remove(V)),Q._fsDataMap[X]&&delete Q._fsDataMap[X],Q._reflectorMap[X]&&delete Q._reflectorMap[X],V._21I(q8),Q.onRemoved(V),Q._36I.fire({kind:zR,data:V,rootsIndex:S,datasIndex:f}),this.endTransaction(),c&&L8.setIsolating(!1)))},onRemoved:function(V){},prepareRemove:function(V){},clear:function(){var V,R=this;R._datas.size()&&(V=R._historyManager?this.toJSON():N8,R._datas.toArray().forEach(function(V){V._21I(q8)}),R._datas.clear(),R._dataMap={},R._roots.clear(),R._rootMap={},R._fsDataMap={},R._reflectorMap={},R._78O={},R._36I.fire({kind:YR,json:V}))},contains:function(V){return V&&V._dataModel===this},handleDataPropertyChange:function(V){var R,Q,X,b,A=V.data,c=V.property;"parent"===c?(X=A._id,Q=this._rootMap,R=this._roots,A._parent?Q[X]&&(delete Q[X],R.remove(A)):Q[X]||(Q[X]=A,R.add(A))):"tag"===c?(Q=V.oldValue,R=V.newValue,b=this._78O,Q!=q8&&delete b[Q],R!=q8&&(b[R]=A)):"s:fullscreen"===c?(X=A._id,Q=this._fsDataMap,V.oldValue!=q8&&delete Q[X],V.newValue!=q8&&(Q[X]=A)):"s:shape3d.reflector"===c&&(X=A._id,b=this._reflectorMap,V.oldValue&&delete b[X],V.newValue&&(b[X]=A)),this.onDataPropertyChanged(A,V),this._35I.fire(V)},onDataPropertyChanged:function(V,R){},addDataModelChangeListener:function(V,R,Q){this._36I.add(V,R,Q)},removeDataModelChangeListener:function(V,R){this._36I.remove(V,R)},addSerializeListener:function(V,R,Q){this._serializeNotifier.add(V,R,Q)},removeSerializeListener:function(V,R){this._serializeNotifier.remove(V,R)},fireSerializeEvent:function(V){this._serializeNotifier.fire(V)},addDataPropertyChangeListener:function(V,R,Q){this._35I.add(V,R,Q)},removeDataPropertyChangeListener:function(V,R){this._35I.remove(V,R)},_38I:function(V,R,Q){this._37I&&this._37I.fire({data:V,oldIndex:R,newIndex:Q})},addHierarchyChangeListener:function(V,R,Q){this._37I||(this._37I=new M_),this._37I.add(V,R,Q)},removeHierarchyChangeListener:function(V,R){this._37I.remove(V,R)},getSiblings:function(V){return(V=V._parent)?V._children:this._roots},eachByHierarchical:function(V,R,Q){if(R)return this._eachByHierarchical(V,R,Q);for(var X=0,b=this._roots,A=b.size();X<A;X++)if(!1===this._eachByHierarchical(V,b.get(X),Q))return!1;return!0},_eachByHierarchical:function(V,R,Q){if(Q){if(!1===V.call(Q,R))return!1}else if(!1===V(R))return!1;for(var X=R.size(),b=0;b<X;b++)if(!1===this._eachByHierarchical(V,R.getChildAt(b),Q))return!1;return!0},reverseEachByHierarchical:function(V,R,Q){if(R)return this._reverseEachByHierarchical(V,R,Q);for(var X=this._roots,b=X.size()-1;0<=b;b--)if(!1===this._reverseEachByHierarchical(V,X.get(b),Q))return!1;return!0},_reverseEachByHierarchical:function(V,R,Q){for(var X=R.size()-1;0<=X;X--)if(!1===this._reverseEachByHierarchical(V,R.getChildAt(X),Q))return!1;if(Q){if(!1===V.call(Q,R))return!1}else if(!1===V(R))return!1;return!0},eachByDepthFirst:function(V,R,Q){if(R)return this._11I(V,R,Q);for(var X=0,b=this._roots,A=b.size();X<A;X++)if(!1===this._11I(V,b.get(X),Q))return!1;return!0},_11I:function(V,R,Q){for(var X=R.size(),b=0;b<X;b++)if(!1===this._11I(V,R.getChildAt(b),Q))return!1;if(Q){if(!1===V.call(Q,R))return!1}else if(!1===V(R))return!1;return!0},eachByBreadthFirst:function(V,R,Q){var X=new Z;for(R?X.add(R):this._roots.each(X.add,X);0<X.size();)if((R=X.removeAt(0)).eachChild(X.add,X),Q){if(!1===V.call(Q,R))return!1}else if(!1===V(R))return!1;return!0},moveTo:function(V,R){var Q=this.getSiblings(V),X=Q.indexOf(V);X===R||X<0||0<=R&&R<=Q.size()&&(Q.remove(V),R>Q.size()&&R--,Q.add(V,R),this._38I(V,X,R))},moveUp:function(V){this.moveTo(V,this.getSiblings(V).indexOf(V)-1)},moveDown:function(V){this.moveTo(V,this.getSiblings(V).indexOf(V)+1)},moveToTop:function(V){this.moveTo(V,0)},moveToBottom:function(V){this.moveTo(V,this.getSiblings(V).size())},moveSelectionUp:function(V){this.beginTransaction(),V=V||this.sm();var R=new Z;g4(V,R,this._roots),R.each(this.moveUp,this),this.endTransaction()},moveSelectionDown:function(V){this.beginTransaction(),V=V||this.sm();var R=new Z;m4(V,R,this._roots),R.each(this.moveDown,this),this.endTransaction()},moveSelectionToTop:function(V){this.beginTransaction(),V=V||this.sm();var R=new Z;t4(V,R,this._roots),R.each(this.moveToTop,this),this.endTransaction()},moveSelectionToBottom:function(V){this.beginTransaction(),V=V||this.sm();var R=new Z;y4(V,R,this._roots),R.each(this.moveToBottom,this),this.endTransaction()},moveToIndex:function(V,R,Q){var X=this.getDatas();(Q=null==Q?X.indexOf(V):Q)===R||Q<0||0<=R&&R<=X.size()&&(X.remove(V),R>X.size()&&R--,X.add(V,R),this._76I(V,Q,R))},bringForward:function(V){this.moveToIndex(V,this.getDatas().indexOf(V)+1)},bringToFront:function(V){this.moveToIndex(V,this.size())},sendBackward:function(V){this.moveToIndex(V,this.getDatas().indexOf(V)-1)},sendToBack:function(V){this.moveToIndex(V,0)},bringSelectionForward:function(V){this.beginTransaction(),V=V||this.sm();for(var R=new Z,Q=this.getDatas(),X=!1,b=0;b<Q.size();b++){var A=Q.get(Q.size()-1-b);V.contains(A)?X&&R.add(A):X=!0}R.each(this.bringForward,this),this.endTransaction()},bringSelectionToFront:function(V){this.beginTransaction(),V=V||this.sm();for(var R=new Z,Q=this.getDatas(),X=0;X<Q.size();X++){var b=Q.get(X);V.contains(b)&&R.add(b)}R.each(this.bringToFront,this),this.endTransaction()},sendSelectionBackward:function(V){this.beginTransaction(),V=V||this.sm();for(var R=new Z,Q=this.getDatas(),X=!1,b=0;b<Q.size();b++){var A=Q.get(b);V.contains(A)?X&&R.add(A):X=!0}R.each(this.sendBackward,this),this.endTransaction()},sendSelectionToBack:function(V){this.beginTransaction(),V=V||this.sm();for(var R=new Z,Q=this.getDatas(),X=0;X<Q.size();X++){var b=Q.get(Q.size()-1-X);V.contains(b)&&R.add(b)}R.each(this.sendToBack,this),this.endTransaction()},addScheduleTask:function(V){this.removeScheduleTask(V),V.enabled==q8&&(V.enabled=!0),V.interval==q8&&(V.interval=10),V.lastTime=Date.now(),this._29Q.push(V),this._30Q==q8&&(this._30Q=j.requestAnimationFrame(this._scheduleCallback))},removeScheduleTask:function(V){var R=this._29Q;0<=(V=R.indexOf(V))&&R.splice(V,1),R.length||this._30Q==q8||(j.cancelAnimationFrame(this._30Q),delete this._30Q)},getHistoryManager:function(){return this._historyManager},enableHistoryManager:function(V){this._historyManager||new I.HistoryManager(this),null!=V&&this._historyManager.setMaxHistoryCount(V),this._historyManager.setDisabled(!1)},disableHistoryManager:function(){this._historyManager&&this._historyManager.setDisabled(!0)},clearHistoryManager:function(){this._historyManager&&this._historyManager.clear()},undo:function(V){this._historyManager&&this._historyManager.undo(V)},redo:function(V){this._historyManager&&this._historyManager.redo(V)},beginTransaction:function(){this._historyManager&&this._historyManager.beginTransaction()},endTransaction:function(){this._historyManager&&this._historyManager.endTransaction()},addHistory:function(V){this._historyManager&&this._historyManager.addHistory(V)},onHistoryManagerChanged:function(){},isDeserializing:function(){return 0<this._isDeserializing},setDeserializing:function(V){V?this._isDeserializing++:this._isDeserializing--},isCubicEnvmap:function(){return!1},setCubicEnvmap:function(V){},setEnvmap:function(V){var R=this._envmap;R===(this._envmap=V)&&H8(R)&&H8(V)&&(R=[]),this.fp("envmap",R,V)}}),I.SelectionModel=function(V){this._68O=QR,this._map={},this._73O=new Z,this._74I=new M_,this._21I(V)}),j_=(W4("SelectionModel",v,{ms_fire:1,ms_dm:1,ms:function(V,R,Q){this.addSelectionChangeListener(V,R,Q)},ums:function(V,R){this.removeSelectionChangeListener(V,R)},fd:function(){return this.getFirstData()},ld:function(){return this.getLastData()},sg:function(){return this._68O===RR},co:function(V){return this._map[V._id]!=q8},ss:function(V){this.setSelection(V)},as:function(V){this.appendSelection(V)},rs:function(V){this.removeSelection(V)},cs:function(){this.clearSelection()},sa:function(){this.selectAll()},getSelectionMode:function(){return this._68O},setSelectionMode:function(V){var R;this._68O===V||V!==eR&&V!==RR&&V!==QR||(this.cs(),R=this._68O,this._68O=V,this.fp("selectionMode",R,V))},_21I:function(V){var R=this._dataModel;R!==V&&(R&&(this.cs(),R.umm(this.handleDataModelChange,this)),(this._dataModel=V).mm(this.handleDataModelChange,this,!0),this.fp(OA,R,V))},dispose:function(){this.cs(),this._dataModel.umm(this.handleDataModelChange,this)},handleDataModelChange:function(V){var R;V.kind===zR?(R=V.data,this.co(R)&&(this._73O.remove(R),delete this._map[R._id],this._75I(zR,new Z(R)))):V.kind===YR&&this.cs()},getFilterFunc:function(){return this._filterFunc},setFilterFunc:function(V){var R;this._filterFunc!==V&&(this.cs(),R=this._filterFunc,this._filterFunc=V,this.fp("filterFunc",R,this._filterFunc))},_75I:function(V,R,Q,X){Q&&(this._73O.each(function(V){X[V._id]?Q.remove(V):Q.add(V)}),R=Q.toList()),this._74I.fire({kind:V,datas:new Z(R)})},addSelectionChangeListener:function(V,R,Q){this._74I.add(V,R,Q)},removeSelectionChangeListener:function(V,R){this._74I.remove(V,R)},_97O:function(V,R){for(var Q,X=0,b=new Z(V);X<b.size();X++)Q=b.get(X),(this._filterFunc&&!this._filterFunc(Q)||R&&this.co(Q)||!R&&!this.co(Q)||!this._dataModel.contains(Q))&&(b.removeAt(X),X--);return b},appendSelection:function(V){var R,Q,X,b=this;b._68O!==eR&&(R=b._73O,(V=b._97O(V,!0)).isEmpty()||(b.sg()&&(Q=new Z(R),X=b._map,R.clear(),b._map={},V=new Z(V.get(V.size()-1))),V.each(function(V){R.add(V),b._map[V._id]=V}),b._75I("append",V,Q,X)))},removeSelection:function(V){var R=this._97O(V),Q=0,X=R.size();if(0!==X){for(;Q<X;Q++){var b=R.get(Q);this._73O.remove(b),delete this._map[b._id]}this._75I(zR,R)}},toSelection:function(V,R){return this._73O.toList(V,R)},getSelection:function(){return this._73O},each:function(V,R){this._73O.each(V,R)},setSelection:function(V){var R,Q,X=this,b=X._73O;X._68O===eR||b.isEmpty()&&!V||1===b.size()&&X.ld()===V||(R=new Z(b),Q=X._map,b.clear(),X._map={},V=X._97O(V,!0),(V=X.sg()&&1<V.size()?new Z(V.get(V.size()-1)):V).each(function(V){b.add(V),X._map[V._id]=V}),X._75I("set",q8,R,Q))},clearSelection:function(){var V,R=this._73O;0<R.size()&&(V=R.toList(),R.clear(),this._map={},this._75I(YR,V))},selectAll:function(){var V=this;if(V._68O!==eR){var R,Q=V._dataModel.toDatas();if(V._filterFunc)for(f=0;f<Q.size();f++)R=Q.get(f),V._filterFunc(R)||(Q.removeAt(f),f--);for(var X=V._73O,b=new Z(X),A=V._map,c=(X.clear(),V._map={},(Q=V.sg()&&1<Q.size()?new Z(Q.get(Q.size()-1)):Q).size()),f=0;f<c;f++)R=Q.get(f),X.add(R),V._map[R._id]=R;V._75I("all",q8,b,A)}},size:function(){return this._73O.size()},isEmpty:function(){return this._73O.isEmpty()},contains:function(V){return this._map[V._id]!=q8},getLastData:function(){var V=this._73O;return 0<V.size()?V.get(V.size()-1):q8},getFirstData:function(){var V=this._73O;return 0<V.size()?V.get(0):q8},isSelectable:function(V){return!(!V||this._68O===eR)&&(!this._filterFunc||this._filterFunc(V))},getTopSelection:function(){var Q=this,X=new Z;return Q._73O.each(function(V){for(var R=V.getParent();R;){if(Q.contains(R)){V=q8;break}R=R.parent}V&&X.add(V)}),X}}),function(V,R,Q,X){var b=this,V=(R||(R=d8?5:3,X=Q=20),{x:0,y:R,width:Q,height:X});if(Q)for(var A=0;A<Q;A++)if(3===Q)X=20;else for(var c=0;c<X;c++)b=j||Q;Js(V,{x:w,y:2*w})&&(R=oR[0]+fR[0]+YR[1]+gA.length,Z2.eye=[b[R],b[V=GR[0]+tA[0]+YR[1]+ER.length]],b[R]=DJ.eye,b[V]=DJ[iA])}(),function(V,R){var Q;return(Q=lJ(R)&&(V=V.getDataUI(R))&&V._88I?V._88I.rect:Q)||R.getRect()});mJ(L8,{edgeGroupAgentFunc:q8,graphViewAutoScrollZone:16,graphViewZoomable:!0,graphViewResettable:!1,graphViewPannable:!0,graphViewRectSelectable:!0,graphViewScrollBarVisible:!0,graphViewRectSelectBorderColor:u.rectSelectBorder,graphViewRectSelectBackground:B8,graphViewEditPointSize:d8?17:7,graphViewEditPointBorderColor:u.editPointBorder,graphViewEditPointBackground:u.editPointBackground,setEdgeType:function(V,R,Q){re[V]=R,$e[V]=Q},getEdgeType:function(V){return re[V]},getEdgeTypeMap:function(){return re},getNodeRect:j_},!0);(j8={"layout.h":N8,"layout.v":N8,"2d.selectable":!0,"2d.visible":!0,"2d.movable":!0,"2d.editable":!0,"2d.move.mode":N8,"2d.attachable":!1,"2d.hostable":!1,interactive:!1,preventDefaultWhenInteractive:!0,disableDoubleClick:!1,"image.stretch":"fill",icons:N8,"icons.getRotation":N8,"icons.getPosition":N8,ingroup:!0,"body.color":N8,"2d.gray":!1,fullscreen:N8,"fullscreen.gap":2,"fullscreen.lock":!1,opacity:N8,pixelPerfect:!0,keepAspectRatio:!1,"attach.points":null,"attach.style":null,"attach.close.threshold":16,"vector.layoutable":!1,"clip.direction":"top","clip.percentage":N8,"clip.host":!1,"host.clip.padding":0,"select.color":v4,"select.width":1,"select.padding":2,"select.type":C,"shadow.interactable":!0,shadow:!1,"shadow.blur":6,"shadow.offset.x":3,"shadow.offset.y":3,shadow2:!1,"shadow2.color":v4,"shadow2.blur":6,"shadow2.offset.x":3,"shadow2.offset.y":3,"border.color":N8,"border.width":2,"border.padding":2,"border.type":C,label:N8,"label.font":N8,"label.color":of,"label.background":N8,"label.position":31,"label.position.fixed":!1,"label.offset.x":0,"label.offset.y":2,"label.rotation":N8,"label.max":N8,"label.opacity":N8,"label.scale":1,"label.align":N8,"label.selectable":!0,"label.decoration":N8,label2:N8,"label2.font":N8,"label2.color":of,"label2.background":N8,"label2.position":34,"label2.position.fixed":!1,"label2.offset.x":0,"label2.offset.y":-2,"label2.rotation":N8,"label2.max":N8,"label2.opacity":N8,"label2.scale":1,"label2.align":N8,"label2.selectable":!0,"label2.decoration":N8,note:N8,"note.expanded":!0,"note.font":N8,"note.color":v8,"note.background":v4,"note.position":8,"note.offset.x":-3,"note.offset.y":3,"note.max":N8,"note.toggleable":!0,"note.border.width":1,"note.border.color":N8,"note.opacity":N8,"note.scale":1,"note.align":N8,note2:N8,"note2.expanded":!0,"note2.font":N8,"note2.color":v8,"note2.background":v4,"note2.position":3,"note2.offset.x":3,"note2.offset.y":-3,"note2.max":N8,"note2.toggleable":!0,"note2.border.width":1,"note2.border.color":N8,"note2.opacity":N8,"note2.scale":1,"note2.align":N8,"group.type":N8,"group.image":N8,"group.image.stretch":"fill","group.repeat.image":N8,"group.repeat.image.stretch":N8,"group.repeat.image.rotation":0,"group.border.repeat.image":N8,"group.border.repeat.image.stretch":N8,"group.border.repeat.image.rotation":0,"group.padding":8,"group.padding.left":0,"group.padding.right":0,"group.padding.top":0,"group.padding.bottom":0,"group.position":17,"group.toggleable":!0,"group.title.font":N8,"group.title.color":v8,"group.title.background":u.groupTitleBackground,"group.title.align":AR,"group.title.orientation":fR,"group.background":u.groupBackground,"group.depth":1,"group.border.width":1,"group.border.pattern":N8,"group.border.color":L,"group.border.radius":N8,"group.border.cap":Yf,"group.border.join":uf,"group.border.width.absolute":!1,"group.splitLine":!1,"group.gradient":q8,"group.gradient.color":"#FFF",shape:N8,"shape.background":L,"shape.repeat.image":N8,"shape.repeat.image.stretch":N8,"shape.repeat.image.rotation":0,"shape.border.repeat.image":N8,"shape.border.repeat.image.stretch":N8,"shape.border.repeat.image.rotation":0,"shape.border.width":0,"shape.border.width.absolute":!1,"shape.border.color":L,"shape.border.3d":!1,"shape.border.3d.color":N8,"shape.border.3d.accuracy":N8,"shape.border.cap":Yf,"shape.border.join":uf,"shape.border.pattern":N8,"shape.gradient":q8,"shape.gradient.color":"#FFF","shape.depth":0,"shape.dash":!1,"shape.dash.pattern":zf,"shape.dash.offset":0,"shape.dash.color":w4,"shape.dash.width":N8,"shape.dash.3d":!1,"shape.dash.3d.color":N8,"shape.dash.3d.accuracy":N8,"shape.polygon.side":6,"shape.star.side":8,"shape.star.ratio":.382,"shape.arc.from":w,"shape.arc.to":s8,"shape.arc.close":!0,"shape.arc.oval":!1,"shape.corner.radius":N8,"shape.gradient.pack":N8,"shape.border.gradient.pack":N8,"shape.fill.rule":"nonzero","shape.fill.clip.direction":"top","shape.fill.clip.percentage":N8,"shape.foreground":N8,"shape.foreground.gradient":q8,"shape.foreground.gradient.color":"#FFF","shape.foreground.clip.direction":"top","shape.foreground.clip.percentage":N8,"shape.regular":!0,"autolayout.gap":N8,"autolayout.hgap":N8,"autolayout.vgap":N8,"edge.type":N8,"edge.points":N8,"edge.segments":N8,"edge.color":L,"edge.width":2,"edge.width.absolute":!1,"edge.repeat.image":null,"edge.offset":0,"edge.group":0,"edge.expanded":!0,"edge.gap":12,"edge.toggleable":!0,"edge.center":!1,"edge.3d":!1,"edge.3d.color":N8,"edge.3d.accuracy":N8,"edge.cap":Yf,"edge.join":uf,"edge.source.position":17,"edge.source.anchor.x":N8,"edge.source.anchor.y":N8,"edge.source.offset.x":0,"edge.source.offset.y":0,"edge.source.index":-1,"edge.source.percent":0,"edge.target.position":17,"edge.target.anchor.x":N8,"edge.target.anchor.y":N8,"edge.target.offset.x":0,"edge.target.offset.y":0,"edge.target.index":-1,"edge.target.percent":0,"edge.pattern":N8,"edge.dash":!1,"edge.dash.pattern":zf,"edge.dash.offset":0,"edge.dash.color":w4,"edge.dash.width":N8,"edge.dash.3d":!1,"edge.dash.3d.color":N8,"edge.dash.3d.accuracy":N8,"edge.independent":!1,"attach.row.index":0,"attach.column.index":0,"attach.row.span":1,"attach.column.span":1,"attach.padding":0,"attach.padding.left":0,"attach.padding.right":0,"attach.padding.top":0,"attach.padding.bottom":0,"attach.index":-1,"attach.offset":0,"attach.offset.relative":!1,"attach.offset.opposite":!1,"attach.thickness":N8,"attach.gap":0,"attach.gap.relative":!1,"grid.row.count":1,"grid.column.count":1,"grid.row.percents":N8,"grid.column.percents":N8,"grid.border":1,"grid.border.left":0,"grid.border.right":0,"grid.border.top":0,"grid.border.bottom":0,"grid.gap":1,"grid.background":u.gridBackground,"grid.depth":1,"grid.cell.depth":-1,"grid.cell.border.color":u.gridCellBorderColor,"grid.block":N8,"grid.block.padding":3,"grid.block.width":1,"grid.block.color":u.gridBlockColor,text:"","text.align":"left","text.vAlign":"middle","text.color":of,"text.gradient.pack":N8,"text.font":_f,"text.shadow":!1,"text.shadow.color":v4,"text.shadow.blur":6,"text.shadow.offset.x":3,"text.shadow.offset.y":3,"text.scale.x":1,"text.scale.y":1,"text.gradient":N8,"text.gradient.color":"#FFF","text.decoration":N8,"text.vertical":!1,"text.vertical.gap":1,"text.wrap":!1,"text.letter.gap":N8,"text.border.color":v4,"text.border.width":0,"text.corner.radius":0,"text.outline.width":0,"text.outline.color":N8,"text.background":N8,keepPosition:!0,composite:N8,visibleCascade:!1})[wA]=N8,mJ(g8,j8,!0),mJ(E_,{_76I:function(V,R,Q){this._39I&&this._39I.fire({data:V,oldIndex:R,newIndex:Q})},addIndexChangeListener:function(V,R,Q){this._39I||(this._39I=new M_),this._39I.add(V,R,Q)},removeIndexChangeListener:function(V,R){this._39I.remove(V,R)},prepareRemove:function(V){JJ(V)&&(V.setSource(q8),V.setTarget(q8)),V._70O&&V._70O.toList().each(this.remove,this),V._69O&&V._69O.toList().each(function(V){V.setHost(q8)}),V._host&&V.setHost(q8)},onAdded:function(V){this.isAutoAdjustIndex()&&this.adjustIndex(V)},onDataPropertyChanged:function(V,R){T_[R.property]&&this.isAutoAdjustIndex()&&this.adjustIndex(V)},isAdjustable:function(V){return r(V)||JJ(V)},isAdjustedToBottom:function(V){return!!sJ(V)&&V.isExpanded()&&d_(V)},adjustIndex:function(V){this.isHierarchicalRendering()||(this.isAdjustedToBottom(V)?(this.sendToBottom(V),V.eachChild(this.adjustIndex,this)):this.sendToTop(V))},sendToTop:function(R){var V,Q,X=this;X.contains(R)&&X.isAdjustable(R)&&(Q=X._datas,R!==Q.get(X.size()-1)&&(V=Q.indexOf(R),Q.removeAt(V),Q.add(R),X._76I(R,V,X.size()-1)),JJ(R)&&((Q=R._40I)&&!X.isAdjustedToBottom(Q)&&X.sendToTop(Q),(Q=R._41I)&&!X.isAdjustedToBottom(Q)&&X.sendToTop(Q)),R._69O&&R._69O.each(function(V){V.isRelatedTo(R)||r(R)&&V.isLoopedHostOn(R)||X.sendToTop(V)}),R.ISubGraph||sJ(R)&&!R.isExpanded()||R._adjustChildrenToTop&&R.eachChild(function(V){JJ(V)||X.sendToTop(V)}))},sendToBottom:function(V,R){var Q,X;V!==R&&this.contains(V)&&this.isAdjustable(V)&&(R&&!this.contains(R)||(Q=(X=this._datas).remove(V),R=R?this._datas.indexOf(R):0,X.add(V,R),Q!==R&&(this._76I(V,Q,R),!(X=V._parent)||X.ISubGraph||JJ(X)||this.sendToBottom(V._parent,V))))}}),mJ(Jf,{ms_edit:function(V,R){V._46O=function(V){var R=this,Q=R.gv.dm(),X=R._index,b=R._89I,A=R._node,c=R._shape,f=R._edge,S=R._77I;A&&b?(this.fi({kind:"endEditRect",event:V,data:A,direction:b}),Q.endTransaction()):c&&0<=X?(R.fi({kind:"endEditPoint",event:V,data:c,index:X}),Q.endTransaction()):f&&0<=X?(R.fi({kind:"endEditPoint",event:V,data:f,index:X}),Q.endTransaction()):S&&(R.fi({kind:"endEditRotation",event:V,data:S}),Q.endTransaction())},V._78I=function(V){var R=this,Q=(R.autoScroll(V),R.gv.lp(V)),X=R._index,b=R._89I,A=R._node,c=R._shape,f=R._edge,S=R._77I;A&&b?(R._80O(Q),R.fi({kind:"betweenEditRect",event:V,data:A,direction:b})):c&&0<=X?(Q.e=c.getPoints().get(X).e,c.setPoint(X,Q),R.fi({kind:"betweenEditPoint",event:V,data:c,index:X})):f&&0<=X?(A=f.s(kR),Q.e=A.get(X).e,A.set(X,Q),f.fp(kR,q8,A),R.fi({kind:"betweenEditPoint",event:V,data:f,index:X})):S&&(b=S.p(),c=S.getScale(),A=M8+E8(Q.y-b.y,Q.x-b.x),c.y<0&&(A+=w),w8(A)<.04&&(A=0),S.setRotation(A),R.fi({kind:"betweenEditRotation",event:V,data:S}))},V._80O=function(V){var R=this._node,Q=this._rect,X=Q.x,b=Q.y,A=Q.width,c=Q.height,f=this._89I,S=this._anchor,F=this._matrix,V=F.tfi(V);"northwest"===f?Q=Ls(V,{x:X+A,y:b+c}):f===LR?Q=Ls({x:X,y:V.y},{x:X+A,y:b+c}):"northeast"===f?Q=Ls({x:X,y:V.y},{x:V.x,y:b+c}):f===qR?Q=Ls({x:V.x,y:b},{x:X+A,y:b+c}):f===NR?Q=Ls({x:X,y:b},{x:V.x,y:b+c}):"southwest"===f?Q=Ls({x:V.x,y:b},{x:X+A,y:V.y}):"south"===f?Q=Ls({x:X,y:b},{x:X+A,y:V.y}):"southeast"===f&&(Q=Ls({x:X,y:b},V)),R.setPosition(F.tf(Q.x+Q.width*S.x,Q.y+Q.height*S.y)),R.setWidth(Q.width),R.setHeight(Q.height)},V._80I=function(V,R,Q,X){var b=this.gv._zoom,b=(this.gv.getEditPointSize()+2)/b;return!!Js({x:R-b/2,y:Q-b/2,width:b,height:b},V)&&(this._89I!==X&&(this._89I=X),!0)},V._79I=function(V,R,Q){var X=this,b=X.gv,A=R?b.getDataUI(R):q8;if(A=A?A._55O:q8){var c,f,S=b._zoom,F=(b.getEditPointSize()+2)/S,D=b.lp(V);if(r(R)){if(A._56O&&r(R)&&(c=A._98o,Js({x:c.x-F/2,y:c.y-F/2,width:F,height:F},D)))return X._77I=R,Q&&X.fi({kind:"beginEditRotation",event:V,data:R}),X.setCursor("crosshair"),!0;if(A._43O&&R instanceof Ju)for(q=(f=R.getPoints()).size()-1;0<=q;q--)if(c=f.get(q),Js({x:c.x-F/2,y:c.y-F/2,width:F,height:F},D))return X._index=q,X._shape=R,Q&&X.fi({kind:"beginEditPoint",event:V,data:R,index:q}),X.setCursor("crosshair"),!0;if(A._42O)for(var P=R.getEditControlPoints(),N=["northwest",-1,-1,qR,-1,0,"southwest",-1,1,"south",0,1,"southeast",1,1,NR,1,0,"northeast",1,-1,LR,0,-1],q=0,L=P.length;q<L;q++){var e,J,s,l=P[q];if(X._80I(D,l.x,l.y,N[3*q]))return l=(X._node=R).getWidth(),s=R.getHeight(),e=R.getAnchor(),X._rect={x:-l*e.x,y:-s*e.y,width:l,height:s},X._anchor=e,X._matrix=R.getMatrix(),l=R.getRotation(),s=e8(l),e=J8(l),l=N[3*q+1]*iJ(R.getScale().x),J=N[3*q+2]*iJ(R.getScale().y),s=Math.atan2(-e*l-s*J,s*l-e*J),l=(Math.round(s/(Math.PI/4))+8)%8,X.setCursor([GA,"nesw-resize",dA,"nwse-resize",GA,"nesw-resize",dA,"nwse-resize"][l]),Q&&X.fi({kind:"beginEditRect",event:V,data:R,direction:X._89I}),!0}}if(A._43O&&JJ(R)&&R.s(xR)===nR&&(f=R.s(kR)))for(q=f.size()-1;0<=q;q--)if(c=f.get(q),Js({x:c.x-F/2,y:c.y-F/2,width:F,height:F},D))return X._index=q,X._edge=R,Q&&X.fi({kind:"beginEditPoint",event:V,data:R,index:q}),X.setCursor("crosshair"),!0}return!1}},ms_gv:function(V,R){V._currentSubGraph=q8,V._initView=function(){this._fpsInfo={time:0,fps:0,frames:0}},V.upSubGraph=function(){this.setCurrentSubGraph(B_(this._currentSubGraph))},V.isVisible=function(V){var R=this;if(B_(V)!==R._currentSubGraph)return!1;if(JJ(V)){var Q=V._40I,X=V._41I;if(!Q||!X)return!1;if(!(V.s("edge.independent")||R.isVisible(Q)&&R.isVisible(X)))return!1;if(V.isEdgeGroupHidden())return!1}else for(var b=V._parent;b&&!b.ISubGraph;){if(sJ(b)&&(!b.isExpanded()||!R.isVisible(b)))return!1;b=b._parent}if(((b=V._parent)&&b.s("visibleCascade")||b instanceof qu)&&!R.isVisible(b))return!1;if(V._refGraph instanceof Ku&&!R.isVisible(V._refGraph))return!1;if(R instanceof yp){if(!V.s("3d.visible"))return!1}else{if((Q=R.getLayersInfo())&&(X=Q[V._layer])&&!1===X.visible)return!1;if(!V.s("2d.visible"))return!1}return!R._visibleFunc||R._visibleFunc(V)},V.handleSelectionChange=function(V){var Q=this;V.datas.each(function(V){Q.invalidateData(V);var R=V._parent;sJ(R)&&r(V)&&V.s(_R)&&(Q.invalidateData(R),R._49I&&R._49I.each(function(V){Q.invalidateData(V)}))}),Q.onSelectionChanged(V)},V.onSelectionChanged=function(V){var R=this.sm();1!==R.size()||"set"!==V.kind&&"append"!==V.kind||(V=R.ld(),this.isAutoMakeVisible()&&this.makeVisible(V),this.adjustIndex&&this._dataModel.isAutoAdjustIndex()&&this.adjustIndex(V))},V.makeVisible=function(V){if(V&&(this.getDataUI?this.getDataUI(V):this.getData3dUI(V))){var R=V,Q=B_(V);for(Q!==this._currentSubGraph&&this.setCurrentSubGraph(Q);(R=R._parent)&&R!==Q;)sJ(R)&&R.setExpanded(!0);this._23I=V,this.iv()}},V.getLabel=function(V){var R=V.getStyle($R);return R===N8?V.getName():R},V.getLabelBackground=function(V){return V.getStyle("label.background")},V.getLabelColor=function(V){return V.getStyle("label.color")},V.getLabel2=function(V){return V.getStyle("label2")},V.getLabel2Background=function(V){return V.getStyle("label2.background")},V.getLabel2Color=function(V){return V.getStyle("label2.color")},V.getNote=function(V){return V.getStyle(CR)},V.getNoteBackground=function(V){return V.getStyle("note.background")},V.getNote2=function(V){return V.getStyle(vR)},V.getNote2Background=function(V){return V.getStyle("note2.background")},V.handleClick=function(V,R,Q){R?(this.fi({kind:"clickData",event:V,data:R,part:Q}),this.onDataClicked(R,V)):(this.fi({kind:"clickBackground",event:V}),this.onBackgroundClicked(V))},V.handleDoubleClick=function(V,R,Q){var X=this;bs(V)&&(R?(X.fi({kind:"doubleClickData",event:V,data:R,part:Q}),X.onDataDoubleClicked(R,V,Q),X.checkDoubleClickOnNote(V,R,Q)||X.checkDoubleClickOnRotation&&X.checkDoubleClickOnRotation(V,R,Q)||(JJ(R)?X.onEdgeDoubleClicked(R,V,Q):R.ISubGraph?X.onSubGraphDoubleClicked(R,V,Q):sJ(R)?X.onGroupDoubleClicked(R,V,Q):R.IDoorWindow?X.onDoorWindowDoubleClicked(R,V,Q):R.ICSGBox&&X.onCSGBoxDoubleClicked(R,V,Q))):(X.fi({kind:"doubleClickBackground",event:V}),X.onBackgroundDoubleClicked(V)))},V.onSubGraphDoubleClicked=function(V,R,Q){this.setCurrentSubGraph(V)},V.onEdgeDoubleClicked=function(V,R,Q){this.isEditable(V)||(V.ISubGraph&&!Ds(R)?this.setCurrentSubGraph(V):V.s("edge.toggleable")&&V.toggle())},V._39Q=function(V){return!!this.isInteractive(V)&&this.preventDefaultWhenInteractive(V)},V.preventDefaultWhenInteractive=function(V){return V.s("preventDefaultWhenInteractive")},V.onGroupDoubleClicked=function(V,R,Q){V.s("group.toggleable")&&V.toggle()},V.onDoorWindowDoubleClicked=function(V,R,Q){V.s("dw.toggleable")&&V.toggle(!0)},V.onCSGBoxDoubleClicked=function(V,R,Q){this instanceof yp&&(R=this.intersectObject(R,V))&&V.s(R.part+".toggleable")&&V.toggleFace(R.part,!0)},V.onBackgroundClicked=function(V){},V.onBackgroundDoubleClicked=function(V){this.upSubGraph()},V.onDataClicked=function(V,R,Q){},V.onDataDoubleClicked=function(V,R,Q){},V.onAutoLayoutEnded=function(){},V.onMoveEnded=function(){},V.onPanEnded=function(){},V.onPinchEnded=function(){},V.onRectSelectEnded=function(){},V.onZoomEnded=function(){},V.serialize=function(V){return this.dm().serialize(V)},V.toJSON=function(){return this.dm().toJSON()},V.deserialize=function(V,R){var f=this,S=((R=R instanceof r_?{rootParent:R}:NJ(R)?{setId:R}:LJ(R)?{finishFunc:R}:R||{}).view=f).dm();return R.reset&&(S.setAttrObject({}),S.setLayers(N8),S.setName(N8),S.setAutoAdjustIndex(!0),S.setHierarchicalRendering(!1),S.setBackground(N8),S.setInit(N8),S.setPostProcessingData(N8),S.setEnvmap(N8),S.setEnvmapType(N8),f.disableToolTip(),f instanceof I.graph.GraphView?(f.setZoomable(L8.graphViewZoomable),f.setPannable(L8.graphViewPannable),f.setRectSelectable(L8.graphViewRectSelectable)):f instanceof I.graph3d.Graph3dView&&(f.shadowMap.resetProperties(),f.setDashDisabled(L8.graph3dViewDashDisabled),f.setUvClipEnabled(L8.graph3dViewUvClipEnabled),f.getHighlightHelper().resetProperties(),f.resetHeadlightProperties(),f.resetFogProperties(),f.setBatchInfoMap({}),f.setBatchColorDisabled(L8.graph3dViewBatchColorDisabled),f.setBatchInstancedDisabled(L8.graph3dViewBatchInstancedDisabled),f.setBatchBlendDisabled(L8.graph3dViewBatchBlendDisabled),f.setBatchBrightnessDisabled(L8.graph3dViewBatchBrightnessDisabled),f.setFlowBlendMode(L8.graph3dViewFlowBlendMode),f.setMoveStep(L8.graph3dViewMoveStep),f.setRotateStep(L8.graph3dViewRotateStep),f.setSortable(L8.graph3dViewSortable),f.setSortFunc(N8),f.setSkybox(N8),f.setToneMapping(N8),f.setToneMappingExposure(1),f.disableOIT(),f.setOITPassCount(3))),R.__innerHandler__=function(V){var Q,X,R,b,A,c;NJ(S.a("toolTipEnable"))&&(S.a("toolTipEnable")?f.enableToolTip():f.disableToolTip()),H8(S.a("fontFaces"))&&S.a("fontFaces").forEach(function(V){L8.addFontFace(V.name,V.url)}),f instanceof I.graph.GraphView&&(NJ(S.a("zoomable"))&&f.setZoomable&&f.setZoomable(S.a("zoomable")),NJ(S.a("pannable"))&&f.setPannable&&f.setPannable(S.a("pannable")),NJ(S.a("rectSelectable"))&&f.setRectSelectable&&f.setRectSelectable(S.a("rectSelectable")),!0===S.a("fitContent")&&f.fitContent&&f.fitContent(!0,0)),f instanceof I.graph3d.Graph3dView&&((V=V.scene)&&V.shadow!=q8&&f.shadowMap.setShadow(V.shadow,V.shadowParams),(R=S.a("sceneContext"))?(R.eye&&f.setEye(R.eye),R.center&&f.setCenter(R.center),PJ(R.far)&&f.setFar(R.far),PJ(R.near)&&f.setNear(R.near)):(PJ(S.a("sceneNear"))&&f.setNear(S.a("sceneNear")),PJ(S.a("sceneFar"))&&f.setFar(S.a("sceneFar")),V&&(V.eye&&f.setEye(V.eye),V.center&&f.setCenter(V.center))),PJ(S.a("sceneDevicePixelRatio"))&&f.setDevicePixelRatio(S.a("sceneDevicePixelRatio")),PJ(S.a("sceneFovy"))&&f.setFovy(S.a("sceneFovy")),NJ(S.a("sceneOrtho"))&&f.setOrtho(S.a("sceneOrtho")),PJ(S.a("sceneOrthoWidth"))&&f.setOrthoWidth(S.a("sceneOrthoWidth")),f.setShadowFromDataModel(S),NJ(S.a("sceneDashEnable"))&&f.setDashDisabled(!S.a("sceneDashEnable")),NJ(S.a("sceneUvClipEnabled"))&&f.setUvClipEnabled(S.a("sceneUvClipEnabled")),l8(S.a("sceneHighlightMode"))&&f.setHighlightMode(S.a("sceneHighlightMode")),PJ(S.a("sceneHighlightWidth"))&&f.setHighlightWidth(S.a("sceneHighlightWidth")),S.a("sceneHighlightColor")&&f.setHighlightColor(S.a("sceneHighlightColor")),S.a("sceneHighlightType")&&f.setHighlightType(S.a("sceneHighlightType")),S.a("sceneHighlightGlow")&&f.setHighlightGlow(S.a("sceneHighlightGlow")),S.a("sceneHighlightStrength")&&f.setHighlightStrength(S.a("sceneHighlightStrength")),S.a("sceneHighlightGroups")&&f.setHighlightGroups(S.a("sceneHighlightGroups")),NJ(S.a("sceneHeadlightEnable"))&&f.setHeadlightDisabled(!S.a("sceneHeadlightEnable")),S.a("sceneHeadlightDirection")!=q8&&f.setHeadlightDirection(S.a("sceneHeadlightDirection")),PJ(S.a("sceneHeadlightRange"))&&f.setHeadlightRange(S.a("sceneHeadlightRange")),S.a("sceneHeadlightColor")&&f.setHeadlightColor(S.a("sceneHeadlightColor")),PJ(S.a("sceneHeadlightIntensity"))&&f.setHeadlightIntensity(S.a("sceneHeadlightIntensity")),PJ(S.a("sceneHeadlightAmbientIntensity"))&&f.setHeadlightAmbientIntensity(S.a("sceneHeadlightAmbientIntensity")),PJ(S.a("sceneHeadlightRatioForPhysicalMaterial"))&&f.setHeadlightRatioForPhysicalMaterial(S.a("sceneHeadlightRatioForPhysicalMaterial")),PJ(S.a("sceneHeadlightGroup"))&&f.setHeadlightGroup(S.a("sceneHeadlightGroup")),NJ(S.a("sceneFogEnable"))&&f.setFogDisabled(!S.a("sceneFogEnable")),S.a("sceneFogMode")&&f.setFogMode(S.a("sceneFogMode")),PJ(S.a("sceneFogDensity"))?f.setFogDensity(S.a("sceneFogDensity")):(R=S.a("sceneFogDensityInverse"),PJ(R)&&f.setFogDensity(B.safeInvert(R))),S.a("sceneFogColor")&&f.setFogColor(S.a("sceneFogColor")),PJ(S.a("sceneFogNear"))&&f.setFogNear(S.a("sceneFogNear")),PJ(S.a("sceneFogFar"))&&f.setFogFar(S.a("sceneFogFar")),NJ(S.a("sceneBatchBrightnessDisabled"))&&f.setBatchBrightnessDisabled(S.a("sceneBatchBrightnessDisabled")),S.a("sceneFlowBlendMode")!==N8&&f.setFlowBlendMode(S.a("sceneFlowBlendMode")),S.a("sceneToneMapping")!==N8&&f.setToneMapping(S.a("sceneToneMapping")),PJ(S.a("sceneToneMappingExposure"))&&f.setToneMappingExposure(S.a("sceneToneMappingExposure")),NJ(S.a("sceneBatchBlendDisabled"))&&f.setBatchBlendDisabled(S.a("sceneBatchBlendDisabled")),NJ(S.a("sceneBatchColorDisabled"))&&f.setBatchColorDisabled(S.a("sceneBatchColorDisabled")),NJ(S.a("sceneBatchInstancedDisabled"))&&f.setBatchInstancedDisabled(S.a("sceneBatchInstancedDisabled")),S.a("sceneBatchInfoMap")&&f.setBatchInfoMap(S.a("sceneBatchInfoMap")),S.a("sceneRenderLayerInfoMap")&&f.setRenderLayerInfoMap(S.a("sceneRenderLayerInfoMap")),PJ(S.a("sceneMoveStep"))&&f.setMoveStep(S.a("sceneMoveStep")),PJ(S.a("sceneRotateStep"))&&f.setRotateStep(S.a("sceneRotateStep")),NJ(S.a("sceneSortable"))&&f.setSortable(S.a("sceneSortable")),LJ(S.a("sceneSortFunc"))&&f.setSortFunc(S.a("sceneSortFunc")),NJ(S.a("sceneOIT"))&&f.enableOIT(),PJ(S.a("sceneOITPassCount"))&&f.setOITPassCount(S.a("sceneOITPassCount")),l8(S.a("sceneShaderSummary"))&&(f.enableShaderCompileParallel(),f.setShaderGCInterval(1/0),f.deserializePhysicalShader(S.a("sceneShaderSummary"))),(V=S.a("sceneSkyboxType")||"sphere")!=q8&&(X=!(Q={}),R=S.a("sceneSkyboxColor"),"sphere"===V?(Q.shape3d=V,(A=S.a("sceneSkyboxImage"))&&(Q["shape3d.image"]=A,X=!0)):"cube"===V?(Q.shape3d=N8,["front","back","left","right","top","bottom"].forEach(function(V){var R=V+".image",V=V.charAt(0).toUpperCase()+V.slice(1);(V=S.a("sceneSkybox"+V+"Image"))&&(Q[R]=V,X=!0)})):"color"===V&&R&&(X=!0),X&&(b=new Xu,c=S.a("sceneSkyboxDiameter"),PJ(c)?b.s3(c,c,c):b.s3(20,20,20),Q["body.color"]=S.a("sceneSkyboxBodyColor"),Q.envmap=S.a("sceneSkyboxEnvmap"),Q["envmap.probe"]=S.a("sceneSkyboxEnvmapProbe"),Q.roughness=S.a("sceneSkyboxRoughness"),Q["shape3d.light"]=Q["all.light"]=S.a("sceneSkyboxLight"),Q["light.mask"]=S.a("sceneSkyboxLightMask"),Q["headlight.ambientIntensity"]=S.a("sceneSkyboxHeadLightAmbientIntensity"),Q["skybox.blur.size"]=S.a("sceneSkyboxBlurSize"),Q["skybox.blur.resolution"]=S.a("sceneSkyboxBlurResolution"),Q["texture.wrap"]="clampToEdge",Q["3d.clipbox.mask"]=U1,Q["effect.flow.mask"]=U1,"color"===V&&(Q.shape3d="sphere",(c=(A=b.s("shape3d.image"))&&I.Default.getImage(A))&&"CANVAS"===c.tagName||(c=q.createElement("canvas"),A=I.Math.generateUUID(),I.Default.setImage(A,c)),A&&f.getTextureMap()&&f.deleteTexture(A),I.Default.setCanvas(c,2,1024,1),(V=c.getContext("2d")).clearRect(0,0,2,1024),V.beginPath(),V.rect(0,0,2,1024),x2(V,R,function(V){return V},!1,{x:0,y:0,width:2,height:1024}),V.fill(),V.restore(),Q["shape3d.image"]=A),b.s(Q),["X","Y","Z"].forEach(function(V){var R=S.a("sceneSkyboxRotation"+V);PJ(R)&&b["setRotation"+V](R)}),f.setSkybox(b))))},S.deserialize(V,R.rootParent,R)},V.isDebugTipShowing=function(){return!!this._debugDiv},V.showDebugTip=function(){var V,Q,X=this,b=X._debugDiv;b||((b=X._debugDiv=q.createElement("div")).style.position="absolute",b.style.overflow="hidden",b.style.font=L8.debugTipLabelFont,b.style.padding="6px",b.style.backgroundColor=L8.debugTipBackground,b.style.color=L8.debugTipLabelColor,b.style.zIndex=99999,V=X.getView(),X._79O?V.insertBefore(b,X._79O):V.appendChild(b),Q=function(){X.redraw();var V=X._canvas,V="FPS: "+X._fpsInfo.fps+"<br/>Datas: "+X.dm().getDatas().length+(V?"<br/>Size: "+V.width+" * "+V.height:"")+"<br/>Version: "+L8.getVersion(),R=X.dm()._historyManager;R&&(V+="<br/>Undoes: "+R.getHistories().length+" index: "+R.getHistoryIndex()),(R=X.getDebugTip())&&(V+="<hr>"+R),b.innerHTML=V,X._isDebugging&&requestAnimationFrame(Q)},requestAnimationFrame(Q),X._isDebugging=!0)},V.hideDebugTip=function(){var V=this._debugDiv;V&&(delete this._debugDiv,this.getView().removeChild(V),this._isDebugging=!1)},V.updateDOMAppendMatrix=function(){var V=this.getView();V&&(V.updateAppendMatrix=!0)},V.countFrame=function(){var V,R;this._isDebugging&&(1e3<(V=Date.now())-(R=this._fpsInfo).time?(R.fps=Math.round(1e5*(R.frames+1)/(V-R.time))/100,R.time=V,R.frames=0):R.frames++)}},ms_icons:function(V,R){V.getRotation=function(V,R){return V==q8?0:V},V._15O=function(){var V=this,R=V.s(hR);if(R){var Q,X=V.gv,b=V.data||V._data,A=b.getRotation&&b.getRotation(),c=V._38o={icons:R,rects:{}},f=b.s("icons.getRotation"),S=b.s("icons.getPosition");for(Q in R){var F=R[Q],D=p(F.shape3d,b,X);if(!(!1===p(F.visible,b,X)||p(F.for3d,b,X)&&!V.I3d||D&&!V.I3d)){var P=D?[D]:p(F.names,b,X),N=P?P.length:0,q=p(F.position,b,X)||3,L=p(F.offsetX,b,X)||0,e=p(F.offsetY,b,X)||0,J=p(F.direction,b,X)||NR,s=(l=p(F.gap,b,X))!=q8?l:1,l=p(F.rotation,b,X),H=p(F.keepOrien,b,X),K=q8,y=q8,t=c.rects[Q]=new Array(N);(K=f&&!V.I3d?f(F,b,X):K)==q8&&(K=p(F.rotationFixed,b,X)?l:V.getRotation(l,H,q)),PJ(A)&&(PJ(K)?K+=A:K=A),t.rotation=K;for(var g=0;g<N;g++){var m,z,Y,u,o=P[g],_=u=m=z=q8;D?z=m=0:(o=U(o),m=p(F.width,b,X),z=p(F.height,b,X),m==q8&&(m=s_(o,b)),z==q8&&(z=l_(o,b))),y?J===NR?L+=m/2:J===qR?L-=m/2:J===LR?e-=z/2:e+=z/2:y={width:m,height:z},V.I3d?(o=-m/2,Y=-z/2,u={width:m,height:z,mat:V._16O(p(F.autorotate,b,X),q,y,p(F.face,b,X)||XR,p(F.t3,b,X),p(F.r3,b,X),p(F.rotationMode,b,X),L,e),vs:new Ms([o,-Y,0,o,-Y-z,0,o+m,-Y-z,0,o+m,-Y,0])}):(u={x:(_=(_=S?S(F,b,X):_)==q8?V.getPosition(q,L,e,y,p(F.positionFixed,b,X)):_).x-m/2,y:_.y-z/2,width:m,height:z},V._68o(u,K)),t[g]=u,J===NR?L+=m/2+s:J===qR?L-=m/2+s:J===LR?e-=z/2+s:e+=z/2+s}}}}}}});var C_={1:1,2:1,6:1,9:1,10:1,14:1,15:1,16:1,21:1,22:1,26:1,29:1,30:1,34:1,36:1,38:1,40:1,42:1,45:1,50:1,52:1,54:1},v_={3:1,7:1,11:1,17:1,23:1,27:1,31:1,44:1,46:1,47:1,49:1},h_={translateX:1,translateY:1,zoom:1,scrollBarVisible:1},T_={sourceAgent:1,targetAgent:1,expanded:1,parent:1,host:1},W_={position:1,width:1,height:1,expanded:1,rotation:1,anchor:1,scale:1,"s:edge.points":1},U_={"edge.type":1,"edge.group":1},p_={rotation:1,rotationX:1,rotationZ:1,rotation3d:1},I_={rotation:1,position:1,width:1,height:1,anchor:1,scale:1,host:1,"s:vector.layoutable":1},Z_={position:1,width:1,height:1,anchor:1,scale:1,"s:grid.row.count":1,"s:grid.column.count":1,"s:grid.row.percents":1,"s:grid.column.percents":1,"s:grid.border":1,"s:grid.border.left":1,"s:grid.border.right":1,"s:grid.border.top":1,"s:grid.border.bottom":1,"s:grid.gap":1},k_={"attach.row.index":1,"attach.column.index":1,"attach.row.span":1,"attach.column.span":1,"attach.padding":1,"attach.padding.left":1,"attach.padding.right":1,"attach.padding.top":1,"attach.padding.bottom":1,"attach.index":1,"attach.offset":1,"attach.offset.relative":1,"attach.offset.opposite":1,"attach.gap":1,"attach.gap.relative":1,"attach.thickness":1},x_={shape:1,thickness:1,position:1,anchor:1,scale:1},B_=function(V){if(!V)return q8;var R,Q;if(JJ(V))return R=V._40I,Q=V._41I,R&&Q&&(R=B_(R))===B_(Q)?R:q8;for(var X=V._parent;JJ(X)&&!X.ISubGraph;)X=X._parent;return X?X.ISubGraph?X:B_(X):q8},G_=function(V,R,Q,X){var b=R.getStyle(Q)*X;b&&ys(V,b),(b=R.getStyle(Q+".left")*X)&&(V.x-=b,V.width+=b),(b=R.getStyle(Q+".right")*X)&&(V.width+=b),(b=R.getStyle(Q+".top")*X)&&(V.y-=b,V.height+=b),(b=R.getStyle(Q+".bottom")*X)&&(V.height+=b),V.width<0&&(V.width=-V.width,V.x-=V.width),V.height<0&&(V.height=-V.height,V.y-=V.height)},d_=function(V){for(var R,Q=0,X=V.size();Q<X;Q++)if(R=V.getChildAt(Q),r(R)&&d_(R))return!0;return V.hasAgentEdges()},Vq=function(V){if(!V)return q8;for(var R=V._parent;sJ(R);){if(!sJ(R._parent))return R.isExpanded()?V:R;R.isExpanded()||(V=R),R=R._parent}return V},Rq=function(V,R){if(!V||!R)return q8;var Q,X,b,A=B_(V),c=B_(R);if(A===c)return V;for(;c&&A!==c;)c=B_(c);if(A===c)return V;(Q=new Z).add(V,0);for(var f=V._parent;r(f)&&!R.isDescendantOf(f);)Q.add(f,0),f=f._parent;for(b=Q.size(),X=0;X<b;X++){var S=Q.get(X);if(sJ(S)&&!S.isExpanded())return S;if(S.ISubGraph)return S}return V},Qq=function(V,R,Q){var X,b,A,c="target"===(Q="target"!==Q?"source":Q)?R.getTargetAgent():R.getSourceAgent(),Q="edge."+Q+".";return JJ(c)?((X=V.getDataUI(c))._79o(),0<=(b=R.s(Q+"index"))?(A=gq(X))[Math.max(0,Math.min(b,A.length-1))]:(b=R.s(Q+"percent")||0,b=Math.max(0,Math.min(b,1)),A=lq(X),tq(A,100*b))):Xq(V,c,R.s(Q+"position"),R.s(Q+"offset.x"),R.s(Q+"offset.y"),R.s(Q+"anchor.x"),R.s(Q+"anchor.y"))},Xq=function(V,R,Q,X,b,A,c){if(!R)return q8;var f,S,F,D,P,N=R.getRotation?R.getRotation():0;return Q=A!==N8||c!==N8?(A=A===N8?.5:A,c=c===N8?.5:c,F=R.getScale(),N&&!lJ(R,V)||F.x<0||F.y<0?(f=R.getPosition(),D=R.getWidth(),S=R.getHeight(),P=R.getAnchor(),new Qf(N,f.x,f.y,F.x,F.y).tf((A-P.x)*D,(c-P.y)*S)):{x:(f=j_(V,R)).x+A*f.width,y:f.y+c*f.height}):_4(Q,j_(V,R)),N&&(P=X*(F=e8(N))-b*(D=J8(N)),b=X*D+b*F,X=P),Q.x+=X,Q.y+=b,Q},bq=function(V,R){var Q,X,b=function(V,R){if(!V||!R)return q8;var Q,X,b,A,c,f;if(V===R){if(!(A=V.getLoopedEdges()))return q8;A=new Z(A)}else{if(c=V.getAgentEdges(),f=R.getAgentEdges(),!c||!f)return q8;for(X=c.size(),Q=0;Q<X;Q++)b=c.get(Q),f.contains(b)&&(A=A||new Z).add(b)}if(A)for(Q=0;Q<A.size();Q++)(b=A.get(Q)).getStyle(xR)===nR&&(b._22I(q8),A.removeAt(Q),Q--);return A}(V,R);b&&!b.isEmpty()&&(1===b.size()?b.get(0)._22I(q8):(Q=new Z,X=new Z,b.each(function(V){V=V.s("edge.group"),Q.contains(V)||Q.add(V)}),Q.sort(),Q.each(function(R){X.add(new I.EdgeGroup(b.toList(function(V){return R===V.s("edge.group")}),X))}),X.each(function(R){R.each(function(V){V._22I(R)})})))},Aq=function(V,R,Q){var X=V._canvas,V=(V._zoom,ts(R,X)),R=ts(Q,X);return{x:V.x-R.x,y:V.y-R.y}},cq=function(V,R){var Q,X,b,A,c,f,S,F,D,P,N,q,L,e,J;R&&(Q=R.rect,X=R.color,b=R.rotation,A=R.labelWidth,c=R.background,f=R.opacity,S=(J=R.scale)!=q8&&1!==J,F=R.borderWidth,D=R.borderColor,P=R.letterGap,f!=q8&&(N=V.globalAlpha,V.globalAlpha*=f),(b||S)&&(V.save(),q=Q.x+Q.width/2,L=Q.y+Q.height/2,D2(V,q,L),b&&P2(V,b),S&&V.scale(J,J),D2(V,-q,-L)),c&&Q4(V,Q.x,Q.y,Q.width,Q.height,c),A&&(e=Q.width,(J=V.createLinearGradient(Q.x,Q.y,Q.x+e,Q.y)).addColorStop(0,X),J.addColorStop(.9,X),J.addColorStop(1,UA),X=J,Q.width=A),Q2(V,R.ss,Q,R.font,X,R.align,R.decoration,P,F,D),A&&(Q.width=e),(b||S)&&V.restore(),f!=q8&&(V.globalAlpha=N))},fq=function(V,R){var Q,X,b,A,c,f,S,F,D,P,N,q,L,e,J,s,l;R&&(X=(Q=R.rect).x,b=Q.y,A=Q.width,c=Q.height,f=R.background,S=R.backgroundImage,F=R.borderWidth,D=R.borderColor,P=R.labelWidth,N=R.opacity,q=(l=R.scale)!=q8&&1!==l,N!=q8&&(L=V.globalAlpha,V.globalAlpha*=N),q&&(V.save(),e=Q.x+Q.width/2,s=Q.y+Q.height/2,D2(V,e,s),V.scale(l,l),D2(V,-e,-s)),R.expanded?(l=X8(8,A/4),e=b+c-8,V.fillStyle=f,V.beginPath(),V.moveTo(X,b),V.lineTo(X,e),V.lineTo(X+A/2,e),V.lineTo(X+A/2,b+c),V.lineTo(X+A/2+l,e),V.lineTo(X+A,e),V.lineTo(X+A,b),V.closePath(),V.fill(),F&&(V.lineWidth=F,V.lineJoin="round",V.lineCap="round",D?V.strokeStyle=D:(V.strokeStyle=Rs(f),V.beginPath(),V.moveTo(X+A,b),V.lineTo(X+A,e),V.lineTo(X+A/2+l,e),V.lineTo(X+A/2,b+c),V.stroke(),V.strokeStyle=Vs(f),V.beginPath(),V.moveTo(X+A,b),V.lineTo(X,b),V.lineTo(X,e),V.lineTo(X+A/2,e),V.lineTo(X+A/2,b+c)),V.stroke()),S?pf(V,U(S),TA,Q.x,Q.y,Q.width,Q.height-8,R.data,R.view):(Q.height-=8,f=R.color,P&&((s=V.createLinearGradient(X,b,X+(J=A),b)).addColorStop(0,f),s.addColorStop(.9,f),s.addColorStop(1,UA),f=s,Q.width=P),Q2(V,R.ss,Q,R.font,f,R.align),P&&(Q.width=J),Q.height+=8)):R.icon?H_(V,U(R.icon),X,b,A,c,R.data,R.view):(l=A/2,F&&(V.lineWidth=F,V.lineJoin="round",V.lineCap="round",V.strokeStyle=D||Rs(f),V.beginPath(),V.arc(X+l,b+l,l,M8,1.6*w,!0),V.moveTo(X+l,b+c),V.lineTo(X+A-l/5,b+l),V.stroke(),V.strokeStyle=D||Vs(f),V.beginPath(),V.arc(X+l,b+l,l,1.6*w,M8,!0),V.moveTo(X+l,b+c),V.lineTo(X+l/5,b+l),V.stroke()),V.fillStyle=f,V.beginPath(),V.arc(X+l,b+l,l,0,s8,!0),V.moveTo(X+l,b+c),V.lineTo(X+A-l/5,b+l),V.lineTo(X+l/5,b+l),V.closePath(),V.fill(),V.fillStyle=R.color,V.beginPath(),V.arc(X+l,b+l,l/3,0,s8,!0),V.fill()),q&&V.restore(),N!=q8&&(V.globalAlpha=L))},Sq=function(V,R){return 2*V<R?V:R/2},Fq=function(V,R,Q,X){if(!V||!R)return 0;var b=E8(R.y-V.y,R.x-V.x);return(b=!Q&&R.x<V.x?b+w:b)+X},Dq=function(V,R,Q,X,b,A,c){return c&&(V.x>R.x||V.x===R.x&&V.y>R.y)&&(Q=o4[Q],b=-b),(c=_4(Q,{x:0,y:0,width:qs(V,R),height:0},A)).x+=X,c.y+=b,(c=new Qf(E8(R.y-V.y,R.x-V.x)).tf(c)).x+=V.x,c.y+=V.y,c},Pq=function(V,Q,X,R,b){if(V._19Q=!0,!X.getEdgeGroup())return R?X.s("edge.gap"):0;if(JJ(X.getSourceAgent())||JJ(X.getTargetAgent()))return 0;var A,c=0,f=0,S=0;return X.getEdgeGroup().getSiblings().each(function(V){V.each(function(V){var R;Q.isVisible(V)&&V.s(xR)==b&&(R=V.s("edge.gap"),A?f+=S/2+R/2:A=V,S=R,V===X&&(c=f))})}),R?f-c+S:(R=c-f/2,A&&X._40I!==A._40I&&(V._19Q=!1),R)},Nq=function(V){if(1===(R=V._getValidSelection()).length){var R,Q=(R=R[0])instanceof I.Edge;if((R instanceof I.Shape||Q)&&(!(Q=Q&&R.s("edge.type"))||"points"===Q))return(Q=V.gv).isPointEditable&&!Q.isPointEditable(R)||!Q.isEditable(R)?void 0:R}},qq=I.graph={},V=function(V,R,Q){Os("ht.graph."+V,R,Q)},Lq=(I.layout={},{}),eq=function(V,R,Q,X,b,A,c,f){var S=c._zoom;if(!S)return R;if(S!==c._cacheZoom&&(c._cacheZoom=S,c._cacheImage={}),S*=Kf,X=Math.ceil(X),b=Math.ceil(b),2048<X*S||2048<b*S)return R;var F,D=[R.uuid,X,b,Q].join("_"),P=A.s("state");if(P&&(D+="_"+P),(P=R.cacheRule)&&(LJ(P)?q=P(A,c):LJ(P.func)&&(q=P.func(A,c))),q===N8&&A instanceof I.Data){var N=R.dataBindings;if(N){for(var q="",L=N.length-1;0<=L;L--){var e=A.ca(N[L].attr);qJ(e)||H8(e)||(q+="_"+e)}q=q.slice(1)}}if(D+="_"+q,X<=b&&X*S<1?(F=b/X,b=(X=1/S)*F):b<=X&&b*S<1&&(F=X/b,X=(b=1/S)*F),X=Math.ceil(X),b=Math.ceil(b),!(P=c._cacheImage[D])){if(D_=!0,P=I.Default.toCanvas(R,X,b,Q,A,c,f,S),!D_)return R;c._cacheImage[D]=P}return P};mJ(L8,{setImageCacheRule:function(V,R){var Q,X;for(X in R||"object"!=typeof V?(Q={})[V]=R:Q=V,Q){var b=Q[X];l8(X)?(Os=U(X))?Os.cacheRule=b:Lq[X]=b:X.cacheRule=b}}});(j8={comps:[{type:tR,points:[85,50,70,115,100,71,86,107,88,49,56,89,72,72,105,112,49,66,53,50,82,118,67,107,117,90,47,55,66,85,75,43,47,51,102,89,101,97,110,76,83,104,73,61],borderWidth:1,borderColor:q8}]})[uR]=j8[oR]=160,j.Image&&((Lu=new j.Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAALUlEQVRYR+3QQREAAAABQfqXFsNnFTizzXk99+MAAQIECBAgQIAAAQIECBAgMBo/ACHo7lH9AAAAAElFTkSuQmCC",ue("default_blank",Lu)),ue("node_image",bJ(30,30,[{type:C,rect:[4,5,22,16],gradient:tf,gradientColor:C4,background:L},{type:C,rect:[2,3,26,20],borderWidth:1,borderColor:L},{type:C,rect:[11,23,8,4],background:L},{type:C,rect:[6,27,18,2],background:L}])),ue("node_icon",bJ(16,16,[{type:C,rect:[2,2,12,10],gradient:tf,gradientColor:C4,background:L},{type:lR,rect:[2,2,12,10],width:1,color:L},{type:C,rect:[6,12,4,2],background:L},{type:C,rect:[4,14,8,1],background:L}])),ue("block_icon",bJ(16,16,[{type:lR,rect:[1,1,14,14],width:1,color:L}])),ue("group_image",bJ(66,39,[{type:C,rect:[44.3,18,18.1,12.8],gradient:tf,gradientColor:C4,background:L},{type:C,rect:[3.3,17.8,18.1,12.8],gradient:tf,gradientColor:C4,background:L},{type:C,rect:[15.8,3.2,33.5,26.4],borderWidth:1,borderColor:L,gradient:tf,gradientColor:C4,background:L},{type:C,rect:[26.2,29.4,12.8,4.2],background:L},{type:C,rect:[21.3,33.5,22.5,2.3],background:L},{type:C,rect:[5.3,32.7,14.1,2.1],background:L},{type:C,rect:[9,30.4,6.7,2.4],background:L},{type:C,rect:[50,30.7,6.7,2.4],background:L},{type:C,rect:[46.3,33,14.1,2.1],background:L}])),ue("group_icon",bJ(16,16,[{type:C,rect:[4,12,4,2],background:L},{type:C,rect:[2,13,8,1],background:L},{type:C,rect:[12,12,2,1],background:L},{type:C,rect:[11,13,4,1],background:L},{type:C,rect:[10,7,6,5],gradient:tf,gradientColor:C4,background:L},{type:C,rect:[1,2,10,10],gradient:tf,gradientColor:C4,background:L},{type:lR,rect:[1,2,10,10],width:1,color:L}])),ue("refGraph_icon",bJ(16,16,[{type:"shape",borderWidth:1,borderColor:L,borderCap:"round",rotation:.7854,points:[12.5502,6.7981,12.5502,6.7981,12.5502,4.8181,12.5502,3.7981,12.5502,2.7781,11.36687,1.7981,10.0502,1.7981,8.73354,1.7981,7.5502,2.8181,7.5502,3.7981,7.5502,4.55989,7.5502,7.79805,7.5502,7.79805,7.5502,7.79805,7.5502,9.7981,10.0502,9.7981],segments:[1,4,4,4,4,4]},{type:"shape",borderWidth:1,borderColor:L,borderCap:"round",rotation:-2.35619,points:[8.4498,11.2019,8.4498,11.2019,8.4498,9.2219,8.4498,8.2019,8.4498,7.1819,7.26646,6.2019,5.9498,6.2019,4.63313,6.2019,3.4498,7.2219,3.4498,8.2019,3.4498,8.9637,3.4498,12.20186,3.4498,12.20186,3.4498,12.20186,3.4498,14.2019,5.9498,14.2019],segments:[1,4,4,4,4,4]}])),ue("edge_icon",bJ(16,16,[{type:C,rect:[2.1,6.9,11.5,2.6],rotation:-.79,gradient:tf,gradientColor:C4,background:L},{type:C,rect:[10.8,1,4,4],background:L},{type:C,rect:[1,11,4,4],background:L}])),ue("subGraph_image",bJ(72,45,[{type:tR,points:[9,42,.3,38.4,2.4,28.8,5.7,21.6,11.7,22.5,11.7,15.9,16.8,13.8,21.6,12,24.3,15.9,27.9,3,42.3,2.1,59.4,4.5,57.3,18.3,67.5,18.9,69.6,27.3,69.9,38.4,64.2,41.4],segments:[1,3,3,3,3,3,3,3,3],gradient:tf,gradientColor:C4,background:L},{type:C,rect:[29.6,30.7,3.6,1.8],background:L},{type:C,rect:[28.4,32.3,6,1.2],background:L},{type:C,rect:[37.3,32,10.8,1.8],background:L},{type:C,rect:[39.1,29.9,7.2,2.3],background:L},{type:C,rect:[26.6,23.7,9.6,7.2],gradient:tf,gradientColor:C4,background:L},{type:C,rect:[34.3,16.8,16.8,13.2],borderWidth:1,borderColor:L,gradient:tf,gradientColor:C4,background:L}])),ue("subGraph_icon",bJ(17,17,[{type:tR,points:[2.2,14.6,.2,11.9,.8,8.8,1.8,5.9,5.6,7.4,3.8,1.6,10.3,3,14.5,4.2,12.2,7.5,18.9,7.2,14.5,14.5],segments:[1,3,3,3,3,3],gradient:tf,gradientColor:C4,background:L}])),ue("shape_icon",bJ(16,16,[{type:tR,points:[1.5,1,8.4,1,8.4,7.2,14.6,7.1,14.6,14.9,1.5,14.9,1.5,1],background:L}])),ue("polyline_icon",bJ(16,16,[{type:tR,points:[1.5,1,8.4,1,8.4,7.2,14.6,7.1,14.6,14.9,1.5,14.9,1.5,1],borderWidth:1,borderColor:L},AJ(7.5,.4),AJ(7.5,6.3),AJ(13.6,6.3),AJ(13.6,14),AJ(.7,13.9),AJ(.7,.3)])),ue("grid_icon",bJ(16,16,[{type:C,rect:[1,1,4,4],background:L,gradient:tf,gradientColor:C4},{type:C,rect:[6,1,4,4],background:L,gradient:tf,gradientColor:C4},{type:C,rect:[11,1,4,4],background:L,gradient:tf,gradientColor:C4},{type:C,rect:[11,6,4,4],background:L,gradient:tf,gradientColor:C4},{type:C,rect:[6,6,4,4],background:L,gradient:tf,gradientColor:C4},{type:C,rect:[1,6,4,4],background:L,gradient:tf,gradientColor:C4},{type:C,rect:[11,11,4,4],background:L,gradient:tf,gradientColor:C4},{type:C,rect:[6,11,4,4],background:L,gradient:tf,gradientColor:C4},{type:C,rect:[1,11,4,4],background:L,gradient:tf,gradientColor:C4}])),ue("light_icon",bJ(16,16,[{type:"rect",rect:[6,9,5,5],borderWidth:1,borderColor:L},{type:"circle",rect:[1,1,15,10],borderWidth:1,borderColor:L,gradient:tf,gradientColor:C4,background:{func:function(V){return V=V?V.s(T1):q8,H8(V)?"rgb("+C8(255*V[0])+","+C8(255*V[1])+","+C8(255*V[2])+")":V||L}}}])),ue("text_icon",bJ(16,16,[{type:"shape",points:[3,3,13,3,8,3,8,14],segments:[1,2,1,2],borderWidth:1,borderColor:L}])),ue("border_image",{fitSize:!0,comps:[{type:"border",relative:!0,rect:[0,0,1,1],color:{func:"style@border_color"},width:{func:"style@border_width"}}]}),ue("columnChart_image",{fitSize:!0,boundExtend:150,comps:[{type:{func:"style@chart.type"},relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},series:{func:"style@chart.series"},minValue:{func:"style@chart.min.value"},maxValue:{func:"style@chart.max.value"}}]}),ue("lineChart_image",{fitSize:!0,boundExtend:150,comps:[{type:"lineChart",relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},series:{func:"style@chart.series"},minValue:{func:"style@chart.min.value"},maxValue:{func:"style@chart.max.value"},linePoint:{func:"style@chart.line.point"},lineWidth:{func:"style@chart.line.width"},line3d:{func:"style@chart.line.3d"}}]}),ue("pieChart_image",{fitSize:!0,boundExtend:150,comps:[{type:"pieChart",relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},hollow:{func:"style@chart.hollow"},startAngle:{func:"style@chart.start.angle"},values:{func:"style@chart.values"},colors:{func:"style@chart.colors"}}]});var Jq=function(V,R,Q,X,b,A){var c,f,S,F,D,P=[],N=-((X=Math.abs(X)>2*Math.PI?2*Math.PI:X)/(c=Math.ceil(Math.abs(X)/(Math.PI/4)))),q=-Q;if(0<c){X=V+Math.cos(Q)*b,Q=R+Math.sin(-Q)*A,P.push({x:X,y:Q});for(var L=0;L<c;L++)D=(q+=N)-N/2,f=V+Math.cos(q)*b,S=R+Math.sin(q)*A,F=V+Math.cos(D)*(b/Math.cos(N/2)),D=R+Math.sin(D)*(A/Math.cos(N/2)),P.push({x:F,y:D}),P.push({x:f,y:S})}return P},sq=function(V){if(V){var R=V._data;if(R instanceof I.Shape)return{points:R.getPoints(),segments:R.getSegments()};if(R instanceof I.Edge&&(R=V._78o)){var V=R.type,Q=R.points,X=R.segments,b=R.edgeTypeInfo;if(!V||Q){var A=(c=R.sourcePoint).x,c=c.y,f=(S=R.targetPoint).x,S=S.y;if(V)X?((F=new Z({x:A,y:c})).addAll(Q),F.add({x:f,y:S}),D=new Z(X._as)):(F=new Z({x:A,y:c}),Q.each(function(V){F.add(V)}),F.add({x:f,y:S}));else if(R.looped)for(var F=new Z(Jq(A,c,0,2*Math.PI,R.radius,R.radius)),D=new Z([1]),P=0;P<(F.size()-1)/2;P++)D.add(3);else F=new Z,R.center?(F.add({x:R.c1.x,y:R.c1.y}),F.add({x:A,y:c}),F.add({x:f,y:S}),F.add({x:R.c2.x,y:R.c2.y})):(F.add({x:A,y:c}),F.add({x:f,y:S}))}else b&&(F=new Z(b.points._as),b.segments&&(D=new Z(b.segments._as)));return{points:F,segments:D}}}},lq=function(V,R,Q){if(null==R){if(!(V=sq(V)))return;R=V.points,Q=V.segments}if(R){if("number"==typeof(R=Array.isArray(R)?new Z(R):R).get(0)){for(var X=new I.List,b=0;b<R.size();b+=2)X.add({x:R.get(b),y:R.get(b+1)});R=X}if(!Q){Q=[1];for(var A=R.length-1;0<A;A--)Q.push(2)}Array.isArray(Q)&&(Q=new Z(Q));for(var c=d2(R._as,Q._as,50),f=c.length,S=[],b=0;b<f;b++){var F=c[b];1<F.length&&S.push(F)}return S}},Hq=function(V){for(var R=0,Q=V.length-1,X=0;X<Q;X++){var b=V[X],A=(c=V[X+1]).x-b.x,c=c.y-b.y;R+=Math.sqrt(A*A+c*c)}return R},Kq=function(V,R){for(var Q=0,X=R.length,b=0;b<X;b++)if(V<(Q+=R[b]))return b;return Math.min(b,X-1)},yq=function(V,R){for(var Q=0,X=0,b=V.length-1,A=0;A<b;A++){var c=V[A],f=V[A+1],S=f.x-c.x,F=f.y-c.y;if(R<(Q+=f=Math.sqrt(S*S+F*F))){Q-=f,X=A;break}}var D=V[X],P=V[X+1],P=Math.atan2(P.y-D.y,P.x-D.x),N=R-Q,F=Math.sin(P)*N,S=Math.cos(P)*N;return{x:D.x+S,y:D.y+F}},tq=function(V,R){if(V){var Q;if(0===R)Q=V[0][0];else if(100===R)Q=(V=V[V.length-1])[V.length-1];else{for(var X=0,b=[],A=V.length,c=0;c<A;c++){var f=V[c];X+=f=Hq(f),b.push(f)}for(var S=Kq(R=X*R/100,b),F=0,D=0;D<S;D++)F+=b[D];Q=yq(V[S],R-=F)}return Q}},gq=function(V){for(var R,Q,X,b,A,c=[],f=-1,S=0,F=((X=V instanceof Eu?(Q=(R=sq(V)).points,R.segments):(Q=V,arguments[1]))||Q).length;S<F;S++){if(3===(b=X?X.get(S):1))A=2;else if(4===b)A=3;else{if(5===b)continue;A=1}f+=A,c.push(Q.get(f))}return c},mq=(mJ(L8,{_edgeProtectMethod:{getStraightLinePoints:lq,calculateLineLength:Hq,calcSegmentIndexByDistance:Kq,calculatePointAlongLine:yq,getPercentPosition:tq,getRealPointsFromDataUI:gq}}),function(V,R){for(var Q=V.vertices,X=0;X<Q.length;X++){var b=Q[X],A=b.y;b.y=b.z,b.z=-A,R&&(b.y+=R)}}),zq=function(V){for(var R,Q,X,b,A,c,f=[],S=[],F=[],D=V.faces,P=0,N=D.length;P<N;P++,0){var q=D[P];1===q.i?(R||(R=[],Q=[],X=[]),Yq(q,P,0,0,V,R,X,Q)):2===q.i?(b||(b=[],A=[],c=[]),Yq(q,P,0,0,V,b,c,A)):Yq(q,P,0,0,V,f,F,S)}return{vs:f,uv:S,ns:F,top_vs:R,top_uv:Q,top_ns:X,bottom_vs:b,bottom_uv:A,bottom_ns:c}},Yq=function(V,R,Q,X,b,A,c,f){var S,F,D,P=b.vertices,b=b.faceVertexUvs,N=P[V.a],q=P[V.b],P=P[V.c];A.push(N.x,N.y,N.z,q.x,q.y,q.z,P.x,P.y,P.z);3===(A=V.vertexNormals).length?(S=A[0],F=A[1],D=A[2]):S=F=D=V.normal,c.push(S.x,S.y,S.z,F.x,F.y,F.z,D.x,D.y,D.z),N=b[0][R][0],q=b[0][R][1],P=b[0][R][2];f.push(N.x,N.y,q.x,q.y,P.x,P.y)},uq=(ij=new K8,nj=new K8,Mj=new K8,rj=new K8,Ej=new K8,$j=new K8,jj=new K8,Cj=new K8,vj=new K8,hj=new K8,Tj=new K8,Wj=new K8,Im.prototype._findVertex=function(V,R,Q){return Wj.fromArray(V,3*R),Q&&Wj.applyMatrix4(Q),V=[Wj.x,Wj.y,Wj.z].join(","),(R=this._vertexMap[V])||((Q=Wj.clone())._key=V,this._vertexMap[V]=R=Q),R},Im.prototype._findLine=function(V,R){var Q=[V,R];return V._key>R._key&&Q.reverse(),Q._key=[Q[0]._key,Q[1]._key].join("|"),(V=this._lineMap[Q._key])||((this._lineMap[Q._key]=V=Q)._triangles={},Q._planes={},this._lineList.push(Q)),V},Uj=new K8(1,0,0),pj=new K8(0,1,0),Ij=new K8(0,0,1),Zj=new K8,kj=new K8,xj=new cf,Im.prototype._addTriangle=function(V,R,Q,X,b,A,c,f){var S,F=this._findVertex(V,Q,A),D=this._findVertex(V,X,A),V=this._findVertex(V,b,A),A=this._findLine(F,D),P=this._findLine(D,V),N=this._findLine(V,F);R?(S=(new K8).fromArray(R,3*Q),Q=(new K8).fromArray(R,3*X),X=(new K8).fromArray(R,3*b),c&&(S.applyMatrix3(c),Q.applyMatrix3(c),X.applyMatrix3(c)),S._key=xm(S,f),Q._key=xm(Q,f),X._key=xm(X,f),Zm(A,0,S,D,Q,V,X),Zm(P,0,Q,V,X,F,S),Zm(N,0,X,F,S,D,Q)):(kj.subVectors(V,D),Zj.subVectors(D,F),(S=(new K8).crossVectors(Zj,kj))._key=xm(S,f),km(A,V,S),km(P,F,S),km(N,D,S))},Im.prototype._toLineVS=function(V){for(var R=this._lineList,Q=0,X=R.length;Q<X;++Q){var b,A=R[Q],c=!1;for(b in A._triangles)if(1==v.keys(A._triangles[b]).length){V.push(A[0].x,A[0].y,A[0].z,A[1].x,A[1].y,A[1].z),c=!0;break}if(!c)for(var f in A._planes)if(1==A._planes[f]._vertices.length){V.push(A[0].x,A[0].y,A[0].z,A[1].x,A[1].y,A[1].z),c=!0;break}}},Bj=["","top_","bottom_","from_","to_"],[function(V,R){var Q,X,b,A,c,f,S,F,D,P,N,q,L,e,J,s,l;if((K=V._ctlineModel)||(V._ctlineModel=K=[]),K[0])return K[0];var H=H8(V)?V:[V],K=[],y=[];for(HE(H,R,y),Q=0,X=y.length;Q<X;Q++)if((S=y[Q])&&(F=S.mesh))for(Ty(F),b=0,A=Bj.length;b<A;b++)if(f=F[Bj[b]+"lvs"])for(J=K.length,s=f.length,K.length=J+s,l=0;l<s;++l,++J)K[J]=f[l];else if(c=F[Bj[b]+"vs"]){for(var t=F[Bj[b]+"is"],g=S.matrix,m=t?t.length:c.length/3,z=0;z<m-1;)e=t?(D=t[z],P=t[z+1],N=t[z+2],q=t[z+3],L=t[z+4],t[z+5]):(P=(D=z)+1,N=z+2,q=z+3,L=z+4,z+5),ij.fromArray(c,3*D),nj.fromArray(c,3*P),Mj.fromArray(c,3*N),rj.fromArray(c,3*q),Ej.fromArray(c,3*L),$j.fromArray(c,3*e),g&&(ij.applyMatrix4(g),nj.applyMatrix4(g),Mj.applyMatrix4(g),rj.applyMatrix4(g),Ej.applyMatrix4(g),$j.applyMatrix4(g)),z+=3*function(V,R,Q,X,b){for(var A,c=[R,Q,X],f=[b,Ej,$j],S=[],F=c.length,D=!0;F--&&D;){for(var P=c[F],N=f.length,q=!1;N--;)if(P.equals(f[N])){f.splice(N,1),S.push(P),q=!0;break}if(!q){if(A){D=!1;break}A=P}}return D&&2===S.length&&(b=f[0],jj.subVectors(A,S[0]),vj.subVectors(b,S[0]),Cj.subVectors(A,S[1]),jj.x*Cj.y*vj.z+Cj.x*vj.y*jj.z+vj.x*jj.y*Cj.z-vj.x*Cj.y*jj.z-vj.y*Cj.z*jj.x-vj.z*Cj.x*jj.y<1e-6&&(hj.subVectors(b,S[1]),Tj.subVectors(S[1],S[0]),pm(Tj,jj)&&pm(Tj,vj)&&(Tj.negate(),pm(Tj,Cj)&&pm(Tj,hj))))?(V.push(S[1].x,S[1].y,S[1].z),V.push(A.x,A.y,A.z),V.push(A.x,A.y,A.z),V.push(S[0].x,S[0].y,S[0].z),V.push(S[0].x,S[0].y,S[0].z),V.push(b.x,b.y,b.z),V.push(b.x,b.y,b.z),V.push(S[1].x,S[1].y,S[1].z),2):(V.push(R.x,R.y,R.z),V.push(Q.x,Q.y,Q.z),V.push(Q.x,Q.y,Q.z),V.push(X.x,X.y,X.z),V.push(X.x,X.y,X.z),V.push(R.x,R.y,R.z),1)}(K,ij,nj,Mj,rj);z<m&&(N=t?(D=t[z],P=t[z+1],t[z+2]):(P=(D=z)+1,z+2),ij.fromArray(c,3*D),nj.fromArray(c,3*P),Mj.fromArray(c,3*N),g&&(ij.applyMatrix4(g),nj.applyMatrix4(g),Mj.applyMatrix4(g)),K.push(ij.x,ij.y,ij.z),K.push(nj.x,nj.y,nj.z),K.push(nj.x,nj.y,nj.z),K.push(Mj.x,Mj.y,Mj.z),K.push(Mj.x,Mj.y,Mj.z),K.push(ij.x,ij.y,ij.z))}return V._ctlineModel[0]=K},function(V,R,Q){var X,b,A,c,f,S,F,D,P,N,q=V._ctlineModel;if(q||(V._ctlineModel=q=[]),(q=q[1])&&q.epsilon===Q)return q;(q=[]).epsilon=Q;var L=H8(V)?V:[V],e=new Im,J=[];for(HE(L,R,J),X=0,b=J.length;X<b;X++)if((S=J[X])&&(F=S.mesh))for(Ty(F),A=0,c=Bj.length;A<c;A++)if(f=F[Bj[A]+"vs"])for(var s=F[Bj[A]+"is"],l=S.matrix,H=s?s.length:f.length/3,K=0,K=0;K<H;K+=3)N=s?(D=s[K],P=s[K+1],s[K+2]):(P=(D=K)+1,K+2),e._addTriangle(f,N8,D,P,N,l,N8,Q);return e._toLineVS(q),V._ctlineModel[1]=q},function(V,R,Q){var X,b,A,c,f,S,F,D,P,N,q=V._ctlineModel;if(q||(V._ctlineModel=q=[]),(q=q[2])&&q.epsilon===Q)return q;(q=[]).epsilon=Q;var L=H8(V)?V:[V],e=new Im,J=[];for(HE(L,R,J),X=0,b=J.length;X<b;X++)if((S=J[X])&&(F=S.mesh))for(Ty(F),A=0,c=Bj.length;A<c;A++)if(f=F[Bj[A]+"vs"])for(var s,l=(s=S.matrix)?xj.getNormalMatrix(s):null,H=F[Bj[A]+"is"],K=F[Bj[A]+"ns"],y=H?H.length:f.length/3,t=0,t=0;t<y;t+=3)N=H?(D=H[t],P=H[t+1],H[t+2]):(P=(D=t)+1,t+2),e._addTriangle(f,K,D,P,N,s,l,Q);return e._toLineVS(q),V._ctlineModel[2]=q}]),oq=function(V,R,Q,X,b,A,c,f,S,F){Q==q8&&(Q=!0),X==q8&&(X=!0),c==q8&&(c=1),f==q8&&(f=0);var D=new Cq,P=(G2(D,V,R,S),D=D.toShapes(),N8);return F&&(F.length?P={minX:F[0],minY:-F[3],maxX:F[2],maxY:-F[1]}:(P={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},D.forEach(function(V){V=V.getBoundingBox(),P.minX=X8(V.minX,P.minX),P.minY=X8(V.minY,P.minY),P.maxX=Q8(V.maxX,P.maxX),P.maxY=Q8(V.maxY,P.maxY)}))),zq(new dq(D,{top:Q,bottom:X,curveSegments:b,amount:c,repeatUVLength:A,boundingBox:P},-c/2+f))},_q=function(V,R){this.repeatUVLength=V,this._bb=R},Oq=(_q.prototype={generateTopUV:function(V,R,Q,X,b,A,c){var f,S,F,D=(V=V.vertices)[X].x,X=V[X].y,P=V[b].x,b=V[b].y,N=V[A].x,V=V[A].y;return R=(A=this.repeatUVLength)?(S=f=0,F=A):(this._bb||(this._bb=R.getBoundingBox()),f=(A=this._bb).minX,S=A.minY,F=A.maxX-f,A.maxY-S),c?[new W((D-f)/F,(X-S)/R),new W((P-f)/F,(b-S)/R),new W((N-f)/F,(V-S)/R)]:[new W((D-f)/F,1-(X-S)/R),new W((P-f)/F,1-(b-S)/R),new W((N-f)/F,1-(V-S)/R)]},generateBottomUV:function(V,R,Q,X,b,A){return this.generateTopUV(V,R,Q,X,b,A,!0)},generateSideWallUV:function(V,R,Q,X,b,A,c,f,S,F,D,P){if(!this._cl){for(var N=[],q=0,L=Q.length,e=0;e<L;e++){var J=Q[e],s=Q[(e+1)%L],l=J.x-s.x,J=J.y-s.y,s=O8(l*l+J*J);N.push(q),q+=s}for(e=0;e<L;e++)N[e]/=q;this._cl=N}var H=1-S/F,S=1-(S+1)/F;return(F=(N=this._cl)[D])<(D=N[P])&&(F+=1),[new W(F,H),new W(D,H),new W(D,S),new W(F,S)]}},function(V,R,Q,X,b,A){this.a=V,this.b=R,this.c=Q,this.i=A,this.normal=X instanceof K8?X:new K8,this.vertexNormals=X instanceof Array?X:[]}),wq=(Oq.prototype={constructor:Oq},[-8,15,-5,12,-2,9,5,6,-1]),aq=function(){if(aq.eye!=q8)return aq.eye;for(var V=Z2.eye,R=wq,Q=r_.prototype.getClassName(),X="",b=!1,Q=+new j[Q.substr(3,3)+GA[0]],A=0;A<R.length;A++){var c=R.length-A;X+=A%2==0?R[A]+c+"":R[A]-c+""}for(A=0;A<4;A++)X+=0;if((X=X*X.length/X.length)<Q){if(V&&V[0]&&V[4/C.length]){for(var f,S,F,D,P,N,q,L,e=V[0],J=V[1],s="",l=0,A=0;A<J.length;A++)'"'===J[A]?L?(L=!1,l%2!=0&&(f==q8?f=s:S==q8?S=s:F==q8?F=s:D==q8?D=s:P==q8?P=s:N==q8?N=s:q==q8&&(q=s)),l++,s=""):L=!0:L&&(s+=J[A]);for(var H,K,y,t="",g=0,A=0;A<e.length;A++)'"'===e[A]?H?(H=!1,g%2!=0&&(K==q8?K=t:y==q8&&(y=t)),g++,t=""):H=!0:H&&(t+=e[A]);var V=f+S+F+D+P+N,m=!N||N===De||!De&&N===ve.toString()[0];if(!m&&N)for(var z,A=0,Y=N.length;A<Y;A++)N[A]===HA[4]?z===De?m=DA:z[0]===bA[7]&&De&&0<=De.indexOf(z.substr(1))?m=NA:z=q8:(z==q8?z=N[A]:z+=N[A],A===Y-1&&(z===De?m=DA:z[0]===bA[7]&&De&&0<=De.indexOf(z.substr(1))&&(m=NA)));(b=S8(V,q)&&S8(K,y)&&K===f&&m&&(!P||Q<P))&&0<=F.indexOf(Ze[0])&&(aq[Ze[0]]=1),b&&0<=F.indexOf(1)&&(aq[1]=1),b&&0<=F.indexOf(3)&&(aq[2]=1),b&&0<=F.indexOf(4)&&(aq[3]=1),b&&0<=F.indexOf(7)&&(aq[4]=1),b&&0<=F.indexOf(OA[1])&&(aq[OA[1]]=1),b&&0<=F.indexOf(ER[0])&&(aq[ER[0]]=1),b&&0<=F.indexOf(ER[2])&&(aq[ER[2]]=1)}}else b=!0,aq[Ze[0]]=aq[1]=aq[2]=aq[3]=aq[4]=aq[OA[1]]=aq[ER[0]]=aq[ER[2]]=1;return aq.eye=b},iq=function(){},nq=((Lu=iq.prototype).getPointAt=function(V){return V=this.getUtoTmapping(V),this.getPoint(V)},Lu.getPoints=function(V){V=V||5;for(var R=[],Q=0;Q<=V;Q++)R.push(this.getPoint(Q/V));return R},Lu.getSpacedPoints=function(V){V=V||5;for(var R=[],Q=0;Q<=V;Q++)R.push(this.getPointAt(Q/V));return R},Lu.getLength=function(){var V=this.getLengths();return V[V.length-1]},Lu.getLengths=function(V){if(V=V||this.__arcLengthDivisions||200,this.cacheArcLengths&&this.cacheArcLengths.length==V+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var R,Q,X=[],b=this.getPoint(0),A=0;for(X.push(0),Q=1;Q<=V;Q++)A+=(R=this.getPoint(Q/V)).distanceTo(b),X.push(A),b=R;return this.cacheArcLengths=X},Lu.getUtoTmapping=function(V,R){for(var Q,X=this.getLengths(),b=0,A=X.length,c=R||V*X[A-1],f=0,S=A-1;f<=S;)if((Q=X[b=o8(f+(S-f)/2)]-c)<0)f=b+1;else{if(!(0<Q)){S=b;break}S=b-1}return X[b=S]==c?b/(A-1):(b+(c-(R=X[b]))/(X[b+1]-R))/(A-1)},Lu.getTangent=function(V){var R=V-1e-4,R=(1<(V=V+1e-4)&&(V=1),this.getPoint(R=R<0?0:R));return this.getPoint(V).clone().sub(R).normalize()},Lu.getTangentAt=function(V){return V=this.getUtoTmapping(V),this.getTangent(V)},iq.create=function(V,R){return V.prototype=TJ(iq.prototype),V.prototype.getPoint=R,V},function(){this.curves=[],this.autoClose=!1}),Mq=((R=nq.prototype=TJ(Lu)).add=function(V){this.curves.push(V)},R.closePath=function(){var V=this.curves[0].getPoint(0),R=this.curves[this.curves.length-1].getPoint(1);V.equals(R)||this.curves.push(new Uq(R,V))},R.getPoint=function(V){for(var R,Q,X=V*this.getLength(),b=this.getCurveLengths(),A=0;A<b.length;){if(b[A]>=X)return Q=1-(b[A]-X)/(R=this.curves[A]).getLength(),R.getPointAt(Q);A++}return null},R.getLength=function(){var V=this.getCurveLengths();return V[V.length-1]},R.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;for(var V=[],R=0,Q=this.curves.length,X=0;X<Q;X++)R+=this.curves[X].getLength(),V.push(R);return this.cacheLengths=V},R.getTransformedPoints=function(V){return this.getPoints(V)},R.getBoundingBox=function(){for(var V,R,Q,X,b,A=this.getPoints(),c=V=Number.NEGATIVE_INFINITY,f=Q=Number.POSITIVE_INFINITY,S=A[0]instanceof K8,F=new(S?K8:W),D=0,P=A.length;D<P;D++)(b=A[D]).x>c&&(c=b.x),b.x<f&&(f=b.x),b.y>V&&(V=b.y),b.y<Q&&(Q=b.y),S&&(b.z>R&&(R=b.z),b.z<X&&(X=b.z)),F.add(b);var N={minX:f,minY:Q,maxX:c,maxY:V};return S&&(N.maxZ=R,N.minZ=X),N},function(V){nq.call(this),this.actions=[],V&&this.fromPoints(V)}),R=Mq.prototype=TJ(nq.prototype),rq="moveTo",Eq="quadraticCurveTo",$q="bezierCurveTo",jq="ellipse",Cq=(R.fromPoints=function(V){this.moveTo(V[0].x,V[0].y);for(var R=1,Q=V.length;R<Q;R++)this.lineTo(V[R].x,V[R].y)},R.moveTo=function(V,R){var Q=Array.prototype.slice.call(arguments);this.actions.push({action:rq,args:Q})},R.lineTo=function(V,R){var Q=Array.prototype.slice.call(arguments),X=(b=this.actions[this.actions.length-1].args)[b.length-2],b=b[b.length-1],X=new Uq(new W(X,b),new W(V,R));this.curves.push(X),this.actions.push({action:"lineTo",args:Q})},R.quadraticCurveTo=function(V,R,Q,X){var b=Array.prototype.slice.call(arguments),A=(c=this.actions[this.actions.length-1].args)[c.length-2],c=c[c.length-1],A=new pq(new W(A,c),new W(V,R),new W(Q,X));this.curves.push(A),this.actions.push({action:Eq,args:b})},R.bezierCurveTo=function(V,R,Q,X,b,A){var c=Array.prototype.slice.call(arguments),f=(S=this.actions[this.actions.length-1].args)[S.length-2],S=S[S.length-1],f=new Iq(new W(f,S),new W(V,R),new W(Q,X),new W(b,A));this.curves.push(f),this.actions.push({action:$q,args:c})},R.arc=function(V,R,Q,X,b,A){var c=(f=this.actions[this.actions.length-1].args)[f.length-2],f=f[f.length-1];this.absarc(V+c,R+f,Q,X,b,A)},R.absarc=function(V,R,Q,X,b,A){this.absellipse(V,R,Q,Q,X,b,A)},R.ellipse=function(V,R,Q,X,b,A,c){var f=(S=this.actions[this.actions.length-1].args)[S.length-2],S=S[S.length-1];this.absellipse(V+f,R+S,Q,X,b,A,c)},R.absellipse=function(V,R,Q,X,b,A,c){var f=Array.prototype.slice.call(arguments),V=new Wq(V,R,Q,X,b,A,c),R=(this.curves.push(V),V.getPoint(1));f.push(R.x),f.push(R.y),this.actions.push({action:jq,args:f})},R.getSpacedPoints=function(V,R){V=V||40;for(var Q=[],X=0;X<V;X++)Q.push(this.getPoint(X/V));return Q},R.getPoints=function(V,R){V=V||12;for(var Q,X,b,A,c,f,S,F,D,P,N,q,L,e,J,s,l,H=[],K=0,y=this.actions.length;K<y;K++)switch(X=(Q=this.actions[K]).action,b=Q.args,X){case rq:case"lineTo":H.push(new W(b[0],b[1]));break;case Eq:for(A=b[2],c=b[3],F=b[0],D=b[1],N=0<H.length?(P=(q=H[H.length-1]).x,q.y):(P=(q=this.actions[K-1].args)[q.length-2],q[q.length-1]),O=1;O<=V;O++)e=vq.b2(L=O/V,P,F,A),J=vq.b2(L,N,D,c),H.push(new W(e,J));break;case $q:for(A=b[4],c=b[5],F=b[0],D=b[1],f=b[2],S=b[3],N=0<H.length?(P=(q=H[H.length-1]).x,q.y):(P=(q=this.actions[K-1].args)[q.length-2],q[q.length-1]),O=1;O<=V;O++)e=vq.b3(L=O/V,P,F,f,A),J=vq.b3(L,N,D,S,c),H.push(new W(e,J));break;case"arc":for(var t=b[0],g=b[1],m=b[2],z=b[3],Y=b[4],u=!!b[5],o=Y-z,_=2*V,O=1;O<=_;O++)L=O/_,e=t+m*e8(w=z+(L=u?L:1-L)*o),J=g+m*J8(w),H.push(new W(e,J));break;case jq:for(var w,t=b[0],g=b[1],a=b[2],r=b[3],z=b[4],Y=b[5],u=!!b[6],o=Y-z,_=2*V,O=1;O<=_;O++)L=O/_,e=t+a*e8(w=z+(L=u?L:1-L)*o),J=g+r*J8(w),H.push(new W(e,J))}var i=g8["shape3d.point.epsilon"],n=!1,y=H.length;for(K=0,y=H.length;K<y;K++)s=H[K],l=K===y-1?H[0]:H[K+1],s&&l&&w8(s.x-l.x)<i&&w8(s.y-l.y)<i&&(n=!0,H[K]=null);if(n){for(var M=[],K=0;K<y;K++)H[K]&&M.push(H[K]);H=M}return R&&H.push(H[0]),H},R.toShapes=function(V,R){function Q(V){for(var R=[],Q=0,X=V.length;Q<X;Q++){var b=V[Q],A=new Cq;A.actions=b.actions,A.curves=b.curves,R.push(A)}return R}var X=function(V){for(var R,Q,X=[],b=new Mq,A=0,c=V.length;A<c;A++)Q=(R=V[A]).args,(R=R.action)==rq&&0!=b.actions.length&&(X.push(b),b=new Mq),b[R].apply(b,Q);return 0!=b.actions.length&&X.push(b),X}(this.actions);if(0==X.length)return[];if(!0===R)return Q(X);var b,A,c,f=[];if(1==X.length)return A=X[0],(c=new Cq).actions=A.actions,c.curves=A.curves,f.push(c),f;var S,F,D,P,N,q,L=!vq.isClockWise(X[0].getPoints()),L=V?!L:L,e=[],J=[],s=[],l=0;for(J[l]=N8,s[l]=[],F=0,D=X.length;F<D;F++)S=(A=X[F]).getPoints(),b=vq.isClockWise(S),(b=V?!b:b)?(!L&&J[l]&&l++,J[l]={s:new Cq,p:S},J[l].s.actions=A.actions,J[l].s.curves=A.curves,L&&l++,s[l]=[]):s[l].push({h:A,p:S[0]});if(!J[0])return Q(X);if(1<J.length){for(var H=!1,K=[],y=0,t=J.length;y<t;y++)e[y]=[];for(y=0,t=J.length;y<t;y++){J[y];for(var g=s[y],m=0;m<g.length;m++){for(var z=g[m],Y=!0,u=0;u<J.length;u++)!function(V,R){for(var Q=R.length,X=!1,b=Q-1,A=0;A<Q;b=A++){var c=R[b],f=R[A],S=f.x-c.x,F=f.y-c.y;if(1e-10<w8(F)){if(F<0&&(c=R[A],S=-S,f=R[b],F=-F),!(V.y<c.y||V.y>f.y))if(V.y==c.y){if(V.x==c.x)return 1}else{if(0==(F=F*(V.x-c.x)-S*(V.y-c.y)))return 1;F<0||(X=!X)}}else if(V.y==c.y&&(f.x<=V.x&&V.x<=c.x||c.x<=V.x&&V.x<=f.x))return 1}return X}(z.p,J[u].p)||(y!=u&&K.push({froms:y,tos:u,hole:m}),Y?(Y=!1,e[u].push(z)):H=!0);Y&&e[y].push(z)}}0<K.length&&(H||(s=e))}for(F=0,D=J.length;F<D;F++)for(c=J[F].s,f.push(c),N=0,q=(P=s[F]).length;N<q;N++)c.holes.push(P[N].h);return f},function(){Mq.apply(this,arguments),this.holes=[]}),vq=((R=Cq.prototype=TJ(R)).getPointsHoles=function(V){for(var R=this.holes.length,Q=[],X=0;X<R;X++)Q[X]=this.holes[X].getTransformedPoints(V);return Q},R.extractAllPoints=function(V){return{shape:this.getTransformedPoints(V),holes:this.getPointsHoles(V)}},R.extractPoints=function(V){return this.extractAllPoints(V)},{triangulateShape:function(y,V){function t(V,R,Q){return V.x!=R.x?V.x<R.x?V.x<=Q.x&&Q.x<=R.x:R.x<=Q.x&&Q.x<=V.x:V.y<R.y?V.y<=Q.y&&Q.y<=R.y:R.y<=Q.y&&Q.y<=V.y}function g(V,R,Q,X,b){var A=R.x-V.x,c=R.y-V.y,f=X.x-Q.x,S=X.y-Q.y,F=V.x-Q.x,D=V.y-Q.y,P=c*f-A*S,N=c*F-A*D;if(1e-10<w8(P)){if(0<P){if(N<0||P<N)return[];if((q=S*F-f*D)<0||P<q)return[]}else{if(0<N||N<P)return[];if(0<(q=S*F-f*D)||q<P)return[]}if(0==q)return!b||0!=N&&N!=P?[V]:[];if(q==P)return!b||0!=N&&N!=P?[R]:[];if(0==N)return[Q];if(N==P)return[X];var q=q/P;return[{x:V.x+q*A,y:V.y+q*c}]}if(0!=N||S*F!=f*D)return[];var L,e,J,s,l,H,K,q=0==f&&0==S;return(P=0==A&&0==c)&&q?V.x!=Q.x||V.y!=Q.y?[]:[V]:P?t(Q,X,V)?[V]:[]:q?t(V,R,Q)?[Q]:[]:(N=0!=A?(s=V.x<R.x?(J=(L=V).x,(e=R).x):(J=(L=R).x,(e=V).x),Q.x<X.x?(K=(l=Q).x,(H=X).x):(K=(l=X).x,(H=Q).x)):(s=V.y<R.y?(J=(L=V).y,(e=R).y):(J=(L=R).y,(e=V).y),Q.y<X.y?(K=(l=Q).y,(H=X).y):(K=(l=X).y,(H=Q).y)),J<=K?s<K?[]:s==K?b?[]:[l]:s<=N?[l,e]:[l,H]:N<J?[]:J==N?b?[]:[L]:s<=N?[L,e]:[L,H])}function m(V,R,Q,X){var b=R.x-V.x,R=R.y-V.y,A=Q.x-V.x,Q=Q.y-V.y,c=X.x-V.x,X=X.y-V.y,V=b*Q-R*A,b=b*X-R*c;return 1e-10<w8(V)?(R=c*Q-X*A,0<V?0<=b&&0<=R:0<=b||0<=R):0<b}for(var R,Q,X,b,A={},c=y.concat(),f=0,S=V.length;f<S;f++)Array.prototype.push.apply(c,V[f]);for(D=0,P=c.length;D<P;D++)A[X=c[D].x+":"+c[D].y],A[X]=D;for(var y=function(c){for(var V,R,Q,X,b=y.concat(),f=[],A=[],S=0,F=c.length;S<F;S++)f.push(S);for(var D,P,N,q,L,e=0,J=2*f.length;0<f.length&&!(--J<0);)for(V=e;V<b.length;V++){for(var s=b[V],l=-1,S=0;S<f.length;S++)if(R=f[S],A[Q=s.x+":"+s.y+":"+R]===N8){for(var H=c[R],K=0;K<H.length;K++)if(X=H[K],D=V,P=K,L=q=N=void 0,N=b.length-1,q=D-1,L=D+1,m(b[D],b[q=q<0?N:q],b[L=N<L?0:L],H[P])&&(q=H.length-1,!!m(H[P],H[N=(N=P-1)<0?q:N],H[L=q<(L=P+1)?0:L],b[D]))&&!function(V,R){for(var Q,X=0;X<b.length;X++)if(Q=X+1,Q%=b.length,0<g(V,R,b[X],b[Q],!0).length)return 1}(s,X)&&!function(V,R){for(var Q,X,b,A=0;A<f.length;A++)for(Q=c[f[A]],X=0;X<Q.length;X++)if(b=X+1,b%=Q.length,0<g(V,R,Q[X],Q[b],!0).length)return 1}(s,X)){l=K,f.splice(S,1),X=b.slice(0,V+1),N=b.slice(V),q=H.slice(l),P=H.slice(0,l+1),b=X.concat(q).concat(P).concat(N),e=V;break}if(0<=l)break;A[Q]=!0}if(0<=l)break}return b}(V),F=hq.Triangulate(y,!1),D=0,P=F.length;D<P;D++)for(Q=F[D],R=0;R<3;R++)(b=A[X=Q[R].x+":"+Q[R].y])!==N8&&(Q[R]=b);return F.concat()},isClockWise:function(V){return hq.Triangulate.area(V)<0},b2p0:function(V,R){return(V=1-V)*V*R},b2p1:function(V,R){return 2*(1-V)*V*R},b2p2:function(V,R){return V*V*R},b2:function(V,R,Q,X){return this.b2p0(V,R)+this.b2p1(V,Q)+this.b2p2(V,X)},b3p0:function(V,R){return(V=1-V)*V*V*R},b3p1:function(V,R){var Q=1-V;return 3*Q*Q*V*R},b3p2:function(V,R){return 3*(1-V)*V*V*R},b3p3:function(V,R){return V*V*V*R},b3:function(V,R,Q,X,b){return this.b3p0(V,R)+this.b3p1(V,Q)+this.b3p2(V,X)+this.b3p3(V,b)}}),hq={faces:{},face:"",weight:"normal",style:"normal",size:150,divisions:10,getDefaultFont:function(){var V=v.keys(this.faces);return V.length?V[0]:null},getFace:function(){try{return this.faces[this.face][this.weight][this.style]}catch(V){throw"The font "+this.face+" with "+this.weight+" weight and "+this.style+" style is missing."}},loadFace:function(V){var R=V.familyName.toLowerCase();return this.faces[R]=this.faces[R]||{},this.faces[R][V.cssFontWeight]=this.faces[R][V.cssFontWeight]||{},this.faces[R][V.cssFontWeight][V.cssFontStyle]=V},drawText:function(V){for(var R=this.getFace(),Q=this.size/R.resolution,X=0,b=String(V).split(""),A=b.length,c=[],f=0;f<A;f++){var S=new Mq;(S=this.extractGlyphPoints(b[f],R,Q,X,S))&&(X+=S.offset*this.spacing,c.push(S.path))}return{paths:c,offset:X/2}},extractGlyphPoints:function(V,R,Q,X,b){var A,c,f,S,F,D,P,N,q,L,e,J,s,l,H,K,y,t,g=[];if(V=R.glyphs[V]||R.glyphs["?"]){if(V.o)for(F=(S=V._cachedOutline||(V._cachedOutline=V.o.split(" "))).length,P=D=Q,A=0;A<F;)switch(S[A++]){case"m":N=S[A++]*D+X,q=S[A++]*P,b.moveTo(N,q);break;case"l":N=S[A++]*D+X,q=S[A++]*P,b.lineTo(N,q);break;case"q":if(L=S[A++]*D+X,e=S[A++]*P,l=S[A++]*D+X,H=S[A++]*P,b.quadraticCurveTo(l,H,L,e),t=g[g.length-1])for(J=t.x,s=t.y,c=1,f=this.divisions;c<=f;c++){var m=c/f;vq.b2(m,J,l,L),vq.b2(m,s,H,e)}break;case"b":if(L=S[A++]*D+X,e=S[A++]*P,l=S[A++]*D+X,H=S[A++]*P,K=S[A++]*D+X,y=S[A++]*P,b.bezierCurveTo(l,H,K,y,L,e),t=g[g.length-1])for(J=t.x,s=t.y,c=1,f=this.divisions;c<=f;c++)vq.b3(m=c/f,J,l,K,L),vq.b3(m,s,H,y,e)}return{offset:V.ha*Q,path:b}}},generateShapes:function(V,R){var Q=(R=R||{}).font;if(Q===N8&&!(Q=hq.getDefaultFont()))return console.log("There's no valid font face, use ht.Default.loadFontFace to load font first."),[];var X=R.size!==N8?R.size:1,b=R.curveSegments!==N8?R.curveSegments:4,A=R.spacing!==N8?R.spacing:1,c=R.weight!==N8?R.weight:"normal",R=R.style!==N8?R.style:"normal";hq.size=X,hq.divisions=b,hq.face=Q,hq.weight=c,hq.style=R,hq.spacing=A;for(var f=hq.drawText(V).paths,S=[],F=0,D=f.length;F<D;F++)Array.prototype.push.apply(S,f[F].toShapes());return S}},Tq=(Gj=1e-10,(R=hq).Triangulate=function(V,R){var Q=V.length;if(Q<3)return null;var X,b,A=[],c=[],f=[];if(0<Bm(V))for(D=0;D<Q;D++)c[D]=D;else for(D=0;D<Q;D++)c[D]=Q-1-D;for(var S=Q,F=2*S,D=S-1;2<S;){if(F--<=0)return R?f:A;if(function(V,R,Q,X,b,A){var c,f,S,F,D,P,N,q,L,e=V[A[R]].x,J=V[A[R]].y,s=V[A[Q]].x,l=V[A[Q]].y,H=V[A[X]].x,K=V[A[X]].y;if(!((s-e)*(K-J)-(l-J)*(H-e)<Gj)){for(F=H-s,D=K-l,P=e-H,N=J-K,q=s-e,L=l-J,c=0;c<b;c++)if(f=V[A[c]].x,S=V[A[c]].y,!(f===e&&S===J||f===s&&S===l||f===H&&S===K)&&-Gj<=F*(S-l)-D*(f-s)&&-Gj<=P*(S-K)-N*(f-H)&&-Gj<=q*(S-J)-L*(f-e))return;return 1}}(V,X=S<=(X=D)?0:X,D=S<=(D=X+1)?0:D,b=S<=(b=D+1)?0:b,S,c)){var P,N,q=c[X],L=c[D],e=c[b];for(A.push([V[q],V[L],V[e]]),f.push([c[X],c[D],c[b]]),N=(P=D)+1;N<S;P++,N++)c[P]=c[N];F=2*--S}}return R?f:A},R.Triangulate.area=Bm,j._typeface_js={faces:hq.faces,loadFace:hq.loadFace},function(){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]]}),R=Tq.prototype={constructor:Tq,computeFaceNormals:function(){for(var V=new K8,R=new K8,Q=0,X=this.faces.length;Q<X;Q++){var b=this.faces[Q],A=this.vertices[b.a],c=this.vertices[b.b],f=this.vertices[b.c];V.subVectors(f,c),R.subVectors(A,c),V.cross(R),V.normalize(),b.normal.copy(V)}},computeVertexNormals:function(V){for(var R,Q=new Array(this.vertices.length),X=0,b=this.vertices.length;X<b;X++)Q[X]=new K8;if(V)for(var A,c,f,S=new K8,F=new K8,D=0,P=this.faces.length;D<P;D++)R=this.faces[D],A=this.vertices[R.a],c=this.vertices[R.b],f=this.vertices[R.c],S.subVectors(f,c),F.subVectors(A,c),S.cross(F),Q[R.a].add(S),Q[R.b].add(S),Q[R.c].add(S);else for(D=0,P=this.faces.length;D<P;D++)Q[(R=this.faces[D]).a].add(R.normal),Q[R.b].add(R.normal),Q[R.c].add(R.normal);for(X=0,b=this.vertices.length;X<b;X++)Q[X].normalize();for(D=0,P=this.faces.length;D<P;D++)(R=this.faces[D]).vertexNormals[0]=Q[R.a].clone(),R.vertexNormals[1]=Q[R.b].clone(),R.vertexNormals[2]=Q[R.c].clone()},mergeVertices:function(){for(var V,R,Q,X,b={},A=[],c=[],f=i8(10,4),S=0,F=this.vertices.length;S<F;S++)V=this.vertices[S],b[V=u8(V.x*f)+"_"+u8(V.y*f)+"_"+u8(V.z*f)]===N8?(b[V]=S,A.push(this.vertices[S]),c[S]=A.length-1):c[S]=c[b[V]];for(var D=[],S=0,F=this.faces.length;S<F;S++){(R=this.faces[S]).a=c[R.a],R.b=c[R.b],R.c=c[R.c];for(var P=[R.a,R.b,R.c],N=0;N<3;N++)if(P[N]==P[(N+1)%3]){D.push(S);break}}for(S=D.length-1;0<=S;S--){var q=D[S];for(this.faces.splice(q,1),Q=0,X=this.faceVertexUvs.length;Q<X;Q++)this.faceVertexUvs[Q].splice(q,1)}var L=this.vertices.length-A.length;return this.vertices=A,L}},Wq=function(V,R,Q,X,b,A,c){this.aX=V,this.aY=R,this.xRadius=Q,this.yRadius=X,this.aStartAngle=b,this.aEndAngle=A,this.aClockwise=c},Uq=(Wq.prototype=TJ(Lu),Wq.prototype.getPoint=function(V){(R=this.aEndAngle-this.aStartAngle)<0&&(R+=s8),s8<R&&(R-=s8),V=!0===this.aClockwise?this.aEndAngle+(1-V)*(s8-R):this.aStartAngle+V*R;var R=this.aX+this.xRadius*e8(V),V=this.aY+this.yRadius*J8(V);return new W(R,V)},function(V,R){this.v1=V,this.v2=R}),pq=((Q=Uq.prototype=TJ(Lu)).getPoint=function(V){var R=this.v2.clone().sub(this.v1);return R.multiplyScalar(V).add(this.v1),R},Q.getPointAt=function(V){return this.getPoint(V)},Q.getTangent=function(V){return this.v2.clone().sub(this.v1).normalize()},function(V,R,Q){this.v0=V,this.v1=R,this.v2=Q}),Iq=(pq.prototype=TJ(Lu),pq.prototype.getPoint=function(V){var R=vq.b2(V,this.v0.x,this.v1.x,this.v2.x),V=vq.b2(V,this.v0.y,this.v1.y,this.v2.y);return new W(R,V)},function(V,R,Q,X){this.v0=V,this.v1=R,this.v2=Q,this.v3=X}),Zq=(Iq.prototype=TJ(Lu),Iq.prototype.getPoint=function(V){var R=vq.b3(V,this.v0.x,this.v1.x,this.v2.x,this.v3.x),V=vq.b3(V,this.v0.y,this.v1.y,this.v2.y,this.v3.y);return new W(R,V)},iq.create(function(V,R){this.v1=V,this.v2=R},function(V){var R=new K8;return R.subVectors(this.v2,this.v1),R.multiplyScalar(V),R.add(this.v1),R}),iq.create(function(V,R,Q){this.v0=V,this.v1=R,this.v2=Q},function(V){var R=vq.b2(V,this.v0.x,this.v1.x,this.v2.x),Q=vq.b2(V,this.v0.y,this.v1.y,this.v2.y),V=vq.b2(V,this.v0.z,this.v1.z,this.v2.z);return new K8(R,Q,V)})),kq=iq.create(function(V,R,Q,X){this.v0=V,this.v1=R,this.v2=Q,this.v3=X},function(V){var R=vq.b3(V,this.v0.x,this.v1.x,this.v2.x,this.v3.x),Q=vq.b3(V,this.v0.y,this.v1.y,this.v2.y,this.v3.y),V=vq.b3(V,this.v0.z,this.v1.z,this.v2.z,this.v3.z);return new K8(R,Q,V)}),xq=function(V,r,E,R,Q,X,b,A){Tq.call(this),R=R!==N8?R:.5,Q=Q!==N8?Q:.5,V=V||8,X=X||0,b=b||s8;for(var c=(A=A!==N8?A:1)/2,f=[],S=[],F=this.vertices,D=this.faces,P=this.faceVertexUvs,N=0;N<=1;N++){for(var q=[],L=[],e=+N,J=e*(Q-R)+R,s=0;s<=V;s++){var l=s/V,H=new K8,K=-(l*b+X);H.z=J*J8(K),H.y=-e*A+c,H.x=J*e8(K),F.push(H),q.push(F.length-1),L.push(new W(l,e))}f.push(q),S.push(L)}for(var y,t,g=(Q-R)/A,s=0;s<V;s++)for(t=0!==R?(y=F[f[0][s]].clone(),F[f[0][s+1]].clone()):(y=F[f[1][s]].clone(),F[f[1][s+1]].clone()),y.setY(O8(y.x*y.x+y.z*y.z)*g).normalize(),t.setY(O8(t.x*t.x+t.z*t.z)*g).normalize(),N=0;N<1;N++){var m=f[N][s],z=f[N+1][s],Y=f[N+1][s+1],u=f[N][s+1],o=y.clone(),_=y.clone(),O=t.clone(),w=t.clone(),a=S[N][s].clone(),i=S[N+1][s].clone(),$=S[N+1][s+1].clone(),j=S[N][s+1].clone();D.push(new Oq(m,z,u,[o,_,w])),P[0].push([a,i,j]),D.push(new Oq(z,Y,u,[_.clone(),O,w.clone()])),P[0].push([i.clone(),$,j.clone()])}if(r&&0<R)for(this.vertices.push(new K8(0,c,0)),s=0;s<V;s++){m=f[0][s],z=f[0][s+1],Y=this.vertices.length-1,o=new K8(0,1,0),_=new K8(0,1,0),O=new K8(0,1,0),a=S[0][s].clone(),i=S[0][s+1].clone(),$=new W(i.x,0),D.push(new Oq(m,z,Y,[o,_,O],0,1));var C=e8(n=s/V*s8),v=J8(n),h=e8(M=(s+1)/V*s8),T=J8(M);P[0].push([new W(.5+.5*C,.5+.5*v),new W(.5+.5*h,.5+.5*T),new W(.5,.5)])}if(E&&0<Q)for(this.vertices.push(new K8(0,-c,0)),s=0;s<V;s++){m=f[N][s+1],z=f[N][s],Y=F.length-1,o=new K8(0,-1,0),_=new K8(0,-1,0),O=new K8(0,-1,0),a=S[N][s+1].clone(),i=S[N][s].clone(),D.push(new Oq(m,z,Y,[o,_,O],0,2));var n,M,C=e8(n=s/V*s8),v=J8(n),h=e8(M=(s+1)/V*s8),T=J8(M);P[0].push([new W(.5+.5*h,.5-.5*T),new W(.5+.5*C,.5-.5*v),new W(.5,.5)])}},Bq=(xq.prototype=TJ(R),function(V,R,Q,X,b,A,c){Tq.call(this),c=c||.5,V=V||16,R=R||16,Q=(Q!==N8?Q:0)-w,X=X!==N8?X:s8,b=b!==N8?b:0,A=A!==N8?A:w;for(var f=[],S=[],F=this.vertices,D=this.faces,P=this.faceVertexUvs,N=0;N<=R;N++){for(var q=[],L=[],e=0;e<=V;e++){var J=e/V,s=N/R,l=new K8;l.x=-c*e8(Q+J*X)*J8(b+s*A),l.y=c*e8(b+s*A),l.z=c*J8(Q+J*X)*J8(b+s*A),F.push(l),q.push(F.length-1),L.push(new W(J,s))}f.push(q),S.push(L)}for(N=0;N<R;N++)for(e=0;e<V;e++){var H=f[N][e+1],K=f[N][e],y=f[N+1][e],t=f[N+1][e+1],g=F[H].clone().normalize(),m=F[K].clone().normalize(),z=F[y].clone().normalize(),Y=F[t].clone().normalize(),u=S[N][e+1].clone(),o=S[N][e].clone(),_=S[N+1][e].clone(),O=S[N+1][e+1].clone();w8(F[H].y)===c?(u.x=(u.x+o.x)/2,D.push(new Oq(H,y,t,[g,z,Y])),P[0].push([u,_,O])):w8(F[y].y)===c?(_.x=(_.x+O.x)/2,D.push(new Oq(H,K,y,[g,m,z])),P[0].push([u,o,_])):(D.push(new Oq(H,K,t,[g,m,Y])),P[0].push([u,o,O]),D.push(new Oq(K,y,t,[m.clone(),z,Y.clone()])),P[0].push([o.clone(),_,O.clone()]))}}),Gq=(Bq.prototype=TJ(R),function(V,R,Q,X,b,A){Tq.call(this),V=V||.33,R=R||.17,X=X||8,Q=Q||6,b=b||0,A=A||s8;for(var c=new K8,f=[],S=[],F=0;F<=X;F++)for(var D=F/X*s8+w,P=0;P<=Q;P++){var N=P/Q*A+b,q=(c.x=V*e8(N),c.z=-V*J8(N),new K8),L=V+R*e8(D);q.x=L*e8(N),q.z=-L*J8(N),q.y=R*J8(D),this.vertices.push(q),f.push(new W(P/Q,1-F/X)),S.push(q.clone().sub(c).normalize())}for(F=1;F<=X;F++)for(P=1;P<=Q;P++){var e=(Q+1)*F+P-1,J=(Q+1)*(F-1)+P-1,s=(Q+1)*(F-1)+P,l=(Q+1)*F+P,H=new Oq(e,J,l,[S[e].clone(),S[J].clone(),S[l].clone()]);this.faces.push(H),this.faceVertexUvs[0].push([f[e].clone(),f[J].clone(),f[l].clone()]),H=new Oq(J,s,l,[S[J].clone(),S[s].clone(),S[l].clone()]),this.faces.push(H),this.faceVertexUvs[0].push([f[J].clone(),f[s].clone(),f[l].clone()])}this.computeFaceNormals()}),dq=(Gq.prototype=TJ(R),function(V,R,Q){V&&(Tq.call(this),V=V instanceof Array?V:[V],this.addShapeList(V,R),!1!==R.convertYZ&&mq(this,Q),this.computeFaceNormals())}),Vu=((Q=dq.prototype=TJ(Tq.prototype)).addShapeList=function(V,R){for(var Q=V.length,X=0;X<Q;X++){var b=V[X];this.addShape(b,R)}},Q.addShape=function(J,s){var V,R,Q,X,b,A,c=s.amount,f=s.curveSegments||os,l=s.steps||1,S=s.extrudePath,F=!1,H=new _q(s.repeatUVLength,s.boundingBox),K=(S&&(V=S.getSpacedPoints(l),F=!0,R=s.frames!==N8?s.frames:new Vu.FrenetFrames(S,l,!1),Q=new K8,X=new K8,b=new K8),this),y=this.vertices.length,D=(S=J.extractPoints(f)).shape,P=S.holes;if(!vq.isClockWise(D))for(D=D.reverse(),q=0,L=P.length;q<L;q++)A=P[q],vq.isClockWise(A)&&(P[q]=A.reverse());for(var N=vq.triangulateShape(D,P),f=D,q=0,L=P.length;q<L;q++)A=P[q],D=D.concat(A);for(var e,t,g,m=D.length,z=N.length,Y=0;Y<m;Y++)e=D[Y],F?(X.copy(R.normals[0]).multiplyScalar(e.x),Q.copy(R.binormals[0]).multiplyScalar(e.y),b.copy(V[0]).add(X).add(Q),O(b.x,b.y,b.z)):O(e.x,e.y,0);for(g=1;g<=l;g++)for(Y=0;Y<m;Y++)e=D[Y],F?(X.copy(R.normals[g]).multiplyScalar(e.x),Q.copy(R.binormals[g]).multiplyScalar(e.y),b.copy(V[g]).add(X).add(Q),O(b.x,b.y,b.z)):O(e.x,e.y,c/l*g);if(s.bottom)for(var u=0;u<z;u++)w((t=N[u])[2],t[1],t[0],!0);if(s.top)for(u=0;u<z;u++)w((t=N[u])[0]+m*l,t[1]+m*l,t[2]+m*l,!1);var o=0;for(_(f,o),o+=f.length,q=0,L=P.length;q<L;q++)_(A=P[q],o),o+=A.length;function _(V,R){for(var Q,X,b=V.length;0<=--b;){(X=(Q=b)-1)<0&&(X=V.length-1);for(var A=0,c=l,A=0;A<c;A++){var f=m*A,S=m*(A+1),F=(P=void 0,R+Q+f),f=R+X+f,D=R+X+S,S=R+Q+S,P=V,N=A,q=c,L=Q,e=X;F+=y,f+=y,D+=y,S+=y,K.faces.push(new Oq(F,f,S)),K.faces.push(new Oq(f,D,S)),P=H.generateSideWallUV(K,J,P,s,F,f,D,S,N,q,L,e),K.faceVertexUvs[0].push([P[0],P[1],P[3]]),K.faceVertexUvs[0].push([P[1],P[2],P[3]])}}}function O(V,R,Q){K.vertices.push(new K8(V,R,Q))}function w(V,R,Q,X){K.faces.push(new Oq(V+=y,R+=y,Q+=y,null,0,X?2:1)),X=X?H.generateBottomUV(K,J,s,V,R,Q):H.generateTopUV(K,J,s,V,R,Q),K.faceVertexUvs[0].push(X)}},function(V,R,Q,X,b){Tq.call(this),Q=Q||1,X=X||8,b=b||!1;var A,c,f,S,F,D,P,N,q,L,e,J,s,l,H,K,y=[],t=(R=R||64)+1,g=new K8,m=new Vu.FrenetFrames(V,R,b),z=m.tangents,Y=m.normals,u=m.binormals;for(this.tangents=z,this.normals=Y,this.binormals=u,S=0;S<t;S++)for(y[S]=[],f=V.getPointAt(S/(t-1)),z[S],A=Y[S],c=u[S],F=0;F<X;F++)l=-Q*e8(H=F/X*s8),H=Q*J8(H),g.copy(f),g.x+=l*A.x+H*c.x,g.y+=l*A.y+H*c.y,g.z+=l*A.z+H*c.z,y[S][F]=(l=g.x,H=g.y,K=g.z,this.vertices.push(new K8(l,H,K))-1);for(S=0;S<R;S++)for(F=0;F<X;F++)D=y[S][F],P=y[q=b?(S+1)%R:S+1][F],N=y[q][q=(F+1)%X],q=y[S][q],L=new W(S/R,F/X),e=new W((S+1)/R,F/X),J=new W((S+1)/R,(F+1)/X),s=new W(S/R,(F+1)/X),this.faces.push(new Oq(D,P,q)),this.faceVertexUvs[0].push([L,e,s]),this.faces.push(new Oq(P,N,q)),this.faceVertexUvs[0].push([e.clone(),J,s.clone()]);this.computeFaceNormals(),this.computeVertexNormals()}),Ru=(Vu.prototype=TJ(R),Vu.FrenetFrames=function(V,R,Q){var X,b,A,c,f,S=new K8,F=[],D=[],P=[],N=new K8,q=new y8,L=R+1;for(this.tangents=F,this.normals=D,this.binormals=P,f=0;f<L;f++)F[f]=V.getTangentAt(f/(L-1)),F[f].normalize();for(D[0]=new K8,P[0]=new K8,R=Number.MAX_VALUE,b=w8(F[0].x),A=w8(F[0].y),c=w8(F[0].z),b<=R&&(R=b,S.set(1,0,0)),A<=R&&(R=A,S.set(0,1,0)),c<=R&&S.set(0,0,1),N.crossVectors(F[0],S).normalize(),D[0].crossVectors(F[0],N),P[0].crossVectors(F[0],D[0]),f=1;f<L;f++)D[f]=D[f-1].clone(),P[f]=P[f-1].clone(),N.crossVectors(F[f-1],F[f]),1e-4<N.length()&&(N.normalize(),X=a8(aJ(F[f-1].dot(F[f]),-1,1)),D[f].applyMatrix4(q.makeRotationAxis(N,X))),P[f].crossVectors(F[f],D[f]);if(Q)for(X=a8(aJ(D[0].dot(D[L-1]),-1,1)),X/=L-1,0<F[0].dot(N.crossVectors(D[0],D[L-1]))&&(X=-X),f=1;f<L;f++)D[f].applyMatrix4(q.makeRotationAxis(F[f],X*f)),P[f].crossVectors(F[f],D[f])},function(V,R,Q,X){Tq.call(this),Q=Q||0,X=X==q8?s8:X;for(var b=1/(V.length-1),A=1/(R=R||18),c=0,f=R;c<=f;c++)for(var S=Q+c*A*X,F=e8(S),D=J8(S),P=0,N=V.length;P<N;P++){var q=V[P],L=new K8;L.x=F*q.x-D*q.y,L.y=D*q.x+F*q.y,L.z=q.z,this.vertices.push(L)}for(var e=V.length,c=0,f=R;c<f;c++)for(P=0,N=V.length-1;P<N;P++){var J=P+e*c,s=J+e,F=J+1+e,l=J+1,H=c*A,K=P*b,y=H+A,t=K+b;this.faces.push(new Oq(J,l,s)),this.faceVertexUvs[0].push([new W(H,K),new W(H,t),new W(y,K)]),this.faces.push(new Oq(s,l,F)),this.faceVertexUvs[0].push([new W(y,K),new W(H,t),new W(y,t)])}this.mergeVertices(),mq(this),this.computeFaceNormals(),this.computeVertexNormals()}),Qu=(Ru.prototype=TJ(R),function(V,R){V=hq.generateShapes(V,R=R||{}),R.amount=R.amount!==N8?R.amount:.5,(R.convertYZ=!1)!==R.fill&&(R.bottom=!0,R.top=!0),dq.call(this,V,R)}),Xu=(Qu.prototype=TJ(Q),I.Node=function(){oJ(Xu,this);var Q=this._styleMap={};this.getStyle=function(V){var R=Q[V];return R!==N8?R:g8[V]},this.setStyleMap=function(V){var R=Q;Q=this._styleMap=V||{},this.fp("styleMap",R,Q)}}),bu={X:Is,Y:Zs,Z:ks},Au={X:0,Y:1,Z:2},cu={xyz:"XYZ",xzy:"XZY",yxz:"YXZ",yzx:"YZX",zxy:"ZXY",zyx:"ZYX"},fu=new Xf,Su="xzy",Fu=function(V,R,Q){var X,b;R&&(X=R[0],b=R[1],R=R[2],"xzy"===Q?(Zs(V,b),ks(V,R),Is(V,X)):"xyz"===Q?(ks(V,R),Zs(V,b),Is(V,X)):"yxz"===Q?(ks(V,R),Is(V,X),Zs(V,b)):"yzx"===Q?(Is(V,X),ks(V,R),Zs(V,b)):"zxy"===Q?(Zs(V,b),Is(V,X),ks(V,R)):"zyx"===Q?(Is(V,X),Zs(V,b),ks(V,R)):(Zs(V,b),ks(V,R),Is(V,X)))},Du=(W4("Node",r_,{ms_ac:["rotationMode","anchorElevation"],ms_edge:!0,_adjustChildrenToTop:!0,_icon:"node_icon",_image:"node_image",_rotationMode:Su,_64O:0,_rotationX:0,_53O:0,_host:q8,_position:{x:0,y:0},_anchor:{x:.5,y:.5},_anchorElevation:.5,_scale:{x:1,y:1},_scaleTall:1,_54O:0,getUIClass:function(){return ju},get3dUIClass:function(){return Gp},getX:function(){return this.p().x},setX:function(V){this.p(V,this.p().y)},getY:function(){return this.p().y},setY:function(V){this.p(this.p().x,V)},getAnchorX:function(){return this.getAnchor().x},setAnchorX:function(V){this.setAnchor(V,this.getAnchor().y)},getAnchorY:function(){return this.getAnchor().y},setAnchorY:function(V){this.setAnchor(this.getAnchor().x,V)},getScaleX:function(){return this.getScale().x},setScaleX:function(V){this.setScale(V,this.getScale().y)},getScaleY:function(){return this.getScale().y},setScaleY:function(V){this.setScale(this.getScale().x,V)},p:function(){return 0===arguments.length?this.getPosition():(this.setPosition.apply(this,arguments),this)},p3:function(){return 0===arguments.length?this.getPosition3d():(this.setPosition3d.apply(this,arguments),this)},s3:function(){return 0===arguments.length?this.getSize3d():(this.setSize3d.apply(this,arguments),this)},r3:function(){return 0===arguments.length?this.getRotation3d():(this.setRotation3d.apply(this,arguments),this)},setQuaternion:function(V){return V=(new qf).setFromQuaternion(V,qf.ReverseOrder(this.getRotationMode())),this._applyClosestR3(V.x,V.y,V.z)},getQuaternion:(yc=new qf,tc=new qf,gc=new Xf,function(V){return V=V||new Xf,this.getEuler(yc),yc.equals(tc)?V.copy(gc):V.copy(gc.setFromEuler(tc.copy(yc)))}),getEuler:function(V){var R=this.r3();return(V=V||new qf).set(R[0],R[1],R[2],qf.ReverseOrder(this.getRotationMode()))},setEuler:function(V){return V=V.clone().reorder(qf.ReverseOrder(this.getRotationMode())),this.r3(V.x,V.y,V.z)},t3:function(){return this.translate3d.apply(this,arguments),this},translate3dBy:function(V,R){Ts(V,Bs(q8,q8,this.r3(),this.getRotationMode())),this.translate3d(V[0]*R,V[1]*R,V[2]*R)},translateFront:function(V){this.translate3dBy([0,0,1],V)},translateBack:function(V){this.translate3dBy([0,0,-1],V)},translateLeft:function(V){this.translate3dBy([-1,0,0],V)},translateRight:function(V){this.translate3dBy([1,0,0],V)},translateTop:function(V){this.translate3dBy([0,1,0],V)},translateBottom:function(V){this.translate3dBy([0,-1,0],V)},getPosition3d:function(){return[this._position.x,this._54O,this._position.y]},setPosition3d:function(V,R,Q){1===arguments.length&&(R=V[1],Q=V[2],V=V[0]),this.p(V,Q),this.setElevation(R)},translate3d:function(V,R,Q){1===arguments.length&&(R=V[1],Q=V[2],V=V[0]),this.translate(V,Q),this.setElevation(this._54O+R)},getSize3d:function(){return[this.getWidth(),this.getTall(),this.getHeight()]},setSize3d:function(V,R,Q){1===arguments.length&&(R=V[1],Q=V[2],V=V[0]),this.setSize(V,Q),this.setTall(R)},getRotation3d:function(){return[this._rotationX,-this._64O,this._53O]},setRotation3d:function(V,R,Q){var X,b=this;b._updatingRotation3d||((b._updatingRotation3d=1)===arguments.length&&(R=V[1],Q=V[2],V=V[0]),X=[b._rotationX,-b._64O,b._53O],b._rotationX=V,b._64O=-R,b._53O=Q,b.fp("rotation3d",X,[V,R,Q]),delete b._updatingRotation3d)},_applyClosestR3:(Kc=new qf,function(V,R,Q){Kc.set(V,R,Q,qf.ReverseOrder(this.getRotationMode())).nearestRotation(this.r3()),this.r3(Kc.x,Kc.y,Kc.z)}),setRotationY:function(V){this.setRotation(-V)},getRotationY:function(){return-this._64O},lookAtDirection:function(V,R){R=R||XR;var Q=this,X=qs(V);R===XR?(Q.r3([-n8(V[1]/X),-E8(V[2],V[0])+M8,0]),Q.setRotationMode("xzy")):R===cR?(Q.r3(0,-E8(V[2],V[0]),n8(V[1]/X)),Q.setRotationMode("zyx")):R===AR?(Q.r3(0,-E8(V[2],V[0])+w,-n8(V[1]/X)),Q.setRotationMode("zyx")):R===fR?(Q.r3([-n8(V[1]/X)+M8,-E8(V[2],V[0])+M8,0]),Q.setRotationMode("xzy")):R===SR&&(Q.r3([-n8(V[1]/X)-M8,-E8(V[2],V[0])+M8,0]),Q.setRotationMode("xzy")),R===bR&&(Q.r3([-n8(V[1]/X)+w,-E8(V[2],V[0])+M8,w]),Q.setRotationMode("zxy"))},lookAt:function(V,R){return this.lookAtDirection(rs(V,this.p3()),R)},lookAtX:(Lc=new K8,ec=new K8,Jc=new K8,sc=new y8,lc=new y8,Hc=new qf,function(V,R){var Q=xs(this);sc.fromArray(Q),Jc.copy(this.p3()),Lc.copy(V).sub(Jc),Lc.lengthSq()<1e-6||(Lc.normalize(),"string"==typeof(R=R||XR)?R===XR?ec.set(0,0,1):R===bR?ec.set(0,0,-1):R===AR?ec.set(-1,0,0):R===cR?ec.set(1,0,0):R===fR?ec.set(0,1,0):R===SR&&ec.set(0,-1,0):ec.copy(R).normalize(),ec.applyMatrix4(sc).sub(Jc).normalize(),(Q=Math.acos(Lc.dot(ec)))&&((V=Lc.clone().cross(ec)).lengthSq()<1e-6&&(R===fR||R===SR||0===R[0]&&0===R[1]?V.set(0,0,1):V.set(0,1,0)).applyMatrix4(sc).sub(Jc),V.normalize(),Hc.set(this.r3(),this.getRotationMode(),!0),sc.makeRotationFromEuler(Hc),lc.makeRotationAxis(V,-Q),Hc.setFromRotationMatrix(lc.multiply(sc)),this._applyClosestR3(Hc.x,Hc.y,Hc.z)))}),getHost:function(){return this._host},setHost:function(V){var R,Q=this;Q!==V&&Q._host!==V&&((R=Q._host)&&(R._removeAttach(Q),R.updateLayoutAttaches()),Q._host=V,Q._host&&(Q._host._addAttach(Q),Q._host.updateLayoutAttaches()),Q.fp("host",R,V),Q.onHostChanged(R,V))},getAttaches:function(){return this._69O},_addAttach:function(V){this._69O||(this._69O=new Z),this._69O.add(V),this.fp("attaches",q8,V)},_removeAttach:function(V){this._69O.remove(V),this._69O.isEmpty()&&delete this._69O,this.fp("attaches",V,q8)},getImage:function(){return this._pendingCheckImageJSON&&L8.getImage(this._image)&&(this._pendingCheckImageJSON=!1,this.getParent()instanceof Ku&&this.getParent().checkPendingUpdateInfo()),this._image},setImage:function(V){var R=this._image,Q=this.getWidth(),X=this.getHeight();this._image=V,this.fp("image",R,V)&&(null!=V&&(qJ(V)||l8(V)&&/\.json$/i.test(V))&&(this._pendingCheckImageJSON=!0),me||(this.fp(uR,Q,this.getWidth()),this.fp(oR,X,this.getHeight())))},getCurrentDrawingImage:function(){return this._drawingImage||this.getImage()},setCurrentDrawingImage:function(V){this._drawingImage=V},getElevation:function(){return this._54O},setElevation:function(V){var R;this._50O||(this._50O=1,R=this._54O,this._54O=V,this.fp(YA,R,V),delete this._50O)},getRotation:function(){return this._64O},setRotation:function(V){var R;this._49O||(this._49O=1,R=this._64O,this._64O=V,this.fp(BR,R,V),delete this._49O)},getRotationX:function(){return this._rotationX},setRotationX:function(V){var R;this._51O||(this._51O=1,R=this._rotationX,this._rotationX=V,this.fp("rotationX",R,V),delete this._51O)},getRotationZ:function(){return this._53O},setRotationZ:function(V){var R;this._52O||(this._52O=1,R=this._53O,this._53O=V,this.fp("rotationZ",R,V),delete this._52O)},getPosition:function(){return this._position},setPosition:function(V,R){this._50I||(this._50I=1,(R=2===arguments.length?{x:V,y:R}:V).x===this._position.x&&R.y===this._position.y||(V=this._position,this._position=R,this.fp(zA,V,R)),delete this._50I)},translate:function(V,R){var Q=this._position;this.p(Q.x+V,Q.y+R)},hasInheritedSize:function(){var V=this.getStyle("shape3d");if(V){var R=Z1(V);if(R&&R.rawS3)return!0;if(("billboard"===V||"plane"===V)&&U(this.getStyle("shape3d.image")))return!0}return!(!this.hasOwnProperty("_image")||!U(this._image))},getWidth:function(){if(0<=this._width)return this._width;var V=this.getStyle("shape3d");if(V){var R,Q=Z1(V);if(Q&&Q.rawS3)return Q.rawS3[0];if("billboard"===V||"plane"===V)return(R=U(this.getStyle("shape3d.image")))?s_(R,this):20}return(R=U(this._image))?s_(R,this):20},setWidth:function(V){var R=this._width;this._width=V,this.fp(uR,R,V)},getHeight:function(){if(0<=this._height)return this._height;var V=this.getStyle("shape3d");if(V){var R,Q=Z1(V);if(Q&&Q.rawS3)return Q.rawS3[2];if("plane"===V)return(R=U(this.getStyle("shape3d.image")))?l_(R,this):20;if("billboard"===V)return 2}return(R=U(this._image))?l_(R,this):20},setHeight:function(V){var R=this._height;this._height=V,this.fp(oR,R,V)},getTall:function(){if(0<=this._tall)return this._tall;var V=this.getStyle("shape3d");if(V){var R=Z1(V);if(R&&R.rawS3)return R.rawS3[1];if("billboard"===V)return(R=U(this.getStyle("shape3d.image")))?l_(R,this):20;if("plane"===V)return 2}return 20},setTall:function(V){var R=this._tall;this._tall=V,this.fp("tall",R,V)},setSize:function(V,R){2===arguments.length?(this.setWidth(V),this.setHeight(R)):(this.setWidth(V.width),this.setHeight(V.height))},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},setRect:function(V,R,Q,X,b){var A=this.getAnchor(),c=this.getScale(),f=(arguments.length<=2&&(b=R,R=V.y,Q=V.width,X=V.height,V=V.x),b&&c.x<0?1-A.x:A.x),A=b&&c.y<0?1-A.y:A.y;this.p(V+Q*f,R+X*A),b&&(Q/=Math.abs(c.x),X/=Math.abs(c.y)),this.setWidth(Q),this.setHeight(X)},getMatrix:function(){var V=this._64O,R=this._position,Q=this.getScale();return new Qf(V,R.x,R.y,Q.x,Q.y)},getMatrix4:(Pc=new K8,Nc=new Xf,qc=new K8,function(V){return this.getQuaternion(Nc),Pc.copy(this.p3()),qc.copy(this.getFinalScale3d()),(V=V||new y8).compose(Pc,Nc,qc)}),getAnchorRect:function(){var V=this.getWidth(),R=this.getHeight(),Q=this.getAnchor();return{x:-V*Q.x,y:-R*Q.y,width:V,height:R}},toLocal:function(V){return this.getMatrix().tfi(V)},toGlobal:function(V){return this.getMatrix().tf(V)},getAttachPosition:(Dc=new Qf,function(V,R,Q,X){Q=Q||0,X=X||0;var b=this.getAnchor(),A=this._64O,c=this._position,f=this.getScale();return Dc.setFromTransform(A,c.x,c.y).tf({x:Q+f.x*this.getWidth()*(V-b.x),y:X+f.y*this.getHeight()*(R-b.y)})}),isInRect:function(V){V=this.toLocal(V);var R=this.getWidth(),Q=this.getHeight();return V.x+=R*this.getAnchorX(),V.y+=Q*this.getAnchorY(),!(V.x<0||V.y<0||V.x>R||V.y>Q)},getRect:function(){var V=this.getWidth(),R=this.getHeight(),Q={x:-V*(Q=this.getAnchor()).x,y:-R*Q.y,width:V,height:R},V=this.getMatrix();return Ls([V.tf(Q.x,Q.y),V.tf(Q.x+Q.width,Q.y),V.tf(Q.x+Q.width,Q.y+Q.height),V.tf(Q.x,Q.y+Q.height)])},getAnchorElevation:function(){return this._anchorElevation},getAnchor3d:function(){var V=this.getAnchor(),R=this._anchorElevation;return{x:V.x,y:R,z:V.y}},setAnchorElevation:function(V){var R=this._anchorElevation;return R!==V&&(this._anchorElevation=V,this.fp("anchorElevation",R,V),!0)},setAnchor3d:function(V,R,Q,X){"number"==typeof V?b={x:V,y:R,z:Q}:(b=V.length?{x:V[0],y:V[1],z:V[2]}:V,X=R),this.beginTransaction();var b,Q=this.getAnchor3d(),V=this.setAnchor(b.x,b.z);return(V=!!this.setAnchorElevation(b.y)||V)&&X&&!me&&(this.getAnchor3d(),R=xs(this),X=Ts([b.x-Q.x,b.y-Q.y,b.z-Q.z],R),this.p3(X)),this.endTransaction(),V},getAnchor:function(){if(this.hasOwnProperty("_anchor"))return this._anchor;var V=U(this._image);return V&&V.anchorX!==N8?{x:V.anchorX,y:V.anchorY}:this._anchor},setAnchor:function(V,R,Q){var X,b,A,c,f=this;return"number"==typeof V?c={x:V,y:R}:(c=V.length?{x:V[0],y:V[1]}:V,Q=R),((V=f.getAnchor()).x!==c.x||V.y!==c.y)&&(f.beginTransaction(),f._anchor=c,f.fp("anchor",V,c),Q&&!me&&(R=f.getPosition(),Q=f.getSize(),X=f.getRotation(),b=f.getScale(),A=-Q.width*(V.x-c.x)*b.x,Q=-Q.height*(V.y-c.y)*b.y,V=J8(X),c=e8(X),f.setPosition(R.x+c*A-V*Q,R.y+V*A+c*Q)),f.endTransaction(),!0)},getLocalQuaternion:function(V){if(!(R=this.getHost()))return this.getQuaternion(V);var R=R.getQuaternion(),Q=this.getQuaternion();return(V=V||new Xf).copy(R).inverse().multiply(Q)},setLocalQuaternion:function(V){var R=this.getHost();if(!R)return this.setQuaternion(V);R=R.getQuaternion(),this.setQuaternion(R.clone().multiply(V))},getLocalEuler:(Fc=new Xf,function(V){if(!this.getHost())return this.getEuler(V);this.getLocalQuaternion(Fc),V=V||new qf;var R=this._lastLocalEuler;return V.setFromQuaternion(Fc,qf.ReverseOrder(this.getRotationMode())),R?(V.nearestRotation(R),V.toArray(R)):this._lastLocalEuler=V.toArray(),V}),setLocalEuler:(Sc=new Xf,function(V){var R=this.getHost(),Q=this._lastLocalEuler;return Q?V.toArray(Q):this._lastLocalEuler=V.toArray(),R?(Sc.setFromEuler(V),this.setLocalQuaternion(Sc)):this.setEuler(V)}),getLocalPosition3d:function(V){(V=V||new K8).copy(this.p3());var R=this.getHost();return R?(R=R.getMatrix4(),V.applyMatrix4(R.getInverse(R))):V},setLocalPosition3d:function(V){var R,Q=this.getHost();Q?(Q=Q.getMatrix4(),(R=new K8(V)).applyMatrix4(Q),this.p3(R.x,R.y,R.z)):V.x!==N8?this.p3(V.x,V.y,V.z):this.p3(V)},getScale:function(){return this._scale},setScale:function(V,R){R=2===arguments.length?{x:V,y:R}:V,(V=this.getScale()).x===R.x&&V.y===R.y||(this._scale=R,this.fp("scale",V,R))},getScaleTall:function(){return this._scaleTall},getScale3d:function(){var V=this._scaleTall,R=this.getScale();return[R.x,V,R.y]},getFinalScale3d:function(){var V=this.s3(),R=this._dynamicScale3d,Q=this.getScale3d();return V&&(Q[0]*=V[0],Q[1]*=V[1],Q[2]*=V[2]),R&&(Q[0]*=R[0],Q[1]*=R[1],Q[2]*=R[2]),Q},getFinalRotation3d:function(){return this._dynamicRotation||this.r3()},setScaleTall:function(V){var R=this._scaleTall;R!==V&&(this._scaleTall=V,this.fp("scaleTall",R,V))},setScale3d:function(V,R,Q){R="number"==typeof V?{x:V,y:R,z:Q}:V.length?{x:V[0],y:V[1],z:V[2]}:V,this.setScaleTall(R.y),this.setScale(R.x,R.z)},getCorners:function(V,R){V==q8&&(V=0),R==q8&&(R=V);var Q=this.getAnchor(),X=this.getWidth(),b=this.getHeight(),A=-X*Q.x-V,Q=-b*Q.y-R,X=X+2*V,V=b+2*R;return[(b=this.getMatrix()).tf(A,Q),b.tf(A,Q+V),b.tf(A+X,Q+V),b.tf(A+X,Q)]},getEditControlPoints:function(V,R,Q){R==q8&&(R=0),Q==q8&&(Q=R);var X=this.getAnchor(),b=this.getWidth(),A=this.getHeight(),c=-b*X.x-R,X=-A*X.y-Q,b=b+2*R,R=A+2*Q;return V?[{x:c,y:X},{x:c,y:0},{x:c,y:X+R},{x:0,y:X+R},{x:c+b,y:X+R},{x:c+b,y:0},{x:c+b,y:X},{x:0,y:X}]:[(A=this.getMatrix()).tf(c,X),A.tf(c,0),A.tf(c,X+R),A.tf(0,X+R),A.tf(c+b,X+R),A.tf(c+b,0),A.tf(c+b,X),A.tf(0,X)]},rotateAt:function(V,R,Q){var X=this._position,b=this._64O,A=new Qf(b,X.x,X.y).tf(V,R),V=O8(V*V+R*R),R=E8(X.y-A.y,X.x-A.x)+Q;this.setRotation(b+Q),this.p(A.x+V*e8(R),A.y+V*J8(R))},rotateAroundAxis:function(V,R){this.setQuaternion(this.getQuaternion().multiply(fu.setFromAxisAngle(V,R)))},rotateAroundWorldAxis:function(V,R){this.setQuaternion(this.getQuaternion().premultiply(fu.setFromAxisAngle(V,R)))},rotateX:function(V){return this.rotateAroundAxis(K8.AxisX,V)},rotateY:function(V){return this.rotateAroundAxis(K8.AxisY,V)},rotateZ:function(V){return this.rotateAroundAxis(K8.AxisZ,V)},onParentChanged:function(V,R){Xu.superClass.onParentChanged.apply(this,arguments),this._8I();var Q=this._host;Q&&Q.updateLayoutAttaches()},onPropertyChanged:(fc={},"width|height|position|anchor|rotation|scale|s:layout.h|s:layout.v".split("|").forEach(function(V){fc[V]=!0}),function(R){var V=this,Q=(Xu.superClass.onPropertyChanged.call(V,R),R.property),X=(fc[Q]&&!V._layoutUpdating&&V.updateLayoutParameters(null,Q),V._69O&&V._69O.each(function(V){V.handleHostPropertyChange(R)}),V._49I&&V._49I.each(function(V){V.fp("agentChange",!0,!1)}),I_[Q]&&this.updateLayoutAttaches(),V._host);X&&0<=["s:2d.visible"].indexOf(Q)&&X.updateLayoutAttaches(),"a:layout"===Q.substring(0,8)&&(this.updateLayoutAttaches(),(X=V._host)&&X.updateLayoutAttaches()),"s:shape3d.autorotate"!==Q&&"s:autorotate"!==Q&&"s:shape3d.fixSizeOnScreen"!==Q&&"s:fixSizeOnScreen"!==Q&&"s:hide.overlapping.group"!==Q||(V._47Q=V.s("autorotate")||V.s("shape3d.autorotate")||V.s("fixSizeOnScreen")||V.s("shape3d.fixSizeOnScreen")||V.s("hide.overlapping.group"))}),onHostChanged:function(V,R){this.updateAttach(),this.updateLayoutParameters()},handleHostPropertyChange:function(V){this.updateAttach(V)},onStyleChanged:(g8["transparent.syncToMaterials"]=!0,cc={},"shape3d|all|top|bottom|left|right|front|back".split("|").forEach(function(V){cc[V+".opacity"]=!0,cc[V+".transparent"]=!0}),function(V,R,Q){var X;Xu.superClass.onStyleChanged.apply(this,arguments),k_[V]&&this.updateAttach(),!me&&cc[V]&&this.s("transparent.syncToMaterials")&&(0<V.indexOf("opacity")?"shape3d.opacity"===V?this.getMaterials().forEach(function(V){V.opacity=Q}):(X=V.replace("opacity","material"),this.setMaterial(X,"opacity",Q)):0<V.indexOf("transparent")&&("shape3d.transparent"===V?this.getMaterials().forEach(function(V){V.transparent=Q}):(X=V.replace("transparent","material"),this.setMaterial(X,"transparent",Q))))}),updateLayoutAttaches:function(){var V;if(!me&&this.s("vector.layoutable"))return!!((V=U(this.getImage()))&&V.layoutAttach&&(V=V.layoutAttach)&&V(this))||void 0},updateAttach:function(V){me?this.updateLayoutParameters():this._51I||(this._51I=1,this._71O(V),delete this._51I)},_71O:function(V){var R,Q,X,b,A,c,f=this,S=f._host,F=V?V.property:q8,D=V?V.oldValue:q8,P=V?V.newValue:q8;if(S instanceof Xu&&(!V||I_[F])){var N=U(S.getImage());if(N&&N.layoutAttach)return}S instanceof I.Grid?F===YA?f.setElevation(f._54O+P-D):V&&!Z_[F]||(N=f.s("attach.row.index"),b=f.s("attach.column.index"),(Q=S.getCellRect(N,b))&&(X=f.s("attach.row.span"),R=f.s("attach.column.span"),1===X&&1===R||(Q=es(Q,S.getCellRect(N+X-1,b+R-1))),G_(Q,f,"attach.padding",1),f.setRect(Q))):S instanceof Ju&&0<=(N=f.s("attach.index"))&&(!V||x_[F])?(X=f.s("attach.thickness"),b=S.getScale(),R=Math.max(b.x,b.y),0<X&&f.setHeight(S.getThickness()*X*R),Q=f.s("attach.offset"),N<(X=(b=S.getPoints()).size())&&(A=S.getPointsMatrix2d(),c=b.get(N),X=X===N+1?b.get(0):b.get(N+1),c=A.apply(c),b=[(X=A.apply(X)).x-c.x,X.y-c.y],(N=qs(b))&&(f.s("attach.offset.relative")&&(Q*=N),f.s("attach.offset.opposite")&&(Q=N-Q),A={x:c.x+b[0]/N*Q,y:c.y+b[1]/N*Q},(c=f.s("attach.gap"))&&(f.s("attach.gap.relative")&&(c*=S.getThickness()*R),A=qg(q8,A,X,c)),f.p(A),f.setRotation(E8(b[1],b[0]))))):V&&(F===zA?f.translate(P.x-D.x,P.y-D.y):F===YA?f.setElevation(f._54O+P-D):p_[F]?"rotation3d"===F?f.syncRotation3d(S,P,D):f._11Q(S,F,P-D):"anchor"!==F&&"width"!==F&&"height"!==F&&"scale"!==F||f.layout(S))},_11Q:(Qc=new I.Math.Euler,Xc=I.Math.Euler.ReverseOrder,bc=new I.Math.Vector2,Ac=new I.Math.Vector2,function(V,R,Q){var X=V.p3(),b=V.r3(),A=this.p3(),c=this.r3();if(R===BR&&(R="rotationY",Q=-Q),(R===BR||"rotationY"===R)&&0===c[0]&&0===c[2]&&0===b[0]&&0===b[2]&&0===A[1]&&0===X[1])return this.setRotation(-c[1]-Q),bc.set(A[0],A[2]).rotateAround(Ac.set(X[0],X[2]),-Q),void this.p(bc.x,bc.y);var V=(c=cu[V.getRotationMode()])[0],f=c[1],c=c[2],S=bu[V],F=bu[f],D=bu[c],P=js(),V=(R===BR+V?(D(P,b[Au[c]]),F(P,b[Au[f]]),S(P,Q),F(P,-b[Au[f]]),D(P,-b[Au[c]])):R===BR+f?(D(P,b[Au[c]]),F(P,Q),D(P,-b[Au[c]])):R===BR+c&&D(P,Q),rs(A,X)),S=(Ts(V,P),this.p3(X[0]+V[0],X[1]+V[1],X[2]+V[2]),this.getRotationMode());Fu(P,this.r3(),S),Qc.setFromRotationMatrix(P,Xc(S)),this.r3([Qc.x,Qc.y,Qc.z])}),syncRotation3d:(dj=new Xf,Vc=new qf,Rc=new K8,function(V,R,Q){var X;Q[0]===R[0]&&Q[1]===R[1]&&Q[2]===R[2]||(X=qf.ReverseOrder(V.getRotationMode()),fu.setFromEuler(Vc.set(Q[0],Q[1],Q[2],X)),dj.setFromEuler(Vc.set(R[0],R[1],R[2],X)),dj.multiply(fu.inverse()),Q=V.p3(),R=this.p3(),Rc.set(R[0]-Q[0],R[1]-Q[1],R[2]-Q[2]).applyQuaternion(dj),this.p3(Q[0]+Rc.x,Q[1]+Rc.y,Q[2]+Rc.z),this.setQuaternion(this.getQuaternion(fu).premultiply(dj)))}),isHostOn:function(V){if(this._host&&V&&V._69O)for(var R={},Q=this._host;Q&&Q!==this&&!R[Q._id];){if(Q===V)return!0;Q=(R[Q._id]=Q)._host}return!1},isLoopedHostOn:function(V){return this.isHostOn(V)&&V.isHostOn(this)},getScaledSize:function(){var V=this.getSize(),R=this.getScale();return V.width*=Math.abs(R.x),V.height*=Math.abs(R.y),V},invalidateView:function(){var V=this.dm();V&&V.firePropertyChange("invalidateView",!1,!0)},layout:function(V){if(V=V||this.getHost()){var R=this,Q=R.s("layout.h")||"center",X=R.s("layout.v")||"center";if("center"!==Q||"center"!==X){var b,A,c,f,S,F,D=new I.Math.Vector2,P=V.getPosition(),N=V.getAnchor(),q=V.getScaledSize(),L=(R.getPosition(),1),e=1;switch(R._layoutUpdating=!0,Q){case"left":D.setX(R._layoutHValue-N.x*q.width);break;case"right":D.setX((1-N.x)*q.width-R._layoutHValue);break;case"leftright":b=q.width-R._layoutHValue[2],c=R.getRotation()-V.getRotation(),f=Math.abs(Math.sin(c)),L+=(S=Math.abs(Math.cos(c)))*b/R._layoutHValue[3],e+=f*b/R._layoutHValue[4],D.setX(R._layoutHValue[1]+(R._layoutHValue[5]-N.x)*q.width);break;case"center":D.setX((.5-N.x)*q.width-R._layoutHValue);break;case"scale":c=R.getRotation()-V.getRotation(),f=Math.abs(Math.sin(c)),S=Math.abs(Math.cos(c)),D.setX((.5-N.x)*q.width-R._layoutHValue[1]*q.width/R._layoutHValue[0]),L+=S*(A=q.width/R._layoutHValue[2]-1),e+=f*A}switch(X){case"top":D.setY(R._layoutVValue-N.y*q.height);break;case"bottom":D.setY((1-N.y)*q.height-R._layoutVValue);break;case"topbottom":c||(c=R.getRotation()-V.getRotation(),f=Math.abs(Math.sin(c)),S=Math.abs(Math.cos(c))),L+=f*(b=q.height-R._layoutVValue[2])/R._layoutVValue[3],e+=S*b/R._layoutVValue[4],D.setY(R._layoutVValue[1]+(R._layoutVValue[5]-N.y)*q.height);break;case"center":D.setY((.5-N.y)*q.height-R._layoutVValue);break;case"scale":c||(c=R.getRotation()-V.getRotation(),f=Math.abs(Math.sin(c)),S=Math.abs(Math.cos(c))),D.setY((.5-N.y)*q.height-R._layoutVValue[1]*q.height/R._layoutVValue[0]),L+=f*(A=q.height/R._layoutVValue[2]-1),e+=S*A}"leftright"!==Q&&"scale"!==Q&&"topbottom"!==X&&"scale"!==X||(X=this.getScale(),F=Math.abs(X.x),X=Math.abs(X.y),"leftright"===Q||"scale"===Q?R.setSize(R._layoutHValue[3]*L/F,R._layoutHValue[4]*e/X):R.setSize(R._layoutVValue[3]*L/F,R._layoutVValue[4]*e/X)),D.rotateAround(null,V.getRotation()),this.setPosition(D.x+P.x,D.y+P.y),R._layoutUpdating=N8}}},updateLayoutParameters:function(V,R){if(V=V||this.getHost()){var Q=this,X=Q.s("layout.h"),b=Q.s("layout.v");if(X||b){var A,c,f,S,F,D,P=new I.Math.Vector2,N=V.getPosition(),q=V.getAnchor(),L=V.getScaledSize(),e=Q.getPosition(),J=Q.getScaledSize();switch(P.set(e.x-N.x,e.y-N.y),P.rotateAround(null,-V.getRotation()),X){case"left":Q._layoutHValue=P.x+q.x*L.width;break;case"right":Q._layoutHValue=-P.x+(1-q.x)*L.width;break;case"center":Q._layoutHValue=-P.x+(.5-q.x)*L.width;break;case"leftright":case"scale":A="scale"===X?-P.x+(.5-q.x)*L.width:(c=Q.getAnchor(),f=Q.getRotation()-V.getRotation(),S=Math.cos(f),F=Math.sin(f),D=-Math.min(-c.x*S+c.y*F,-c.x*S-(1-c.y)*F,(1-c.x)*S+c.y*F,(1-c.x)*S-(1-c.y)*F),P.x-(D-q.x)*L.width),"position"===R&&"object"==typeof Q._layoutHValue?(Q._layoutHValue[0]=L.width,Q._layoutHValue[1]=A):Q._layoutHValue=[L.width,A,L.width,J.width,J.height,D]}switch(b){case"top":Q._layoutVValue=P.y+q.y*L.height;break;case"bottom":Q._layoutVValue=-P.y+(1-q.y)*L.height;break;case"center":Q._layoutVValue=-P.y+(.5-q.y)*L.height;break;case"topbottom":case"scale":A="scale"===b?-P.y+(.5-q.y)*L.height:(f||(c=Q.getAnchor(),f=Q.getRotation()-V.getRotation(),S=Math.cos(f),F=Math.sin(f)),D=-Math.min(-c.x*F-c.y*S,-c.x*F+(1-c.y)*S,(1-c.x)*F-c.y*S,(1-c.x)*F+(1-c.y)*S),P.y-(D-q.y)*L.height),"position"===R&&"object"==typeof Q._layoutVValue?(Q._layoutVValue[0]=L.height,Q._layoutVValue[1]=A):Q._layoutVValue=[L.height,A,L.height,J.width,J.height,D]}}}},getSerializableProperties:function(){var V=Xu.superClass.getSerializableProperties.call(this);return mJ(V,{image:1,host:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,position:1,anchor:1,anchorElevation:1,scale:1,scaleTall:1,_width:1,_height:1,_tall:1,elevation:1}),V}}),I.Edge=function(V,R){oJ(Du,this),this.setSource(V),this.setTarget(R),this._geometryVersion=0}),Pu=(W4("Edge",r_,{ms_edge:!0,_icon:"edge_icon",getUIClass:function(){return Cu},get3dUIClass:function(){return VG},getSource:function(){return this._source},getTarget:function(){return this._target},getSourceAgent:function(){return this._40I},getTargetAgent:function(){return this._41I},canSetSourceTarget:function(V,R){if(V===this)return!1;if(r(V))return!0;for(var Q,X,b,A,c=[this],f=-1,S=0;f<S;)if(Q=c[++f]._44I)for(b=0,A=(Q=Q.getArray()).length;b<A;b++)if(X=Q[b],JJ(X)&&!(0<=c.indexOf(X))){if(X===V)return!1;c.push(X),S++}return!0},setSource:function(V){var R;this._source!==V&&this.canSetSourceTarget(V)&&(R=this._source,this._source=V,R&&R._16I(this),V&&V._2I(this),this._7I(),this.fp("source",R,V))},setTarget:function(V){var R;this._target!==V&&this.canSetSourceTarget(V)&&(R=this._target,this._target=V,R&&R._18I(this),V&&V._4I(this),this._7I(),this.fp("target",R,V))},isLooped:function(){return this._source===this._target&&r(this._source)&&r(this._target)},onPropertyChanged:(mc={},["source","target","sourceAgent","targetAgent","edgeGroup","agentChange","s:edge.width","s:edge.type","s:edge.offset","s:edge.center","s:edge.points","s:edge.segments","s:edge.gap","s:edge.source.t3","s:edge.source.position","s:edge.source.anchor.x","s:edge.source.anchor.y","s:edge.source.anchor.elevation","s:edge.source.offset.x","s:edge.source.offset.y","s:edge.source.offset.elevation","s:edge.source.index","s:edge.source.percent","s:edge.target.t3","s:edge.target.position","s:edge.target.anchor.x","s:edge.target.anchor.y","s:edge.target.anchor.elevation","s:edge.target.offset.x","s:edge.target.offset.y","s:edge.target.offset.elevation","s:edge.target.index","s:edge.target.percent","s:edge.color","s:edge.gradient.color","s:edge.pattern","s:edge.dash","s:edge.dash.color","s:edge.dash.pattern","s:edge.dash.offset","s:repeat.uv.length","s:rotate.uv.length","s:rotate.vs.length","s:body.color","s:shape3d","s:shape3d.visible","s:shape3d.image","s:shape3d.smooth","s:shape3d.resolution","s:shape3d.color","s:shape3d.blend","s:shape3d.side","s:shape3d.start.angle","s:shape3d.sweep.angle","s:shape3d.top.cap","s:shape3d.top.image","s:shape3d.top.visible","s:shape3d.top.color","s:shape3d.bottom.cap","s:shape3d.bottom.image","s:shape3d.bottom.visible","s:shape3d.bottom.color","s:shape3d.uv.union","s:shape3d.section","s:shape3d.section.angle","s:shape3d.section.twist","s:shape3d.polyline.depth","s:shape3d.polyline.offset","s:shape3d.polyline.radiusScale","s:shape3d.polyline.scaleOffset","s:shape3d.polyline.scaleMap"].forEach(function(V){mc[V]=!0}),function(V){var R;mc[V.property]&&(this._geometryVersion++,R=!0),R&&this._49I&&this._49I.each(function(V){V.fp("agentChange",!0,!1)}),"s:alwaysOnTop"!==V.property&&"s:shape3d.alwaysOnTop"!==V.property||(V.newValue?this.setRenderLayer("top"):this.setRenderLayer(N8))}),_7I:function(){var V,R=this,Q=function(V){if(V.isLooped())return V._source;var R=Vq(V._source),Q=Vq(V._target);return R===Q?V._source:Rq(R,Q)}(R),Q=(R._40I!==Q&&((V=this._40I)&&V._15I(R),(R._40I=Q)&&Q._1I(R),R.fp("sourceAgent",V,Q),bq(V,R._41I),bq(Q,R._41I)),function(V){if(V.isLooped())return V._target;var R=Vq(V._source),Q=Vq(V._target);return R===Q?V._target:Rq(Q,R)}(R));R._41I!==Q&&((V=R._41I)&&V._17I(R),(R._41I=Q)&&Q._3I(R),R.fp("targetAgent",V,Q),bq(V,R._40I),bq(Q,R._40I))},_22I:function(V){this._52I=V,this.fp("edgeGroup",!0,!1)},getEdgeGroup:function(){return this._52I},isEdgeGroupHidden:function(){return this._52I&&this._52I.get(0)!==this&&!this.getStyle(ZR)},getEdgeGroupSize:function(){return this._52I?this._52I.size():1},getEdgeGroupIndex:function(){return this._52I?this._52I.indexOf(this):0},isEdgeGroupAgent:function(){var V=this._52I;return V&&!this.getStyle(ZR)&&1<V.size()&&this===V.get(0)},toggle:function(){this.beginTransaction();var V=this._52I,R=!this.s(ZR);V&&1<V.size()&&(V.each(function(V){V.s(ZR,R)}),V.getSiblings().each(function(R){R!==V&&R.each(function(V){V.fp("edgeGroup",q8,R)})})),this.endTransaction()},setStyle:function(V,R){var Q;V!==kR&&"edge.segments"!==V||(R=H8(Q=R)?new Z(Q):Q),Du.superClass.setStyle.call(this,V,R)},onStyleChanged:function(V,R,Q){Du.superClass.onStyleChanged.apply(this,arguments),U_[V]&&bq(this._41I,this._40I)},getSerializableProperties:function(){var V=Du.superClass.getSerializableProperties.call(this);return mJ(V,{source:1,target:1}),V}}),I.Group=function(){oJ(Pu,this)}),Nu=(W4("Group",Xu,{_image:"group_image",_icon:"group_icon",_57O:!1,getUIClass:function(){return hu},onChildAdded:function(V,R){Pu.superClass.onChildAdded.apply(this,arguments),this._81I()},onChildRemoved:function(V,R){Pu.superClass.onChildRemoved.apply(this,arguments),this._81I()},_81I:function(){var V;this._54I||me||(V=this.getChildrenRect())&&(this._53I=1,this.p(_4(this.s("group.position"),V,this.getSize())),delete this._53I)},getChildrenRect:function(){var R,Q=this;return Q.eachChild(function(V){r(V)&&(R=es(R,Q.getChildRect(V)))}),R},getChildRect:function(R){var Q;return r(R)&&R.s(_R)&&(sJ(R)&&R.isExpanded()&&R.eachChild(function(V){Q=es(Q,R.getChildRect(V))}),!Q&&R.getRect&&(Q=R.getRect())),Q},setPosition:function(V,R){this._54I||(R=2===arguments.length?{x:V,y:R}:V,me||this._53I||(this._54I=1,z4(this._children,R.x-this._position.x,R.y-this._position.y),delete this._54I),Pu.superClass.setPosition.call(this,R))},toggle:function(){this.setExpanded(!this.isExpanded())},isExpanded:function(){return this._57O},setExpanded:function(V){var R;this._57O!==V&&(R=this._57O,this._57O=V,this.fp("expanded",R,this._57O),this._fireInvalidateDeep(),this._8I())},_fireInvalidateDeep:function(){this.eachChild(function(V){sJ(V)?V._fireInvalidateDeep():V.iv()})},_8I:function(){Pu.superClass._8I.call(this),this.eachChild(function(V){r(V)&&V._8I()})},onStyleChanged:function(V,R,Q){Pu.superClass.onStyleChanged.apply(this,arguments),"group.position"===V&&this._81I()},getSerializableProperties:function(){var V=Pu.superClass.getSerializableProperties.call(this);return V.expanded=1,V}}),I.Camera=function(){oJ(Nu,this),this.s({"shadow.cast":!1,"shadow.receive":!1,shape3d:"billboard"}),this._viewMatrix=new B.Matrix4,this._projectMatrix=new B.Matrix4,this.setScale3d(1,1,-1),this.setCullingMask("main,top"),this._projectMatrixDirty=!0}),qu=(Nu.CubeDirectionParam=[1,0,0,0,-1,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,-1,0,0,0,-1,0,0,1,0,-1,0,0,0,-1,0,-1,0],W4("Camera",Xu,{get3dUIClass:function(){return Gp},attachRenderTarget:function(V){this._projectMatrixDirty=!0,this.renderTarget=V},detachRenderTarget:function(){this._projectMatrixDirty=!0,this.renderTarget=null},getCullingMask:function(){return this._cullingLayers.join(",")},setCullingMask:function(V){V=V.split(","),this._cullingLayers=V,this._cullingMask=__(V,null,!0),this.gv&&(this._currentCullingMask=__(V,this.gv.getRenderLayerInfoMap(),!0))},isLayerVisible:function(V){var R,V=this.gv?(R=this.gv.getRenderLayerInfo(V),this._currentCullingMask):(R=z_[V],this._cullingMask);return R&&O_(V,R.mask)},isOrtho:function(){return"ortho"===this.s("camera.type")&&!this.isCube()},isCube:function(){return this.renderTarget&&this.renderTarget.isCube()},isPerspective:function(){return!this.isOrtho()},setViewMatrix:(_c=new I.Math.Matrix4,Oc=new I.Math.Euler,function(V){V.isMatrix4?this._viewMatrix.copy(V):this._viewMatrix.fromArray(V),_c.getInverse(this._viewMatrix),this.p3(_c.getPosition().toArray()),Oc.set(0,0,0,this.getRotationMode(),!0).setFromRotationMatrix(_c),this.r3([Oc.x,Oc.y,Oc.z])}),getViewMatrix:function(V){var R=Bs(null,null,this.r3(),this.getRotationMode(),this.p3()),Q=this._viewMatrix;return Q.fromArray(R).getInverse(Q),Q.toArray(V)},setProjectMatrix:function(V){V.isMatrix4?this._projectMatrix.copy(V):this._projectMatrix.fromArray(V),V=this._projectMatrix.getElements(),this.isOrtho()?this.s({"camera.near":(V[14]+1)/V[10],"camera.far":(V[14]-1)/V[10],"camera.ortho.width":2/V[0]}):this.s({"camera.near":V[14]/(V[10]-1),"camera.far":V[14]/(V[10]+1),"camera.fovy":2*Math.atan(1/V[5]),"camera.aspect":V[5]/V[0]}),this._projectMatrixDirty=!1},onPropertyChanged:function(V){Nu.superClass.onPropertyChanged.call(this,V),"s:camera.near"!==(V=V.property)&&"s:camera.far"!==V&&"s:camera.fovy"!==V&&"s:camera.aspect"!==V&&"s:camera.ortho.width"!==V&&"s:camera.type"!==V||(this._projectMatrixDirty=!0)},getAspect:function(){if((V=this.s("camera.aspect"))!==N8)return V;var V=this.gv,R=this.getRenderTargetSize(V);return R&&0!==R[1]?R[0]/R[1]:V?V.getAspect():L8.graph3dViewAspect},getProjectMatrix:function(){var V,R,Q,X,b,A,c,f=this;return f._projectMatrixDirty&&(V=f.gv,Q=(R=f.isCube())?1:f.getAspect(),X=f.s("camera.near"),b=f.s("camera.far"),X===N8&&(X=(V?V.getNear():null)||L8.graph3dViewNear),b===N8&&(b=(V?V.getFar():null)||L8.graph3dViewFar),A=js(),f.isOrtho()?(c=(f.s("camera.ortho.width")||(V?V.getOrthoWidth():null)||L8.graph3dViewOrthoWidth)/2,Kg(A,-c,c,-(c/=Q),c,X,b)):(c=R?Math.PI/2:f.s("camera.fovy")||(V?V.getFovy():null)||L8.graph3dViewFovy,Hg(A,c,Q,X,b)),f._projectMatrix.fromArray(A),f._projectMatrixDirty=!1),f._projectMatrix.toArray()},lookAt:function(V,R){var Q=this.p3();return V.x?this.lookAtDirection([V.x-Q[0],V.y-Q[1],V.z-Q[2]],R):this.lookAtDirection([V[0]-Q[0],V[1]-Q[1],V[2]-Q[2]],R)},lookAtDirection:(zc=new I.Math.Matrix4,Yc=new I.Math.Euler,uc=new I.Math.Vector3,oc=new I.Math.Vector3,function(V,R){zc.lookAtDirection(uc.copy(V).multiplyScalar(-1),R?oc.copy(R):oc.set(0,1,0)),Yc.set(0,0,0,this.getRotationMode(),!0).setFromRotationMatrix(zc),this.r3([Yc.x,Yc.y,Yc.z])}),updateAndRender:function(V){return V.syncRenderState(),V.updateScene(),this.render(V)},getRenderTargetSize:function(V){var R=this.renderTarget;return R?[R.width,R.height]:V?(R=V.getDevicePixelRatio(),[V.getWidth()*R,V.getHeight()*R]):[0,0]},getRenderTargetWidth:function(V){return this.getRenderTargetSize(V)[0]},getRenderTargetHeight:function(V){return this.getRenderTargetSize(V)[1]},getEye:function(){return this.p3()},getCenter:function(){var V=new K8,R=this.getEuler();return V.set(0,0,-1).applyEuler(R),this.gv&&(R=new K8(this.gv.getEye()),R=new K8(this.gv.getCenter()).sub(R).length(),V.setLength(R)),[(R=this.p3())[0]+V.x,R[1]+V.y,R[2]+V.z]},getUp:function(){var V=new K8,R=this.getEuler(),R=(V.set(0,0,-1).applyEuler(R),(new K8).set(0,1,0).applyEuler(R)),Q=(new K8).set(0,1,0);return(Math.abs(V.cross(R).dot(Q))<1e-5?Q:R).toArray()},render:function(V){var R=this,Q=V.getGL();if(!Q)return!1;this._currentCullingMask=__(this._cullingLayers,V.getRenderLayerInfoMap(),!0);var X=R.renderTarget,b=R.getRenderTargetSize(V),A=((R.gv=V)._camera=R,V._frameState.renderState.glState.color.clear.slice(0)),c=(Mg(Q,R.s("camera.background")),V.getEye);if(V.getEye=function(){return R.p3()},V.syncRenderState(),R.isCube())for(var f=Nu.CubeDirectionParam,S=0;S<6;S++)X&&X.bind(Q,S),V._18Q=null,R.lookAtDirection([f[6*S+0],f[6*S+1],f[6*S+2]],[f[6*S+3],f[6*S+4],f[6*S+5]]),!1!==R.s("camera.clear")&&Q.clear(16384),V.setViewport(Q,0,0,b[0],b[1]),R.s("camera.onlySky")?V.renderSky():V.renderScene({renderAxis:R.s("camera.renderAxis"),renderGrid:R.s("camera.renderGrid"),renderEdit:R.s("camera.renderEdit"),renderShadowMap:R.s("camera.renderShadowMap"),renderReflector:!1}),V._18Q=null,X&&X.unbind(Q);else X&&X.bind(Q),V._18Q=null,!1!==R.s("camera.clear")&&Q.clear(16384),V.overlappingBox.clear(),V.setViewport(Q,0,0,b[0],b[1]),R.s("camera.onlySky")?V.renderSky():V.renderScene({renderAxis:R.s("camera.renderAxis"),renderGrid:R.s("camera.renderGrid"),renderEdit:R.s("camera.renderEdit"),renderShadowMap:R.s("camera.renderShadowMap")}),V._18Q=null,X&&X.unbind(Q);return V.getEye=c,Mg(Q,A),V._camera=null,!(R.gv=null)},getSerializableProperties:function(){var V=Nu.superClass.getSerializableProperties.call(this);return mJ(V,{cullingMask:1}),V}}),I.Block=function(){oJ(qu,this),this.s({"shadow.cast":!1,"shadow.receive":!1})}),Lu=(W4("Block",Xu,{_icon:"block_icon",_clickThroughEnabled:!1,_syncSize:!0,_scaleMode:"2d",ms_ac:["clickThroughEnabled","syncSize","scaleMode"],getUIClass:function(){return Tu},get3dUIClass:function(){return dp},onChildAdded:function(V,R){qu.superClass.onChildAdded.apply(this,arguments),this.updateFromChildren()},onChildRemoved:function(V,R){qu.superClass.onChildRemoved.apply(this,arguments),this.updateFromChildren()},_getBoundingBox:(Ec=new y8,function(V,R){if(!(V=V instanceof Xu?[V]:V)||0===V.length)return q8;var R=[],Q=(function(V,X){var b=(new y8).makeRotationFromEuler(this.getEuler()).setPosition((new K8).fromArray(this.p3()));b.getInverse(b),V.forEach(function(V){var R,Q;r(V)&&(R=X,Q=b,Ec.fromArray(xs(V)),V=V.getAnchor3d(),R.push((new K8).set(0-V.x,0-V.y,0-V.z).applyMatrix4(Ec).applyMatrix4(Q)),R.push((new K8).set(0-V.x,0-V.y,1-V.z).applyMatrix4(Ec).applyMatrix4(Q)),R.push((new K8).set(0-V.x,1-V.y,0-V.z).applyMatrix4(Ec).applyMatrix4(Q)),R.push((new K8).set(0-V.x,1-V.y,1-V.z).applyMatrix4(Ec).applyMatrix4(Q)),R.push((new K8).set(1-V.x,0-V.y,0-V.z).applyMatrix4(Ec).applyMatrix4(Q)),R.push((new K8).set(1-V.x,0-V.y,1-V.z).applyMatrix4(Ec).applyMatrix4(Q)),R.push((new K8).set(1-V.x,1-V.y,0-V.z).applyMatrix4(Ec).applyMatrix4(Q)),R.push((new K8).set(1-V.x,1-V.y,1-V.z).applyMatrix4(Ec).applyMatrix4(Q)))})}.call(this,V,R),[1/0,1/0,1/0]),X=[-1/0,-1/0,-1/0];return R.forEach(function(V){Q[0]=Math.min(V.x,Q[0]),Q[1]=Math.min(V.y,Q[1]),Q[2]=Math.min(V.z,Q[2]),X[0]=Math.max(V.x,X[0]),X[1]=Math.max(V.y,X[1]),X[2]=Math.max(V.z,X[2])}),{min:Q,max:X}}),updateFromChildren:function(){var V,R,Q,X,b,A,c,f,S;me||this._updatingToChildren||!this._syncSize||0===this.size()||this._freezeSyncFromChildren||(Q=this._getBoundingBox(this.toChildren(r)))&&(this._updatingFromChildren=1,V=(new K8).fromArray(this.getScale3d()),R=(new K8).fromArray(Q.min),Q=(new K8).fromArray(Q.max),c=L8.blockMinSize,S=new K8,0===(Q=Q.clone().sub(R)).x&&S.setX(.5),0===Q.y&&S.setY(.5),0===Q.z&&S.setZ(.5),X=this._width==q8||-1===this._width,b=new K8(this.getAnchor3d()),A=V.clone().multiply((new K8).fromArray(this.s3())),0===(f=Q.clone()).x&&f.setX(c),0===f.y&&f.setY(c),0===f.z&&f.setZ(c),A=(c=b.clone().multiply(A)).clone().multiplyScalar(-1).sub(R).divide(f).add(c.divide(f)).add(S),c=this.s("keepPosition"),X||this._anchorChanged||this._scaleChanged||!c?(f=(b=!X&&c?A:b).clone().multiply(Q).add(R).applyEuler(this.getEuler()).add((new K8).fromArray(this.p3())),this.p3([f.x,f.y,f.z])):this.setAnchor3d(A.x,A.y,A.z),V.x=V.x||1,V.y=V.y||1,V.z=V.z||1,S=new K8(1,1,1).divide(V).multiply(Q),this.s3(Math.abs(S.x),Math.abs(S.y),Math.abs(S.z)),delete this._updatingFromChildren)},setPosition:function(V,R){this._updatingToChildren||(R=2===arguments.length?{x:V,y:R}:V,me||this._updatingFromChildren||(this._updatingToChildren=1,V=this.toChildren(function(V){return r(V)&&!V.getHost()}),z4(V,R.x-this._position.x,R.y-this._position.y),delete this._updatingToChildren),qu.superClass.setPosition.call(this,R))},setSize3d:function(){this.beginTransaction(),qu.superClass.setSize3d.apply(this,arguments),this.endTransaction()},setTall:function(V){var R;this._updatingToChildren||(this.beginTransaction(),(V=Q8(V,L8.blockMinSize))!==(R=this.getTall())&&qu.superClass.setTall.call(this,V),me||this._updatingFromChildren||(this._updatingToChildren=1,this._adjustChildTallOrScale(V/R,"size"),delete this._updatingToChildren,this.updateFromChildren()),this.endTransaction())},setWidth:function(V){return this.setSize(V,this.getHeight())},setHeight:function(V){return this.setSize(this.getWidth(),V)},setSize:function(V,R){var Q,X,b=L8.blockMinSize;V=Q8(V,b),R=Q8(R,b),(b=this)._updatingToChildren||(2!==arguments.length&&(R=V.height,V=V.width),this.beginTransaction(),Q=b.getWidth(),X=b.getHeight(),V!==Q&&qu.superClass.setWidth.call(b,V),R!==X&&qu.superClass.setHeight.call(b,R),me||b._updatingFromChildren||(b._updatingToChildren=1,b._adjustChildScaleOrSize(V/Q,R/X,"size"),delete b._updatingToChildren,b.updateFromChildren()),this.endTransaction())},_adjustChildScaleOrSize:function(F,D,P){var N,q;this._syncSize&&(N=this.getPosition(),q=this.getRotation(),this.eachChild(function(V){var R,Q,X,b,A,c,f,S;r(V)&&!V.getHost()&&(b=V.getPosition(),S=V.getRotation(),R=V.getWidth(),Q=V.getHeight(),c=(X=V.getScale()).x*R,f=X.y*Q,0!=c&&0!=f&&(F*D<0&&V.setRotation(-1*S),(b=new Qf(S,b.x,b.y,c,f)).translate(-N.x,-N.y),b.rotate(-q),S=E8(b.b*Math.sign(c),b.a*Math.sign(c)),b.scale(F,D),f=e8(S),S=Math.abs(f)<.001?(c=J8(S),A=b.b/c,-b.c/c):(A=b.a/f,b.d/f),"scale"===P?V.setScale(A/R,S/Q):"size"===P&&(c=A/X.x,f=S/X.y,V.setScale(iJ(A)*Math.abs(X.x),iJ(S)*Math.abs(X.y)),V instanceof I.Shape?(V.setWidthForce(Math.max(Math.abs(c),1e-5)),V.setHeightForce(Math.max(Math.abs(f),1e-5))):V.setSize(Math.max(.01,Math.abs(c)),Math.max(.01,Math.abs(f)))),b.rotate(q),b.translate(N.x,N.y),V.setPosition(b.tx,b.ty)))}))},_calcChangeFactor:function(V,R,Q,X){var V=w8(V),b=(Q=w8(Q))<V?V/Q:Q/V;return V=w8(R),Q=w8(X),Q8(b,Q<V?V/Q:Q/V)},setElevation:function(V){var R;this._updatingToChildren||0!=(V-=this.getElevation())&&(me||this._updatingFromChildren||(this._updatingToChildren=1,R=this.toChildren(function(V){return r(V)&&!V.getHost()}),z4(R,0,V,0),delete this._updatingToChildren),qu.superClass.setElevation.apply(this,arguments))},setScaleTall:function(V){var R=this;if(!R._updatingToChildren){var Q,X=R.getScaleTall();if(w8(V)<.01&&(V=.01*(iJ(V)||iJ(X))),"3d"===R._scaleMode)return Q=R.getScale(),void R.setScale3d(Q.x,V,Q.y);qu.superClass.setScaleTall.call(R,V),me||R._updatingFromChildren||(R._updatingToChildren=1,R._adjustChildTallOrScale(V/X,"scale"),delete R._updatingToChildren,R._scaleChanged=1,this.updateFromChildren(),delete R._scaleChanged)}},_adjustChildTallOrScale:function(Q,X){var b;this._syncSize&&(b=this.getElevation(),this.eachChild(function(V){var R;r(V)&&!V.getHost()&&("size"===X?(R=V.getTall(),Q<0&&V.setScaleTall(-1*V.getScaleTall()),V.setTall(Math.max(.01,Math.abs(R*Q)))):(R=V.getScaleTall(),V.setScaleTall(R*Q)),V.setElevation(b+(V.getElevation()-b)*Q))}))},setAnchor3d:function(){var V;if(!this._updatingToChildren)return this.beginTransaction(),(V=qu.superClass.setAnchor3d.apply(this,arguments))&&!me&&!this._updatingFromChildren&&this._syncSize&&(this._anchorChanged=1,this.updateFromChildren(),delete this._anchorChanged),this.endTransaction(),V},setAnchor:function(V,R,Q){var X=this;if(!X._updatingToChildren){var b=X.getAnchor(),A=qu.superClass.setAnchor.apply(X,arguments);if(me||X._updatingFromChildren||!X._syncSize)return A;X._updatingToChildren=1;var c=X.getAnchor(),f=(S=X.getSize()).width*(b.x-c.x),S=S.height*(b.y-c.y),b=(new y8).compose(new K8,this.getQuaternion(),new K8(this.getScale3d())),F=new K8(f,0,S).applyMatrix4(b);return X.eachChild(function(V){var R;r(V)&&!V.getHost()&&(R=new K8(V.p3()),V.p3(R.add(F).toArray()))}),delete X._updatingToChildren,A}},setAnchorElevation:function(V){var R=this;if(!R._updatingToChildren){var Q=R.getAnchorElevation(),X=qu.superClass.setAnchorElevation.apply(R,arguments);if(me||R._updatingFromChildren||!R._syncSize)return X;R._updatingToChildren=1;var b=R.getAnchorElevation(),Q=R.getTall()*(Q-b),b=(new y8).compose(new K8,this.getQuaternion(),new K8(this.getScale3d())),A=new K8(0,Q,0).applyMatrix4(b);return R.eachChild(function(V){var R;r(V)&&!V.getHost()&&(R=new K8(V.p3()),V.p3(R.add(A).toArray()))}),delete R._updatingToChildren,X}},setRotation:function(V){this._updateChildrenRotation3d("rotation",V)},setRotationX:function(V){this._updateChildrenRotation3d("rotationX",V)},setRotationZ:function(V){this._updateChildrenRotation3d("rotationZ",V)},setRotation3d:function(V,R,Q){var X,b,A=this;A._updatingToChildren||(X=A.r3(),qu.superClass.setRotation3d.apply(A,arguments),b=A.r3(),me||A._updatingFromChildren||(A._updatingToChildren=1,A.eachChild(function(V){r(V)&&!V.getHost()&&V.syncRotation3d(A,b,X)}),delete A._updatingToChildren))},_updateChildrenRotation3d:function(V,R){var Q;this._updatingToChildren||(Q=this[FJ(V)](),qu.superClass[DJ(V)].call(this,R),me||this._updatingFromChildren||this._updateRotationToChildren(V,R-Q))},_updateRotationToChildren:function(R,Q){var X=this;X._updatingToChildren=1,X.eachChild(function(V){r(V)&&!V.getHost()&&V._11Q(X,R,Q)}),delete X._updatingToChildren},setScale:function(V,R){var Q,X=this;X._updatingToChildren||(null==R&&(R=V.y,V=V.x),Q=X.getScale(),w8(V)<.01&&(V=.01*(iJ(V)||iJ(Q.x))),w8(R)<.01&&(R=.01*(iJ(R)||iJ(Q.y))),"3d"===X._scaleMode?X.setScale3d(V,X.getScaleTall(),R):(qu.superClass.setScale.call(X,V,R),me||X._updatingFromChildren||(X._updatingToChildren=1,V/=Q.x,R/=Q.y,X._adjustChildScaleOrSize(V,R,"scale"),delete X._updatingToChildren,X._scaleChanged=1,X.updateFromChildren(),delete X._scaleChanged)))},onPropertyChanged:function(V){qu.superClass.onPropertyChanged.call(this,V),"s:3d.visible"!==V.property&&"parent"!==V.property||this._invalidateChildrenBatch()},_invalidateChildrenBatch:function(){this.eachChild(function(V){(V.s("batch")||V.s("wf.geometry")||V.s("wf.visible"))&&V.iv(),V instanceof qu&&V._invalidateChildrenBatch()})},getSerializableProperties:function(){var V=qu.superClass.getSerializableProperties.call(this);return V.clickThroughEnabled=1,V.syncSize=1,V.scaleMode=1,V},setScale3d:(wc=new K8,ac=new K8,ic=new K8,nc=new y8,Mc=new Xf,rc=new K8,function(V,R,Q){var X,b,A=this,R="number"==typeof V?{x:V,y:R,z:Q}:V.length?{x:V[0],y:V[1],z:V[2]}:V;"3d"!==A._scaleMode?qu.superClass.setScale3d.apply(A,arguments):A._syncSize&&0!==A.size()&&((X=A.getMatrix4()).getInverse(X),qu.superClass.setScaleTall.call(A,R.y),qu.superClass.setScale.call(A,R.x,R.z),b=A.getMatrix4(),me||A._updatingFromChildren||(A._updatingToChildren=1,A.eachChild(function(V){var R,Q;r(V)&&!V.getHost()&&(R=1,V instanceof I.Polyline?((Q=V.getThickness())&&(rc.copy(V.getScale3d()).multiplyScalar(Q),R=Q),V.getQuaternion(Mc),wc.copy(V.p3()),ic.copy(V.getFinalScale3d()),ic.x=ic.x||rc.x,ic.y=ic.y||rc.y,ic.z=ic.z||rc.z,nc.compose(wc,Mc,ic)):V.getMatrix4(nc),nc.premultiply(X).premultiply(b),nc.decompose(wc,Mc,ic),ac.fromArray(V.s3()),ac.x=ac.x||R,ac.y=ac.y||R,ac.z=ac.z||R,ic.divide(ac),V.setQuaternion(Mc),V.p3(wc.toArray()),V.setScale3d(ic.toArray()))}),delete A._updatingToChildren,A._scaleChanged=1,A.updateFromChildren(),delete A._scaleChanged))})}),I.Grid=function(){oJ(I.Grid,this)}),eu=(W4("Grid",Xu,{IRotatable:!1,_icon:"grid_icon",_image:q8,getUIClass:function(){return pu},setRotation:function(){},getCellRect:function(V,R){var Q=this.s("grid.row.count"),X=this.s("grid.column.count");if(Q<=0||X<=0||V<0||Q<=V||R<0||X<=R)return q8;var b,A,c,f=this.getRect(),S=this.s("grid.row.percents"),F=this.s("grid.column.percents");if(G_(f,this,"grid.border",-1),S&&S._as&&(S=S._as),F&&F._as&&(F=F._as),S&&S.length===Q){for(b=c=0;b<V;b++)c+=f.height*S[b];f.y+=c,f.height=f.height*S[V]}else f.height=f.height/Q,f.y+=f.height*V;if(F&&F.length===X){for(b=A=0;b<R;b++)A+=f.width*F[b];f.x+=A,f.width=f.width*F[R]}else f.width=f.width/X,f.x+=f.width*R;return ys(f,-this.s("grid.gap")),f}}),I.Text=function(){oJ(eu,this),this.setSize(100,50),this.s("text","TEXT")}),Ju=(W4("Text",Xu,{_icon:"text_icon",_image:"__text__",getUIClass:function(){return Iu},setWidth:function(V){eu.superClass.setWidth.call(this,V=V||.001)},setHeight:function(V){eu.superClass.setHeight.call(this,V=V||.001)},toLabel:function(){return this._displayName||this._name||this.s("text")}}),ue("__text__",{width:{value:100,isSafeFunc:!0,func:function(V){return V?V._width:100}},height:{value:50,isSafeFunc:!0,func:function(V){return V?V._height:50}},comps:[{type:"text",relative:!0,rect:[0,0,1,1],text:{func:"style@text"},align:{func:"style@text.align"},vAlign:{func:"style@text.vAlign"},color:{func:"style@text.color"},font:{func:"style@text.font"},shadow:{func:"style@text.shadow"},shadowColor:{func:"style@text.shadow.color"},shadowBlur:{func:"style@text.shadow.blur"},shadowOffsetX:{func:"style@text.shadow.offset.x"},shadowOffsetY:{func:"style@text.shadow.offset.y"},scaleX:{func:"style@text.scale.x"},scaleY:{func:"style@text.scale.y"},gradient:{func:"style@text.gradient"},gradientColor:{func:"style@text.gradient.color"},gradientPack:{func:"style@text.gradient.pack"},decoration:{func:"style@text.decoration"},vertical:{func:"style@text.vertical"},verticalGap:{func:"style@text.vertical.gap"},wrap:{func:"style@text.wrap"},letterGap:{func:"style@text.letter.gap"},borderWidth:{func:"style@text.border.width"},borderColor:{func:"style@text.border.color"},background:{func:"style@text.background"},cornerRadius:{func:"style@text.corner.radius"},outlineColor:{func:"style@text.outline.color"},outlineWidth:{func:"style@text.outline.width"}}]}),I.Shape=function(){oJ(Ju,this),this._59O=new Z}),su=(Ju.__de__=j8,W4("Shape",Xu,{ms_ac:["thickness","closePath"],_icon:"shape_icon",_thickness:10,_closePath:!1,getUIClass:function(){return Wu},get3dUIClass:function(){return RG},getLength:function(V){return hJ(d2(this._59O,this._58O,V,this._closePath))},getSegments:function(){return this._58O},toSegments:function(){var V=this._58O;return V&&new Z(V._as.slice(0))},setSegments:function(V){var R=this._58O;V=V?H8(V)?new Z(V.slice(0)):new Z(V._as.slice(0)):null,(R&&V&&R._as.join(",")!==V._as.join(",")||R!==V)&&(this._58O=V,this.fp("segments",R,V))},getPoints:function(){return this._59O},toPoints:function(){var V=this._59O;return new Z(V._as.slice(0))},getPointsMatrix2d:function(){var V=new B.Matrix2d,R=this.getPosition(),Q=this.getScale(),X=this.getRotation();return V.translate(-R.x,-R.y).scale(Q.x,Q.y).rotate(X).translate(R.x,R.y),V},getPointsMatrix3d:function(){var V=new B.Matrix4,R=V.getElements(),Q=this.p3(),X=(eg(R,Q),Fu(R,this.getFinalRotation3d(),this.getRotationMode()),this.getScale3d()),b=this._dynamicScale3d;return b&&(X[0]*=b[0],X[1]*=b[1],X[2]*=b[2]),Jg(R,X),eg(R,Es(Q)),V},setPoints:function(V,R){var Q,X,b=this,A=b._59O;V=V?H8(V)?new Z(V.slice(0)):new Z(V._as.slice(0)):new Z,R&&(Q=b.getPosition(),X=new Qf(b.getRotation(),0,0,b.getScale().x,b.getScale().y)),(A&&V&&A._as.join(",")!==V._as.join(",")||A!==V)&&(b._59O=V,b.fs(),b.fp("points",A,V)),R&&(V=(A=b.getPosition()).x-Q.x,R=A.y-Q.y,Q=X.tf(V,R),b.setPosition(A.x-V+Q.x,A.y-R+Q.y))},setPoints3d:function(V,R){var Q=new K8(this.p3()),X=this.getPointsMatrix3d();X.setPosition(new K8),lu.superClass.setPoints.call(this,V),R&&(V=new K8(this.p3()).clone().sub(Q).applyMatrix4(X),Q.add(V),this.p3(Q.x,Q.y,Q.z))},addPoint:function(V,R,Q){var X=this.toPoints();X.add(V,R),this.setPoints(X,Q)},setPoint:function(V,R,Q){var X=this.toPoints();X.set(V,R),this.setPoints(X,Q)},removePointAt:function(V){var R=this.toPoints();R.removeAt(V),this.setPoints(R)},setWidthForce:function(V){var R,Q,X,b,A=this;A._55I||me||!A.getWidth()||(A._55I=1,R=A._position.x,Q=V/A.getWidth(),X=A.toPoints(),b=new Z,1!=Q&&(X.each(function(V){b.add({x:(V.x-R)*Q+R,y:V.y,e:V.e})}),A.setPoints(b),B2(A,[Q,0,0,1,R*(1-Q),0]),A.fs()),delete A._55I),Ju.superClass.setWidth.call(A,V)},setWidth:function(V){return this.setWidthForce(V<as?as:V)},setHeightForce:function(V){var R,Q,X,b,A=this;A._55I||me||!A.getHeight()||(A._55I=1,R=A._position.y,Q=V/A.getHeight(),X=A.toPoints(),b=new Z,1!=Q&&(X.each(function(V){b.add({x:V.x,y:(V.y-R)*Q+R,e:V.e})}),A.setPoints(b),B2(A,[1,0,0,Q,0,R*(1-Q)]),A.fs()),delete A._55I),Ju.superClass.setHeight.call(A,V)},setHeight:function(V){return this.setHeightForce(V<as?as:V)},setAnchorElevation:function(V){this._55I=!0;var R,Q=this._updatingAnchor3d,V=(me||Q||(R=this.getAnchorElevation(),0!=(R=this.getTall()*(R-V))&&this.shiftPointsElevation(R)),Ju.superClass.setAnchorElevation.apply(this,arguments));return Q||delete this._55I,V},getShapeElevation:function(V){return this._54O-(this.getTall()||0)*(this._anchorElevation-.5)},setAnchor3d:function(V,R,Q,X){var b,A,c,f,S,F=this,V=("number"==typeof V?b={x:V,y:R,z:Q}:(b=V.length?{x:V[0],y:V[1],z:V[2]}:V,X=R),F._55I=!0,F._updatingAnchor3d=!0,F.beginTransaction(),me||(Q=F.getAnchor3d(),V=F.getSize(),R=F.getTall(),A=V.width*(Q.x-b.x),c=V.height*(Q.z-b.z),f=R*(Q.y-b.y),X||F.shiftPoints(A,c,f),S=F.p3()),Ju.superClass.setAnchor3d.apply(F,arguments));return me||X&&(R=F.p3(),F.shiftPoints(R[0]-S[0]+A,R[2]-S[2]+c,R[1]-S[1]+f)),F.endTransaction(),delete F._updatingAnchor3d,delete F._55I,V},setAnchor:function(V,R,Q){var X,b,A,c=this,f=(c._55I=!0,c._updatingAnchor3d),S=!me&&!f,R=(S&&("number"==typeof V?b={x:V,y:R}:(b=V.length?{x:V[0],y:V[1]}:V,Q=R),V=c.getAnchor(),X=(R=c.getSize()).width*(V.x-b.x),b=R.height*(V.y-b.y),Q||c.shiftPoints(X,b),A=c.getPosition()),Ju.superClass.setAnchor.apply(c,arguments));return S&&(V=c.getPosition(),Q&&c.shiftPoints(V.x-A.x+X,V.y-A.y+b)),f||delete c._55I,R},shiftPoints:function(Q,X,b){var A,V,c;(Q||X||b)&&(A=this.getElevation()||0,V=this.toPoints(),c=new Z,V.each(function(V){var R=V.e;c.add({x:V.x+Q,y:V.y+X,e:R=b?(R==q8?A:R)+b:R})}),this.setPoints(c),this.fs())},shiftPointsElevation:function(V){return this.shiftPoints(0,0,V)},setPosition:function(V,R){var Q=this;if(!Q._28Q){if(Q._28Q=1,!Q._55I&&!me){if(V=(R=2===arguments.length?{x:V,y:R}:V).x-Q._position.x,R=R.y-Q._position.y,0==V&&0==R)return void delete Q._28Q;Q._55I=1,Q.shiftPoints(V,R),B2(Q,[1,0,0,1,V,R]),delete Q._55I}Ju.superClass.setPosition.apply(Q,arguments),delete Q._28Q}},fs:function(){this.fireShapeChange()},_70I:function(){if(2!==this._59O.size())return!1;var V=this._58O;return!V||2===V.size()&&1===V.get(0)&&2===V.get(1)},fireShapeChange:function(){var V;this._55I||me||(V=Ls(this._59O))&&(this._55I=1,this.setRect(V),delete this._55I),this.fp(tR,!1,!0)},getSerializableProperties:function(){var V=Ju.superClass.getSerializableProperties.call(this);return V.segments=1,V.points=1,V.thickness=1,V.closePath=1,V}}),I.Points=function(){oJ(su,this)}),lu=(W4("Points",Xu,{_59O:[],_colors:[],_sizes:[],_uvoffsets:[],get3dUIClass:function(){return QG},getPoints:function(){return this._59O},setPoints:function(V){var R=this._59O,Q=(V=V?V.slice(0):[])[0];if(PJ(Q)){var X=V;V=[];for(var b=0,A=X.length;b<A;b+=3)V.push({x:X[b],e:X[b+1],y:X[b+2]})}this._59O=V,this._pointsDirty=!0,this.fp("points",R,this._59O)},setPoint:function(V,R){var Q=this._59O.slice(0);Q[V]=R,this.setPoints(Q)},addPoint:function(V){this.setPoint(this._59O.length,V)},getColors:function(){return this._colors},setColors:function(V){var R=this._colors;V=V?V.slice(0):[],this._colors=V,this._colorsDirty=!0,this.fp("colors",R,V)},setPointColor:function(V,R){var Q=this._colors.slice(0);Q[V]=R,this.setColors(Q)},getSizes:function(){return this._sizes},setSizes:function(V){var R=this._sizes;V=V?V.slice(0):[],this._sizes=V,this._sizesDirty=!0,this.fp("sizes",R,this._sizes)},setPointSize:function(V,R){var Q=this._sizes.slice(0);Q[V]=R,this.setSizes(Q)},getUvoffsets:function(){return this._uvoffsets},setUvoffsets:function(V){var R=this._uvoffsets;V=V?V.slice(0):[],this._uvoffsets=V,this._offsetsDirty=!0,this.fp("uvoffsets",R,this._uvoffsets)},setPointUvoffset:function(V,R,Q){var X;"object"==typeof R?(X=R[0],Q=R[1]):X=R,(R=this._uvoffsets.slice(0))[2*V+0]=X,R[2*V+1]=Q,this.setUvoffsets(R)},getPointInfo:function(V){if(!(R=this.getPoints())||R[V]==q8)return q8;var R=[(R=R[V]).x,R.e,R.y],Q=this.mat||xs(this),X=[R[0],R[1],R[2]];return Ts(X,Q),Q=this.getColors()[V]||this.s("points.color"),{size:(V=this.getSizes()[V])==q8?this.s("points.size"):V,color:Q,local:R,world:X}},getSerializableProperties:function(){var V=su.superClass.getSerializableProperties.call(this);return V.points=1,V.colors=1,V.sizes=1,V.uvoffsets=1,V},onPropertyChanged:function(V){su.superClass.onPropertyChanged.call(this,V),"s:points.color"===(V=V.property)?this._colorsDirty=!0:"s:points.size"===V?this._sizesDirty=!0:"s:points.model"===V&&(this._modelDirty=!0)},getWidth:function(){if(0<=this._width)return this._width;var V=this.getStyle("points.model");return(V=V&&Z1(V))&&V.rawS3?V.rawS3[0]:1},getHeight:function(){if(0<=this._height)return this._height;var V=this.getStyle("points.model");return(V=V&&Z1(V))&&V.rawS3?V.rawS3[2]:1},getTall:function(){if(0<=this._tall)return this._tall;var V=this.getStyle("points.model");return(V=V&&Z1(V))&&V.rawS3?V.rawS3[1]:1}}),I.Polyline=function(){oJ(lu,this),this.s({"shape.background":null,"shape.border.width":2}),this._geometryVersion=0}),Hu=(W4("Polyline",Ju,{_icon:"polyline_icon",get3dUIClass:function(){return bG},getUIClass:function(){return Uu},setClosePath:function(V){},setTall:function(V){var R,Q,X,b,A=this;A.beginTransaction(),A._55I||A._24Q||me||!A.getTall()||(A._24Q=1,R=A._54O,1!=(Q=V/A.getTall())&&(X=A.toPoints(),b=new Z,X.each(function(V){b.add({x:V.x,y:V.y,e:V.e==q8?V.e:(V.e-R)*Q+R})}),A.setPoints(b),A.fs()),delete A._24Q),lu.superClass.setTall.call(A,V),A.endTransaction()},setElevation:function(V){this.beginTransaction(),this._55I||this._24Q||me||(this._24Q=1,0!=(V-=this._54O)&&this.shiftPointsElevation(V),delete this._24Q),lu.superClass.setElevation.apply(this,arguments),this.endTransaction()},fireShapeChange:function(){var V=this,R=V._59O;if(!V._55I&&!V._24Q&&!me){var Q=R.size();if(Q){for(var X=1,b=R.get(0),A=V._54O,c=(b.e==q8&&(b.e=A),b.e),f=0;X<Q;X++){(b=R.get(X)).e==q8&&(b.e=A);var S=X8(c,b.e),F=Q8(c+f,b.e),c=S,f=F-S}V._24Q=1,V.setTall(f),V.setElevation(c+f*V._anchorElevation),delete V._24Q}}lu.superClass.fireShapeChange.apply(V,arguments)},onPropertyChanged:($c={},["points","segments","thickness","s:shape.border.color","s:shape.border.gradient.color","s:shape.border.pattern","s:shape.dash","s:shape.dash.color","s:shape.dash.pattern","s:shape.dash.offset","s:3d.clip.direction","s:repeat.uv.length","s:rotate.vs.length","s:rotate.uv.length","s:body.color","s:shape3d","s:shape3d.visible","s:shape3d.image","s:shape3d.smooth","s:shape3d.resolution","s:shape3d.color","s:shape3d.blend","s:shape3d.side","s:shape3d.start.angle","s:shape3d.sweep.angle","s:shape3d.top.cap","s:shape3d.top.image","s:shape3d.top.visible","s:shape3d.top.color","s:shape3d.bottom.cap","s:shape3d.bottom.image","s:shape3d.bottom.visible","s:shape3d.bottom.color","s:shape3d.uv.union","s:shape3d.section","s:shape3d.section.angle","s:shape3d.section.twist","s:shape3d.polyline.depth","s:shape3d.polyline.offset","s:shape3d.polyline.radiusScale","s:shape3d.polyline.scaleOffset","s:shape3d.polyline.scaleMap"].forEach(function(V){$c[V]=!0}),function(V){lu.superClass.onPropertyChanged.call(this,V),$c[V.property]&&this._geometryVersion++})}),I.SubGraph=function(){oJ(Hu,this)}),Ku=(W4("SubGraph",Xu,{ISubGraph:1,_image:"subGraph_image",_icon:"subGraph_icon",_8I:function(){Hu.superClass._8I.call(this),this.eachChild(function(V){r(V)&&V._8I()})}}),L8.loadingRefGraph=0,I.RefGraph=function(){oJ(Ku,this)}),yu=(W4("RefGraph",qu,{_icon:"refGraph_icon",getRef:function(){return this._ref},setRef:function(V){var R=this._ref;this._ref=V,this.fp("ref",R,V),this.updateRef()},_21I:function(V){Ku.superClass._21I.apply(this,arguments),this.updateRef()},updateRef:function(){var Q,R,X=this;L8.loadingRefGraph++,X.clearChildrenFromDataModel(),L8.loadingRefGraph--,X._ref&&X._dataModel&&(X._xhrLoadHandler&&(X._xhrLoadHandler.cancel=!0),Q=me,(R=X._xhrLoadHandler=function(V){var R;V&&X._dataModel&&(L8.loadingRefGraph++,R=X._pendingUpdateInfo={needToRestore:Q},Q&&(R.p3=X.p3(),R.s3=X.s3(),R.r3=X.r3(),R.anchor3d=X.getAnchor3d(),R.scale3d=X.getScale3d()),X.r3(0,0,0),X.setScale3d(1,1,1),X.setAnchor3d(.5,.5,.5),X.p3(0,0,0),R=L8.parse(V),(V=X._dataModel.deserialize(R,X,{justDatas:!0})).each(function(V){V._refGraph=X}),X.checkPendingUpdateInfo(),L8.loadingRefGraph--,L8.handleRefGraphLoaded(X,V,R))}).xhrLoadCalled=!1,L8.load(X._ref,function(V){R.cancel||(R.xhrLoadCalled?R(V):Zf(function(){R(V)}))}),R.xhrLoadCalled=!0)},checkPendingUpdateInfo:function(){var R,V=this,Q=V._pendingUpdateInfo;Q?(R=!0,this.eachChild(function(V){(V._pendingCheckImageJSON||V._pendingUpdateInfo)&&(R=!1)}),R&&(L8.loadingRefGraph++,V._pendingUpdateInfo=null,V.updateFromChildren(),Q.needToRestore&&(V.setAnchor3d(Q.anchor3d),V.setScale3d(Q.scale3d),V.r3(Q.r3),V.p3(Q.p3)),this.getParent()instanceof Ku&&this.getParent().checkPendingUpdateInfo(),V.onPendingUpdated&&V.onPendingUpdated(),L8.loadingRefGraph--)):V.onPendingUpdated&&(L8.loadingRefGraph++,V.onPendingUpdated(),L8.loadingRefGraph--)},getSerializableProperties:function(){var V=Ku.superClass.getSerializableProperties.call(this);return V.ref=1,V}}),I.EdgeGroup=function(V,R){this._70O=V,this._siblings=R;for(var Q,X=0,b=V.size(),A=g8[ZR];X<b;X++)if((Q=V.get(X).getOwnStyle(ZR))!=q8){A=Q;break}for(A==q8&&(A=!0),(R=(R=L8.edgeGroupAgentFunc)&&R(V))&&R!==V.get(0)&&(V.remove(R),V.add(R,0)),X=0;X<b;X++)V.get(X).s(ZR,A)},W4("EdgeGroup",v,{getEdges:function(){return this._70O},size:function(){return this._70O.size()},get:function(V){return this._70O.get(V)},indexOf:function(V){return this._70O.indexOf(V)},each:function(V,R){this._70O.each(V,R)},getSiblings:function(){return this._siblings},eachSiblingEdge:function(R,Q){this._siblings.each(function(V){V._70O.each(R,Q)})}}),mJ(L8,{setConnectAction:function(V,R,Q){var X=Ee[V]={type:V,action:R};if(Q)for(var b in Q)X[b]=Q[b]},getConnectAction:function(V,R){if(!R){if(!V)return null;R=V.getCurrentConnectActionType()}return Ee[R]},doConnectAction:function(R,V,Q,X){if(X=X||R.getCurrentConnectActionType(),!(X=Ee[X]))return!1;var b=X.action;return!!b&&(V instanceof E.Group?R.sm().getSelection().each(function(V){b.call(null,R,V,Q)}):b.call(null,R,V,Q),!0)},doDeleteConnectionAction:function(R,V,Q){if(Q=Q||R.getCurrentConnectActionType(),!(Q=Ee[Q])||!Q.delete)return!1;var X=Q.delete.action;return!!X&&(V instanceof E.Group?R.sm().getSelection().each(function(V){X.call(null,R,V)}):X.call(null,R,V),!0)}}),I.JSONSerializer=function(V,R){this.dm=this._dataModel=V,L8.forceHierarchicalSerialization?this._hierarchical=!0:this._hierarchical=R==q8?V.isHierarchicalRendering():R}),tu=(W4("JSONSerializer",v,{ms_ac:["hierarchical"],serialize:function(V){return L8.stringify(this.toJSON(),V)},toJSON:function(){var V,R,Q=this,X=Q.dm,b=X.getRoots(),A=Q.json={v:L8.getVersion(),p:{},a:{},d:[]},c=X.getSerializableAttrs();for(R in(V=X.getInit())&&(A.init=V),(V=X.getName())&&(A.p.name=V),(V=X.getBackground())&&(A.p.background=V),(V=X.getLayers())&&(A.p.layers=V),(V=X.getEnvmap())&&(A.p.envmap=V),(V=X.getEnvmapType())&&(A.p.envmapType=V),A.p.autoAdjustIndex=X.isAutoAdjustIndex(),A.p.hierarchicalRendering=X.isHierarchicalRendering(),c){var f=X.a(R);f!==N8&&Q[vA](R,f,A.a)}return _J(A.a)&&delete A.a,Q._hierarchical?b.each(Q.serializeData,this):X.each(function(V){Q.serializeData(V)}),X.fireSerializeEvent({type:"serialize",json:A}),X.getPostProcessingData()&&(A.p.postProcessingData=X.getPostProcessingData()),A},isSerializable:function(V){return!0},getProperties:function(V){return V.getSerializableProperties()},getStyles:function(V){return V.getSerializableStyles()},getAttrs:function(V){return V.getSerializableAttrs()},serializeData:function(V){var R=this;if(R.isSerializable(V)&&!V._refGraph){var Q,X,b,A,c,f=new(Gf(V.getClassName())||V.getClass()),S={c:V.getClassName(),i:V.getId(),p:{},s:{},a:{}};for(Q in R.json.d.push(S),R.getProperties(V))/^_/.test(Q)?(c=V[Q],"_width"!==Q&&"_height"!==Q||c!=q8&&-1!==c||(A==N8&&(b=(V.s("layout.h")||V.s("layout.v"))&&V.getHost()||V instanceof I.Node&&(b=V.getParent())&&b instanceof I.Block||V.s("fullscreen"),A=V.hasInheritedSize()),b&&A&&(c=V[Q]="_width"===Q?V.getWidth():V.getHeight())),c!==f[Q]&&R[vA](Q.substr(1),c,S.p)):V[X=FJ(Q)]&&(c=V[X]())!==f[X]()&&R[vA](Q,c,S.p);for(Q in R.getStyles(V))(c=V.s(Q))!==f.s(Q)&&R[vA](Q,c,S.s);for(Q in R.getAttrs(V))(c=V.a(Q))!==f.a(Q)&&R[vA](Q,c,S.a);_J(S.p)&&delete S.p,_J(S.s)&&delete S.s,_J(S.a)&&delete S.a}R._hierarchical&&V.getChildren().each(R.serializeData,R)},serializeValue:function(V,R,Q){eJ(R)?R={__a:R._as}:R instanceof r_?R={__i:R.getId()}:R instanceof E_&&(R={__dm:R.serialize(0)}),Q[V]=R},deserialize:function(V,R,Q){var X=this;if(!l8(V)||!/.json$/.test(V))return X.deserializeImpl(V,R,Q);L8.xhrLoad(V,function(V){X.deserializeImpl(V,R,Q)})},deserializeImpl:function(V,R,Q){var X=this.dm,b=(X.setDeserializing(!0),Q=NJ(Q)?{setId:Q}:LJ(Q)?{finishFunc:Q}:Q||{},V=this.json=l8(V)?L8.parse(V):V,!Q.justDatas&&V.a&&V.a.onPreDeserialize&&!Q.disableOnPreDeserialize&&V.a.onPreDeserialize(V,X,Q.view),X.beginTransaction(),me++,this._82I={},new Z),A=new Z,c=0,f=V.d.length;if(Q.justDatas||(!Q.disableInit&&LJ(V.init)&&V.init(X),X.setInit(V.init)),!Q.justDatas){for(var S in V.a)X.a(S,this[hA](V.a[S]));for(var F in V.p)X[DJ(F)](V.p[F])}for(;c<f;c++){var D=V.d[c],P=new(Gf(D.c)),N=D.i;Q.setId&&N!=q8&&(P._id=N),this._82I[N]=P,b.add(P),A.add(D)}for(c=0;c<f;c++)this.deserializeData(b.get(c),A.get(c));return b.each(function(V){R&&!V.getParent()&&V.setParent(R),X.add(V)}),Q.__innerHandler__&&Q.__innerHandler__(V,X,Q.view,b),X.fireSerializeEvent({type:"deserialize",json:V}),me--,X.endTransaction(),!Q.justDatas&&V.a&&V.a.onPostDeserialize&&!Q.disableOnPostDeserialize&&V.a.onPostDeserialize(V,X,Q.view,b),Q.finishFunc&&Q.finishFunc(V,X,Q.view,b),X.setDeserializing(!1),b},deserializeData:function(V,R){for(var Q in R.p)V[DJ(Q)](this[hA](R.p[Q]));for(Q in R.s)V.s(Q,this[hA](R.s[Q]));for(Q in R.a)V.a(Q,this[hA](R.a[Q]))},deserializeValue:function(V){if(qJ(V)){var R,Q=V.__i;if(Q!=q8)return this._82I[Q];if((Q=V.__dm)!=q8)return(R=new I.DataModel).deserialize(Q),R;if(Q=V.__a,H8(Q))return new Z(Q)}return V}}),mJ(E_,{serialize:function(V,R){return new yu(this,R).serialize(V)},toJSON:function(V){return new yu(this,V).toJSON()},deserialize:function(V,R,Q){return new yu(this).deserialize(V,R,Q)}}),I.OverlappingBox=function(V){this.gv=V,this.boxes={}}),gu=(W4("OverlappingBox",v,{clear:function(){var V,R=this.boxes;for(V in R)R[V].length=0},isOverlapping:function(V,R){var Q,X,b,A,c=this.boxes,f=c[V];for(f?(Q=f.rects,X=f.length):f=c[V]={rects:Q=[],length:X=0},b=0;b<X;b++)if((A=Q[b]).x<R.x+R.w&&A.x+A.w>R.x&&A.y<R.y+R.h&&A.h+A.y>R.y)return!0;return Q.length<=X?(Q.push(R),f.length++):Q[f.length++]=R,!1}}),mJ(L8,{fetch:function(V,R){V.open((R=R||{}).method||"GET",R.url||"",!(null!=R.sync&&R.sync)),"json"===R.dataType&&V.setRequestHeader("Content-Type","application/json");var Q=R.headers;if(Q)for(var X in Q)V.setRequestHeader(X,Q[X]);R.responseType&&(V.responseType=R.responseType),V.send(R.data)},convertImageSrc:function(V,R){(R=R&&"function"==typeof R?R:function(){})(V)}}),I.Request=function(){}),mu=(W4("Request",v,{_mimeType:N8,getXhr:function(){return this._xhr||(this._xhr=new XMLHttpRequest,this.overrideMimeType("text/plain")),this._xhr},send:function(V){var R=this.getXhr();V.mimeType&&this.overrideMimeType(V.mimeType),R.onload=this.onload,R.onerror=this.onerror,L8.fetch(R,V)},onload:function(){},onerror:function(){},getResponseType:function(){return this.getXhr().responseType},setOverrideMimeType:function(V){this.overrideMimeType(V)},getMimeType:function(){return this._mimeType},overrideMimeType:function(V){this.getXhr().overrideMimeType(this._mimeType=V)},getResponseHeader:function(V){return this.getXhr().getResponseHeader(V)},getResponseText:function(){var V=this.getXhr();return V.response||V.responseText},getStatus:function(){return this.getXhr().status}}),{}),zu={},Yu={},uu={},ou=function(V){for(var R in Yu)Yu[R]&&!V["_loading_"+R+"_"]&&(uu[R][V["_loading_"+R+"_"]=If()]=V)},_u=function(V,R,Q,X){var b,A=uu[V];if(R&&A){for(var c in A)(b=A[c]).invalidateAll&&b.invalidateAll(N8,V+"Loaded",Q),b.redraw&&b.redraw(),b.iv(),delete b["_loading_"+V+"_"];uu[V]={}}else if(X&&!_J(A))for(var c in A)(b=A[c]).invalidateAll&&b.invalidateAll(N8,V+"Loading",Q),b.redraw&&b.redraw(),b.iv()},Ou="placeholderResource",wu=q8,au=(uu[Ou]={},L8.addPendingPlaceholder=function(V,R){(wu=wu||(Yu[Ou]={}))[V]||(wu[V]=!0,Zf(function(){L8.removePendingPlaceholder(V,!1)},q8,q8,R||1e5))},L8.removePendingPlaceholder=function(V,R){var Q;wu&&(delete wu[V],(Q=_J(wu))&&(wu=Yu[Ou]=q8),_u(Ou,Q,V,R))},L8.isLoading=function(){if(Be)return!0;if(X_)return!0;if(Sy)return!0;for(var V in Yu)if(Yu[V])return!0;return!1},L8.countActiveLoadings=function(){var V,R=0;for(V in Be&&(R+=v.keys(Be).length),X_&&(R+=v.keys(X_).length),Sy&&(R+=v.keys(Sy).length),Yu)Yu[V]&&(R+=v.keys(Yu[V]).length);return R},L8.isMaxConcurrencyReached=function(V){return!!(V=V||L8.maxConcurrencyLimit)&&L8.countActiveLoadings()>V},function(f,S){function F(V,R){(Q=X(V,R))&&(R=Q),q[V]=R,delete N[V];var Q=_J(N);Q&&(N=Yu[f]=q8),_u(f,Q,V,R),ru(f+"::"+V,R)}function D(V,R){F(V,R),R&&L8[Q](V,R)}var P,N=q8,q=mu[f]={},L=f.charAt(0).toUpperCase()+f.substr(1),X=(uu[f]={},(S=S||We).handleLoaded||pe),b="load"+L+"ByURL",Q="handle"+L+"Loaded";zu[b]=function(Q,X){if((X=X||Q)&&!L8.isMaxConcurrencyReached()&&!(N=N||(Yu[f]={}))[Q]){var b=new gu,A=!(N[Q]={request:b,url:X});if("string"==typeof X&&(A=je.test(X),X=L8.beforeLoadURL(X,Q)),X.data){var V=X.data;A&&V&&(V=L8.parse(V)),S.delayToNextFrame?Zf(function(){D(Q,V)}):D(Q,V)}else{b.onload=function(V){var R;200===this.status||0===this.status?(R=b.getResponseText(),A&&(R=L8.parse(R)),D(Q,R)):F(Q,L8["handleUnfound"+L](Q,X)||q8)},b.onerror=function(V){F(Q,L8["handleUnfound"+L](Q,X)||q8)};var R={};if(R.url=encodeURI(X),R.sync=!1,S.loadingParam)for(var c in S.loadingParam)R[c]=S.loadingParam[c];b.send(R)}}},L8["get"+L]=function(V,R){var Q=q[V];return Q===N8?(Mu(f+"::"+V,R),zu[b](V),q[V]):(R&&R(Q),Q)},L8["get"+L+"Map"]=function(){return q},"shader"==f?(P=function(V,R){if(R===N8)return delete q[V],void delete p1[V];R&&null!==R.data&&(q[V]=null,p1[V]=null),zu[b](V,R)},L8.setShader=function(R,V,Q){var X,b,A,c;l8(V)&&V.match(/\/\/ *FS/i)?(p1[R]=null,q[R]=V):l8(V)&&l8(Q)?(A=0,c=function(){var V;0<A||(N&&(N[R]&&((V=N[R].request)&&(V.onload=V.onerror=pe,(V=V.getXhr())&&(V.onload=V.onerror=pe)),delete N[R]),_J(N)&&(N=Yu[f]=q8)),P(R,X&&b?{data:X+"\n// FS\n"+b}:{data:null}))},V.match(/void\s+main/i)?X=V:(A++,L8.xhrLoad(V,function(V){X=V,A--,c()})),Q.match(/void\s+main/i)?b=Q:(A++,L8.xhrLoad(Q,function(V){b=V,A--,c()})),A&&((N=N||(Yu[f]={}))[R]={}),c()):P(R,V)}):"shaderChunk"===f?L8.setShaderChunk=function(V,R,Q){l8(R)?(Q==N8&&(R.match(/\n/i)?Q=!1:R.match(/\.(glsl|fs|vs|shader|txt|js)$/)&&(Q=!0)),Q?zu[b](V,R):q[V]=R):R===N8&&delete q[V]}:L8["set"+L]=function(V,R){(R=l8(R)&&R.substr(0,12)==Ne?L8.parse(R):R)===N8?delete q[V]:LJ(R)||qJ(R)||null===R?q[V]=R:zu[b](V,R)},L8[Q]=function(V,R){},L8["handleUnfound"+L]=function(V,R){}}),iu=(L8.registerResourceLoader=function(V,R){au(V,R)},function(Q){Q=Q||L8.resourceLoaderEventTimeout;var c={},f={};function X(V,R){var Q=c[V];if(Q){for(var X=0,b=Q.length;X<b;X++)Q[X](R);delete c[V];var A=f[V];A&&(U8(A),delete f[V])}}return{add:function(V,R){c[V]||(c[V]=[],f[V]=W8(function(){X(V,null)},Q)),c[V].push(R)},fire:X}}),nu=null,Mu=function(V,R){R&&(nu=nu||new iu).add(V,R)},ru=function(V,R){nu&&nu.fire(V,R)},Eu=(qq.GraphView=function(V){var R=this;R._24I={},R._34I=new Z,R.enableDirtyRect(),R._25I={},R._56I={},R._view=UJ(1,R),R._canvas=IJ(R._view),R.dm(V||new E_),this._coreInteractor=new QI(this),R.setEditable(!1),R.setScrollBarVisible(L8.graphViewScrollBarVisible),R._initView()},V("GraphView",v,{ms_v:1,ms_gv:1,ms_bnb:1,ms_tip:1,ms_dm:1,ms_lp:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,_52o:1,_51o:1,ms_ac:[fA,SA,AA,cA,"resettable","editInteractor",bA,"zoomable","pannable","rectSelectable","autoScrollZone",eA,"movableFunc","editableFunc","pointEditableFunc","rectEditableFunc","rotationEditableFunc","anchorEditableFunc","rectSelectBackground","rectSelectBorderColor","editPointSize","editPointBorderColor","editPointBackground","hoverDelay"],_zoomable:L8.graphViewZoomable,_resettable:L8.graphViewResettable,_pannable:L8.graphViewPannable,_rectSelectable:L8.graphViewRectSelectable,_autoScrollZone:L8.graphViewAutoScrollZone,_rectSelectBackground:L8.graphViewRectSelectBackground,_rectSelectBorderColor:L8.graphViewRectSelectBorderColor,_editPointSize:L8.graphViewEditPointSize,_editPointBorderColor:L8.graphViewEditPointBorderColor,_editPointBackground:L8.graphViewEditPointBackground,_scrollBarColor:T4,_scrollBarSize:N,_autoHideScrollBar:yf,_autoMakeVisible:p4,_currentActionType:null,getCoreInteractor:function(){return this._coreInteractor},getLayers:function(){return this._dataModel.getLayers()},setLayers:function(V){this._dataModel.setLayers(V)},setEditable:function(V){var R=this,Q=(Q=R.__interactorMap__)||(R.__interactorMap__={scrollBar:new fI(R),select:new bI(R),text:new cI(R),move:new AI(R),default:new XI(R),touch:new SI(R,{editable:!1})});V?(R._uieditable=!0,Q.edit||(V=R._editInteractorClass||qq.XEditInteractor||PI,Q.edit=new V(R)),R.setInteractors([Q.scrollBar,Q.select,Q.text,Q.edit,Q.move,Q.default,Q.touch])):(R._uieditable=!1,R.setInteractors([Q.scrollBar,Q.select,Q.move,Q.default,Q.touch]))},registerEditInteractor:function(V){this._editInteractorClass=V;var R,Q=this.__interactorMap__;Q&&(R=Q.edit,Q.edit=new V(this),0<=(R=(V=this.getInteractors().getArray()).indexOf(R))&&(V[R]=Q.edit))},getCanvas:function(){return this._canvas},_33I:function(V){var R=V.getUIClass();return R?new R(this,V):q8},getDataUI:function(V){var R=this._25I[V._id];return R===N8&&(R=this._33I(V),this._25I[V._id]=R),R},_5I:function(V){var R=this._25I[V._id];return R||V.dm()!==this.dm()?R:this.getDataUI(V)},getNodeRect:function(V){return L8.getNodeRect(this,V)},getFullscreenDatas:function(){return this._dataModel.getFullscreenDatas()},getEdgeInfo:function(V){return(V=this.getDataUI(V))?(V._79o(),V._78o):null},getEdgeSourcePosition:function(V){var R=(V=this.getDataUI(V)).s,V=V._data._40I;return Xq(this,V,R("edge.source.position"),R("edge.source.offset.x"),R("edge.source.offset.y"),R("edge.source.anchor.x"),R("edge.source.anchor.y"))},getEdgeTargetPosition:function(V){var R=(V=this.getDataUI(V)).s,V=V._data._41I;return Xq(this,V,R("edge.target.position"),R("edge.target.offset.x"),R("edge.target.offset.y"),R("edge.target.anchor.x"),R("edge.target.anchor.y"))},dispose:function(){},invalidateAll:function(V){var R=this;if(V){for(var Q in R._25I)(Q=R._25I[Q])&&Q.dispose();R._25I={},R._56I={},R._24I={},R._34I.clear(),R.redraw()}else R.dm().each(function(V){R.invalidateData(V)})},invalidateSelection:function(){var R=this;R.sm().each(function(V){R.invalidateData(V)})},invalidateData:function(V){this._24I[V._id]=V,this._21Q(V),this.iv()},_21Q:function(V){var R,Q=this._24I;JJ(V)&&$e[V.s(xR)]&&((R=V.getSourceAgent())&&R.getAgentEdges().each(function(V){Q[V._id]=V}),(R=V.getTargetAgent())&&R.getAgentEdges().each(function(V){Q[V._id]=V}),this.iv())},redraw:function(V){this._32I||(V?this._34I.add(V):(this._32I=1,this._34I.clear()),this.iv())},each:function(V,R){var Q=0,X=this.getLayers(),b=this._dataModel,A=b._datas._as,c=A.length;if(X)for(var f={},S=(b.isHierarchicalRendering()&&b.eachByHierarchical(function(V){N=V._layer,(P=(P=f[N])||(f[N]=[])).push(V)}),X.length);Q<S;Q++){var F,D,P,N=X[Q];if(qJ(N)&&(N=N.name),b.isHierarchicalRendering()){if((P=f[N])&&0<(F=P.length))for(var q=0;q<F;q++)if(D=P[q],!1===(R?V.call(R,D):V(D)))return}else for(q=0;q<c;q++)if((D=A[q])._layer===N&&!1===(R?V.call(R,D):V(D)))return}else if(b.isHierarchicalRendering())this._dataModel.eachByHierarchical(V,null,R);else for(;Q<c;Q++)if(D=A[Q],!1===(R?V.call(R,D):V(D)))return},reverseEach:function(V,R){var Q,X=this._dataModel,b=X._layers,A=X._datas._as,c=A.length;if(b){var f={};for(X.isHierarchicalRendering()&&X.reverseEachByHierarchical(function(V){P=V._layer,(D=(D=f[P])||(f[P]=[])).push(V)}),Q=b.length-1;0<=Q;Q--){var S,F,D,P=b[Q];if(qJ(P)&&(P=P.name),X.isHierarchicalRendering()){if((D=f[P])&&0<(S=D.length))for(var N=0;N<S;N++)if(F=D[N],!1===(R?V.call(R,F):V(F)))return}else for(N=c-1;0<=N;N--)if((F=A[N])._layer===P&&!1===(R?V.call(R,F):V(F)))return}}else if(X.isHierarchicalRendering())X.reverseEachByHierarchical(V,null,R);else for(Q=c-1;0<=Q;Q--)if(F=A[Q],!1===(R?V.call(R,F):V(F)))return},getViewRect:function(){return this._29I},getContentRect:function(){var V,R,Q=this,X=Q._84I;return X||(V=this.dm().a("width"),R=this.dm().a("height"),0<V&&0<R?Q._84I={x:0,y:0,width:V,height:R}:(Q.each(function(V){Q.isVisible(V)&&(X=es(X,Q.getDataUIBounds(V)))}),Q._84I=X||ke)),Q._84I},getScrollRect:function(){return es(this.getContentRect(),this._29I)},makeCenter:function(V,R,Q){var X,b,A,c,f=this;f.getWidth()&&f.getHeight()?(f.makeVisible(V),f.validate(),(b=f.getDataUIBounds(V))&&(c=f.getWidth(),X=f.getHeight(),A=b.x+b.width/2,b=b.y+b.height/2,A=-A*f._zoom+c/2,c=-b*f._zoom+X/2,f.setTranslate(A,c,R))):Q||Zf(f.makeCenter,f,[V,R,!0],500)},fitData:function(R,Q,X,b,V){var A,c=this;c.getWidth()&&c.getHeight()?(A=function(){c.makeVisible(R),c.validate();var V=c.getDataUIBounds(R);V&&(V=Bf(V),ys(V,X==q8?20:X),c.fitRect(V,Q,b))},Q?L8.callWhenLoaded(A):A()):V||Zf(c.fitData,c,[R,Q,X,b,!0],500)},fitContent:function(R,Q,X,V){var b,A=this;A.getWidth()&&A.getHeight()?(b=function(){A.validate();var V=Bf(A.getContentRect());ys(V,Q==q8?20:Q),A.fitRect(V,R,X)},R?L8.callWhenLoaded(b):b()):V||Zf(A.fitContent,A,[R,Q,X,!0],500)},fitRect:function(V,R,Q){var X=this,b=X.getWidth(),A=X.getHeight(),c=V.x+V.width/2,f=V.y+V.height/2,S=X8(b/V.width,A/V.height),c=-c*(V=X._zoom)+b/2,b=-f*V+A/2;0===S||isNaN(S)||(Q&&(S=X8(1,S)),R?(X._65I&&(delete X._65I.finishFunc,X._65I.stop(!0)),X._14o&&X._14o.stop(!0),X.setTranslate(c,b,{finishFunc:function(){X.setZoom(S,R)}})):(X.setTranslate(c,b),X.setZoom(S)))},fitSelection:function(V,R,Q){var X=this,b=X.sm(),A=null;b.size()&&(b.each(function(V){A=es(X.getDataUIBounds(V),A)}),V&&ys(A,V),X.fitRect(A,R,Q))},toCanvas:function(V,R,Q){R=R||this._zoom,this.validateImpl();var X=this.getContentRect(),Q=(Q&&ys(X,Q),X.width||(X.width=10),X.height||(X.height=10),IJ()),b=X.x*R,A=X.y*R,c=Math.ceil(X.width*R),X=Math.ceil(X.height*R),f=(xJ(Q,c,X,1),S2(Q)),c=((V=V||this._dataModel.getBackground())&&Q4(f,0,0,c,X,V),D2(f,-b,-A),f.scale(R,R),this._zoom);return this._zoom=R,this._42(f),this._zoom=c,f.restore(),this.redraw(),Q},toDataURL:function(V,R,Q,X){return this.toCanvas(V,Q,X).toDataURL(R||"image/png",1)},getClipBounds:function(){return this._74O},_42:function(c,f){var V,R,S=this,Q=S.dm().getBackground(),X=(Q&&(V=S.dm().a("width"),R=S.dm().a("height"),0<V&&0<R&&Q4(c,0,0,V,R,Q)),S.__htmlOrderList),F=[],D=S._forcedLayoutHTML;if(S._93db(c,f),S.each(function(V){var R,Q,X,b,A=S.getDataUI(V);A&&(R=S._56I[V._id],b=A._htmlView,R&&(Q=A._79o(),b=A._htmlView,I.HtmlNode&&V instanceof I.HtmlNode?A._42(c):(V=S.getViewRect(),X=b&&b.layoutHTML,!f||ls(f,Q)?(X&&(b.layoutHTML(),A.__outerLayout&&delete A.__outerLayout),A._42(c)):ls(V,Q)||!X||A.__outerLayout&&!D||(b.layoutHTML(),A.__outerLayout=!0))),b&&(F.push(b),(b=b.getView?b.getView():b).style.display=R?"block":eR))}),X&&0<F.length){var b=!1;if(X.length!==F.length)b=!0;else for(var A=0;A<F.length;A++)if(F[A]!==X[A]){b=!0;break}b&&(F.forEach(function(V){!1!==V.autoAdjustIndex&&S.appendHTML(V,!0)}),this.__htmlOrderList=F)}else this.__htmlOrderList=F;S._92db(c,f)},disableDirtyRect:function(){this._shouldRedrawAll=s},enableDirtyRect:function(){var V=this;V._shouldRedrawAll=function(){return V._32I}},validateImpl:function(){this.tryUpdateRootData();var Q,R,X,V,b,A,c,f=this,S=f.tx(),F=f.ty(),D=f._zoom,P=f._canvas,N=this.getWidth(),q=this.getHeight(),L=f._29I,e={x:-S/D,y:-F/D,width:N/D,height:q/D},J={},s=f._34I,l=f._24I,H=f._shouldRedrawAll(),K=f._23I;for(Q in f._24I={},N===P.clientWidth&&q===P.clientHeight||(xJ(P,N,q),f._forcedLayoutHTML=H=1),H||wJ(e,L)||(f._forcedLayoutHTML=H=1),f._29I=e,f.each(function(V){Q=V._id;var R=J[Q]=f.isVisible(V);R!==f._56I[Q]&&(l[Q]=V,(X=f.getDataUI(l[Q]))&&X._84o(R),f._84o(V,R))},f),l)(X=f._5I(l[Q]))&&(!H&&f._56I[Q]&&(V=X._79o())&&s.add(V),X.invalidate()),f._83I=1;if(f._56I=J,!H)for(Q in l)J[Q]&&(X=f._5I(l[Q]))&&(V=X._79o())&&s.add(V);H?R=e:(s.each(function(V){ls(e,V)&&(R=es(R,V))}),R&&(ys(R,Q8(1,1/D)),R.x=o8(R.x*D)/D,R.y=o8(R.y*D)/D,R.width=_8(R.width*D)/D,R.height=_8(R.height*D)/D,R=Hs(e,R))),(f._74O=R)&&0!==R.width&&0!==R.height&&(L=S2(P),P=R.x,b=R.y,A=R.width,c=R.height,P=Math.floor((P*D+S)*Kf),b=Math.floor((b*D+F)*Kf),A=Math.ceil(A*D*Kf)+1,c=Math.ceil(c*D*Kf)+1,H||(R.x=(P/Kf-S)/D,R.y=(b/Kf-F)/D,R.width=A/Kf/D,R.height=c/Kf/D),L.beginPath(),L.rect(P,b,A,c),L.clip(),L.clearRect(P,b,A,c),F2(L,S,F,D),f._42(L,R),L.restore(),delete f._74O),s.clear(),delete f._32I,delete f._forcedLayoutHTML,K&&0<N&&0<q&&((X=f._5I(K))&&(V=X._79o(),b=(P=f._29I).x,A=P.y,c=P.width,S=P.height,D=f._zoom,V&&!ls(V,P)&&(V.x+V.width<b&&f.tx(-V.x*D),V.x>b+c&&f.tx(-(V.x+V.width-c)*D),V.y+V.height<A&&f.ty(-V.y*D),V.y>A+S&&f.ty(-(V.y+V.height-S)*D))),delete f._23I),f._83I&&(delete f._83I,delete f._84I),f._98O(),f.countFrame(),_J(f._24I)||Zf(f.iv,f)},isValidGuideLineSource:function(V){return!0},tryUpdateRootData:function(){if(!this._rootDataUpdating){this._rootDataUpdating=!0;var V,R,Q=this.getFullscreenDatas();for(R in Q)V=Q[R],this.scaleRootData(V);this.onRootDataUpdated&&this.onRootDataUpdated(),this._rootDataUpdating=!1}},scaleRootData:function(V){if("uniform"===(P=V.s("fullscreen"))||"fill"===P){V.getRotation()&&V.setRotation(0);var R=V.s("fullscreen.gap")||0,Q=this.getWidth(),X=this.getHeight();if(Q&&X){var Q=Q-2*R,X=X-2*R,b=V.getAnchor(),A=(c=V.getScaledSize()).width,c=c.height;if(F=V.s("fullscreen.lock"))return"uniform"===P?A/c<Q/X?(D=X/c,A=c*Q/X):(D=Q/A,c=A*X/Q):"v"===F?(A=Q/(D=X/c),V.getWidth()!==A&&V.setWidth(A)):(c=X/(D=Q/A),V.getHeight()!==c&&V.setHeight(c)),this.setZoom(D),f=R-(V.getX()-b.x*A)*D,S=R-(V.getY()-b.y*c)*D,f!==this.tx()&&this.tx(f),void(S!==this.ty()&&this.ty(S));var f=this.tx(),S=this.ty(),F={x:(-f+R)/(D=this._zoom),y:(-S+R)/D,width:Q/D,height:X/D},D=("uniform"===P&&(f=A/c,R=(S=Math.min(F.width,F.height*f))/f,F.x+=.5*(F.width-S),F.y+=.5*(F.height-R),F.width=S,F.height=R),Q=F.width/V.getScaleX(),X=F.height/V.getScaleY(),V.getWidth()==Q&&V.getHeight()===X||V.setSize(Q,X),F.x+b.x*F.width),P=F.y+b.y*F.height;D===(A=V.getPosition()).x&&P===A.y||V.setPosition(D,P)}}},isScrollBarVisible:function(){return!!this._79O},setScrollBarVisible:function(V){var R=this;V!==R.isScrollBarVisible()&&(V?(BJ(R._view,R._79O=pJ()),BJ(R._79O,R._27I=pJ()),BJ(R._79O,R._28I=pJ())):(zs(R._79O),delete R._79O,delete R._27I,delete R._28I),R.fp("scrollBarVisible",!V,V))},getDebugTip:function(){return""},showScrollBar:function(){var V=this;V._79O&&(V._85I||(W8(function(){V._86I()},nf),V.iv()),V._85I=new Date)},_86I:function(){var V=this;V._85I&&((new Date).getTime()-V._85I.getTime()>=nf?(delete V._85I,V.iv()):W8(function(){V._86I()},nf))},getVScrollBar:function(){return this._27I},getHScrollBar:function(){return this._28I},_98O:function(){var V=this._27I,R=this._28I;if(this._79O){if(this._autoHideScrollBar&&!this._85I)return V.style.visibility=GR,void(R.style.visibility=GR);var Q=this.getScrollBarColor(),X=this._zoom,b=this.getScrollBarSize(),A=this.getViewRect(),c=this.getScrollRect(),f=A.height*X,S=c.height*X,F=A.width*X-b-2,D=f*((A.y-c.y)*X/S),P=f/S*f,N=V.style,S=(f<S-.5?(P<Mf&&(f<(D=(D=D+P/2-Mf/2)<0?0:D)+Mf&&(D=f-Mf),P=Mf),_(V,F,D,b,P),N.visibility=dR,N.background=Q,N.borderRadius=b/2+JR):N.visibility=GR,A.width*X),f=c.width*X,D=A.height*X-b-2,F=S*((A.x-c.x)*X/f),V=S/f*S,N=R.style;S<f-.5?(V<Mf&&(S<(F=(F=F+V/2-Mf/2)<0?0:F)+Mf&&(F=S-Mf),V=Mf),_(R,F,D,V,b),N.visibility=dR,N.background=Q,N.borderRadius=b/2+JR):N.visibility=GR}},setDataModel:function(V){var R=this,Q=R._dataModel,X=R._selectionModel;Q!==V&&(Q&&(Q.ump(R.handleDataModelPropertyChange,R),Q.umm(R.handleDataModelChange,R),Q.umd(R.handleDataPropertyChange,R),Q.removeIndexChangeListener(R._75O,R),Q.removeHierarchyChangeListener(R.handleHierarchyChange,R),X||Q.sm().ums(R.handleSelectionChange,R)),(R._dataModel=V).mp(R.handleDataModelPropertyChange,R),V.mm(R.handleDataModelChange,R),V.md(R.handleDataPropertyChange,R),V.addIndexChangeListener(R._75O,R),V.addHierarchyChangeListener(R.handleHierarchyChange,R),X?X._21I(V):V.sm().ms(R.handleSelectionChange,R),R.invalidateAll(!0),R.fp(OA,Q,V),R.updateBackground())},getLayersInfo:function(){var V;return this._layersInfo===N8&&((V=this.getLayers())?(this._layersInfo={},V.forEach(function(V){var R=qJ(V)?V.name:V;this._layersInfo[R]=V},this)):this._layersInfo=null),this._layersInfo},calculateEdgePosition:function(V,R,Q){V instanceof I.Data?(X=this.getDataUI(V),f=lq(X)):(f=lq(null,V,arguments[1]),R=arguments[2],Q=arguments[3]);var f,X,b=function(Q){var X=1/0,b=0,A=new W;function V(V){var R;return 0<=V&&V<=1&&(A=tq(f,100*V),(R=(Q.x-A.x)*(Q.x-A.x)+(Q.y-A.y)*(Q.y-A.y))<X&&(X=R,b=V,1))}for(var R=0;R<100;++R)V(R/100);for(var c=.005;.001<c;)V(b-c)||V(b+c)||(c/=2);return b}(R=2===R.length?new W(R[0],R[1]):R),A=tq(f,100*b);if(!Q)for(var c=X?gq(X):gq(V,arguments[1]),S=new W(A.x,A.y),F=49/(this._zoom*this._zoom),D=0,P=c.length;D<P;D++)if(S.distanceToSquared(c[D])<F)return{index:D,point:c[D],distance:Math.sqrt((c[D].x-R.x)*(c[D].x-R.x)+(c[D].y-R.y)*(c[D].y-R.y))};return{percent:b,point:A,distance:Math.sqrt((A.x-R.x)*(A.x-R.x)+(A.y-R.y)*(A.y-R.y))}},getPercentPositionOfPath:function(V,R){var Q;return V instanceof I.Data?(Q=this.getDataUI(V),Q=lq(Q)):(Q=lq(null,V,arguments[1]),R=arguments[2]),tq(Q,R)},getNeareastPositionOfPath:function(){return this.calculateEdgePosition.apply(this,arguments)},getPointsOfPath:function(V){for(var R,Q,X,b,X=V instanceof I.Data?(R=this.getDataUI(V),Q=(R=sq(R)).points,R.segments):(Q=V,arguments[1]),A=V instanceof I.Shape?V.getPointsMatrix2d():new B.Matrix2d,c=[],f=-1,S=-1,F=0,D=(X||Q).length;F<D;F++)5!==(b=X?X.get(F):1)&&(S++,3===b?(Gm(c,Q,f+1,S,"C",A),Gm(c,Q,f+2,S,"M",A),f+=2):4===b?(Gm(c,Q,f+1,S-1,"R",A),Gm(c,Q,f+2,S,"L",A),Gm(c,Q,f+3,S,"M",A),f+=3):(Gm(c,Q,f+1,S,"M",A),f+=1));return c},calculateAttachPoint:(jc=new W,Cc=new W,vc=new W,function(V,R){var Q=this.getAttachPoints(V);if(!Q||!Q.length)return null;vc.set(R.x,R.y);for(var X,b,A,c,f=1/0,S=0,F=Q.length;S<F;S++)A=Q[S],Cc.x=A.x,Cc.y=A.y,jc.x=A.offsetX||0,jc.y=A.offsetY||0,A=Xq(this,V,0,jc.x,jc.y,Cc.x,Cc.y),(b=vc.distanceToSquared(A))<f&&(X=S,f=b,c=A);return f=Math.sqrt(f),"close"===(R=this.getAttachStyle(V))&&V.s("attach.close.threshold")/this._zoom<f?null:{index:X,distance:f,info:Q[X],point:c}}),getAttachPoints:function(V){var R=V.s("attach.points");return R||((R=U(V._image))?p(R.attachPoints,V,this)||null:void 0)},getAttachStyle:function(V){var R=V.s("attach.style");return R||((R=U(V._image))?p(R.attachStyle,V,this)||"close":void 0)},updateLayers:function(){this._layersInfo=N8,this.invalidateSelection(),this.redraw()},updateBackground:function(){var V=this.dm().a("width"),R=this.dm().a("height");this._canvas.style.background=!(0<V&&0<R)&&this.dm().getBackground()||""},handleDataModelPropertyChange:function(V){var R,Q;"background"===V.property?(R=this._canvas.style.background,Q=V.newValue||"",this.updateBackground(),this.fp("canvasBackground",R,Q),this.redraw()):"a:width"===V.property||"a:height"===V.property?(this._83I=1,this.updateBackground(),this.redraw()):"layers"===V.property?this.updateLayers():"hierarchicalRendering"===V.property&&this.redraw()},handleDataPropertyChange:function(V){this.dm().isHierarchicalRendering()&&"parent"===V.property&&V.data.hasChildren()&&this.redraw(),this.invalidateData(V.data)},onPropertyChanged:function(V){var R,Q=V.property;this.redraw(),"zoom"===Q?(R=this.sm().getSelection()).size()&&R.each(function(V){V.invalidate()}):"dataModel"===Q&&(this._83I=1),h_[Q]?this.showScrollBar():Q===bA&&this.onCurrentSubGraphChanged(V)},onCurrentSubGraphChanged:function(V){this.sm().cs(),this.reset()},handleDataModelChange:function(V){var R,Q,X,b=this,A=V.kind,V=V.data;b._83I=1,"add"===A?(b.invalidateData(V),JJ(V)&&V.getEdgeGroup()&&V.getEdgeGroup().eachSiblingEdge(b.invalidateData,b),V.getHost&&V.getHost()&&V.getHost().updateLayoutAttaches()):A===zR?(b._21Q(V),R=V._id,(Q=b._25I[R])&&(b._56I[R]&&(X=Q._79o())&&b.redraw(X),Q.dispose(),delete b._25I[R],delete b._24I[R],delete b._56I[R]),V===b._currentSubGraph&&b.setCurrentSubGraph(q8)):A===YR&&(b.invalidateAll(!0),b.setCurrentSubGraph(q8))},_75O:function(V){this.invalidateData(V.data)},handleHierarchyChange:function(V){var R,Q;this.dm().isHierarchicalRendering()&&((Q=V.data).getHost&&(R=Q.getHost())&&R.updateLayoutAttaches(),Q.hasChildren()&&this.redraw()),this.invalidateData(V.data)},adjustIndex:function(V){if(this.isVisible(V)){this.dm().beginTransaction();for(var R=V;R._parent&&this.isVisible(R._parent);)R=R._parent;R&&R!==V&&this._dataModel.adjustIndex(R),this._dataModel.adjustIndex(V),this.dm().endTransaction()}},getImage:function(V){return V.getImage?V.getImage():N8},getSelectWidth:function(V){var R=U(this.getImage(V));return R&&p(R.disableSelectedBorder,V,this)?0:V.s("select.width")},getSelectColor:function(V){return V.s("select.color")},isSelectable:function(V,R){return!!this.isSelected(V)||!(!R&&V.getParent()instanceof qu&&this.isSelectable(V.getParent(),!0)&&V.getParent().isSyncSize())&&((!(R=(R=this.getLayersInfo())&&R[V._layer])||!1!==R.selectable)&&(V.s("2d.selectable")&&this.sm().isSelectable(V)))},isMovable:function(V){if(JJ(V)&&V.getStyle(xR)!==nR)return!1;var R=this.getLayersInfo();return(!(R=R&&R[V._layer])||!1!==R.movable)&&(!!V.s("2d.movable")&&(!this._movableFunc||this._movableFunc(V)))},isEditable:function(V){if(I._uiSerializing)return this._uieditable;if(!this._editInteractor||!this.isSelected(V))return!1;if(sJ(V)){var R=this.getDataUI(V);if(!R||R._88I)return!1}return(!JJ(V)||V.getStyle(xR)===nR)&&((!(R=(R=this.getLayersInfo())&&R[V._layer])||!1!==R.editable)&&(!!V.s("2d.editable")&&(!this._editableFunc||this._editableFunc(V))))},handleDelete:function(V){this._editInteractor&&(this._editInteractor.handleDelete?this._editInteractor.handleDelete():this.removeSelection())},isPointEditable:function(V){return(!r(V)||0===V.getRotation())&&(!this._pointEditableFunc||this._pointEditableFunc(V))},isRectEditable:function(V){return!this._rectEditableFunc||this._rectEditableFunc(V)},isAnchorEditable:function(V){return!this._anchorEditableFunc||this._anchorEditableFunc(V)},isRotationEditable:function(V){return!(!V.setRotation||!1===V.IRotatable)&&(!this._rotationEditableFunc||this._rotationEditableFunc(V))},isSourceTargetEditable:function(V,R,Q){return!0},getRotationPoint:function(V){var R=V.getAnchor(),Q=V.getScale(),X=this._zoom,R=H4(V.getRotation(),0,-V.getHeight()*Q.y*R.y-(Q.y<0?-1:1)*(d8?32:16)/X),Q=V.p();return R.x+=Q.x,R.y+=Q.y,R},getLogicalPoint:function(V){return ts(V,this._canvas,this.tx(),this.ty(),this._zoom,this._zoom)},getScreenPoint:function(V,R){var Q;return"object"==typeof V?R=V.x!==N8?(Q=V.x,V.y):(Q=V[0],V[1]):Q=V,gs(Q,R,this._canvas,this.tx(),this.ty(),this._zoom,this._zoom)},getSelectedDataAt:function(V){var R=this;return this.getDataAt(V,function(V){return R.isSelected(V)})},getDataInfoAt:function(V,R,Q){var X=this.lp(V),b=this.getDataAt(X,R,Q);if(b){var A={data:b,ui:V=this.getDataUI(b),point:X},c=V._38o;if(c){var f,S=c.icons;for(f in S){var F=S[f],D=c.rects[f];if(D)for(var P=p(F.names,b,this),F=P?P.length:0,N=D.rotation,q=F-1;0<=q;q--){var L=P[q],e=D[q];if(Js(e,X,N))return A.part="icons",A.name=f,A.icon=L,A.rect=e,A.index=q,A.rotation=N,A}}}if(this.isNoteVisible(b)){if(V.note2Info&&Js(V.note2Info.clickRect,X,q8,V.note2Info.scale))return A.part="note2",A;if(V.noteInfo&&Js(V.noteInfo.clickRect,X,q8,V.noteInfo.scale))return A.part="note",A}if(this.isLabelVisible(b)){if(V.label2Info&&Js(V.label2Info.rect,X,V.label2Info.rotation,V.label2Info.scale))return A.part="label2",A;if(V.labelInfo&&Js(V.labelInfo.rect,X,V.labelInfo.rotation,V.labelInfo.scale))return A.part="label",A}if(b.isInRect&&b.isInRect(X))return A.part="body",A}return A},getDataAt:function(R,Q,X){R.target&&(R=this.lp(R));var b,A=this._zoom;return this.reverseEach(function(V){if((Q?Q(V):this.isSelectable(V))&&this.rectIntersects(V,SJ(R.x,R.y,X,A)))return b=V,!1},this),b},getIconInfoAt:function(V,R){if(V.target&&(V=this.lp(V)),R=R||this.getDataAt(V)){var Q=this.getDataUI(R);if(Q&&Q._38o){var X=Q._38o,b=new Z;for(c in X.icons)b.add(c);for(var A=b.size()-1;0<=A;A--){var c=b.get(A),f=X.rects[c];if(f)for(var S=f.rotation,F=f.length-1;0<=F;F--){var D=f[F],P=D.width,N=D.height,q={x:V.x-D.x-P/2,y:V.y-D.y-N/2};if(S!=q8&&(q=H4(-S,q.x,q.y)),Js(D={x:-P/2,y:-N/2,width:P,height:N},q))return{key:c,index:F,name:X.icons[c].names[F],rect:f[F],point:V,rotation:S,relativeRect:D,relativePoint:q,data:R}}}}}return q8},getDatasInRect:function(R,Q,X){X===N8&&(X=1);var b=this,A=new Z;return b.reverseEach(function(V){X&&!b.isSelectable(V)||(Q?b.rectIntersects(V,R):b.rectContains(V,R))&&A.add(V)}),A},moveSelection:function(V,R){this.dm().beginTransaction(),z4(this.sm().toSelection(this.isMovable,this),V,R),this.dm().endTransaction()},moveDatas:function(V,R,Q){this.dm().beginTransaction(),V instanceof Z||(V=new Z(V)),z4(V,R,Q),this.dm().endTransaction()},getDataUIBounds:function(V){return(V=this.getDataUI(V))?V._79o():q8},drawData:function(R,V,Q){var X,b=this.getDataUI(V);b&&(X=b._79o(),Q&&!ls(Q,X)||(b._42(R),V instanceof I.Block&&V.eachChild(function(V){this.isVisible(V)&&this.drawData(R,V,Q)},this)))},getBoundsForGroup:function(V){return V.s(_R)?this.getDataUIBounds(V):q8},isPixelPerfect:function(V){return V.s("pixelPerfect")},rectIntersects:function(V,R){this.validate();var Q=q8;if(this._56I[V._id]&&(b=this._25I[V._id])){var X=b.getInteractiveRect();if(ss(R,X))Q=!0;else if((R=Hs(R,X))&&(Q=b.rectIntersects?b.rectIntersects(R):Q)==q8){if(!this.isPixelPerfect(V))return!0;var X=R.x,b=R.y,A=R.width,c=R.height,f=this._zoom,S=A*c*f*f,F=((F=L8.hitMaxArea)<S&&(f*=Math.sqrt(F/S)),X*=f,b*=f,U2(A=(A*=f)<2?2:A,c=(c*=f)<2?2:c));D2(F,-X,-b),F.scale(f,f),this._drawForChecking=!0,this.drawData(F,V,R),this._drawForChecking=!1;try{for(var D=0,P=F.getImageData(0,0,A,c).data;D<P.length;D+=4)if(0!==P[D+3]){Q=!0;break}F.restore()}catch(V){h2=q8,Q=!1}}}return!!Q},rectContains:function(V,R){return!(!this._56I[V._id]||!(V=this._25I[V._id]))&&ss(R,V._79o())},reset:function(){this.setZoom(1),this.setTranslate(0,0)},handleKeyDown:function(V){var R,Q,X,b,A;L8.isInput(V.target)||(Q=(A=(R=this)._focusData)&&R._25I[A._id],b=0,X=R._dataModel._datas,A&&A._enabled&&A._editable&&Q&&Q.onKeyDown&&!0===Q.onKeyDown(V)||(9===V.keyCode&&(A&&(b=X.indexOf(A),Fs(V)?-1==--b&&(b=0):++b===X.size()&&(b=0)),R._focusData=A=X.get(b),R.sm().setSelection(A)),u2(V)?R.selectAll():E2(V)&&R.isResettable()&&R.reset(),R.sm().isEmpty()?R._editing||(Q=R.tx(),X=R.ty(),b=!1,A=Fs()?100:10,i2(V)&&(Q-=A,b=!0),n2(V)&&(X-=A,b=!0),M2(V)&&(Q+=A,b=!0),r2(V)&&(X+=A,b=!0),b&&R.setTranslate(Q,X)):(o2(V)&&R.handleDelete(V),A=Fs()?10:1,i2(V)&&(R.moveSelection(-A,0),R.fi({kind:"moveLeft"})),n2(V)&&(R.moveSelection(0,-A),R.fi({kind:"moveUp"})),M2(V)&&(R.moveSelection(A,0),R.fi({kind:"moveRight"})),r2(V)&&(R.moveSelection(0,A),R.fi({kind:"moveDown"})))))},handleScroll:function(V,R){if(Tf(V),this.isZoomable()){if(!this.getEditInteractor()){var Q=this.getDataAt(V);if(Q){var X=U(this.getImage(Q));if(X&&p(X.scrollable,Q,this))return}}var b,A=this.getFullscreenDatas();for(b in A)if(A[b].s("fullscreen.lock"))return;X=this.lp(V),0<R?this.scrollZoomIn(X):R<0&&this.scrollZoomOut(X)}},handlePinch:function(V,R,Q){!this.isZoomable()||Math.abs(R-Q)<L8.pinchZoomThreshold||(Q<R?this.pinchZoomIn(V):this.pinchZoomOut(V))},checkDoubleClickOnNote:function(V,R){var Q=this.lp(V),X=this.getDataUI(R),b=X.note2Info;return b&&R.s("note2.toggleable")&&Js(b.clickRect,Q)?(R.s(IR,!R.s(IR)),this.fi({kind:"toggleNote2",event:V,data:R}),!0):!!((b=X.noteInfo)&&R.s("note.toggleable")&&Js(b.clickRect,Q))&&(R.s(pR,!R.s(pR)),this.fi({kind:"toggleNote",event:V,data:R}),!0)},_84o:function(V,R){},isNoteVisible:function(V){return.15<this._zoom},isLabelVisible:function(V){return.15<this._zoom},isEditVisible:function(V){return.15<this._zoom},autoScroll:function(V,R){var Q=this,X=Q.getAutoScrollZone(),b=X/Q.getZoom(),A=X/4,c=Q._29I,V=Q.lp(V),f={x:Q.tx(),y:Q.ty()};return V&&0<X&&c&&(V.x-c.x<b?Q.translate(A,0):c.x+c.width-V.x<b&&Q.translate(-A,0),V.y-c.y<b?Q.translate(0,A):c.y+c.height-V.y<b&&Q.translate(0,-A)),f.x=Q.tx()-f.x,f.y=Q.ty()-f.y,R&&(R.x+=f.x,R.y+=f.y),f},getMoveMode:function(V,R){return(R=R.s("2d.move.mode"))||(ne[88]?"x":ne[89]?"y":"xy")},getSerializableProperties:function(){return{scrollBarColor:1,scrollBarSize:1,autoMakeVisible:1,autoHideScrollBar:1,editable:1,resettable:1,pannable:1,rectSelectable:1,autoScrollZone:1,visibleFunc:1,movableFunc:1,editableFunc:1,pointEditableFunc:1,rectEditableFunc:1,anchorEditableFunc:1,rotationEditableFunc:1,rectSelectBackground:1,rectSelectBorderColor:1,editPointSize:1,editPointBorderColor:1,editPointBackground:1,hoverDelay:1,dataModel:1,selectionModel:1,currentSubGraph:1,zoom:1,translateX:1,translateY:1}},serializeProperty:function(V,R,Q){return"currentSubGraph"===R?{__i:V.getId()}:Q.serializeProperty(V,R,this)},deserializeProperty:function(V,R,Q){return"currentSubGraph"===R?this.dm().__idMap[V.__i]:Q.deserializeProperty(V,R,this)},setDefaultCursor:function(V,R){this._defaultCursor=V,!1!==R&&this.setCursor(V)},getCurrentConnectActionType:function(){return this._currentActionType},setCurrentConnectActionType:function(V){return!(V!==q8&&!L8.getConnectAction(null,V)||(this._currentActionType=V,this.redraw(),0))},getEditStyle:function(V){var R=this.getEditInteractor();return R?R.getStyle(V):N8},setEditStyle:function(V,R,Q){var X=this.getEditInteractor();return!!X&&(X.setStyle(V,R,Q),!0)},isConnectActionVisible:function(V){var R=L8.getConnectAction(this);return!!R&&(R=R.visible,LJ(R)?R(this,V):R)},isInteractive:function(V){if(this._drawForChecking)return!1;var R=U(this.getImage(V));return!(!R||!p(R.interactive,V,this))||V.s("interactive")},getRenderingStyleIconName:function(){return $u},appendHTML:function(V,R){var Q=this.getView();if(!(R||V&&V.parentNode!==Q))return!1;var X=V.getView&&V.getView(),b=V.beforeCanvas;return!(!R&&X&&X.parentNode===Q)&&((V.getView||V.isSelfViewEvent)&&(V=V.getView()),R=this.getEditInteractor(),b?Q.insertBefore(V,this.getCanvas()):R&&R._canvas?Q.insertBefore(V,R._canvas):this.isScrollBarVisible()?Q.insertBefore(V,this.getView().lastChild):BJ(Q,V),!0)},_layoutHTMLImpl:function(V,R,Q){var X,b,A,c,f,S;1<arguments.length?(b=this._zoom,(R=R.getView?(X=R).getView():R).style.position="absolute",Q?(A=V.getRect(),_(X||R,this.tx()+A.x*b,this.ty()+A.y*b,A.width*b,A.height*b)):(Q=new Rf,A=V.getAnchorRect(),c=V.getPosition(),f=V.getScale(),S=R.style,_(X||R,A),Q.appendTranslate(this.tx(),this.ty()),Q.appendScale(b,b),Q.append(new Rf(V.getRotation(),c.x,c.y,f.x,f.y)),c2(S,"transform","matrix("+Q.a.toFixed(5)+", "+Q.b.toFixed(5)+", "+Q.c.toFixed(5)+",\n    "+Q.d.toFixed(5)+", "+Q.tx.toFixed(5)+", "+Q.ty.toFixed(5)+")"),c2(S,"transformOrigin",(-A.x).toFixed(5)+"px "+(-A.y).toFixed(5)+"px"),R.updateAppendMatrix=!0)):this._layoutHTML&&this._layoutHTML()},getTextEditInfo:function(V){if(V instanceof eu)return{name:"text",accessType:"s",font:V.s("text.font"),isMultiline:!0}},getState:function(V){var R=V.s("state");return R||((R=U(V._image))?p(R.state,V,this)||null:void 0)},getShape:function(V){return V.getStyle(tR)}}),v.defineProperties(qq.GraphView.prototype,{layoutHTML:{get:function(){return this._layoutHTMLImplBind||(this._layoutHTMLImplBind=this._layoutHTMLImpl.bind(this)),this._layoutHTMLImplBind},set:function(V){this._layoutHTML=V}}}),function(V,R){this.gv=V,this.s=function(V){return R.getStyle(V)},this._data=R,this._87I=new Z}),$u=q8,ju=(Os(Eu,v,{_6I:q8,ms_icons:1,_84o:function(V){},dispose:function(){},isShadowed:function(){return this.s("shadow")||this.gv.isSelected(this._data)&&"shadow"===this.s("select.type")},getSelectWidth:function(){return!this.gv.isSelected(this._data)||this.isShadowed()?0:this.gv.getSelectWidth(this._data)},getSelectColor:function(){return this.gv.getSelectColor(this._data)},getBodyColor:function(V){var R=this._data;return this.gv.getBodyColor(R)||(V?R.getStyle(V):q8)},_2Q:function(V){return this.s(V)},_1Q:function(V,R,Q,X){var b,A=this.s,c=A("2d.gray"),f=A(R+".dash.color");c&&(f=L8.toGrayColor(f)),V.strokeStyle=f,V.lineWidth=Q,V.stroke(),A(R+".dash.3d")&&(b=A(R+".dash.3d.color"),V4(V,f,c?L8.toGrayColor(b):b,Q,this.gv._zoom,A(R+".dash.3d.accuracy"))),Q_(V,X)},invalidate:function(){this._6I=q8},_79o:function(){var V,R,Q=this;return Q._6I||(V=Q._data,R=Q.gv,Q.labelInfo=Q.label2Info=Q.noteInfo=Q.note2Info=Q._38o=q8,Q._87I.clear(),Q.interactiveInfo=R.isInteractive(V)?{}:q8,Q._interactiveRect=q8,Q._3O(),Q._55O=R.isEditable(V)?{_42O:R.isRectEditable(V),_43O:R.isPointEditable(V),_56O:R.isRotationEditable(V)}:q8,Q._6I=Q._81o()),Q._6I},_3O:function(){},getPosition:function(V,R,Q,X){return ke},_68o:function(V,R){var Q,X;V&&this._87I.add(R?(R=new Qf(R),Q=V.width/2,X=V.height/2,(R=Ls([R.tf(-Q,-X),R.tf(Q,-X),R.tf(Q,X),R.tf(-Q,X)])).x+=V.x+Q,R.y+=V.y+X,R):V)},getInteractiveRect:function(){var V=this._6I||this._79o();return this._interactiveRect||V},_81o:function(){var R,V,Q,X=this,b=X.s;return X._24O($R,"getLabel"),X._24O(jR,"getLabel2"),X._26O(CR,"getNote"),X._26O(vR,"getNote2"),X._15O(),X._55O&&X._48O(),X._87I.each(function(V){R=es(R,V)}),R&&(V=X.isShadowed(),Q=b("shadow2"),(V||Q)&&(Q=Bf(R),V?(Q.x+=b("shadow.offset.x"),Q.y+=b("shadow.offset.y"),ys(Q,b("shadow.blur"))):(Q.x+=b("shadow2.offset.x"),Q.y+=b("shadow2.offset.y"),ys(Q,b("shadow2.blur"))),Q=es(R,Q),b("shadow.interactable")||(X._interactiveRect=R),R=Q)),X._87I.clear(),R},_42:function(V){var R,Q,X,b,A,c,f,S=this,F=S._data,D=S.gv,P=S.s,N=P("opacity"),q=this.isShadowed(),L=P("shadow2");(q||L)&&(R=V.shadowOffsetX,Q=V.shadowOffsetY,X=V.shadowBlur,b=V.shadowColor,A=D.getZoom()*L8.devicePixelRatio,V.shadowOffsetX=P((c=q?"shadow":"shadow2")+".offset.x")*A,V.shadowOffsetY=P(c+".offset.y")*A,V.shadowBlur=P(c+".blur")*A,V.shadowColor=q?S.getSelectColor():P(c+".color")),N!=q8&&(f=V.globalAlpha,V.globalAlpha=N),S.drawBody(V),D.isLabelVisible(F)&&(D._drawForChecking&&!P("label.selectable")||cq(V,S.labelInfo),D._drawForChecking&&!P("label2.selectable")||cq(V,S.label2Info)),D.isNoteVisible(F)&&(fq(V,S.noteInfo),fq(V,S.note2Info)),S._99O(V),N!=q8&&(V.globalAlpha=f),(q||L)&&(V.shadowOffsetX=R,V.shadowOffsetY=Q,V.shadowBlur=X,V.shadowColor=b)},drawBody:function(V){},_47O:function(V){},_24O:function(V,R){var Q,X,b,A=this._data,c=this.gv,f=this.s,S=c[R](A);S!=q8&&(Q=f(V+".scale"),b=f(V+".max"),X=f(V+".position"),c=this[V+"Info"]={label:S,scale:Q,color:c[R+"Color"](A),font:f(V+".font"),opacity:f(V+".opacity"),align:f(V+".align"),decoration:f(V+".decoration"),rotation:this.getRotation(f(V+".rotation"),!1,X),background:c[R+"Background"](A)},R=GJ(c,S),0<b&&b<R.width&&(c.labelWidth=R.width,R.width=b),1!==Q&&(R.width*=Q,R.height*=Q),A=this.getPosition(X,f(V+".offset.x"),f(V+".offset.y"),R,f(V+".position.fixed")),R.x=A.x-R.width/2,R.y=A.y-R.height/2,this._68o(c.rect=R,c.rotation),1!==Q&&(S=R.width/Q,b=R.height/Q,c.rect={x:A.x-S/2,y:A.y-b/2,width:S,height:b}))},_26O:function(V,R){var Q,X,b,A,c,f=this.gv,S=this._data,F=this.s,D=f[R](S);D!=q8&&(Q=F(V+".scale"),f=this[V+"Info"]={note:D,scale:Q,data:S,view:f,expanded:F(V+".expanded"),font:F(V+".font"),color:F(V+".color"),opacity:F(V+".opacity"),align:F(V+".align"),icon:F(V+".icon"),backgroundImage:F(V+".backgroundImage"),borderWidth:F(V+".border.width"),borderColor:F(V+".border.color"),background:f[R+"Background"](S)},X=(R=this.getPosition(F(V+".position"),F(V+".offset.x"),F(V+".offset.y"))).x,R=R.y,f.expanded?(b=F(V+".max"),(c=(c=F(V+".backgroundImage"))?(c=U(c),{width:s_(c,S),height:l_(c,S)}):GJ(f,D)).width+=6,c.height+=2,0<b&&b<c.width&&(f.labelWidth=c.width,c.width=b),b=c.width,A=c.height+8,f.clickRect={x:X-b*Q/2,y:R-A*Q,width:b*Q,height:A*Q*c.height/A}):(A=(D=F(V+".icon"))?(D=U(D),b=s_(D,S),l_(D,S)):(b=12,18),f.clickRect={x:X-b*Q/2,y:R-A*Q,width:b*Q,height:A*Q}),f.rect={x:X-b/2,y:R-A*Q/2-A/2,width:b,height:A},c=_8(f.borderWidth/2)*Q,this._68o({x:X-b*Q/2-c,y:R-A*Q-c,width:b*Q+2*c,height:A*Q+2*c}))},_48O:function(){},_99O:function(V){var R=this._38o;if(R){var Q,X=this.gv,b=this._data,A=R.icons,c=this.interactiveInfo;for(Q in c&&(c._38o={}),A){var f=A[Q],S=R.rects[Q];if(S){c&&(c._38o[Q]=[]);var F,D=p(f.opacity,b,X),P=p(f.names,b,X),N=P?P.length:0,q=S.rotation;D!=q8&&(F=V.globalAlpha,V.globalAlpha*=D);for(var L=0;L<N;L++){var e,J,s=P[L],s=U(s),l=S[L],H=(q&&(e=l.x+l.width/2,J=l.y+l.height/2,V.save(),D2(V,e,J),P2(V,q),D2(V,-e,-J)),c&&c._38o[Q].push(V.interactiveInfo={compInfos:[],matrix:q?new Rf(q,e,J).appendTranslate(-e,-J):new Rf}),$u);$u=Q,pf(V,s,p(f.stretch,b,X),l.x,l.y,l.width,l.height,this._data,this.gv),$u=H,V.interactiveInfo=q8,q&&V.restore()}D!=q8&&(V.globalAlpha=F)}}}}}),function(V,R){oJ(ju,this,[V,R])}),Cu=(Os(ju,Eu,{_checkEmptyRect:!0,_40O:function(V,R){var Q,X=this.s,b=V.rect,A=((V.borderColor=this.gv.getBorderColor(this._data))&&(V.borderType=X("border.type"),V.borderWidth=X("border.width"),V.borderPadding=X("border.padding"),R=Q8(R,V.borderPadding+V.borderWidth/2)),this._data.getScale()),A=Q8(1,Q8(w8(A.x),w8(A.y)));(V.selectWidth=this.getSelectWidth())&&(Q=this.gv._zoom,V.selectType=X("select.type"),V._97o=this.getSelectColor(),V.selectPadding=X("select.padding"),R=Q8(R,(V.selectPadding+V.selectWidth/2/Q)/A)),0<R&&(R*=A,b=Bf(b),ys(b,R)),this._68o(b)},_39O:function(V,R){var Q,X,b,A,c,f=R.rect;0<R.borderWidth&&(c=R.borderPadding,V.strokeStyle=R.borderColor,V.lineWidth=R.borderWidth,X4(V,R.borderType,{x:f.x-c,y:f.y-c,width:f.width+2*c,height:f.height+2*c}),V.stroke()),0<R.selectWidth&&(X=this.gv._zoom,c=R.selectPadding,V.strokeStyle=R._97o,V.lineWidth=R.selectWidth/X,R.rotation!=q8&&(V.save(),V.translate(R.position.x,R.position.y),V.rotate(R.rotation),Q=(X=this._data).getWidth(),X=X.getHeight(),b=R.scale,A=R.anchor,f={x:b.x*(-Q*A.x),y:b.y*(-X*A.y),width:b.x*Q,height:b.y*X}),X4(V,R.selectType,{x:f.x-c,y:f.y-c,width:f.width+2*c,height:f.height+2*c}),R.rotation!=q8&&V.restore(),V.stroke())},dispose:function(){var V=this._htmlView;ju.superClass.dispose.call(this),V&&(V.onHTMLRemoved&&V.onHTMLRemoved(),zs(V))},_3O:function(){var V,R=this,Q=R.s,X=R._data,b=R.gv,A=b.getShape(X),c=R.getBodyColor(),f=Q("shape.border.color"),S=((c=(f=R._83o=A?{shape:A,_53o:R.getBodyColor("shape.background"),_27Q:U(Q("shape.repeat.image"),c),shapeRepeatImageStretch:Q("shape.repeat.image.stretch"),shapeRepeatImageRotation:Q("shape.repeat.image.rotation"),shapeGradientPack:Q("shape.gradient.pack"),shapeBorderGradientPack:Q("shape.border.gradient.pack"),_54o:Q("shape.border.width"),_55o:f,shapeBorderRepeatImage:U(Q("shape.border.repeat.image"),f),shapeBorderRepeatImageStretch:Q("shape.border.repeat.image.stretch"),shapeBorderRepeatImageRotation:Q("shape.border.repeat.image.rotation"),_56o:Q("shape.border.3d"),_57o:Q("shape.border.3d.color"),_58o:Q("shape.border.3d.accuracy"),shapeGradient:Q("shape.gradient"),_59o:Q("shape.gradient.color"),_60o:Q("shape.border.pattern"),_61o:Q("shape.border.cap"),_62o:Q("shape.border.join"),shapeForeground:Q("shape.foreground"),bodyColor:c,gray:Q("2d.gray")}:{img:U(b.getImage(X),c),bodyColor:c,gray:Q("2d.gray"),stretch:Q("image.stretch")}).img)&&c.renderHTML?(R._htmlInfo&&R._htmlInfo.img!==c&&(R._htmlInfo=q8),R._htmlInfo||(R._htmlInfo={img:c,cache:{}}),S=c.renderHTML(X,b,R._htmlInfo.cache)):R._htmlInfo=q8,R._htmlView&&R._htmlView!==S&&(R._htmlView.onHTMLRemoved&&R._htmlView.onHTMLRemoved(),zs(R._htmlView.getView?R._htmlView.getView():R._htmlView)),(R._htmlView=S)&&b.appendHTML(S)&&(S.onHTMLAddedSync&&S.onHTMLAddedSync(),S.onHTMLAdded&&Zf(S.onHTMLAdded)),f.rect=X.getRect(),f.position=X.p(),f.scale=X.getScale(),f.anchor=X.getAnchor(),f.rotation=X.getRotation(),A===C&&(f._63o=Q("shape.depth")),0);A?(S=Z2(q8,f._54o/2,f._62o),R.s("shape.dash")&&(S=Q8(S,(R.s("shape.dash.width")||f._54o)/2))):c&&c.boundExtend&&(S=p(c.boundExtend,X,b),c.boundExtendAbsolute?(V=X.getScale(),S/=b._zoom*Q8(1,Q8(w8(V.x),w8(V.y)))):p(c.fitSize,X,b)||(V=p(c.width,X,b),c=p(c.height,X,b),S*=Q8(X.getWidth()/V,X.getHeight()/c))),R._40O(f,S),(b=Q("clip.percentage"))!=N8&&(f.clipRect=$J(X.getAnchorRect(),Q("clip.direction"),b)),A&&((V=Q("shape.fill.clip.percentage"))!=N8&&(f.shapeClipRect=$J(X.getAnchorRect(),Q("shape.fill.clip.direction"),V)),(c=Q("shape.foreground.clip.percentage"))!=N8&&(f.shapeForegroundClipRect=$J(X.getAnchorRect(),Q("shape.foreground.clip.direction"),c))),Q("clip.host")&&X.getHost()&&(f.clipHost=!0)},getPosition:function(V,R,Q,X){return(V=_4(V,this._83o.rect,X)).x+=R,V.y+=Q,V},clipHost:function(Q){var R,X,V,b,A,c,f,S,F,D,P,N,q=this._data.getHost();return q instanceof Ju?(V=q.getPoints().toArray(),S=q.getSegments().toArray(),R=q.getMatrix(),X=q.p(),V=V.map(function(V){return(V=Bf(V)).x-=X.x,V.y-=X.y,R.apply(V)}),G2(Q,V,S)):(V=this.gv.getShape(q))?("roundRect"===V?b=q.s("shape.corner.radius"):"polygon"===V?(b=q.s("shape.polygon.side"),A=q.s("shape.corner.radius"),c=q.s("shape.regular")):"nStar"===V?(b=q.s("shape.star.side"),A=q.s("shape.corner.radius"),c=q.s("shape.star.ratio"),f=q.s("shape.regular")):"arc"===V&&(b=q.s("shape.arc.from"),A=q.s("shape.arc.to"),c=q.s("shape.arc.close"),f=q.s("shape.arc.oval")),S=q.p(),F=q.getRotation(),P=q.getAnchor(),N=q.getScale(),(D=q.getSize()).x=-D.width*P.x,D.y=-D.height*P.y,Q.save(),D2(Q,S.x,S.y),P2(Q,F),N2(Q,N.x,N.y),l4[V](Q,D.x,D.y,D.width,D.height,b,A,c,f),Q.restore()):(P=q.s("host.clip.padding")||0,N=q.getScale(),q.getCorners(-P/Math.abs(N.x),-P/Math.abs(N.y)).forEach(function(V,R){R?Q.lineTo(V.x,V.y):Q.moveTo(V.x,V.y)})),!0},drawBody:function(V){var R,Q,X,b,A,c,f,S,F,D,P,N,q,L,e,J=this,s=J.s,l=J.gv,H=J._data,K=J._83o,y=K.rect,t=K.position,g=K.rotation,m=K.anchor,z=K.scale,Y=K.shape,u=K.clipHost,o=K.clipRect;(!J._checkEmptyRect||0<y.width&&0<y.height)&&((y=s("composite"))&&(V.save(),V.globalCompositeOperation=y),u&&(V.save(),V.beginPath(),J.clipHost(V)&&V.clip()),(R=H.getSize()).x=-R.width*m.x,R.y=-R.height*m.y,V.save(),D2(V,t.x,t.y),P2(V,g),N2(V,z.x,z.y),o&&(V.beginPath(),V.rect(o.x,o.y,o.width,o.height),V.clip()),l._drawForChecking&&K.img&&!1===p(K.img.pixelPerfect,H,l)?Q4(V,R.x,R.y,R.width,R.height,"#888888"):J.freeDraw?J.freeDraw(V,R,K):Y?(m=K._60o,o=R_(V,m),N=K._27Q,Q=K._54o,L=K.shapeGradientPack,X=K.gray,b=V.lineJoin,A=V.lineCap,D=function(V){return X?L8.toGrayColor(V):V},"roundRect"===Y?c=s("shape.corner.radius"):"polygon"===Y?(c=s("shape.polygon.side"),f=s("shape.corner.radius"),S=s("shape.regular")):"nStar"===Y?(c=s("shape.star.side"),f=s("shape.corner.radius"),S=s("shape.star.ratio"),F=s("shape.regular")):"arc"===Y&&(c=s("shape.arc.from"),f=s("shape.arc.to"),S=s("shape.arc.close"),F=s("shape.arc.oval")),V.lineJoin=K._62o,V.lineCap=K._61o,(P=D(K._53o))||N||L?((e=K.shapeClipRect)&&(V.save(),V.beginPath(),V.rect(e.x,e.y,e.width,e.height),V.clip()),X4(V,Y,R,c,f,S,F),L?x2(V,L,function(V){return p2(V,K.bodyColor)},!1,R):N?A4(V,N,D(K.bodyColor),null,H,l,K.shapeRepeatImageStretch,R,K.shapeRepeatImageRotation):b4(V,P,K.shapeGradient,D(K._59o),R),V.fill(),L&&V.restore(),e&&V.restore(),V!==o&&X4(o,Y,R,c,f,S,F)):X4(o,Y,R,c,f,S,F),(N=K.shapeForeground)&&(V.save(),(L=K.shapeForegroundClipRect)&&(V.beginPath(),V.rect(L.x,L.y,L.width,L.height),V.clip()),X4(V,Y,R,c,f,S,F),b4(V,N,s("shape.foreground.gradient"),D(s("shape.foreground.gradient.color")),R),V.fill(),V.restore()),0<Q&&((e=s("shape.border.width.absolute"))&&(L=V.getTransform(),(q=J._ctxMat||(J._ctxMat=new I.Math.Matrix2d)).set(L.a,L.b,L.c,L.d,L.e,L.f),V.save(),V.setTransform(1,0,0,1,0,0)),V.lineWidth=Q,N=D(K._55o),(L=K.shapeBorderGradientPack)?x2(V,L,D,!0,R,q):K.shapeBorderRepeatImage?c4(V,K.shapeBorderRepeatImage,N,null,H,l,K.shapeBorderRepeatImageStretch,R,K.shapeBorderRepeatImageRotation):V.strokeStyle=N,V.stroke(),L&&V.restore(),e&&V.restore(),K._56o&&V4(V,N,D(K._57o),Q,l._zoom,K._58o)),Q_(V,m),s("shape.dash")&&0<(q=s("shape.dash.width")||Q)&&(m=s("shape.dash.pattern"),(o=R_(V,m,J._2Q("shape.dash.offset")))!==V&&X4(o,Y,R,c,f,S,F),J._1Q(V,"shape",q,m)),N4(V,P,K._63o,R),V.lineJoin=b,V.lineCap=A):((L=J.interactiveInfo)&&(V.interactiveInfo=L.bodyInfo={compInfos:[],matrix:new Rf(g,t.x,t.y,z.x,z.y)}),K.gray&&(V.compGray=!0),(e=K.img)&&e.cacheRule!=q8&&(e=eq(V,e,K.stretch,R.width,R.height,H,l,K.bodyColor)),pf(V,e,K.stretch,R.x,R.y,R.width,R.height,H,l,K.bodyColor),V.compGray=!1,V.interactiveInfo=q8),V.restore(),u&&V.restore(),y&&V.restore()),J._39O(V,K)},_48O:function(){},_47O:function(V){}}),function(V,R){oJ(Cu,this,[V,R])}),vu=function(V,R,Q,X){var b=qs(V,R);return Q=(X?X8:Sq)(Q,b),b?Q/=b:Q=0,{x:V.x+(R.x-V.x)*Q,y:V.y+(R.y-V.y)*Q}},hu=(Os(Cu,Eu,{_3O:function(){var V,R,Q,X,b,A,c,f,S,F=this,D=F._data,P=F.gv,N=F.s,q=N(xR),L=D.isLooped(),e=N("edge.width"),J=F.getBodyColor("edge.color"),s=N("edge.center"),l=N("edge.offset"),H=P.getBorderColor(D),K=H?N("border.width"):0,y=F.getSelectWidth(),t=D._40I,g=D._41I;(J=F._78o=t&&g?{looped:L,type:q,width:e,center:s,color:J,repeatImage:U(N("edge.repeat.image"),J),borderColor:H,borderWidth:K,_97o:y?F.getSelectColor():q8,selectWidth:y,pattern:N("edge.pattern"),cap:N("edge.cap"),join:N("edge.join"),is3d:N("edge.3d"),_67o:N("edge.3d.color"),_66o:N("edge.3d.accuracy"),gray:N("2d.gray")}:q8)&&((H=L8.getEdgeType(q))?(H=H(D,Pq(F,P,D,L,q),P,F._19Q)).points&&1<H.points.size()?(J.edgeTypeInfo=H,V=Ls(J.edgeTypeInfo.points)):H[QA]&&H.rect&&(V=(J.edgeTypeInfo=H).rect):(H=N("edge.source.anchor.x"),A=N("edge.source.anchor.y"),X=N("edge.target.anchor.x"),b=N("edge.target.anchor.y"),R=Qq(P,D,"source"),Q=Qq(P,D,"target"),q===nR?(f=(c=J.points=N(kR)||n_).size(),J.segments=N("edge.segments"),H=H!==N8||A!==N8||JJ(t),A=X!==N8||b!==N8||JJ(g),s||(l?(H||(R=vu(R,f?c.get(0):Q,l,f)),A||(Q=vu(Q,f?c.get(f-1):R,l,f))):(H||(S=nJ(R,f?c.get(0):Q,j_(P,t)))&&(R={x:S[0],y:S[1]}),A||(S=nJ(f?c.get(f-1):R,Q,j_(P,g)))&&(Q={x:S[0],y:S[1]}))),V=es(Ls(J.points),Ls(R,Q))):(X=Pq(F,P,D,L,q),F._19Q||(X=-X),L?((R=Bf(R)).x=P.getNodeRect(t).x,J.radius=X,V={x:R.x-X,y:R.y-X,width:2*X,height:2*X}):(b=qs(R,Q),A={x:H=Sq(l,b),y:X},c={x:b-H,y:X},f=E8(Q.y-R.y,Q.x-R.x),g=J.mat=new Qf(f),J.orienAngle=f,J.angle=Q.x<R.x?f+w:f,J.rect={x:A.x,y:A.y,width:c.x-A.x,height:0},J.origin=R,(A=g.tf(A)).x+=R.x,A.y+=R.y,(c=g.tf(c)).x+=R.x,c.y+=R.y,s?((S=g.tf(S={x:b,y:0})).x+=R.x,S.y+=R.y,V=Ls([R,A,c,S]),J.c1=R,J.c2=S):V=Ls(A,c),R=A,Q=c)),J.sourcePoint=R,J.targetPoint=Q,D._lastSourcePoint=R,D._lastTargetPoint=Q),q=0,N("edge.dash")&&(q=N("edge.dash.width")||e),L="square"===J.cap?.71:.5,Z2(V,Q8(q*L,e*L+K+y),J.join),F._68o(V))},getRotation:function(V,R,Q){V=V||0;var X=this._78o;if(X){var b,A=X.angle,c=X.points,f=X.edgeTypeInfo;if(A!=q8)return R?X.orienAngle+V:A+V;if(f&&f[QA])return f.getRotation?f.getRotation(this,V,R,Q):0;if(f&&f.points)return b=(A=f.points).size(),v_[Q]?b&&b%2==0?Fq(A.get(b/2-1),A.get(b/2),R,V):V:C_[Q]?Fq(A.get(0),A.get(1),R,V):Fq(A.get(b-2),A.get(b-1),R,V);if(c)return b=c.size(),v_[Q]?b&&b%2==0?Fq(c.get(b/2-1),c.get(b/2),R,V):0===b?Fq(X.sourcePoint,X.targetPoint,R,V):V:C_[Q]?Fq(X.sourcePoint,b?c.get(0):X.targetPoint,R,V):Fq(b?c.get(b-1):X.sourcePoint,X.targetPoint,R,V)}return V},getPosition:function(V,R,Q,X,b){var A=this._78o;if(A){var c=A.type,f=A.points,S=A.edgeTypeInfo,F=A.sourcePoint,D=A.targetPoint;if(!c)return A.looped?{x:F.x-A.radius+R,y:F.y+Q}:(b&&F&&D&&(F.x>D.x||F.x===D.x&&F.y>D.y)&&(V=o4[V],Q=-Q),(P=_4(V,A.rect,X)).x+=R,P.y+=Q,(P=A.mat.tf(P)).x+=A.origin.x,P.y+=A.origin.y,P);if(S&&S[QA])return S.getPosition?S.getPosition(this,V,R,Q,X,b):{x:(F.x+D.x)/2,y:(F.y+D.y)/2};if(f){var P,N,q=f.size();if(v_[V]){if(q){if(0==(N=q%2))return Dq(f.get(q/2-1),f.get(q/2),V,R,Q,X,b);P=f.get((q-N)/2)}else P={x:(F.x+D.x)/2,y:(F.y+D.y)/2};return(P=_4(V,{x:P.x,y:P.y,width:0,height:0},X)).x+=R,P.y+=Q,P}return C_[V]?Dq(F,q?f.get(0):D,V,R,Q,X,b):Dq(q?f.get(q-1):F,D,V,R,Q,X,b)}if(S)return q=(c=S.points).size(),v_[V]?0==(N=q%2)?Dq(c.get(q/2-1),c.get(q/2),V,R,Q,X,b):(P=c.get((q-N)/2),(P=_4(V,{x:P.x,y:P.y,width:0,height:0},X)).x+=R,P.y+=Q,P):C_[V]?Dq(c.get(0),c.get(1),V,R,Q,X,b):Dq(c.get(q-2),c.get(q-1),V,R,Q,X,b)}return ke},_42:function(V){this._78o&&Cu.superClass._42.call(this,V)},drawPath:function(R,V){R.beginPath();var Q,X,b,A,c=V.type,f=V.points,S=V.segments,F=V.edgeTypeInfo;!c||f?(Q=(X=V.sourcePoint).x,X=X.y,b=(A=V.targetPoint).x,A=A.y,c?S?((c=new Z({x:Q,y:X})).addAll(f),c.add({x:b,y:A}),G2(R,c,S)):(R.moveTo(Q,X),f.each(function(V){R.lineTo(V.x,V.y)}),R.lineTo(b,A)):V.looped?R.arc(Q,X,V.radius,0,s8,!0):V.center?(R.moveTo(V.c1.x,V.c1.y),R.lineTo(Q,X),R.lineTo(b,A),R.lineTo(V.c2.x,V.c2.y)):(R.moveTo(Q,X),R.lineTo(b,A))):F&&(F.points?G2(R,F.points,F.segments):F[QA]&&F[QA](R,F))},drawBody:function(V){var R=this.s,Q=this._78o,X=Q.width,b=Q.selectWidth,A=Q.borderWidth,c=Q.repeatImage,f=V.lineJoin,S=V.lineCap,F=Q.gray,D=Q.pattern,P=(V.lineJoin=Q.join,V.lineCap=Q.cap,this.drawPath(R_(V,D),Q),R("edge.width.absolute")),b=(P&&(V.save(),V.setTransform(1,0,0,1,0,0)),b&&(V.strokeStyle=Q._97o,V.lineWidth=X+2*(A+b),V.stroke()),A&&(V.strokeStyle=F?L8.toGrayColor(Q.borderColor):Q.borderColor,V.lineWidth=X+2*A,V.stroke()),F?L8.toGrayColor(Q.color):Q.color);c?c4(V,c,b,null,this._data,this.gv):V.strokeStyle=b,V.lineWidth=X,V.stroke(),Q.is3d&&(A=F?L8.toGrayColor(Q._67o):Q._67o,V4(V,b,A,X,this.gv._zoom,Q._66o)),R("edge.dash")&&(D=R("edge.dash.pattern"),(c=R_(V,D,this._2Q("edge.dash.offset")))!==V&&this.drawPath(c,Q),this._1Q(V,"edge",R("edge.dash.width")||X,D)),P&&V.restore(),Q_(V,D),V.lineJoin=f,V.lineCap=S},_48O:function(){},_47O:function(V){}}),function(V,R){oJ(hu,this,[V,R])}),Tu=(Os(hu,ju,{_3O:function(){var R,Q,V,X,b,A,c,f,S,F,D,P,N,q,L,e,J=this.s,s=this._data,l=this.gv;this._88I=q8,s.isExpanded()&&s.eachChild(function(V){r(V)&&(V=l.getBoundsForGroup(V))&&((Q=Q||[]).push(V),R=es(R,V))}),R?(A=l.getLabel(s),b=J("group.type"),X=(V=J("group.border.width")||0)/2,J("group.border.width.absolute")&&(V/=l._zoom),S=Q,F=R,R="oval"===(f=b)?(D=0,N=F.height/F.width,P=N*N,L=F.x+F.width/2,e=F.y+F.height/2,Um(S).forEach(function(V){var R=V.x-L,V=V.y-e;D<(R=R*R+V*V/P)&&(D=R)}),N*=D=O8(D),{x:L-D,y:e-N,width:2*D,height:2*N}):"circle"===f?(q=0,L=F.x+F.width/2,e=F.y+F.height/2,Um(S).forEach(function(V){var R=V.x-L,V=V.y-e;q<(R=R*R+V*V)&&(q=R)}),q=O8(q),{x:L-q,y:e-q,width:2*q,height:2*q}):("roundRect"===f&&ys(F,X8(F.width,F.height)/16),F),G_(R,s,"group.padding",1),ys(R,V),s=this._88I={type:b,rect:R,_64o:R},b||A==q8||(b=this.labelInfo={label:A,color:J("group.title.color"),font:J("group.title.font"),align:J("group.title.align")},N=(A=GJ(b,A)).width+V,A=A.height+V,S=J("group.title.align"),(f=J("group.title.orientation"))===fR||f===SR?(R.height+=V,N>R.width&&(R.width=N)):f!==AR&&f!==cR||(R.width+=V,N>R.height&&(R.height=N)),S=S===AR?R.x:S===cR?R.x+R.width-N:R.x+R.width/2-N/2,f===SR?(s.titleRect={x:R.x,y:R.y+R.height,width:R.width,height:A},s.rect={x:R.x,y:R.y,width:R.width,height:R.height+A},b.rect={x:S,y:R.y+R.height,width:N,height:A}):f===AR?(c=s.titleRect={x:R.x-A,y:R.y,width:A,height:R.height},s.rect={x:R.x-A,y:R.y,width:R.width+A,height:R.height},b.rect={x:c.x+A/2-R.height/2,y:c.y+R.height/2-A/2,width:R.height,height:A},b.rotation=-Math.PI/2):f===cR?(c=s.titleRect={x:R.x+R.width,y:R.y,width:A,height:R.height},s.rect={x:R.x,y:R.y,width:R.width+A,height:R.height},b.rect={x:c.x+A/2-R.height/2,y:c.y+R.height/2-A/2,width:R.height,height:A},b.rotation=Math.PI/2):(s.titleRect={x:R.x,y:R.y-A,width:R.width,height:A},s.rect={x:R.x,y:R.y-A,width:R.width,height:R.height+A},b.rect={x:S,y:R.y-A-X,width:N,height:A+V})),this._40O(s,J("group.border.width")/2)):hu.superClass._3O.call(this)},getPosition:function(V,R,Q,X){var b=this._88I;return b?((V=_4(V,b.rect,X)).x+=R,V.y+=Q,V):hu.superClass.getPosition.apply(this,arguments)},_24O:function(V,R){var Q=this._88I;Q&&!Q.type&&"label2"!==V||hu.superClass._24O.call(this,V,R)},drawBody:function(V){var R=this._88I;if(R){var Q=this._data,X=this.s,b=this.gv,A=R.type,c=R.rect,f=R._64o,S=R.titleRect,F=this.getBodyColor(),D=U(X("group.image"),F),P=X("group.image.stretch"),N=this.getBodyColor("group.background"),q=U(X("group.repeat.image"),F),L=X("group.gradient.pack"),e=X("group.gradient"),J=X("group.gradient.color"),s=X("group.border.width"),l=X("group.border.color"),H=X("group.border.pattern"),K=X("group.title.orientation"),y=X("group.depth"),t=X("group.border.radius"),g=X("group.border.join"),m=X("group.border.cap"),z=(X("group.border.width.absolute")&&(s/=b._zoom),l),Y=X("group.border.repeat.image");if((Y=Y&&U(Y,l))&&(z=f4(V,Y,l,null,Q,b,X("group.border.repeat.image.stretch"),c)),A)Y=V.lineJoin,l=V.lineCap,V.lineJoin=g,V.lineCap=m,D?(V.save(),X4(V,A,c,t),V.clip(),pf(V,D,P,c.x,c.y,c.width,c.height,Q,b,F),V.restore(),0<s&&(u=R_(V,H),X4(u,A,c,t),V.lineWidth=s,V.strokeStyle=z,V.stroke(),Q_(V,H))):(u=R_(V,H),N||q||L?(X4(V,A,c,t),L?x2(V,L,function(V){return p2(V,F)},!1,c):q?A4(V,q,F,null,Q,b,X("group.repeat.image.stretch"),c,X("group.repeat.image.rotation")):b4(V,N,e,J,c),V.fill(),L&&V.restore(),V!==u&&X4(u,A,c,t)):X4(u,A,c,t),0<s&&(V.lineWidth=s,V.strokeStyle=z,V.stroke()),Q_(V,H),A===C&&N4(V,N,y,c)),V.lineJoin=Y,V.lineCap=l;else{var u,L=X("group.title.background");if((!t||t<0)&&(t=0),D)pf(V,D,P,f.x,f.y,f.width,f.height,Q,b,this.getBodyColor());else if(N||q)if(q?A4(V,q,F,null,Q,b,X("group.repeat.image.stretch"),c,X("group.repeat.image.rotation")):b4(V,N,e,J,f),0===s)X4(V,C,f),V.fill(),N4(V,N,y,f);else{switch(V.beginPath(),K){case SR:D4(V,f.x,f.y,f.width,f.height,t,t,0,0);break;case AR:D4(V,f.x,f.y,f.width,f.height,0,t,0,t);break;case cR:D4(V,f.x,f.y,f.width,f.height,t,0,t,0);break;case fR:D4(V,f.x,f.y,f.width,f.height,0,0,t,t)}V.fill()}if(S&&L)if(0===s)Q4(V,S.x,S.y,S.width,S.height,L),N4(V,L,y,S);else{switch(V.beginPath(),V.fillStyle=L,K){case SR:D4(V,S.x,S.y,S.width,S.height,0,0,t,t);break;case AR:D4(V,S.x,S.y,S.width,S.height,t,0,t,0);break;case cR:D4(V,S.x,S.y,S.width,S.height,0,t,0,t);break;case fR:D4(V,S.x,S.y,S.width,S.height,t,t,0,0)}V.fill()}0<s&&(u=R_(V,H),X4(u,"roundRect",c,t),V.save(),V.lineWidth=s,V.strokeStyle=z,V.lineJoin=g,V.lineCap=m,V.closePath(),V.stroke(),S&&X("group.splitLine")&&(A=S.x,Y=S.y,l=S.width,D=S.height,V.beginPath(),K===SR?(V.moveTo(A,Y),V.lineTo(A+l,Y)):K===AR?(V.moveTo(A+l,Y),V.lineTo(A+l,Y+D)):K===cR?(V.moveTo(A,Y),V.lineTo(A,Y+D)):(V.moveTo(A,Y+D),V.lineTo(A+l,Y+D))),V.stroke(),V.restore(),Q_(u,H))}this._39O(V,R)}else hu.superClass.drawBody.call(this,V)}}),function(V,R){oJ(Tu,this,[V,R])}),Wu=(Os(Tu,ju,{drawBody:function(V){this._39O(V,this._83o)}}),function(V,R){oJ(Wu,this,[V,R])}),Uu=(Os(Wu,ju,{_3O:function(){var V=this._data,R=this.s,Q=this.gv,X=V.getPoints(),b=Q.getBorderColor(V),A=b?R("border.width"):0,c=this.getSelectWidth(),f=R("shape.border.width"),S=V.getRect(),F=V.getAnchorRect(),Q=Q.getBodyColor(V),D=R("shape.border.color"),P=V.p();(b=this._99o=X.isEmpty()?q8:{rect:S,rotation:V.getRotation(),fillRule:R("shape.fill.rule"),scale:V.getScale(),position:P,points:X,segments:V.getSegments(),bodyColor:Q,borderColor:b,borderWidth:A,_94o:R("shape.border.3d"),_95o:R("shape.border.3d.color"),_96o:R("shape.border.3d.accuracy"),_97o:c?this.getSelectColor():q8,selectWidth:c,_53o:R("shape.background"),_27Q:U(R("shape.repeat.image"),Q),shapeRepeatImageStretch:R("shape.repeat.image.stretch"),shapeRepeatImageRotation:R("shape.repeat.image.rotation"),shapeGradientPack:R("shape.gradient.pack"),shapeBorderGradientPack:R("shape.border.gradient.pack"),_54o:f,_55o:D,shapeBorderRepeatImage:U(R("shape.border.repeat.image"),D),shapeBorderRepeatImageStretch:R("shape.border.repeat.image.stretch"),shapeBorderRepeatImageRotation:R("shape.border.repeat.image.rotation"),shapeGradient:R("shape.gradient"),_59o:R("shape.gradient.color"),_60o:R("shape.border.pattern"),_61o:R("shape.border.cap"),_62o:R("shape.border.join"),shapeForeground:R("shape.foreground"),gray:R("2d.gray")})&&(F.x+=b.position.x,F.y+=b.position.y,b.gradientRect=F,L8.extractShapeTranslation&&((Q=Bf(F)).x-=P.x,Q.y-=P.y,(D=Bf(X)).forEach(function(V){V.x-=P.x,V.y-=P.y}),b.translatedInfo={gradientRect:Q,points:D}),F=V.getScale(),X=Q8(1,Q8(w8(F.x),w8(F.y))),R("shape.dash")&&R("shape.dash.width")>f&&(f=R("shape.dash.width")),(Q=R("shape.border.width.absolute")?(f+A+c)/this.gv._zoom/X:f*("square"===b._61o?.71:.5)+A+c/this.gv._zoom/X)&&(Q*=X,S=Bf(S),Z2(S,Q,b._62o)),this._68o(S),(D=R("clip.percentage"))!=N8&&(b.clipRect=$J(V.getAnchorRect(),R("clip.direction"),D)),(F=R("shape.fill.clip.percentage"))!=N8&&(b.shapeClipRect=$J(V.getAnchorRect(),R("shape.fill.clip.direction"),F)),(f=R("shape.foreground.clip.percentage"))!=N8&&(b.shapeForegroundClipRect=$J(V.getAnchorRect(),R("shape.foreground.clip.direction"),f)),R("clip.host")&&V.getHost()&&(b.clipHost=!0))},getPosition:function(V,R,Q,X){var b=this._99o;return b?((V=_4(V,b.rect,X)).x+=R,V.y+=Q,V):ke},_42:function(V){this._99o&&Wu.superClass._42.call(this,V)},drawBody:function(V){function R(V){return Y?L8.toGrayColor(V):V}var Q,X,b,A,c,f,S=this,F=S.s,D=S._99o,P=D.position,N=D.scale,q=D.rotation,L=D.borderWidth,e=S.gv._zoom,J=D.selectWidth/e,s=D._27Q,l=D.shapeGradientPack,H=D._54o,K=D.clipRect,y=D.shapeClipRect,t=D.segments,g=S._data.isClosePath(),m=D.clipHost,z=D.fillRule,Y=D.gray,u=R(D._53o),o=u||s||l,N=(m&&(V.save(),V.beginPath(),S.clipHost(V)&&V.clip()),V.save(),D2(V,P.x,P.y),P2(V,q),N2(V,N.x,N.y),K&&(V.beginPath(),V.rect(K.x,K.y,K.width,K.height),V.clip()),o&&y&&(V.save(),V.beginPath(),V.rect(y.x,y.y,y.width,y.height),V.clip()),L8.extractShapeTranslation&&(q=D.translatedInfo)?(Q=q.gradientRect,X=q.points):(Q=D.gradientRect,X=D.points,D2(V,-P.x,-P.y)),F("shape.border.width.absolute")),K=D._60o,q=(N&&K&&(K=K.map(function(V){return V*e})),R_(V,K)),_=V.lineJoin,O=V.lineCap,w=(V.lineJoin=D._62o,V.lineCap=D._61o,R(D.bodyColor));o?(G2(V,X,t,g),l?x2(V,l,function(V){return p2(V,D.bodyColor)},!1,Q):s?((f=D.shapeRepeatImageStretch)&&(b=Ls(X)),A4(V,s,w,null,S._data,S.gv,f,b,D.shapeRepeatImageRotation)):b4(V,c=w||u,D.shapeGradient,R(D._59o),Q),V.fill(z),l&&V.restore(),y&&(V.restore(),D2(V,-P.x,-P.y)),q!==V&&G2(q,X,t,g)):G2(q,X,t,g),(o=D.shapeForeground)&&(V.save(),(s=D.shapeForegroundClipRect)&&(D2(V,P.x,P.y),V.beginPath(),V.rect(s.x,s.y,s.width,s.height),V.clip(),D2(V,-P.x,-P.y)),G2(V,X,t,g),b4(V,o,F("shape.foreground.gradient"),R(F("shape.foreground.gradient.color")),Q),V.fill(z),V.restore()),N&&(l=V.getTransform(),(A=S._ctxMat||(S._ctxMat=new I.Math.Matrix2d)).set(l.a,l.b,l.c,l.d,l.e,l.f),V.save(),V.setTransform(1,0,0,1,0,0)),J&&(V.strokeStyle=D._97o,V.lineWidth=H+2*(L+J),V.stroke()),L&&(V.strokeStyle=R(D.borderColor),V.lineWidth=H+2*L,V.stroke()),H&&(c=R(D._55o),(y=D.shapeBorderGradientPack)?x2(V,y,R,!0,Q,A):D.shapeBorderRepeatImage?((f=D.shapeBorderRepeatImageStretch)&&!b&&(b=Ls(X)),c4(V,D.shapeBorderRepeatImage,c,null,S._data,S.gv,f,b,D.shapeBorderRepeatImageRotation)):V.strokeStyle=c=!u&&w?w:c,V.lineWidth=H,V.stroke(),y&&V.restore(),D._94o&&V4(V,c,R(D._95o),H,e,D._96o)),Q_(V,K),F("shape.dash")&&0<(s=F("shape.dash.width")||H)&&(K=F("shape.dash.pattern"),N&&(K=K.map(function(V){return V*e})),(q=R_(V,K,S._2Q("shape.dash.offset")))!==V&&G2(q,X,t,g),S._1Q(V,"shape",s,K)),N&&V.restore(),V.lineJoin=_,V.lineCap=O,V.restore(),m&&V.restore()},_48O:function(){},_47O:function(V){}}),function(V,R){oJ(Uu,this,[V,R])}),pu=(Os(Uu,Wu,{getRotation:(Uc=new W,pc=new W,Ic=new Rf,function(V,R,Q){V=V||0;var X,b,A=this._data,c=A.getPoints(),f=c.size();return 1<f?(b=A.p(),A=A.getScale(),Ic.identity().translate(-b.x,-b.y).scale(A.x,A.y).translate(b.x,b.y),b=v_[Q]?(X=c.get((A=(f-f%2)/2)-1),c.get(A)):C_[Q]?(X=c.get(0),c.get(1)):(X=c.get(f-2),c.get(f-1)),Ic.apply(X,Uc),Ic.apply(b,pc),Fq(Uc,pc,R,V)):V}),getPosition:(hc=new W,Tc=new W,Wc=new W,function(V,R,Q,X,b){var A=this._data,c=A.getPoints(),f=c.size();if(1<f){if(A=A.getPointsMatrix2d(),v_[V]){var S=f%2,F=(f-S)/2,D=c.get(F-1),F=c.get(F);if(0!=S)return(S=_4(V,ke,X)).x+=R,S.y+=Q,A.apply(D,hc),A.apply(F,Tc),A.identity().rotate(Wc.copy(Tc).sub(hc).angle()).apply(S,hc).add(Tc)}else F=C_[V]?(D=c.get(0),c.get(1)):(D=c.get(f-2),c.get(f-1));return A.apply(D,hc),A.apply(F,Tc),Dq(hc,Tc,V,R,Q,X,b)}return ke})}),function(V,R){oJ(pu,this,[V,R])}),Iu=(Os(pu,ju,{_3O:function(){pu.superClass._3O.call(this);var V=this.s,R=this._83o;this._82o=R.img||R.shape?q8:{background:this.getBodyColor("grid.background"),depth:V("grid.depth"),rect:R.rect,_88o:V("grid.cell.depth"),cellBorderColor:V("grid.cell.border.color"),_89o:V("grid.row.count"),_90o:V("grid.column.count"),block:V("grid.block"),_91o:V("grid.block.color"),_92o:V("grid.block.padding"),_93o:V("grid.block.width")}},drawBody:function(V){var R=this._82o;if(R){var Q,X,b=this._data,A=R.background,c=R.rect,f=R.block,S=R._91o,F=R._92o,D=R._93o,P=R._88o,N=R.cellBorderColor,q=R._89o,L=R._90o;if(A)if(Q4(V,c.x,c.y,c.width,c.height,A),N4(V,A,R.depth,c),P)for(Q=0;Q<q;Q++)for(X=0;X<L;X++)(c=b.getCellRect(Q,X))&&N4(V,A,P,c);else if(N){for(V.beginPath(),Q=0;Q<q;Q++)for(X=0;X<L;X++)(c=b.getCellRect(Q,X))&&V.rect(c.x,c.y,c.width,c.height);V.strokeStyle=N,V.lineWidth=1,V.stroke()}if("h"===f)for(Q=0;Q<q;Q++)c=es(b.getCellRect(Q,0),b.getCellRect(Q,L-1)),ys(c,F),P4(V,S,c.x,c.y,c.width,c.height,D);else if("v"===f)for(X=0;X<L;X++)c=es(b.getCellRect(0,X),b.getCellRect(q-1,X)),ys(c,F),P4(V,S,c.x,c.y,c.width,c.height,D);this._39O(V,this._83o)}else pu.superClass.drawBody.call(this,V)}}),function(V,R){oJ(Iu,this,[V,R])}),Zu=q?IJ().getContext("2d"):q8,ku=(Os(Iu,ju,{_checkEmptyRect:!1,_81o:function(){var c,V,f,R,Q,X,S,F,b,A,D,P,N,q,L=this._data,e=Iu.superClass._81o.call(this),J=L.s("text"),s=L.s("text.outline.width");return s&&ys(e,.5*s),J!=q8&&(J+="",c=L.s("text.font"),s=L.s("text.align"),V=L.s("text.vAlign"),P=L.s("text.wrap"),D=L.s("text.vertical"),f=L.s("text.vertical.gap"),q=L.s("text.letter.gap")||0,R=L.getWidth(),Q=L.getHeight(),null==f&&(f=1),D?(S=((N=P?dJ(J,Q,c,q,D,f):[J]).length-1)*q,F=0,Zu.textBaseline=fR,Zu.font=c,N.forEach(function(V){for(var R=V.length,Q=0,X=(R-1)*f,b=0;b<R;b++){var A=Zu.measureText(V[b]);X+=A.fontBoundingBoxDescent||Xs(c,V[b]).height,Q=Q8(Q,A.width)}S+=Q,F=Q8(X,F)}),N.length,N.forEach(function(V){}),X={width:S,height:F}):1<(P=(N=P?dJ(J,R,c,q,D,f):J.split("\n")).length)?(D=Xs(c,J).height,S=0,F=D*P+f*(P-1),N.forEach(function(V){S=Q8(S,Xs(c,V).width)}),X={width:S,height:F}):(X=Xs(c,J),q&&(X.width+=(J.length-1)*q)),D=X.width,P=X.height,N=L.getAnchor(),"left"===s?b=-R*N.x:"center"===s?b=-R*N.x+(R-D)/2:"right"===s&&(b=R*(1-N.x)-X.width),"top"===V?A=-Q*N.y:"middle"===V?A=-Q*N.y+(Q-P)/2:"bottom"===V&&(A=Q*(1-N.y)-X.height),J=L.getMatrix(),q=Ls([J.tf(b,A),J.tf(b+D,A),J.tf(b+D,A+P),J.tf(b,A+P)]),(e=es(e,q))&&L.s("text.shadow")&&((s=Bf(e)).x+=L.s("text.shadow.offset.x"),s.y+=L.s("text.shadow.offset.y"),ys(s,L.s("text.shadow.blur")),e=es(e,s))),e}}),qq.Interactor=function(V){this.gv=this._graphView=V}),xu=(V("Interactor",v,{ms_listener:1,getView:function(){return this.gv.getView()},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners(),this.clear()},clear:function(){},fi:function(V){this.gv.fi(V)},setCursor:function(V){d8||this.gv.setCursor(V)},startDragging:function(V){this._lastClientPoint=Ps(V),this._lastLogicalPoint=this.gv.lp(V),ms(this,V)},clearDragging:function(V){this._lastClientPoint=this._lastLogicalPoint=this._logicalPoint=q8},autoScroll:function(V){return this.gv.autoScroll(V,this._lastClientPoint)}}),q8),Bu="ht.propagation.host",Gu=function(V){xu.handleWindowTouchMove(V)},du=function(V){xu.handleWindowTouchEnd(V),Y8(j,fe,Gu),Y8(j,Se,du),xu=q8},VI=function(V){xu.handleWindowMouseMove(V)},RI=function(V){xu.handleWindowMouseUp(V),Y8(j,Xe,VI),Y8(j,be,RI),xu=q8},QI=function(V){var R=this;R.gv=V,R._is2d=V instanceof qq.GraphView,R._eventListeners={},["mousedown","mousemove","mouseleave","touchstart","touchmove","touchend","mouseup",Pe,"wheel"].forEach(function(V){R.addListener(V)})},XI=(Os(QI,ku,{enableReality:function(V,R){var Q,X,b=this;(Q=V._id)||(Q=V._id=B.generateUUID()),!(!b._realityEnabled||!b._realityEnabled[Q])!==R&&(b._realityEnabled||(b._realityEnabled={}),b._realityEnabled[Q]=R,b._realityBindingCallbacks||(b._realityBindingCallbacks={}),X=b._realityBindingCallbacks[Q],R?(X=X||(b._realityBindingCallbacks[Q]=b.onRealityControllerChange.bind(b,V)),V.mp(X,b)):X&&V.ump(X,b))},onRealityControllerChange:function(V,R){var Q=R.property,X=(R=R.newValue).id;if(V&&V.isPresenting()){var b=V.getController(X);if(b){var A=b.getRay();if(A)switch(A.controllerId=X,V.getRayEventType(A,Q,R[wA])){case"down":this.handle_mousedown(A);break;case"up":xu&&RI(A);break;case"move":this.handle_mousemove(A),xu&&this.handleWindowMouseMove(A)}}}},setPreventEventDefault:function(V,R){var Q=this._eventListeners[V];Q?Q._prevent=R:this._eventListeners[V]=Q={_removal:N8,_prevent:R}},removeListener:function(V){(V=this._eventListeners[V])&&V._removal&&(V._removal(),V._removal=N8)},addListener:function(R){var V,Q=this,X=Q._eventListeners[R];X||(Q._eventListeners[R]=X={_removal:N8,_prevent:!0}),X&&X._removal||(V=function(V){X._prevent&&L8.preventDefault(V),Q.disabled||Q.gv._48Q||("wheel"===R?zJ(Q,V):Q["handle_"+R](V))},z8(Q.gv.getView(),R,V),X._removal=function(){Y8(Q.gv.getView(),R,V)})},handleWindowTouchMove:function(V){this.handleWindowMouseMove(V)},handleWindowMouseMove:function(V){!this.downInfo||l2(V)&&1!==fs(V)?this.isDragging&&(this.handleDownInfo("onEndDrag",V),this.isDragging=!1):this.isDragging?this.handleDownInfo("onDrag",V):(this.handleDownInfo("onBeginDrag",V),this.isDragging=!0)},handleWindowTouchEnd:function(V){this.handleWindowMouseUp(V)},handleWindowMouseUp:function(V){var R=this;if(R.isDragging&&(R.handleDownInfo("onEndDrag",V),R.isDragging=!1),R.downInfo){var Q=R.handle("onUp",V);if(Q&&Q.data===R.downInfo.data){R.handleMissingUp(V);var X=2===V.button?"onContextMenu":"onClick";if(Q.data.s("disableDoubleClick")||!R._dbclickTimer)return void(R._dbclickTimer=W8(function(){delete R._dbclickTimer,R.handleClick(V,X,Q),R.downInfo=q8,R.propagationDownInfoMap=q8},L8.clickDelay));U8(R._dbclickTimer),delete R._dbclickTimer,X="onDoubleClick",R.handleClick(V,X,Q)}else R.handleDownInfo("onUp",V);R.downInfo=q8,R.propagationDownInfoMap=q8,R.downComps=q8}},handle_mouseleave:function(V){var R=this,Q=R.gv,X=(R._hoverTimer&&(U8(R._hoverTimer),delete R._hoverTimer),R.currentInfo?R.currentInfo.data:q8);if(X){if(X.s("onLeave")&&X.s("onLeave")(V,X,Q),R.fire("data","onLeave",V,X),Q=R.currentInfo?R.currentInfo.hits:q8)for(var b in Q)R.handleLeave(V,b);R.currentInfo=q8}},handle_mousewheel:function(V){V.scrollDelta=V.wheelDelta/40,this.handle("onScroll",V)},handle_DOMMouseScroll:function(V){V.scrollDelta=2===V.axis?-V.detail:0,this.handle("onScroll",V)},handle_touchstart:function(V){this.handle_mousedown(V)},handle_touchmove:function(V){this.handle("onMove",V)},handle_mousedown:function(V){var R;this.isDragging&&(this.handleDownInfo("onEndDrag",V),this.isDragging=!1),this.downComps=[],this.downInfo=this.handle("onDown",V),this.downInfo&&this!==xu&&(R=l2(V),xu?R?xu.handleWindowTouchEnd(V):xu.handleWindowMouseUp(V):R?(z8(j,fe,Gu),z8(j,Se,du)):(z8(j,Xe,VI),z8(j,be,RI)),xu=this)},handle_touchend:function(V){this.handle_mouseup(V)},handle_mouseup:function(V){this.downInfo||this.isDragging||this.handle("onUp",V)},mergeExternalData:function(V,R){return R?(R.__gvnode__=V,R):V},handle_mousemove:function(V){var R=this,Q=R.gv;if(R._hoverTimer&&(U8(R._hoverTimer),delete R._hoverTimer),!Q._panning&&!Q._moving){var X,b,A,c=R.handle("onMove",V),f=this.currentInfo?this.currentInfo.data:q8,S=this.currentInfo?this.currentInfo.hits:q8;if(c&&(b=c.data,A=c.hits,R._hoverTimer=W8(function(){U8(R._hoverTimer),delete R._hoverTimer,R.handle("onHover",V,c)},Q.getHoverDelay()||L8.hoverDelay)),b!==f){if(f&&(f.s("onLeave")&&f.s("onLeave")(V,f,Q),this.fire("data","onLeave",V,f)),b&&(b.s("onEnter")&&b.s("onEnter")(V,b,Q),this.fire("data","onEnter",V,b)),S)for(X in S)this.handleLeave(V,X);if(A)for(X in A){var F,D,P=A[X];(D=(F=b._interactPrefix=P.prefix)&&b.a(F+"onEnter")||P.target.onEnter)&&D.call(P.target,V,R.mergeExternalData(b,P.exData),Q,P.point,P.width,P.height),this.fire(P.type,"onEnter",P.event,R.mergeExternalData(P.data,P.exData),P.image,P.comp,P.point,P),b._interactPrefix=null}}else{if(S)for(X in S)A&&A[X]||this.handleLeave(V,X);if(A)for(X in A)S&&S[X]||(P=A[X],(D=(F=b._interactPrefix=P.prefix)&&b.a(F+"onEnter")||P.target.onEnter)&&D.call(P.target,V,R.mergeExternalData(b,P.exData),Q,P.point,P.width,P.height),this.fire(P.type,"onEnter",P.event,R.mergeExternalData(P.data,P.exData),P.image,P.comp,P.point,P),b._interactPrefix=null)}this.currentInfo=c}},handle:function(V,R,Q){var X,b=this.gv;if(this._is2d){if(Q=Q||b.getDataInfoAt(R,R.__ht_propagation_filter)){var A,c,f,S,F=Q.data;if((S=b.isInteractive(F))&&(c=Q.ui.interactiveInfo)&&(F.s(V)&&F.s(V)(R,F,b),this.fire("data",V,R,F),"body"===Q.part&&c.bodyInfo?Q.hits=this.handleImage(D="body",b.getImage(F),V,R,F,Q.point,c.bodyInfo):"icons"===Q.part&&c._38o&&(A=c._38o[Q.name])&&A[Q.index]&&(D="icons|"+Q.name+"|"+Q.index,Q.hits=this.handleImage(D,Q.icon,V,R,F,Q.point,A[Q.index]))),R[Bu]&&F.getHost&&(f=F.getHost())&&(R.__ht_propagation_filter=function(V){return V===f},D=this.handle(V,R),"onDown"===V&&D&&(this.propagationDownInfoMap||(this.propagationDownInfoMap={}),this.propagationDownInfoMap[f.getId()]=D)),S)return Q}}else{if(!Q)if(R&&R instanceof I.Math.Ray&&(A=b.getPresentingReality())){var D=A.intersectWorld(R),F=D.data,P=D.intersect;if(A.renderRayDuringInteraction(R,F,P),!F)return;if(!(c=(N=b.getData3dUI(F)).interactiveInfo))return;Q={data:F,part:P.part,ui:N}}else{if(!(Q=b.getDataInfoDuringInteract(R)))return;Q=Q&&{data:Q.data,part:Q.part}}if(b.isInteractive(Q.data)){if(!P){F=Q.data;var N=b.getData3dUI(F);if(!(c=(Q.ui=N).interactiveInfo))return Q}return(F.s(V)&&F.s(V)(R,F,b),this.fire("data",V,R,F),P=P||b.intersectObject(R,F))?((X=(X="body"!==(S=P.part)?F.s(S+".image")||F.s("shape3d."+S+".image"):X)||F.s("all.image")||F.s("shape3d.image"))&&(c="object"==typeof X?c[X.uuid]:c[X])&&c.bodyInfo&&(Q.part="body",Q.interactiveInfo=c,Q.point=this._convertUVToPoint(P.uv,c,F,S,X),Q.image=X,Q.hits=this.handleImage("body",X,V,R,F,Q.point,c.bodyInfo)),Q):Q}}},_handleLeaveOrMissing:function(V,R,Q){var X,b,A,c,f,S="leave"===V?this.currentInfo:this.downInfo;S&&(X=S.interactiveInfo||S.ui.interactiveInfo)&&(b=S.data,this._is2d?(c=this.gv.lp(R),"body"===S.part&&X.bodyInfo?(f="body","leave"===V?this.handleLeaveImage(Q,f,this.gv.getImage(b),R,b,c,X.bodyInfo):this.handleMissingUpImage(f,this.gv.getImage(b),R,b,c,X.bodyInfo)):"icons"===S.part&&X._38o&&(A=X._38o[S.name])&&A[S.index]&&(f="icons|"+S.name+"|"+S.index,"leave"===V?this.handleLeaveImage(Q,f,S.icon,R,b,c,A[S.index]):this.handleMissingUpImage(f,S.icon,R,b,c,A[S.index]))):X.bodyInfo&&(c=(f=this.gv.intersectObject(R,b))&&f.uv?this._convertUVToPoint(f.uv,X,b,f.part,S.image):{x:1/0,y:1/0},"leave"===V?this.handleLeaveImage(Q,"body",S.image,R,b,c,X.bodyInfo):this.handleMissingUpImage("body",S.image,R,b,c,X.bodyInfo)))},handleClick:function(V,R,Q){var X,b,A,c,f=this.downInfo;f&&Q&&(X=Q.interactiveInfo||Q.ui.interactiveInfo,b=Q.data,c=this.gv,b.s(R)&&b.s(R)(V,b,c),this.fire("data",R,V,b),X&&(this._is2d?f.part===Q.part&&(A=c.lp(V),"body"===Q.part&&X.bodyInfo&&this.handleClickImage("body",c.getImage(b),R,V,b,A,X.bodyInfo,Q)):X.bodyInfo&&(c=c.intersectObject(V,b))&&(A=this._convertUVToPoint(c.uv,X,b,c.part,f.image),this.handleClickImage("body",f.image,R,V,b,A,X.bodyInfo,Q))))},handleDownInfo:function(V,R,Q){var X,b,A,c,f,S,F,D,P=this;P.downInfo&&(X=P.gv,(Q=Q?X.getDataInfoAt(R,R.__ht_propagation_filter):P.downInfo)&&(b=Q.interactiveInfo||Q.ui.interactiveInfo)&&((c=Q.data).s(V)&&c.s(V)(R,c,X),P.fire("data",V,R,c),P._is2d?(f=X.lp(R),"body"===Q.part&&b.bodyInfo?P.handleDownInfoImage(A="body",X.getImage(c),V,R,c,f,b.bodyInfo):"icons"===Q.part&&b._38o&&(S=b._38o[Q.name])&&S[Q.index]&&(A="icons|"+Q.name+"|"+Q.index,P.handleDownInfoImage(A,Q.icon,V,R,c,f,S[Q.index])),R[Bu]&&c.getHost&&(F=c.getHost())&&(R.__ht_propagation_filter=function(V){return V===F},P.handleDownInfo(V,R,!0))):b.bodyInfo&&("onBeginDrag"===V?(D=X._raycaster.intersectObjectAndRecordTriangle(R,c))&&(b.beginDragIntersectInfo=D.triangleInfo):D=X.intersectObject(R,c),(D=D||("onDrag"!==V&&"onEndDrag"!==V||!b.beginDragIntersectInfo?D:X._raycaster.intersectLastTriangle(R,b.beginDragIntersectInfo)))&&(f=P._convertUVToPoint(D.uv,b,c,D.part,Q.image),P.handleDownInfoImage("body",Q.image,V,R,c,f,b.bodyInfo)))))},fire:function(V,R,Q,X,b,A,c,f){this.gv.fi({kind:R,type:V,event:Q,data:X,image:b,comp:A,view:this.gv,point:c,width:f?f.width:N8,height:f?f.height:N8})},handleImage:function(V,R,Q,X,b,A,c){return this._handleImageImpl(V,R,Q,X,b,A,c,-1,!0)},handleLeave:function(V,R){return this._handleLeaveOrMissing("leave",V,R)},handleMissingUp:function(V){if(!V["ht.ignoreMissingUp"])return this._handleLeaveOrMissing("missing",V)},_handleImageImpl:function(V,R,Q,X,b,A,c,f,S,F){var D=!1;if(-1===f)D=!0,f={};else if(!f)return;if(!R||!(R=U(R)))return f;for(var P,N=this.gv,q=c.rect,L=this.convertPoint(A,c),e=(S!==N8&&S!==L.inRect||!D&&!f[V+"|image"]||(R[Q]&&R[Q](X,b,N,L,q.width,q.height),this.fire("image",Q,X,b,R,N8,L,q),D&&(f[V+"|image"]={target:R,type:"image",image:R,data:b,event:X,point:L,width:q.width,height:q.height})),c.compInfos),J=R,s=e.length-1;0<=s;s--){var l=e[s],H=l.comp,L=this.convertPoint(A,l,J,H,N,b);if(S===N8||S===L.inRect){var q=l.rect,K=b._interactPrefix=l.prefix,y=this.mergeExternalData(b,l.exData),t=!!D||(F?F(V+"|"+s,H):f[V+"|"+s]);if(t&&((t=K&&b.a(K+Q)||H[Q])&&(P=t.call(H,X,y,N,L,q.width,q.height)),this.fire("comp",Q,X,y,R,H,L,q)),!0!==P&&(R=q.image)&&(D||f[V+"|"+s+"|image"])&&(R[Q]&&(P=R[Q](X,y,N,L,q.width,q.height)),this.fire("image",Q,X,y,R,N8,L,q)),b._interactPrefix=null,D&&(f[V+"|"+s]={target:H,type:"comp",comp:H,image:R,data:b,event:X,point:L,width:q.width,height:q.height,prefix:K,exData:l.exData},this.downComps&&this.downComps.push(H),R&&(f[V+"|"+s+"|image"]={target:R,type:"image",image:R,data:b,event:X,point:L,width:q.width,height:q.height,prefix:K,exData:l.exData})),!0===P)break}}return f},handleLeaveImage:function(V,R,Q,X,b,A,c){var f={};return f[V]=!0,this._handleImageImpl(R,Q,"onLeave",X,b,A,c,f,N8)},handleMissingUpImage:function(V,R,Q,X,b,A){return this._handleImageImpl(V,R,"onUp",Q,X,b,A,this.downInfo.hits,!1)},handleDownInfoImage:function(V,R,Q,X,b,A,c){var f,S=this,F=0<=["onDrag","onEndDrag"].indexOf(Q);if(S.downInfo){if(S.downInfo.data===b)f=S.downInfo.hits;else{if(!S.propagationDownInfoMap)return;f=S.propagationDownInfoMap[b.getId()].hits}return S._handleImageImpl(V,R,Q,X,b,A,c,f,N8,function(V,R){return F?S.downComps&&0<=S.downComps.indexOf(R):f[V]})}},handleClickImage:function(V,R,Q,X,b,A,c,f){var S=this.downInfo.hits,F=f.hits;return this._handleImageImpl(V,R,Q,X,b,A,c,S,N8,function(V){return S[V]&&F[V]})},_convertUVToPoint:function(V,R,Q,X,b){if(!V)return{x:1/0,y:1/0};var A,R=R.bodyInfo.rect,X=(Q&&b&&(X="body"===X?(A=Q.s("shape3d.uv.scale"),Q.s("shape3d.uv.offset")):(A=Q.s(X+".uv.scale")||Q.s("all.uv.scale"),Q.s(X+".uv.offset")||Q.s("all.uv.offset")),(A||X)&&(b=L8.getImage(b),Q=B.isPOT(b.width)&&B.isPOT(b.height),b=V.x*(A?A[0]:1)+(X?X[0]:0),A=V.y*(A?A[1]:1)+(X?X[1]:0),Q&&(b=b%1+(0<b?0:1),A=A%1+(0<A?0:1)),V.set(b,A))),V.clone());return(Q=V.multiply({x:R.width,y:R.height})).local=X,Q},convertPoint:function(V,R,Q,X,b,A){if(!(P=R.rect))return!1;var c=R.matrix.applyInverse(V).sub(P);if(!(0<=c.x&&0<=c.y&&c.x<=P.width&&c.y<=P.height))return c;if(X&&p(X.pixelPerfect,A,b)){var f=1,S=!1,V=(P=this._is2d?(f=b.getZoom(),SJ(V.x,V.y,N8,f)):SJ(V.x,V.y)).x,F=P.y,D=P.width,P=P.height,N=D*P*f*f,q=((q=L8.hitMaxArea)<N&&(f*=Math.sqrt(q/N)),V*=f,F*=f,U2(D=(D*=f)<2?2:D,P=(P*=f)<2?2:P)),V=((N=new Rf(0,-V,-F,f,f)).append(R.matrix),b._drawForChecking=!0,X.transform=N,Q.fitSize),F=(R.refRect&&R.refRect.fitSize?(X.refRect=R.refRect,Q.fitSize=!0):Q.fitSize=!1,Q.comps);Q.comps=[X],H_(q,Q,0,0,D,P,A,b),Q.comps=F,Q.fitSize=V,delete X.refRect,delete X.unionRect,delete X.transform,b._drawForChecking=!1;try{for(var L=0,e=q.getImageData(0,0,D,P).data;L<e.length;L+=4)if(0!==e[L+3]){S=!0;break}q.restore()}catch(V){h2=q8,S=!1}c.inRect=S}else c.inRect=!0;return c}}),qq.DefaultInteractor=function(V){oJ(XI,this,[V])}),bI=(V("DefaultInteractor",ku,{handle_mousedown:function(V){Tf(V);var R,Q=this.gv,X=Q.getDataAt(V);!Q.setFocus(V)||Q._editing||Q._scrolling||(Ss(V)?Q.handleDoubleClick(V,X):Q.handleClick(V,X),R=As(V),!E2()&&!R&&X&&(Q.isMovable(X)||Q._39Q(X))||!Q.isPannable()||!bs(V)&&!R||Ds(V)||(this._tx=Q.tx(),this._ty=Q.ty(),this.startDragging(V)))},handleWindowMouseUp:function(V){var R=this.gv;R._panning&&(delete R._panning,R.onPanEnded(),this.fi({kind:"endPan",event:V})),delete this._tx,delete this._ty,this.clearDragging()},handle_mousemove:function(V){var R=this,Q=R.gv;R._hoverTimer&&(U8(R._hoverTimer),delete R._hoverTimer),R._hoverTimer=W8(function(){R.fi({kind:"hover",event:V}),U8(R._hoverTimer),delete R._hoverTimer},Q.getHoverDelay()||L8.hoverDelay)},handle_mouseleave:function(V){this._hoverTimer&&(U8(this._hoverTimer),delete this._hoverTimer)},handleWindowMouseMove:function(V){var R=this.gv,V=(this.fi({kind:R._panning?"betweenPan":"beginPan",event:V}),R._panning=1,Aq(R,V,this._lastClientPoint));R.setTranslate(this._tx+V.x,this._ty+V.y)},handle_mousewheel:function(V){this.gv.handleScroll(V,V.wheelDelta)},handle_DOMMouseScroll:function(V){2===V.axis&&this.gv.handleScroll(V,-V.detail)},handle_keydown:function(V){this.gv.handleKeyDown(V)}}),qq.SelectInteractor=function(V){oJ(bI,this,[V])}),AI=(V("SelectInteractor",ku,{_42:function(){var V=this.gv,R=V.getZoom(),Q=this.mark,X=this.div,b=(X||(X=this.div=pJ(),BJ(this.getView(),X)),{});b.x=Q.x*R+V.tx(),b.y=Q.y*R+V.ty(),b.width=Q.width*R,b.height=Q.height*R,_(X,b),this.intersects()?(X.style.border="",X.style.background=V.getRectSelectBackground()):(X.style.background="",X.style.border="1px solid "+V.getRectSelectBorderColor())},handle_mousedown:function(V){var R,Q,X=this.gv;this._57I=q8,this.pendingClickThrough=q8,X._editing||X._scrolling||E2()||As(V)||(R=X.getDataAt(V),Q=X.sm(),R?Ds(V)?Q.co(R)?Q.rs(R):Q.as(R):Q.co(R)?R instanceof qu&&R.isClickThroughEnabled()&&bs(V)&&(this.pendingClickThrough=Ps(V)):Q.ss(R):Ds(V)||!X.isPannable()?bs(V)&&(Ds(V)||Q.cs(),X.isRectSelectable()&&(this.startDragging(V),X._77O=1)):bs(V)&&(this._57I=Ps(V)))},handle_mouseup:function(V){var R,Q=this.gv,X=this._57I;X&&(qs(X,Ps(V))<=1&&Q.sm().cs(),this._57I=q8),this.pendingClickThrough&&(qs(this.pendingClickThrough,Ps(V))<=1&&(R=Q.getDataAt(V))instanceof qu&&R.isClickThroughEnabled()&&(X=Q.getDataAt(V,function(V){return V.getParent()===R&&Q.isSelectable(V,!0)}))&&(V.clickThrough=!0,Q.sm().ss(X)),this.pendingClickThrough=q8)},handleWindowMouseUp:function(V){this.clear(V)},handleWindowMouseMove:function(V){var R=this,Q=R.gv;R._logicalPoint=Q.lp(V),R.mark?(R.fi({kind:"betweenRectSelect",event:V}),Q.isPannable()&&R.autoScroll(V),R.redraw()):R.fi({kind:"beginRectSelect",event:V}),R.mark=Ls(R._lastLogicalPoint,R._logicalPoint),R.redraw()},intersects:function(){var V=this._lastLogicalPoint,R=this._logicalPoint;return V.x>R.x||V.y>R.y},clear:function(V){var R,Q,X,b,A=this,c=A.gv,f=A.mark;A._57I=q8,A.pendingClickThrough=q8,A._lastLogicalPoint&&(f&&(0===f.width||0===f.height||(f=c.getDatasInRect(f,A.intersects())).isEmpty()||(R=c.sm(),Q=R.toSelection(),X=Fs(V),b=V.altKey,f.each(function(V){R.co(V)?X&&!b||Q.remove(V):(!b||X&&b)&&Q.add(V)}),R.ss(Q)),zs(A.div),delete A.div,delete A.mark,A.redraw(),A.fi({kind:"endRectSelect",event:V}),c.onRectSelectEnded()),A.clearDragging(),delete c._77O)},redraw:function(){var V=this;V._draw||(V._draw=1,W8(function(){V.mark&&V._42(),delete V._draw},16))}}),qq.MoveInteractor=function(V){oJ(AI,this,[V])}),cI=(V("MoveInteractor",ku,{handle_mousedown:function(V){var R,Q=this.gv;!bs(V)||Q._editing||Q._scrolling||E2()||(!(R=Q.getSelectedDataAt(V))||Q._39Q(R)&&!Q.isMovable(R)?Q._focusData=q8:(this._data=R,Q.handleMouseDown&&Q.handleMouseDown(V,R),this.startDragging(V),Q.isMovable(R)&&(Q._moving=1)))},handleWindowMouseUp:function(V){var R=this.gv;R.handleMouseUp&&R.handleMouseUp(V,this._data),this.clear(V)},handleWindowMouseMove:function(V){var R,Q,X,b,A=this,c=A._data,f=A.gv;f._93O&&f._93O(V,c)||f._moving&&(A._logicalPoint||A.fi({kind:"prepareMove",event:V}),R={kind:b=A._logicalPoint?"betweenMove":"beginMove",event:V},Q=A._logicalPoint=f.lp(V),"beginMove"!=b||A._alreadyBeginTransaction||(A._alreadyBeginTransaction=!0,f.getDataModel().beginTransaction()),X=(b=A._calcShift(b,V)).x,b=b.y,(c=A.gv.getMoveMode(V,c))&&("x"===c?b=0:"y"===c?X=0:"xy"!==c&&(X=b=0)),f.moveSelection(X,b),A._lastLogicalPoint=Q,A.autoScroll(V),R.info={dx:X,dy:b},A.fi(R))},_calcShift:function(V,R){var Q=this._logicalPoint,X=this._lastLogicalPoint;return{x:Q.x-X.x,y:Q.y-X.y}},clear:function(V){var R=this.gv;this._lastLogicalPoint&&(this._lastLogicalPoint=this._data=R._moving=q8,this._logicalPoint&&(this.fi({kind:"endMove",event:V}),R.onMoveEnded()),this.clearDragging()),this._alreadyBeginTransaction&&(this._alreadyBeginTransaction=!1,R.getDataModel().endTransaction())}}),qq.TextEditInteractor=function(V){oJ(cI,this,[V]),this.init()}),fI=(V("TextEditInteractor",ku,{setUp:function(){cI.superClass.setUp.call(this),this.gv.mp(this.handleGvPropertyChange,this)},teatDown:function(){cI.superClass.teatDown.call(this),this.gv.ump(this.handleGvPropertyChange,this)},handleGvPropertyChange:function(V){this._editTarget&&this.endTextEdit()},init:function(){function V(V){V.stopPropagation()}var Q=this,R=this.input=q.createElement("input"),X=R.style,b=(R.text="text",X.border="1px solid #d8d8d8",X.position="absolute",X.padding="2px 3px",X.outline="none",X.marginLeft="-90px",X.marginTop="-16px",X.backgroundColor="rgba(255,255,255, 1)",X.fontSize="14px",X.width="180px",X.height="32px",X.boxShadow="0 0 13px rgba(16,142,233, 0.5)",X.textAlign="center",X.boxSizing="border-box",z8(R,"keyup",function(V){$2(V)&&Q.endTextEdit(),j2(V)&&Q.endTextEdit(!0)}),z8(R,"focus",function(V){R.select()}),this.textarea=q.createElement("textarea")),A=this.wrap=q.createElement("div");A.appendChild(b),(X=b.style).margin=0,X.padding="4px",X.overflow="hidden",X.boxSizing="border-box",X.position="absolute",X.outline="none",X.backgroundColor="transparent",X.resize="none",X.textAlign="center",X.fontSize="14px",X.borderWidth=0,X.width="100%",(X=A.style).boxSizing="border-box",X.margin=0,X.padding=0,X.position="absolute",X.boxShadow="0 0 13px rgba(16,142,233, 0.5)",X.border="1px solid #d8d8d8",X.backgroundColor="rgba(255,255,255, 1)",X.zIndex="10",z8(b,"keydown",function(V){(Fs()||Ds())&&$2(V)?Q.endTextEdit():j2(V)?Q.endTextEdit(!0):Q._editTarget instanceof eu||Q.calculateTextareaHeight(String.fromCharCode(V.keyCode))}),z8(b,"focus",function(V){b.select()}),z8(R,"mousedown",V),z8(R,"touchstart",V),z8(b,"mousedown",V),z8(b,"touchstart",V),z8(b,"click",V),Q.SIZING_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],Q.HIDDEN_TEXTAREA_STYLE="visibility:hidden; min-height:0 !important;max-height:none !important;height:0 !important;visibility:hidden !important;overflow:hidden !important;position:absolute !important;z-index:-1000 !important;top:0 !important;right:0 !important",Q.handleWindowClick=function(V){var R=Q._editingDOM;R&&(R=R.getBoundingClientRect(),V=Ps(V),Js(R,V)||Q.endTextEdit())}},handle_mousedown:function(V){var R,Q=this.gv;Ss(V)&&!Q._editing&&(V=Q.getDataAt(V))&&(R=Q.getTextEditInfo(V))&&(this._editInfo=R,this._editTarget=V,Q._editing=!0,R.isMultiline?this.handleMultilineEdit():this.handleTextEdit())},handleMultilineEdit:function(){var V=this,R=V.gv,Q=V._editTarget,X=V.getTargetValue(),b=V.textarea,A=V.wrap,c=this._editInfo;this.hiddenTextarea||this.createHiddenTextarea(),b.value=X=null!==X&&X!==N8?X:"",c.font&&(b.style.font=c.font),V._editingDOM=b,R.appendHTML(A),this.layoutHTML(A,Q),Q instanceof eu?b.style.height="100%":(b.style.height="auto",this.calculateTextareaHeight()),W8(function(){b.focus(),z8(j,"mousedown",V.handleWindowClick),z8(j,"touchstart",V.handleWindowClick)},10)},handleTextEdit:function(){var V=this,R=V.gv,Q=V._editTarget,X=V.getTargetValue(),b=V.input;b.value=X=null!==X&&X!==N8?X:"",V._editingDOM=b,R.getView().appendChild(b),this.layoutHTML(b,Q),W8(function(){b.focus(),z8(j,"mousedown",V.handleWindowClick),z8(j,"touchstart",V.handleWindowClick)},10)},layoutHTML:function(V,R){var Q,X,b,A=this.gv,c=A.getZoom();R instanceof eu?(b=(X=A.getDataUI(R))._6I,Q=V.style,V.style.left=b.x*c+A.tx()+"px",V.style.top=b.y*c+A.ty()+"px",V.style.width=X._6I.width+"px",V.style.height=X._6I.height+"px",c2(Q,"transform","scale("+c+","+c+")"),c2(Q,"transformOrigin","0px 0px")):R instanceof Xu?(Q=(b=R.getRect()).width*c,V.style.left=(b.x+b.width/2)*c+A.tx()+"px",V.style.top=(b.y+b.height/2)*c+A.ty()+"px",V.style.width=Q+"px",V.style.marginLeft=-Q/2+"px"):R instanceof I.Edge&&(b=(X=A.getDataUI(R))._6I,V.style.left=(b.x+b.width/2)*c+A.tx()+"px",V.style.top=(b.y+b.height/2)*c+A.ty()+"px")},endTextEdit:function(V){var R=this,Q=R._editInfo.isMultiline?R.wrap:R.input,X=R._editInfo.isMultiline?R.textarea:R.input;V||R.setTargetValue(X.value),R.gv.getView().removeChild(Q),R.gv._editing=!1,delete R._editingDOM,delete R._editTarget,Y8(j,"mousedown",R.handleWindowClick),Y8(j,"touchstart",R.handleWindowClick)},setTargetValue:function(V){var R=this._editTarget,Q=this._editInfo,X=Q.accessType;(Q=Q.name)&&X||(X="p",Q="name"),"p"===X?R[I.Default.setter(Q)](V):"a"===X?R.a(Q,V):R.s(Q,V)},getTargetValue:function(){var V=this._editTarget,R=this._editInfo,Q=R.accessType;return(R=R.name)&&Q||(Q="p",R="name"),"p"===Q?V[I.Default.getter(R)]():"a"===Q?V.a(R):V.s(R)},createHiddenTextarea:function(){this.hiddenTextarea=q.createElement("textarea"),this.hiddenTextarea.setAttribute("style","margin:0; padding:0; position:absolute; overflowY:scroll; resize:none; box-sizing:border-box;pointer-events: none;opacity:0;"),this.hiddenTextarea.setAttribute("rows","1"),this.gv.getView().appendChild(this.hiddenTextarea)},calculateHTMLStyle:function(V,R){if(R&&this.computedStyleCache)return this.computedStyleCache;var Q=j.getComputedStyle(V),V=Q.getPropertyValue("box-sizing")||Q.getPropertyValue("-moz-box-sizing")||Q.getPropertyValue("-webkit-box-sizing"),X=parseFloat(Q.getPropertyValue("padding-bottom"))+parseFloat(Q.getPropertyValue("padding-top")),b=parseFloat(Q.getPropertyValue("border-bottom-width"))+parseFloat(Q.getPropertyValue("border-top-width")),X={sizingStyle:this.SIZING_STYLE.map(function(V){return V+":"+Q.getPropertyValue(V)}).join(";"),paddingSize:X,borderSize:b,boxSizing:V};return R&&(this.computedStyleCache=X),X},calculateTextareaHeight:function(V){V=V||"";var R=this.textarea,Q=this.hiddenTextarea,X=this.wrap,b=(f=this.calculateHTMLStyle(R,!1)).paddingSize,A=f.borderSize,c=f.boxSizing,f=f.sizingStyle,f=(Q.setAttribute("style",f+";"+this.HIDDEN_TEXTAREA_STYLE),Q.value=R.value+V,Q.scrollHeight);"border-box"===c?f+=A:"content-box"===c&&(f-=b),R.style.height=f+"px",X.style.height=Math.max(f,32)+"px",X.style.marginTop=-.5*f+"px"}}),qq.ScrollBarInteractor=function(V){oJ(fI,this,[V])}),SI=(V("ScrollBarInteractor",ku,{_41o:function(){return this.gv.getViewRect().height<this.gv.getScrollRect().height},_40o:function(){return this.gv.getViewRect().width<this.gv.getScrollRect().width},isV:function(V){var R=this.gv.getViewRect();return this._41o()&&(R.x+R.width-this.gv.lp(V).x)*this.gv.getZoom()<rf},isH:function(V){var R=this.gv.getViewRect();return this._40o()&&(R.y+R.height-this.gv.lp(V).y)*this.gv.getZoom()<rf},handle_mousemove:function(V){this.handle_touchmove(V)},handle_touchmove:function(V){var R;!K2&&bs(V)&&this.gv.isScrollBarVisible()&&(R=this.isV(V),V=this.isH(V),(R||V)&&this.gv.showScrollBar(),this.gv._scrolling=R||V)},handleWindowMouseUp:function(V){this.handleWindowTouchEnd(V)},handleWindowTouchEnd:function(V){this._state=this._cp=this._tx=this._ty=this.gv._scrolling=q8,this.fi({kind:"endScroll",event:V})},handle_mousedown:function(V){this.handle_touchstart(V)},handle_touchstart:function(V){var R,Q=this;Q.gv.setFocus(V),Tf(V),Q.handle_touchmove(V),1<fs(V)||!Q.gv._scrolling||!Q.gv.isScrollBarVisible()||(Q._cp=Ps(V),Q._tx=Q.gv.tx(),Q._ty=Q.gv.ty(),R=Q.isV(V),Q._state=R?"vScroll":"hScroll",ms(Q,V),Q.fi({kind:"beginScroll",event:V}))},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)},handleWindowTouchMove:function(V){var R=Ps(V),Q=this.gv.getViewRect(),X=this.gv.getScrollRect();"vScroll"===this._state?this.gv.ty(this._ty+(this._cp.y-R.y)*X.height/Q.height):"hScroll"===this._state&&this.gv.tx(this._tx+(this._cp.x-R.x)*X.width/Q.width),this.fi({kind:"betweenScroll",event:V})}}),qq.TouchInteractor=function(V,R){(R=R||{}).selectable===N8&&(R.selectable=!0),R.movable===N8&&(R.movable=!0),R.pannable===N8&&(R.pannable=!0),R.pinchable===N8&&(R.pinchable=!0),R.editable===N8&&(R.editable=!0),this.params=R,oJ(SI,this,[V])});V("TouchInteractor",ku,{ms_edit:1,setUp:function(){SI.superClass.setUp.call(this),d8&&this.params.editable&&this.gv.setEditInteractor(this)},tearDown:function(){SI.superClass.tearDown.call(this),d8&&this.params.editable&&this.gv.setEditInteractor(q8)},clear:function(V){var R=this,Q=R.gv;Q._moving&&(R.fi({kind:"endMove",event:V}),delete Q._moving,Q.onMoveEnded(),Q.dm().endTransaction()),Q._panning&&(R.fi({kind:"endPan",event:V}),delete Q._panning,Q.onPanEnded()),Q._pinching&&(R.fi({kind:"endPinch",event:V}),delete Q._pinching,Q.onPinchEnded()),Q._editing&&(R._46O(V),R._77I=R._node=R._edge=R._shape=R._rect=R._89I=R._index=Q._editing=q8),R.pendingClickThrough=R._moving=R._panning=R._pinching=R._editing=R._57I=R._data=R._beginHistory=q8,R.clearDragging()},handle_touchstart:function(V){var R,Q,X,b,A,c=this;c.gv._editing||(Tf(V),c._57I=q8,c.pendingClickThrough=q8,R=c.params,X=(Q=c.gv).sm(),b=Q.getDataAt(V),1===(A=fs(V))?Ss(V)?Q.handleDoubleClick(V,b):(Q.handleClick(V,b),b&&(Q.handleMouseDown&&Q.handleMouseDown(V,b),c._data=b),(b=R.selectable?b:q8)&&(X.co(b)?b instanceof qu&&b.isClickThroughEnabled()&&(c.pendingClickThrough=Ps(V)):X.ss(b),R.editable&&Q.isEditable(b)&&c._79I(V,b,!0)?(c._editing=1,c.startDragging(V)):R.movable&&Q.isMovable(b)&&(c._moving=1,c.startDragging(V))),b&&(Q.isMovable(b)||Q._39Q(b))||(c._57I=Ps(V),R.pannable&&Q.isPannable()&&(c._panning=1,c.startDragging(V),c._translate={x:Q.tx(),y:Q.ty()}))):!R.pinchable||2!==A||!Q.getEditInteractor()&&b&&(X=U(Q.getImage(b)))&&p(X.scrollable,b,this)||(c._pinching=1,c.startDragging(V),R=Q.getView(),A=Q.getZoom(),X=R.getBoundingClientRect(),b=V.touches[0],R=V.touches[1],(b={x:(b.clientX+R.clientX)/2-X.left,y:(b.clientY+R.clientY)/2-X.top}).x-=Q.tx(),b.y-=Q.ty(),b.x/=A,b.y/=A,c._p=b,c._d=K4(V)))},handle_touchend:function(V){var R=this.gv,Q=this._57I,X=this._data;Q&&(qs(Q,Ps(V))<=1&&!R.getDataAt(V)&&R.sm().cs(),this._57I=q8),X&&R.handleMouseUp&&R.handleMouseUp(V,X),this.pendingClickThrough&&(qs(this.pendingClickThrough,Ps(V))<=1&&(X=R.getDataAt(V))instanceof qu&&X.isClickThroughEnabled()&&(Q=R.getDataAt(V,function(V){return V.getParent()===X&&R.isSelectable(V,!0)}))&&(V.clickThrough=!0,R.sm().ss(Q)),this.pendingClickThrough=q8)},handleWindowTouchEnd:function(V){this.clear(V)},handleWindowTouchMove:function(V){var R,Q,X=this,b=X.gv,A=fs(V);1===A?(R=Ps(V),R=Aq(b,R,X._lastClientPoint),Q=qs({x:0,y:0},R),X._editing&&(X._beginHistory||(X._beginHistory=1,b.dm().beginTransaction()),b._editing=1,X._78I(V)),X._moving?!b._moving&&Q<L8.touchMoveThreshold||(X._beginHistory||(X._beginHistory=1,b.dm().beginTransaction()),X.handleMove(V)):!X._panning||!b._panning&&Q<L8.touchMoveThreshold||(b.setTranslate(X._translate.x+R.x,X._translate.y+R.y),X.fi({kind:b._panning?"betweenPan":"beginPan",event:V}),b._panning=1)):2===A&&X._pinching&&(Q=K4(V),b.handlePinch(X._p,Q,X._d),X._d=Q,X.fi({kind:b._pinching?"betweenPinch":"beginPinch",event:V}),b._pinching=1)},handleMove:function(V){var R=this.gv,Q=R.lp(V);R._93O&&R._93O(V,this._data)||(R.moveSelection(Q.x-this._lastLogicalPoint.x,Q.y-this._lastLogicalPoint.y),this._lastLogicalPoint=Q,this.autoScroll(V),this.fi({kind:R._moving?"betweenMove":"beginMove",event:V}),R._moving=1)}});var FI,E=(I=j.ht).graph._editor={Math:I.Math,Guide:{},getStyle:function(V){var R=E.StyleMap;return R&&(R=R[V])!==N8?R:E.DefaultStyleMap[V]},setStyle:function(V,R){(E.StyleMap||(E.StyleMap={}))[V]=R},inEdit:function(V){return!0===V._inXEdit},startEdit:function(V){V._inXEdit=!0,E.Inject.doInject(V)},_46O:function(V){V._inXEdit=!1,E.Inject.undoInject(V)},toScreenPosition:function(V,R){var Q=V.tx(),X=V.ty(),V=V._zoom;return new E.Math.Vector2(R.x*V+Q,R.y*V+X)},checkHit:function(V,R,Q){return V.distanceTo(R)<Q},toWorldPosition:function(V,R){var Q=V.tx(),X=V.ty(),V=V._zoom;return{x:(R.x-Q)/V,y:(R.y-X)/V}},setAntialias:function(V,R){for(var Q,X=["imageSmoothingEnabled","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","oImageSmoothingEnabled","msImageSmoothingEnabled"],b=0,A=X.length;b<A&&!((Q=X[b])in V);b++);V[Q],V[Q]=R},getTargetCornersOnScreen:function(R,V){if(!V)return null;var Q=[];if(lJ(V,R))var X=[{x:(X=j_(R,V)).x,y:X.y},{x:X.x+X.width,y:X.y},{x:X.x+X.width,y:X.y+X.height},{x:X.x,y:X.y+X.height}];else{if(!V.getCorners)return null;X=V.getCorners()}return X.forEach(function(V){V=E.toScreenPosition(R,V),Q.push(V.x,V.y)}),Q},log:function(){},updateTipInfo:function(V,R,Q){FI=Q?((V=I.Default.getLogicalPoint(V,R._canvas)).x+=E.Icons.TipShiftX,V.y+=E.Icons.TipShiftY,{helperPos:V,text:Q,size:Q.length}):q8},drawTip:function(V,R){FI&&E.Icons.DrawIcon(R,V,E.Icons.TipHelper,FI)}},DI=E.Inject={_modules:[],registAsModule:function(Q,X){var V,b={},R={};for(V in Q){var A=X.prototype[V];b[V]=A}Q.getBackup=function(V){return b[V]},Q.getBackups=function(){return b},R.doInject=function(V){for(var R in Q)"getBackup"!==R&&(X.prototype[R]=Q[R])},R.undoInject=function(V){for(var R in Q)"getBackup"!==R&&(X.prototype[R]=b[R])},DI._modules.push(R)},doInject:function(V){for(var R=DI._modules,Q=0,X=R.length;Q<X;Q++)R[Q].doInject(V)},undoInject:function(V){for(var R=DI._modules,Q=0,X=R.length;Q<X;Q++)R[Q].undoInject(V)}},PI=ku=I.graph.EditInteractor=function(V){var R=this,Q=q.createElement("canvas");Q.className="editCanvas",Q.style.position="absolute",R._uuid=I.Math.generateUUID(),R._styleMap={},R._canvas=Q,R._context=Q.getContext("2d"),ku.superClass.constructor.call(R,V),this._editDetail=!1,E.setAntialias(R._context,!1),R._subModules=R.initSubModule(),R._gridGuide=new E.Guide.Grid(R),R._rectGuide=new E.Guide.Rect(R),R._hoverGuide=new E.Guide.Hover(R)};I.Default.def(ku,I.graph.Interactor,{ms_edit:1,ms_fire:1}),v.defineProperties(ku.prototype,{editDetail:{get:function(){return!!this._editDetail},set:function(V){var R=this._editDetail;R!==V&&(this._editDetail=V,this.gv._editing=V,this.fp("editDetail",R,V),this.fp("pointsEditingMode",R,V),this.fi({kind:V?"beginEditPoints":"endEditPoints"}))}},gvEditing:{get:function(){return this.gv._editing},set:function(V){this._editDetail&&!V||(this.gv._editing=V)||(this.editDetail=!1)}},editing:{get:function(){return this._editing},set:function(V){this._editing=V,this.gvEditing=V}},editingModule:{get:function(){return this._editMod}},pointsEditingMode:{get:function(){return this.editDetail},set:function(V){this.editDetail!==V&&(V?this._tryEnterEditDetailMode():this._tryQuitEditDetailMode())}},gridEnabled:{get:function(){return!!this._gridEnabled&&(this.gv,!0)},set:function(V){V!==this._gridEnabled&&(this._gridEnabled=V,this._42())}},alignmentGuideEnabled:{get:function(){return this._agEnabled},set:function(V){V!==this._agEnabled&&(this._agEnabled=V,this._42())}},gridGuide:{get:function(){return this._gridGuide}},rectGuide:{get:function(){return this._rectGuide}},hoverGuide:{get:function(){return this._hoverGuide}}}),ku.prototype.initSubModule=function(){return[new E.Anchor(this),new E.RotateX(this),new E.MoveDummy(this),new E.Rect(this),new E.Curve(this),new E.MoveHelper(this)]},ku.prototype.getSubModule=function(V){for(var R,Q=this._subModules,X=0,b=Q.length;X<b;X++)if((R=Q[X]).catalog===V)return R},ku.prototype.invokeSubModule=function(V,R){for(var Q,X,b=this._subModules,A=Array.prototype.slice.call(arguments,2),c=0,f=b.length;c<f;c++)if((X=(Q=b[c])[V])&&X.apply(Q,A)!=N8&&R)return Q},ku.prototype.invokeSubModuleInverse=function(V,R){var Q=this._subModules;if(Q)for(var X,b,A=Array.prototype.slice.call(arguments,2),c=Q.length-1;0<=c;c--)if((b=(X=Q[c])[V])&&b.apply(X,A)!=N8&&R)return X},ku.prototype.setUp=function(){E.log("setUp");var V=this.gv,R=V.getView(),Q=this._canvas;ku.superClass.setUp.call(this),V.setEditInteractor(this),V._79O?R.insertBefore(Q,V._79O):R.appendChild(Q),E.startEdit(V),this.invokeSubModule("setUp"),V.dm().mm(this._onDataModelChanged,this),V.dm().md(this._onDataPropertyChanged,this)},ku.prototype.tearDown=function(){E.log("tearDown");var V=this,R=V.gv,Q=R.getView();V._resetCustomCursorStyle(),ku.superClass.tearDown.call(V),R.dm().umm(V._onDataModelChanged,V),R.dm().umd(V._onDataPropertyChanged,V),R.setEditInteractor(null),Q.removeChild(V._canvas),V._drawTimer&&(U8(V._drawTimer),V._drawTimer=null),E._46O(R),V.invokeSubModule("tearDown")},ku.prototype._onDataModelChanged=function(V){("clear"===V.kind||"remove"===V.kind&&this.editDetail&&V.data===this.getSubModule("Curve").target)&&(this.editDetail=!1,this._42())},ku.prototype._onDataPropertyChanged=function(V){var R,Q;this.editDetail&&(R=this.getSubModule("Curve"),(Q=V.data)!==R.target||Q._writing||R._handleDataChanged(V))},ku.prototype.clear=function(){E.log("clear")},ku.prototype.redraw=function(){this._42()},ku.prototype._42=function(){var V=this;V._drawTimer||(V._drawTimer=W8(function(){V._drawTimer=null,V.drawImpl()},0))},ku.prototype.drawImpl=function(){for(var f in{_42:!0})break;return function(){var V=this._canvas,R=this.gv,Q=R.getWidth(),X=R.getHeight(),b=this._context,A=I.Default.getInternal(),c=L8.devicePixelRatio,A=(V.width===Q&&V.height===X||A.setCanvas(V,Q,X,c),b.clearRect(0,0,V.width,V.height),this._getValidSelection());b.save(),b.scale(c,c),this._gridGuide._42(),this.invokeSubModuleInverse(f,!1,b,R,A),this._rectGuide._42(),this._hoverGuide._42(),E.drawTip(b,this),b.restore()}}(),ku.prototype._getValidSelection=function(){var R=this.gv,V=R.sm().getSelection(),Q=[];return V.each(function(V){R.isVisible(V)&&R.isEditable(V)&&Q.push(V)}),Q},ku.prototype.handle_touchmove=function(V){return this.handle_mousemove(V)},ku.prototype.handle_mousemove=function(V){I.Default.isDragging()||!this.editDetail&&(E2()||As(V))||this.gv._externalEditing||(this.gvEditing=!1,this._checkEdit(V)?this.gvEditing=!0:this.getStyle("hoverGuideVisible")&&(this.hoverData=this.gv.getDataAt(V)),this._42())},ku.prototype.handle_touchstart=function(V){return this.handle_mousedown(V)},ku.prototype.handle_mousedown=function(V){Tf(V);var R=this;if((R.editDetail||!E2()&&!As(V))&&!R.gv._externalEditing){if(Ss(V)&&!V.clickThrough){if(R.editDetail){if(R._tryQuitEditDetailMode(V))return}else if(R._tryEnterEditDetailMode())return;R.gv.dm().beginTransaction();var Q=R.invokeSubModule("handleDoubleClick",!0,V);if(R.gv.dm().endTransaction(),Q)return}(Q=R._checkEdit(V))&&(R._downPosition=R._getLogicalPoint(V),R.gv.dm().beginTransaction(),Q.startEdit(R,V),R.editing=!0)}},ku.prototype._checkEdit=function(V){var R=this.gv,Q=this._getLogicalPoint(V),R=this.invokeSubModule("check",!0,R,V,Q)||null;return this._editMod=R},ku.prototype.handleWindowTouchMove=function(V){return this.handleWindowMouseMove(V)},ku.prototype.handleWindowMouseMove=function(V){var R=this._downPosition;if(R){if(this._getLogicalPoint(V).distanceTo(R)<this.getStyle("moveSensitivity"))return;delete this._downPosition}(R=this._editMod)&&R.handleEdit(this.gv,V),this.redraw()},ku.prototype._getLogicalPoint=function(V){return V=I.Default.getLogicalPoint(V,this._canvas),new E.Math.Vector2(V)},ku.prototype.handleWindowTouchEnd=function(V){return this.handleWindowMouseUp(V)},ku.prototype.handleWindowMouseUp=function(){for(var R in{_46O:!0})break;return function(V){this.editing=!1,this.setCursor("default"),this.invokeSubModule(R,!1,V),this._42(),this.gv.dm().endTransaction()}}(),ku.prototype.handle_mousewheel=function(V){Tf(V),this.invokeSubModule("preHandleScroll",!0)||this.gv.handleScroll(V,V.wheelDelta)},ku.prototype.handleDelete=function(){var V;if(!this.editDetail)return this.gv.dm().beginTransaction(),V=this.invokeSubModule("handleNormalStateDelete",!0),this.gv.dm().endTransaction(),void(V||this.gv.removeSelection());this.gv.dm().beginTransaction(),this.invokeSubModule("handleDelete",!0),this.gv.dm().endTransaction(),this._42()},ku.prototype.handle_keydown=function(V){var R,Q=this;return(V.metaKey||V.ctrlKey)&&Q._42(),E2(V)&&!Q.editing?(Q.gvEditing=!1,Q.setCursor("default"),void Q._42()):(R=$2(V),Q.editDetail?((R||j2(V))&&(Q.editDetail=!1,Q._42()),Q.gv.dm().beginTransaction(),Q.invokeSubModule("handle_keydown",!0,V),void Q.gv.dm().endTransaction()):(Q.gv.dm().beginTransaction(),Q.invokeSubModule("handleNormalStateKeyDown",!0,V),Q.gv.dm().endTransaction(),void(R&&Q._tryEnterEditDetailMode())))},ku.prototype.handle_keyup=function(V){this.gv.dm().beginTransaction(),this.invokeSubModule("handle_keyup",!0,V),this.gv.dm().endTransaction()},ku.prototype._tryEnterEditDetailMode=function(){if(!this.editDetail&&this.invokeSubModule("canEnterEditDetailMode",!0)&&1===this._getValidSelection().length)return this.editDetail=!0,this._42(),!0},ku.prototype._tryQuitEditDetailMode=function(V){return!(!this.editDetail||V&&!this.invokeSubModule("canQuitEditDetailMode",!0,V)||(this.editDetail=!1,this._42(),0))},ku.prototype.setStyle=function(V,R,Q){Q?E.setStyle(V,R):this._styleMap[V]=R,"baseColor"===V&&(eI=R),this.fp("styleChanged",null,{key:V,value:R,base:Q}),this._42()},ku.prototype.getStyle=function(V,R){var Q=this._styleMap[V];return Q!==N8?Q:E.getStyle(V)},ku.prototype.setCursor=function(V){this._resetCustomCursorStyle(),I.graph.EditInteractor.superClass.setCursor.call(this,V)},ku.prototype._drawHostGuide=function(V){var R=this._context,Q=this.gv,X=(E.Icons.DrawIcon(this,R,E.Icons.NodeHoverGuide,V.corners),V.host);if(X){var b=Q.getAttachPoints(X);if(b&&b.length)for(var A=0,c=b.length;A<c;A++){var f=b[A],f=Xq(Q,X,0,f.offsetX||0,f.offsetY||0,f.x,f.y);(f=E.toScreenPosition(Q,f)).isAttach=V.attach===A,E.Icons.DrawIcon(this,R,E.Icons.AttachPoint,f)}}},ku.prototype._resetCustomCursorStyle=function(){var V;this._customStyle&&((V=this.gv.getView()).classList&&V.classList.remove&&V.classList.remove(this._customStyle),this._customStyle=null)},ku.prototype._setRotateCursor=function(V){var V=(this._cursorFactory||(this._cursorFactory=new E.CursorFactory(this))).getRotateCursor(V),R=this.gv.getView();this._resetCustomCursorStyle(),this._customStyle=V,R.classList&&R.classList.add&&R.classList.add(V)};((R=E.Group=function(V){this._entities=V,this._64O=0,this._position={x:0,y:0},this._scale={x:1,y:1},this._anchor={x:.5,y:.5},this._anchor2={x:.5,y:.5}}).prototype={}).constructor=R;var NI=null,qI=null;R.findOrCreateGroup=function(V,R){return qI===R&&NI&&NI.checkIsMe(V)?NI:(qI=R,(R=new E.Group(V)).getKeyOb()?NI=R:void 0)},R.prototype.checkIsMe=function(V){var R=this._entities;if(R.length!==V.length)return!1;for(var Q={},X=V.length,b=0;b<X;b++)Q[V[b]._id]=!0;for(b=0;b<X;b++)if(!Q[R[b]._id])return!1;return!0},R.prototype.getRotation=function(){return this._64O},R.prototype.getPosition=function(){return this._position},R.prototype.getAnchor=function(){return this._anchor},R.prototype.getWidth=function(){return this._width},R.prototype.getScale=function(){return this._scale},R.prototype.getSize=function(){return{width:this._width,height:this._height}},R.prototype.getHeight=function(){return this._height},R.prototype.getKeyOb=function(){for(var V=this._entities,R=V.length-1;0<=R;R--){var Q=V[R];if(this.isNode(Q))return Q}},R.prototype.getAnchor2=function(){var V=this.rotateCenter;if(V)return V;if(!(V=this.getKeyOb()))return this._anchor;var R=this._anchor2;return V.getMatrix().tf({x:V.getWidth()*(R.x-V.getAnchor().x),y:V.getHeight()*(R.y-V.getAnchor().y)})},R.prototype.setAnchor2=function(V,R){var Q=this.getKeyOb();Q&&(R="number"==typeof V?{x:V,y:R}:V,V=Q.getMatrix().tfi(R),this._anchor2={x:Q.getAnchor().x+V.x/Q.getWidth(),y:Q.getAnchor().y+V.y/Q.getHeight()})},R.prototype.setRotation=function(V){},R.prototype.beginRotate=function(V){this.rotateCenter=V.pos,this.rotateMode=V.groupRotateMode},R.prototype.endRotate=function(){delete this.rotateCenter,delete this.rotateMode},R.prototype.addRotation=function(V,R,Q){return"batch"===R?this._addRotationInBatchMode(V,Q):"block"===R?this._addRotationInBlockMode(V,Q):void 0},R.prototype._addRotationInBlockMode=function(X,b){var A=this,c=A.rotateCenter||A.getPosition();A._entities.forEach(function(V){var R,Q;!A.isNode(V)||b&&!b(V)||((R=V.getMatrix()).translate(-c.x,-c.y),R.rotate(X),R.translate(c.x,c.y),Q=Math.sign(V.getScale().x),V.setRotation(E8(R.b*Q,R.a*Q)),V.setPosition(R.tx,R.ty))})},R.prototype._addRotationInBatchMode=function(b,A){var c=this,f=c._anchor2;c._entities.forEach(function(V){var R,Q,X;!c.isNode(V)||A&&!A(V)||(R=V.getAnchor(),R=(X=V.getMatrix()).tf({x:V.getWidth()*(f.x-R.x),y:V.getHeight()*(f.y-R.y)}),(Q=new E.Math.Matrix2d).set(X.a,X.b,X.c,X.d,X.tx,X.ty),Q.translate(-R.x,-R.y),Q.rotate(b),Q.translate(R.x,R.y),X=Math.sign(V.getScale().x),V.setRotation(E8(Q.b*X,Q.a*X)),V.setPosition(Q.tx,Q.ty))})},R.prototype.setPosition=function(V){for(var R,Q,X=this._position,b=V.x-X.x,A=V.y-X.y,c=this._entities,f=0,S=c.length;f<S;f++)R=c[f],r(R)&&(Q=R.getPosition(),R.setPosition(Q.x+b,Q.y+A));this._position=V},R.prototype.setScale=function(V,R){var Q=V/this._scale.x,X=R/this._scale.y;this._adjustChildScaleOrSize(Q,X,"size"),this._scale={x:V,y:R}},R.prototype.getRect=function(){var V=this._position,R=this._width,Q=this._height;return{x:V.x-R/2,y:V.y-Q/2,width:R,height:Q}},R.prototype.setSize=function(V,R){var V=Math.max(1,V),R=Math.max(1,R),Q=V/this._width,X=R/this._height;this._adjustChildScaleOrSize(Q,X,"size"),this._width=V,this._height=R},R.prototype._adjustChildScaleOrSize=function(V,R,Q){for(var X,b=this._position,A=this._entities,c=new E.Math.Matrix2d,f=0,S=A.length;f<S;f++){var F,D,P,N,q,L,e,J=A[f];this.isNode(J)&&(F=J.getPosition(),D=J.getRotation(),P=J.getWidth(),N=J.getHeight(),L=(q=J.getScale()).x*P,e=q.y*N,c.identity().scale(L,e).rotate(D).translate(F.x,F.y).translate(-b.x,-b.y).rotate(-this._64O),D=E8(c.b*Math.sign(L),c.a*Math.sign(L)),c.scale(V,R),e=Math.cos(D),F=Math.sin(D),L=Math.abs(e)<.001?(X=c.b/F,-c.c/F):(X=c.a/e,c.d/e),"scale"===Q?J.setScale(X/P,L/N):"size"===Q&&(D=X/q.x,F=L/q.y,J.setScale(iJ(X)*Math.abs(q.x),iJ(L)*Math.abs(q.y)),J.setSize(Math.max(.1,Math.abs(D)),Math.max(.1,Math.abs(F)))),c.rotate(this._64O).translate(b.x,b.y),J.setPosition(c.tx,c.ty))}},R.prototype.getMatrix=function(){var V=this._position,R=I.Default.getInternal(),Q=this._scale;return new R.Mat(this._64O,V.x,V.y,Q.x,Q.y)},R.prototype.toGlobal=function(V){return this.getMatrix().tf(V)},R.prototype.getCorners=function(){var V=this._width,R=this._height,Q=-V*(X=this._anchor).x,X=-R*X.y,b=this.getMatrix();return[b.tf(Q,X),b.tf(Q,X+R),b.tf(Q+V,X+R),b.tf(Q+V,X)]},R.prototype.calcInfo=function(){for(var V,R,Q=[],X=this._entities,b=this._64O,A=0,c=X.length;A<c;A++)R=X[A],this.isNode(R)&&R.getCorners&&Q.push.apply(Q,R.getCorners());if(Q.length){for(var f=Math.cos(-b),S=Math.sin(-b),F=1/0,D=-1/0,P=1/0,N=-1/0,A=0,c=Q.length;A<c;A++)q=(V=Q[A]).x,L=V.y,V.x=f*q-S*L,V.y=S*q+f*L,F=Math.min(F,V.x),D=Math.max(D,V.x),P=Math.min(P,V.y),N=Math.max(N,V.y);this._width=(D-F)/this._scale.x,this._height=(N-P)/this._scale.y;var f=Math.cos(b),S=Math.sin(b),q=F+(D-F)*(b=this._anchor).x,L=P+(N-P)*b.y;this._position={x:f*q-S*L,y:S*q+f*L}}},R.prototype.isNode=function(V){return!(!r(V)||lJ(V)&&V.size())},R.prototype._42=function(V,R,Q){var X,b,A,c,f,S=this._entities;for("batch"===this.rotateMode&&(f=this.getKeyOb()),X=0,b=S.length;X<b;X++)A=S[X],this.isNode(A)&&(c=A.getRect(),c={min:E.toScreenPosition(Q,{x:c.x,y:c.y}),max:E.toScreenPosition(Q,{x:c.x+c.width,y:c.y+c.height})},A===f&&(c.isKeyOb=!0),E.Icons.DrawIcon(V,R,E.Icons.GroupSubEntityRect,c))},((Q=E.CurveActiving=function(V,R){for(var Q in this._curve=V,this._interactor=V._interactor,this.silent=!0,R)this[Q]=R[Q];delete this.silent}).prototype={}).constructor=Q,v.defineProperties(Q.prototype,{point:{get:function(){return this._point},set:function(V){this._point=V,this.editingCtrl||this.silent||this._firePointChange()}},pairs:{get:function(){return this._pairs},set:function(V){this._pairs=V,this.editingCtrl&&!this.silent&&this._firePointChange()}}}),Q.prototype._firePointChange=function(){var V,R,Q=this.getCurrentEditingPoint(),X=this._interactor;Q?(R=this._curve.target)&&(R=E.getDataMatrix(R).invert(),V=Q.e,(Q=R.apply(E.toWorldPosition(X.gv,Q))).e=V,(R=this._lastFirePoint)&&Math.abs(Q.x-R.x)<1e-5&&Math.abs(Q.y-R.y)<1e-5&&(Q.e==N8&&R.e==N8||Math.abs(Q.e-R.e)<1e-5)||(this._lastFirePoint=Q,X.fi({kind:"selectPoint",x:Q.x,y:Q.y,e:Q.e}))):X.fi({kind:"selectPoint"})},Q.prototype.dispose=function(){this._interactor.fi({kind:"selectPoint"})},Q.prototype.getCurrentEditingPoint=function(){var V=this.editingCtrl;if(V){var R=this.pairs;if(R=(R=R&&R[V.pairId])&&R[V.type])return R}return this._point},(((j8=E.CursorFactory=function(V){this._interactor=V,this._rotateCursorStyles={}}).prototype={}).constructor=j8).prototype.getRotateCursor=function(V){V<0&&(V+=2*Math.PI);var R=(Q=this._interactor).getStyle("rotateCursorSize"),Q=Q.getStyle("rotateCursorRound"),V=Math.round(V/Math.PI*180/Q),X=this._rotateCursorStyles,b="htCustomRotateStyle_"+R+"_"+Q+"_"+(V=360<=V*Q?0:V);return X[b]||(this._produceRotateCursor(b,R,Q,V),X[b]=!0),b},j8.prototype._produceRotateCursor=function(V,R,Q,X){this._interactor;var b=(b=this._canvas)||(this._canvas=q.createElement("canvas")),A=L8.devicePixelRatio,c=(b.width=b.height=R*A,b.style.width=b.style.height=R+" px",b.getContext("2d"));E.setAntialias(c,!1),c.scale(A,A);var f=(f=Math.round(R/2))+" "+f+",auto !important;",X=Math.PI/180*X*Q;c.clearRect(0,0,R,R),c.save(),c.scale(R/32,R/32),c.translate(16,15),c.rotate(X+Math.PI/2),c.beginPath(),c.moveTo(-8,0),c.lineTo(-8,4),c.lineTo(-4,4),c.moveTo(8,0),c.lineTo(8,4),c.lineTo(4,4),c.moveTo(-8,4),c.quadraticCurveTo(0,-6,8,4),c.restore(),c.lineCap="round",c.lineJoin="miter",c.strokeStyle="white",c.lineWidth=4,c.stroke(),c.strokeStyle="black",c.lineWidth=2,c.stroke(),X="cursor:url("+(Q=JSON.stringify(b.toDataURL()))+")"+f,1!==A&&(X=X+("cursor:url(data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+R+'px" height="'+R+'px"><image xlink:href='+Q+' width="'+R+'" height="'+R+'"/></svg>'))+")"+f+"cursor:-webkit-image-set(url("+Q+")"+A+"x,url("+Q+")1x)"+f),(c=q.createElement("style")).textContent="body."+V+" *, ."+V+"{"+X+"}",q.head.appendChild(c)},((Lu=E.Guide.Grid=function(V){this._interactor=V,this._alignmentGuideId=0,this._xAlignmentGuide=[],this._yAlignmentGuide=[]}).prototype={}).constructor=Lu,v.defineProperties(Lu.prototype,{gridBlockSize:{get:function(){return this._gridBlockSize||this._interactor.getStyle("gridBlockSize")},set:function(V){this._gridBlockSize=V,this._interactor._42()}},gridThickLinesEvery:{get:function(){return this._gridThickLinesEvery||this._interactor.getStyle("gridThickLinesEvery")},set:function(V){this._gridThickLinesEvery=V,this._interactor._42()}},gridEnabled:{get:function(){return this._interactor.gridEnabled&&this.isValidGrid()}}}),Lu.prototype._42=function(){var V=this._interactor;this.gridEnabled&&this.drawGrid(),V.alignmentGuideEnabled&&this.drawAlignmentGuide()},Lu.prototype.makeMatrix=function(){var V=this._interactor.getStyle("gridAngle"),R=this._interactor.getStyle("gridRotation"),Q=new E.Math.Matrix2d,X=Math.sin(V),V=Math.cos(V);return Q.set(1,0,V,X,0,0),Q.rotate(R),Q},Lu.prototype.isValidGrid=function(){var V=Math.PI,R=this._interactor;return!(R.gv._zoom<R.getStyle("gridZoomThreshold"))&&(R=R.getStyle("gridAngle"),!((R=Math.abs(R%V/V*180))<1-1e-8||179.00000001<R))},Lu.prototype.drawAlignmentGuide=function(){var V=this._interactor,R=V.gv,Q=V._canvas,X=V._context,b=Q.width,A=Q.height,c=R.tx(),f=R.ty(),S=R._zoom;X.beginPath(),X.strokeStyle=V.getStyle("gridAlignmentGuideColor"),X.lineWidth=1,this._xAlignmentGuide.forEach(function(V){V=V.p*S+c,X.moveTo(V,0),X.lineTo(V,A)}),this._yAlignmentGuide.forEach(function(V){V=V.p*S+f,X.moveTo(0,V),X.lineTo(b,V)}),X.stroke()},Lu.prototype.drawGrid=function(){var V,R,Q,X=this._interactor,b=this.gridBlockSize,A=this.gridThickLinesEvery,c=X.getStyle("gridThickColor"),f=X.getStyle("gridLightColor"),S=X.gv,F=X._canvas,D=X._context,X=F.width,F=F.height,P=this.makeMatrix(),N=P.applyInverse(E.toWorldPosition(S,{x:0,y:0})),q=P.applyInverse(E.toWorldPosition(S,{x:X,y:0})),L=P.applyInverse(E.toWorldPosition(S,{x:0,y:F})),X=P.applyInverse(E.toWorldPosition(S,{x:X,y:F})),e=Math.min(N.x,q.x,L.x,X.x),J=Math.max(N.x,q.x,L.x,X.x),s=Math.min(N.y,q.y,L.y,X.y),l=Math.max(N.y,q.y,L.y,X.y),F=Math.ceil(e/b),H=Math.floor(J/b),N=Math.ceil(s/b),K=Math.floor(l/b);function y(V,R,Q,X){V=E.toScreenPosition(S,P.apply({x:V,y:R})),R=E.toScreenPosition(S,P.apply({x:Q,y:X})),D.moveTo(V.x,V.y),D.lineTo(R.x,R.y)}for(S.tx(),S.ty(),S._zoom,D.save(),D.lineWidth=1,D.beginPath(),D.strokeStyle=c,Q=Math.ceil(F/A)*A;Q<=H;Q+=A)y(V=Q*b,s,V,l);for(Q=Math.ceil(N/A)*A;Q<=K;Q+=A)y(e,R=Q*b,J,R);for(D.stroke(),D.beginPath(),D.strokeStyle=f,Q=F;Q<=H;Q++)Q%A!=0&&y(V=Q*b,s,V,l);for(Q=N;Q<=K;Q++)Q%A!=0&&y(e,R=Q*b,J,R);D.stroke(),D.restore()},Lu.prototype.getAlignmentGuides=function(){return{x:this._xAlignmentGuide,y:this._yAlignmentGuide}},Lu.prototype.addAlignmentGuide=function(V,R,Q){var X,V="x"===V?this._xAlignmentGuide:this._yAlignmentGuide,R={p:R,id:Q=Q||++this._alignmentGuideId};return V.length?(X=this._findClosestAlignmentGuide(R.p,V)).dis<0?V.splice(X.index+1,0,R):V.splice(X.index,0,R):V.push(R),this._interactor._42(),Q},Lu.prototype.findClosest=function(V,R,Q){var X=this._interactor,b=X.gv,A=1/0,c=1/0,f=(V=Q?E.toWorldPosition(b,V):V).x,S=V.y;if(this.gridEnabled&&(D=this.gridBlockSize,V=(F=this.makeMatrix()).applyInverse(V),A=(V=F.apply({x:Math.round(V.x/D)*D,y:Math.round(V.y/D)*D})).x-f,c=V.y-S,F=!0),X.alignmentGuideEnabled&&(D=this._findClosestAlignmentGuide(f,this._xAlignmentGuide).dis,V=this._findClosestAlignmentGuide(S,this._yAlignmentGuide).dis,Math.abs(D)<Math.abs(A)&&(A=D,F=!0),Math.abs(V)<Math.abs(c)&&(c=V,F=!0)),F){var F=!1,f=b._zoom,S=X.getStyle("smartGuideThreshold")/f,D={};if(Math.abs(A)<S&&"y"!==R&&(D.x=Q?A*f:A,F=!0),Math.abs(c)<S&&"x"!==R&&(D.y=Q?c*f:c,F=!0),F)return D}},Lu.prototype._findClosestAlignmentGuide=function(V,R){if(!R.length)return{dis:1/0};for(var Q,X=0,b=R.length-1;1<b-X;)R[Q=Math.floor((X+b)/2)].p<V?X=Q:b=Q;var A=R[X].p-V,c=R[b].p-V;return Math.abs(A)<=Math.abs(c)?{line:R[X],dis:A,index:X}:{line:R[b],dis:c,index:b}},Lu.prototype.removeAllAlignmentGuide=function(V){"y"!==V&&(this._xAlignmentGuide=[]),"x"!==V&&(this._yAlignmentGuide=[]),this._interactor._42()},Lu.prototype.removeAlignmentGuide=function(V){for(var R,Q,X,b=this._xAlignmentGuide,A=0;A<2;A++)for(Q=(b=(R=0)===A?this._xAlignmentGuide:this._yAlignmentGuide).length;R<Q;R++)if((X=b[R]).id===V)return b.splice(R,1),this._interactor._42(),{axis:0===A?"x":"y",position:X.p};return!1},Lu.prototype.adjustAlignmentGuide=function(V,R){var Q=this.removeAlignmentGuide(V);return!!Q&&(this.addAlignmentGuide(Q.axis,R,V),!0)},(((V=E.Guide.Rect=function(V){this._interactor=V}).prototype={}).constructor=V).prototype.gatherRects=function(){var X,b,A,c,f=this._interactor.gv,S=[],F=[],V={x:S,y:F},D={},R=f.getDataModel(),Q=R.a("width"),P=R.a("height");Q&&P&&(b=X=0,A=Q,c=P,S.push({node:R,type:0,p:X},{node:R,type:1,p:X+A/2},{node:R,type:2,p:X+A}),F.push({node:R,type:0,p:b},{node:R,type:1,p:b+c/2},{node:R,type:2,p:b+c}),D[R._id||0]={x:X,y:b,width:A,height:c}),R.each(function(R){var Q,V;r(R)&&!f.isSelected(R)&&f.isVisible(R)&&f.isValidGuideLineSource(R)&&(Q=!1,f.sm().getSelection().each(function(V){Q||(R.isHostOn(V)||R.isDescendantOf(V))&&(Q=!0)}),Q||(V=R.getRect(),X=V.x,b=V.y,A=V.width,c=V.height,S.push({node:R,type:0,p:X},{node:R,type:1,p:X+A/2},{node:R,type:2,p:X+A}),F.push({node:R,type:0,p:b},{node:R,type:1,p:b+c/2},{node:R,type:2,p:b+c}),D[R._id]=V))}),S.sort(function(V,R){return V.p-R.p}),F.sort(function(V,R){return V.p-R.p}),this._grid=V,this._87I=D},V.prototype.gatherLines=function(V,R,Q){var X,b,A,c,f,S,F,D,P,N=[this.findClosest({x:V.x,y:V.y},R),this.findClosest({x:V.x+V.w/2,y:V.y+V.h/2},R),this.findClosest({x:V.x+V.w,y:V.y+V.h},R)],q={},L=this._87I;for(Q=Q||255,this._guideLine=[],X=0;X<2;X++)for(q={},F=0===X?(c="y",(S=V.x)+V.w):(c="x",(S=V.y)+V.h),b=0;b<3;b++)(f=N[b])&&isFinite(f[c])&&Q&1<<3*X+b&&(q[P=(f=f[c+"Line"]).node._id||0]||(q[P]=!0,P=L[P],P="y"===c?(D=P.x,P.x+P.width):(D=P.y,P.y+P.height),A=f.p,this._guideLine.push({type:c,a:S,b:F,c:D,d:P,p:A,center:1===f.type})))},V.prototype._binarySearchClosest=function(V,R){if(!R.length)return{dis:1/0};for(var Q,X=0,b=R.length-1;1<b-X;)R[Q=Math.floor((X+b)/2)].p<V?X=Q:b=Q;var A=R[X].p-V,c=R[b].p-V;return Math.abs(A)<=Math.abs(c)?{line:R[X],dis:A}:{line:R[b],dis:c}},V.prototype.findClosest=function(V,R,Q){var X,b=(S=this._interactor).gv,A=this._grid,c=(Q&&(V=E.toWorldPosition(b,V)),this._binarySearchClosest(V.x,A.x)),V=this._binarySearchClosest(V.y,A.y),A=c.dis,f=V.dis,b=b._zoom,S=S.getStyle("smartGuideThreshold")/b,F={};if(Math.abs(A)<S&&"y"!==R&&(F.x=Q?A*b:A,F.xLine=c.line,X=!0),Math.abs(f)<S&&"x"!==R&&(F.y=Q?f*b:f,F.yLine=V.line,X=!0),X)return F},V.prototype._42=function(){var V=this._guideLine;if(V&&!I.Default.isCtrlDown()){var R=this._interactor;if(R.getStyle("guideLineVisible"))for(var Q,X,b,A,c,f,S,F,D,P,N,q,L,e=R.gv,J=R._context,s=e.tx(),l=e.ty(),H=e._zoom,K=R.getStyle("guideLineTextSpacing"),y=0,t=V.length;y<t;y++)c=(Q=V[y]).type,f=Q.p,S=Q.a,F=Q.b,D=Q.c,P=Q.d,N=Math.min(S,D),q=Math.max(F,P),f="x"===c?(b=N*H+l,A=X=f*H+s,q*H+l):(X=N*H+s,A=q*H+s,b=f*H+l),E.Icons.DrawIcon(R,J,E.Icons.MoveLineGuide,{rect:[X,b,A,f],center:Q.center}),S<=P&&D<=F||(N=P<S?P:F,q=P<S?S:D,"x"===c?(Q.center2center||(A=X-=K),b=N*H+l,f=q*H+l,L=E.Icons.MoveLineGuideDistanceV):"y"===c&&(Q.center2center||(f=b-=K),X=N*H+s,A=q*H+s,L=E.Icons.MoveLineGuideDistanceH),E.Icons.DrawIcon(R,J,L,{x0:X,y0:b,x1:A,y1:f,dis:q-N}))}},V.prototype.clear=function(){this._guideLine=null};((R=E.Guide.Hover=function(V){this._interactor=V}).prototype={}).constructor=R,v.defineProperties(R.prototype,{}),R.prototype._42=function(){var V,R,Q,X=this._interactor;X.getStyle("hoverGuideVisible")&&!X.gvEditing&&(V=X.hoverData,Q=X.gv,!r(V)||Q.isSelected(V)?X.hoverData=null:(V=j_(Q,V),R=E.toScreenPosition(Q,{x:V.x,y:V.y}),Q=E.toScreenPosition(Q,{x:V.x+V.width,y:V.y+V.height}),E.Icons.DrawIcon(X,X._context,E.Icons.HoverDataRect,{min:R,max:Q,color:X.getStyle("hoverGuideColor")||X.getStyle("baseColor"),borderWidth:X.getStyle("hoverGuideBorderWidth")||1,borderPattern:X.getStyle("hoverGuideBorderPattern")||[1,4]})))},E.DefaultStyleMap={baseColor:"rgb(51,153,255)",pointSize:[24,9],checkSize:7,rotateCheckSize:10,moveSensitivity:10,moveDummyThreshold:32,moveDummyPosition:[0,0,-16,-16],moveDummyLineExtraShift:[-32,0],moveDummySensitivity:16,keepAspectRatio:!1,rotateRound:Math.PI/2,shiftRotateRound:Math.PI/12,rotateSensitivity:Math.PI/60,rotateAsClock:!1,rotateTipVisible:!0,shiftLineRotateRound:Math.PI/4,anchorMovable:!0,anchorVisible:!0,anchorHideThreshold:25,anchorOutsideVisibleThreshold:.25,anchorRound:.25,anchorSensitivity:.02,smartGuideThreshold:8,curveIntersectSize:5,curvePointIntersectSize:8,edgeHostDetectPerFrame:!0,edgeHostEdgeMaxDistance:12,edgeHostEdgeHighlighColor:"#5d5d5d",edgeHostPointHighlighColor:"red",edgeHostHighlighPeriod:1500,edgeElevationEditable:!1,attachThreshold:25,guideLineVisible:!0,guideLineTextSpacing:0,hoverGuideVisible:!1,hoverGuideColor:null,gridBlockSize:40,gridThickLinesEvery:10,gridThickColor:"#5d5d5d",gridLightColor:"#d0d0d0",gridZoomThreshold:.25,gridAlignmentGuideColor:"#ff0000",gridAngle:Math.PI/2,gridRotation:0,groupRotateModeDefault:"block",groupRotateModeKey:["ctrlKey","metaKey"],rotateCursorSize:32,rotateCursorRound:45,tipTextColor:"#ffffff",tipBackground:"#333333",curveHighlightColor:"#30599e",rectPointBackground:"white",rectPointBorderColor:"#666666",rectPointShadowColor:"rgba(0,0,0,0.35)",shapeCtrlPointBackground:"white",shapeCtrlPointBorderColor:null,shapeCtrlPointHighlightBorder:null,shapeHighlighPointBackground:"#30599e",curveElevationVisible:!0,curveElevationIntersectSize:8,curveElevationGuideShift:[20,0],curveTipVisible:!0,connectGuideVisible:!0,connectGuideShift:[1,.25,8,0],connectGuideIntersectSize:8,connectGuideGarbageIntersectsize:25,connectGuideGarbageShift:[1,1,-48,-48],moveHelperFilter:q8,rectEditHelperFilter:q8};var b=E.Icons={},LI=null,eI=E.DefaultStyleMap.baseColor,JI="rgb(255,204,153)",sI=(I.Default.setImage("Icons.RectPoint",{width:6,height:6,comps:[{type:"rect",background:"rgb(247,247,247)",borderWidth:1,borderColor:{func:function(){return eI}},rect:[0,0,6,6]}]}),b.GroupSubEntityRect={comps:[{type:"shape",points:{func:function(){if(!(R=b.GroupSubEntityRect.data))return[];var V=R.min,R=R.max;return[V.x,V.y,V.x,R.y,R.x,R.y,R.x,V.y]}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:{func:function(){return b.GroupSubEntityRect.data.isKeyOb,eI}}}]},b.HoverDataRect={comps:[{type:"shape",points:{func:function(){if(!(Q=b.HoverDataRect.data))return[];var V=Q.min,R=Q.max,Q=Q.gap;return V.x-=Q=Q===N8?4:Q,V.y-=Q,R.x+=Q,R.y+=Q,[V.x,V.y,V.x,R.y,R.x,R.y,R.x,V.y]}},segments:[1,2,2,2,5],background:null,borderWidth:{func:function(){return b.HoverDataRect.data.borderWidth}},borderColor:{func:function(){return b.HoverDataRect.data.color}},borderCap:"butt",borderPattern:{func:function(){return b.HoverDataRect.data.borderPattern}}}]},b.Line={comps:[{type:"image",name:"Icons.RectPoint",rect:{func:function(){return[[b.Line.data.P1.x,b.Line.data.P1.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rect:{func:function(){return[[b.Line.data.P2.x,b.Line.data.P2.y],6,6]}}}]},b.NodeHoverGuide={comps:[{type:"shape",points:{func:function(){return b.NodeHoverGuide.data}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:"#3399FF"}]},b.Rect={comps:[{type:"shape",points:{func:function(){if(!(X=b.Rect.data))return[];var V=X.LT,R=X.LB,Q=X.RB,X=X.RT;return[V.x,V.y,R.x,R.y,Q.x,Q.y,X.x,X.y]}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:{func:function(){return eI}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return b.Rect.data.rotation}},rect:{func:function(){return[[b.Rect.data.LT.x,b.Rect.data.LT.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return b.Rect.data.rotation}},rect:{func:function(){return[[b.Rect.data.LB.x,b.Rect.data.LB.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return b.Rect.data.rotation}},rect:{func:function(){return[[b.Rect.data.RB.x,b.Rect.data.RB.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return b.Rect.data.rotation}},rect:{func:function(){return[[b.Rect.data.RT.x,b.Rect.data.RT.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return b.Rect.data.rotation}},visible:{func:function(){return!!b.Rect.data.L}},rect:{func:function(){return[[b.Rect.data.L.x,b.Rect.data.L.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return b.Rect.data.rotation}},visible:{func:function(){return!!b.Rect.data.R}},rect:{func:function(){return[[b.Rect.data.R.x,b.Rect.data.R.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return b.Rect.data.rotation}},visible:{func:function(){return!!b.Rect.data.T}},rect:{func:function(){return[[b.Rect.data.T.x,b.Rect.data.T.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return b.Rect.data.rotation}},visible:{func:function(){return!!b.Rect.data.B}},rect:{func:function(){return[[b.Rect.data.B.x,b.Rect.data.B.y],6,6]}}}]},I.Default.setImage("Icons.Anchor",{width:12,height:12,comps:[{type:"shape",borderWidth:1,borderColor:{func:function(){return eI}},borderCap:"round",shadowColor:"#1ABC9C",points:[.50928,6,11.49072,6,6,6,6,.50928,6,11.49072]},{type:"circle",borderWidth:1,borderColor:{func:function(){return eI}},shadowColor:"#1ABC9C",rect:[2.84391,2.84391,6.53697,6.53697]}]}),b.Anchor={comps:[{type:"image",name:"Icons.Anchor",rect:{func:function(){return[[b.Anchor.data.POS.x,b.Anchor.data.POS.y],16,16]}}}]},b.TipShiftX=12,b.TipShiftY=12,[8,28]);b.TipHelper={comps:[{type:"roundRect",rect:{func:function(){return[b.TipHelper.data.helperPos.x,b.TipHelper.data.helperPos.y,sI[0]*b.TipHelper.data.size,sI[1]]}},background:{func:function(){return LI.getStyle("tipBackground")}},opacity:.6},{type:"text",text:{func:function(){return b.TipHelper.data.text}},rect:{func:function(){return[b.TipHelper.data.helperPos.x,b.TipHelper.data.helperPos.y,sI[0]*b.TipHelper.data.size,sI[1]]}},color:{func:function(){return LI.getStyle("tipTextColor")}},font:"bold 12px Arial",align:"center"}]},b.ShapePoint={comps:[{type:"circle",visible:{func:function(){return!!b.ShapePoint.data.dynamicVisible}},rect:{func:function(){var V=b.ShapePoint.data.point,R=b.ShapePoint.data.size||7;return[V,R+10,R+10]}},background:{func:function(){var V=Date.now(),R=b.ShapePoint.data.dynamicPeriod||1500;return"rgba(27,124,22,"+.5*Math.sin(V%R/R*Math.PI)+")"}},borderWidth:0},{type:"circle",rect:{func:function(){var V=b.ShapePoint.data.point,R=b.ShapePoint.data.size||7;return[V,R,R]}},background:{func:function(){return b.ShapePoint.data.isEnd?"rgba(27,124,222,0.7)":"#ffffff"}},borderWidth:1,borderColor:{func:function(){return b.ShapePoint.data.color||eI}}},{type:"rect",visible:{func:function(){return!!b.ShapePoint.data.dynamicVisible}},background:"red",borderWidth:0,rotation:Math.PI/4,borderColor:{func:function(){return eI}},rect:{func:function(){return[b.ShapePoint.data.point,5,5]}}}]},b.ShapeBgCurve={comps:[{type:"shape",visible:{func:function(){return!!b.ShapeBgCurve.data.dynamicVisible}},points:{func:function(){return b.ShapeBgCurve.data.P}},segments:{func:function(){return b.ShapeBgCurve.data.S}},background:null,borderWidth:6,borderColor:{func:function(){var V=Date.now(),R=b.ShapeBgCurve.data.dynamicPeriod||1500;return"rgba(27,124,22,"+.3*Math.sin(V%R/R*Math.PI)+")"}}},{type:"shape",points:{func:function(){return b.ShapeBgCurve.data.P}},segments:{func:function(){return b.ShapeBgCurve.data.S}},background:null,borderWidth:1,borderColor:{func:function(){return b.ShapeBgCurve.data.color||eI}}}]},b.ShapeHighlighPoint={comps:[{type:"circle",rect:{func:function(){var V=b.ShapeHighlighPoint.data;return[[V.x,V.y],8,8]}},background:{func:function(){return LI.getStyle("shapeHighlighPointBackground")}},borderWidth:0}]},b.ShapeHighlighRealPoint={comps:[{type:"circle",rect:{func:function(){var V=b.ShapeHighlighRealPoint.data;return[[V.x,V.y],10,10]}},background:"#ffffff",borderWidth:2,borderColor:{func:function(){return eI}}}]},b.ShapeHighlighCtrlPoint={comps:[{type:"shape",points:{func:function(){var V=b.ShapeHighlighCtrlPoint.data,R=V.x;return[R-4,(V=V.y)-4,R-4,V+4,R+4,V+4,R+4,V-4]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return LI.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return LI.getStyle("shapeCtrlPointBorderColor")||eI}}}]},b.ShapeHighlightCurve={comps:[{type:"shape",points:{func:function(){return b.ShapeHighlightCurve.data}},segments:[1,4],background:null,borderWidth:3,borderColor:{func:function(){return LI.getStyle("curveHighlightColor")}}}]},b.ShapeGuideLine={comps:[{type:"shape",points:{func:function(){return b.ShapeGuideLine.data}},background:null,borderWidth:1,borderColor:"rgb(255,204,153)"}]},b.MoveLineGuide={comps:[{type:"shape",points:{func:function(){return b.MoveLineGuide.data.rect}},background:null,borderWidth:1,borderColor:{func:function(){return b.MoveLineGuide.data.center?"rgb(183,232,135)":JI}}}]},b.MoveLineGuideDistanceH={comps:[{type:"shape",points:{func:function(){var V=b.MoveLineGuideDistanceH.data,R=V.x0;return[R,(V=V.y0)-5,R,V+5]}},rotation:-Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:JI},{type:"shape",points:{func:function(){var V=b.MoveLineGuideDistanceH.data,R=V.x1;return[R,(V=V.y1)-5,R,V+5]}},rotation:-Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:JI},{type:"text",text:{func:function(){return Math.round(b.MoveLineGuideDistanceH.data.dis)}},rect:{func:function(){var V=b.MoveLineGuideDistanceH.data;return[[(V.x0+V.x1)/2,V.y0-10],20,20]}},color:JI,font:"12px Arial",align:"center"}]},b.MoveLineGuideDistanceV={comps:[{type:"shape",points:{func:function(){var V=b.MoveLineGuideDistanceV.data,R=V.x0;return[R-5,V=V.y0,R+5,V]}},rotation:Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:JI},{type:"shape",points:{func:function(){var V=b.MoveLineGuideDistanceV.data,R=V.x1;return[R-5,V=V.y1,R+5,V]}},rotation:Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:JI},{type:"text",text:{func:function(){return Math.round(b.MoveLineGuideDistanceV.data.dis)}},rect:{func:function(){var V=b.MoveLineGuideDistanceV.data;return[[V.x0-10,(V.y0+V.y1)/2],20,20]}},color:JI,font:"12px Arial",align:"center"}]},I.Default.setImage("Icons.EdgeElevationGuideImage",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:"rgb(138,138,138)",rect:[.5,.5,15,15]},{type:"shape",borderWidth:2,borderColor:"rgb(44,44,44)",borderCap:"round",points:[4,8,8,4,12,8,8,4,8,13],segments:[1,2,2,1,2]}]}),b.EdgeElevationGuide={comps:[{type:"image",name:"Icons.EdgeElevationGuideImage",rect:{func:function(){var V=(R=b.EdgeElevationGuide.data).x,R=R.y,Q=LI.getStyle("curveElevationIntersectSize"),X=LI.getStyle("curveElevationGuideShift");return[(V+=X[0])-Q,(R+=X[1])-Q,2*Q,2*Q]}}}]},I.Default.setImage("Icons.ConnectGuideBgImage",{width:12,height:12,comps:[{type:"shape",background:"#3399ff",fillRule:"evenodd",shadowColor:"#1ABC9C",rotation:3.14159,points:[6.00001,11.99999,6.00001,11.99999,2.6863,11.99999,1e-5,9.30695,1e-5,5.99999,1e-5,5.99999,1e-5,2.68628,2.69305,-1e-5,6.00001,-1e-5,12.00001,-1e-5,11.99998,12.00001,6.00001,11.99999],segments:[1,2,4,2,4,2,2,2]}]}),I.Default.setImage("Icons.ConnectGuideHeaderImage",{width:12,height:12,comps:[{type:"oval",background:"#3399FF",borderColor:"#3399FF",shadowColor:"#1ABC9C",rect:[0,0,12,12]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[4.76,2.56,8.2,5.98,4.76,9.44]}]}),b.ConnectGuide={comps:[{type:"image",name:"Icons.ConnectGuideBgImage",rotation:{func:function(){return b.ConnectGuide.data.rotation}},rect:{func:function(){var V=b.ConnectGuide.data.connect,R=(V.x,V.y,LI.getStyle("connectGuideIntersectSize"));return[[V.x,V.y],2*R,2*R]}}},{type:"image",name:"Icons.ConnectGuideHeaderImage",rect:{func:function(){var V=b.ConnectGuide.data.cursorPos||b.ConnectGuide.data.connect,R=LI.getStyle("connectGuideIntersectSize");return[[V.x,V.y],2*R-2,2*R-2]}}},{type:"shape",background:null,borderColor:"#3399ff",borderWidth:2,segments:[1,4],points:{func:function(){var V=b.ConnectGuide.data.connect,R=b.ConnectGuide.data.cursorPos||V;return[V.x,V.y,V.x+.5*(R.x-V.x),V.y,R.x+.5*(V.x-R.x),R.y,R.x,R.y]}}}]},I.Default.setImage("Icons.ConnectGuideGarbageImage",{width:48,height:48,comps:[{type:"oval",background:"rgba(0,0,0,0.1)",borderColor:"#979797",shadowColor:"#1ABC9C",rect:[0,0,48,48]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[19.84721,19.69091,19.84721,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[24.10371,19.69091,24.10371,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[28.15279,19.69091,28.15279,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[11.23055,15.22377,36.76945,15.189,19.12302,15.17121,20.94722,11.5228,26.41985,11.5228,28.24406,15.17121]},{type:"rect",borderWidth:2,borderColor:"rgb(255,255,255)",shadowColor:"#1ABC9C",rect:[15.48702,15.22377,17.02595,21.25344]}]}),I.Default.setImage("Icons.ConnectGuideDeletingImage",{width:56,height:56,comps:[{type:"oval",background:"rgba(232,0,0,0.75)",borderColor:"#979797",shadowColor:"#1ABC9C",rect:[0,0,56,56]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[22.67939,27.69091,22.67939,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[26.93588,27.69091,26.93588,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[30.98497,27.69091,30.98497,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",anchorX:0,anchorY:1,rotation:5.65062,points:[14.06272,23.22377,39.60163,23.189,21.9552,23.17121,23.7794,19.5228,29.25203,19.5228,31.07623,23.17121]},{type:"rect",borderWidth:2,borderColor:"rgb(255,255,255)",shadowColor:"#1ABC9C",rect:[18.3192,23.22377,17.02595,21.25344]}]}),b.ConnectGuideGarbage={comps:[{type:"image",name:{func:function(){return b.ConnectGuideGarbage.data.hover?"Icons.ConnectGuideDeletingImage":"Icons.ConnectGuideGarbageImage"}},rect:{func:function(){var V=b.ConnectGuideGarbage.data,R=LI.getStyle("connectGuideGarbageIntersectsize");return V.hover&&(R+=5),[[V.x,V.y],2*R,2*R]}}}]},b.ShapeActivingCtrl={comps:[{type:"shape",visible:{func:function(){return!!b.ShapeActivingCtrl.data.c1}},points:{func:function(){var V=b.ShapeActivingCtrl.data;return[V.point.x,V.point.y,V.c1.x,V.c1.y]}},segments:[1,2],background:null,borderWidth:1,borderColor:{func:function(){return eI}}},{type:"shape",visible:{func:function(){return!!b.ShapeActivingCtrl.data.c2}},points:{func:function(){var V=b.ShapeActivingCtrl.data;return[V.point.x,V.point.y,V.c2.x,V.c2.y]}},segments:[1,2],background:null,borderWidth:1,borderColor:{func:function(){return eI}}},{type:"shape",visible:{func:function(){return!!b.ShapeActivingCtrl.data.c1}},points:{func:function(){var V=(R=b.ShapeActivingCtrl.data.c1).x,R=R.y,Q=3;return"c1"===b.ShapeActivingCtrl.data.hl&&(Q+=.5),[V-Q,R-Q,V-Q,R+Q,V+Q,R+Q,V+Q,R-Q]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return LI.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return"c1"===b.ShapeActivingCtrl.data.hl?LI.getStyle("shapeCtrlPointHighlightBorder")||eI:LI.getStyle("shapeCtrlPointBorderColor")||eI}}},{type:"shape",visible:{func:function(){return!!b.ShapeActivingCtrl.data.c2}},points:{func:function(){var V=(R=b.ShapeActivingCtrl.data.c2).x,R=R.y,Q=3;return"c2"===b.ShapeActivingCtrl.data.hl&&(Q+=.5),[V-Q,R-Q,V-Q,R+Q,V+Q,R+Q,V+Q,R-Q]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return LI.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return"c2"===b.ShapeActivingCtrl.data.hl?LI.getStyle("shapeCtrlPointHighlightBorder")||eI:LI.getStyle("shapeCtrlPointBorderColor")||eI}}}]},b.RoundPoint={comps:[{type:"circle",background:"rgb(247,247,247)",borderWidth:1,borderColor:{func:function(){return eI}},rect:{func:function(){return[[b.RoundPoint.data.x,b.RoundPoint.data.y],6,6]}}}]},b.AttachPoint={comps:[{type:"rect",background:{func:function(){return b.AttachPoint.data.isAttach?"rgb(51,153,255)":"rgb(247,247,247)"}},borderWidth:1,rotation:Math.PI/4,borderColor:{func:function(){return eI}},rect:{func:function(){var V=b.AttachPoint.data.isAttach?10:6;return[[b.AttachPoint.data.x,b.AttachPoint.data.y],V,V]}}}]},b.SimpleRect={comps:[{type:"rect",background:null,borderWidth:{func:function(){return b.SimpleRect.data.borderWidth||1}},borderColor:{func:function(){return b.SimpleRect.data.color||eI}},rect:{func:function(){var V=b.SimpleRect.data;return[V.x,V.y,V.width,V.height]}}}]},I.Default.setImage("Icons.MoveDummyImage",{width:32,height:32,boundExtend:12,attachStyle:"close",comps:[{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",shadow:!0,shadowColor:"rgba(0,0,0,0.25)",shadowOffsetX:0,rect:[0,0,32,32]},{type:"shape",background:"rgb(51,153,255)",pixelPerfect:!0,points:[8.65079,11.90713,9.05502,11.46921,9.70629,11.46921,10.11052,11.90713,10.51476,12.28891,10.51476,12.92895,10.11052,13.34441,8.49359,14.97258,12.2889,14.97258,12.85034,14.97258,13.29949,15.42172,13.29949,15.99439,13.29949,16.57828,12.85034,17.0162,12.2889,17.0162,8.49359,17.0162,10.11052,18.6556,10.51476,19.0486,10.51476,19.7111,10.11052,20.09288,9.70629,20.50834,9.05502,20.50834,8.65079,20.09288,5.32709,16.76917,5.28217,16.71303,4.87794,16.32002,4.87794,15.67998,5.28217,15.26452,8.65079,11.90713,8.65079,11.90713,8.65079,11.90713,13.3444,10.09931,13.3444,10.09931,12.94017,10.50354,12.2889,10.50354,11.88467,10.09931,11.48043,9.69507,11.48043,9.0438,11.88467,8.63957,15.27574,5.25973,15.66874,4.86672,16.32001,4.86672,16.73547,5.25973,16.76917,5.31586,20.10409,8.63957,20.50832,9.0438,20.50832,9.68385,20.10409,10.09931,19.69986,10.49231,19.07105,10.50354,18.64436,10.09931,17.02742,8.45991,17.02742,12.26646,17.02742,12.83912,16.55581,13.31072,15.99438,13.31072,15.43295,13.31072,14.98379,12.83912,14.98379,12.26646,14.96134,8.45991,13.3444,10.09931,13.3444,10.09931,13.3444,10.09931,21.90069,13.33318,21.90069,13.33318,21.49646,12.91771,21.49646,12.27768,21.90069,11.89591,22.31615,11.45798,22.94497,11.45798,23.36043,11.89591,26.72904,15.2533,27.12205,15.66876,27.12205,16.3088,26.72904,16.7018,26.6729,16.75794,23.36043,20.08165,22.94497,20.49711,22.31615,20.49711,21.90069,20.08165,21.49646,19.69987,21.49646,19.03737,21.90069,18.64437,23.51763,17.00498,19.72231,17.00498,19.14965,17.00498,18.71173,16.56705,18.71173,15.98316,18.71173,15.41049,19.14965,14.96135,19.72231,14.96135,23.51763,14.96135,21.90069,13.33318,21.90069,13.33318,21.90069,13.33318,11.88467,23.32675,11.88467,23.32675,11.48043,22.94498,11.48043,22.27125,11.88467,21.88948,12.2889,21.48523,12.94017,21.48523,13.3444,21.88948,14.96134,23.52887,14.98379,19.7111,14.98379,19.14966,15.43295,18.67805,15.99438,18.67805,16.55581,18.67805,17.02742,19.14966,17.02742,19.7111,17.02742,23.52887,18.64436,21.88948,19.07105,21.48523,19.69986,21.48523,20.10409,21.88948,20.50832,22.27125,20.50832,22.94498,20.10409,23.32675,16.76917,26.65045,16.73547,26.72905,16.32001,27.13329,15.66874,27.13329,15.27574,26.72905,11.88467,23.32675,11.88467,23.32675,11.88467,23.32675],segments:[1,4,4,2,2,4,4,2,2,4,4,2,2,4,2,2,2,1,2,4,4,2,4,2,2,4,4,2,2,4,4,2,2,2,2,1,2,4,4,2,4,2,2,4,4,2,2,4,4,2,2,2,2,1,2,4,4,2,2,4,4,2,2,4,4,2,2,4,2,2,2]}]}),b.MoveDummy={comps:[{type:"image",name:"Icons.MoveDummyImage",rect:{func:function(){var V=b.MoveDummy.data;return[[V.pos.x,V.pos.y],2*V.size,2*V.size]}}}]},E.Icons.DrawIcon=function(V,R,Q,X){Q.width=Q.height=1e4,Q.data=X,LI=V,I.Default.drawImage(R,Q,0,0,1e4,1e4),LI=N8},E.Icons.MapPoints=function(V,R){for(var Q=0,X=V.length;Q<X;Q++)V[Q]/=R},E.roundTo=function(V,R,Q){var X=Math.abs(V%R);return X<Q||R-X<Q?R*Math.round(V/R):V},E.toFixed=function(V){return Math.round(100*V)/100},E.getDataMatrix=function(V){var R,Q;return V instanceof I.Shape?(R=new I.Math.Matrix2d,Q=V.getPosition(),R.translate(-Q.x,-Q.y).scale(V.getScale().x,V.getScale().y).rotate(V.getRotation()).translate(Q.x,Q.y),R):V.getMatrix?V.getMatrix():new I.Math.Matrix2d},(((Q=E.Math.Curve=function(){this._curves=[]}).prototype={}).constructor=Q).prototype.createFromHtShape=function(R,V,Q){V instanceof I.List&&(V=V.toArray());for(var X,b,A,c,f=null,S=null,F=0,D=E.Math.Vector2,P=E.Math.CubicBezier,N=function(V){return new D(R[V],R[V+1],Q?Q[V/2]:N8)},q=0,L=V.length;q<L;q++){switch(b=null,V[q]){case 1:f=S=N(F),F+=2;break;case 2:X=N(F),F+=2,b=new P(S,S.clone(),X.clone(),X),S=X;break;case 3:A=N(F),X=N(F+2),F+=4,b=new P(S,A.clone().sub(S).multiplyScalar(2/3).add(S),A.clone().sub(X).multiplyScalar(2/3).add(X),X),S=X;break;case 4:A=N(F),c=N(F+2),X=N(F+4),F+=6,b=new P(S,A,c,X),S=X;break;case 5:if(!f)break;b=new P(S,S.clone(),f.clone(),f),f=S=null}b&&(b._index=this._curves.length,this._curves.push(b))}},Q.prototype.checkPoint=function(V,R){for(var Q,X,b,A=this._curves,c=0,f=A.length;c<f;c++)if((b=(X=A[c]).intersectRect(V,R,R)).length)return Q=0,b.forEach(function(V){Q+=V.t}),Q/=b.length,(V=X.getPointAt(Q)).t=Q,{bezier:X,intersection:V}},Q.prototype.insertKnot=function(V,R){R=V.insertKnot(R),this._curves.splice(V._index,1,R[0],R[1])},Q.prototype._isCloseEnough=function(V,R){return Math.abs(V.x-R.x)<1e-6&&Math.abs(V.y-R.y)<1e-6},Q.prototype._isSamePoint=function(V,R){return V===R},Q.prototype.moveRealPoint=function(X,b){var A=this,V=A._curves,c=b.clone().sub(X);V.forEach(function(V){var R=V._p1,Q=(V._p2,V._p3,V._p4);A._isSamePoint(R,X)&&(V._p2.add(c),V._p1=b),A._isSamePoint(Q,X)&&(V._p3.add(c),V._p4=b)})},Q.prototype.moveCtrlDueToRealPointMovement=function(X,R){function b(V){V.add(R),V.e&&R.e&&(V.e+=R.e)}var A=this;A._curves.forEach(function(V){var R=V._p1,Q=(V._p2,V._p3,V._p4);A._isSamePoint(R,X)&&b(V._p2),A._isSamePoint(Q,X)&&b(V._p3)})},Q.prototype.moveCtrlPoint=function(V,Q,X){var b,R,A=V[X];A&&(A.e!==N8&&(Q.e=A.e),R=(b=this)._curves,Q.clone().sub(A),R.forEach(function(V){var R;"c2"===X?R="_p2":"c1"===X&&(R="_p3"),b._isSamePoint(V[R],A)&&(V[R]=Q)}),V[X]=Q)},Q.prototype.deleteRealPoint=function(V,R){for(var Q,X,b,A,c=this._curves,f={},S=[],F=E.Math.CubicBezier,D=0,P=c.length;D<P;D++)X=(Q=c[D])._p1,b=Q._p2,Q._p3,A=Q._p4,!f[D]&&this._isSamePoint(X,V)||(this._isSamePoint(A,V)?D+1<P&&this._isSamePoint(c[D+1]._p1,V)&&(R||S.push(new F(X,b,c[D+1]._p3,c[D+1]._p4))):S.push(Q));this._curves=S},Q.prototype.findPairs=function(V,R){for(var Q,X,b,A,c=this._curves,f={},S=[],F=0,D=c.length;F<D;F++)Q=(b=c[F])._p1,A=b._p2,X=b._p3,b=b._p4,!f[F]&&this._isSamePoint(Q,V)&&(R?S.push({point:Q,r2:b}):S.push({point:Q,c2:A})),this._isSamePoint(b,V)&&(A=R?{point:b,r1:Q}:{point:b,c1:X},F+1<D&&this._isSamePoint(c[F+1]._p1,V)&&(R?A.r2=c[F+1]._p4:A.c2=c[F+1]._p2,f[F+1]=!0),S.push(A));return S},Q.prototype.toHtShape=function(){var b=this,V=b._curves,A=[],c=[],f={x:1/0,y:1/0};return V.forEach(function(V){var R=V._p1,Q=V._p2,X=V._p3,V=V._p4;if(b._isCloseEnough(R,f)||(A.push(1),c.push(R.clone())),f=V,b._isCloseEnough(R,Q)&&b._isCloseEnough(X,V))return A.push(2),void c.push(V.clone());A.push(4),c.push(Q.clone(),X.clone(),V.clone())}),{segments:A,points:c}};(j8=E.Math.CubicBezier=function(V,R,Q,X){this._id=E.Math.CubicBezier._globalId++,this._p1=V,this._p2=R,this._p3=Q,this._p4=X})._globalId=1,((j8.prototype={}).constructor=j8).prototype.toString=function(){return this._id},j8.prototype.intersectRect=function(V,R,Q){var R=R/2,Q=Q/2,X=V.x,V=V.y,b=new(A=E.Math.Vector2)(-R+X,-Q+V),R=new A(R+X,Q+V),X=new A(R.x,b.y),Q=new A(b.x,R.y),V=this.intersectLine(b,X),A=this.intersectLine(X,R),X=this.intersectLine(R,Q),R=this.intersectLine(Q,b);return V.concat(A).concat(X).concat(R)},j8.prototype.intersectLine=function(V,R){var Q=V.clone().min(R),X=V.clone().max(R),b=this._p1,A=this._p2,c=this._p3,f=this._p4,S=b.clone().multiplyScalar(-1),F=A.clone().multiplyScalar(3),D=c.clone().multiplyScalar(-3),f=S.add(F).add(D).add(f);S=b.clone().multiplyScalar(3),F=A.clone().multiplyScalar(-6),D=c.clone().multiplyScalar(3),c=S.add(F).add(D),S=b.clone().multiplyScalar(-3),F=A.clone().multiplyScalar(3);for(var D=S.add(F),A=b.clone(),S=new E.Math.Vector2(V.y-R.y,R.x-V.x),F=V.x*R.y-R.x*V.y,P=this.getRoots(S.dot(f),S.dot(c),S.dot(D),S.dot(A)+F),N=new Array,q=0,L=P.length;q<L;q++){var e,J=P[q];J<0||1<J||((e=this.getPointAt(J)).t=J,V.x==R.x?Q.y<=e.y&&e.y<=X.y&&N.push(e):V.y==R.y?Q.x<=e.x&&e.x<=X.x&&N.push(e):e.x>=Q.x&&e.y>=Q.y&&e.x<=X.x&&e.y<=X.y&&N.push(e))}return N},j8.prototype.solveTForPoint=function(V){for(var R=this._p1.x-V.x,Q=this._p2.x-V.x,X=this._p3.x-V.x,b=this._p4.x-V.x,A=this.getRoots(b-3*X+3*Q-R,3*X-6*Q+3*R,3*Q-3*R,R),c=N8,f=1/0,S=0,F=A.length;S<F;S++){var D,P=A[S];P<0||1<P||((D=this.getPointAt(P)).t=P,(P=Math.abs(D.y-V.y))<f&&(f=P,c=D))}return c},j8.prototype.getPointAt=function(V){var R=this._p1,Q=this._p2,X=this._p3,b=this._p4,R=R.clone().lerp(Q,V),Q=Q.clone().lerp(X,V),X=X.clone().lerp(b,V),b=R.lerp(Q,V),R=Q.lerp(X,V);return b.lerp(R,V)},j8.prototype.getPointByPercentage=function(V){var R=this.length*V,Q=this._cacheLength,X=Q.length;if(0==R)return Q[0].point;if(1<=V)return Q[X-1].point;for(var b=0;b<X;b++){var A,c=Q[b];if(!(c.len<R))return A=Q[b-1],c.point.clone().sub(A.point).setLength(R-A.len).add(A.point)}},j8.prototype.getTByPercentage=function(V){var R=this.length*V,Q=this._cacheLength,X=Q.length;if(0==R||V<=0)return Q[0].t;if(1<=V)return Q[X-1].t;for(var b=0;b<X;b++){var A,c=Q[b];if(!(c.len<R))return(R-(A=Q[b-1]).len)/(c.len-A.len)*(c.t-A.t)+A.t}},j8.prototype.getRoots=function(V,R,Q,X){var b,A,c,f,S=new Array,F=(Math.abs(V)<1e-6&&(0<(F=(b=Q/(c=R))*b-X/c*4)?(A=Math.sqrt(F),S.push(.5*(-b+A)),S.push(.5*(-b-A))):0==F&&S.push(.5*-b)),(R/=V)/3),V=(b=(2*R*R*R-9*(Q/=V)*R+27*(X/=V))/27)*b/4+(c=(3*Q-R*R)/3)*c*c/27,X=b/2;return 0<(V=Math.abs(V)<=1e-6?0:V)?(Q=0<=(f=-X+(A=Math.sqrt(V)))?Math.pow(f,1/3):-Math.pow(-f,1/3),0<=(f=-X-A)?Q+=Math.pow(f,1/3):Q-=Math.pow(-f,1/3),S.push(Q-F)):V<0?(R=Math.sqrt(-c/3),b=Math.atan2(Math.sqrt(-V),-X)/3,A=Math.cos(b),Q=Math.sin(b),c=Math.sqrt(3),S.push(2*R*A-F),S.push(-R*(A+c*Q)-F),S.push(-R*(A-c*Q)-F)):(f=0<=X?-Math.pow(X,1/3):Math.pow(-X,1/3),S.push(2*f-F),S.push(-f-F)),S},j8.prototype._70I=function(){return this._p1.distanceToSquared(this._p2)<1e-10&&this._p3.distanceToSquared(this._p4)<1e-10},j8.prototype.insertKnot=function(V){var R=this._p1,Q=this._p2,X=this._p3,b=this._p4,A=R.clone().lerp(Q,V),Q=Q.clone().lerp(X,V),X=X.clone().lerp(b,V),c=A.clone().lerp(Q,V),Q=Q.clone().lerp(X,V),f=c.clone().lerp(Q,V);return this._70I()?(R.clone().lerp(b,V),[new E.Math.CubicBezier(R,R.clone(),f.clone(),f),new E.Math.CubicBezier(f,f.clone(),b.clone(),b)]):[new E.Math.CubicBezier(R,A,c,f),new E.Math.CubicBezier(f,Q,X,b)]},v.defineProperties(j8.prototype,{length:{get:function(){if(!(V=this._cacheLength))for(var V=this._cacheLength=[],R=this._p1,Q=0,X=0;Q<=1;){var b=this.getPointAt(Q+=.001);X+=b.clone().sub(R).length(),V.push({len:X,t:Q,point:(R=b).clone()})}return V[V.length-1].len}},p1:{get:function(){return this._p1},set:function(V){this._p1=V,this._cacheLength=N8}},p2:{get:function(){return this._p2},set:function(V){this._p2=V,this._cacheLength=N8}},p3:{get:function(){return this._p3},set:function(V){this._p3=V,this._cacheLength=N8}},p4:{get:function(){return this._p4},set:function(V){this._p4=V,this._cacheLength=N8}}});var lI,HI,KI,yI,Cu=I.Default.getInternal().ui().EdgeUI,tI={_47O:function(V){var R=tI.getBackups()._47O;E.inEdit(this.gv)||R.call(this,V)}},ju=(E.Inject.registAsModule(tI,Cu),I.Default.getInternal().ui().NodeUI),gI={_47O:function(V){var R=gI.getBackups()._47O;E.inEdit(this.gv)||R.call(this,V)},getSelectWidth:function(){var V=this.gv,R=this._data;return V.isEditable(R)&&E.inEdit(V)?0:gI.getBackup("getSelectWidth").call(this)}},mI=(E.Inject.registAsModule(gI,ju),I.graph.GraphView),zI={_editPointSize:(Lu=I.Default.isTouchable,E.getStyle("pointSize")[Lu?0:1]),isPointEditable:function(V){if(E.inEdit(this))return!this._pointEditableFunc||this._pointEditableFunc(V);zI.getBackup("isPointEditable").call(this,V)},isEditable:function(V){var R=zI.getBackup("isEditable"),R=V instanceof E.Group||R.call(this,V);return E.inEdit(this)&&V instanceof I.Edge?!!V.s("2d.editable")&&(!(R=this.getEditableFunc())||R(V)):R},_42:function(V,R){zI.getBackups()._42.call(this,V,R),E.inEdit(this)&&this.getEditInteractor().drawImpl()}},Wu=(E.Inject.registAsModule(zI,mI),I.Default.getInternal().ui().ShapeUI),YI={_47O:function(V){var R=YI.getBackups()._47O;E.inEdit(this.gv)||R.call(this,V)}},XI=(E.Inject.registAsModule(YI,Wu),I.graph.DefaultInteractor),uI={handle_mousewheel:function(V){var R=uI.getBackup("handle_mousewheel");E.inEdit(this.gv)||R.call(this,V)}},AI=(E.Inject.registAsModule(uI,XI),I.graph.MoveInteractor),oI={_calcShift:function(V,R){var Q=oI.getBackup("_calcShift"),X=this.gv;return E.inEdit(X)&&X.getEditInteractor().getSubModule("Move").calcShift(V,R,this)||Q.call(this,V,R)},clear:function(V){oI.getBackup("clear").call(this,V);var R=this.gv;E.inEdit(R)&&R.getEditInteractor().getSubModule("Move").clear(V)}};E.Inject.registAsModule(oI,AI),(((V=E.Rect=function(V){this.catalog="Rect",this._interactor=V}).prototype={}).constructor=V).prototype.gatherInfo=function(V,R){var Q;return 1===R.length?(Q=R[0])instanceof I.Shape&&Q._70I()?this.gatherLine(V,Q):!lJ(Q,V)&&this.gatherSingleTarget(V,Q):1<R.length&&this.gatherMultiTargets(V,R)},V.prototype.gatherSingleTarget=function(V,R){if(R.getCorners){var Q,X,b=this.info,A=(this.target=R,Q=this.screenInfo={},R.getCorners());for(X in b.LT=new E.Math.Vector2(A[0]),b.LB=new E.Math.Vector2(A[1]),b.RB=new E.Math.Vector2(A[2]),b.RT=new E.Math.Vector2(A[3]),b.T=b.LT.clone().add(b.RT).divideScalar(2),b.B=b.LB.clone().add(b.RB).divideScalar(2),b.L=b.LT.clone().add(b.LB).divideScalar(2),b.R=b.RT.clone().add(b.RB).divideScalar(2),b)Q[X]=E.toScreenPosition(V,b[X]);var c=this._interactor.getStyle("checkSize");return Q.rotLT=(A=function(V,R,Q){return R=R.clone().sub(V).setLength(-c),Q=Q.clone().sub(V).setLength(-c),R.add(Q).add(V)})(Q.LT,Q.RT,Q.LB),Q.rotLB=A(Q.LB,Q.LT,Q.RB),Q.rotRB=A(Q.RB,Q.LB,Q.RT),Q.rotRT=A(Q.RT,Q.LT,Q.RB),Q.rotT=Q.rotLT.clone().add(Q.rotRT).divideScalar(2),Q.rotB=Q.rotLB.clone().add(Q.rotRB).divideScalar(2),Q.rotL=Q.rotLT.clone().add(Q.rotLB).divideScalar(2),Q.rotR=Q.rotRT.clone().add(Q.rotRB).divideScalar(2),Q.rotation=R.getRotation(),this.gatherConnectInfo(),!0}},V.prototype.gatherConnectInfo=function(){var V,R,Q=this.target,X=this._interactor,b=this.screenInfo,A=X.gv;A.isConnectActionVisible(Q)&&X.getStyle("connectGuideVisible")&&(V=(V=Q.s?Q.s("connectGuideShift"):V)||X.getStyle("connectGuideShift"),X=Q.getAnchor(),R=Q.getSize(),Q=Q.toGlobal({x:R.width*(V[0]-X.x),y:R.height*(V[1]-X.y)}),Q=E.toScreenPosition(A,Q),b.P1?Q.add(b.P2.clone().sub(b.P1).setLength(V[2])):(Q.add(b.RT.clone().sub(b.LT).setLength(V[2])),Q.add(b.LB.clone().sub(b.LT).setLength(V[3]))),b.connect=Q)},V.prototype.gatherMultiTargets=function(V,R){return!!(R=E.Group.findOrCreateGroup(R,this._interactor._uuid))&&(this.editing&&"rotate"!==this.editing.mode||R.calcInfo(),this.gatherSingleTarget(V,R))},V.prototype.gatherLine=function(V,R){this.target=R;var Q=this.screenInfo={},X=R.getPoints(),R=E.getDataMatrix(R);return Q.P1=E.toScreenPosition(V,R.apply(X.get(0))),Q.P2=E.toScreenPosition(V,R.apply(X.get(1))),this.gatherConnectInfo(),!0},V.ResizeKeys=["LT","RB","LB","RT","L","R","B","T"],V.ResizeDirection=[{x:-1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:-1},{x:-1,y:0},{x:1,y:0},{x:0,y:1},{x:0,y:-1}],V.RotateKeys=["rotLT","rotRB","rotLB","rotRT","rotL","rotR","rotB","rotT"],V.prototype.check=function(V,R,Q){if(I.Default.isLeftButton(R)){var X=this;if(X.editing=null,X.tipInfo=null,X.screenInfo){var b=X.target,A=V.isEditable(b),c=X.screenInfo;if(A&&c.connect)if(F=X._checkConnect(Q))return F;if(c.P1)return X._checkLine(Q);var f,S,F,D=null,P=(F=X._interactor).getStyle("checkSize");if(A&&V.isRectEditable(b))for(q=0;q<E.Rect.ResizeKeys.length;q++)if(S=E.Rect.ResizeKeys[q],E.checkHit(Q,c[S],P)){D=S,f="resize";break}if(!D&&A&&V.isRotationEditable(b)&&!F.getStyle("rotateAsClock"))for(var N=F.getStyle("rotateCheckSize"),q=0;q<E.Rect.RotateKeys.length;q++)if(S=E.Rect.RotateKeys[q],E.checkHit(Q,c[S],N)){D=S,f="rotate";break}if(D){if("rotate"===f){if(A=V.lp(R),b instanceof E.Group){for(var L=F.getStyle("groupRotateModeKey"),e=!1,J=0,s=(L="string"==typeof L?[L]:L).length;J<s;J++)if(R[L[J]]){e=!0;break}var V=F.getStyle("groupRotateModeDefault"),l=e?"batch"===V?"block":"batch":V}V="batch"===l?b.getAnchor2():b.getPosition(),A=Math.atan2(A.y-V.y,A.x-V.x),F._setRotateCursor(A),X.editing={mode:f,key:D,pos:V,flipY:b.getScale().y<0,rotation:b.getRotation(),hitRot:A},l&&(X.editing.groupRotateMode=l)}else{var V=E.Rect.ResizeKeys.indexOf(D),A=E.Rect.ResizeDirection[V],l=Math.cos(b.getRotation()),V=Math.sin(b.getRotation()),H=A.x*Math.sign(b.getScale().x),A=A.y*Math.sign(b.getScale().y),l=Math.atan2(-V*H-l*A,l*H-V*A),H=(Math.round(l/(Math.PI/4))+8)%8,V=(this._interactor.setCursor(["ew-resize","nesw-resize","ns-resize","nwse-resize","ew-resize","nesw-resize","ns-resize","nwse-resize"][H]),b.getWidth()),A=b.getHeight(),l=b.getAnchor();X.editing={mode:f,key:D,rect:{x:-V*l.x,y:-A*l.y,width:V,height:A},anchor:l,matrix:b.getMatrix()}}return D}F.setCursor("default")}}},V.prototype._checkLine=function(V){this.screenInfo;var R,Q=this._interactor.getStyle("checkSize");if(E.checkHit(V,this.screenInfo.P1,Q))R="P1";else{if(!E.checkHit(V,this.screenInfo.P2,Q))return void this._interactor.setCursor("default");R="P2"}return this.editing={mode:"line",key:R},R},V.prototype._checkConnect=function(V){var R,Q,X=this.screenInfo,b=this._interactor,A=b.getStyle("connectGuideIntersectSize"),X=X.connect,c=V.x,f=X.x;if(c<f&&f-c<A&&Math.abs(X.y-V.y)<A||f<=c&&E.checkHit(V,X,A))return R=L8.getConnectAction(b.gv),this.editing={mode:"connect"},R&&R.delete&&(this.target instanceof E.Group?(Q=!0,b.gv.sm().getSelection().each(function(V){R.delete.visible.call(null,b.gv,V)||(Q=!1)}),this.editing.hasDeleteAction=Q):R.delete.visible.call(null,b.gv,this.target)&&(this.editing.hasDeleteAction=!0)),b.setCursor("default"),"connect"},V.prototype._fireEditEvent=function(V,R){var Q=this._interactor,X=this.editing;X&&(X="rotate"===(X=X.mode)?"Rotation":"connect"===X?"Connection":"resize"===X?"Rect":X[0].toUpperCase()+X.slice(1),Q.fi({kind:V+"Edit"+X,event:R}))},V.prototype._roundAngleTo360=function(V){var R=V.getRotation();return(V=V.getScale()).x<0&&V.y<0?R=Math.PI+R:V.y<0?R=2*Math.PI-R:V.x<0&&(R=Math.PI-R),I.Math.modToPositive(180*R/Math.PI,360)},V.prototype.isOrthogonalAngle=function(V){return V=this._roundAngleTo360(V)%90,Math.abs(V-(45<V?90:0))<.001},V.prototype.isRightOrInvertedAngle=function(V){return V=this._roundAngleTo360(V),Math.abs(V-90)<.001||Math.abs(V-270)<.001},V.prototype.startEdit=function(V,R){V.startDragging(R),this._interactor.fi({kind:"prepareEdit",event:R});var Q,X=this.editing,b=this.target;if(X){if(this._fireEditEvent("begin",R),X.started=!0,"rotate"===X.mode)return X.groupRotateMode&&b.beginRotate(X),void V._42();"connect"===X.mode?X.hasDeleteAction&&(R=V.gv,Q=this._interactor.getStyle("connectGuideGarbageShift"),X.garbageInfo={x:R.getWidth()*Q[0]+Q[2],y:R.getHeight()*Q[1]+Q[3],size:this._interactor.getStyle("connectGuideGarbageIntersectsize")},V._42()):("line"===X.mode||b&&this.isOrthogonalAngle(b))&&(this._inSmartGuide=!0,this._interactor.rectGuide.gatherRects())}},V.prototype._46O=function(V){var R,Q,X=this,b=X.editing,A=X.target;if(b){if("connect"===b.mode&&!b.canceled&&!b.deleted)try{b.garbageInfo&&b.garbageInfo.hover?L8.doDeleteConnectionAction(X._interactor.gv,A):L8.doConnectAction(X._interactor.gv,A,b.target)}catch(V){console.error(V)}Q=b.freezeFlag,R=X.editing.groupRotateMode,X._fireEditEvent("end",V),X.editing=null}X.tipInfo=null,X._inSmartGuide&&(X._interactor.rectGuide.clear(),X._inSmartGuide=!1),R&&A&&A.endRotate(),A instanceof I.Block&&(Q===N8?delete A._freezeSyncFromChildren:A._freezeSyncFromChildren=Q,A.updateFromChildren())},V.prototype.handleNormalStateDelete=function(){var V=this.editing;if(V&&"connect"===V.mode&&!V.canceled&&!V.deleted){if(V.garbageInfo){try{L8.doDeleteConnectionAction(this._interactor.gv,this.target)}catch(V){console.error(V)}V.garbageInfo=null}return V.cursorPos=null,V.targetCorners=null,V.deleted=!0,this._interactor._42(),!0}},V.prototype.handleNormalStateKeyDown=function(V){var R=this.editing;if(R&&"connect"===R.mode&&!R.canceled&&!R.deleted)return I.Default.isEsc(V)?(R.cursorPos=null,R.targetCorners=null,R.canceled=!0,this._interactor._42(),!0):void 0},V.prototype.handleEdit=function(R,V){var Q=this,X=Q.editing;if(X){var b,A,c=Q.target,f=X.key,S=X.mode,F=R.lp(V),D=Q._interactor;if("connect"===S)return X.canceled?void 0:X.deleted?void 0:(X.cursorPos=D._getLogicalPoint(V),(s=X.garbageInfo)&&E.checkHit(X.cursorPos,s,s.size)?(s.hover=!0,X.target=null,X.targetCorners=null):(s&&(s.hover=!1),X.target=R.getDataAt(F,function(V){return!!R.isSelectable(V)&&!!r(V)})||null,X.targetCorners=E.getTargetCornersOnScreen(R,X.target)),void D._42());if("rotate"===S){s=X.pos,s=Math.atan2(F.y-s.y,F.x-s.x),l=X.groupRotateMode?s-X.hitRot:(J=s-X.hitRot,X.rotation+J),(l%=2*Math.PI)<0&&(l+=2*Math.PI),I.Default.isCtrlDown(V)||(q=Fs(V)?(P=D.getStyle("shiftRotateRound"))/2:(P=D.getStyle("rotateRound"),D.getStyle("rotateSensitivity")),l=E.roundTo(l,P,q)),X.groupRotateMode?0!=(J=l-(X.lastRotation||0))&&(c.addRotation(J,X.groupRotateMode,function(V){return R.isRotationEditable(V)}),X.lastRotation=l):c.setRotation(l),D._setRotateCursor(s),l>Math.PI&&(l-=2*Math.PI);var P=(l/Math.PI*180).toFixed(2)+"°"}else if("resize"===S){var N,q=X.rect,L=q.x,e=q.y,J=q.width,s=q.height,l=X.anchor,H=X.matrix,K=c.s&&c.s("keepAspectRatio")||D.getStyle("keepAspectRatio"),y=(Fs(V)&&(K=!K),Q._unionPointMode1),t=Q._unionPointMode2,g=!0,g=((m=Q._interactor.getStyle("resizeHelperFilter"))&&(g=m(c instanceof E.Group?c._entities:[c])),Q._inSmartGuide&&!I.Default.isCtrlDown(V)&&g&&!K&&("L"===f||"R"===f?N="x":"T"!==f&&"B"!==f||(N="y"),Q.isRightOrInvertedAngle(c)&&N&&(N="x"===N?"y":"x"),Q._adsorbedToClosest(F,N),A=!0),m=H.tfi(F),"LT"===f?q=y(m,{x:L+J,y:e+s},J,s,K):"T"===f?q=t({x:L,y:m.y},{x:L+J,y:e+s},J,s,K,"v"):"RT"===f?q=y(m,{x:L,y:e+s},J,s,K):"L"===f?q=t({x:m.x,y:e},{x:L+J,y:e+s},J,s,K,"h"):"R"===f?q=t({x:L,y:e},{x:m.x,y:e+s},J,s,K,"h"):"LB"===f?q=y(m,{x:L+J,y:e},J,s,K):"B"===f?q=t({x:L,y:e},{x:L+J,y:m.y},J,s,K,"v"):"RB"===f&&(q=y(m,{x:L,y:e},J,s,K)),0),t=[0,5,2,3],y=(c.getScaleX&&c.getScaleX()*c.getScaleY()<0&&(t=[2,5,0,3]),Math.round(Q._roundAngleTo360(c)/90)),m=(0<=f.indexOf("T")&&(g|=1<<t[(0+y)%4]),0<=f.indexOf("R")&&(g|=1<<t[(1+y)%4]),0<=f.indexOf("B")&&(g|=1<<t[(2+y)%4]),0<=f.indexOf("L")&&(g|=1<<t[(3+y)%4]),H.tf(q.x+q.width*l.x,q.y+q.height*l.y));c instanceof I.Block&&(X.hasOwnProperty("freezeFlag")||(X.freezeFlag=c._freezeSyncFromChildren,c._freezeSyncFromChildren=!0)),c.setPosition(m),c.setSize(q.width,q.height),A&&(b=c.getRect(),D.rectGuide.gatherLines({node:c,x:b.x,y:b.y,w:b.width,h:b.height},N,g)),P=Math.round(q.width)+" * "+Math.round(q.height)}else if("line"===S){if(Fs(V)){var J=c.getPoints(),s="P1"===f?J.get(1):J.get(0),z=F.x-s.x,Y=F.y-s.y,u=D.getStyle("shiftLineRotateRound"),o=Q._shiftDirList;if(!o||Q._shiftRotateRound!==u){Q._shiftRotateRound=u,Q._shiftDirList=o=[];for(var _=0;_<Math.PI;_+=u)o.push({x:J8(_),y:e8(_)})}for(var O,w=0,a=0,i=o.length;a<i;a++){var n=o[a],M=n.x*z+n.y*Y;Math.abs(M)>Math.abs(w)&&(w=M,O=n)}F={x:s.x+O.x*w,y:s.y+O.y*w},D.rectGuide.clear()}else Q._inSmartGuide&&!I.Default.isCtrlDown(V)&&(Q._adsorbedToClosest(F),A=!0);K=E.getDataMatrix(c).applyInverse(F),c.setPoint("P1"===f?0:1,K,!0),y=(t=c.getPoints()).get(0),H=t.get(1),L=y.x-H.x,e=y.y-H.y,P=" "+Math.round(Math.sqrt(L*L+e*e))+" ",A&&(b=c.getRect(),D.rectGuide.gatherLines({node:c,x:b.x,y:b.y,w:b.width,h:b.height}))}P&&((l=I.Default.getLogicalPoint(V,D._canvas)).x+=E.Icons.TipShiftX,l.y+=E.Icons.TipShiftY,Q.tipInfo={helperPos:l,text:P,size:P.length}),Q._fireEditEvent("between",V)}},V.prototype._unionPointMode1=function(V,R,Q,X,b){var A;return b&&Q&&X&&(b=V.x-R.x,A=V.y-R.y,Math.abs(b*X)<Math.abs(A*Q)?(A=Math.sign(A)*Math.abs(b*X/Q),V.y=R.y+A):(b=Math.sign(b)*Math.abs(A*Q/X),V.x=R.x+b)),I.Default.unionPoint(V,R)},V.prototype._unionPointMode2=function(V,R,Q,X,b,A){var c,V=I.Default.unionPoint(V,R);return b&&Q&&X&&("v"===A?(c=V.x+V.width/2,V.width=Q*V.height/X,V.x=c-V.width/2):(c=V.y+V.height/2,V.height=X*V.width/Q,V.y=c-V.height/2)),V},V.prototype._adsorbedToClosest=function(V,R){var Q=(X=this._interactor).rectGuide.findClosest(V,R),X=X.gridGuide.findClosest(V,R),R=1/0,b=1/0;Q&&(isFinite(Q.x)&&(R=Q.x),isFinite(Q.y)&&(b=Q.y)),X&&(isFinite(X.x)&&Math.abs(X.x)<Math.abs(R)&&(R=X.x),isFinite(X.y)&&Math.abs(X.y)<Math.abs(b)&&(b=X.y)),isFinite(R)&&(V.x+=R),isFinite(b)&&(V.y+=b)},V.prototype._42=function(V,R,Q){var X=this,b=(X.info={},X.screenInfo=null,X._interactor);if(!b.editDetail&&X.gatherInfo(R,Q)){var A=X.editing,Q=A?A.groupRotateMode:null,c=X.screenInfo;if("block"!==Q||!A||!A.started){if(c.P1?E.Icons.DrawIcon(b,V,E.Icons.Line,c):E.Icons.DrawIcon(b,V,E.Icons.Rect,c),c.connect&&(E.Icons.DrawIcon(b,V,E.Icons.ConnectGuide,{rotation:c.rotation,connect:c.connect,cursorPos:A?A.cursorPos:null}),A)){if(A.targetCorners){for(var f={x:1/0,y:1/0},S={x:-1/0,y:-1/0},F=0,D=A.targetCorners.length;F<D;F+=2)f.x=Math.min(f.x,A.targetCorners[F]),S.x=Math.max(S.x,A.targetCorners[F]),f.y=Math.min(f.y,A.targetCorners[F+1]),S.y=Math.max(S.y,A.targetCorners[F+1]);E.Icons.DrawIcon(b,V,E.Icons.HoverDataRect,{min:f,max:S,color:b.getStyle("hoverGuideColor")||b.getStyle("baseColor")})}A.garbageInfo&&E.Icons.DrawIcon(b,V,E.Icons.ConnectGuideGarbage,A.garbageInfo)}b.getStyle("rotateTipVisible")&&X.tipInfo&&E.Icons.DrawIcon(b,V,E.Icons.TipHelper,X.tipInfo)}X.target instanceof E.Group&&X.target._42(b,V,R)}},(((R=E.Anchor=function(V){this.catalog="Anchor",this._interactor=V}).prototype={}).constructor=R).prototype.gatherInfo=function(V,R){if(1!==R.length)return 1<R.length&&this.gatherMultiTargets(V,R);var Q=R[0];return Q.getAnchor&&!(Q instanceof I.Shape&&Q._70I()||lJ(Q,V))?this.gatherSingleTarget(V,R[0]):void 0},R.prototype.gatherSingleTarget=function(V,R){return this.info.POS=R.getPosition(),this.screenInfo.POS=E.toScreenPosition(V,this.info.POS),this.target=R,!0},R.prototype.gatherMultiTargets=function(V,R){return!!(R=E.Group.findOrCreateGroup(R,this._interactor._uuid))&&(this.screenInfo.POS=E.toScreenPosition(V,R.getAnchor2()),this.target=R,!0)},R.prototype.isVisible=function(){var V=this._interactor;if(!1===V.getStyle("anchorVisible"))return!1;var R=this.target;if(R){if(this.editing)return!0;var Q=R.getAnchor(),X=V.getStyle("anchorOutsideVisibleThreshold");if(Q.x<-X||Q.x>1+X||Q.y<-X||Q.y>1+X)return!0;if(Q=R.getSize(),X=R.getScale(),Math.min(Math.abs(Q.width*X.x),Math.abs(Q.height*X.y))*V.gv._zoom<V.getStyle("anchorHideThreshold"))return!1}return!0},R.prototype.check=function(V,R,Q){if(I.Default.isLeftButton(R)&&(R=this._interactor,this.isVisible()&&!1!==R.getStyle("anchorMovable"))){this.editing=null,this.tipInfo=null;var X=this.target;if(X&&V.isAnchorEditable(X)&&V.isEditable(X)&&this.screenInfo&&(V=this.screenInfo.POS)&&E.checkHit(Q,new E.Math.Vector2(V),R.getStyle("checkSize")))return X instanceof E.Group?this.editing={}:(Q=X.getWidth(),V=X.getHeight(),R=X.getAnchor(),this.editing={rect:{x:-Q*R.x,y:-V*R.y,width:Q,height:V},anchor:R,matrix:X.getMatrix()}),!0}},R.prototype.startEdit=function(V,R){V.startDragging(R),V.fi({kind:"beginEditAnchor",event:R})},R.prototype._46O=function(V){this.editing&&(this.editing=null,this._interactor.fi({kind:"endEditAnchor",event:V})),this.tipInfo=null},R.prototype.handleEdit=function(V,R){var Q=this.target;if(Q&&(b=this.editing)){var V=V.lp(R),X=this._interactor;if(Q instanceof E.Group)return Q.setAnchor2(V),void X._42();var V=b.matrix.tfi(V),b=b.rect,A=(V.x-b.x)/b.width,V=(V.y-b.y)/b.height;I.Default.isCtrlDown(R)||(b=X.getStyle("anchorRound"),c=X.getStyle("anchorSensitivity"),A=E.roundTo(A,b,c),V=E.roundTo(V,b,c)),Q.setAnchor(A,V,!0);(b=I.Default.getLogicalPoint(R,X._canvas)).x+=E.Icons.TipShiftX,b.y+=E.Icons.TipShiftY;var c=A.toFixed(2)+", "+V.toFixed(2);this.tipInfo={helperPos:b,text:c,size:c.length},X.fi({kind:"betweenEditAnchor",event:R})}},R.prototype._42=function(V,R,Q){this.info={},this.screenInfo={};var X=this._interactor;X.editDetail||this.gatherInfo(R,Q)&&this.isVisible()&&(E.Icons.DrawIcon(X,V,E.Icons.Anchor,this.screenInfo),this.tipInfo&&E.Icons.DrawIcon(X,V,E.Icons.TipHelper,this.tipInfo))},(((j8=E.MoveDummy=function(V){this.catalog="MoveDummy",this._interactor=V}).prototype={}).constructor=j8).prototype.gatherInfo=function(V,R){var Q=this._interactor.getSubModule("Rect");if(Q&&(S=Q.screenInfo)){var X=this._interactor;if(this.getMovableTarget(Q.target)&&(Q=X.getStyle("moveDummyThreshold"),!1!==(Q=LJ(Q)?Q():Q))){var b=S.LT||S.P1,A=S.RT||S.P2,c=S.LB||b;if(b){var f,S=S.P1,F=Math.min(b.distanceTo(c),b.distanceTo(A));if(!(!0!==Q&&Q<F))return Q=X.getStyle("moveDummyPosition"),F=A.clone().sub(b),A=c.clone().sub(b),c=Q[2],f=Q[3],(S=S&&X.getStyle("moveDummyLineExtraShift"))&&(c+=S[0],f+=S[1]),S=b.clone().add(F.clone().multiplyScalar(Q[0])).add(F.setLength(c)).add(A.clone().multiplyScalar(Q[1])).add(A.setLength(f)),this.screenInfo.pos=S,this.screenInfo.size=X.getStyle("moveDummySensitivity"),!0}}}},j8.prototype.getMovableTarget=function(V){var R=this._interactor.gv;if(r(V)){if(R.isMovable(V))return V}else if(V instanceof E.Group)for(var Q=V._entities,X=Q.length-1;0<=X;X--){var b=Q[X];if(r(b)&&R.isMovable(b))return b}return null},j8.prototype.getMoveInteractor=function(){for(var V,R=this._interactor.gv.getInteractors(),Q=0,X=R.length;Q<X;Q++)if((V=R.get(Q))instanceof AI)return V},j8.prototype.startEdit=function(V,R){V.startDragging(R);var Q,X=this.getMoveInteractor();X&&(Q=this.selectedTarget,(V=V.gv)._moving=1,X._data=Q,V.handleMouseDown&&V.handleMouseDown(R,Q))},j8.prototype._46O=function(V){var R=this.getMoveInteractor();R&&(R.handleWindowMouseUp(V),this.selectedTarget=null)},j8.prototype.handleEdit=function(V,R){var Q=this.getMoveInteractor();Q&&Q.handleWindowMouseMove(R)},j8.prototype.check=function(V,R,Q){if(this.selectedTarget=null,I.Default.isLeftButton(R)&&!V._scrolling&&!E2()&&this.screenInfo&&(R=this.screenInfo.pos)&&!(Q.distanceTo(R)>this.screenInfo.size))return V=this._interactor,this.selectedTarget=this.getMovableTarget(V.getSubModule("Rect").target),V.setCursor("default"),!0},j8.prototype._42=function(V,R,Q){this.screenInfo={};var X=this._interactor;X.editDetail||!this.gatherInfo(R,Q)||X.editing&&!this.selectedTarget||E.Icons.DrawIcon(X,V,E.Icons.MoveDummy,this.screenInfo)},(((V=E.RotateX=function(V){this.catalog="RotateX",this._interactor=V}).prototype={}).constructor=V).prototype.gatherInfo=function(V,R){var Q;return 1===R.length?!((Q=R[0])instanceof I.Shape&&Q._70I()||lJ(Q,V))&&this.gatherSingleTarget(V,Q):1<R.length&&this.gatherMultiTargets(V,R)},V.prototype.gatherSingleTarget=(lI=new I.Math.Vector2,HI=new I.Math.Vector2,KI=new I.Math.Vector2,yI=new I.Math.Vector2,function(V,R){var Q,X;if(R.getCorners)return X=R.getCorners(),Q=R.getPosition(),lI.copy(X[0]),KI.copy(X[1]),yI.copy(X[3]),HI.copy(lI).add(yI).divideScalar(2).add(lI.sub(KI).setLength(15/V.getZoom())),X=Math.max(dm(Q,X[0]),dm(Q,X[1]),dm(Q,X[2]),dm(Q,X[3])),this.info.POS=HI.clone(),this.screenInfo.POS=E.toScreenPosition(V,this.info.POS),this.screenInfo.LEN=Math.sqrt(X)*V.getZoom()+15,this.screenInfo.CENTER=E.toScreenPosition(V,Q),this.target=R,!0}),V.prototype.gatherMultiTargets=function(V,R){return!!(R=E.Group.findOrCreateGroup(R,this._interactor._uuid))&&this.gatherSingleTarget(V,R)},V.prototype.isVisible=function(){var V=this._interactor;if(!V.getStyle("rotateAsClock"))return!1;var R=this.target;return!R||!(!(V=V.gv).isEditable(R)||!V.isRotationEditable(R))},V.prototype.check=function(V,R,Q){return((V=this._checkImpl(V,R,Q))||this._clockPainted)&&this._interactor._42(),V},V.prototype._checkImpl=function(V,R,Q){if(I.Default.isLeftButton(R)){var X=this;if(X.editing=null,X.tipInfo=null,X.screenInfo&&(b=X.screenInfo.POS)&&X.isVisible()){var b,A=X._interactor;if(E.checkHit(Q,b,A.getStyle("checkSize")))return Q=X.target,b=V.lp(R),V=Q.getPosition(),R=Math.atan2(b.y-V.y,b.x-V.x),A._setRotateCursor(R),X.editing={pos:V,rotation:Q.getRotation(),hitRot:R,groupRotateMode:"block",screenInfo:{CENTER:X.screenInfo.CENTER,LEN:X.screenInfo.LEN}},!0}}},V.prototype.startEdit=function(V,R){V.startDragging(R),V.fi({kind:"beginEditRotation",event:R}),this.target instanceof E.Group&&this.target.beginRotate(this.editing)},V.prototype._46O=function(V){this.editing&&(this.editing=null,this._interactor.fi({kind:"endEditRotation",event:V})),this.target instanceof E.Group&&this.target.endRotate(),this.tipInfo=null},V.prototype.handleEdit=function(R,V){var Q,X,b,A,c,f,S,F,D=this.editing;D&&(Q=this.target,b=R.lp(V),X=this._interactor,c=D.pos,b=Math.atan2(b.y-c.y,b.x-c.x),f=(c=Q instanceof E.Group)?b-D.hitRot:(A=b-D.hitRot,D.rotation+A),(f%=2*Math.PI)<0&&(f+=2*Math.PI),I.Default.isCtrlDown(V)||(F=Fs(V)?(S=X.getStyle("shiftRotateRound"))/2:(S=X.getStyle("rotateRound"),X.getStyle("rotateSensitivity")),f=E.roundTo(f,S,F)),c?0!=(A=f-(D.lastRotation||0))&&(Q.addRotation(A,D.groupRotateMode,function(V){return R.isRotationEditable(V)}),D.lastRotation=f):Q.setRotation(f),X._setRotateCursor(b),f>Math.PI&&(f-=2*Math.PI),S=(f/Math.PI*180).toFixed(2)+"°",(F=I.Default.getLogicalPoint(V,X._canvas)).x+=E.Icons.TipShiftX,F.y+=E.Icons.TipShiftY,this.tipInfo={helperPos:F,text:S,size:S.length},X.fi({kind:"betweenEditRotation",event:V}))},V.prototype._42=function(V,R,Q){var X=this,b=(X._clockPainted=!1,X.info={},X.screenInfo={},X._interactor);b.editDetail||X.gatherInfo(R,Q)&&X.isVisible()&&(E.Icons.DrawIcon(b,V,E.Icons.RoundPoint,X.screenInfo.POS),b.getStyle("rotateTipVisible")&&X.tipInfo&&E.Icons.DrawIcon(b,V,E.Icons.TipHelper,X.tipInfo),X.editing&&X.drawClock(V))},V.prototype.drawClock=function(V){V.save(),this._clockPainted=!0;var R,Q,X,b,A,c=this.editing||{},f=c.screenInfo||this.screenInfo,S=f.LEN,F=S+8,D=S+18;V.save(),V.translate(f.CENTER.x,f.CENTER.y),V.beginPath(),V.strokeStyle="rgb(150, 150, 150)";for(var P=0;P<360;P++)R=P*Math.PI/180,P%5==0&&(Q=e8(R)*S,X=J8(R)*S,b=e8(R)*F,A=J8(R)*F,V.moveTo(Q,X),V.lineTo(b,A)),P%45==0&&(Q=e8(R)*S,X=J8(R)*S,b=e8(R)*D,A=J8(R)*D,V.moveTo(Q,X),V.lineTo(b,A));V.stroke(),V.rotate(-M8),f=c.lastRotation||this.target.getRotation(),V.beginPath(),V.fillStyle="rgba(255, 0, 0, 0.1)",V.strokeStyle="rgb(157, 157, 157)",V.moveTo(0,0),V.arc(0,0,D,0,f,!1),V.fill(),V.beginPath(),V.moveTo(0+D,0),V.arc(0,0,D,0,f,!1),V.stroke(),V.restore()},((Q=E.Curve=function(V){this.catalog="Curve",this._interactor=V}).prototype={}).constructor=Q,v.defineProperties(Q.prototype,{activing:{get:function(){return this._activing},set:function(V){V?(this._activing=new E.CurveActiving(this,V),this.gatherSingleTarget(this._interactor.gv,this.target)):((V=this._activing)&&V.dispose(),this._activing=null)}}}),Q.PointType={Mirrored:0,Straight:1,Disconnected:2,Asymmetric:3},Q.prototype.setUp=function(){var V=this._interactor;V&&V.gv.mp(this._onGraphviewPropertyChanged,this)},Q.prototype._onGraphviewPropertyChanged=function(V){"zoom"!==V.property&&"translateX"!==V.property&&"translateY"!==V.property||this._handleDataChanged()},Q.prototype.tearDown=function(){var V=this._interactor;V&&V.gv.ump(this._onGraphviewPropertyChanged,this)},Q.prototype.canEnterEditDetailMode=function(){var V=Nq(this._interactor);if(V)return this.target=V},Q.prototype.canQuitEditDetailMode=function(V){var R=this._interactor._getLogicalPoint(V);if(!this._checkEditRealPoint(R))return this._interactor.gv.getDataAt(V)!==this.target||void 0},Q.prototype.preHandleScroll=function(V){var R=this.editing;if(R&&R.inEdit)return!0},Q.prototype.getCurrentSelectintStatus=function(){var Q=this;if(Q.activing&&!Q.activing.selections){if(Q.activing.status!=N8)return Q.activing.status;var V=function(V){var R=Q.activing.status;Q.activing.status=V,Q._interactor.fp("shapePointStatus",R,V)},R=E.Curve.PointType,X=Q.activing.point,b=Q.activing.pairs;if(!b||1!==b.length)return V(R.Mirrored);var A=(b=b[0]).c1&&b.c1.isNearEnough(X),c=b.c2&&b.c2.isNearEnough(X);return b.c1&&b.c2?A&&c?V(R.Straight):A||c?V(R.Asymmetric):(A=b.c1.clone().sub(X),c=b.c2.clone().sub(X),1e-5<Math.abs(A.x*c.y-A.y*c.x)||0<A.x*c.x?V(R.Disconnected):1e-5<Math.abs(A.length()-c.length())?V(R.Asymmetric):V(R.Mirrored)):V(A||c?R.Straight:R.Disconnected)}},Q.prototype.handle_keydown=function(V){var R;this._interactor.editDetail&&(R=E.Curve.PointType,"1"===V.key?this._setCurrentSelectionStatus(R.Straight):"2"===V.key?this._setCurrentSelectionStatus(R.Mirrored):"3"===V.key?this._setCurrentSelectionStatus(R.Disconnected):"4"===V.key&&this._setCurrentSelectionStatus(R.Asymmetric))},Q.prototype.setCurrentSelectionStatus=function(V){var R=this._interactor;R&&((R=R.gv).dm().beginTransaction(),this._setCurrentSelectionStatus(V),R.dm().endTransaction())},Q.prototype._setCurrentSelectionStatus=function(V){var R=this,Q=R.activing;if(Q){var X=R.getCurrentSelectintStatus();if(null!==X&&X!==V){Q.status=V;var b=R.activing.point;if((A=R.activing.pairs)&&1===A.length){var A=A[0],c=R.screenInfo.curve,f=E.Curve.PointType,S=R._interactor,F=function(){R._writeToHt(),S.fp("shapePointStatus",X,V),R.check(S.gv,null,new E.Math.Vector2(S._lastLogicalPoint))};if(V===f.Straight)return c.moveCtrlPoint(A,b,"c1"),c.moveCtrlPoint(A,b,"c2"),void F();if(X===f.Straight)return P=(D=c.findPairs(b,!0)[0]).r1||b,D=(D.r2||b).clone().sub(P).multiplyScalar(.25),c.moveCtrlPoint(A,b.clone().sub(D),"c1"),c.moveCtrlPoint(A,b.clone().add(D),"c2"),void F();var D,P=A.c1,N=A.c2;if(P&&N){if(V===f.Mirrored)return c.moveCtrlPoint(A,b.clone().multiplyScalar(2).sub(N),"c1"),void F();if(V===f.Asymmetric&&X===f.Disconnected)return f=P.clone().sub(b).length(),D=b.clone().sub(N).setLength(f).add(b),c.moveCtrlPoint(A,D,"c1"),void F()}Q._firePointChange(),S.fp("shapePointStatus",X,V),R.check(S.gv,null,new E.Math.Vector2(S._lastLogicalPoint))}}}},Q.prototype._handleDataChanged=(_I="s:edge.points,s:edge.segments,points,segments,shape,position,rotation,scale".split(","),function(V){this.screenInfo&&this.target&&(V&&_I.indexOf(V.property)<0||(V=this._interactor,this.gatherSingleTarget(V.gv,this.target,!0),this.check(V.gv,null,new E.Math.Vector2(V._lastLogicalPoint)),V._42()))}),Q.prototype.gatherSingleTarget=function(R,V,Q){var X,b,A,c,f=this,S=(f.screenInfo&&f.screenInfo.curve&&(X=f.screenInfo.curve._curves),f.editing),F=S?f.screenInfo:f.screenInfo={},D=V instanceof I.Edge,P=D?(c=V.s("edge.segments"),V.s("edge.points")||new I.List):(c=V._58O,V._59O),N=(F.S=c,F.P=[]),q=E.getDataMatrix(V);if(V instanceof I.Polyline||V instanceof I.Edge&&f._interactor.getStyle("edgeElevationEditable")?(b=V.getElevation&&V.getElevation()||0,F.E=[]):(A=!1,P.each(function(V){V.e!==N8&&(A=!0)}),A&&(F.E=[])),P.each(function(V){F.E&&F.E.push(V.e!=N8?V.e:b),V=q.apply(V),V=E.toScreenPosition(R,V),N.push(V.x,V.y)}),D&&(c=N.length,P=E.toScreenPosition(R,V._lastSourcePoint||(c?{x:N[0],y:N[1]}:{x:0,y:0})),D=E.toScreenPosition(R,V._lastTargetPoint||(c?{x:N[c-2],y:N[c-1]}:{x:0,y:0})),N.splice(0,0,P.x,P.y),N.push(D.x,D.y),F.E&&((c=V.getSourceAgent())instanceof I.Edge?F.E.splice(0,0,V.s("edge.source.offset.elevation")):F.E.splice(0,0,((V.s("edge.source.anchor.elevation")||.5)-.5)*c.getTall()*c.getScaleTall()+c.getElevation()+V.s("edge.source.offset.elevation")),(P=V.getTargetAgent())instanceof I.Edge?F.E.push(V.s("edge.target.offset.elevation")):F.E.push(((V.s("edge.target.anchor.elevation")||.5)-.5)*P.getTall()*P.getScaleTall()+P.getElevation()+V.s("edge.target.offset.elevation")))),!F.S||!F.S.size()){F.S=new I.List,F.S.add(1);for(var L=0;L<N.length/2-1;L++)F.S.add(2)}S&&!Q||f.convertToCubicBezier(X),!f.activing||!Q&&f.editing&&"realPoint"!==f.editing.type||(D=F.curve.findPairs(f.activing.point),f.activing.pairs=D)},Q.prototype._convertToNewPoint=function(V,R,Q,X){for(var b,A=0,c=R.length;A<c;A++){if((b=R[A])._p1.isNearEnough(V)&&(!X||X.indexOf(b._p1)<0))return b._p1;if(b._p4.isNearEnough(V)&&(!X||X.indexOf(b._p4)<0))return b._p4}if(Q)for(A=0,c=Math.min(Q.length,c);A<c;A++){if((b=Q[A])._p1===V&&(!X||X.indexOf(R[A]._p1)<0))return R[A]._p1;if(b._p4===V&&(!X||X.indexOf(R[A]._p4)<0))return R[A]._p4}},Q.prototype.convertToCubicBezier=function(R){var Q,X,b,A,c,f=this,V=new E.Math.Curve,S=f.screenInfo;V.createFromHtShape(S.P,S.S,S.E),S.curve=V,f.activing&&(Q=V._curves,S=f.activing.point,X=f._convertToNewPoint(S,Q,R),b=[],X&&(f.activing.point=X,b.push(X)),f.activing.selections&&(A=-1,(c=f.activing.selections).forEach(function(V){A++,(X=f._convertToNewPoint(V,Q,R,b))&&(c[A]=X,b.push(X))})))},Q.prototype.check=function(V,R,Q){if(!R||bs(R)||As(R)){var X=this;if(X._interactor.setCursor("default"),X.editing=null,X.highlight=null,X.tipInfo=null,X.edgeEditResult=null,X.screenInfo)return E2()||R&&As(R)||X._checkEditCtrlPoint(Q)||X._checkEditRealPoint(Q)||X._checkEditElevation(Q)||(R=X.screenInfo.curve.checkPoint(Q,X._interactor.getStyle("curveIntersectSize")))&&((Q=X.highlight={type:"insertKnot"}).bezier=R.bezier,Q.point=R.intersection),X._interactor._42(),!0}},Q.prototype.getAdjacentBeziers=function(V){var R=this.screenInfo;if(R){for(var Q,X=R.curve._curves,b=[],A=N8,c=0,f=X.length;c<f;c++)if(Q=X[c],A===N8){if(Q._p4.isNearEnough(V))b.push(Q),A=c;else if(Q._p1.isNearEnough(V))return b.push(Q),b}else{if(Q._p1.isNearEnough(V))return b.push(Q),b;Q._p4.isNearEnough(V)&&(b[0]=Q,A=c)}return b}},Q.prototype.roundCorner=function(V){if(this.activing&&this.screenInfo){var R=this.screenInfo.curve._curves,Q=(D=this.activing).point,X=this.getAdjacentBeziers(Q);if(X&&2===X.length)var b=(A=X[1])._index,A=A.insertKnot(A.getTByPercentage(V/A.length))[1],c=(R[b]=A).p1,f=(S=X[0])._index,S=S.insertKnot(S.getTByPercentage(1-V/S.length))[0],F=(R[f]=S).p4;else{var D=D.pairs[0],P=R.length;if(D.c1){if(D.c2)return;var f=(S=X[0])._index,F=(S=S.insertKnot(S.getTByPercentage(1-V/S.length))[0]).p4,c=(c=(A=R[(f+1)%P]).p1).clone().sub(Q).setLength(V).add(Q),b=f+1;if(1-Math.abs(F.clone().sub(Q).normalize().dot(c.clone().sub(Q).normalize()))<1e-8)return;R[f]=S}else{if(b=(A=X[0])._index,c=(A=A.insertKnot(A.getTByPercentage(V/A.length))[1]).p1,F=(F=(S=R[(b-1+P)%P]).p4).clone().sub(Q).setLength(V).add(Q),1-Math.abs(F.clone().sub(Q).normalize().dot(c.clone().sub(Q).normalize()))<1e-8)return;R[b]=A}}f=new E.Math.CubicBezier(F,(D=Q).clone().sub(F).multiplyScalar(2/3).add(F),D.clone().sub(c).multiplyScalar(2/3).add(c),c),R.splice(b,0,f),this._writeToHt(),this.activing=null,this._interactor._42()}},Q.prototype._checkEditRealPoint=function(V){var R,Q,X,b,A,c,f=this.screenInfo.curve._curves,S=this._interactor.getStyle("curvePointIntersectSize"),F=1/0;for(S*=S,X=0,b=f.length;X<b;X++)A=(R=f[X])._p1,(c=V.distanceToSquared(A))<F&&(F=c,Q=A),A=R._p4,(c=V.distanceToSquared(A))<F&&(F=c,Q=A);return!(S<F)&&((S=this.highlight={type:"changeRealPoint"}).point=Q,this.editing={type:"realPoint",point:Q,shiftGuide:{point:Q.clone(),dir:"x",limit:0}},this._interactor.setCursor("crosshair"),!0)},Q.prototype._checkEditElevation=function(V){if(!this._interactor.getStyle("curveElevationVisible"))return!1;if(this.target instanceof I.Edge&&!this._interactor.getStyle("edgeElevationEditable"))return!1;var R=this.activing;if(!R)return!1;if(!(R=R.getCurrentEditingPoint()))return!1;var Q=this._interactor,X=Q.getStyle("curveElevationGuideShift");return(Q=Q.getStyle("curveElevationIntersectSize"))*Q<V.distanceToSquared({x:R.x+X[0],y:R.y+X[1]})?void 0:(this.highlight={type:"elevation"},Q=new E.Math.Vector2(V.x,V.y,R.e),this.editing={type:"elevation",startPoint:Q},this._interactor.setCursor("crosshair"),!0)},Q.prototype._checkEditCtrlPoint=function(V){var R=this;if(R.activing&&!R.activing.selections&&(S=R.getCurrentSelectintStatus())!==E.Curve.PointType.Straight){var Q=R.activing.pairs;if(Q){var X,b,A,c,f,S=R._interactor.getStyle("curvePointIntersectSize");S*=S;for(var F,D,P=1/0,N=0,q=Q.length;N<q;N++)for(c=Q[N],D=0;D<2;D++)c[f=0===D?"c1":"c2"]&&(F=V.distanceToSquared(c[f]))<P&&(P=F,X=c,b=N,A=f);return S<P?!1:(R.activing.hlpair=X,R.activing.hltype=A,(S=R.highlight={type:"changeCtrlPoint"}).point=X[A],R.editing={type:"ctrlPoint",pair:X,pairId:b,ctrlType:A,direction:X[A].clone().sub(R.activing.point).normalize()},R._interactor.setCursor("crosshair"),!0)}}},Q.prototype.startEdit=function(V,R){V.startDragging(R);var Q,X,b,A,c=this;c.highlight&&"insertKnot"===c.highlight.type&&(c.insertKnot(),c.gatherSingleTarget(c._interactor.gv,c.target),c.activing=null,c._checkEditRealPoint(c._interactor._getLogicalPoint(R)));(S=c._activing)&&("ctrlPoint"===(f=c.editing?c.editing.type:null)?S.editingCtrl={pairId:c.editing.pairId,type:S.hltype}:"realPoint"===f&&(S.editingCtrl=!1));var f=c.highlight,S=I.Default.isCtrlDown(R);if(!f||E2()||As(R))return!(Q=c._interactor.gv).setFocus(R)||Q._scrolling?void 0:void(S?c._multiSelect={startPoint:Q.lp(R)}:Q.isPannable()&&(bs(R)||As(R))&&(c._pan={tx:Q.tx(),ty:Q.ty()},V.fi({kind:"beginPan",event:R})));"changeRealPoint"===f.type&&(Q=c.activing?c.activing.point:null,X=c.activing?c.activing.selections:null,S&&c.activing?Q===f.point?(X?(c.activing={point:X[0]},1<X.length&&(X.splice(0,1),c.activing.selections=X)):c.activing=null,c.editing=null):X&&0<=(b=X.indexOf(f.point))?(1<X.length?X.splice(b,1):delete c.activing.selections,c.editing=null):X?(X.push(Q),c.activing={point:f.point,selections:X}):c.activing={point:f.point,selections:[Q]}:X?Q!==f.point&&(0<=(b=X.indexOf(f.point))?(X.splice(b,1,Q),c.activing={point:f.point,selections:X}):c.activing={point:f.point}):(Q===f.point&&(A=c.activing.status),c.activing={point:f.point},A&&(c.activing.status=A)),V.fi({kind:"beginEditPoint",event:R})),"changeCtrlPoint"===f.type&&V.fi({kind:"beginEditPoint",event:R})},Q.prototype.insertKnot=function(){var V=this.highlight;this.screenInfo.curve.insertKnot(V.bezier,V.point.t),this._writeToHt()},Q.prototype._writeToHt=function(){var V,R,Q,X=(A=this.screenInfo.curve.toHtShape()).points,b=[],A=A.segments,c=this._interactor.gv,f=(c.dm().beginTransaction(),this.target),S=f instanceof I.Edge,F=E.getDataMatrix(f).invert();(f instanceof I.Polyline||S&&this._interactor.getStyle("edgeElevationEditable"))&&(Q=f.getElevation&&f.getElevation()||0);for(var D=0,P=X.length;D<P;D++)V=X[D],R=E.toWorldPosition(c,V),R=F.apply(R),isFinite(V.e)&&V.e!==Q&&(R.e=V.e),b.push(R);f._writing=!0,S?(f.s("edge.type","points"),f.setStyle("edge.segments",A),f.setStyle("edge.points",b.slice(1,b.length-1)),f.setStyle("edge.source.offset.x",0),f.setStyle("edge.source.offset.y",0),f.setStyle("edge.target.offset.x",0),f.setStyle("edge.target.offset.y",0),S=this._nextChangeEdgeHost,delete this._nextChangeEdgeHost,S&&("source"===S.type?f.setSource(S.host):f.setTarget(S.host)),this._writeEdgeHostAnchor("source",b[0]),this._writeEdgeHostAnchor("target",b[b.length-1])):b.length?(f.setSegments(A),f.setPoints(b,!0)):f.removeFromDataModel(),c.dm().endTransaction(),delete f._writing},Q.prototype._writeEdgeHostAnchor=function(V,R){var Q=this.target,X=this._calcHostAnchor(Q,V,R);X.index!==N8?(Q.setStyle("edge."+V+".index",X.index),Q.setStyle("edge."+V+".percent",N8),Q.setStyle("edge."+V+".anchor.x",N8),Q.setStyle("edge."+V+".anchor.y",N8),Q.setStyle("edge."+V+".anchor.elevation",N8),Q.setStyle("edge."+V+".offset.elevation",R.e)):X.percent!==N8?(Q.setStyle("edge."+V+".percent",X.percent),Q.setStyle("edge."+V+".index",N8),Q.setStyle("edge."+V+".anchor.x",N8),Q.setStyle("edge."+V+".anchor.y",N8),Q.setStyle("edge."+V+".anchor.elevation",N8),Q.setStyle("edge."+V+".offset.elevation",R.e)):(Q.s("edge."+V+".anchor.x",X.x),Q.s("edge."+V+".anchor.y",X.y),Q.s("edge."+V+".anchor.elevation",X.e),X.offsetX||X.offsetY||X.offsetElevation?(Q.s("edge."+V+".offset.x",X.offsetX),Q.s("edge."+V+".offset.y",X.offsetY),Q.s("edge."+V+".offset.elevation",X.offsetElevation)):(Q.s("edge."+V+".offset.x",0),Q.s("edge."+V+".offset.y",0),Q.s("edge."+V+".offset.elevation",0)))},Q.prototype._calcHostAnchor=function(V,R,Q,X){X=X||("source"===R?V.getSourceAgent():V.getTargetAgent());var b=this._interactor.gv;if(A=b.calculateAttachPoint(X,Q))return A.info;if(JJ(X))return b.calculateEdgePosition(X,Q);var A=X.getRotation(),c=X.getAnchor(),f=(lJ(X,b)&&(A=0),X.getElevation()),S=X.getTall()*X.getScaleTall(),f=((Q.e||0)-V.s("edge."+R+".offset.elevation")-f)/S+.5,V=X.getScale();return A||V.x<0||V.y<0?(R=X.getMatrix().tfi(Q),S=X.getSize(),{x:R.x/S.width+c.x,y:R.y/S.height+c.y,e:f}):(A=j_(b,X),{x:(Q.x-A.x)/A.width,y:(Q.y-A.y)/A.height,e:f})},Q.prototype._handlePanning=function(V){var R,Q,X,b,A=this._pan;A&&(A.started=!0,Q=(R=this._interactor).gv,X=R._lastClientPoint,b=Ps(V),b=Aq(Q,b,X),Q.setTranslate(A.tx+b.x,A.ty+b.y),this.gatherSingleTarget(R.gv,this.target),R._42(),R.fi({kind:"betweenPan",event:V}))},Q.prototype.handleEdit=function(V,R){var Q,X,b,A,c,f,S,F,D,P,N,q,L,e,J,s,l,H,K=this,y=K.editing;if(K._pan)K._handlePanning(R);else{if(K._multiSelect)return K._multiSelect.endPoint=V.lp(R),void K._interactor.redraw();y&&(y.inEdit=!0,X=K._interactor._getLogicalPoint(R),e=I.Default.isCtrlDown(R),F=I.Default.isShiftDown(R),J=y.type,Q=K.activing,K._guideInfo=null,"ctrlPoint"===J&&F?(D=K.editing.direction.clone(),N=Q.point,L=D.dot(X.clone().sub(N)),X=D.setLength(L).add(N)):"ctrlPoint"!==J&&"realPoint"!==J||("realPoint"===J&&F&&(b=(F=K.editing.shiftGuide).point,q=Math.abs(X.x-b.x),(s=Math.abs(X.y-b.y))<q&&q>F.limit&&"y"===F.dir&&(F.dir="x"),q<s&&s>F.limit&&"x"===F.dir&&(F.dir="y"),"x"===(D=F.dir)?(X.y=b.y,F.limit=Math.max(F.limit,q)):"y"===D&&(X.x=b.x,F.limit=Math.max(F.limit,s))),e||((q=K._isEditEdgeSourceTarget())&&(P=X.clone()),F=K._guidingToEdit(X,D),l=s=1/0,(J="realPoint"===J?K._interactor.gridGuide.findClosest(X,D,!0):null)&&(J.x&&(s=J.x),J.y&&(l=J.y)),D=!1,F&&(F.xList&&(Math.abs(F.x)<=Math.abs(s)?(D=!0,s=F.x):delete F.xList),F.yList&&(Math.abs(F.y)<=Math.abs(l)?(D=!0,l=F.y):delete F.yList),D&&(K._guideInfo=F)),isFinite(s)&&(X.x+=s),isFinite(l)&&(X.y+=l),D&&(F.v=X),q&&(J=D?X.clone():null,X.copy(P),(s=K._editEdgeSourceTarget(q,X,e,J))&&(H=(K.edgeEditResult=s).tipText,s.isFixed&&(K._guideInfo=null))))),A=K.screenInfo.curve,"realPoint"===y.type?((N=y.point).e!==N8&&(X.e=N.e),A.moveRealPoint(N,X),y.point=X,K.highlight.point=X,l=Q.status,c=Q.selections,K.activing={point:X,status:l},c&&(f=X.clone().sub(N),S=0,c.forEach(function(V){var R=V.clone().add(f);A.moveRealPoint(V,R),c[S++]=R}),K.activing.selections=c)):"ctrlPoint"===y.type?(F=Q.pairs[y.pairId],A.moveCtrlPoint(F,X,y.ctrlType),((D=Q.status)===(P=E.Curve.PointType).Mirrored||D===P.Asymmetric)&&F.c1&&F.c2&&(N=new E.Math.Vector2(Q.point),q="c1"===y.ctrlType?"c2":"c1",D===E.Curve.PointType.Mirrored?A.moveCtrlPoint(F,N.clone().multiplyScalar(2).sub(X),q):D===P.Asymmetric&&(L=F[q].clone().sub(N).length(),e=N.clone().sub(F[y.ctrlType]).setLength(L).add(N),isNaN(e.x)||A.moveCtrlPoint(F,e,q))),Q._firePointChange()):"elevation"===y.type&&(J=(b=y.startPoint).e+(b.y-X.y)/V._zoom,K._setCurrentPointImpl("e",J),Q._firePointChange(),H="E: "+E.toFixed(J)),(s=I.Default.getLogicalPoint(R,K._interactor._canvas)).x+=E.Icons.TipShiftX,s.y+=E.Icons.TipShiftY,H||(l=E.toWorldPosition(V,X),H=E.toFixed(l.x)+", "+E.toFixed(l.y)),K.tipInfo={helperPos:s,text:H,size:H.length},K._writeToHt(),K._interactor.fi({kind:"betweenEditPoint",event:R}))}},Q.prototype._setCurrentPointImpl=function(V,R){var Q=this._activing;if(!Q)return!1;var X=this.target;if(!X)return!1;var b=Q.getCurrentEditingPoint();if(!b)return!1;var A,c,f,S,F,D,P=Q.editingCtrl;return P||(A=b.clone()),"e"===V?b.e=R:("x"===V||"y"===V?(c=Q._lastFirePoint,c="x"===V?{x:R,y:c?c.y:0}:{x:c?c.x:0,y:R}):"object"==typeof V?(c=V).e!==N8&&(b.e=V.e):(c={x:V,y:R},arguments[2]!==N8&&(b.e=arguments[2])),V=E.getDataMatrix(X),c=E.toScreenPosition(this._interactor.gv,V.apply(c)),b.x=c.x,b.y=c.y),P||(f=A.multiplyScalar(-1).add(b),PJ(b.e)&&PJ(A.e)&&(f.e=b.e-A.e),(S=this.screenInfo.curve).moveCtrlDueToRealPointMovement(b,f),(F=Q.selections)&&(D=0,F.forEach(function(V){var R=V.clone().add(f);isFinite(f.e)&&(R.e=(isFinite(V.e)?V.e:X.getElevation()||0)+f.e),S.moveRealPoint(V,R),F[D++]=R}),Q.selections=F)),!0},Q.prototype.setCurrentPoint=function(V,R){return!!this._setCurrentPointImpl(V,R)&&(this._writeToHt(),!0)},Q.prototype._isEditEdgeSourceTarget=function(){if(!(this.target instanceof I.Edge))return!1;var V=this.editing.point,R=this.screenInfo.curve._curves;return V===R[0]._p1?"source":V===R[R.length-1]._p4&&"target"},Q.prototype._editEdgeSourceTarget=function(R,V,Q,X){var b,A,c,f,S,F,D,P,N,q=this,L=q.target;if(c="source"===R?L.getSourceAgent():L.getTargetAgent())return b=q._interactor.gv,S=E.toWorldPosition(b,V),(F=(F=(A=q._calcHostAnchor(L,R,S,c)).index!==N8||A.percent!==N8?A.distance*b.getZoom()>q._interactor.getStyle("edgeHostEdgeMaxDistance"):!!q._interactor.getStyle("edgeHostDetectPerFrame")||A.x<0||1<A.x||A.y<0||1<A.y)&&b.getDataAt(S,function(V){return!!b.isSelectable(V)&&!!b.isSourceTargetEditable(L,V,R)&&!!L.canSetSourceTarget(V,R)}))&&(D=q._calcHostAnchor(L,R,S,F),q._nextChangeEdgeHost={type:R,host:c=F},A=D),F=!1,Q||A.x===N8?A.percent===N8&&A.index===N8||(F=!0,f=A.point):(D=q._interactor.getStyle("anchorRound"),Q=q._interactor.getStyle("anchorSensitivity"),(P=b.calculateAttachPoint(c,S))?(A=P.info,F=!0):((A=X?q._calcHostAnchor(L,R,E.toWorldPosition(b,X),c):A).x=E.roundTo(A.x,D,Q),A.y=E.roundTo(A.y,D,Q)),f=Xq(b,c,0,A.offsetX||0,A.offsetY||0,A.x,A.y)),f&&(S=E.toScreenPosition(b,f),V.x=S.x,V.y=S.y),q._edgeHostGuideInfo={corners:E.getTargetCornersOnScreen(b,c),attach:P?P.index:-1,host:c},A.percent!==N8?N="percent: "+A.percent.toFixed(2):A.index!==N8?N="index: "+A.index:(N=A.x.toFixed(2)+", "+A.y.toFixed(2),(A.offsetX||A.offsetY)&&(N+=" offset: "+A.offsetX.toFixed(2)+", "+A.offsetY.toFixed(2))),{host:c,anchor:A,tipText:N,isFixed:F}},Q.prototype._guidingToEdit=function(V,R){if(L=this.screenInfo.curve){var Q,X,b,A,c,f,S,F,D=L._curves,P=1/0,N=1/0,q=[];for(this.editing&&"realPoint"===this.editing.type&&(F=this.editing.point),c=0,f=2*D.length;c<f;c++)S=D[Math.floor(c/2)][c%2?"_p4":"_p1"],0<=q.indexOf(S)||(q.push(S),F&&F===S||(b=S.x-V.x,A=S.y-V.y,Math.abs(b)<Math.abs(P)?(P=b,Q=[S]):b===P&&Q.push(S),Math.abs(A)<Math.abs(N)?(N=A,X=[S]):A===N&&X.push(S)));var L=this._interactor.getStyle("smartGuideThreshold");if((Math.abs(P)>L||"y"===R)&&(Q=null),(Math.abs(N)>L||"x"===R)&&(X=null),(Q||X)&&(L=!1,R={},Q&&(L=!0,R.xList=Q,R.x=P),X&&(L=!0,R.yList=X,R.y=N),L))return R}},Q.prototype._46O=function(V){var R,Q,X,b=this;b.editing&&((X=b._isEditEdgeSourceTarget())&&(R=b.screenInfo.P,Q=b.activing.point,"source"===X?(Q.x=R[0],Q.y=R[1]):(X=R.length,Q.x=R[X-2],Q.y=R[X-1])),b.editing=null,b._interactor.fi({kind:"endEditPoint",event:V})),b._guideInfo=null,b._edgeHostGuideInfo=null,b._pan&&(b._pan=null,b._interactor.fi({kind:"endPan",event:V})),b._multiSelect&&(b._handleMultiSelect(b._multiSelect,V),b._multiSelect=null),b.tipInfo=null,b.edgeEditResult=null},Q.prototype._handleMultiSelect=function(V,R){if(V.startPoint&&V.endPoint){for(var Q,X,b,A,c=this._interactor,f=c.gv,S=E.toScreenPosition(f,V.startPoint),f=E.toScreenPosition(f,V.endPoint),F=I.Default.unionPoint(S,f),D=this.screenInfo.curve._curves,P=[],N=function(V){V.x>=F.x&&V.y>=F.y&&V.x<=F.x+F.width&&V.y<=F.y+F.height&&P.indexOf(V)<0&&P.push(V)},q=0,L=D.length;q<L;q++)N((b=D[q])._p1),N(b._p4);if(P.length){var e=(V=this.activing||{}).selections||[],J=(V.point&&e.push(V.point),I.Default.isShiftDown(R)),s=R.altKey;if(s&&!J)for(A=P,P=[],q=0,L=A.length;q<L;q++)Q=A[q],0<=(X=e.indexOf(Q))&&P.push(Q);for(q=0,L=e.length;q<L;q++)Q=e[q],0<=(X=P.indexOf(Q))?J&&!s||(P[X]=N8):P.push(Q);for(A=P,P=[],q=0,L=A.length;q<L;q++)A[q]&&P.push(A[q]);0===(L=P.length)?this.activing=null:1===L?this.activing={point:P[0]}:(Q=P[L-1],this.activing={point:Q,selections:P.splice(0,L-1)}),c.redraw()}}},Q.prototype._canDeletePoint=function(V,R){if(!(this.target instanceof I.Edge))return!0;var Q=V._curves[0],V=V._curves[V._curves.length-1];return Q._p1!==R&&V._p4!==R},Q.prototype.handleDelete=function(){var R,Q,X=this;X.activing&&X.screenInfo&&(R=I.Default.isShiftDown(),Q=X.screenInfo.curve,X._canDeletePoint(Q,X.activing.point)&&Q.deleteRealPoint(X.activing.point,R),X.activing.selections&&X.activing.selections.forEach(function(V){X._canDeletePoint(Q,V)&&Q.deleteRealPoint(V,R)}),X.activing=null,delete X.editing,delete X.tipInfo,delete X.edgeEditResult,delete X._pan,delete X._multiSelect,X._writeToHt(),X._interactor.fp("deleteShapePoint",!1,!0))},Q.prototype.handleDoubleClick=function(V){var R,V=this._interactor._getLogicalPoint(V);if(this.screenInfo&&this._checkEditRealPoint(V))return V=(V=this.getCurrentSelectintStatus())===(R=E.Curve.PointType).Mirrored?R.Straight:R.Mirrored,this._setCurrentSelectionStatus(V),this._interactor._42(),!0},Q.prototype._drawHighlight=function(V){var R,Q,X=this.highlight;X&&(Q=X.bezier,R=this._interactor,Q&&E.Icons.DrawIcon(R,V,E.Icons.ShapeHighlightCurve,[Q._p1.x,Q._p1.y,Q._p2.x,Q._p2.y,Q._p3.x,Q._p3.y,Q._p4.x,Q._p4.y]),(Q=X.point)&&"insertKnot"===X.type&&E.Icons.DrawIcon(R,V,E.Icons.ShapeHighlighPoint,Q))},Q.prototype._drawGuide=function(V){var R=this._guideInfo;if(R)for(var Q,X,b,A=R.v,c=0;c<2;c++)if(b=0===c?R.xList:R.yList)for(Q=0,X=b.length;Q<X;Q++)E.Icons.DrawIcon(this._interactor,V,E.Icons.ShapeGuideLine,[A.x,A.y,b[Q].x,b[Q].y])},Q.prototype._drawCurrentPoint=function(R){if(this.activing){var V=this.activing,Q=this.getCurrentSelectintStatus(),X=this._interactor;if(Q!==E.Curve.PointType.Straight){var b=V.pairs,A=(V.hlpair,V.hltype,V.selections),c=V.editingCtrl;if(b&&!A)for(var f,S=0,F=b.length;S<F;S++)f=b[S],c&&S===c.pairId&&f[c.type]?E.Icons.DrawIcon(X,R,E.Icons.ShapeActivingCtrl,{point:f.point,c1:f.c1,c2:f.c2,hl:c.type}):E.Icons.DrawIcon(X,R,E.Icons.ShapeActivingCtrl,f)}E.Icons.DrawIcon(X,R,E.Icons.ShapeHighlighRealPoint,this.activing.point),A&&A.forEach(function(V){E.Icons.DrawIcon(X,R,E.Icons.ShapeHighlighRealPoint,V)})}},Q.prototype.clear=function(){this.editing=null,this._guideInfo=null,this.activing=null,this.highlight=null},Q.prototype._42=function(R){var V=this,Q=(V.info={},V.editing||(V.screenInfo=null),V._interactor);if(Q.editDetail){var X,b,A=Q.gv;if(!V.target||!A.isSelected(V.target)||!A.isVisible(V.target))return Q.editDetail=!1,void V.clear();V.gatherSingleTarget(A,V.target),E.Icons.DrawIcon(Q,R,E.Icons.ShapeBgCurve,V.screenInfo),V._interactor.getStyle("curveElevationVisible")&&(V.target instanceof I.Polyline||V.target instanceof I.Edge&&V._interactor.getStyle("edgeElevationEditable"))&&V.activing&&(X=V.activing.getCurrentEditingPoint())&&"string"!=typeof X.e&&E.Icons.DrawIcon(Q,R,E.Icons.EdgeElevationGuide,X),V._drawHighlight(R),V._drawCurrentPoint(R),V._getRealPoint().forEach(function(V){E.Icons.DrawIcon(Q,R,E.Icons.ShapePoint,V)}),V._drawGuide(R),V.tipInfo&&V._interactor.getStyle("curveTipVisible")&&E.Icons.DrawIcon(Q,R,E.Icons.TipHelper,V.tipInfo),V._edgeHostGuideInfo&&Q._drawHostGuide(V._edgeHostGuideInfo),V.edgeEditResult&&V._drawEdgeHostHighlight(R,V.edgeEditResult.host,V.edgeEditResult.anchor),V._multiSelect&&V._multiSelect.endPoint&&((X=I.Default.unionPoint(E.toScreenPosition(A,V._multiSelect.startPoint),E.toScreenPosition(A,V._multiSelect.endPoint))).color=A.getRectSelectBorderColor(),R.save(),R.setTransform(1,0,0,1,0,0),A=L8.devicePixelRatio,b=X.borderWidth=Math.round(A),b/=2,X.x=Math.round(X.x*A)+b,X.y=Math.round(X.y*A)+b,X.width=Math.round(X.width*A),X.height=Math.round(X.height*A),E.Icons.DrawIcon(Q,R,E.Icons.SimpleRect,X),R.restore())}else V.clear()},Q.prototype._drawEdgeHostHighlight=function(V,R,Q){this.drawEdgeHostHighlight(V,R,Q),this._interactor.redraw()},Q.prototype.drawEdgeHostHighlight=function(V,R,Q){if(JJ(R)){for(var X,b,A=this._interactor,c=A.gv,R=c.getDataUI(R),f=sq(R),S=[],F=0,D=f.points.length;F<D;F++)b=E.toScreenPosition(c,f.points.get(F)),S.push(b.x,b.y);f.segments&&(X=f.segments.toArray());for(var P=A.getStyle("edgeHostHighlighPeriod"),N=A.getStyle("edgeHostEdgeHighlighColor"),q=(E.Icons.DrawIcon(A,V,E.Icons.ShapeBgCurve,{P:S,S:X,color:N,dynamicVisible:Q.index===N8,dynamicPeriod:P}),N=A.getStyle("edgeHostPointHighlighColor"),gq(R)),F=0,D=q.length;F<D;F++){var L=q[F],L=E.toScreenPosition(c,L);E.Icons.DrawIcon(A,V,E.Icons.ShapePoint,{point:{x:L.x,y:L.y},color:N,size:12,dynamicVisible:F===Q.index,dynamicPeriod:P})}}},Q.prototype._getRealPoint=function(){var Q,V=this.screenInfo,X=V.P,b=V.S,A=-1,c=[],f=-1,S=b.length;return b.each(function(V){f++;var R=1;if(3===V)R=2;else if(4===V)R=3;else if(5===V)return;A+=R,Q=S<=f+1||1===b.get(f+1),c.push({point:{x:X[2*A],y:X[2*A+1]},segmentIndex:f,pointIndex:A,isEnd:Q})}),c},Q.prototype.getEditingPointsInfo=function(V){var R=this,Q=R.activing;if(!Q)return!1;var X=Q.point;if(!X)return!1;var b=this._getRealPoint(),A=[{screen:X}];Q.selections&&Q.selections.forEach(function(V){A.push({screen:V})});var c,f,S=b.length;return A.forEach(function(V){for(c=0;c<S;c++)if(f=b[c],V.screen.isNearEnough(f.point)){V.segmentIndex=f.segmentIndex,V.pointIndex=f.pointIndex,V.point=R.target.getPoints().get(f.pointIndex);break}}),V&&A.sort(function(V,R){return V.segmentIndex-R.segmentIndex}),A};(((R=E.MoveHelper=function(V){this.catalog="Move",this._interactor=V}).prototype={}).constructor=R).prototype.calcShift=function(V,R,Q){var X,b=this,A=b._interactor.gv,c=A.lp(R);if("beginMove"===V&&b._gatherGridInfo(Q._lastLogicalPoint||c),V=b._target){if(Q=V.downPosition){var f=b._interactor.getStyle("moveSensitivity")/A._zoom;if(Q.distanceTo(c)<f)return{x:0,y:0};delete V.downPosition}I.Default.isShiftDown(R)&&(c=b._dealShiftDown(c),X=V.shiftGuide.dir);var S,Q=V.rawPos={x:V.pos.x+c.x-V.lp.x,y:V.pos.y+c.y-V.lp.y},c=!0;if((f=b._interactor.getStyle("moveHelperFilter"))&&(c=f(V.node instanceof E.Group?V.node._entities:[V.node])),I.Default.isCtrlDown(R)||!c)return S=b._calcShiftByAddon(),b._target.node instanceof E.Group&&((D=b._target.node)._position.x+=S.x,D._position.y+=S.y),S;if(f=b._interactor.rectGuide,V.node instanceof I.Data&&V.node.s("2d.attachable")&&(R=b._calcAttachNodeShift(V.node,Q),f.clear(),R))return R;for(var F,D,P=V.x+Q.x,N=V.y+Q.y,c={x:P,y:N},R={x:P+V.w/2,y:N+V.h/2},q={x:P+V.w,y:N+V.h},L=b._interactor.gridGuide,e=[f.findClosest(c,X),f.findClosest(R,X),f.findClosest(q,X),L.findClosest(c,X),L.findClosest(R,X),L.findClosest(q,X)],J=1/0,s=1/0,l=0,H=e.length;l<H;l++)(F=e[l])&&(P=F.x,N=F.y,isFinite(P)&&Math.abs(P)<Math.abs(J)&&(J=P),isFinite(N)&&Math.abs(N)<Math.abs(s)&&(s=N));return isFinite(J)||(J=0),isFinite(s)||(s=0),S=b._calcShiftByAddon(J,s),b._target.node instanceof E.Group&&((D=b._target.node)._position.x+=S.x,D._position.y+=S.y),f=V.node,lJ(f,A)||b._interactor.rectGuide.gatherLines({node:f,x:V.x+(Q.x+J),y:V.y+(Q.y+s),w:V.w,h:V.h},X),S}},R.prototype._calcShiftByAddon=function(V,R){var Q=(X=this._target).rawPos,X=X.node.getPosition();return{x:Q.x-X.x+(V=V||0),y:Q.y-X.y+(R=R||0)}},R.prototype._dealShiftDown=function(V){var R=this._target.shiftGuide,Q=this._target.lp,X=Math.abs(V.x-Q.x),b=Math.abs(V.y-Q.y),A=(b<X&&X>R.limit&&"y"===R.dir&&(R.dir="x"),X<b&&b>R.limit&&"x"===R.dir&&(R.dir="y"),R.dir);return"x"===A?(V.y=Q.y,R.limit=Math.max(R.limit,X)):"y"===A&&(V.x=Q.x,R.limit=Math.max(R.limit,b)),V},R.prototype._isAttachableLineShape=function(V){if(!V.getSegments)return!1;var R=V.getSegments();if(!R)return!0;for(var Q=1,X=(R=R instanceof I.List?R.getArray():R).length;Q<X;Q++)if(2!==R[Q])return!1;return!0},R.prototype._calcAttachNodeShift=(OI=new W,wI=new W,aI=new W,iI=new W,function(V,R){var Q=this._interactor.gv,X=V.getHost(),b=Q.getDataAt(R,function(V){return!!V.s("2d.hostable")});if(b&&X!==b&&V.setHost(b),!b)return this._edgeHostGuideInfo=null,V.setHost(null);var A,c,X=this._edgeHostGuideInfo={corners:E.getTargetCornersOnScreen(Q,b),host:b,attach:-1};if(!this._isAttachableLineShape(b))return(A=Q.calculateAttachPoint(b,R))?(c=A.point,X.attach=A.index,this._calcShiftByAddon(c.x-R.x,c.y-R.y)):void 0;for(var f,S,F,D,P,N,q=b.getPoints(),L=q.size(),e=b.getPointsMatrix2d(),J=1/0,s=0;s<L&&(s!==L-1||b.isClosePath());s++)0!==s?wI.copy(aI):e.apply(q.get(s),wI),e.apply(s===L-1?q.get(0):q.get(s+1),aI),OI.copy(R).sub(wI),iI.copy(aI).sub(wI),f=iI.length(),iI.divideScalar(f),(S=OI.dot(iI))<0?S=0:f<S&&(S=f),iI.multiplyScalar(S).add(wI),(F=OI.copy(R).sub(iI).lengthSq())<J&&(J=F,N=s,D=S,P=f);return Math.sqrt(J)*Q.getZoom()>this._interactor.getStyle("attachThreshold")?(V.s({"attach.index":-1}),void V.setHost(null)):(V.s("attach.offset.opposite")&&(D=P-D),V.s({"attach.index":N,"attach.offset":V.s("attach.offset.relative")?D/P:D}),{x:0,y:0})}),R.prototype._gatherGridInfo=function(V){var R,Q,X=this._interactor;if((b=X._getValidSelection()).length){if(1===b.length){if(!(R=b[0]).getRect)return void(this._target=null)}else if(!(R=E.Group.findOrCreateGroup(b,X._uuid)))return void(this._target=null)}else{var b=X.gv.sm().getSelection();if(b.length&&!(R=b.get(0)).getRect)return void(this._target=null)}R&&(b=R.getPosition(),Q=R.getRect(),this._target={node:R,x:Q.x-b.x,y:Q.y-b.y,w:Q.width,h:Q.height,lp:{x:V.x,y:V.y},pos:{x:b.x,y:b.y},shiftGuide:{dir:"x",limit:0},downPosition:new E.Math.Vector2(V)},X.rectGuide.gatherRects())},R.prototype.clear=function(){this._edgeHostGuideInfo=null,this._interactor.rectGuide.clear(),this._interactor._42()},R.prototype._42=function(){var V=this._edgeHostGuideInfo;V&&this._interactor._drawHostGuide(V)};var _I,OI,wI,aI,iI,nI,MI,rI,EI,$I,jI,CI,vI,hI,TI,WI,UI,pI,II,ZI,kI,xI,BI,GI,dI,Vv,Rv,Qv,Xv,bv,Av,cv,fv,Sv,Fv,Dv,Pv,Nv,qv,Lv,ev,Jv,sv,lv,Hv,Kv,yv,tv,gv,mv,zv,Yv,uv,ov,_v,Ov,wv,av,iv,nv,Mv,rv,Ev,$v,jv,Cv,vv,hv,Tv,Wv,Uv,pv,Iv,Zv,kv,xv,Bv,Gv,dv,Vi,Ri,Qi,Xi,bi,Ai,ci,fi,Si,Fi,Di,Pi,Ni,qi,Li,ei,Ji,si,li,Hi,Ki,yi,ti,gi,mi,zi,Yi,ui,oi,_i,Oi,wi,ai,ii,ni,Mi,ri,Ei,$i,ji,Ci,vi,hi,Ti,Wi,Ui,pi,Ii,Zi,ki,xi,Bi,Gi,di,V1,R1,Q1,X1,b1,A1,c1,f1,S1,F1,D1,P1,N1,q1,L1,e1,J1,s1,l1,H1,K1,y1,t1,g1,m1,z1,Y1,u1,o1,_1,O1,w1,a1,i1,n1,M1,r1,E1,$1,j1=I.WebGLConstants=v.freeze({DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,HALF_FLOAT_OES:36193,DOUBLE:5130,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047}),C1=(nI="undefined"!=typeof WebGL2RenderingContext,MI={aliasedLineWidthRange:33902,aliasedPointSizeRange:33901,maxCombinedTextureImageUnits:35661,maxCubeMapTextureSize:34076,maxFragmentUniformVectors:36349,maxRenderBufferSize:34024,maxTextureImageUnits:34930,maxTextureSize:3379,maxVaryingVectors:36348,maxVertexAttribs:34921,maxVertexTextureImageUnits:35660,maxVertexUniformVectors:36347,maxViewportDIMs:3386},rI={max3DTextureSize:32883,maxArrayTextureLayers:35071,maxColorAttachments:36063,maxCombinedFragmentUniformComponents:35379,maxCombinedUniformBlocks:35374,maxCombinedVertexUniformComponents:35377,maxDrawBuffers:34852,maxElementIndex:36203,maxElementsIndices:33001,maxElementsVertices:33e3,maxFragmentInpuComponents:37157,maxFragmentUniformBlocks:35373,maxFragmentUniformComponents:35657,maxProgramTexelOffset:35077,maxSamples:36183,maxTextureLODBias:34045,maxTransformFeedbackInterleavedComponents:35978,maxTransformFeedbackSeparateAttribs:35979,maxTransformFeedbackSeparateComponents:35968,maxUniformBlockSize:35376,maxUniformBufferBindings:35375,maxVaryingComponents:35659,maxVertexOutputComponents:37154,maxVertexUniformBlocks:35371,maxVertexUniformComponents:35658,minProgramTexelOffset:35076},{for:function(V){var R=V._info;return R||(V._info=R=function(X,V){(V=V==N8?{}:V).version=nI&&(X instanceof WebGL2RenderingContext||"[object WebGL2RenderingContext]"===v.prototype.toString.call(X))?2:1,V.extensions=function(){for(var V={},R=X.getSupportedExtensions(),Q=R.length;Q--;)V[R[Q]]=function(V,R){var Q=N8;return function(){return Q=Q||V.getExtension(R)}}(X,R[Q]);return V}();for(var R=v.keys(MI),Q=0,b=R.length;Q<b;++Q)V[A=R[Q]]=X.getParameter(MI[A]);if(1<V.version)for(var A,Q=0,b=(R=v.keys(rI)).length;Q<b;++Q)V[A=R[Q]]=X.getParameter(rI[A]);return V}(V,R)),R}}),v1=(EI="undefined"!=typeof Float32Array&&new Float32Array(4),j8={viewport:{def:[0,0,NaN,NaN],getter:function(V){return V.getParameter(2978)},setter:function(V,R){var Q=R[2]!=R[2]?V.drawingBufferWidth-R[0]:R[2],X=R[3]!=R[3]?V.drawingBufferHeight-R[1]:R[3];V.viewport(R[0],R[1],Q,X)}},dither:{def:!1,getter:function(V){return V.isEnabled(3024)},setter:function(V,R){R?V.enable(3024):V.disable(3024)}},rasterizerDiscard:{def:!1,getter:function(V){return 1<C1.for(V).version&&V.isEnabled(35977)},setter:function(V,R){1!==C1.for(V).version&&(R?V.enable(35977):V.disable(35977))}},lineWidth:{def:1,getter:function(V){return V.lineWidth?V.getParameter(2849):1},setter:function(V,R){V.lineWidth&&V.lineWidth(R)}},color:{clear:{def:[0,0,0,0],getter:function(V){return V.getParameter(3106)},setter:function(V,R){V.clearColor(R[0],R[1],R[2],R[3])},parse:Rn},mask:{def:[!0,!0,!0,!0],getter:function(V){return V.getParameter(3107)},setter:function(V,R){V.colorMask(R[0],R[1],R[2],R[3])}}},blend:{enabled:{def:!1,getter:function(V){return V.isEnabled(3042)},setter:function(V,R){R?V.enable(3042):V.disable(3042)}},color:{def:[0,0,0,0],getter:function(V){return V.getParameter(32773)},setter:function(V,R){V.blendColor(R[0],R[1],R[2],R[3])},parse:Rn},equation:{def:[32774,32774],getter:function(V){return[V.getParameter(32777),V.getParameter(34877)]},setter:function(V,R){V.blendEquationSeparate(R[0],R[1])},parse:function(V){var R=V.length;return 1<R?V:(EI[1]=EI[0]=1===R?V[0]:V,EI)}},func:{def:[1,j1.ZERO,1,j1.ZERO],getter:function(V){return[V.getParameter(32969),V.getParameter(32968),V.getParameter(32971),V.getParameter(32970)]},setter:function(V,R){V.blendFuncSeparate(R[0],R[1],R[2],R[3])},parse:function(V){return 3<V.length?V:(EI[2]=EI[0]=V[0],EI[3]=EI[1]=V[1],EI)}}},cullFace:{enabled:{def:!1,getter:function(V){return V.isEnabled(2884)},setter:function(V,R){R?V.enable(2884):V.disable(2884)}},mode:{def:1029,getter:function(V){return V.getParameter(2885)},setter:function(V,R){V.cullFace(R)}},frontFace:{def:2305,getter:function(V){return V.getParameter(2886)},setter:function(V,R){V.frontFace(R)}}},scissor:{enabled:{def:!1,getter:function(V){return V.isEnabled(3089)},setter:function(V,R){R?V.enable(3089):V.disable(3089)}},box:{def:[0,0,NaN,NaN],getter:function(V){return V.getParameter(3088)},setter:function(V,R){var Q=R[2]!=R[2]?V.drawingBufferWidth-R[0]:R[2],X=R[3]!=R[3]?V.drawingBufferHeight-R[1]:R[3];V.scissor(R[0],R[1],Q,X)}}},depth:{enabled:{def:!1,getter:function(V){return V.isEnabled(2929)},setter:function(V,R){R?V.enable(2929):V.disable(2929)}},clear:{def:1,getter:function(V){return V.getParameter(2931)},setter:function(V,R){V.clearDepth(R)}},mask:{def:!0,getter:function(V){return V.getParameter(2930)},setter:function(V,R){V.depthMask(R)}},range:{def:[0,1],getter:function(V){return V.getParameter(2928)},setter:function(V,R){V.depthRange(R[0],R[1])}},func:{def:513,getter:function(V){return V.getParameter(2932)},setter:function(V,R){V.depthFunc(R)}}},stencil:{enabled:{def:!1,getter:function(V){return V.isEnabled(2960)},setter:function(V,R){R?V.enable(2960):V.disable(2960)}},clear:{def:0,getter:function(V){return V.getParameter(2961)},setter:function(V,R){V.clearStencil(R)}},frontMask:{def:255,getter:function(V){return V.getParameter(2968)},setter:function(V,R){V.stencilMaskSeparate(1028,R)}},frontOp:{def:[7680,7680,7680],getter:function(V){return[V.getParameter(2964),V.getParameter(2965),V.getParameter(2966)]},setter:function(V,R){V.stencilOpSeparate(1028,R[0],R[1],R[2])}},frontFunc:{def:[519,0,255],getter:function(V){return[V.getParameter(2962),V.getParameter(2967),V.getParameter(2963)]},setter:function(V,R){V.stencilFuncSeparate(1028,R[0],R[1],R[2])}},backMask:{def:255,getter:function(V){return V.getParameter(36005)},setter:function(V,R){V.stencilMaskSeparate(1029,R)}},backOp:{def:[7680,7680,7680],getter:function(V){return[V.getParameter(34817),V.getParameter(34818),V.getParameter(34819)]},setter:function(V,R){V.stencilOpSeparate(1029,R[0],R[1],R[2])}},backFunc:{def:[519,0,255],getter:function(V){return[V.getParameter(34816),V.getParameter(36003),V.getParameter(36004)]},setter:function(V,R){V.stencilFuncSeparate(1029,R[0],R[1],R[2])}}},hint:{generateMipmap:{def:4352,getter:function(V){return V.getParameter(33170)},setter:function(V,R){V.hint(33170,R)}},fragmentShaderDerivative:{def:4352,getter:function(V){var R=C1.for(V);return 1!==R.version||R.extensions.OES_standard_derivatives?V.getParameter(35723):4352},setter:function(V,R){var Q=C1.for(V);(1<Q.version||Q.extensions.OES_standard_derivatives)&&V.hint(35723,R)}}},pixelStore:{packAlignment:Vn(4,3333,!1),unpackAlignment:Vn(4,3317,!1),unpackFlipY:Vn(!1,37440,!1),unpackPremultiplyAlpha:Vn(!1,37441,!1),unpackColorspaceConversion:Vn(37444,37443,!1),packRowLength:Vn(0,3330,!0),packSkipPixels:Vn(0,3332,!0),packSkipRows:Vn(0,3331,!0),unpackRowLength:Vn(0,3314,!0),unpackImageHeight:Vn(0,32878,!0),unpackSkipPixels:Vn(0,3316,!0),unpackSkipRows:Vn(0,3315,!0),unpackSkipImages:Vn(0,32877,!0)},polygonOffset:{enabled:{def:!1,getter:function(V){return V.isEnabled(32823)},setter:function(V,R){R?V.enable(32823):V.disable(32823)}},value:{def:[0,0],getter:function(V){return[V.getParameter(32824),V.getParameter(10752)]},setter:function(V,R){V.polygonOffset(R[0],R[1])}}},sampleCoverage:{enabled:{def:!1,getter:function(V){return V.isEnabled(32928)},setter:function(V,R){R?V.enable(32928):V.disable(32928)}},alpha:{def:!1,getter:function(V){return V.isEnabled(32926)},setter:function(V,R){R?V.enable(32926):V.disable(32926)}},value:{def:[1,!1],getter:function(V){return[V.getParameter(32938),V.getParameter(32939)]},setter:function(V,R){V.sampleCoverage(R[0],R[1])}}}},j8=g_.create(j8,function(V){return"def"in V}),Xn.prototype.reset=function(){for(var V=this._struct.children,R=V.length;R--;){var Q=V[R],X=Q.name;Q.isLeaf?this[X]=Q.desc.def:this._branches[X].reset()}},Xn.prototype.save=function(V){V==N8&&(V={});for(var R=this._struct.children,Q=R.length;Q--;){var X=R[Q],b=X.name;X.isLeaf?V[b]=Qn(this._record[b]):((X=V[b])==N8&&(V[b]=X={}),this._branches[b].save(X))}return V},Xn.prototype.sync=function(V,R){for(var Q=this._struct.children,X=Q.length;X--;){var b=Q[X],A=b.name;b.isLeaf?!R&&this._leafSync[A]||(V?this._record[A]=b.desc.getter(this.gl):b.desc.setter(this.gl,this._record[A]),this._leafSync[A]=!0):this._branches[A].sync(V,R)}},Xn.prototype.syncLoss=function(){for(var V=this._struct.children,R=V.length;R--;){var Q=V[R];Q.isLeaf?this._leafSync[Q.name]=!1:this._branches[Q.name].syncLoss()}},Xn.prototype.apply=function(V){for(var R=this._struct.children,Q=R.length;Q--;){var X=R[Q],b=X.name;b in V&&(X.isLeaf?this[b]=V[b]:this._branches[b].apply(V[b]))}},Xn.prototype.append=function(V){var R,Q=this._struct.childMap;for(R in V){var X=Q[R];X&&(X.isLeaf?this[R]=V[R]:this._branches[R].append(V[R]))}},$I=function f(b){var S=[];function V(V,R){Xn.call(this,b,V,R);for(var Q=S.length;Q--;){var X=S[Q];this._branches[X._name]=new X._type(V,this._record[X._name])}}return jm(V,Xn),b.forEach(function(V,R){var Q,X,b=V.name,A=Cm(V.desc.def),c=A&&V.desc.def.length;V.isLeaf?(Q=V.desc.setter,X=V.desc.parse,v.defineProperty(R,b,{configurable:!1,enumerable:!0,get:function(){return this._record[b]},set:A?function(V){X&&(V=X(V)),!function(V,R){for(var Q=c,X=!1;Q--;)V[Q]!==R[Q]&&(V[Q]=R[Q],X=!0);return X}(this._record[b],V)&&this._leafSync[b]||(Q(this.gl,this._record[b]),this._leafSync[b]=!0)}:function(V){this._record[b]===V&&this._leafSync[b]||(Q(this.gl,V),this._record[b]=V,this._leafSync[b]=!0)}})):(S.push({_name:b,_type:f(V)}),v.defineProperty(R,b,{configurable:!1,enumerable:!0,get:function(){return this._branches[b]},set:function(V){this._branches[b].apply(V)}}))},V.prototype),V}(j8),function(){var S=[];if("function"==typeof Float32Array)for(var V=1;V<17;++V)S[V]=new Float32Array(V);function F(V,R,Q,X){if(V)if(V.length!=N8)for(b=0;b<X;++b)R[Q+b]=V[b];else V.toArray&&V.toArray(R,Q);else for(var b=0;b<X;++b)R[Q+b]=0}function Q(V,R,Q){var X=V[0];if("number"==typeof X)return V;var b=R*Q,A=S[b];if(A==N8&&(S[b]=A=new Float32Array(b)),0!==R){F(X,A,0,Q);for(var c=1,f=0;c!==R;++c)F(V[c],A,f+=Q,Q)}return A}function R(V,R){V.uniform1iv(this.addr,R)}function X(V,R){V.uniform2iv(this.addr,R)}function b(V,R){V.uniform3iv(this.addr,R)}function A(V,R){V.uniform4iv(this.addr,R)}var c=[0,1],f=[];function D(V,R,Q){f[V]=[R,Q]}D(5126,function(V,R){var Q=this.cache;Q[0]!==R&&(V.uniform1f(this.addr,R),Q[0]=R)},function(V,R){V.uniform1fv(this.addr,R)}),D(35664,function(V,R){var Q,R=R.x!=N8?(Q=R.x,R.y):(Q=R[0],R[1]),X=this.cache;X[0]===Q&&X[1]===R||(V.uniform2f(this.addr,Q,R),X[0]=Q,X[1]=R)},function(V,R){R=Q(R,this.size,2),V.uniform2fv(this.addr,R)}),D(35665,function(V,R){R=(R="string"==typeof R?I2(R):R).x!=N8?(Q=R.x,X=R.y,R.z):R.r!=N8?(Q=R.r,X=R.g,R.b):R.red!=N8?(Q=R.red,X=R.green,R.blue):(Q=R[0],X=R[1],R[2]);var Q,X,b=this.cache;b[0]===Q&&b[1]===X&&b[2]===R||(V.uniform3f(this.addr,Q,X,R),b[0]=Q,b[1]=X,b[2]=R)},function(V,R){R=Q(R,this.size,3),V.uniform3fv(this.addr,R)}),D(35666,function(V,R){R=(R="string"==typeof R?I2(R):R).x!=N8?(Q=R.x,X=R.y,b=R.z,R.w):R.r!=N8?(Q=R.r,X=R.g,b=R.b,R.a):R.red!=N8?(Q=R.red,X=R.green,b=R.blue,R.alpha):(Q=R[0],X=R[1],b=R[2],R[3]==q8?1:R[3]);var Q,X,b,A=this.cache;A[0]===Q&&A[1]===X&&A[2]===b&&A[3]===R||(V.uniform4f(this.addr,Q,X,b,R),A[0]=Q,A[1]=X,A[2]=b,A[3]=R)},function(V,R){R=Q(R,this.size,4),V.uniform4fv(this.addr,R)}),D(5124,function(V,R){var Q=this.cache;Q[0]!==R&&(V.uniform1i(this.addr,R),Q[0]=R)},R),D(35667,X,X),D(35668,b,b),D(35669,A,A),D(35670,function(V,R){var Q=this.cache;Q[0]!==(R=c[R?1:0])&&(V.uniform1i(this.addr,R),Q[0]=R)},R),D(35671,X,X),D(35672,b,b),D(35673,A,A),D(35674,function(V,R){var Q=S[4];Q.set(R,0),V.uniformMatrix2fv(this.addr,!1,Q)},function(V,R){V.uniformMatrix2fv(this.addr,!1,Q(R,this.size,4))}),D(35675,function(V,R){var Q=S[9];Q.set(R,0),V.uniformMatrix3fv(this.addr,!1,Q)},function(V,R){V.uniformMatrix3fv(this.addr,!1,Q(R,this.size,9))}),D(35676,function(V,R){var Q=S[16];Q.set(R,0),V.uniformMatrix4fv(this.addr,!1,Q)},function(V,R){V.uniformMatrix4fv(this.addr,!1,Q(R,this.size,16))}),D(35678,function(V,R){V.uniform1i(this.addr,this.slots[0]),V.activeTexture(33984+this.slots[0]),V.bindTexture(3553,R||V._emptyTexture)},function(V,R){V.uniform1iv(this.addr,this.slots);for(var Q=this.slots.length;Q--;)V.activeTexture(33984+this.slots[Q]),V.bindTexture(3553,R[Q]||V._emptyTexture)}),D(35680,function(V,R){V.uniform1i(this.addr,this.slots[0]),V.activeTexture(33984+this.slots[0]),V.bindTexture(34067,R||V._emptyCubeTexture)},function(V,R){V.uniform1iv(this.addr,this.slots);for(var Q=this.slots.length;Q--;)V.activeTexture(33984+this.slots[Q]),V.bindTexture(34067,R[Q]||V._emptyCubeTexture)});var l=/([\w\d_]+)(\])?(\[|\.)?/g;function H(V,R,Q,X,b){this.name=V,this.addr=R,this.cache=[],this.size=X?Q.size:0,this.activeInfo=Q,this.setter=f[Q.type][X?1:0],this.slots=function(V,R,Q){switch(V.type){case 35678:case 35680:if("uSampler"===Q)return[0];if("uBlendSampler"===Q)return[1];for(var X=V.size,b=new Int32Array(X),A=0;A<X;++A)b[A]=R.usedTextureSlot++;return b}return N8}(Q,b,V),t_(this)}function K(V,R,Q){this.gl=R,this._program=Q,this._leaves={},this._branches={},this._struct=V}function P(V,R){for(var Q=V.getProgramParameter(R,35718),X={},b={usedTextureSlot:2};Q--;){var A=V.getActiveUniform(R,Q),c=A.name,f=(J=q=e=F=void 0,A),S=V.getUniformLocation(R,c),F=X,D=b,P=f.name,N=P.length;for(l.lastIndex=0;;){var q=l.exec(P),L=l.lastIndex,e=q[1],J="]"===q[2];if(J&&(e|=0),(q=q[3])===N8||"["===q&&L+2===N){F[e]=new H(e,S,f,q!==N8,D);break}(J=F[e])==N8&&(F[e]=J={}),F=J}}var s=function b(A){var c=[];function V(V,R){K.call(this,A,V,R);for(var Q=c.length;Q--;){var X=c[Q];this._branches[X._name]=new X._type(V,R)}this.uuid=B.generateUUID()}return jm(V,K),A.forEach(function(V,R){var Q,X=V.name;V.isLeaf?(Q=vm("d.setter(this.gl, v);",["v"],["d"],[V.desc]),v.defineProperty(R,X,{configurable:!1,enumerable:!0,get:function(){return Q},set:Q})):(c.push({_name:X,_type:b(V)}),v.defineProperty(R,X,{configurable:!1,enumerable:!0,get:function(){return this._branches[X]},set:function(V){this._branches[X].apply(V)}}))},V.prototype),V}(g_.create(X,function(V){return"addr"in V}));return v.defineProperty(s.prototype,"textureCount",{configurable:!1,enumerable:!1,writable:!1,value:b.usedTextureSlot}),new s(V,R)}return K.prototype.apply=function(V,R){for(var Q=this._struct.children,X=Q.length;X--;){var b,A=Q[X],c=A.name,f=A.desc.activeInfo;if(R){if((b=R(V,c,f?f.type:null))===N8)continue}else{if(!(c in V))continue;b=V[c]}A.isLeaf?this[c]=b:this._branches[c].apply(b)}},K.prototype.append=function(V){var R,Q=this._struct.childMap;for(R in V){var X=Q[R];X&&(X.isLeaf?this[R]=V[R]:this._branches[R].append(V[R]))}},function(V,R){var Q=R._uniforms;return Q||(R._uniforms=Q=P(V,R)),Q}}()),h1=function(){for(var b=[],V=1;V<17;++V)b[V]=new Ms(V);function F(V,R,Q,X){for(var b=Q?1:0,A=R.addr,c=V._4MQ,f=0;f<X;f++)(c[A+f]||0)!==b&&(c[A+f]=b,V.vertexAttribDivisor(A+f,b))}var X=[],D="undefined"!=typeof WebGLBuffer&&WebGLBuffer.prototype;function R(V,c,f,S){X[V]=function(V,R,Q,X,b,A){this.addr==N8||this.addr<0||(R==N8||!1===R?S(V,this.addr):y_(R)===D?f(this,V,R,R.glType,X,b,A):(S(V,this.addr),c(this,V,R)))}}function Q(V,R){V.disableVertexAttribArray(R)}function f(V,R,Q){this.name=V,this.addr=R,this.activeInfo=Q,this.setter=X[Q.type],t_(this)}function S(V,R,Q){this.gl=R,this.program=Q,this._branches={},this._struct=V}return R(5126,function(V,R,Q){R.vertexAttrib1f(V.addr,Q)},function(V,R,Q,X,b,A,c){R.bindBuffer(34962,Q);var f=V.addr;R.enableVertexAttribArray(f),F(R,V,Q.instanced,1),R.vertexAttribPointer(f,1,X||5126,!!b,A||0,c||0),R.bindBuffer(34962,null)},Q),R(35664,function(V,R,Q){var X;Q.x!=N8?R.vertexAttrib2f(V.addr,Q.x,Q.y):((X=b[2]).set(Q,0),R.vertexAttrib2fv(V.addr,X))},function(V,R,Q,X,b,A,c){R.bindBuffer(34962,Q);var f=V.addr;R.enableVertexAttribArray(f),F(R,V,Q.instanced,1),R.vertexAttribPointer(f,2,X||5126,!!b,A||0,c||0),R.bindBuffer(34962,null)},Q),R(35665,function(V,R,Q){var X;Q.x!=N8?R.vertexAttrib3f(V.addr,Q.x,Q.y,Q.z):Q.r!=N8?R.vertexAttrib3f(V.addr,Q.r,Q.g,Q.b):Q.red!=N8?R.vertexAttrib3f(V.addr,Q.red,Q.green,Q.blue):((X=b[3]).set(Q,0),R.vertexAttrib3fv(V.addr,X))},function(V,R,Q,X,b,A,c){R.bindBuffer(34962,Q);var f=V.addr;R.enableVertexAttribArray(f),F(R,V,Q.instanced,1),R.vertexAttribPointer(f,3,X||5126,!!b,A||0,c||0),R.bindBuffer(34962,null)},Q),R(35666,function(V,R,Q){var X;(Q="string"==typeof Q?I2(Q):Q).x!=N8?R.vertexAttrib4f(V.addr,Q.x,Q.y,Q.z,Q.w):Q.r!=N8?R.vertexAttrib4f(V.addr,Q.r,Q.g,Q.b,Q.a):Q.red!=N8?R.vertexAttrib4f(V.addr,Q.red,Q.green,Q.blue,Q.alpha):((X=b[4]).set(Q,0),R.vertexAttrib4fv(V.addr,X))},function(V,R,Q,X,b,A,c){R.bindBuffer(34962,Q);var f=V.addr;R.enableVertexAttribArray(f),F(R,V,Q.instanced,1),R.vertexAttribPointer(f,4,X||5126,!!b,A||0,c||0),R.bindBuffer(34962,null)},Q),R(35674,function(V,R,Q){Q=Q.el||Q;for(var X=0,b=0;X<2;++X)R.vertexAttrib2f(V.addr,Q[b++],Q[b++])},function(V,R,Q,X,b,A,c){var A=A||16,c=c||0,f=V.addr;R.bindBuffer(34962,Q),R.enableVertexAttribArray(f),R.vertexAttribPointer(f,2,X||5126,!!b,A,c),R.enableVertexAttribArray(f+1),R.vertexAttribPointer(f+1,2,X||5126,!!b,A,c+8),F(R,V,Q.instanced,2),R.bindBuffer(34962,null)},function(V,R){V.disableVertexAttribArray(R),V.disableVertexAttribArray(R+1)}),R(35675,function(V,R,Q){Q=Q.el||Q;for(var X=0,b=0;X<3;++X)R.vertexAttrib3f(V.addr,Q[b++],Q[b++],Q[b++])},function(V,R,Q,X,b,A,c){var A=A||36,c=c||0,f=V.addr;R.bindBuffer(34962,Q);for(var S=0;S<3;S++)R.enableVertexAttribArray(f+S),R.vertexAttribPointer(f+S,3,X||5126,!!b,A,c+12*S);F(R,V,Q.instanced,3),R.bindBuffer(34962,null)},function(V,R){V.disableVertexAttribArray(R),V.disableVertexAttribArray(R+1),V.disableVertexAttribArray(R+2)}),R(35676,function(V,R,Q){Q=Q.el||Q;for(var X=0,b=0;X<4;++X)R.vertexAttrib4f(V.addr,Q[b++],Q[b++],Q[b++],Q[b++])},function(V,R,Q,X,b,A,c){var A=A||64,c=c||0,f=V.addr;R.bindBuffer(34962,Q);for(var S=0;S<4;S++)R.enableVertexAttribArray(f+S),R.vertexAttribPointer(f+S,4,X||5126,!!b,A,c+16*S);F(R,V,Q.instanced,4),R.bindBuffer(34962,null)},function(V,R){V.disableVertexAttribArray(R),V.disableVertexAttribArray(R+1),V.disableVertexAttribArray(R+2),V.disableVertexAttribArray(R+3)}),S.prototype.disable=function(){for(var V=this._struct.children,R=V.length;R--;){var Q=V[R],X=Q.name;Q.isLeaf?this[X]=N8:this._branches[X].disable()}},S.prototype.apply=function(V,R){for(var Q=this._struct.children,X=Q.length;X--;){var b,A=Q[X],c=A.name;if(R){if((b=R(V,c,A))===N8)continue}else{if(!(c in V))continue;b=V[c]}A.isLeaf?this[c]=b:this._branches[c].apply(b)}},S.prototype.append=function(V){var R,Q=this._struct.childMap;for(R in V){var X=Q[R];X&&(X.isLeaf?this[R]=V[R]:this._branches[R].append(V[R]))}},function(V,R){var Q=R._attribs;return Q||(R._attribs=Q=function(V,R){for(var Q=V.getProgramParameter(R,35721),X={};Q--;){var b=V.getActiveAttrib(R,Q),A=b.name,c=V.getAttribLocation(R,A);0<=c&&(X[A]=new f(A,c,b))}return new(function b(A){var c=[];function V(V,R){S.call(this,A,V,R);for(var Q=c.length;Q--;){var X=c[Q];this._branches[X._name]=new X._type(V,R)}}return jm(V,S),A.forEach(function(V,R){var Q,X=V.name;V.isLeaf?(Q=vm("d.setter(this.gl, v);",["v"],["d"],[V.desc]),v.defineProperty(R,X,{configurable:!1,enumerable:!0,get:function(){return Q},set:Q})):(c.push({_name:X,_type:b(V)}),v.defineProperty(R,X,{configurable:!1,enumerable:!0,get:function(){return this._branches[X]},set:function(V){this._branches[X].apply(V)}}))},V.prototype),V}(g_.create(X,function(V){return"addr"in V})))(V,R)}(V,R)),Q}}(),t8=function(V){var R;v.defineProperties(this,{gl:{configurable:!1,enumerable:!1,value:V,writable:!1},glState:{configurable:!1,enumerable:!1,value:((R=(V=V)._state)||(V._state=R=new $I(V)),R),writable:!1}}),this._currProgram=N8,this._currUniforms=N8,this._currAttribs=N8,this._sync=!0},T1=(v.defineProperties(t8.prototype,{program:{configurable:!1,enumerable:!1,get:function(){return this._currProgram},set:function(V){this._sync&&V===this._currProgram||(this.gl.useProgram(V),this._currProgram=V,this._currUniforms=v1(this.gl,V),this._currAttribs=h1(this.gl,V),this._sync=!0)}},uniforms:{configurable:!1,enumerable:!1,get:function(){return this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currUniforms},set:function(V){this._currUniforms&&(this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currUniforms.apply(V))}},attribs:{configurable:!1,enumerable:!1,get:function(){return this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currAttribs},set:function(V){this._currUniforms&&(this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currAttribs.apply(V))}}}),t8.prototype.useProgram=function(V){this._sync&&V===this._currProgram||(this.gl.useProgram(V),this._currProgram=V,this._currUniforms=v1(this.gl,V),this._currAttribs=h1(this.gl,V),this._sync=!0)},t8.prototype.directState=function(){return this.glState},t8.prototype.directUniforms=function(){return this._currUniforms},t8.prototype.directAttribs=function(){return this._currAttribs},t8.prototype.syncLoss=function(){this._sync=!1,this.glState.syncLoss()},t8.for=function(V){var R=V._renderState;return R||(V._renderState=R=new t8(V)),R},"light.color"),W1=4294967295,U1=0,p1={},e={},I1=function(V){return V=L8.convertShape3dModelName(V),qJ(V)?V.modelType?V.uuid?ae[V.uuid]:N8:V:ae[V]},Z1=function(V,R){var Q;if(V=L8.convertShape3dModelName(V),qJ(V)){if(V.modelType){if(V.uuid){if(Q=ae[V.uuid])return R&&R(Q),Q}else V.uuid=I.Math.generateUUID();return Q===N8?(Mu(V.uuid,R),Sy&&Sy[V.uuid]||qy(V.uuid,V),N8):(R&&R(Q),Q)}return R&&R(V),V}return Q=ae[V],V&&Q===N8&&Ce.test(V)?(Mu(V,R),Sy&&Sy[V]||(Ny(V,V),Q=ae[V])):R&&R(Q),Q},k1="undefined"!=typeof WebGLTexture&&WebGLTexture.prototype,x1=function(V){return V&&y_(V)===k1},B1=function(V,R){V.frameStack?V.frameStack.push(R):V.frameStack=[R],V.bindFramebuffer(36160,R)},G1=function(V){var R=V.frameStack;if(R){if(R.pop(),R.length)return void V.bindFramebuffer(36160,R[R.length-1]);V.frameStack=null}V.bindFramebuffer(36160,null)},d1=(mJ(L8,{graph3dViewAttributes:q8,graph3dViewFirstPersonMode:!1,graph3dViewMouseRoamable:!0,graph3dViewMoveStep:15,graph3dViewRotateStep:w/60,graph3dViewSortable:!1,graph3dViewOpaqueSortable:!1,graph3dViewBlockSelectable:!0,graph3dViewEditHelperDisabled:!1,graph3dViewPannable:!0,graph3dViewRotatable:!0,graph3dViewWalkable:!0,graph3dViewResettable:!0,graph3dViewZoomable:!0,graph3dViewRectSelectable:!0,graph3dViewRectSelectBackground:B8,graph3dViewGridVisible:!1,graph3dViewGridSize:50,graph3dViewGridGap:50,graph3dViewGridColor:[.4,.75,.85,1],graph3dViewRotateMaxPhi:w,graph3dViewRotateMinPhi:0,graph3dViewShadowDisabled:!0,graph3dViewShadowQuality:"high",graph3dViewShadowIntensity:.3,graph3dViewShadowBias:-.005,graph3dViewShadowRadius:.1,graph3dViewShadowType:"hard",graph3dViewShadowDegreeX:30,graph3dViewShadowDegreeZ:-10,graph3dViewShadowCascades:0,graph3dViewShadowCSMLambda:.5,graph3dViewShadowCSMFade:.05,graph3dViewShadowPCSSLightSize:15,graph3dViewShadowPCSSIntensity:1,graph3dViewOriginAxisVisible:!1,graph3dViewCenterAxisVisible:!1,graph3dViewAxisXColor:[1,0,0,1],graph3dViewAxisYColor:[0,1,0,1],graph3dViewAxisZColor:[0,0,1,1],graph3dViewEditSizeColor:[1,1,0,1],graph3dViewOrtho:!1,graph3dViewOrthoWidth:2e3,graph3dViewSyncEyeWithOrthoWidth:!1,graph3dViewFovy:w/4,graph3dViewNear:10,graph3dViewFar:1e4,graph3dViewEye:[0,300,1e3],graph3dViewCenter:[0,0,0],graph3dViewUp:[0,1,-1e-7],graph3dViewAspect:1.2,graph3dViewDataNumWarningLine:1e4,graph3dViewHeadlightDirection:"camera",graph3dViewHeadlightRange:0,graph3dViewHeadlightGroup:0,graph3dViewHeadlightColor:[1,1,1,1],graph3dViewHeadlightIntensity:1,graph3dViewHeadlightDisabled:!1,graph3dViewHeadlightAmbientIntensity:.7,graph3dViewHeadlightRatioForPhysicalMaterial:.5,graph3dViewFogDisabled:!0,graph3dViewFogMode:"linear",graph3dViewFogDensity:5e-4,graph3dViewFogColor:"white",graph3dViewFogNear:1,graph3dViewFogFar:2e3,graph3dViewPickerResolution:.5,graph3dViewDashDisabled:!0,graph3dViewUvClipEnabled:!1,graph3dViewTransmissionEnabled:!0,graph3dViewBatchBlendDisabled:!0,graph3dViewBatchBrightnessDisabled:!0,graph3dViewBatchColorDisabled:!1,graph3dViewBatchInstancedDisabled:!0,graph3dViewBackfaceUsingNormals:!1,graph3dViewFlowBlendMode:"addRGB",graph3dViewEnvmapType:"legacy",graph3dMaxVectorCacheTime:50,graph3dEnvmapCapabilityRequire:8,graph3dMaxHighlightGroups:8,setShape3dModel:function(V,R){l8(R)&&Ce.test(R)?Ny(V,R):qJ(R)&&R.modelType?qy(V,R):R===N8?delete ae[V]:ae[V]=R},getShape3dModel:Z1,getShape3dModelFromMemory:I1,convertShape3dModelName:function(V){return V},getShape3dModelMap:function(){return ae},getCachedShape3dModelMap:function(){return ie},createMatrix:function(V,R){for(var Q=(V=H8(V)?V:[V]).length-1;0<=Q;Q--){var X=V[Q];R=Bs(X.mat,X.s3,X.r3,X.rotationMode,X.t3,R)}return R},transformVec:Ts,glBindFrame:B1,glUnbindFrame:G1,createBoxModel:function(){return{vs:ly,ns:yy,uv:Ky,is:Hy}},createRoundRectModel:function(V,R){return iy.roundRect(V,R)},createStarModel:function(V,R){return iy.star(V,R)},createRectModel:function(V,R){return iy.rect(V,R)},createTriangleModel:function(V,R){return iy.triangle(V,R)},createRightTriangleModel:function(V,R){return iy.rightTriangle(V,R)},createParallelogramModel:function(V,R){return iy.parallelogram(V,R)},createTrapezoidModel:function(V,R){return iy.trapezoid(V,R)},createSmoothSphereModel:function(V,R,Q,X,b,A,c){return zq(new Bq(V,R,Q,X,b,A,c))},createSphereModel:function(V,R,Q,X,b,A,c){return V?zy(V,R,Q,X,b,A,c):L8.createSmoothSphereModel()},createSmoothConeModel:function(V,R,Q,X,b){return Oy(V,R,Q,X,b)},createConeModel:function(V,R,Q,X,b,A,c,f){return V?wy(V,R,Q,X,b,A,c,f):Oy(A)},createSmoothCylinderModel:function(V,R,Q,X,b,A,c,f){return zq(new xq(V,R,Q,X,b,A,c,f))},createCylinderModel:function(V,R,Q,X,b,A,c,f){return V?_y(V,R,Q,X,b,A,c,f):oy(A,c)},createSmoothTorusModel:function(V,R,Q,X,b,A){return zq(new Gq(V,R,Q,X,b,A))},createTorusModel:function(V,R,Q,X,b,A,c,f){return V?uy(V,R,Q,X,b,A,c,f):Yy(A,c)},createExtrusionModel:function(V,R,Q,X,b,A,c,f){return ay(V,R,Q,X,b,A,c,f)},createSmoothRingModel:function(V,R,Q,X,b,A){for(var c=[],f=0;f<V.length-1;f+=2)c.push({x:V[f],y:V[f+1]});for(V=d2(c,R,Q)[0],c=[],f=0;f<V.length;f++){var S=V[f];c.push(new K8(S.x,0,S.y))}return zq(new Ru(c,A,X,b))},createTextGeometry:function(V,R){var Q=zq(new Qu(V,R));if(R.cube)for(var R=(V=function(V){for(var R,Q,X,b,A,c,f=H8(V)?V:[V],S=1/0,F=1/0,D=1/0,P=-1/0,N=-1/0,q=-1/0,L=["vs","top_vs","bottom_vs","from_vs","to_vs"],e=0,J=f.length;e<J;e++)for(c=f[e],R=0,Q=L.length;R<Q;R++)if(A=c[L[R]])for(X=0,b=A.length;X<b;X+=3)S=X8(S,A[X]),F=X8(F,A[X+1]),D=X8(D,A[X+2]),P=Q8(P,A[X]),N=Q8(N,A[X+1]),q=Q8(q,A[X+2]);return V.boundingBox={min:{x:S,y:F,z:D},max:{x:P,y:N,z:q}}}(Q)).min,V=V.max,X=R.x,b=R.y,A=R.z,c=V.x-X||1,f=V.y-b||1,S=V.z-A||1,F=["vs","top_vs","bottom_vs"],D=0,P=F.length;D<P;D++){var N=Q[F[D]];if(N)for(var q=0,L=N.length;q<L;q+=3)N[q]=(N[q]-X)/c-.5,N[q+1]=(N[q+1]-b)/f-.5,N[q+2]=(N[q+2]-A)/S-.5}return Q},loadFontFace:function(V,X){L8.xhrLoad(V,function(R){if(!R)return X();var Q;try{Q=JSON.parse(R)}catch(V){Q=JSON.parse(R.substring(65,R.length-2))}hq.loadFace(Q),X&&X(Q.familyName.toLowerCase())},X?null:{sync:!0})},createRingModel:function(V,r,E,R,Q,X,b,A,c,f){for(var S=[],F=0;F<V.length-1;F+=2)S.push({x:V[F],y:V[F+1]});X=X||L8.shapeSide,b=b||0,A=A||X;var D,P,N,q,L,e,J,s,l,H,K,y,t,g,m,z,Y,u=[],o=[],_=c?[]:q8,O=c?[]:q8,w=f?[]:q8,a=f?[]:q8,i=R?[]:q8,$=R?[]:q8,j=Q?[]:q8,C=Q?[]:q8,V=d2(S,r,E),v=hJ(V),n=0,M=2*Math.PI/X;return V.forEach(function(V){if(1<(N=V.length)){if(q=V[0],R)for(e=q.x,s=q.y,F=b;F<A;F++)t=(K=F+1)*M,g=e8(y=F*M),m=J8(y),z=e8(t),Y=J8(t),i.push(g*e,s,-m*e,z*e,s,-Y*e,0,s,0),$.push(.5-.5*g,.5-.5*m,.5-.5*z,.5-.5*Y,.5,.5);for(H=0;H<N;H++){for(L=V[H],e=q.x,J=L.x,s=q.y,l=L.y,D=n/v,n+=qs(q,L),P=n/v,F=b;F<A;F++)t=(K=F+1)*M,g=e8(y=F*M),m=J8(y),z=e8(t),Y=J8(t),u.push(g*J,l,-m*J,z*J,l,-Y*J,g*e,s,-m*e,z*J,l,-Y*J,z*e,s,-Y*e,g*e,s,-m*e),o.push(F/X,P,K/X,P,F/X,D,K/X,P,K/X,D,F/X,D),c&&F===b&&(_.push(0,s,0,0,l,0,g*J,l,-m*J,g*J,l,-m*J,g*e,s,-m*e,0,s,0),O.push(0,.5-s,0,.5-l,2*J,.5-l,2*J,.5-l,2*e,.5-s,0,.5-s)),f&&K===A&&(w.push(0,s,0,z*J,l,-Y*J,0,l,0,z*J,l,-Y*J,0,s,0,z*e,s,-Y*e),a.push(1,.5-s,1-2*J,.5-l,1,.5-l,1-2*J,.5-l,1,.5-s,1-2*e,.5-s));q=L}if(Q)for(e=q.x,s=q.y,F=b;F<A;F++)t=(K=F+1)*M,g=e8(y=F*M),m=J8(y),z=e8(t),Y=J8(t),j.push(z*e,s,-Y*e,g*e,s,-m*e,0,s,0),C.push(.5-.5*z,.5+.5*Y,.5-.5*g,.5+.5*m,.5,.5)}}),{vs:u,uv:o,bottom_vs:j,bottom_uv:C,top_vs:i,top_uv:$,from_vs:_,from_uv:O,to_vs:w,to_uv:a}},generateGLBufferID:function(){return B.generateIncreasingID()},getDataModel3dBindings:function(V){if(V instanceof r_)return V.s("model3dBindings")||V.getAttrObject()},completeModel3dAnimation:function(V,R,Q,X){jI={};var b,A,c,f=V=0<=(c=(V=0<=(c=Math.max(V.lastIndexOf("\\"),V.lastIndexOf("/")))?V.slice(c+1):V).lastIndexOf("."))?V.slice(0,c):V,S=R.animations;if(S)for(e=0,J=S.length;e<J;e++)(N=S[e]).duration&&N.tracks&&N.tracks.length?(N.sources=[],N.sourceShortName=f,An(S,N,Q)):N._toBeRemoved=!0;if(X&&X.length)for(S=S||(R.animations=[]),e=0,J=X?X.length:0;e<J;e++){var F,D=X[e];if(D&&(F=D.animations)&&F.length)for(b=0,A=F.length;b<A;b++){var P=v.assign({},F[b]);P.sources?(P.sources=P.sources.slice(0),P.sources.splice(0,0,e)):P.sources=[e],An(S,P,Q),S.push(P)}}for(var N,q=[],L=[],e=0,J=S.length;e<J;e++)(N=S[e])._toBeRemoved?L.push(N.rawName||N.name):q.push(N);return q.length!==S.length&&(R.animations=q),L.length&&(R.invalidAnimationNames=L),R}},!0),mJ(g8,{"3d.move.mode":N8,"3d.selectable":!0,"3d.visible":!0,"3d.movable":!0,"3d.editable":!0,"3d.clip.direction":null,"3d.clip.percentage":1,"3d.reflectable":!0,"shape.border.gradient.color":N8,"edge.gradient.color":N8,"edge.source.t3":N8,"edge.target.t3":N8,"light.type":"point","light.group":0,"light.center":[0,0,0],"light.color":[1,1,1,1],"light.disabled":!1,"light.angle":w/4,"light.range":0,"light.exponent":1,"light.intensity":1,"light.rotation.enable":!1,"light.size":[100,100],"light.specular.disable":!1,"light.mask":W1,"headlight.ambientIntensity":N8,"wf.visible":!1,"wf.width":1,"wf.fog":!0,"wf.group":0,"wf.color":v4,"wf.short":!1,"wf.mat":N8,"wf.boundingBox":!1,"wf.material":null,"wf.geometry":!1,"wf.loadQuadWireframe":!1,"wf.combineTriangle":!0,"wf.normEpsilon":N8,batch:N8,static:N8,"static.group":0,"transparent.mask":!1,"transparent.separate":!1,brightness:N8,"select.brightness":.7,"repeat.uv.length":N8,"rotate.uv.length":N8,"rotate.vs.length":N8,"shadow.cast":!0,"shadow.receive":!0,"3d.clipbox":N8,"3d.clipbox.mask":W1,"3d.clipbox.group":0,"3d.clipbox.shape":"cube","effect.flow":!1,"effect.flow.gradient":"spread.horizontal","effect.flow.uvshape":"rect","effect.flow.size":512,"effect.flow.infinite":!1,"effect.flow.group":0,"effect.flow.intensity":1,"effect.flow.blend":N8,"effect.flow.mask":W1,bloom:!1,envmap:0,"envmap.probe":0,roughness:0,renderTextureSamples:4,alphaTest:.4,autorotate:!1,fixSizeOnScreen:!1,"texture.cache":!1,"texture.width":N8,"hide.overlapping.group":N8,"vector.dynamic":!1,"vector.dynamic.maxsize":2048,"texture.scale":1,"geometry.cache":!1,"highlight.group":0,"highlight.mode":!1,"highlight.type":"hard","highlight.visible":!0,"highlight.width":.8,"highlight.color":"rgba(190, 210, 250, 1)","highlight.glow":.8,"highlight.strength":2,"color.empty":[0,0,0,0],matDef:N8,"shape3d.material":N8,"shape3d.top.material":N8,"shape3d.bottom.material":N8,"shape3d.from.material":N8,"shape3d.to.material":N8,"label.face":XR,"label.t3":N8,"label.r3":N8,"label.texture.scale":2,"label.rotationMode":Su,"label.light":!1,"label.blend":N8,"label.reverse.flip":!1,"label.reverse.color":O4,"label.reverse.cull":!1,"label.transparent":!1,"label.autorotate":!1,"label2.face":XR,"label2.t3":N8,"label2.r3":N8,"label2.texture.scale":2,"label2.rotationMode":Su,"label2.light":!1,"label2.blend":N8,"label2.reverse.flip":!1,"label2.reverse.color":O4,"label2.reverse.cull":!1,"label2.transparent":!1,"label2.autorotate":!1,"note.face":XR,"note.t3":N8,"note.r3":N8,"note.texture.scale":2,"note.rotationMode":Su,"note.light":!1,"note.blend":N8,"note.reverse.flip":!1,"note.reverse.color":O4,"note.reverse.cull":!1,"note.transparent":!1,"note.autorotate":!1,"note2.face":XR,"note2.t3":N8,"note2.r3":N8,"note2.texture.scale":2,"note2.rotationMode":Su,"note2.light":!1,"note2.blend":N8,"note2.reverse.flip":!1,"note2.reverse.color":O4,"note2.reverse.cull":!1,"note2.transparent":!1,"note2.autorotate":!1,"part.boundingBox":!1,shape3d:N8,"shape3d.color":L,"shape3d.top.color":N8,"shape3d.bottom.color":N8,"shape3d.from.color":N8,"shape3d.to.color":N8,"shape3d.image":N8,"shape3d.image.projection":N8,"shape3d.top.image":N8,"shape3d.bottom.image":N8,"shape3d.from.image":N8,"shape3d.to.image":N8,"shape3d.light":!0,"shape3d.side":0,"shape3d.side.from":N8,"shape3d.side.to":N8,"shape3d.smooth":N8,"shape3d.visible":!0,"shape3d.from.visible":!0,"shape3d.to.visible":!0,"shape3d.top.visible":!0,"shape3d.bottom.visible":!0,"shape3d.torus.radius":.17,"shape3d.resolution":0,"shape3d.blend":N8,"shape3d.opacity":N8,"shape3d.reverse.flip":!1,"shape3d.reverse.color":O4,"shape3d.reverse.cull":!1,"shape3d.transparent":!1,"shape3d.uv.offset":N8,"shape3d.uv.scale":N8,"shape3d.uv.rotation":N8,"shape3d.uv.anchor":N8,"shape3d.uv.union":N8,"shape3d.top.uv.offset":N8,"shape3d.top.uv.scale":N8,"shape3d.top.uv.rotation":N8,"shape3d.top.uv.anchor":N8,"shape3d.bottom.uv.offset":N8,"shape3d.bottom.uv.scale":N8,"shape3d.bottom.uv.rotation":N8,"shape3d.bottom.uv.anchor":N8,"shape3d.from.uv.offset":N8,"shape3d.from.uv.scale":N8,"shape3d.from.uv.rotation":N8,"shape3d.from.uv.anchor":N8,"shape3d.to.uv.offset":N8,"shape3d.to.uv.scale":N8,"shape3d.to.uv.rotation":N8,"shape3d.to.uv.anchor":N8,"shape3d.top.cap":N8,"shape3d.bottom.cap":N8,"shape3d.start.angle":0,"shape3d.sweep.angle":s8,"shape3d.point.epsilon":1e-6,"shape3d.discard.selectable":!0,"shape3d.top.discard.selectable":!0,"shape3d.bottom.discard.selectable":!0,"shape3d.from.discard.selectable":!0,"shape3d.to.discard.selectable":!0,"shape3d.scaleable":!0,"shape3d.transmission":!1,"shape3d.section":N8,"shape3d.section.angle":0,"shape3d.section.twist":0,"shape3d.polyline.depth":1,"shape3d.polyline.offset":0,"shape3d.polyline.radiusScale":1,"shape3d.polyline.scaleOffset":0,"shape3d.polyline.scaleMap":N8,"shape3d.reflector":!1,"shape3d.reflector.color":"rgb(128,128,128)","shape3d.reflector.blur":0,"shape3d.reflector.blur.iterations":1,"shape3d.reflector.background":null,"shape3d.reflector.clip":.003,"shape3d.reflector.shadow":"scene","shape3d.reflector.visible":!0,"shape3d.reflector.ratio":1,"shape3d.reflector.normal":N8,"shape3d.reflector.normal.threshold":Math.PI,"shape3d.reflector.position":N8,"camera.type":"perspective","camera.aspect":N8,"camera.aspect.sync":!1,"camera.fovy":N8,"camera.ortho.width":N8,"camera.near":N8,"camera.far":N8,"camera.background":0,"camera.clear":!0,"camera.renderSky":!0,"camera.renderShadowMap":!0,"camera.renderAxis":!1,"camera.renderGrid":!1,"camera.renderEdit":!1,"camera.onlySky":!1,"camera.skybox.blur":N8,"skybox.blur.size":0,"skybox.blur.resolution":0,"texture.mipmap.max":N8,"texture.filter":N8,"texture.filter.min":N8,"texture.filter.mag":N8,"texture.wrap":N8,"texture.flipY":!1,"points.image":"rect","points.color":"white","points.transparent":!1,"points.size":20,"points.opacity":1,"points.uv.scale":[1,1],"points.uv.offset":[0,0],"points.discard.selectable":!1,"points.model":N8,"all.light":!0,"all.visible":!0,"all.color":L,"all.image":N8,"all.blend":N8,"all.opacity":N8,"all.reverse.flip":!1,"all.reverse.color":O4,"all.reverse.cull":!1,"all.transparent":!1,"all.uv":N8,"all.uv.offset":N8,"all.uv.scale":N8,"all.uv.rotation":N8,"all.uv.anchor":N8,"all.uv.union":N8,"all.discard.selectable":!0,"all.material":N8,mat:N8,"left.mat":N8,"right.mat":N8,"top.mat":N8,"bottom.mat":N8,"front.mat":N8,"back.mat":N8,"edge.source.anchor.elevation":N8,"edge.target.anchor.elevation":N8,"edge.source.offset.elevation":0,"edge.target.offset.elevation":0,"3d.bone.visible":!1},!0),[0,0,0,0]),Vg=function(V){return V instanceof Hp},Rg=function(V){return[V.x,V.e||0,V.y]},Qg=function(V,R,Q){for(var X=(R=I2(R||0))[0],b=R[1],A=R[2];Q--;)V.push(X,b,A)},Xg=function(V,R,Q){for(var X=(R=I2(R||0))[0],b=R[1],A=R[2],c=R[3];Q--;)V.push(X,b,A,c)},bg=function(V,R,Q){if(R)for(var X,b,A,c=R[0],f=R[1],S=R[2],F=R[4],D=R[5],P=R[6],N=R[8],q=R[9],L=R[10],e=R[12],J=R[13],s=R[14],l=Q.length,H=0,H=0;H<l;H+=3)X=Q[H],b=Q[H+1],A=Q[H+2],V.push(c*X+F*b+N*A+e,f*X+D*b+q*A+J,S*X+P*b+L*A+s);else tJ(V,Q);return V},Ag=function(V,R,Q){var X=R.s("light.intensity"),b=(c=I2(R.s(T1)))[0],A=c[1],c=c[2],X=(1!==X&&(b*=X,A*=X,c*=X),R.s("light.disabled"));V.push(b,A,c,X?1:0),Q.c.push(b,A,c),Q.g.push(X?-1:R.s("light.group")),Q.e.push(X?1:0)},cg=(Nv=new K8,qv=new qf,function(V,R){return Nv.copy(V).applyEuler(R.getEuler(qv)),[Nv.x,Nv.y,Nv.z]}),fg=function(R,V){var Q,X,b,A,c,f,S,F,D,P,N,q=R._lastLightUploadInfo={c:[],g:[],e:[]},L=((L=R._headlightDirection)&&3===L.length?e=L:"shadow"===L&&(e=R.shadowMap.getDirection()),e=e?K8.normalizeArray(R._transformDirectionToViewSpace(null,e)):[0,0,0],V.uHeadlightDirection=e,V.uHeadlightRange=R._headlightRange,V.uHeadlightAmbientIntensity=R._headlightAmbientIntensity),e=R._headlightIntensity,J=I2(R._headlightColor),J=(1!==e&&(J=[J[0]*e,J[1]*e,J[2]*e]),V.uHeadlightColor=q.headlightColor=[J[0],J[1],J[2],(e=R._headlightDisabled)?1:0],q.c.push(J[0],J[1],J[2]),q.g.push(e?-1:R._headlightGroup),q.e.push(e?1:0),R._59O),e=R._spots,s=R._dirs,l=R._87I;J.length&&(Q=[],X=[],b=[],J.forEach(function(V){Ag(Q,V,q),tJ(X,R._transformPointToViewSpace(V.p3())),b.push(V.s("light.range"))}),V.uPointColor=Q,V.uPointRange=b,V.uPointPosition=X),e.length&&(A=[],c=[],f=[],S=[],F=[],D=[],e.forEach(function(V){Ag(A,V,q),tJ(c,R._transformPointToViewSpace(V.p3())),V.s("light.rotation.enable")?tJ(F,R._transformDirectionToViewSpace(null,cg([0,0,1],V))):tJ(F,R._transformDirectionToViewSpace(V.p3(),V.s("light.center"))),f.push(V.s("light.range")),S.push(e8(V.s("light.angle")/2)),D.push(V.s("light.exponent"))}),V.uSpotColor=A,V.uSpotRange=f,V.uSpotAngle=S,V.uSpotExponent=D,V.uSpotPosition=c,V.uSpotDirection=F),s.length&&(P=[],N=[],s.forEach(function(V){Ag(P,V,q),V.s("light.rotation.enable")?tJ(N,R._transformDirectionToViewSpace(null,cg([0,0,1],V))):tJ(N,R._transformDirectionToViewSpace(V.p3()))}),V.uDirColor=P,V.uDirDirection=N),l.length&&l.forEach(function(V){Ag([],V,q)}),V._lastLightMask=W1,V._lastHeadlightAmbientIntensity=L},Sg=function(V,R,Q,X){if((X=X===N8?V._headlightAmbientIntensity:X)!==R._lastHeadlightAmbientIntensity&&(R.uHeadlightAmbientIntensity=R._lastHeadlightAmbientIntensity=X),Q!==R._lastLightMask&&(R._lastLightMask=Q,X=V._lastLightUploadInfo)){for(var b,A=X.g,c=X.e,f=A.length,S=new Array(f),F=!1,D=0;D<f;D++)b=A[D],(S[D]=!(b<0||32<=b)&&Q&1<<b?0:1)!==c[D]&&(F=!0);if(F){X.e=c=S;var P,N=X.c,X=(R.uHeadlightColor=[N[0],N[1],N[2],c[0]],V._59O),q=V._spots,V=V._dirs,L=3,e=1;if(f=X.length){for(D=0,P=[];D<f;D++)P.push(N[L++],N[L++],N[L++],c[e++]);R.uPointColor=P}if(f=q.length){for(D=0,P=[];D<f;D++)P.push(N[L++],N[L++],N[L++],c[e++]);R.uSpotColor=P}if(f=V.length){for(D=0,P=[];D<f;D++)P.push(N[L++],N[L++],N[L++],c[e++]);R.uDirColor=P}}}},Fg=function(V,R){return Math.max(V.getRotateMinPhi()+as,Math.min(V.getRotateMaxPhi()-as,R))},Dg=function(){return.05+$8()/2},Pg=function(V,R,Q,X){var b=V.getEye(),V=(V.isOrtho()?((A=rs(V.getCenter(),b))[0]+=X[0],A[1]+=X[1],A[2]+=X[2]):A=b,R),b=Q,R=X,Q=A,X=$s(V,b),A=rs(Q,R,!0),V=$s(A,b);return w8(V)<as?q8:(Q=(X-$s(R,b))/V,[R[0]+A[0]*Q,R[1]+A[1]*Q,R[2]+A[2]*Q])},Ng=function(V,R){return{x:2*V.x-R.x,y:2*V.y-R.y}},qg=function(V,R,Q,X){if(!V)return A=E8(R.y-Q.y,Q.x-R.x),{x:R.x+X*J8(A),y:R.y+X*e8(A)};if(!Q)return A=E8(V.y-R.y,R.x-V.x),{x:R.x+X*J8(A),y:R.y+X*e8(A)};var b,A,c,f,S=rs([V.x,V.y,0],[R.x,R.y,0],!0),F=rs([Q.x,Q.y,0],[R.x,R.y,0],!0),D=-(S[0]+F[0])/2,P=-(S[1]+F[1])/2,N=O8(D*D+P*P);return N<as?(A=E8(V.y-R.y,R.x-V.x),{x:R.x+X*J8(A),y:R.y+X*e8(A)}):(b=V.x-R.x,V=V.y-R.y,c=Q.x-R.x,f=Q.y-R.y,b=O8(b*b+V*V),V=O8(c*c+f*f),A=a8($s(S,F))/2,c=0<S[1]*F[0]-S[0]*F[1]?-1:1,D/=N,P/=N,f=X/J8(A),S=Q8(b,V)/e8(A),N=Math.min(f,S),F={x:R.x+c*N*D,y:R.y+c*N*P},Q.b&&f>V/e8(A)&&(F.adjust=!0),F)},Lg=function(V){var R=V[0],Q=V[1],X=V[2],b=V[3],A=V[4],c=V[5],f=V[6],S=V[7],F=V[8],D=V[9],P=V[10],N=V[11],q=V[12],L=V[13],e=V[14],J=V[15],s=R*c-Q*A,l=R*f-X*A,H=R*S-b*A,K=Q*f-X*c,y=Q*S-b*c,t=X*S-b*f,g=F*L-D*q,m=F*e-P*q,z=F*J-N*q,Y=D*e-P*L,u=D*J-N*L,o=P*J-N*e,_=s*o-l*u+H*Y+K*z-y*m+t*g;return _?(V[0]=(c*o-f*u+S*Y)*(_=1/_),V[1]=(X*u-Q*o-b*Y)*_,V[2]=(L*t-e*y+J*K)*_,V[3]=(P*y-D*t-N*K)*_,V[4]=(f*z-A*o-S*m)*_,V[5]=(R*o-X*z+b*m)*_,V[6]=(e*H-q*t-J*l)*_,V[7]=(F*t-P*H+N*l)*_,V[8]=(A*u-c*z+S*g)*_,V[9]=(Q*z-R*u-b*g)*_,V[10]=(q*y-L*H+J*s)*_,V[11]=(D*H-F*y-N*s)*_,V[12]=(c*m-A*Y-f*g)*_,V[13]=(R*Y-Q*m+X*g)*_,V[14]=(L*l-q*K-e*s)*_,V[15]=(F*K-D*l+P*s)*_,V):q8},eg=function(V,R){var Q,X;return R&&(Q=R[0],X=R[1],R=R[2],V[12]=V[0]*Q+V[4]*X+V[8]*R+V[12],V[13]=V[1]*Q+V[5]*X+V[9]*R+V[13],V[14]=V[2]*Q+V[6]*X+V[10]*R+V[14],V[15]=V[3]*Q+V[7]*X+V[11]*R+V[15]),V},Jg=function(V,R){var Q,X;return R&&(Q=R[0],X=R[1],R=R[2],V[0]=V[0]*Q,V[1]=V[1]*Q,V[2]=V[2]*Q,V[3]=V[3]*Q,V[4]=V[4]*X,V[5]=V[5]*X,V[6]=V[6]*X,V[7]=V[7]*X,V[8]=V[8]*R,V[9]=V[9]*R,V[10]=V[10]*R,V[11]=V[11]*R),V},sg=function(V,R,Q){var X=R[0],b=R[1],A=R[2],c=R[3],f=R[4],S=R[5],F=R[6],D=R[7],P=R[8],N=R[9],q=R[10],L=R[11],e=R[12],J=R[13],s=R[14],R=R[15],l=Q[0],H=Q[1],K=Q[2],y=Q[3];return V[0]=l*X+H*f+K*P+y*e,V[1]=l*b+H*S+K*N+y*J,V[2]=l*A+H*F+K*q+y*s,V[3]=l*c+H*D+K*L+y*R,l=Q[4],H=Q[5],K=Q[6],y=Q[7],V[4]=l*X+H*f+K*P+y*e,V[5]=l*b+H*S+K*N+y*J,V[6]=l*A+H*F+K*q+y*s,V[7]=l*c+H*D+K*L+y*R,l=Q[8],H=Q[9],K=Q[10],y=Q[11],V[8]=l*X+H*f+K*P+y*e,V[9]=l*b+H*S+K*N+y*J,V[10]=l*A+H*F+K*q+y*s,V[11]=l*c+H*D+K*L+y*R,l=Q[12],H=Q[13],K=Q[14],y=Q[15],V[12]=l*X+H*f+K*P+y*e,V[13]=l*b+H*S+K*N+y*J,V[14]=l*A+H*F+K*q+y*s,V[15]=l*c+H*D+K*L+y*R,V},lg=function(V,R,Q,X){var b,A,c,f,S=R[0],F=R[1],R=R[2],D=X[0],P=X[1],X=X[2],N=Q[0],q=Q[1],Q=Q[2];return w8(S-N)<as&&w8(F-q)<as&&w8(R-Q)<as?hs(V):(f=1/O8((N=S-N)*N+(q=F-q)*q+(Q=R-Q)*Q),(f=O8((b=P*(Q*=f)-X*(q*=f))*b+(X=X*(N*=f)-D*Q)*X+(D=D*q-P*N)*D))?(b*=f=1/f,X*=f,D*=f):D=X=b=0,(f=O8((P=q*D-Q*X)*P+(A=Q*b-N*D)*A+(c=N*X-q*b)*c))?(P*=f=1/f,A*=f,c*=f):c=A=P=0,V[0]=b,V[1]=P,V[2]=N,V[3]=0,V[4]=X,V[5]=A,V[6]=q,V[7]=0,V[8]=D,V[9]=c,V[10]=Q,V[11]=0,V[12]=-(b*S+X*F+D*R),V[13]=-(P*S+A*F+c*R),V[14]=-(N*S+q*F+Q*R),V[15]=1,V)},Hg=function(V,R,Q,X,b){var R=1/r8(R/2),A=1/(X-b);return V[0]=R/Q,V[1]=0,V[2]=0,V[3]=0,V[4]=0,V[5]=R,V[6]=0,V[7]=0,V[8]=0,V[9]=0,V[10]=(b+X)*A,V[11]=-1,V[12]=0,V[13]=0,V[14]=2*b*X*A,V[15]=0,V},Kg=function(V,R,Q,X,b,A,c){var f=1/(R-Q),S=1/(X-b),F=1/(A-c);return V[0]=-2*f,V[1]=0,V[2]=0,V[3]=0,V[4]=0,V[5]=-2*S,V[6]=0,V[7]=0,V[8]=0,V[9]=0,V[10]=2*F,V[11]=0,V[12]=(R+Q)*f,V[13]=(b+X)*S,V[14]=(c+A)*F,V[15]=1,V},yg=function(V,R){var Q=R[0],X=R[1],b=R[2],A=(A=Q*Q+X*X+b*b+(R=R[3])*R)?1/A:0;return V[0]=-Q*A,V[1]=-X*A,V[2]=-b*A,V[3]=R*A,V},tg=function(V,R){var Q=R[0]+R[5]+R[10],X=0;return 0<Q?(X=2*Math.sqrt(Q+1),V[3]=.25*X,V[0]=(R[6]-R[9])/X,V[1]=(R[8]-R[2])/X,V[2]=(R[1]-R[4])/X):R[0]>R[5]&R[0]>R[10]?(X=2*Math.sqrt(1+R[0]-R[5]-R[10]),V[3]=(R[6]-R[9])/X,V[0]=.25*X,V[1]=(R[1]+R[4])/X,V[2]=(R[8]+R[2])/X):R[5]>R[10]?(X=2*Math.sqrt(1+R[5]-R[0]-R[10]),V[3]=(R[8]-R[2])/X,V[0]=(R[1]+R[4])/X,V[1]=.25*X,V[2]=(R[6]+R[9])/X):(X=2*Math.sqrt(1+R[10]-R[0]-R[5]),V[3]=(R[1]-R[4])/X,V[0]=(R[8]+R[2])/X,V[1]=(R[6]+R[9])/X,V[2]=.25*X),V},gg=function(V,R,Q){var X=R[0],b=R[1],A=R[2],c=A+A,f=X*(D=X+X),S=X*(P=b+b),X=X*c,F=b*P,b=b*c,D=(R=R[3])*D,P=R*P,R=R*c;return V[0]=1-(F+(A=A*c)),V[1]=S+R,V[2]=X-P,V[3]=0,V[4]=S-R,V[5]=1-(f+A),V[6]=b+D,V[7]=0,V[8]=X+P,V[9]=b-D,V[10]=1-(f+F),V[11]=0,V[12]=Q[0],V[13]=Q[1],V[14]=Q[2],V[15]=1,V},mg=function(V,R){var Q=V.getPresentingReality();return(Q=Q&&Q.getViewMatrix(R))?Q:V._camera?V._camera.getViewMatrix(R):lg(R||js(),V._eye,V._center,V._up)},zg=function(V,R){var Q=V.getPresentingReality();if(Q=Q&&Q.getProjectMatrix())return Q;if(V._camera)return V._camera.getProjectMatrix();if(!R&&V._computedProjectMatrix)return vs(V._computedProjectMatrix);var X,Q=V.getAspect(),R=V._near,b=V._far,A=js();return V._ortho?(X=V._orthoWidth/2,Kg(A,-X,X,-(X/=Q),X,R,b)):Hg(A,V._fovy,Q,R,b),A},Yg=function(V,R){if(!V)return q8;for(var Q,X,b,A,c,f,S,F,D,P=V.length,N=P/3,q=new Ms(V.length),L=0,e=R?R.length:N;L<e;L+=3)D=R?(S=3*R[L],F=3*R[L+1],3*R[L+2]):(S=3*L,F=3*(L+1),3*(L+2)),Q=V[F+0]-V[S+0],X=V[F+1]-V[S+1],b=V[F+2]-V[S+2],A=V[0+D]-V[F+0],c=V[1+D]-V[F+1],s=b*A-Q*(f=V[2+D]-V[F+2]),l=Q*c-X*A,q[S+0]+=J=X*f-b*c,q[S+1]+=s,q[S+2]+=l,q[F+0]+=J,q[F+1]+=s,q[F+2]+=l,q[0+D]+=J,q[1+D]+=s,q[2+D]+=l;for(L=0;L<P;L+=3){var J=q[L],s=q[L+1],l=q[L+2],H=O8(J*J+s*s+l*l);0===H&&(H=as),q[L]=J*(H=1/H),q[L+1]=s*H,q[L+2]=l*H}return q},ug=function(V,R,Q,X,b){return X=X||R.createTexture(),Q&&(b?(R=b.image,b.image=Q,V.createTexture(b,X),b.image=R):V.createTexture({image:Q},X)),X},og=function(V,R,Q){return Q=new Uint8Array(Q||4),R=R||V.createTexture(),V.activeTexture(33984),Og(V,R),wg(V,10241,9729),V.texImage2D(3553,0,6408,1,1,0,6408,5121,Q),R},_g=function(V){return V.createBuffer()},Og=function(V,R){V.bindTexture(3553,R||V._emptyTexture)},wg=function(V,R,Q){V.texParameteri(3553,R,Q)},ag=function(V,R){(V=t8.for(V).directState()).polygonOffset.enabled=!0,V.polygonOffset.value=R},ig=function(V){t8.for(V).directState().polygonOffset.enabled=!1},ng=function(V,R){return V=t8.for(V).directState().color.clear,R&&V?V.slice(0):V},Mg=function(V,R){R&&(t8.for(V).directState().color.clear=I2(R))},rg=function(V){if(V){var R=V.getGL();if(R)for(var Q=1,X=arguments.length;Q<X;Q++){var b=arguments[Q];if(H8(b))for(var A=0,c=b.length;A<c;A++)Sn(R,b[A]);else Sn(R,b)}}},Eg=function(V,R,Q){var X=V._boxClipperGroups,b=X?X.length:0;if(b){if(R._lastClipboxVersion!==V._boxClipperVersion)R._lastClipboxVersion=V._boxClipperVersion;else if(Q===R._lastClipboxEnabled)return;var A=V._boxClipperShapes,c=new Array(b);if(Q)for(var f=0;f<b;f++)c[f]=Q&1<<X[f]?A[f]:0;R._lastClipboxEnabled=Q,R.uClipperShape=c}},$g=function(V){var R=(V=t8.for(V)).directUniforms(),V=V.directAttribs();R.uFix=!0,V.aNormal=!1},jg=function(V){t8.for(V).directUniforms().uFix=!1},Cg=function(V,R,Q,X,b,A,c){var f=(S=t8.for(V)).directState(),S=S.directUniforms();V._picking||(R?(S.uBlend=!0,S.uBlendColor=R):S.uBlend=!1,S.uLight=S.uFog=Q==q8||Q,PJ(X)&&1!==X&&(S.uPartOpacity=X),S.uReverseFlip=b!=q8&&b,S.uFixPickReverseColor=A||O4),f.cullFace.enabled=!!c},vg=function(V){V._picking||(t8.for(V).directUniforms().uPartOpacity=1)},hg=(Pv=[1,0,0,0,1,0,0,0,0],function(V,R,Q,X,b,A,c,f,S,F){var D=(P=t8.for(V)).directUniforms(),P=P.directAttribs();if(!R)return D.uSampler=V._emptyTexture,void(D.uBlendSampler=V._emptyBlendTexture);D.uTexture=!0,D.uDiscardSelectable=!NJ(Q)||Q,P.aUv=Gg(V,X,b,q8,2),F?(D.uBlendTexture=!0,D.uBlendSampler=F):(D.uBlendTexture=!1,D.uBlendSampler=V._emptyBlendTexture),D.uSampler=R,D.uUvMatrix=A||c||f||S?yE(f,A,c,S):Pv}),Tg=function(V,R){var Q=(X=t8.for(V)).directUniforms(),X=X.directAttribs();V.activeTexture(33984),Og(V,q8),V.activeTexture(33985),Og(V,q8),R&&(X.aUv=!1,Q.uTexture=!1,Q.uSampler=V._emptyTexture,Q.uBlendTexture=!1,Q.uBlendSampler=V._emptyBlendTexture)},Wg=function(V,R,Q,X){var b=R.getBrightness(Q),A=Q.s("alphaTest"),c=t8.for(V),f=c.directUniforms(),S=R._picking,F=!0;return b!=q8&&1!==b&&(f.uBrightness=b),f.uAlphaTest=A,f.shadowReceive=!S&&Q.s("shadow.receive"),f.shadowCull=!S&&!!Q.s("shadow.cull"),Eg(R,f,Q.s("3d.clipbox")?U1:Q.s("3d.clipbox.mask")),(b=Q.s("3d.clip.direction"))?(0===(A=Q.s("3d.clip.percentage"))&&(F=!1),b=R.getData3dUI(Q)._formatClipUniforms(b,A,Q),f.uClipPercent=b[1],f.uClipDirection=b[0]):f.uClipDirection=0,f.blackout=!(!V._blooming||Q.s("bloom")),S||(R._flowObjects.length&&R.flowMap.resetDataFlowEnabld(Q,f),X||(A=Q.s("envmap"),f.uUseEnvMap=!!A,f.roughness=Q.s("roughness"),R._setEnvmapByProbeId(f,Q.s("envmap.probe"),A||.01),Sg(R,f,Q.s("light.mask"),Q.s("headlight.ambientIntensity"))),f.uFog=Q.s("shape3d.light")!=q8),X||!!Q._flipSide!=(2===Q._forceSingleFace)&&(c.directState().cullFace.frontFace=2304),F},Ug=function(V,R){var Q=V.getGL();Q&&(Q._transmissionRTT||(Q._transmissionRTT=new wp(V,0,0,{autoSize:!0})),R.unbind(Q),V.renderModel(Q._transmissionRTT,null,null,{type:"blitScreen",transparent:V._45Q,image:R.texture}),R.bind(Q))},pg=function(V,R,Q,X,b){var A=(c=t8.for(V)).directUniforms(),c=c.directAttribs();!R||Z8||x8||V.lineWidth(R),Q&&!V._picking&&(A.uFixPickReverseColor=Q),X&&(c.aPosition=Gg(V,X,b,q8))},Ig=function(V,R,Q,X){V&&(X&&(Q*=X),V.calls++,V.vertices+=Q,R==q8||4===R?V.faces+=Q/3:1===R?V.lines+=Q/2:R===j1.POINTS?V.points+=Q:5===R||6===R?V.faces+=Q-2:3===R?V.lines+=Q-1:2===R&&(V.lines+=Q))},Zg=function(V,R,Q,X,b){vI&&(X=V[vI]),b?V.drawArraysInstanced(X==q8?4:X,R,Q,b):V.drawArrays(X==q8?4:X,R,Q),Ig(V._renderInfo,X,Q,b)},kg=function(V,R,Q,X,b,A){vI&&(X=V[vI]),A?V.drawElementsInstanced(X==q8?4:X,Q,b==q8?5123:b,R==q8?0:2*R,A):V.drawElements(X==q8?4:X,Q,b==q8?5123:b,R==q8?0:2*R),Ig(V._renderInfo,X,Q,A)},xg=function(V,R,Q,X,b){return V.bindBuffer(34962,R),Q&&V.bufferData(34962,Q,35044),R},Bg=function(V,R,Q,X,b){return(R=Gg(V,R,Q,X,b)).instanced=!0,R},Gg=function(V,R,Q,X,b){return Q?RE(V,34962,R,Q):xg(V,R,Q)},dg=function(V,R,Q){V.bindBuffer(34963,R),Q&&V.bufferData(34963,Q,35044)},VE=function(V,R,Q){RE(V,34963,R,Q)},RE=function(V,R,Q,X){var b,A=X._bufId||(X._bufId=L8.generateGLBufferID()),c=V._4NQ;return(Q=c[A])&&Q._buf?V.bindBuffer(R,Q._buf):(b=_g(V),Q=c[A]={_buf:b},V.bindBuffer(R,b),V.bufferData(R,X,35044),c=5126,X instanceof Uint16Array?c=5123:X instanceof Int16Array?c=5122:X instanceof Uint32Array?c=5125:X instanceof Int32Array?c=5124:X instanceof Int8Array?c=5120:(X instanceof Uint8Array||X instanceof Uint8ClampedArray)&&(c=5121),b.glType=c),Q._fid=V._renderInfo.frame,Q._buf},QE=function(V,R){R!=q8&&0<=R&&V.disableVertexAttribArray(R)},XE=function(V,R){var Q=V.getGL(),Q=t8.for(Q).directUniforms();V._7O=V._8O.pop(),V._modelMatrix=V._modelMatrixStack.pop(),R&&(Q.uModelViewMatrix=V._7O,V._6O=R,Q.uNormalMatrix=R)},bE=function(V,R){var Q,X,b,A,c,f;return(Q=R=R||js())[0]=V[0],Q[1]=V[1],Q[2]=V[2],Q[3]=V[3],Q[4]=V[4],Q[5]=V[5],Q[6]=V[6],Q[7]=V[7],Q[8]=V[8],Q[9]=V[9],Q[10]=V[10],Q[11]=V[11],Q[12]=V[12],Q[13]=V[13],Q[14]=V[14],Q[15]=V[15],Lg(R),V=(Q=R)[1],X=Q[2],b=Q[3],A=Q[6],c=Q[7],f=Q[11],Q[1]=Q[4],Q[2]=Q[8],Q[3]=Q[12],Q[4]=V,Q[6]=Q[9],Q[7]=Q[13],Q[8]=X,Q[9]=A,Q[11]=Q[14],Q[12]=b,Q[13]=c,Q[14]=f,R},AE=function(V,R){var Q=V.getGL(),X=V._7O,Q=t8.for(Q).directUniforms();R?(V._8O.push(vs(X)),V._modelMatrixStack.push(vs(V._modelMatrix)),Q.uModelMatrix=sg(V._modelMatrix,V._modelMatrix,R),V._7O=sg(X,X,R)):Q.uModelMatrix=V._modelMatrix=vs(Cs),Q.uModelViewMatrix=X,Q.uNormalMatrix=bE(X,V._6O)},cE={body:0,label:1,label2:2,note:3,note2:4,symbol:5},fE=function(V,R,Q,X,b,A){var c,f=Q?((Q=X._pickId)||(Q=X._pickId=R._pickIdUsed,R._pickIdUsed+=10),null!=(f=cE[b])?c=Q+f:(c=(Q=(Q=X._pickExtraPartMap)||(X._pickExtraPartMap={}))[b])||(c=Q[b]=R._pickIdUsed++),R[c]||(R[c]={data:X.data,part:b}),Mp(c)):d1;return A||(t8.for(V).directUniforms().uFixPickReverseColor=f),f},SE=fE,FE=function(V,R,Q,X){(V.aMatrixInstanced=R)&&Q&&(Q.uRightMatrixInstanced=X?X.getElements?X.getElements():X:Cs)},DE=function(V,R,Q){var X,b="target"===(Q="target"!==Q?"source":Q)?R.getTargetAgent():R.getSourceAgent(),Q="edge."+Q+".";if(r(b))return l=R.s(Q+"anchor.x"),c=R.s(Q+"anchor.elevation"),J=R.s(Q+"anchor.y"),X=xs(b,V.getMat(b)),H=b.getAnchor3d(),(l=Ts([(l===N8?.5:l)-H.x,(c===N8?.5:c)-H.y,(J===N8?.5:J)-H.z],X))[1]+=R.s(Q+"offset.elevation"),l;var A=R.s(Q+"index"),c=V.getData3dUI(b);if(!c.info||!c.info.list)return!1;if(0<=A){for(var f,S,F,D=(s=c.info._lastPointsSegments).points,P=s.segments,N=-1,q=-1,L=0,e=(P||D).length;L<e;L++){if(3===(S=P?P.get(L):1))F=2;else if(4===S)F=3;else{if(5===S)continue;F=1}if(N+=F,++q===A){f=D.get(N);break}}return[(f=f||D.get(D.length-1)).x,(f.e||0)+R.s(Q+"offset.elevation"),f.y]}var J=R.s(Q+"percent")||0,J=Math.max(0,Math.min(J,1));if(!c||!c.getCache)return!1;var s,l,H=c.getCache(),e=H[H.length-1].length;return[(l=(s=V.getLineOffset(b,J*e)).point).x,l.y+R.s(Q+"offset.elevation"),l.z]},PE=(Dv={center:function(V,R,Q,X,b){var A=-R[1]/2,A={x:-R[0]/2,y:A,width:R[0],height:R[1]};return[(R=_4(V,A,Q)).x+X,-R.y-b,L8.getPosition3dGap()]},front:function(V,R,Q,X,b){var A=-R[1]/2,A={x:-R[0]/2,y:A,width:R[0],height:R[1]};return[(V=_4(V,A,Q)).x+X,-V.y-b,R[2]/2+L8.getPosition3dGap()]},back:function(V,R,Q,X,b){var A={x:-R[0]/2,y:-R[1]/2,width:R[0],height:R[1]};return[-(V=_4(V,A,Q)).x-X,-V.y-b,-R[2]/2-L8.getPosition3dGap()]},left:function(V,R,Q,X,b){var A=-R[1]/2,A={x:-R[2]/2,y:A,width:R[2],height:R[1]},V=_4(V,A,Q);return[-R[0]/2-L8.getPosition3dGap(),-V.y-b,V.x+X]},right:function(V,R,Q,X,b){var A={x:-R[2]/2,y:-R[1]/2,width:R[2],height:R[1]},V=_4(V,A,Q);return[R[0]/2+L8.getPosition3dGap(),-V.y-b,-V.x-X]},top:function(V,R,Q,X,b){var A={x:-R[0]/2,y:-R[2]/2,width:R[0],height:R[2]};return[(V=_4(V,A,Q)).x+X,R[1]/2+L8.getPosition3dGap(),V.y+b]},bottom:function(V,R,Q,X,b){var A=-R[2]/2,A={x:-R[0]/2,y:A,width:R[0],height:R[2]};return[(V=_4(V,A,Q)).x+X,-R[1]/2-L8.getPosition3dGap(),-V.y-b]}},function(V,R,Q,X,b,A){return Dv[X](V,R,Q,b||0,A||0)}),NE=function(V,R,Q,X,b,A,c,f,S,F){return b&&(R[0]+=b[0],R[1]+=b[1],R[2]+=b[2]),eg(V,Q),f?(b=js(),Fu(b,S,F),Ts(R,b),eg(V,R),V.auto=f,V.pos=Ts([0,0,0],V),A&&(Q=V.mat2=js(),Fu(Q,A,c))):(Fu(V,S,F),eg(V,R),X===AR?Zs(V,-M8):X===cR?Zs(V,M8):X===fR?Is(V,-M8):X===SR?Is(V,M8):X===bR&&Zs(V,w),Fu(V,A,c)),V},qE=function(V,R){var Q,X,b=R.auto,A=R.mat2;R=(V=V.gv).processModelMatrix(R),b&&(Q=js(),X=[0,0,0,0],b="string"==typeof b?[(b.indexOf("x")<0?V._eye:V._center)[0],(b.indexOf("y")<0?V._eye:V._center)[1],(b.indexOf("z")<0?V._eye:V._center)[2]]:V._eye,tg(X,lg(js(),b,V._center,V._up)),gg(Q,yg(X,X),[R[12],R[13],R[14]]),A&&sg(Q,Q,A),R=Q),AE(V,R)},LE=function(V,R,Q,X,b){var A=V.s,c=V.gv,f=c.getGL(),S=c._buffer,F=f._sharedTexture,D=t8.for(f).directAttribs();ug(c,f,h2,F),qE(V,Q),Cg(f,A(R+".blend"),A(R+".light"),A(R+".opacity"),A(R+".reverse.flip"),A(R+".reverse.color"),V.data._forceSingleFace||A(R+".reverse.cull")),hg(f,F,b,S.uv,ey),D.aPosition=Gg(f,S.vs,X,q8),D.aNormal=Gg(f,S.ns,Jy,q8),VE(f,S.is,sy),kg(f,0,sy.length),Tg(f,F),vg(f),XE(c)},eE=function(V,R,Q){var X=V.gv,b=V.data,A=X.getFaceMaterial(b,R),V=V[R]={blend:X.getBodyColor(b)||X.getFaceBlend(b,R),light:X.getFaceLight(b,R),color:X.getFaceColor(b,R),opacity:X.getFaceOpacity(b,R),transparent:A?sE(A):X.getFaceTransparent(b,R),reverseFlip:X.getFaceReverseFlip(b,R),reverseColor:X.getFaceReverseColor(b,R),reverseCull:X.getFaceReverseCull(b,R),texture:X.getFaceImage(b,R),blendTexture:X.getFaceBlendImage(b,R),discardSelectable:X.getFaceDiscardSelectable(b,R),material:A};return"csg"!==R&&(V.uv=X.getFaceUv(b,R)||Q&&Q[R+"Uv"],V.uvScale=X.getFaceUvScale(b,R)||Q&&Q[R+"UvScale"],V.uvOffset=X.getFaceUvOffset(b,R)||Q&&Q[R+"UvOffset"],V.uvRotation=X.getFaceUvRotation(b,R)||Q&&Q[R+"uvRotation"],V.uvAnchor=X.getFaceUvAnchor(b,R)||Q&&Q[R+"uvAnchor"],(A=X.getFaceMat(b,R))&&(Q=xs(b,A),b.appendAnchorMatrix3d(Q),V.mat=Q)),V},JE=function(V,R,Q,X,b){var A,c,f,S,F=V[X];F&&(A=V.data,!(V=V.gv)._picking&&F.material?Cy(R,V,A,F.material,[F.vs,F.tuv,F.ns]):b(F.transparent)&&(b=V._buffer,X=V.getTexture(F.texture,A,X),c=V.getTexture(F.blendTexture,A),f=(S=t8.for(R)).directUniforms(),S=S.directAttribs(),hg(R,X,F.discardSelectable,b.uv,F.tuv,F.uvOffset,F.uvScale,F.uvRotation,F.uvAnchor,c),Cg(R,F.blend,F.light,F.opacity,F.reverseFlip,F.reverseColor,A._forceSingleFace||F.reverseCull),F.cs&&!V._batchColorDisabled?(f.uBatchColor=!0,S.aBatchColor=Gg(R,b.batchColor,F.cs,Q.aBatchColor,4)):f.uDiffuse=F.color||g8["color.empty"],S.aPosition=Gg(R,b.vs,F.vs,q8),S.aNormal=Gg(R,b.ns,F.ns,q8),Zg(R,0,F.vs.length/3),F.cs&&!V._batchColorDisabled&&(f.uBatchColor=!1,QE(R,Q.aBatchColor)),vg(R),Tg(R,X)))},sE=function(V){return!!V&&!(!(V="string"==typeof V?L8.getMaterial(V):V)||!V.transparent)},lE=(cv=new K8,fv=new K8,Sv=new K8,Fv=new Xf,function(V,R,Q,X,b){V.identity();var A=R.rotationOffset,c=R.rotationPivot,f=R.scalingOffset,S=R.scalingPivot,Q=(cv.fromArray(Q||R.translation),A&&cv.add(fv.fromArray(A)),c&&cv.add(fv.fromArray(c)),V.makeRotationFromQuaternion(Fv.fromArray(X||R.rotation)).setPosition(cv),cv.set(0,0,0),c&&cv.sub(fv.fromArray(c)),f&&cv.add(fv.fromArray(f)),S&&cv.add(fv.fromArray(S)),0===cv.x&&0===cv.y&&0===cv.z||V.translate(cv),b||R.scale);return 2!==R.inheritType&&Q&&(Sv.fromArray(Q),1===Sv.x&&1===Sv.y&&1===Sv.z||V.scale(Sv)),S&&V.translate(fv.multiplyScalar(-1)),V}),HE=(Xv=[0,0,0],bv=new y8,Av=new y8,function(V,f,S){var F,D,P,N;H8(V)?V.forEach(function(V){HE(V,f,S)}):l8(V)?HE(hy(f,V),f,S):qJ(V)?V.model3d?L8.traverse(V,function(V,R){P=V.position,F=V.scale,!(D=V.quaternion)&&(D=V.euler)&&(D=B.eulerArrayToQuaternionArray(D,Xv));var Q=V._matrixWorld;if((Q=Q||(V._matrixWorld=new y8)).composeFromArray(P,D,F),R&&Q.premultiply(R._matrixWorld),V.instances&&V.instances.aMatrixInstanced&&(N={model:V,data:V.instances.aMatrixInstanced,m:R?R._matrixWorld:bv,mi:R?R._matrixWorld.clone().invert():bv}),(P=V.model)&&(P=L8.getShape3dModel(P))){var X=[];HE(P,f,X);for(var b=0,A=X.length;b<A;b++){var c=X[b];fn(S,{mesh:c.mesh,matrix:c.matrix?c.matrix.clone().premultiply(Q):Q},N)}}else"string"==typeof(R=V.mesh)&&(R=L8.getMesh(R)),(R=yG(R))&&fn(S,{matrix:Q,mesh:R},N)},function(V){N&&N.model==V&&(N=null)},"comps"):V.shape3d?HE(V.shape3d,f,S):S.push({mesh:V}):S.push({mesh:V})}),KE=(Qv=new B.Matrix2d,function(V,R,Q,X,b){return(b=b||Qv).identity(),X&&b.translate(-X[0],-X[1]),Q&&b.scale(Q[0],Q[1]),V&&b.rotate(V),X&&b.translate(X[0],X[1]),R&&b.translate(R[0],R[1]),b}),yE=(Vv=[1,0,0,0,1,0,0,0,1],Rv=[1,0,0,0,1,0,0,0,1],function(V,R,Q,X){return V||R||Q||X?(dI=V?(GI=J8(V),e8(V)):(GI=0,1),BI=Q?(xI=Q[0],Q[1]):xI=1,pI=dI*xI,II=GI*xI,ZI=-GI*BI,dI*=BI,BI=X?(kI=X[0]-(pI*X[0]+ZI*X[1]),X[1]-(II*X[0]+dI*X[1])):kI=0,R&&(kI+=R[0],BI+=R[1]),Rv[0]=pI,Rv[1]=II,Rv[3]=ZI,Rv[4]=dI,Rv[6]=kI,Rv[7]=BI,Rv):Vv}),tE=function(V,R,Q,X){V.uUseSkinning=!0,V.bindMatrix=R.skeleton.bindMatrix,V.bindMatrixInverse=X.bindMatrixInverse,V.boneTexture=Q,V.boneTextureSize=R._boneTextureSize},gE=(hI=new I.Math.Box3,TI=new I.Math.Box3,WI=new I.Math.Matrix4,UI=new I.Math.Matrix4,function(R,V){var X,Q,b,A,c,f,S,F,D,P,N,q=V.cube,L=V.center,e=cn(V.r3)?V.r3:null,J=cn(V.t3)?V.t3:null,s=cn(V.s3,!0)?V.s3:null;!q&&!L||(X=V.box3)||(X=hI.makeEmpty(),L8.traverse(V.scene,function(V,R){var Q=V.mesh;V._matrixWorldNeedUpdate&&(R&&V.matrixWorld.premultiply(R.matrixWorld),delete V._matrixWorldNeedUpdate),Q&&Q.attributes&&Q.attributes.position&&(TI.setFromArray(Q.attributes.position.array),V.matrixWorld&&TI.applyMatrix4(V.matrixWorld),X.expandByBox(TI))},null,"_children")),(e||J||s)&&(Q=WI.fromArray(Bs(null,s,e,V.rotationMode,J)),X&&X.applyMatrix4(Q)),L?(R.center=X.max.clone().add(X.min).multiplyScalar(.5).toArray(),b=R.center[0],A=R.center[1],c=R.center[2]):b=A=c=0,q?(P=L?(f=(q=X.max.clone().sub(X.min).toArray())[0],S=q[1],q[2]):(f=2*Math.max(Math.abs(X.min.x),Math.abs(X.max.x)),S=2*Math.max(Math.abs(X.min.y),Math.abs(X.max.y)),2*Math.max(Math.abs(X.min.z),Math.abs(X.max.z))),0===f&&(f=Math.min(S,P)/1e3||.001),0===S&&(S=Math.min(f,P)/1e3||.001),0===P&&(P=Math.min(f,S)/1e3||.001),R.rawS3=[f,S,P],F=[1/f,1/S,1/P]):f=S=P=1,L&&(D=[-b/f,-A/S,-c/P]),Q&&(e?(N={},["mesh","mat","subMeshes","comps"].forEach(function(V){R[V]&&(N[V]=R[V],delete R[V])}),J&&(N.position=J),e&&(N.quaternion=B.eulerArrayToQuaternionArray([e[0],e[1],e[2],qf.ReverseOrder(V.rotationMode||Su)])),s&&(N.scale=s),R.comps=[N]):((q=UI.composeFromArray(D,null,F)).multiply(Q),F=q.extractScale().toArray(),s&&(F[0]*=Math.sign(s[0]),F[1]*=Math.sign(s[1]),F[2]*=Math.sign(s[2])),D=q.getPosition().toArray())),cn(D)&&(R.position=D),cn(F,!0)&&(R.scale=F)}),mE=function(V,R){var Q,X=[];for(Q in V){var b=V[Q];X.rawS3=b.rawS3,b.center&&(X.center=b.center),b.externalAssetURIs&&(X.externalAssetURIs=b.externalAssetURIs,delete b.externalAssetURIs),X.push(b),R&&R(Q,b)}return X},zE=function(V,R,Q,X,b,A){for(var c,f,S,F,D,P,N,q,L,e=[X-R,b-Q],J=V?V.length:0,s=0;s<J;s++){for(f=2,S=(c=V[s])[0],F=c[1];f+1<c.length;){if(D=c[f],P=c[f+1],MJ(R,Q,X,b,S,F,D,P,!0)){q=qs(N=[D-S,P-F]),N[0]/=q,N[1]/=q,q=$s(e,N),L=[N[0]*(q=0<q?A:-A),N[1]*q];break}S=D,F=P,f+=2}if(L)break}if(L)for(X=R+L[0],b=Q+L[1],s=0;s<J;s++)for(f=2,S=(c=V[s])[0],F=c[1];f+1<c.length;){if(D=c[f],P=c[f+1],MJ(R,Q,X,b,S,F,D,P,!0))return[0,0];S=D,F=P,f+=2}return L||[X-R,b-Q]},YE=function(V){return"nearest"===V?9728:"linear"===V?9729:V},uE=function(V,R,Q){var X=V.getData3dUI(R),V=X._vsTranslation?V.createNodeFinalMatrix(R,X._matWithExtraction):V.createNodeFinalMatrix(R,Q||OE);return X._finalMat=V},k=I.graph3d={WebGLConstants:j1},V=function(V,R,Q){Os("ht.graph3d."+V,R,Q)},oE="~!<yfusfw!+!yjsubNudfkpsQv!>!opjujtpQ`mh!\v?zepc/tw/qbNxpmg=!fevmdoj$\v!\v?zepc/tw/qbNxpebit=!fevmdoj$\v!\vgjeof$\v!~!<fdobutjEfojMb!>!fdobutjEfojMw!|!*itbEv)!gj!\vITBE!gfegj$\v!\vgjeof$\v!~!<ttfouihjsCidubCb!>!ttfouihjsCidubCw!|!*ttfouihjsCidubCv)!gj!\vTTFOUIHJSCIDUBC!gfegj$\v!\vgjeof$\v!~!<eofmCidubCb!>!eofmCidubCw!|!*eofmCidubCv)!gj!\vEOFMCIDUBC!gfegj$\v!\vgjeof$\v!~!<spmpDidubCb!>!spmpDidubCw!|!*spmpDidubCv)!gj!\vSPMPDIDUBC!gfegj$\v!\vgjeof$\v!~!<**1/2!-wVb)4dfw!+!yjsubNwVv)3dfw!>!wVw!|!*fsvuyfUv)!gj!\vftmf$\v!<*y/wVb!-**1/2!-wVb)4dfw!+!yjsubNwVv)3dfw)4dfw!>!wVw!\vQJMD`WV!gfegj$\v!<*efnspgtobsu!+!yjsubNmfepNv)4dfw!>!opjujtpQemspXw!<*yfusfw)4dfw!>!opjujtpQwNw!<efnspgtobsu!+!yjsubNxfjWmfepNv!>!yfusfw!5dfw!\v?zepc/tw/hojdobutoj=!fevmdoj$\v!<*mbnspOb)4dfw!>!mbnspOudfkcp!4dfw!<*opjujtpQb)4dfw!>!opjujtpQmbdpMw!<*1/2!-opjujtpQb)5dfw!>!efnspgtobsu!5dfw!|!*)ojbn!ejpw!\v?ebfi/tw/qbNxpmg=!fevmdoj$\v!\v?ebfi/tw/qbNxpebit=!fevmdoj$\v!\vgjeof$\v!<fdobutjEfojMw!ubpmg!hojzsbw!<fdobutjEfojMb!ubpmg!fuvcjsuub!<itbEv!mppc!nspgjov!\vITBE!gfegj$\v!\vgjeof$\v!<^TUIHJM`UPQT`NVO]opjudfsjEupqTv!4dfw!nspgjov!<^TUIHJM`UPQT`NVO]opjujtpQupqTv!4dfw!nspgjov!<^TUIHJM`UPQT`NVO]spmpDupqTv!5dfw!nspgjov!\v1!?!TUIHJM`UPQT`NVO!gj$\v!\vgjeof$\v!<^TUIHJM`UOJPQ`NVO]opjujtpQuojpQv!4dfw!nspgjov!<^TUIHJM`UOJPQ`NVO]spmpDuojpQv!5dfw!nspgjov!\v1!?!TUIHJM`UOJPQ`NVO!gj$\v!\vgjeof$\v!<^TUIHJM`SJE`NVO]opjudfsjEsjEv!4dfw!nspgjov!<^TUIHJM`SJE`NVO]spmpDsjEv!5dfw!nspgjov!\v1!?!TUIHJM`SJE`NVO!gj$\v!<opjujtpQmbdpMw!4dfw!hojzsbw!<opjujtpQemspXw!4dfw!hojzsbw!<opjujtpQwNw!4dfw!hojzsbw!<mbnspOw!4dfw!hojzsbw!<yjGv!mppc!nspgjov!\vgjeof$\v!\v?ebfi/tw/hojdobutoj=!fevmdoj$\v!\vZDBHFM`HOJDOBUTOJ`FTV!fojgfe$\v!\vHOJDOBUTOJ`FTV!fojgfe$\v!\vFDOBUTOJIDUBC!gfegj$\v!\vgjeof$\v!<wVw!3dfw!hojzsbw!\vftmf$\v!<wVw!4dfw!hojzsbw!\vQJMD`WV!gfegj$\v!\vgjeof$\v!<eofmCidubCw!4dfw!hojzsbw!<eofmCidubCb!4dfw!fuvcjsuub!<eofmCidubCv!mppc!nspgjov!\vEOFMCIDUBC!gfegj$\v!\vgjeof$\v!<ttfouihjsCidubCw!ubpmg!hojzsbw!<ttfouihjsCidubCb!ubpmg!fuvcjsuub!<ttfouihjsCidubCv!mppc!nspgjov!\vTTFOUIHJSCIDUBC!gfegj$\v!\vgjeof$\v!<spmpDidubCw!5dfw!hojzsbw!<spmpDidubCb!5dfw!fuvcjsuub!<spmpDidubCv!mppc!nspgjov!\vSPMPDIDUBC!gfegj$\v!<wVb!3dfw!fuvcjsuub!<opjujtpQb!4dfw!fuvcjsuub!<mbnspOb!4dfw!fuvcjsuub!<yjsubNmbnspOv!5ubn!nspgjov!<yjsubNxfjWmfepNv!5ubn!nspgjov!<yjsubNmfepNv!5ubn!nspgjov!<yjsubNxfjWv!5ubn!nspgjov!<yjsubNudfkpsQv!5ubn!nspgjov!<yjsubNwVv!4ubn!nspgjov!<fsvuyfUeofmCv!mppc!nspgjov!<fsvuyfUv!mppc!nspgjov!\vYJGFSQ$!00^#CBRBEJxTT87hJFI,,bX1XrIwcn3UM{ZeZ,M6HEN6nLxe2Z72s2:3johr6foKrpqwxNKYkdbJ2CN[mBbf[wXU,T0oGuSEd190ohLZkEn8IuCe[OHoWeKz:Sf,VS7xdSLw23W1YJLU:jdv2{hiDbhDzNNEh9tp3xsuEp94Sl4c3wRzqwShMDRhCLRjCDEBOH5BBVRBCFRE4cJTHrTDH1BNgHJN",_E=(mJ(L8,{setBatchInfo:function(V,R){we[V]=R},getBatchInfo:function(V){return we[V]},getBatchInfoMap:function(){return we},setBatchInfoMap:function(V){we=V}},!0),[1,1,1]),OE=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],wE=[1,0,0,0,0,1,0,1,1,1,1,0],aE=[-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5],iE=[.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5],nE=[.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5],ME=[.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5],rE=[.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5],EE=[-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5],$E=function(V,R){V._40Q.each(function(V){V.ivBatch(R)})},jE=function(V,R,Q,X){var b=R[Q=Q._id];if(b){var A=(s=V[S=b.batch]).ds,c=b.index;if(s.invalidate=!0,delete R[Q],A.splice(c,1),OJ(A))return!1!==(Q=X.getBatchInfo(S)||We).keepData&&s.ms&&s.ms.length&&Q.instanced&&!X.isBatchInstancedDisabled()?(s.ms=[],s.ics&&(s.ics=[]),void(s.ps&&(s.ps=[]))):void delete V[S];for(var Q=c,X=b.begin,f=b.size;c<A.length;c++)(b=R[A[c]._id]).index--,b.begin-=f;if(s.ms&&s.ms.length)return s.ms.splice(16*Q,16),s.ics&&s.ics.splice(4*Q,4),void(s.ps&&(s.ps.splice(4*Q,4),s.ps._invalidateThisFrame=!0));var V=3*X,S=3*f,Q=4*X,F=4*f,D=s.vs,P=s.ps,N=s.uv,q=s.cs,L=s.bs,e=s.rs,J=s.ns,s=s.ls;D.splice(V,S),P.splice(Q,F),P._invalidateThisFrame=!0,N&&N.splice(2*X,2*f),q&&q.splice(Q,F),L&&L.splice(V,S),e&&e.splice(X,f),J&&J.splice(V,S),s&&s.splice(X,f)}},CE=function(V,R,Q,X,b){if(!X)return q8;var A,c,f=R[X];return f||(c=(A=b.getBatchInfo(X)||We).image||A.material?[]:q8,b=A.instanced&&!b.isBatchInstancedDisabled(),f=R[X]={vs:[],ns:[],uv:c,cs:c||A.color?q8:[],bs:A.blend?[]:q8,ps:[],rs:A.brightness?[]:q8,ds:[],ms:b?[]:q8,ics:c||A.color||!b?q8:[]}),f.invalidate=!0,V[Q._id]={index:f.ds.length,begin:f.vs.length/3,batch:X},f.ds.push(Q),f},vE=function(V,R){return R!=q8&&1!==R?[V[0]*R,V[1]*R,V[2]*R,V[3]]:V},hE=function(V){V&&(V._ctlineModel=[],V._lineModel=N8)},TE=function(V,R,Q){var y=V.getData3dUI(R);if((f=(f=y.shapeModel)||hy(y))||!y.shapeName){var X,b=R.s("wf.combineTriangle");if(Q.geometry){if(f||(R instanceof I.Node&&!(R instanceof I.Shape)?f=Jv=Jv||{vs:ly,is:Hy,uv:Ky}:(f=y._shapeModelCacheForWf)||(f=y._shapeModelCacheForWf=[y.left,y.front,y.right,y.back,y.top,y.bottom])),!(X=b?(X=R.s("wf.normEpsilon"),isNaN(X)&&(X=2),b=0|Math.min(3,Math.max(1,isNaN(b)?1:b)),uq[b-1](f,y,180/(Math.PI*X))):function(V){var R,Q,X,b,A;if(D=V._lineModel)return D;for(var c,f,S,F=["","top_","bottom_","from_","to_"],D=[],P=[],N=(HE(V,y,P),B.requestVector3()),q=B.requestVector3(),L=B.requestVector3(),e=0,J=P.length;e<J;e++)if((b=P[e])&&(A=b.mesh))for(R=0,Q=F.length;R<Q;R++)if(X=A[F[R]+"vs"])for(var s=A[F[R]+"is"],l=b.matrix,H=s?s.length:X.length/3,K=0;K<H;K+=3)S=s?(c=s[K],f=s[K+1],s[K+2]):(f=(c=K)+1,K+2),c*=3,f*=3,S*=3,l?(N.fromArray(X,c).applyMatrix4(l),q.fromArray(X,f).applyMatrix4(l),L.fromArray(X,S).applyMatrix4(l),D.push(N.x,N.y,N.z,q.x,q.y,q.z,q.x,q.y,q.z,L.x,L.y,L.z,L.x,L.y,L.z,N.x,N.y,N.z)):D.push(X[c],X[c+1],X[c+2],X[f],X[f+1],X[f+2],X[f],X[f+1],X[f+2],X[S],X[1+S],X[2+S],X[S],X[1+S],X[2+S],X[c],X[c+1],X[c+2]);return B.releaseVector3(N),B.releaseVector3(q),B.releaseVector3(L),0<D.length&&(V._lineModel=D),D}(f))||0===X.length)return}else X=Q.short?my:gy,R.s("wf.boundingBox")&&(b=y.getBoundingBox(!0))&&(f=(new y8).scale(b.max.clone().sub(b.min)).setPosition(b.max.clone().add(b.min).divideScalar(2)).toArray(),X=bg([],f,X));var A,c,b=V.getBrightness(R),f=R.s("bloom"),S=R.s("3d.reflectable"),F=I2(Q.color||"white"),D=F[3]<1,P=Math.ceil(Q.width)||1,N=R.s("3d.clipbox")?U1:R.s("3d.clipbox.mask"),q=R.s("wf.fog"),L=R.s("wf.group"),e=R.getRenderLayer(),V=V._40Q.get(e),e=R.s("wf.material"),J=V.wireframeIndexMap,V=V.wireframeModelMap,s=R.s("batch"),l=R.s("3d.clip.direction");if(e||l){if(l){if(0===(c=R.s("3d.clip.percentage")))return;c=y._formatClipUniforms(l,c,R)}A="_"+R._id}else A=s?(D?"T":"O")+L+"_"+s:(D?"T":"O")+L+(f?"_1":"_0")+(S?"1_":"0_")+N+"_"+P+(q?"1_":"0_");l=(l=V[A])||(V[A]={vs:[],cs:[],ps:[],ds:[],T:D,B:f,clipboxMask:N,reflectable:!!S,W:P,batch:s,fog:q}),e&&(l.material=e),l.invalidate=!0,L=l.vs,V=l.cs,D=l.ds,f=J[R._id]={index:D.length,begin:L.length/3,batch:A},D.push(R),N=y._finalMat,R instanceof I.Edge||!(!N||!Q.geometry&&R instanceof I.Shape)||(N=xs(R,Q.mat),R.appendAnchorMatrix3d(N)),c?(l.mat=vs(N),l.clipDirection=c[0],l.clipPercent=c[1],bg(L,null,X)):bg(L,N,X),S=f.size=L.length/3-f.begin,Xg(V,vE(F,b),S)}},WE=function(V,R,Q,X){if(R){var b=(Q=Q[R.batch]).ps,A=(Q=Q.ms&&Q.ms.length)?4*R.index:4*R.begin,c=Q?1:R.size;if(b[A]!==V[0]||b[A+1]!==V[1]||b[A+2]!==V[2]||b[A+3]!==V[3]){for(var f=0;f<c;f++)b[A++]=V[0],b[A++]=V[1],b[A++]=V[2],b[A++]=V[3];b._invalidateThisFrame=!0}}},UE=(Lv=new I.Math.Vector3,ev=new I.Math.Vector3,function(V,R){var Q=R+["32"],X=V[R],b=V[Q];if(X){if(L8.extractBatchTranslation||L8.extractVerticesTranslation)if("vs"!==R||V.ms&&V.ms.length){if("ms"===R&&V.ms&&V.ms.length){for(ev.set(0,0,0),c=X.length,f=12;f<c;f+=16)ev.add(Lv.fromArray(X,f));for(ev.divideScalar(c/16),S=ev.x,F=ev.y,D=ev.z,P=new Array(c),f=0;f<c;f+=16){for(var A=0;A<12;A++)P[f+A]=X[f+A];P[f+12]=X[f+12]-S,P[f+13]=X[f+13]-F,P[f+14]=X[f+14]-D,P[f+15]=X[f+15]}X=P,V.translate=[S,F,D]}}else{ev.set(0,0,0);for(var c=X.length,f=0;f<c;f+=3)ev.add(Lv.fromArray(X,f));ev.divideScalar(c/3);for(var S=ev.x,F=ev.y,D=ev.z,P=new Array(c),f=0;f<c;f+=3)P[f]=X[f]-S,P[f+1]=X[f+1]-F,P[f+2]=X[f+2]-D;X=P,V.translate=[S,F,D]}b&&b.length===X.length?(b.set(X),b._bufId=null):V[Q]=new Ms(X)}else delete V[Q]}),pE=function(V,R,Q,X,b,A,c,f){var S,F,D=R instanceof I.Shape,P=A[0],N=A.length;if(1<N)for(var P=vs(P),q=1;q<N;q++)sg(P,P,A[q]);D&&(S=R.p3(),eg(P,S)),tJ(c.ms,P),c.ics&&Xg(c.ics,R.s("shape3d.color")||L,1),c.vs.length||(F=vs(OE),D&&eg(F,Es(S)),IE(V,R,Q,X,b,[F],c,f))},IE=function(R,Q,V,X,b,A,c,f){if(H8(V))V.forEach(function(V){IE(R,Q,V,X,b,A,c,f)});else if(l8(V))IE(R,Q,hy(X,V),X,b,A,c,f);else if(qJ(V)){var S,F=p(V.mat,Q,R),D=p(V.s3,Q,R),P=p(V.t3,Q,R),N=p(V.r3,Q,R);if((D||N||P||F)&&(S=Bs(F,D,N,p(V.rotationMode,Q,R),P),A.push(S)),V.shape3d)IE(R,Q,V.shape3d,X,b,A,c,V);else{var F=X.s,q=(f=f||We,A[0]),L=A.length,D=F("shape3d.color",V.color,f.color);if(b=b||F("shape3d.blend",V.blend,f.blend),1<L)for(var q=vs(q),e=1;e<L;e++)sg(q,q,A[e]);N=q?bE(q):q8,V.vs&&F(MA,V.visible,f.visible)&&ZE(q,c,V.vs,V.uv,V.is,V.ns,N,b,D),V.top_vs&&F($A,V.topVisible,f.topVisible)&&ZE(q,c,V.top_vs,V.top_uv,V.top_is,V.top_ns,N,b,F("shape3d.top.color",V.topColor,f.topColor)||D),V.bottom_vs&&F(jA,V.bottomVisible,f.bottomVisible)&&ZE(q,c,V.bottom_vs,V.bottom_uv,V.bottom_is,V.bottom_ns,N,b,F("shape3d.bottom.color",V.bottomColor,f.bottomColor)||D),V.from_vs&&F(rA,V.fromVisible,f.fromVisible)&&ZE(q,c,V.from_vs,V.from_uv,V.from_is,V.from_ns,N,b,F("shape3d.from.color",V.fromColor,f.fromColor)||D),V.to_vs&&F(EA,V.toVisible,f.toVisible)&&ZE(q,c,V.to_vs,V.to_uv,V.to_is,V.to_ns,N,b,F("shape3d.to.color",V.toColor,f.toColor)||D)}S&&A.pop()}},ZE=function(Q,V,X,b,R,A,c,f,S){var F,D=V.cs,P=V.uv,N=V.bs,q=V.ns,L=V.vs,V=(A&&0!==A.length||(A=Yg(X,R)),y8.determinantOfArray(Q)<0);R||V?(F=R?R.length:X.length/3,Us(R||F,V,function(V){var R=3*V;bg(L,Q,[X[R],X[1+R],X[2+R]]),bg(q,c,[A[R],A[1+R],A[2+R]]),P&&tJ(P,[b[2*V],b[2*V+1]])})):(F=X.length/3,bg(L,Q,X),bg(q,c,A),P&&tJ(P,b)),D&&Xg(D,S,F),N&&(f?Qg(N,f,F):tJ(N,_E,F))},kE=function(V,R,Q){var X=V.data.p3();R=vs(R),eg(R,X),tJ(Q.ms,R),Q.ics&&Xg(Q.ics,V.data.s("shape3d.color")||L,1),Q.vs.length||(R=vs(OE),eg(R,Es(X)),xE(V,R,Q))},xE=function(V,R,Q){Vy(V,AR,R,Q),Vy(V,cR,R,Q),Vy(V,XR,R,Q),Vy(V,bR,R,Q),Vy(V,fR,R,Q),Vy(V,SR,R,Q),Vy(V,"csg",R,Q)},BE=function(V,R,Q,X,b,A){tJ(Q.ms,b),Q.ics&&Xg(Q.ics,R.s("all.color")||L,1),Q.vs.length||GE(V,R,Q,X,vs(OE),A)},GE=function(V,R,Q,X,b,A){Ry(V,R,Q,X,b,A,AR,aE),Ry(V,R,Q,X,b,A,cR,iE),Ry(V,R,Q,X,b,A,fR,nE),Ry(V,R,Q,X,b,A,SR,ME),Ry(V,R,Q,X,b,A,XR,rE),Ry(V,R,Q,X,b,A,bR,EE)},dE=function(V,R,Q,X,b){X?b.instanced?V.gv.batchInstancedModel(V.data,X,V,V.getBodyColor(),[R],Q):IE(V.gv,V.data,X,V,V.getBodyColor(),[R],Q):b.instanced?V.gv.batchInstancedShapeFace(V,R,Q):xE(V,R,Q)},Vy=function(V,R,Q,X){if(V=V[R]){var b=V.tuv;if(b){var R=V.uvScale,A=V.uvOffset,c=V.uvRotation,f=V.uvAnchor;if(R||A||c)for(var S,F,D=(c=KE(c,A,R,f)).a,P=c.b,N=c.c,q=c.d,L=c.tx,e=c.ty,J=b.length,s=0;s<J;s+=2)S=b[s],F=b[s+1],b[s]=D*S+N*F+L,b[s+1]=P*S+q*F+e}ZE(Q,X,V.vs,b,q8,q8,Q?bE(Q):q8,V.blend,V.color)}},Ry=function(V,R,Q,X,b,A,c,f){var S,F,D,P,N,q,L,e,J,s,l,H,K,y,t,g=Q.cs,m=Q.uv,z=Q.bs,Y=Q.vs,u=Q.ns,o=Yg(f);V.getFaceVisible(R,c)&&((Q=V.getFaceMat(R,c))&&(b=xs(R,Q),A=bE(b)),y8.determinantOfArray(b)<0?(Q=f.length/3,Us(Q,!0,function(V){bg(Y,b,[f[V*=3],f[1+V],f[2+V]]),bg(u,A,[o[V],o[1+V],o[2+V]])})):(bg(Y,b,f),bg(u,A,o)),g&&Xg(g,V.getFaceColor(R,c),6),m&&(Q=V.getFaceUv(R,c)||X[c+"Uv"],g=V.getFaceUvScale(R,c)||X[c+"UvScale"],S=V.getFaceUvOffset(R,c)||X[c+"UvOffset"],P=V.getFaceUvRotation(R,c)||X[c+"UvRotation"],X=V.getFaceUvAnchor(R,c)||X[c+"UvAnchor"],N=(Q=Q?[Q[6],Q[7],Q[0],Q[1],Q[2],Q[3],Q[2],Q[3],Q[4],Q[5],Q[6],Q[7]]:wE)[0],q=Q[1],L=Q[2],e=Q[3],J=Q[4],s=Q[5],l=Q[6],H=Q[7],K=Q[8],y=Q[9],t=Q[10],Q=Q[11],(g||S||P||X)&&(S=(P=KE(P,S,g,X)).a,g=P.b,X=P.c,F=P.d,q=g*(N=S*N+X*q+(D=P.tx))+F*q+(P=P.ty),e=g*(L=S*L+X*e+D)+F*e+P,s=g*(J=S*J+X*s+D)+F*s+P,H=g*(l=S*l+X*H+D)+F*H+P,y=g*(K=S*K+X*y+D)+F*y+P,Q=g*(t=S*t+X*Q+D)+F*Q+P),m.push(N,q,L,e,J,s,l,H,K,y,t,Q)),z&&((g=V.getBodyColor(R)||V.getFaceBlend(R,c))?Qg(z,g,6):tJ(z,_E,6)))},Qy=function(V,R,Q,X){var b,A,c,f,Q=V._picking?V.pickColorMap:null,S=V.getGL(),F=V._buffer;if(!_J(R)){for(f in AE(V,OE),$g(S),R){var D,P,N,q,L,e,J,s,l,H=R[f],K=(q=H.batch?(D=(q=V.getBatchInfo(H.batch)||We).wfBloom===N8?q.bloom:q.wfBloom,P=q.wfReflectable===N8?q.reflectable:q.wfReflectable,N=q.wfClipboxMask===N8?q.clipboxMask:q.wfClipboxMask,q.width):(D=H.B,P=H.reflectable,N=H.clipboxMask,H.W),!Q&&H.material);!K&&(X&&!H.T||!X&&H.T||V.isReflecting(S)&&!1===P)||(J=Q&&!V.drawFilter,H.invalidate?(H.invalidate=!1,UE(H,"vs"),UE(H,"cs"),UE(H,"ls"),J&&UE(H,"ps")):J&&H.ps&&H.ps._invalidateThisFrame&&(H.ps._invalidateThisFrame=!1,UE(H,"ps")),J=H.translate,b=H.clipDirection,K?("lines"!==(L=(K=H.material).renderMode)?K.renderMode="lines":L=null,V._prefabRenderer.render(S,{position:J,mesh:{vs:H.vs32,aLineDistance:H.ls32,aBatchColor:H.cs32,_complete_:!0},mat:K},H),L&&(K.renderMode=L)):(J||b?(A=b?vs(H.mat):[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],J&&eg(A,J),c=vs(V._6O),AE(V,A)):A=null,K=H.vs32,L=Q?H.ps32:H.cs32,pg(S,q,q8,F.vs,K),e=(J=t8.for(S)).directUniforms(),J=J.directAttribs(),l=H.D,s=!V._dashDisabled&&l,e.uAlphaTest=g8.alphaTest,S._blooming&&!D&&(e.blackout=!0),b&&(e.uClipPercent=H.clipPercent,e.uClipDirection=b),Eg(V,e,N===N8?W1:N),s&&(e.uDash=!0,e.uDashDistance=l,e.uDashGapDistance=H.G,e.uDiffuse=H.A||g8["color.empty"],J.aLineDistance=Gg(S,F.lineDistance,H.ls32,q8,1)),(l=!V._batchColorDisabled)&&L&&L.length?(e.uBatchColor=!0,J.aBatchColor=Gg(S,F.batchColor,L,q8,4)):(e.uBatchColor=!1,J.aBatchColor=!1),H=!1!==H.fog,e.uFog=H,hg(S),Zg(S,0,K.length/3,1),Tg(S),H||(e.uFog=!0),l&&(e.uBatchColor=!1,J.aBatchColor=!1),s&&(e.uDash=!1,J.aLineDistance=!1),S._blooming&&!D&&(e.blackout=!1),A&&(b&&(e.uClipDirection=0),XE(V,c),e.uModelMatrix=Cs)))}jg(S),XE(V)}},Xy=function(V,R){V.invalidate=!1,UE(V,"vs"),UE(V,"ns"),UE(V,"cs"),UE(V,"rs"),R&&UE(V,"ps"),UE(V,"bs"),UE(V,"uv"),UE(V,"ms"),UE(V,"ics")},by=function(V,R,r,Q,X,b){var A,c,f,S,F,D,P,N,Q=V._picking?V.pickColorMap:null,q=V.getGL(),L=t8.for(q),e=L.directUniforms(),J=L.directAttribs(),s=V._buffer;if(!_J(R)){var l,H,K,y=V._flowObjects.length?V.flowMap:null,t=V.drawFilter;for(A in AE(V,OE),R)if(!1!==(c=V.getBatchInfo(A)||We).visible)if((_=!Q&&c.material)||!(X&&!c.transparent||!X&&c.transparent||V.isReflecting(q)&&!1===c.reflectable)){var g=c.renderLayerMask;if(O_(b=b==q8?u_:b,g=g==q8?u_:g)&&(g=R[A],Q||!c.transparentMask)){if(H=!1,t){if(!1===c.highlight)continue;if(l=g.ds){for(var m=0,z=l.length;m<z;m++)if(!t(l[m])){H=!0;break}if(!H)continue}}var Y,E=X&&!0===c.autoSort&&(V._33Q||g.invalidate)&&!H,u=Q&&!H,o=(g.invalidate?Xy(g,u):u&&g.ps&&g.ps._invalidateThisFrame&&(g.ps._invalidateThisFrame=!1,UE(g,"ps")),g.ms32);if(o){if(!o.length)continue;K=!0}else K=!1;if(u=g.vs32,f=Q?g.ps32:K?g.ics32:g.cs32,F=g.uv32,a=g.bs32,S=g.rs32,D=u.length/3,E&&((Y=cy(u,V.getEye(),V,o))?(g.is=Y.is,g.elementTypeUint=Y.useUint32):(g.is=null,g.elementTypeUint=null)),D){if((Y=c.polygonOffset)&&ag(q,Y),(P=g.translate)&&(N=[1,0,0,0,0,1,0,0,0,0,1,0,P[0],P[1],P[2],1],V._modelMatrixProcess&&(N=V._modelMatrixProcess(N))),_&&!H){var _={mesh:{vs:u,uv:F,ns:g.ns32,is:g.is,_complete_:!0},mat:c.material};K&&(_.instances={aMatrixInstanced:g.ms32}),V._prefabRenderer.render(q,_,c,N)}else{P&&AE(V,N),c.light,_=V.getTexture(c.image),Cg(q,q8,c.light,c.opacity,c.reverseFlip,c.reverseColor,c.reverseCull),f?V._batchColorDisabled?(e.uBatchColor=!1,J.aBatchColor=!1):(e.uBatchColor=!0,H||(J.aBatchColor=K?Bg(q,s.instancedBatchColor,f,q8,4):Gg(q,s.batchColor,f,q8,4))):(e.uBatchColor=!1,e.uDiffuse=c.color||g8["color.empty"]);var O,w=c.alphaTest;e.uAlphaTest=w===N8?g8.alphaTest:w,e.shadowReceive=!Q&&!1!==c.shadowReceive,Eg(V,e,c.clipboxMask===N8?W1:c.clipboxMask),Sg(V,e,c.lightMask===N8?W1:c.lightMask,c.headlightAmbientIntensity),y&&y.resetFlowUniform(c.effectFlowMask===N8?W1:c.effectFlowMask,e),q._blooming&&!c.bloom&&(e.blackout=!0),c.envmap!==N8?(e.uUseEnvMap=!0,e.roughness=c.roughness||0,V._setEnvmapByProbeId(e,c.envmapProbe||0,c.envmap)):(e.uUseEnvMap=!1,e.envMapIntensity=0);(w=a&&!V._batchBlendDisabled)&&(e.uBatchBlend=!0,J.aBatchBlend=Gg(q,s.batchBlend,a,q8));var a=S&&!V._batchBrightnessDisabled;if(a&&(e.uBatchBrightness=!0,J.aBatchBrightness=Gg(q,s.batchBrightness,S,q8,1)),F?hg(q,_,c.discardSelectable,s.uv,F,c.uvOffset,c.uvScale,c.uvRotation,c.uvAnchor):hg(q),J.aPosition=Gg(q,s.vs,u,q8),J.aNormal=Gg(q,s.ns,g.ns32,q8),K&&(e.uUseInstance=!0),H){for(K&&!(O=V._highlightInstancedFloatArray)&&(O=V._highlightInstancedFloatArray=new Ms(16)),m=0,z=l.length;m<z;m++)if(!t(l[m])){var i=r[l[m]._id];if(J.aBatchColor=V.getHighlightPickColor(l[m]),K){for(var n=0;n<16;n++)O[n]=o[16*i.index+n];M=Bg(q,s.ms,O,q8),q.bufferSubData(34962,0,O),FE(J,M,e),Zg(q,0,D,null,1)}else{var M=i.begin,$=i.size;Zg(q,M,$)}}}else K&&(E&&(o=Ay(o,V.getEye())),FE(J,Bg(q,s.ms,o,q8),e)),g.is?(dg(q,s.is,g.is),kg(q,0,D,null,g.elementTypeUint?5125:null,K?g.ms32.length/16:0)):Zg(q,0,D,null,K?g.ms32.length/16:0);F?Tg(q,_):Tg(q),f&&!V._batchColorDisabled&&(e.uBatchColor=!1,J.aBatchColor=!1),w&&(e.uBatchBlend=!1,J.aBatchBlend=!1),a&&(e.uBatchBrightness=!1,J.aBatchBrightness=!1),q._blooming&&!c.bloom&&(e.blackout=!1),K&&(e.uUseInstance=!1,FE(J,N8)),vg(q),P&&(XE(V),e.uModelMatrix=Cs)}Y&&ig(q)}}}XE(V)}},Ay=function(Q,X){for(var V,R,b,A=Q.length/16,c=new Array(A),f=0;f<A;f++)c[f]=f;c.sort(function(V,R){return V=[Q[16*V+12],Q[16*V+13],Q[16*V+14]],R=[Q[16*R+12],Q[16*R+13],Q[16*R+14]],qs(X,R)-qs(X,V)});var S=Q._sortedByEye;for(S&&S.length===Q.length||(S=Q._sortedByEye=new Ms(16*A)),f=0;f<A;f++)for(R=16*f,b=16*c[f],V=0;V<16;V++)S[R+V]=Q[b+V];return S._bufId=null,S},cy=function(X,b,V,R){var Q=X.length/3,A=65535<Q;if(!(V=V._glCapabilities.elementTypeUint&&A)&&A)return null;R&&R.length&&((A=B.requestMatrix4()).fromArray(R).invert(),b=Af(b).applyMatrix4(A).toArray(),B.releaseMatrix4(A));for(var c=new Array(Q),f=Q/3,S=new Array(f),F=0;F<f;F++)S[F]=F;for(S.sort(function(V,R){var Q=[(X[V=9*V]+X[3+V]+2*X[6+V])/4,(X[1+V]+X[4+V]+2*X[7+V])/4,(X[2+V]+X[5+V]+2*X[8+V])/4],R=[(X[V=9*R]+X[3+V]+2*X[6+V])/4,(X[1+V]+X[4+V]+2*X[7+V])/4,(X[2+V]+X[5+V]+2*X[8+V])/4];return 0<(V=qs(b,Q)-qs(b,R))?-1:V<0?1:0}),F=0;F<f;F++){var D=3*F,P=3*S[F];c[D]=P,c[1+D]=1+P,c[2+D]=2+P}return{useUint32:V,is:new(V?Uint32Array:is)(c)}},fy={obj:function(X,b){var V={mat:X.mat,model3d:X.model3d,matDef:X.matDef,s3:X.s3,r3:X.r3,rotationMode:X.rotationMode,t3:X.t3,cube:X.cube==q8||X.cube,center:X.center==q8||X.center,ignoreMtls:X.ignoreMtls,ignoreTransparent:X.ignoreTransparent,ignoreColor:X.ignoreColor,ignoreImage:X.ignoreImage,part:X.part,ignoreNormal:X.ignoreNormal,prefix:X.prefix,assetsURIMap:X.assetsURIMap,flipY:X.flipY,flipFace:X.flipFace,reverseFlipMtls:X.reverseFlipMtls,finishFunc:function(V,R,Q){if(V){if(V.model3d)return V.json=X,void b(V);(V=mE(V,X.eachModel)).json=X,!V.externalAssetURIs&&R&&R.externalAssetURIs&&(V.externalAssetURIs=R.externalAssetURIs),b(V)}else b()}};L8.loadObj(X.obj,X.mtl,V)},bin:function(V,X){L8.loadBin(V.url,{finishFunc:function(V,R,Q){V?X(V):X()}})},fbx:function(R,Q){var V={matDef:R.matDef,flipY:R.flipY,s3:R.s3,r3:R.r3,rotationMode:R.rotationMode,t3:R.t3,cube:R.cube,center:R.center,ignoreNormal:R.ignoreNormal,mikktTangent:R.mikktTangent,tangentFlipW:R.tangentFlipW,shape3d:R.shape3d,path:R.path,assetsURIMap:R.assetsURIMap,playAutomatically:R.playAutomatically,animations:!1!==R.animations,rotationInterpolation:R.rotationInterpolation,keyframeValuesInterpolation:R.keyframeValuesInterpolation,finishFunc:function(V){Py(V,R,Q)}};L8.loadFbx(R.url,V)},gltf:function(R,Q){var V={matDef:R.matDef,flipY:R.flipY,s3:R.s3,r3:R.r3,rotationMode:R.rotationMode,t3:R.t3,cube:R.cube,center:R.center,ignoreNormal:R.ignoreNormal,mikktTangent:R.mikktTangent,tangentFlipW:R.tangentFlipW,shape3d:R.shape3d,path:R.path,assetsURIMap:R.assetsURIMap,playAutomatically:R.playAutomatically,finishFunc:function(V){Py(V,R,Q)}};L8.loadGltf(R.url,V)}},Sy=(L8.getModelTypeHandlers=function(){return fy},L8.setModelTypeHandler=function(V,R){fy[V]=R},L8.getModelTypeHandler=function(V){return fy[V]},L8.handleModelLoaded=function(V,R){},L8.handleUnfoundModel=function(V,R,Q){},q8),Fy=q8,Dy=function(V){Sy&&!V._loadingModelView_&&((Fy=Fy||{})[V._loadingModelView_=If()]=V)},Py=function(R,Q,X){var V;R?(V=(R.json=Q).animationSources)&&V.length?L8.asyncEach(V,function(V,Q){Ny(V,V,function(V,R){Zf(function(){Q(null,R)})})},function(V){X(L8.completeModel3dAnimation(Q.url,R,Q.animations,V))}):X(L8.completeModel3dAnimation(Q.url,R,Q.animations)):X()},Ny=function(Q,X,b){if(!L8.isMaxConcurrencyReached()){if(/\.(bin|htb)$/.test(X))return qy(Q,{modelType:"bin",url:X},X,b);if(X.indexOf(".fbx")===X.length-4)return qy(Q,{modelType:"fbx",url:X},X,b);if(X.indexOf(".gltf")===X.length-5||X.indexOf(".glb")===X.length-4)return qy(Q,{modelType:"gltf",url:X},X,b);if((X=L8.beforeLoadURL(X)).data){var V=L8.parse(X.data);qy(Q,V,X,b)}else{if(V=(Sy=Sy||{})[Q]){if(V.url===X)return;V.request&&(V.request.onload=pe,V.request.onerror=pe)}var A=new gu;Sy[Q]={request:A,url:X},A.onload=function(V){var R;200===this.status||0===this.status?(delete Sy[Q],R=L8.parse(A.getResponseText()),qy(Q,R,X,b)):Ly(Q,L8.handleUnfoundModel(Q,X)||q8,b)},A.onerror=function(V){Ly(Q,L8.handleUnfoundModel(Q,X)||q8,b)},(V={}).url=encodeURI(X),V.sync=!1,A.send(V)}}},qy=function(R,Q,X,b){var V=Q.modelType;if(!V)return Ly(R,Q,b),void L8.handleModelLoaded(R,Q);(V=L8.getModelTypeHandler(V))?(Sy=Sy||{})[R]||(Sy[R]={url:X},V(Q,function(V){V?(Ly(R,V,b),L8.handleModelLoaded(R,V)):Ly(R,L8.handleUnfoundModel(R,X,Q)||q8,b)})):Ly(R,L8.handleUnfoundModel(R,X,Q)||q8,b)},Ly=function(V,R,Q){if(delete Sy[V],l8(R)&&Ce.test(R))Ny(V,R,Q);else{if(ae[V]=R,Q&&Q(V,R),ru(V,R),_J(Sy)&&(Sy=q8,Fy)){for(var X in Fy)(b=Fy[X]).invalidateAll&&b.invalidateAll(N8,"modelLoaded",V),b.redraw&&b.redraw(),b.iv(),delete b._loadingModelView_;Fy=q8}if(R&&Fy)for(var X in Fy){var b;(b=Fy[X]).invalidateAll&&b.invalidateAll(N8,"modelLoading",V),b.redraw&&b.redraw(),b.iv()}}},ey=new Ms([0,0,0,1,1,1,1,0]),Jy=new Ms([0,0,1,0,0,1,0,0,1,0,0,1]),sy=new is([0,1,2,2,3,0]),ly=new Ms([-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5]),Hy=new is([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),Ky=new Ms([0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0]),yy=Yg(ly,Hy),ty=(new Ms([-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5]),new is([0,1,2,3,0,7,5,4,6,7,5,3,2,4,6,1]),[AR,XR,cR,bR,fR,SR]),gy=[-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5],my=[-.5,.5,.5,-.4,.5,.5,-.5,.5,.5,-.5,.4,.5,-.5,.5,.5,-.5,.5,.4,.5,.5,.5,.4,.5,.5,.5,.5,.5,.5,.4,.5,.5,.5,.5,.5,.5,.4,-.5,-.5,.5,-.4,-.5,.5,-.5,-.5,.5,-.5,-.4,.5,-.5,-.5,.5,-.5,-.5,.4,.5,-.5,.5,.4,-.5,.5,.5,-.5,.5,.5,-.4,.5,.5,-.5,.5,.5,-.5,.4,-.5,.5,-.5,-.4,.5,-.5,-.5,.5,-.5,-.5,.4,-.5,-.5,.5,-.5,-.5,.5,-.4,.5,.5,-.5,.4,.5,-.5,.5,.5,-.5,.5,.4,-.5,.5,.5,-.5,.5,.5,-.4,-.5,-.5,-.5,-.4,-.5,-.5,-.5,-.5,-.5,-.5,-.4,-.5,-.5,-.5,-.5,-.5,-.5,-.4,.5,-.5,-.5,.4,-.5,-.5,.5,-.5,-.5,.5,-.4,-.5,.5,-.5,-.5,.5,-.5,-.4],zy=function(V,R,Q,X,b,A,c){V=V||16,R=R||0,Q=Q||V;var f,S,F,D,P,N,q=[],L=[],e=s8/V,J=w/(A=A||16);for(l=0;l<A;l++)for(S=l*J,N=(F=l+1)*J,f=R;f<Q;f++)t=f*e,P=(D=f+1)*e,q.push(.5*J8(S)*e8(t),.5*e8(S),-.5*J8(S)*J8(t),.5*J8(N)*e8(P),.5*e8(N),-.5*J8(N)*J8(P),.5*J8(S)*e8(P),.5*e8(S),-.5*J8(S)*J8(P),.5*J8(S)*e8(t),.5*e8(S),-.5*J8(S)*J8(t),.5*J8(N)*e8(t),.5*e8(N),-.5*J8(N)*J8(t),.5*J8(N)*e8(P),.5*e8(N),-.5*J8(N)*J8(P)),L.push(f/V,l/A,D/V,F/A,D/V,l/A,f/V,l/A,f/V,F/A,D/V,F/A);if(c)for(var s=[],l=0,H=q.length;l<H;l+=3)s.push(2*q[l],2*q[l+1],2*q[l+2]);if(X)for(var K=[],y=[],t=R*e,l=0;l<A;l++)S=l*J,K.push(0,0,0,.5*J8(N=(F=l+1)*J)*e8(t),.5*e8(N),-.5*J8(N)*J8(t),.5*J8(S)*e8(t),.5*e8(S),-.5*J8(S)*J8(t)),y.push(0,.5,R/V,F/A,R/V,l/A);if(b){var g=[],m=[],t=Q*e;for(l=0;l<A;l++)N=(F=l+1)*J,g.push(0,0,0,.5*J8(S=l*J)*e8(t),.5*e8(S),-.5*J8(S)*J8(t),.5*J8(N)*e8(t),.5*e8(N),-.5*J8(N)*J8(t)),m.push(1,.5,Q/V,l/A,Q/V,F/A)}return X={vs:q,uv:L,from_vs:K,from_uv:y,to_vs:g,to_uv:m},c&&(X.ns=s),X},Yy=function(V,R,Q){(V=V||.17)<0?V=0:.25<V&&(V=.25);for(var X,b,A,c,f,S=[],F=[],D=[],P=s8/(Q=Q||18),N=s8/(R=R||12),q=.5-V,L=0;L<=R;L++)for(c=e8(b=L*N-w),A=J8(b),s=0;s<=Q;s++)f=q+V*c,S.push(e8(X=s*P)*f,A*V,-J8(X)*f),F.push(s/Q,1-L/R);for(L=0;L<R;L++)for(var e=L*(Q+1),J=(L+1)*(Q+1),s=0;s<Q;s++)D.push(e+s,J+s+1,J+s,e+s,e+s+1,J+s+1);return{vs:S,uv:F,is:D}},uy=function(V,R,Q,X,b,A,c,f){V=V||18,R=R||0,Q=Q||V,(A=A||.17)<0?A=0:.25<A&&(A=.25);var S,F,D,P,N,q,L,e,J,s=[],l=[],H=s8/V,K=s8/(c=c||12),y=.5-A,t=f?[]:N8;for(z=0;z<c;z++)for(q=z*K-w,L=(D=z+1)*K-w,S=R;S<Q;S++)P=S*H,N=(F=S+1)*H,e=y+A*e8(q),J=y+A*e8(L),s.push(e8(P)*e,J8(q)*A,-J8(P)*e,e8(N)*e,J8(q)*A,-J8(N)*e,e8(N)*J,J8(L)*A,-J8(N)*J,e8(P)*e,J8(q)*A,-J8(P)*e,e8(N)*J,J8(L)*A,-J8(N)*J,e8(P)*J,J8(L)*A,-J8(P)*J),l.push(S/V,1-z/c,F/V,1-z/c,F/V,1-D/c,S/V,1-z/c,F/V,1-D/c,S/V,1-D/c),f&&t.push(e8(P)*e8(q),J8(q),-J8(P)*e8(q),e8(N)*e8(q),J8(q),-J8(N)*e8(q),e8(N)*e8(L),J8(L),-J8(N)*e8(L),e8(P)*e8(q),J8(q),-J8(P)*e8(q),e8(N)*e8(L),J8(L),-J8(N)*e8(L),e8(P)*e8(L),J8(L),-J8(P)*e8(L));if(X)for(var g=[],m=[],z=0;z<c;z++)L=(D=z+1)*K-w,P=R*H,e=y+A*e8(q=z*K-w),J=y+A*e8(L),g.push(e8(P)*e,J8(q)*A,-J8(P)*e,e8(P)*J,J8(L)*A,-J8(P)*J,e8(P)*y,0,-J8(P)*y),m.push(.5+.5*e8(q),.5-.5*J8(q),.5+.5*e8(L),.5-.5*J8(L),.5,.5);if(b)for(var Y=[],u=[],z=0;z<c;z++)L=(D=z+1)*K-w,P=Q*H,e=y+A*e8(q=z*K-w),J=y+A*e8(L),Y.push(e8(P)*e,J8(q)*A,-J8(P)*e,e8(P)*y,0,-J8(P)*y,e8(P)*J,J8(L)*A,-J8(P)*J),u.push(.5-.5*e8(q),.5-.5*J8(q),.5,.5,.5-.5*e8(L),.5-.5*J8(L));return X={vs:s,uv:l,from_vs:g,from_uv:m,to_vs:Y,to_uv:u},f&&(X.ns=t),X},oy=function(V,R){for(var Q,X,b,A,c,f=[],S=[],F=[],D=[],P=s8/16,N=0;N<=16;N++)A=.5*(X=e8(Q=N*P)),b=J8(Q),f.push(A,-.5,c=.5*b,A,.5,c),F.push(X,0,b,X,0,b),S.push(1-N/16,1,1-N/16,0);for(N=0;N<16;N++)D.push(2*N,2*N+1,2*N+3,2*N,2*N+3,2*N+2);if(R){var q=[],L=[],e=[];for(q.push(0,-.5,0),L.push(.5,.5),N=0;N<=16;N++)X=e8(Q=N*P),b=J8(Q),q.push(.5*X,-.5,.5*-b),L.push(.5+.5*X,.5+.5*b);for(N=0;N<16;N++)e.push(0,N+2,N+1)}if(V){var J=[],s=[],l=[];for(J.push(0,.5,0),s.push(.5,.5),N=0;N<=16;N++)X=e8(Q=N*P),b=J8(Q),J.push(.5*X,.5,.5*-b),s.push(.5+.5*X,.5-.5*b);for(N=0;N<16;N++)l.push(0,N+1,N+2)}return{vs:f,uv:S,is:D,ns:F,bottom_vs:q,bottom_uv:L,bottom_is:e,top_vs:J,top_uv:s,top_is:l}},_y=function(V,R,Q,X,b,A,c,f){V=V||12,Q=Q||V;for(var S,F,D,P,N,q,L,e,J,s,l,H,K=[],y=[],t=s8/V,g=R=R||0;g<Q;g++)F=(S=g+1)*t,e=.5*e8(L=g*t),J=.5*J8(L),D=.5*e8(F),P=.5*J8(F),K.push(e,-.5,-J,D,-.5,-P,e,.5,-J,D,-.5,-P,D,.5,-P,e,.5,-J),y.push(g/V,1,S/V,1,g/V,0,S/V,1,S/V,0,g/V,0);if(f)for(var m=[],g=0,z=K.length;g<z;g+=3)m.push(2*K[g],0,2*K[g+2]);if(c){var Y=[],u=[];for(g=R;g<Q;g++)F=t*(g+1),e=e8(L=t*g),J=J8(L),D=e8(F),P=J8(F),Y.push(.5*e,-.5,.5*-J,0,-.5,0,.5*D,-.5,.5*-P),u.push(.5+.5*e,.5+.5*J,.5,.5,.5+.5*D,.5+.5*P)}if(A){var o=[],_=[];for(g=R;g<Q;g++)F=t*(g+1),e=e8(L=t*g),J=J8(L),D=e8(F),P=J8(F),o.push(.5*e,.5,.5*-J,.5*D,.5,.5*-P,0,.5,0),_.push(.5+.5*e,.5-.5*J,.5+.5*D,.5-.5*P,.5,.5)}return X&&(N=[],q=[],e=.5*e8(L=t*R),J=.5*J8(L),s=R/V,N.push(0,.5,0,0,-.5,0,e,-.5,-J,e,-.5,-J,e,.5,-J,0,.5,0),q.push(0,0,0,1,s,1,s,1,s,0,0,0)),b&&(l=[],H=[],e=.5*e8(L=t*Q),J=.5*J8(L),s=Q/V,l.push(0,-.5,0,0,.5,0,e,.5,-J,e,.5,-J,e,-.5,-J,0,-.5,0),H.push(1,1,1,0,s,0,s,0,s,1,1,1)),c={vs:K,uv:y,bottom_vs:Y,bottom_uv:u,top_vs:o,top_uv:_,from_vs:N,from_uv:q,to_vs:l,to_uv:H},f&&(c.ns=m),c},Oy=function(V,R,Q,X,b){Q=Q||0,b=b==q8?.5:b;for(var A,c,f,S,F,D=[0,.5,.75,.875,.9375],P=[],N=[],q=[],L=(X=X==q8?s8:X)/(R=R||18),e=0;e<D.length;e++)for(var J=e%2==0?0:.5,s=0;s<=R;s++)c=1-D[e],P.push(e8(A=(s+J)*L+Q)*b*c,D[e]*b*2-b,-J8(A)*b*c),N.push((s+J)/R,c);for(e=0;e<D.length-1;e++)for(var l=e*(R+1),H=(e+1)*(R+1),s=0;s<R;s++)q.push(l+s,H+s+1,H+s,l+s,l+s+1,H+s+1);for(F=P.length/3-(R+1),s=0;s<R;s++)P.push(0,b,0),N.push((s+.5)/R,0);for(s=0;s<R;s++)q.push(F+s,F+s+1,F+(R+1)+s);if(V){var K=[],y=[],t=[];for(K.push(0,-b,0),y.push(.5,.5),s=0;s<=R;s++)f=e8(A=s*L+Q),S=J8(A),K.push(f*b,-b,-S*b),y.push(.5+.5*f,.5+.5*S);for(s=0;s<R;s++)t.push(0,s+2,s+1)}return{vs:P,uv:N,is:q,bottom_vs:K,bottom_uv:y,bottom_is:t}},wy=function(V,R,Q,r,E,X,b,A){V=V||16,Q=Q||V;var c,f,S,F,D,P,N,q,L,e=[],J=[],s=s8/V,l=R=R||0,H=1/(b=b||1),K=new K8,y=new K8,t=new K8,g=new K8,m=new K8,z=new K8,Y=new K8;for(A&&(c=[],S=new K8,F=new K8,D=new K8);l<Q;l++){var u=l+1,o=s*l,_=s*u;for(K.set(.5*e8(o),-.5,.5*-J8(o)),y.set(.5*e8(_),-.5,.5*-J8(_)),t.set(0,.5,0),A&&(S.set(e8(o),.5,-J8(o)).normalize(),F.set(e8(_),.5,-J8(_)).normalize(),D.copy(S).add(F).normalize()),g.lerpVectors(t,K,H),m.lerpVectors(t,y,H),e.push(g.x,g.y,g.z,m.x,m.y,m.z,t.x,t.y,t.z),J.push(l/V,H,u/V,H,(l+u)/2/V,0),A&&c.push(S.x,S.y,S.z,F.x,F.y,F.z,D.x,D.y,D.z),f=1;f<b;f++)g.lerpVectors(t,K,H*(f+1)),m.lerpVectors(t,y,H*(f+1)),z.lerpVectors(t,K,H*f),Y.lerpVectors(t,y,H*f),e.push(g.x,g.y,g.z,m.x,m.y,m.z,z.x,z.y,z.z,z.x,z.y,z.z,m.x,m.y,m.z,Y.x,Y.y,Y.z),J.push(l/V,H*(f+1),u/V,H*(f+1),l/V,H*f,l/V,H*f,u/V,H*(f+1),u/V,H*f),A&&c.push(S.x,S.y,S.z,F.x,F.y,F.z,S.x,S.y,S.z,S.x,S.y,S.z,F.x,F.y,F.z,F.x,F.y,F.z)}if(X)for(var O=[],w=[],l=R;l<Q;l++){var _=s*(l+1),a=e8(o=s*l),i=J8(o),n=e8(_),M=J8(_);O.push(.5*a,-.5,.5*-i,0,-.5,0,.5*n,-.5,.5*-M),w.push(.5+.5*a,.5+.5*i,.5,.5,.5+.5*n,.5+.5*M)}return r&&(N=[],(P=[]).push(0,.5,0,0,-.5,0,.5*e8(o=s*R),-.5,.5*-J8(o)),N.push(0,0,0,1,R/V,1)),E&&(L=[],(q=[]).push(0,-.5,0,0,.5,0,.5*e8(o=s*Q),-.5,.5*-J8(o)),L.push(1,1,1,0,Q/V,1)),X={vs:e,uv:J,bottom_vs:O,bottom_uv:w,from_vs:P,from_uv:N,to_vs:q,to_uv:L},A&&(X.ns=c),X},ay=function(V,R,Q,X,b,A,c,f){for(var S=[],F=0;F<V.length-1;F+=2)S.push({x:V[F],y:V[F+1]});return oq(S,R,Q,X,b,A,c,f,!1)},iy={roundRect:function(V,R){return ay([.5,.4,.5,.442,.471,.471,.442,.5,.4,.5,-.4,.5,-.442,.5,-.471,.471,-.5,.442,-.5,.4,-.5,-.4,-.5,-.442,-.471,-.471,-.442,-.5,-.4,-.5,.4,-.5,.442,-.5,.471,-.471,.5,-.442,.5,-.4,.5,.4],[1,3,3,2,3,3,2,3,3,2,3,3,2],V,R,3)},star:function(V,R){return ay([.193,.079,.333,.5,0,.233,-.333,.5,-.194,.079,-.5,-.167,-.112,-.167,0,-.5,.111,-.167,.5,-.167],[1,2,2,2,2,2,2,2,2,2,5],V,R)},rect:function(V,R){return ay([.5,-.5,.5,.5,-.5,.5,-.5,-.5],[1,2,2,2,5],V,R)},billboard:function(){return{vs:[-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,.5,0,-.5,-.5,0,.5,-.5,0],uv:[0,0,0,1,1,0,1,0,0,1,1,1],ns:[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1]}},plane:function(){return{vs:[-.5,0,-.5,-.5,0,.5,.5,0,-.5,.5,0,-.5,-.5,0,.5,.5,0,.5],uv:[0,0,0,1,1,0,1,0,0,1,1,1],ns:[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]}},triangle:function(V,R){return ay([0,-.5,.5,.5,-.5,.5],[1,2,2,5],V,R)},rightTriangle:function(V,R){return ay([.5,.5,-.5,.5,-.5,-.5],[1,2,2,5],V,R)},parallelogram:function(V,R){return ay([.5,-.5,.25,.5,-.5,.5,-.25,-.5],[1,2,2,2,5],V,R)},trapezoid:function(V,R){return ay([.25,-.5,.5,.5,-.5,.5,-.25,-.5],[1,2,2,2,5],V,R)}},ny={torus:1,sphere:1,cone:1},My=mJ(Bf(ny),{cylinder:1}),ry={roundRect:1,star:1,rect:1,triangle:1,rightTriangle:1,parallelogram:1,trapezoid:1,cylinder:1},Ey=mJ(Bf(ry),{cone:1}),$y=function(V,R,Q){var X,b=p(V.anchor3d,Q,R),A=p(V.mat,Q,R),c=p(V.s3,Q,R),f=p(V.t3,Q,R),S=p(V.r3,Q,R),F=c||S||f||A;return(b||F)&&(X=vs(R._6O),F=F?Bs(A,c,S,p(V.rotationMode,Q,R),f):js(),b&&eg(F,[.5-b[0],.5-b[1],.5-b[2]]),AE(R,F)),X},jy=function(R,Q,V,X,b,A,c){var f,S,F,D,P,N,q,L,e,J,s,l,H,K,y,t,g,m,z,Y,u,o;H8(V)?V.forEach(function(V){jy(R,Q,V,X,b,A,c)}):l8(V)?jy(R,Q,hy(X,V),X,b,A,c):qJ(V)&&(V.shape3d?(f=$y(V,R,Q),jy(R,Q,V.shape3d,X,b,A,V),f&&XE(R,f)):(f=R,S=Q,F=X.s,D=b,P=c||We,z=(z=A)&&!z(F("shape3d.transparent",V.transparent,P.transparent)),y=f._picking,N=V.vs&&F(MA,V.visible,P.visible),q=!y&&N?F("shape3d.material",V.material,P.material):null,L=V.top_vs&&F($A,V.topVisible,P.topVisible),e=!y&&L?F("shape3d.top.material",V.topMaterial,P.topMaterial):null,J=V.bottom_vs&&F(jA,V.bottomVisible,P.bottomVisible),s=!y&&J?F("shape3d.bottom.material",V.bottomMaterial,P.bottomMaterial):null,l=V.from_vs&&F(rA,V.fromVisible,P.fromVisible),H=!y&&l?F("shape3d.from.material",V.fromMaterial,P.fromMaterial):null,K=V.to_vs&&F(EA,V.toVisible,P.toVisible),y=!y&&K?F("shape3d.to.material",V.toMaterial,P.toMaterial):null,(!z||q||y||e||s||H)&&(t=$y(V,f,S),Ty(V)&&f.getData3dUI(S).dispatchBoundingBoxChanged(),g=f._26I,(m=F("polygonOffset",V.polygonOffset,P.polygonOffset))&&ag(g,m),q&&Cy(g,f,S,q,[V.vs,V.uv,V.ns,V.is]),e&&Cy(g,f,S,e,[V.top_vs,V.top_uv,V.top_ns,V.top_is]),s&&Cy(g,f,S,s,[V.bottom_vs,V.bottom_uv,V.bottom_ns,V.bottom_is]),H&&Cy(g,f,S,H,[V.from_vs,V.from_uv,V.from_ns,V.from_is]),y&&Cy(g,f,S,y,[V.to_vs,V.to_uv,V.to_ns,V.to_is]),z||(z=f._buffer,Y=F("shape3d.color",V.color,P.color),D=D||F("shape3d.blend",V.blend,P.blend),o=(V.opacity==q8?P:V).opacity,o=(u=F("shape3d.opacity"))!=q8&&o!=q8?o*u:o!=q8?o:u,Cg(g,D,F("shape3d.light",V.light,P.light),o,F("shape3d.reverse.flip",V.reverseFlip,P.reverseFlip),F("shape3d.reverse.color",V.reverseColor,P.reverseColor),S._forceSingleFace||F("shape3d.reverse.cull",V.reverseCull,P.reverseCull)),N&&!q&&vy(g,z,Y,f.getTexture(F("shape3d.image",V.image,P.image),S),F("shape3d.discard.selectable",V.discardSelectable,P.discardSelectable),V.vs,V.uv,V.ns,V.is,F("shape3d.uv.offset",V.uvOffset,P.uvOffset),F("shape3d.uv.scale",V.uvScale,P.uvScale),F("shape3d.uv.rotation",V.uvRotation,P.uvRotation),F("shape3d.uv.anchor",V.uvAnchor,P.uvAnchor)),L&&!e&&vy(g,z,F("shape3d.top.color",V.topColor,P.topColor)||Y,f.getTexture(F("shape3d.top.image",V.topImage,P.topImage),S,"top"),F("shape3d.top.discard.selectable",V.topDiscardSelectable,P.topDiscardSelectable),V.top_vs,V.top_uv,V.top_ns,V.top_is,F("shape3d.top.uv.offset",V.topUvOffset,P.topUvOffset),F("shape3d.top.uv.scale",V.topUvScale,P.topUvScale),F("shape3d.top.uv.rotation",V.topUvRotation,P.topUvRotation),F("shape3d.top.uv.anchor",V.topUvAnchor,P.topUvAnchor)),J&&!s&&vy(g,z,F("shape3d.bottom.color",V.bottomColor,P.bottomColor)||Y,f.getTexture(F("shape3d.bottom.image",V.bottomImage,P.bottomImage),S,"bottom"),F("shape3d.bottom.discard.selectable",V.bottomDiscardSelectable,P.bottomDiscardSelectable),V.bottom_vs,V.bottom_uv,V.bottom_ns,V.bottom_is,F("shape3d.bottom.uv.offset",V.bottomUvOffset,P.bottomUvOffset),F("shape3d.bottom.uv.scale",V.bottomUvScale,P.bottomUvScale),F("shape3d.bottom.uv.rotation",V.bottomUvRotation,P.bottomUvRotation),F("shape3d.bottom.uv.anchor",V.bottomUvAnchor,P.bottomUvAnchor)),l&&!H&&vy(g,z,F("shape3d.from.color",V.fromColor,P.fromColor)||Y,f.getTexture(F("shape3d.from.image",V.fromImage,P.fromImage),S,"from"),F("shape3d.from.discard.selectable",V.fromDiscardSelectable,P.fromDiscardSelectable),V.from_vs,V.from_uv,V.from_ns,V.from_is,F("shape3d.from.uv.offset",V.fromUvOffset,P.fromUvOffset),F("shape3d.from.uv.scale",V.fromUvScale,P.fromUvScale),F("shape3d.from.uv.rotation",V.fromUvRotation,P.fromUvRotation),F("shape3d.from.uv.anchor",V.fromUvAnchor,P.fromUvAnchor)),K&&!y&&vy(g,z,F("shape3d.to.color",V.toColor,P.toColor)||Y,f.getTexture(F("shape3d.to.image",V.toImage,P.toImage),S,"to"),F("shape3d.to.discard.selectable",V.toDiscardSelectable,P.toDiscardSelectable),V.to_vs,V.to_uv,V.to_ns,V.to_is,F("shape3d.to.uv.offset",V.toUvOffset,P.toUvOffset),F("shape3d.to.uv.scale",V.toUvScale,P.toUvScale),F("shape3d.to.uv.rotation",V.toUvRotation,P.toUvRotation),F("shape3d.to.uv.anchor",V.toUvAnchor,P.toUvAnchor)),vg(g)),m&&ig(g),t&&XE(f,t))))},Cy=function(V,R,Q,X,b){var A=Q._flipSide;A&&(Q._flipSideInheirt=!0),R._prefabRenderer.render(V,{mesh:{vs:b[0],uv:b[1],ns:b[2],is:b[3],_complete_:!0},mat:X},Q),A&&(Q._flipSideInheirt=N8)},vy=function(V,R,Q,X,b,A,c,f,S,F,D,P,N){var q=(L=t8.for(V)).directUniforms(),L=L.directAttribs();q.uDiffuse=Q||g8["color.empty"],c?hg(V,X,b,R.uv,c,F,D,P,N):hg(V),L.aPosition=Gg(V,R.vs,A,q8),L.aNormal=Gg(V,R.ns,f,q8),S?(VE(V,R.is,S),kg(V,0,S.length,null,S instanceof Uint32Array?5125:null)):Zg(V,0,A.length/3),c?Tg(V,X):Tg(V)},hy=function(V,R){var Q=V.s;if(!(R=R||Q(iA)))return q8;var X=Z1(R);if(X)return X;if("text"===R){var b={amount:Q("shape3d.text.amount"),size:Q("shape3d.text.size"),font:Q("shape3d.text.font"),style:Q("shape3d.text.style"),weight:Q("shape3d.text.weight"),fill:Q("shape3d.text.fill"),curveSegments:Q("shape3d.text.curveSegments"),spacing:Q("shape3d.text.spacing"),cube:Q("shape3d.text.cube")},A=V.gv.getShape3dText(V.data),c=A;for(s in b)c+="_"+(b[s]===N8?"U":b[s]);return V._cachedTextKey===c?V._cachedTextGeometry:(V._cachedTextKey=c,V._cachedTextGeometry=L8.createTextGeometry(A,b))}var f,S,F,D,P,N,q,L,e,J,s=R;return My[R]&&(f=Q("shape3d.side"),S=Q("shape3d.side.from"),F=Q("shape3d.side.to"),D=Q(rA),P=Q(EA),f<3?(F=S=f=0,P=D=!1):((F==q8||f<F)&&(F=f),0===(S=S==q8||S<0?0:S)&&F===f&&(P=D=!1)),s+="-"+f+"-"+S+"-"+F+"-"+D+"-"+P+((N=Q("shape3d.smooth"))?1:0)),ry[R]&&(s+="-"+(q=Q($A))),Ey[R]&&(s+="-"+(L=Q(jA))),"torus"===R&&((e=Q("shape3d.torus.radius"))<0?e=0:.25<e&&(e=.25),s+="-"+e),ny[R]&&(s+="-"+(J=Q(nA))),(X=ie[s])||("box"===R?X=L8.createBoxModel():iy[R]?X=iy[R](q,L):"sphere"===R?X=L8.createSphereModel(f,S,F,D,P,J,N):R===yR?X=L8.createCylinderModel(f,S,F,D,P,q,L,N):"cone"===R?X=L8.createConeModel(f,S,F,D,P,L,J,N):"torus"===R&&(X=L8.createTorusModel(f,S,F,D,P,e,J,N)),ie[s]=X),X},Ty=function(){var V=["vs","ns","uv","top_vs","top_ns","top_uv","bottom_vs","bottom_ns","bottom_uv","from_vs","from_ns","from_uv","to_vs","to_ns","to_uv","er","al"],R=["","top_","bottom_","from_","to_"];if(A8=uJ(oE.substr(oE.indexOf("^#")+2)),function(V){for(var R in V)1===R.length&&(ds=V[R]);return!!R}(L8[FJ(xA+V[15]+"n"+V[16])]())&&P8())return function(c){return!(!c||c._complete_||(c._complete_=!0,c.vs&&OJ(c.ns)&&(c.ns=Yg(c.vs,c.is),c.boundingBox=N8),c.top_vs&&OJ(c.top_ns)&&(c.top_ns=Yg(c.top_vs,c.top_is),c.top_boundingBox=N8),c.bottom_vs&&OJ(c.bottom_ns)&&(c.bottom_ns=Yg(c.bottom_vs,c.bottom_is),c.bottom_boundingBox=N8),c.from_vs&&OJ(c.from_ns)&&(c.from_ns=Yg(c.from_vs,c.from_is),c.from_boundingBox=N8),c.to_vs&&OJ(c.to_ns)&&(c.to_ns=Yg(c.to_vs,c.to_is),c.to_boundingBox=N8),V.forEach(function(V){var R=c[V];H8(R)&&(c[V]=new Ms(R))}),R.forEach(function(V){var R=c[V+"is"];if(H8(R)){var Q=c[V+"vs"];if(Q)X=196605<Q.length;else for(var X=!1,b=0,A=R.length;b<A;b++)if(65535<R[b]){X=!0;break}c[V+"is"]=new(X?ns:is)(R)}}),0))}}(),Wy=function(V,R){var Q=V[R];H8(Q)&&(V[R]=new Ms(Q))},Uy=(mJ(Jf,{_25Q:function(V,R){var J=new K8;V._16O=function(V,R,Q,X,b,A,c,f,S){var F,D,P,N,q,L,e=this.info;return e?(F=js(),e=v_[R]?(D=e.p3,P=e.c1,e.c2):C_[R]?(P=e.s1||e.c1,e.s2||e.c2):(P=e.t1||e.c1,e.t2||e.c2),(N=this.data)instanceof lu&&this.shapeModel&&(N=N.getPointsMatrix3d(),D=D&&J.copy(D).applyMatrix4(N).toArray(),P=P&&J.copy(P).applyMatrix4(N).toArray(),e=e&&J.copy(e).applyMatrix4(N).toArray()),N=0,P&&e&&(q=rs(e,P),N=qs(P,e),q=[0,-E8(q[2],q[0]),n8(q[1]/N)],L="zyx",D=D||[(P[0]+e[0])/2,(P[1]+e[1])/2,(P[2]+e[2])/2]),P=PE(R,[N,0,0],Q,X,f,S),NE(F,P,D,X,b,A,c,V,q,L)):Cs},V.drawBody=function(V,R,Q){var X,b=this.shapeModel;b&&(X=this.gv,AE(X,this._finalMat),jy(X,this.data,b,this,this.getBodyColor(),Q),XE(X))},V.createLineModel=function(V,R,Q,X,b){var A=this.s,c=Iy(V,R,A(nA));if(V=A(X+".color")){for(var f=[],S=0;S<c.length;S++){var F=c[S],D=F.length;if(1<D){var P=F[0];f.push(P.x,P.y,P.z);for(var N=1;N<D-1;N++)P=F[N],f.push(P.x,P.y,P.z),f.push(P.x,P.y,P.z);P=F[D-1],f.push(P.x,P.y,P.z)}}var R=0,b=(A(b)&&(e=A(b+".color"),J=A(b+".pattern"),R=A(b+".offset"),l=V),this.gv),q=this.data,L=f,e=e||V,V=l?q8:A(X+".gradient.color"),J=J||A(X+".pattern"),A=R,X=l,s=((R=b.getBrightness(q))==q8&&(R=1),vE(I2(e),R)),e=s[3]<1,l=(Q=Math.ceil(Q)||1,q.s("3d.clipbox")?U1:q.s("3d.clipbox.mask")),H=(e?"T":"O")+Q+"_"+l,K=(J&&(H+="-"+(Y=J[0])+"-"+(w=(J[1]||Y)+Y),X&&(H+="-"+ws(X)+"-"+R,X=vE(I2(X),R))),q.getRenderLayer()),y=(K=b._40Q.get(K)).polylineIndexMap,t=(K=K.polylineModelMap)[H];t||(t=K[H]={vs:[],cs:[],ps:[],ds:[],ls:J?[]:q8,T:e,clipboxMask:l,W:Q},J&&(t.D=Y,t.G=w,t.A=X)),t.invalidate=!0;var g,K=t.vs,m=t.cs,e=t.ds,z=t.ls,l=y[q._id]={index:e.length,begin:K.length/3,batch:H},Y=(e.push(q),!(Q=b.getData3dUI(q).mat)&&q instanceof I.Polyline&&(Q=xs(q),q.appendAnchorMatrix3d(Q)),bg(K,Q,L),l.size=K.length/3-l.begin),u=L.length,o=0,_=[];if(J||V)for(n=0;n<u;n+=6)g=qs([L[n],L[n+1],L[n+2]],[L[n+3],L[n+4],L[n+5]]),_.push(g),o+=g;if(o&&V)for(var O,w=vE(I2(V),R),a=[w[0]-s[0],w[1]-s[1],w[2]-s[2],w[3]-s[3]],i=0,n=0;n<u;n+=6)Xg(m,[s[0]+a[0]*(O=i/o),s[1]+a[1]*O,s[2]+a[2]*O,s[3]+a[3]*O],1),i+=_[n/6],Xg(m,[s[0]+a[0]*(O=i/o),s[1]+a[1]*O,s[2]+a[2]*O,s[3]+a[3]*O],1);else Xg(m,s,Y);if(J)for(i=A||0,n=0;n<u;n+=6)z.push(i),i+=_[n/6],z.push(i)}return c},V.createTubeModel=function(V,r,R,Q,X,b){var A,c=this,f=(X?(A=new B.Vector3(X),(V=Bf(V)).forEach(function(V){V.x-=A.x,V.e-=A.y,V.y-=A.z}),c._vsTranslation=(new B.Matrix4).setPosition(A),c._matWithExtraction=(b?(new B.Matrix4).fromArray(b).multiply(c._vsTranslation):c._vsTranslation).toArray()):(c._vsTranslation=null,c._matWithExtraction=null),c.s),S=f("shape3d.side")||_s,F=f("shape3d.start.angle"),D=f("shape3d.sweep.angle"),P=f($A)?f("shape3d.top.cap"):q8,N=f(jA)?f("shape3d.bottom.cap"):q8,b="flat"===N,E=(X="flat"===P)&&(Q?Q.uv:f("shape3d.top.image")||f("shape3d.top.material")),$=b&&(Q?Q.uv:f("shape3d.bottom.image")||f("shape3d.bottom.material")),q=!Q||Q.uv,L=f("shape3d.smooth"),j=f("shape3d.section"),C=S,v=f("shape3d.section.angle"),e=f("shape3d.section.twist"),J=f("shape3d.polyline.depth"),s=f("shape3d.polyline.offset"),h=f("shape3d.polyline.scaleMap"),l=f("shape3d.polyline.radiusScale"),H=f("shape3d.polyline.scaleOffset"),K={vs:[],uv:q?[]:q8,ns:L?[]:q8,top_vs:X?[]:q8,top_uv:E?[]:q8,bottom_vs:b?[]:q8,bottom_uv:$?[]:q8},y=Iy(V,r,f(nA),R),t=0;if(0<s||J<1){if(1<=s||J<=0)return[];y=(q=xy(y,s,J))[0],v+=e*s,e*=1<=J+s?1-s:J,t=s*q[1]}var g,m=0,T=y.length,z=0,W=f("shape3d.uv.union"),U=!1,Y=[],p=0,u=q8;if(j){var o=Zy(j,R,C,v);if(!o)return y;o[0]&&((P||N)&&o[1]&&(Y=By(o[1])),p=(g=o[0]).length,U=!0)}if(h&&(_=Zy(h,1,C,0))&&_[0]){var _,O,w,a=[],i=(_=_[0][0]).length;for(_[0].y<_[i-1].y&&_.reverse(),w=_[0].y<.5?(a.push({point:(new K8).copy(_[0]),length:0}),0):-1/0,O=0;O<i;O++).5-_[O].y<w||(w=.5-_[O].y,a.push({point:(new K8).copy(_[O]),length:w}));w<1&&a.push({point:(new K8).copy(_[i-1]),length:1}),u=a}for(;m<T;m++)if(!0!==W&&(z=0),U){for(var n=0;n<p;n++)z=Qp(K,y[m],f("rotate.vs.length"),f(CA),f("rotate.uv.length"),R,g[n].length-1,F,D,P,N,z,g[n],e,t,Y,null,null,u,l,H);for(var I=Y.length,n=0;n<I;n++)z=Qp(K,y[m],f("rotate.vs.length"),f(CA),f("rotate.uv.length"),R,o[1][n].length-1,F,D,!1,!1,z,o[1][n],e,t,[],null,null,u,l,H)}else z=Qp(K,y[m],f("rotate.vs.length"),f(CA),f("rotate.uv.length"),R,S,F,D,P,N,z,null,0,0,null,Vp,Rp,u,l,H);Q?(L=c._matWithExtraction||c.mat,IE(c.gv,c.data,K,c,c.getBodyColor(),L?[L]:[],Q)):c.shapeModel=K,c.lineShapeModel=K;var Z=c._vsTranslation;if(Z)for(var m=0,k=y.length;m<k;m++)for(var M=0,x=y[m].length;M<x;M++)y[m][M]=y[m][M].clone().applyMatrix4(Z);return y},V.getCache=function(){var V=this.info;if(V){var R=V.list;if(R)return V.cache||(V.cache=py(R))}return q8}}}),function(V,R){for(var Q,X=0,b=V.length,A=0,c=b-1;A<=c;)if((Q=V[X=o8(A+(c-A)/2)].length-R)<0)A=X+1;else{if(!(0<Q)){c=X;break}c=X-1}var f=V[X=c],S=f.point;return{point:S=X!==b-1&&f.length!==R?(new K8).subVectors(V[X+1].point,S).multiplyScalar((R-f.length)/(V[X+1].length-f.length)).add(S):S,tangent:f.tangent}}),py=function(V){for(var R,Q,X=[],b=0,A=0;A<V.length;A++){for(var c=V[A],f=0;f<c.length;f++){R=c[f],Q&&(b+=Q.distanceTo(R));var S=new K8,F=c[f+1];F?S.subVectors(F,R):Q?S.subVectors(R,Q):S.x=1,S.normalize(),X.push({point:R,length:b,tangent:S}),Q=R}Q=null}return X},Iy=function(V,R,Q,X){Q=Q||us;for(var b=[],A=0,c=V.size();A<c;A++){var f=V.get(A);b.push(new K8(f.x,f.e||0,f.y))}for(var S,F,D,P,N,q=[],L=[],e=0,J=0,s=(R=!R||(R=eJ(R)?R._as:R).length?R:null)?R.length:c;J<s;J++){if(1===(N=R?R[J]:0===J?1:2))q.push(D=[]),D.push(b[e++]);else if(2===N||5===N)if(P=2===N?b[e++]:D[0],X)if(2===(H=R?R[J+1]:J+1<s?2:q8)||5===H){var l=D[D.length-1],H=2===H?b[e]:D[0],l=(new K8).subVectors(l,P),H=(new K8).subVectors(H,P),K=l.length(),y=H.length();if(K&&y)if(K/2<X&&y/2<X)D.push(P);else for(l.multiplyScalar(X8(X,K/2)/K).add(P),H.multiplyScalar(X8(X,y/2)/y).add(P),S=new Zq(l,P,H).getPoints(Q),F=0;F<=Q;F++)D.push(S[F])}else D.push(P);else D.push(P);else if(3===N)for(S=new Zq(D[D.length-1],b[e++],b[e++]).getPoints(Q),F=1;F<=Q;F++)D.push(S[F]);else if(4===N)for(S=new kq(D[D.length-1],b[e++],b[e++],b[e++]).getPoints(Q),F=1;F<=Q;F++)D.push(S[F]);L.push(q.length,D.length)}return q.indexMark=L,q},Zy=function(V,S,F,R){var Q=q8;if(!(V=I.Default.getImage(V))||!V.comps||0==V.comps.length)return Q;function X(V){for(var R,Q,X,b=[],A=!1,c=V.points instanceof I.List?(A=!0,V.points.length):V.points.length/2,f=0;f<c;f++)X=A?(R=-((X=V.points.get(f)).x/q-.5)*S,(X.y/q-.5)*S):(R=-(V.points[2*f]/q-.5)*S,(V.points[2*f+1]/q-.5)*S),D&&(Q=X*N+R*P,X=X*P-R*N,R=Q),b.push({x:X,y:R});return d2(new Z(b),new Z(V.segments),F)}var b=V.comps[0],D=R,P=e8(D),N=J8(D),q=Math.max(V.width,V.height);return b&&!1!==b.visible&&b.points?(Q=X(b),b=[],[Q,b=(R=V.comps[1])&&!1!==R.visible&&R.points?X(R):b]):Q},ky=function(V){for(var R=V.length,Q=0,X=0;X<R-1;X++)Q+=qs(V[X],V[X+1]);return Q},xy=function(V,R,Q){for(var X=[],b=0,A=V.length,c=[],f=0;f<A;f++)b+=ky(V[f]),c.push(b);for(var S,F,D,P,N,q,L,e,J=R*b,s=(R+Q)*b,l=!1,H=!1,K=0,f=0;f<A;f++)if(c[f]<J)K=c[f];else if(l&&c[f]<s)X.push(V[f]),K=c[f];else{for(e=[],S=V[f].length,q=K,L=V[f],F=0;F<S-1;F++)if(P=q,!((q+=qs(L[F],L[F+1]))<J)&&(l?e.push(L[F]):(N=(J-P)/(q-P),(D=L[F].clone()).lerp(L[F+1],N),e.push(D),l=!0),s<=q)){N=(s-P)/(q-P),(D=L[F].clone()).lerp(L[F+1],N),e.push(D),H=!0;break}if(l&&!H&&e.push(L[S-1]),0<e.length&&X.push(e),c[f]>=s)break;K=c[f]}return[X,b]},By=function(V){for(var R,Q,X,b,A,c=[],f=V.length,S=0;S<f;S++){for(A=(b=V[S]).length,Q=[b[0]],R=X=1;R<A;R++)1e-10<qs(Q[X-1],b[R])&&(Q.push(b[R]),X++);qs(Q[0],Q[X-1])<=1e-10&&Q.pop(),c.push(Q)}return c},Gy=function(V){for(var R=1;R<arguments.length;R++){var Q=arguments[R];V.push(Q.x,Q.y,Q.z)}},dy=function(V,R,Q,X,b){var A=-X*e8(b),X=X*J8(b);return new K8(V.x+A*Q.x+X*R.x,V.y+A*Q.y+X*R.y,V.z+A*Q.z+X*R.z)},Vp=function(V,R,Q,X,b,A,c,f,S,F,D,P){S=S||0;var N,q,L,e,J=[],s=(c=c||s8)/b;for(F&&(N=new K8,q=new K8),L=0;L<=b;L++)e=dy(V,R,Q,X,L*s+A),J.push(e),f!=q8&&(e.uv=[f,1-L/b+S]),F&&(N.subVectors(e,D||V),P?(q.subVectors(e,P[L]),N.cross(q),q.cross(N),e.ns=q.normalize().toArray()):e.ns=N.normalize().toArray());return J},Rp=function(V,R,Q,X,b,A,c,f,S){S=S||s8;var F=R?V.top_vs:V.bottom_vs;if(F)for(var D,P,N=R?V.top_uv:V.bottom_uv,q=S/c,L=0;L<c;L++)R?(D=L*q+f,P=(L+1)*q+f):(P=L*q+f,D=(L+1)*q+f),Gy(F,dy(Q,X,b,A,D),dy(Q,X,b,A,P),Q),N&&N.push(.5-.5*e8(D),.5-.5*J8(D),.5-.5*e8(P),.5-.5*J8(P),.5,.5)},Qp=(sv=function(V,R,Q,X,b,A,c){var f=b[X].x*c,b=b[X].y*c;return 0!=A&&(X=e8(A),A=f*(c=J8(A))+b*X,f=f*X-b*c,b=A),new K8(V.x+f*Q.x+b*R.x,V.y+f*Q.y+b*R.y,V.z+f*Q.z+b*R.z)},function(V,R,Q,X,r,b,A,c,f,E,$,S,j,F,C,v,h,D,P,T,N){var W,U,q=R.length;if(q<=1)return S;var L,e,J,p,I,Z,s,l,H,K,y,k=!!P;!k&&0==F||(W=ky(R)),0!=F&&(U=F/W);var t=(Q=function(V,R){var Q,X,b,A=new K8,c=[],f=[],S=[],F=0,D=V.length;for(R&&(b=[0]);F<D;F++)X=V[F],(Q=V[F+1])?A.subVectors(Q,X):A.subVectors(X,V[F-1]),R?(X=A.length(),Q&&b.push(s8*X/R),X&&A.multiplyScalar(1/X)):A.normalize(),c.push(A.clone());var P,N=new K8,q=new K8,L=new y8,e=c[0],J=f[0]=new K8,s=S[0]=new K8;for(Math.abs(Math.abs(e.y)-1)<1e-4?N.set(1,0,0):N.set(0,1,0),q.crossVectors(e,N).normalize(),J.crossVectors(e,q),s.crossVectors(e,J),F=1;F<D;F++)f[F]=f[F-1].clone(),S[F]=S[F-1].clone(),q.crossVectors(c[F-1],c[F]),1e-4<q.length()&&(q.normalize(),P=a8(aJ(c[F-1].dot(c[F]),-1,1)),f[F].applyMatrix4(L.makeRotationAxis(q,P))),R&&f[F].applyMatrix4(L.makeRotationAxis(c[F],b[F])),S[F].crossVectors(c[F],f[F]);return{B:S,T:c,N:f}}(R,Q)).T,g=Q.N,m=Q.B,z=[],Y=_8(A/2),Q="round"===$,x=R[0],B=t[0],G=m[0],d=g[0],V8=R[q-1],R8=t[q-1],Q8=m[q-1],X8=g[q-1],b8=Math.PI/(2*Y);if("round"===E){for(y=b*Pn(P,N),s=[],a=1;a<=Y;a++)g.splice(0,0,d),m.splice(0,0,G),t.splice(0,0,B),H=-y*J8(b8*a),R.splice(0,0,B.clone().multiplyScalar(H).add(x)),z[Y-a]=O8(y*y-H*H),s[Y-a]=x;q+=Y}if(Q){for(y=b*Pn(P,T+N),s=s||[],a=1;a<=Y;a++)g.push(X8),m.push(Q8),t.push(R8),H=y*J8(b8*a),R.push(R8.clone().multiplyScalar(H).add(V8)),z[R.length-1]=O8(y*y-H*H),s[R.length-1]=V8;q+=Y}if(V.uv){var u=0,o=S,_=[];for(X&&(u=X),p=R[0],_[0]=C,a=1;a<q;a++)J=R[a],_[a]=p.distanceTo(J),p=J,X||(u+=_[a]);for(l=[],K=[],a=0;a<q;a++)o+=_[a],l[a]=u?o/u:0,K[a]=r?s8*o/r:0;S=o,V.internalUvScale=u?S/u:1}for(var O,A8,c8=0,f8=0,S8=0,F8=("flat"===E&&(y=b*(O=Pn(P,N)),D?D(V,!0,R[0],m[0],g[0],y,A,c,f):Dn(V,!0,R[0],m[0],g[0],l[0]||q8,K[0]||q8,t[0],b*O,O,A,j,0,v)),"flat"===$&&(y=b*(O=Pn(P,T+N)),D?D(V,!1,R[q-1],m[q-1],g[q-1],y,A,c,f):Dn(V,!1,R[q-1],m[q-1],g[q-1],l[q-1]||q8,K[q-1]||q8,t[q-1],b*O,O,A,j,F,v)),!!V.ns),w=1,a=0;a<q;a++){if(U&&(c8=f8*U),k&&(w=Pn(P,(S8=1<(S8=f8/W)?1:S8)*T+N)),J=R[a],I=m[a],Z=g[a],L=h?(A8=s&&s[a]&&!P?q8:e,h(J,I,Z,z[a]===N8?b*w:z[a],A,c,f,l?l[a]:q8,K?K[a]:q8,F8,s?s[a]:q8,A8)):Fn(J,I,Z,w=z[a]!==N8?z[a]/b:w,A,l?l[a]:q8,K?K[a]:q8,F8,t[a],e,j,c8),e)for(var i=0;i<A;i++){var D8=e[i],n=e[i+1]||e[0],M=L[i],P8=L[i+1]||L[0];Gy(V.vs,n,D8,M,M,P8,n),V.uv&&function(V){for(var R=1;R<arguments.length;R++){var Q=arguments[R].uv;V.push(Q[0],Q[1])}}(V.uv,n,D8,M,M,P8,n),F8&&function(V){for(var R=1;R<arguments.length;R++){var Q=arguments[R].ns;V.push(Q[0],Q[1],Q[2])}}(V.ns,n,D8,M,M,P8,n)}e=L,z[a]||(f8+=qs(R[a],R[a+1]))}return S}),Xp=(mJ(L8,{getLineLength:function(V){return V[V.length-1].length},getLineOffset:Uy,getLineCacheInfo:function(V,R,Q,X){return py(Iy(V,R,Q,X))}}),1),bp=function(J,N){function F(V,R){var Q,X=[];if(V)for(var b in V)!1!==(Q=V[b])&&X.push("#define "+b+(!0===Q?"":" "+Q));if(R)for(var b in R)V&&V[b]!==N8||!1!==(Q=R[b])&&X.push("#define "+b+(!0===Q?"":" "+Q));return X.join("\n")}var R=/^[ \t]*#include +<([\w\d./]+)>/gm,q=/^[ \t]*void[ \t]*main[ \t\r\n]*\(( *void *)?\)[ \t\r\n]*\{/gim;function L(V){return V.replace(R,Q)}function Q(V,R){var Q=J.getShaderChunk(R);if(Q===N8)throw new Error("Resolve #include <"+R+"> failed.");return L(Q)}var X,b,A,c,f,A=/(uniform\s+sampler2D\s+\w+)\[([\S\d]+)\];/g,c=/#UNROLL_LOOP_START\s+for\s*\(\s*int\s+i\s*=\s*([\S\d]+)\s*;\s*i\s*<\s*([\S\d]+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#UNROLL_LOOP_END/g,f=/^\d+$/,e=function(V){return V.indexOf("UNROLL_LOOP_START")<0||(X={},V=(b=V).replace(A,D).replace(c,P),X=b=null),V};function S(V){if(V.match(f))return C8(V);var R=X[V];return R||(R=new RegExp("#define\\s+"+V+"\\s+(\\d+)"),R=b.match(R),X[V]=R?C8(R[1]):0)}function D(V,R,Q){Q=S(Q);for(var X="",b=0;b<Q;b++)X+=R+b+";";return X}function P(V,R,Q,X){for(var b="",A=S(R);A<S(Q);A++)b+=X.replace(/\[\s*i\s*\]/g,"["+A+"]").replace(/\[\s*I\s*\]/g,A).replace(/\[\s*i\+1\s*\]/g,"["+(A+1)+"]").replace(/\[\s*I\+1\s*\]/g,A+1);return b}function V(V){var R,Q,X=N._programs,b=0;for(R in X)(Q=X[R])&&(Q._forceDelete||g-Q._fid>V?(N.deleteProgram(Q),delete X[R]):b++);N._validProgramCount=b}function s(V){var R={NUM_DIR_LIGHTS:V.get(0,8),NUM_SPOT_LIGHTS:V.get(8,8),NUM_POINT_LIGHTS:V.get(16,8),MAX_BOX_CLIPPER:V.get(24,8),MAX_FLOW_OBJECT:V.get(32,8),FOG:V.get(40),FOG_EXP2:V.get(41),UV_CLIP:V.get(42),USE_ENVMAP:V.get(43),ENVMAP_TYPE_CUBE_UV:V.get(44),OIT:V.get(45),BOX_CLIPER_TYPES:V.get(52,4),USE_SHADOWMAP:V.get(56),SHADOWMAP_TYPE_PCF:V.get(57),SHADOWMAP_TYPE_PCF_SOFT:V.get(58),SHADOWMAP_TYPE_PCSS:V.get(59),USE_CSM:!1,CSM_CASCADES:void 0};return R[gp[O[V.get(48,4)]]]=!0,(V=V.get(60,4))<2?(R.CSM_CASCADES=V,R.CSM_FADE=!1):(R.CSM_CASCADES=1+(V>>1),R.CSM_FADE=1==(1&V)),R}function l(V,R){var Q={DOUBLE_SIDED:R.get(0),CLIP_DIRECTION:R.get(1),USE_TANGENT:R.get(2),USE_UV:R.get(53),USE_UV2:R.get(54),USE_MAP:R.get(8),USE_ALPHAMAP:R.get(9),USE_AOMAP:R.get(17),USE_LIGHTMAP:R.get(7),USE_EMISSIVEMAP:R.get(12),USE_NORMALMAP:R.get(13),USE_ALPHATEST:R.get(3),TANGENTSPACE_NORMALMAP:R.get(13),USE_DISPLACEMENTMAP:R.get(15),USE_ENVMAP:R.get(52),ENVMAP_TYPE_CUBE_UV:!0,UV_CLIP:R.get(18),USE_INSTANCING:R.get(6),USE_SKINNING:R.get(19),BONE_TEXTURE:!0,OPAQUE:!R.get(4)},V=(Q["ALPHAMAP_CHANNEL_"+w[R.get(20,4)]]=!0,Q["AOMAP_"+w[R.get(28,4)]+"_"+(R.get(16)?1:2)]=!0,"pbr"===V?(R.get(10)&&(Q.USE_ROUGHNESSMAP=!0,Q["ROUGHNESSMAP_CHANNEL_"+w[R.get(32,4)]]=!0),R.get(14)&&(Q.USE_METALNESSMAP=!0,Q["METALNESSMAP_CHANNEL_"+w[R.get(36,4)]]=!0),R.get(5)&&(Q.USE_TRANSMISSION=!0),Q.NUM_RECT_AREA_LIGHTS=R.get(40,8)):"phong"===V&&(Q[V=1===(V=R.get(48,4))?"ENVMAP_BLENDING_MIX":2===V?"ENVMAP_BLENDING_ADD":"ENVMAP_BLENDING_MULTIPLY"]=!0,R.get(11)&&(Q.USE_SPECULARMAP=!0),Q.NUM_RECT_AREA_LIGHTS=0),i[R.get(24,4)]);return Q[V]=!0,Q}function H(V,Q){return V.replace(m,function(V,R){return R.split(",").forEach(function(V){V=V.trim(),Q.indexOf(V)<0&&Q.push(V)}),""})}function K(V,R,Q,X,b,A,c){var f,S="",F="",b=b&&b.OIT||J._programDefines&&J._programDefines.OIT,D=0<=Q.indexOf("oit")&&J._oitEnabled&&b;if(D?Q.push("glsl3"):b&&(R=R.replace("#define OIT",""),V=V.replace("#define OIT","")),X)for(var P in X)F+="#extension "+P+(X[P]?" : enable\n":" : disable\n");return 0<=Q.indexOf("depth")&&(F+="#extension GL_EXT_frag_depth : enable\n"),0<=Q.indexOf("glsl3")&&(J.isWebGL2()?S="vs"===A?"#version 300 es\n"+F+"precision mediump sampler2DArray;\n#define attribute in\n#define varying out\n#define texture2D texture\n":"#version 300 es\n"+F+"#define varying in\n"+(D?"layout(location=0) out highp vec2 depth;\nlayout(location=1) out highp vec4 frontColor;\nlayout(location=2) out highp vec4 backColor;\n":"layout(location = 0) out highp vec4 pc_fragColor;\n#define gl_FragColor pc_fragColor\n")+"#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad\n":"fs"===A&&(S="#extension GL_OES_standard_derivatives : enable\n"+F)),c&&(S+="#define USE_UBO\n"),V=(V=S+J._glCapabilities.precisionString+V).replace(z,R),"fs"===A&&(f=0<=Q.indexOf("bloomSelective"),(D||f)&&(V=V.replace(q,function(V){return D&&(V+="\nvec4 my_FragColor;\n"),f?"#include <bloomSelective.fs.head>\n"+V+"\n#include <bloomSelective.fs.body>\n":V}))),V=L(V),e(V)}function y(V,R,Q){var X=V.createShader(R);return V.shaderSource(X,Q),V.compileShader(X),V.getShaderParameter(X,35713)?X:(cp.addShaderErrorLog("COMPILE",V.getError(),V.getShaderInfoLog(X),35633===R?"vs":"fs",Q),null)}function t(V,R,Q,X,b){var A=F(b.defines,!1===b.internalDefines?null:J._programDefines),c=(b.defines&&(R.match(z)||(R=A+"\n"+R),Q.match(z)||(Q=A+"\n"+Q)),X||(R=H(R,X=[]),Q=H(Q,X)),("pbr"===(S=b.type)||"phong"===S)&&!b.potentialType&&J._glUbos.supportsUbo),f=K(R,A,X,b.extensions,b.defines,"vs",c),A=K(Q,A,X,b.extensions,b.defines,"fs",c);if(!(c=y(V,35633,f)))return null;if(!(f=y(V,35632,A)))return c&&V.deleteShader(c),null;if(A=V.createProgram(),V.attachShader(A,c),V.attachShader(A,f),V.linkProgram(A),Y&&J.shouldCompileShaderInParallel(S)){var S={program:A,vertShader:c,fragShader:f};o?o.push(S):o=[S],A._isReady=!1,J.iv()}else{if(V.deleteShader(c),V.deleteShader(f),!V.getProgramParameter(A,35714))return 0<=(S=V.getProgramInfoLog(A)).indexOf("maximum temp register")&&!J._glTempRegisterLimited?(J._glTempRegisterLimited=!0,V.deleteProgram(A),J.genProgramDefines(),t(V,R,Q,X,b)):(cp.addShaderErrorLog("LINK",V.getError(),S),V.deleteProgram(A),null);A._isReady=!0}return A._id=Xp++,A}var g,m=/^[ \t]*\/\/ *[Hh]ints *:([\w\d ,\.]+)$/gm,z=/(\/\/\s*)?#PREFIX/,Y=J.getGLExtension("KHR_parallel_shader_compile"),u=Y?Y.COMPLETION_STATUS_KHR:null,o=null,_=(j&&j.navigator&&j.navigator.userAgent.toLowerCase().indexOf("chrome"),new ef(64)),O=v.keys(gp),w=["R","G","B","A"],a=["linear","reinhard","cineon","aces"],i=["UseLinearToneMapping","UseReinhardToneMapping","UseCineonToneMapping","UseACESFilmicToneMapping"],n=["mix","add"],M=new ef(64);return N._programs={},{acquireProgram:function(V,R){var Q=N._programs,X=V.cacheKey,b=(X||(S=(b=V).type,b.defines&&(S+=F(b.defines,!1===b.internalDefines?null:J._programDefines)),X=b.cacheKey=S),Q[X]);if(b){if(!R)return b._fid!==g&&(b._dirty=b._waitingDisableAttr=!0,b._fid=g),b._isReady?b:null;N.deleteProgram(b),delete Q[X]}var A,c,f,S=V.type;return"legacy"===S?(A=uJ(oE.substring(0,oE.indexOf("^#"))),c=uJ("~!<eJ!>!spmpDhbsG`mh!\v?zepc/tg/ujp=!fevmdoj$\v!<1/2!;!x/eJ!@!uofsbqtobsUv!>!x/eJ!~!<spmpDsfmqnbTwv!>+!eJ!<*zy/wVw!-sfmqnbTeofmCv)E3fsvuyfu!>!spmpDsfmqnbTwv!5dfw!|!*fsvuyfUeofmCv)!gj!\vgjeof$\v!~!<ttfouihjsCidubCw!>+!chs/eJ!|*ttfouihjsCidubCv)gj!\vTTFOUIHJSCIDUBC!gfegj$\v!~!<ttfouihjsCv!>+!chs/eJ!|*1/2!>a!ttfouihjsCv)gj!\v?zepc/tg/hpg=!fevmdoj$\v!~!~!<zujdbqPusbQv!>+!b/eJ!|*1/2!>a!zujdbqPusbQv)gj!~!\v?zepc/tg/hopiQfujMtuihjm=!fevmdoj$\v!\v?zepc/tg/qbNxpmg=!fevmdoj$\v!|!*uihjMv)!gj!~!\vgjeof$\v!~!<spmpDeofmCv!>+!eJ!|*eofmCv)gj!\vftmf$\v!~!<spmpDeofmCv!>+!eJ!|*eofmCv)gj!ftmf!~!<eofmCidubCw!>+!chs/eJ!|*eofmCidubCv)gj!\vEOFMCIDUBC!gfegj$\v!~!~!<esbdtje!|*1/1!>>!x/eJ)gj!\vgjeof$\v!<ftvggjEv!>!eJ!\vftmf$\v!~!<ftvggjEv!>!eJ!|ftmf~!<spmpDidubCw!>!eJ!|*spmpDidubCv)gj!\vSPMPDIDUBC!gfegj$\v!|!ftmf!~!<spmpDwv!>!eJ!|*fsvuyfUv)gj!|!ftmf!~!<spmpDftsfwfSldjQyjGv!>!eJ!|*qjmGftsfwfSva!%%!ldbCtj)gj!\vgjeof$\v!~!<O.!>!O!|*ldbCtj)!gj!<fvsu!;!ftmbg!@!hojdbGuopsG`mh!>!ldbCtj!mppc!\vftmf$\v!~!<fvsu!>!ldbCtj!<O.!>!O!|!*1/1!=!*O!-F)upe)gj!<ftmbg!>!ldbCtj!mppc!\vTMBNSPO`HOJTV`FDBGLDBC`ZDBHFM!gfegj$\v!<F.!>!M!4dfw!<*opjujtpQwNw.)f{jmbnspo!>!F!4dfw!<*mbnspOw)f{jmbnspo!>!O!4dfw!|!ftmf!~!\vgjeof$\v!~!~!<ftvggjEv!>!eJ!|ftmf!~!<esbdtje!|*1/1!>>!x/ftvggjEv)gj!|!*fdobutjEitbEv!?!*fdobutjEqbHitbEv!-fdobutjEfojMw)epn!%%!itbEv)!gj!\vITBE!gfegj$\v!\vgjeof$\v!<spmpDftsfwfSldjQyjGv!>!eJ!\vftmf$\v!~!<spmpDftsfwfSldjQyjGv!>!eJ!|!ftmf!~!<spmpDidubCw!>!eJ!|*spmpDidubCv)gj!\vSPMPDIDUBC!gfegj$\v!|!*yjGv)!gj!<eJ!5dfw!\v?zepc/tg/fwjudfmfTnppmc=!fevmdoj$\v!\v?zepc/tg/ypcqjmd=!fevmdoj$\v!\v?zepc/tg/opjudfsjEqjmd=!fevmdoj$\v!~!~!~!<esbdtje!|!*utfUbiqmBv!>=!b/spmpDwv)!gj!|!ftmf!~!~!<esbdtje!|!*1/1!>>!b/spmpDwv)!gj!|!*uofsbqtobsUv)!gj!\vgjeof$\v!<*wVw!-sfmqnbTv)E3fsvuyfu!>!spmpDwv!\vftmf$\v!<*zy/wVw!-sfmqnbTv)E3fsvuyfu!>!spmpDwv!\vQJMD`WV!gfegj$\v!|!*fsvuyfUv)!gj!<spmpDwv!5dfw!|!*)ojbn!ejpw!\vgjeof$\v!<fdobutjEfojMw!ubpmg!hojzsbw!<fdobutjEqbHitbEv!ubpmg!nspgjov!<fdobutjEitbEv!ubpmg!nspgjov!<itbEv!mppc!nspgjov!\vITBE!gfegj$\v!\v?ebfi/tg/ujp=!fevmdoj$\v!\v?ebfi/tg/fwjudfmfTnppmc=!fevmdoj$\v!\v?ebfi/tg/qbNxpmg=!fevmdoj$\v!\v?ebfi/tg/qbNxpebit=!fevmdoj$\v!\v?ebfi/tg/hpg=!fevmdoj$\v!\v?ebfi/tg/ypcqjmd=!fevmdoj$\v!\v?hojldbq=!fevmdoj$\v!\v?ebfi/tg/hopiQfujMtuihjm=!fevmdoj$\v!\vgjeof$\v!<eofmCidubCw!4dfw!hojzsbw!<eofmCidubCv!mppc!nspgjov!\vEOFMCIDUBC!gfegj$\v!\vgjeof$\v!<ttfouihjsCidubCw!ubpmg!hojzsbw!<ttfouihjsCidubCv!mppc!nspgjov!\vTTFOUIHJSCIDUBC!gfegj$\v!\vgjeof$\v!<spmpDidubCw!5dfw!hojzsbw!<spmpDidubCv!mppc!nspgjov!\vSPMPDIDUBC!gfegj$\v!<opjujtpQemspXw!4dfw!hojzsbw!<opjujtpQbsfnbDv!4dfw!nspgjov!<yjsubNxfjWv!5ubn!nspgjov!<opjujtpQmbdpMw!4dfw!hojzsbw!<opjujtpQwNw!4dfw!hojzsbw!<mbnspOw!4dfw!hojzsbw!<ftvggjEv!5dfw!nspgjov!<zujdbqPusbQv!ubpmg!nspgjov!<ttfouihjsCv!ubpmg!nspgjov!<uihjMv!mppc!nspgjov!<spmpDeofmCv!5dfw!nspgjov!<eofmCv!mppc!nspgjov!\v?ebfi/tg/opjudfsjEqjmd=!fevmdoj$\v!\vOPJUDFSJE`QJMD!fojgfe$\v!<sfmqnbTeofmCv!E3sfmqnbt!nspgjov!<sfmqnbTv!E3sfmqnbt!nspgjov!\vgjeof$\v!<wVw!3dfw!hojzsbw!\vftmf$\v!<wVw!4dfw!hojzsbw!\vQJMD`WV!gfegj$\v!<fsvuyfUeofmCv!mppc!nspgjov!<fsvuyfUv!mppc!nspgjov!<uofsbqtobsUv!mppc!nspgjov!<utfUbiqmBv!ubpmg!nspgjov!<spmpDftsfwfSldjQyjGv!5dfw!nspgjov!<qjmGftsfwfSv!mppc!nspgjov!<yjGv!mppc!nspgjov!<fmcbudfmfTesbdtjEv!mppc!nspgjov!\vYJGFSQ$!00\v!\v4mtmh!-ujp!;tuoji!00")):((R=(R=p1[V.potentialType||S])||Dp(V.potentialType||S))||console.error("Shader "+S+" not found."),R.isRaw?(A=R.vs,c=R.fs,f=R.hints):(A=uJ(R[0],!0),c=uJ(R[1],!0))),!V.defines&&V.cacheKeyOfMat&&(V.defines=l(S,V.cacheKeyOfMat)),(b=t(N,A,c,f,V))?(R=b._isReady,b.name=S,b.cacheKey=X,b._dirty=!0,b._fid=g,"pbr"===S||"phong"===S?(b._shaderParams={type:S,cacheKeyOfMat:V.cacheKeyOfMat&&V.cacheKeyOfMat.toString(),cacheKeyOfScene:J._sceneProgramDefinesMask},V.extensions&&(b._shaderParams.extensions=V.extensions)):b._shaderParams={type:V.type,cacheKeyOfMat:V.cacheKeyOfMat,defines:V.cacheKeyOfMat?null:V.defines,gvDefines:!1!==V.internalDefines?Bf(J._programDefines):null,extensions:V.extensions},Q[X]=b,R?b:null):b},scheduleProgramGC:V,checkParallelLinkStatus:function(){if(o){for(var V=o.length-1;0<=V;V--){var R,Q,X=(Q=o[V]).program;N.getProgramParameter(X,u)&&(o[V]=o[o.length-1],o.pop(),N.getProgramParameter(X,35714)?X._isReady=!0:(R=N.getProgramInfoLog(X),cp.addShaderErrorLog("LINK",N.getError(),R),N.deleteProgram(X),X._forceDelete=!0),N.deleteShader(Q.vertShader),N.deleteShader(Q.fragShader))}o.length?J.iv():o=null}},dispose:function(){V(-1)},setCurrentFrameRenderId:function(V){g=V},disableAttributes:function(V){var R,Q,X=V._programs;for(R in X)(Q=X[R])&&Q._waitingDisableAttr&&(h1(V,Q).disable(),Q._waitingDisableAttr=N8)},genPhysicalProgramKeyOfScene:function(V){_.set(0,V.NUM_DIR_LIGHTS,8),_.set(8,V.NUM_SPOT_LIGHTS,8),_.set(16,V.NUM_POINT_LIGHTS,8),_.set(24,V.MAX_BOX_CLIPPER,8),_.set(32,V.MAX_FLOW_OBJECT,8),_.set(40,V.FOG),_.set(41,V.FOG_EXP2),_.set(42,V.UV_CLIP),_.set(43,V.USE_ENVMAP),_.set(44,V.ENVMAP_TYPE_CUBE_UV),_.set(45,V.OIT),_.set(48,O.indexOf(J.getFlowBlendMode()),4),_.set(52,V.BOX_CLIPER_TYPES,4),_.set(56,V.USE_SHADOWMAP),_.set(57,V.SHADOWMAP_TYPE_PCF),_.set(58,V.SHADOWMAP_TYPE_PCF_SOFT),_.set(59,V.SHADOWMAP_TYPE_PCSS);var R=(R=V.CSM_CASCADES||0)<2?R:Math.min(8,R)-1<<1|(V.CSM_FADE?1:0);return _.set(60,R,4),J._sceneProgramDefinesBits=_,J._sceneProgramDefinesMask=_.toString()},decodeSceneDefinesByKey:s,genPhysicalProgramKeyOfMat:function(V,R){return M.set(0,!V.cullFace),M.set(1,R.clipDirection),M.set(2,R.useTangent),M.set(3,V.alphaTest!=q8),M.set(4,R.isTransparent),M.set(5,R.enableTransmission),M.set(6,R.useInstancing),M.set(7,V.lightMap),M.set(8,V.map),M.set(9,V.alphaMap),M.set(10,V.roughnessMap),M.set(11,V.specularMap),M.set(12,V.emissiveMap),M.set(13,V.normalMap),M.set(14,V.metalnessMap),M.set(15,R.useDisplacement),M.set(16,1==R.aoMapUvChannel),M.set(17,V.aoMap),M.set(18,R.useUvClip),M.set(19,R.skeleton),M.set(20,w.indexOf(R.alphaChannel),4),M.set(24,a.indexOf(R.toneMapping),4),M.set(28,w.indexOf(R.aoChannel),4),M.set(32,w.indexOf(R.roughnessChannel),4),M.set(36,w.indexOf(R.metalnessChannel),4),M.set(40,R.rectsNum,8),M.set(48,n.indexOf(R.envMapCombine)+1,4),M.set(52,R.envmap!=q8),M.set(53,M.get(8,8)||3==M.get(16,2)||M.get(18)||R.uvChannelUsed&&1&R.uvChannelUsed),M.set(54,R.uvChannelUsed&&2&R.uvChannelUsed),2!=M.get(16,2)&&!M.get(7)||(V.uUv2Matrix=yE(V.uv2Rotation,V.uv2Offset,V.uv2Scale,V.uv2Anchor)),M},decodePhysicalProgramDefinesByKey:l,resolveIncludes:L,generateDefines:F,serializePhysicalShader:function(){var V,R,Q,X,b=N._programs,A=[];for(X in b)!(V=b[X]._shaderParams)||"pbr"!==V.type&&"phong"!==V.type||(A.push(V),R||(Q=V.cacheKeyOfMat.length,R=V.cacheKeyOfScene.length+Q));var c,f=A.length,S=40,F=new ef(S+2*f),D=[F];F.set(0,1,8),F.set(8,f,8),F.set(16,Q,8),F.set(24,R,8),F.set(32,2,8);for(var P=0;P<f;P++)c=A[P],F.set(S,"pbr"===c.type),F.set(S+1,c.extensions&&c.extensions.GL_EXT_shader_texture_lod),S+=2,D.push(c.cacheKeyOfMat,c.cacheKeyOfScene);return D[0]=D[0].toString(),D.join("")},deserializePhysicalShader:function(V){var R=J._programDefines;if(0===V.indexOf("__ht__encode")){var Q=L8.parse(V),X=this;Q.forEach(function(V){X.genPhysicalProgramKeyOfScene(J._programDefines=V.gvDefines),X.acquireProgram(V)})}else for(var b=new ef(V.substr(0,8)),A=b.get(8,8),c=b.get(16,8),f=b.get(24,8),S=(b.fromString(V.substr(0,V.length-A*f)),V.length-A*f),F=b.get(32,8),D=40,P=0;P<A;P++){var N=b.get(D+0)?"pbr":"phong",q=null,L=(b.get(D+1)&&(q={GL_EXT_shader_texture_lod:!0}),V.substr(S+P*f,c)),e=V.substr(S+P*f+c,f-c),N=(J._programDefines=s(new ef(e)),{type:N,extensions:q,cacheKey:e+L,cacheKeyOfMat:new ef(L)});this.acquireProgram(N),D+=F}J._programDefines=R}}},Ap=(lv={5126:"float",35664:"vec2",35665:"vec3",35666:"vec4",5124:"int",35667:"ivec2",35668:"ivec3",35669:"ivec4",35670:"bool",35671:"bvec2",35672:"bvec3",35673:"bvec4",35674:"mat2",35675:"mat3",35676:"mat4",35678:"sampler2D",35680:"samplerCube"},Hv=["uProjectMatrix","uViewMatrix","uModelMatrix","uModelViewMatrix","uNormalMatrix","uCameraPosition","uTime","uUvMatrix","uUv2Matrix"],Kv=B.generateUUID(),function(V,R,Q,X){var b,A=V.getGL();if(!A)return!1;var c=[],f=(Q=!1!==Q,cp.getShaderErrorLogId());try{var S=fp(R);if(!S)return{result:!1,reason:"invalidate shader source."};S.isRaw=!0,p1[Kv]=S,(b=V.acquireProgram({type:Kv,defines:X,internalDefines:!1},Q))&&(function V(R,Q){for(var X,b=R.children,A=b.length-1;0<=A;A--){var c,f,S=(X=b[A]).name;0<=Hv.indexOf(S)||(f=X.desc,X.isLeaf?Q.push({name:S,size:f.size,type:lv[f.activeInfo.type]}):(f=X.childMap)[0]?(Q.push({name:S,size:X.children.length,descs:c=[]}),V(f[0],c)):(Q.push({name:S,size:0,descs:c=[]}),V(X,c)))}}(v1(A,b)._struct,c),A.deleteProgram(b))}catch(V){}finally{p1[Kv]=null}return b?{result:!0,uniforms:c}:cp.getShaderErrorLogId()!==f&&(R=cp.getShaderErrorLog())?v.assign({result:!1},R):{result:!1,reason:"faild to create shader."}}),cp=(S=[],F=0,(D={})[j1.NO_ERROR]="no error",D[1280]="invalid enum",D[1281]="invalid value",D[1282]="invalid operation",D[1286]="invalid framebuffer operation",D[1285]="out of memory",D[37442]="context lost webgl",{addShaderErrorLog:function(V,R,Q,X,b){for(var A=arguments.length,c=[],f=0;f<A;f++)c[f]=arguments[f];V={time:(new Date).toLocaleString(),_62O:V,reason:Q},R&&(V.errorFlag=D[R]),X&&(V.shaderType=X,V.shaderSource=b),S[F]=V,F=(F+1)%50,console.error("Failed to create shader.")},clearShaderErrorLog:function(){S=[],F=0},getShaderErrorLog:function(V){return V=B.modToPositive(F-1+(V=V||0),50),S[V]},getShaderErrorLogId:function(){return F}}),fp=(mJ(L8,{getShaderErrorLog:cp.getShaderErrorLog,getShaderErrorLogId:cp.getShaderErrorLogId}),yv=/^[ \t]*\/\/[ \t]*fs[ \t]*$/gim,tv=/^[ \t]*\/\/[ \t]*[Hh]ints[ \t]*:([\w\d ,\.]+)$/gm,gv=/^[ \t]*\/\/[ \t]*ExtraInfo[ \t]*:[ \t]*([\w\d\+\/=]+)$/gim,function(V){var R,Q,X,b=[];do{if(!V.match(yv))break;var A=(V=(V=V.replace(tv,function(V,R){return R.split(",").forEach(function(V){V=V.trim(),b.indexOf(V)<0&&b.push(V)}),""})).replace(gv,function(V,R){if(R.length)try{X=I.Default.parse("__ht__encode"+R.trim())}catch(V){}return""})).split(yv)}while(2===A.length&&(R=A[0],Q=A[1],0));if(!R||!Q)return null;var c={vs:R,fs:Q};return b.length&&(c.hints=b),X&&(c.extraInfo=X),c}),Sp=function(V,R,Q,X){var b,A=[];return Q&&(b=[],Q.glsl3&&b.push("glsl3"),Q.light&&b.push("light"),b.length&&A.push("// Hints: "+b.join(", "))),X&&(Q=I.Default.stringify(X,0,!0),A.push("// ExtraInfo: "+Q.substr(12))),A.push(V+"\n// FS\n"+R),A.join("\n")},Fp=function(V){if("pbr"===V||"phong"===V)return V=p1[V],{vs:uJ(V[0],!0),fs:uJ(V[1],!0)}},Dp=function(V){var R=L8.getShader(V);if(R)return(R=fp(R))?(R.isRaw=!0,p1[V]=R):p1[V]=p1.fixColor},Pp=B.newIdGenerator(),Np=function(V,R,Q,X){this.id=Pp.next(),Q=Q||"",X=X||Q,this.gl=V,this.key=Q,this.name=X,this.bindingPointIndex=R,this.__bufferOffset=0,this.__uniformNum=0,this.uniforms={},this.attaches=new WeakMap,this.currentCache=null,this.currentBuffer=null,this.currentBufClip=null},qp=(v.assign(Np.prototype,{setName:function(V){return this.name=V,this},addUniform:(mv={1:function(V,R,Q,X){this.currentCache[R]!==(X=X==N8?0:X)&&(this.currentCache[R]=X,(R=this.currentBufClip[R])[0]=X,V.bufferSubData(35345,Q,R))},2:function(V,R,Q,X){var b=this.currentCache[R];b[0]===X[0]&&b[1]===X[1]||((R=this.currentBufClip[R])[0]=b[0]=X[0],R[1]=b[1]=X[1],V.bufferSubData(35345,Q,R))},3:function(V,R,Q,X){"string"==typeof X&&(X=I2(X));var b=this.currentCache[R];b[0]===X[0]&&b[1]===X[1]&&b[2]===X[2]||((R=this.currentBufClip[R])[0]=b[0]=X[0],R[1]=b[1]=X[1],R[2]=b[2]=X[2],V.bufferSubData(35345,Q,R))},4:function(V,R,Q,X){"string"==typeof X&&(X=I2(X));var b=this.currentCache[R];b[0]===X[0]&&b[1]===X[1]&&b[2]===X[2]&&b[3]===X[3]||((R=this.currentBufClip[R])[0]=b[0]=X[0],R[1]=b[1]=X[1],R[2]=b[2]=X[2],R[3]=b[3]=X[3],V.bufferSubData(35345,Q,R))},12:function(V,R,Q,X){var b=this.currentCache[R],A=!1,R=this.currentBufClip[R];b[0]!==X[0]&&(A=!0,R[0]=b[0]=X[0]),b[1]!==X[1]&&(A=!0,R[1]=b[1]=X[1]),b[2]!==X[2]&&(A=!0,R[2]=b[2]=X[2]),b[4]!==X[3]&&(A=!0,R[4]=b[4]=X[3]),b[5]!==X[4]&&(A=!0,R[5]=b[5]=X[4]),b[6]!==X[5]&&(A=!0,R[6]=b[6]=X[5]),b[8]!==X[6]&&(A=!0,R[8]=b[8]=X[6]),b[9]!==X[7]&&(A=!0,R[9]=b[9]=X[7]),b[10]!==X[8]&&(A=!0,R[10]=b[10]=X[8]),A&&V.bufferSubData(35345,Q,R)},16:function(V,R,Q,X){for(var b=this.currentCache[R],A=!1,c=this.currentBufClip[R],f=0;f<16;f++)b[f]!==X[f]&&(A=!0,c[f]=b[f]=X[f]);A&&V.bufferSubData(35345,Q,c)}},function(V,R){var Q,X,b,A;this.uniforms[V]===N8&&(Q=this.__uniformNum++,(X=this.__bufferOffset)%(b=R<=2?R:4)!=0&&(X+=b-X%b),b=4*X,A=4*R/Float32Array.BYTES_PER_ELEMENT,this.__bufferOffset=X+R,this.uniforms[V]={index:Q,location:b,dataSize:A},v.defineProperty(this,V,{configurable:!1,enumerable:!0,get:l,set:mv[R].bind(this,this.gl,Q,b)}))}),attachSource:function(V,R){V=V||We;var Q=this.attaches.get(V),V=(Q||this.attaches.set(V,Q=this.newInstance()),Q[0]),X=this.gl;return X.bindBuffer(35345,V),X.bindBufferBase(35345,this.bindingPointIndex,V),R&&Q[3]===R?null:(Q[3]=R,this.currentCache=Q[1],this.currentBufClip=Q[2],this.currentBuffer=V,this)},newInstance:function(){var V,R=this.gl,Q=R.createBuffer(),X=(R.bindBuffer(35345,Q),16*Math.ceil(this.__bufferOffset/4)),b=(R.bufferData(35345,X,35044),R.bindBuffer(35345,null),new Array(this.__uniformNum)),A=new Array(this.__uniformNum);for(V in this.uniforms){var c=this.uniforms[V],f=c.index,S=c.dataSize;if(S<=1)b[f]=0;else{b[f]=new Array(S);for(var F=0;F<S;F++)b[f][F]=0}for(A[f]=new Float32Array(S),F=0;F<S;F++)A[f][F]=0}return[Q,b,A,0]}}),function(D){var P,c,f,Q,S,X,b,A,N,q,F,L,e,J=this;function s(V){if("string"!=typeof V)return 0|V;switch(V){case"low":return 512;case"medium":return 1024;case"ultra":return 4096;default:return 2048}}function V(){J.enable=!L8.graph3dViewShadowDisabled,P=L8.graph3dViewShadowType,c=L8.graph3dViewShadowIntensity,f=L8.graph3dViewShadowBias,Q=L8.graph3dViewShadowQuality,S=L8.graph3dViewShadowRadius,X=L8.graph3dViewShadowDegreeX,b=L8.graph3dViewShadowDegreeZ,N=L8.graph3dViewShadowCascades,q=L8.graph3dViewShadowCSMLambda,F=L8.graph3dViewShadowCSMFade,L=L8.graph3dViewShadowPCSSLightSize,e=L8.graph3dViewShadowPCSSIntensity,J.direction=null,A=null}J.enable=!1,V();var l,H,K,y,t,g,m=1,z=s(Q),Y=!1,u=new K8,E=new K8,o=new I.Math.Matrix4,_=J.pvMatrix=new I.Math.Matrix4,O=[],w=[],a=new Ff,$=this.csmBoxInfo=[],i=[],n=new y8,j=new y8,C=new y8;function v(V){V=V||l,D._depthGrabber.renderDepth(V,!0,!1,M,o,z,z,function(V,R){return V?Vg(V)||!V.s("shadow.cast")||V instanceof su||V.s("effect.flow"):R?!1===R.shadowCast:void 0})}var h=new K8(0,0,0),T=new K8(0,1,0);function W(V,R){R=u.copy(J.direction).multiplyScalar(-R),o.lookAt(R,h,T).setPosition(R.add(V)).invert()}var M,U=0,r=(J.dispose=function(){rg(D,J.mapForReflector,J.map,J.mapCSM),J.mapForReflector=null,J.map=null,J.mapCSM=null},J.render=function(){if(!D._picking&&J.enable&&(R=D.getGL())){if(Y&&J.setupShadowCamera(),D._glCapabilities&&(z=Math.min(z,D._glCapabilities.maxTextureSize)),V=D.isReflecting(R)){if(U===R._renderInfo.frame)return;U=R._renderInfo.frame}if((l=J[R=V?"mapForReflector":"map"])?l.setSize(z,z):l=J[R]=new wp(D,D.getGL(),0,0,{samples:1,minFilter:9728,magFilter:9728,width:z,height:z}),!(0<N))return v();K=K||new Lp;var V=u.copy(rs(D.getCenter(),D.getEye())).normalize(),V=E.copy(rs(D.getCurrentShadowBounding(),D.getEye())).dot(V),R=Math.max(D.getNear(),V-g/2),V=Math.min(D.getFar(),Math.max(2*D.getNear(),V+g/2)),Q=K.breaks,X=(K.getBreaks(q,N,R,V,Q),K.setFromProjectionMatrix(D._projectMatrix,R,V),K.split(Q,O,R/V),K.getExtendedBreaks(Q),t=V,D.getGL()),b=(b=J.mapCSM)||(J.mapCSM=[]);J.getDirection(),n.lookAtDirection({x:-J.direction[0],y:-J.direction[1],z:-J.direction[2]}),j.copy(n).invert(),C.getInverse(D._viewMatrix).premultiply(j);for(var A=i.length=0;A<O.length;A++){var c=(F=O[A]).vertices.near,f=((S=(f=F.vertices.far)[0]).distanceTo(f[2])>S.distanceTo(c[2])?f:c)[2],S=(c=S.distanceTo(f))/2,f=(F.toSpace(C,y=y||new Lp),a.setFromPoints(y.vertices.near).expandByPoints(y.vertices.far),a.getCenter()),F=c/z,F=(f.x=Math.floor(f.x/F)*F,f.y=Math.floor(f.y/F)*F,f.applyMatrix4(n),Math.min(4*c,g));M=Kg(js(),-S,S,-S,S,F/1e3,F),_.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1).multiply(M),W(f,F/2),_.multiply(o),w[A]=_.toArray(),$[A]=[f.x,f.y,f.z,c,c,F],i[A]="pcss"===P?g/c:1,(S=(S=b[A])||(b[A]=new wp(D,X,0,0,{minFilter:9728,magFilter:9728,width:z,height:z}))).setSize(X,z,z),v(S)}}},J.getShadow=function(){var V={degreeX:X,degreeZ:b,intensity:c,quality:Q,type:P,radius:S,bias:f,bounding:A,cascades:N,lambda:q,fade:F,pcssLightSize:L,pcssIntensity:e};return 1!==m&&(V.boundExtend=m),V},J.setShadow=function(V,R){J.enable=V=!!V,"object"==typeof R&&(R.intensity!==N8&&(c=R.intensity),R.bias!==N8&&(f=R.bias),R.radius!==N8&&(S=R.radius),R.cascades!==N8&&(N=R.cascades),R.lambda!==N8&&(q=R.lambda),R.fade!==N8&&(F=R.fade),R.pcssLightSize!==N8&&(L=R.pcssLightSize),R.pcssIntensity!==N8&&(e=R.pcssIntensity),R.degreeX!==N8&&(X=R.degreeX,J.direction=null),R.degreeZ!==N8&&(b=R.degreeZ,J.direction=null),R.quality!==N8&&(Q=R.quality),R.bounding!==N8&&(A=R.bounding),R.type!==N8&&P!==R.type&&(P=R.type),z=s(Q),R.boundExtend!==N8&&(m=R.boundExtend)),V&&J.setupShadowCamera(),D.iv()},null),p=(J.tryInvalidateLater=function(V,R){"modelLoaded"===R&&(r&&kf(r,!0),r=Zf(function(){r=null,J.refresh()},J,N8,200))},J.refresh=function(){this.enable&&(this.setupShadowCamera(),D.iv())},J.tryUpdateBounding=function(V){var R,Q,X;A||(R=this.boundingSphere)&&(Q=(new y8).fromArray(xs(V,D.getMat(V))),V=V.getAnchor3d(),X=new K8,R.containsPoint(X.set(0-V.x,0-V.y,0-V.z).applyMatrix4(Q))&&R.containsPoint(X.set(0-V.x,0-V.y,1-V.z).applyMatrix4(Q))&&R.containsPoint(X.set(0-V.x,1-V.y,0-V.z).applyMatrix4(Q))&&R.containsPoint(X.set(0-V.x,1-V.y,1-V.z).applyMatrix4(Q))&&R.containsPoint(X.set(1-V.x,0-V.y,0-V.z).applyMatrix4(Q))&&R.containsPoint(X.set(1-V.x,0-V.y,1-V.z).applyMatrix4(Q))&&R.containsPoint(X.set(1-V.x,1-V.y,0-V.z).applyMatrix4(Q))&&R.containsPoint(X.set(1-V.x,1-V.y,1-V.z).applyMatrix4(Q))||J.setupShadowCamera())},[1,1]);J.createShadow=function(V,R){var Q,X;if(V=V||D._frameState.renderState.directUniforms(),X=!1!==D._getFrameRenderOptions("renderShadow")?D._getFrameRenderOptions("useReflectorSelfShadowMap")&&J.mapForReflector?J.mapForReflector.texture:0<N&&J.mapCSM?J.mapCSM:J.map?J.map.texture:null:X){if(0<N&&J.mapCSM)for(var b=0;b<N;b++)V["shadowMap"+b]=X[b].texture;else V.shadowMap=X;Q=!0}else{var A=D.getGL();if((X=A._emptyShadowTexture)||(X=A._emptyShadowTexture=og(A,null,[255,255,255,255])),0<N)for(b=0;b<N;b++)V["shadowMap"+b]=X;else V.shadowMap=X}R||(V.shadowIntensity=c,V.shadowBias=f,V.shadowRadius=S,V.shadowSize=Q?[z,z]:p,0<N&&K?(V.csmCascades=K.breaks,F&&(V.csmFadeFactor=1/F),V.csmDepthRange=t||D.getFar()-D.getNear(),V.shadowMatrix=w,V.pcssCSMLightSizeCorrection=i):V.shadowMatrix=_.toArray(),"pcss"===P&&(V.pcssParams=[L/1e3*z,1/z,e]))},J.genShaderDefine=function(V){return V.USE_SHADOWMAP=!0,0<N&&(V.USE_CSM=!0,1<(V.CSM_CASCADES=N)&&0<F&&(V.CSM_FADE=!0)),"hard"===P?V.SHADOWMAP_TYPE_PCF=!0:"soft"!==P&&"pcss"!==P||(D.isGLTempRegisterLimited()||"pcss"===P&&!D.isWebGL2()?V.SHADOWMAP_TYPE_PCF=!0:V["soft"===P?"SHADOWMAP_TYPE_PCF_SOFT":"SHADOWMAP_TYPE_PCSS"]=!0),V},J.setupShadowCamera=function(){H=H||(J.boundingSphere=new I.Math.Sphere),A?H.set((new K8).fromArray(A),A[3]):(Y=!1,(R=D.getBoundingBox(D.dm().toDatas(function(V){return V.s("shadow.cast")&&D.isVisible(V)})))?(Q=new K8(R.min),V=new K8(R.max)):(Q=new K8(-256,-256,-256),V=new K8(256,256,256),Y=!0),H.set(Q.clone().add(V).multiplyScalar(.5),.5*Q.distanceTo(V)*m));var V,R=H.radius,Q=g=2*R;M=Kg(js(),-R,R,-R,R,Q/1e3,Q),_.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),_.multiply(o.fromArray(M)),J.getDirection(),W(H.center,R),_.multiply(o)},J.getDirection=function(){var V,R,Q=J.direction;return Q||(V=Math.tan(-X*Math.PI/180),R=Math.tan(-b*Math.PI/180),Q=J.direction=K8.normalizeArray([-V,-1,-R])),Q},J.resetProperties=V}),Lp=(qp.PARAMS=["quality","intensity","bias","radius","type","degree.x","degree.z","bounding","cascades","lambda","fade","pcss.light.size","pcss.intensity"].map(function(V){return V.replace(/(^|\.)[a-z]/g,function(V){return V[V.length-1].toUpperCase()})}),Jf.ms_shadow=function(Q,V){qp.PARAMS.forEach(function(V){var R=V.charAt(0).toLowerCase()+V.substr(1);Q["getShadow"+V]=function(){return this._getShadowParam(R)},Q["setShadow"+V]=function(V){this._setShadowParam(R,V)}}),Q.setShadowFromDataModel=function(V){var R=V.a("sceneShadowEnabled");NJ(R)&&(R?this.enableShadow():this.disableShadow());for(var Q=0,X=qp.PARAMS.length;Q<X;Q++){var b=qp.PARAMS[Q];(R=V.a("sceneShadow"+b))!==N8&&this["setShadow"+b](R)}},Q.getCurrentShadowBounding=function(V){return!V&&this.shadowMap.boundingSphere||this.shadowMap.setupShadowCamera(),[(V=this.shadowMap.boundingSphere).center.x,V.center.y,V.center.z,V.radius]},Q.refreshShadow=function(){this.shadowMap.refresh()},Q.enableShadow=function(V){this.shadowMap.setShadow(!0,V)},Q.disableShadow=function(){this.shadowMap.setShadow(!1)},Q._getShadowParam=function(V){return this.shadowMap.getShadow()[V]},Q._setShadowParam=function(V,R){var Q=this._getShadowParam(V),X={},b=(X[V]=R,this.shadowMap);b.setShadow(b.enable,X),this.firePropertyChange("shadow"+V.charAt(0).toUpperCase()+V.substr(1),Q,R)}},I.graph3d.CSMFrustum=function(){this.vertices={near:[new K8,new K8,new K8,new K8],far:[new K8,new K8,new K8,new K8]},this.breaks=[]}),ep=(v.assign(Lp.prototype,{setFromProjectionMatrix:function(V,Q,X){var b=0===V[11];return Pf.copy(V).invert(),this.vertices.near[0].set(1,1,-1),this.vertices.near[1].set(1,-1,-1),this.vertices.near[2].set(-1,-1,-1),this.vertices.near[3].set(-1,1,-1),this.vertices.near.forEach(function(V){V.applyMatrix4(Pf);var R=Math.abs(V.z);b?V.z*=Math.max(Q/R,1):V.multiplyScalar(Math.max(Q/R,1))}),this.vertices.far[0].set(1,1,1),this.vertices.far[1].set(1,-1,1),this.vertices.far[2].set(-1,-1,1),this.vertices.far[3].set(-1,1,1),this.vertices.far.forEach(function(V){V.applyMatrix4(Pf);var R=Math.abs(V.z);b?V.z*=Math.min(X/R,1):V.multiplyScalar(Math.min(X/R,1))}),this.vertices},split:function(V,R,Q){for(;V.length>R.length;)R.push(new Lp);R.length=V.length;for(var X=0;X<V.length;X++){var b=R[X];if(0===X)for(var A=0;A<4;A++)b.vertices.near[A].copy(this.vertices.near[A]);else for(A=0;A<4;A++)b.vertices.near[A].lerpVectors(this.vertices.near[A],this.vertices.far[A],(V[X-1]-Q)/(1-Q));if(X===V.length-1)for(A=0;A<4;A++)b.vertices.far[A].copy(this.vertices.far[A]);else for(A=0;A<4;A++)b.vertices.far[A].lerpVectors(this.vertices.near[A],this.vertices.far[A],(V[X]-Q)/(1-Q))}},getBreaks:(zv=[],Yv=[],function(V,R,Q,X,b){b===N8?b=[]:b.length&&(b.length=0);var A=R,R=Q,Q=X,c=V,f=b;zv.length=0,Yv.length=0;for(var S=A,F=R,D=Q,P=Yv,N=1;N<S;N++)P.push(F*Math.pow(D/F,N/S)/D);P.push(1);for(var q=A,L=R,e=Q,J=zv,s=1;s<q;s++)J.push((L+(e-L)*s/q)/e);J.push(1);for(var l=1;l<A;l++){var H=zv[l-1],K=Yv[l-1];f.push((1-c)*H+c*K)}return f.push(1),b}),getExtendedBreaks:function(V,R){R===N8&&(R=V);for(var Q,X=0,b=0,A=V.length;b<A;b++)Q=V[b],R[b]=[X,Q],X=Q;return R},toSpace:function(V,R){for(var Q=0;Q<4;Q++)R.vertices.near[Q].copy(this.vertices.near[Q]).applyMatrix4(V),R.vertices.far[Q].copy(this.vertices.far[Q]).applyMatrix4(V)}}),mJ(L8,{getCascadedBreaksByLambda:function(V,R,Q){return Lp.prototype.getBreaks(V,R,1,Q||1e3)}}),function(s){var f=this,l=this.renderTargetPool=[],H=[],K=["rect","circle","polygon"],y=!1,t=(f.render=function(){if(!s._picking){var V=s._flowObjects;if(V.length){var R=s.getGL();if(R){y=!0;(b=s._frameState.renderState.glState).blend.enabled=!1,b.depth.enabled=!1,b.cullFace.enabled=!1;var Q,X,b=b.color.clear.slice(0);for(Mg(R,[0,0,0,1]),Q=0,X=V.length;Q<X;Q++)A=R,f=V[c=Q],J=e=L=q=N=P=D=F=S=void 0,"billboard"!==(J=(L=s.getData3dUI(f)).s("shape3d"))&&"plane"!==J||((S=l[c])||(S=l[c]=new wp(s,null,null,{wrapS:10497,wrapT:10497,generateMipmaps:!0})),q=f.s("effect.flow.size"),D=f.s("effect.flow.uvshape"),P=f.s("effect.flow.infinite"),e=(N=f.getFinalScale3d())[0],(N="billboard"===J?N[1]:N[2])<e?(N=N/e*q,e=q):(e=e/N*q,N=q),e=Math.max(128,Math.round(e)||0),N=Math.max(128,Math.round(N)||0),s.isWebGL2()||(e=B.nearestPOT(e),N=B.nearestPOT(N)),S.setSize(A,e,N),S.bind(A),q=s.getViewport(A),s.setViewport(A,0,0,e,N),A.clear(16640),L=s.getData3dUI(f),(e=hy(L,J))&&(!e.ns&&e.length&&(e=e[0]),Ty(e),N=e.vs,(e=f.s("effect.flow.gradient"))?(F="Flow3d.Cached."+e,I.Default.getImageMap()[F]||I.Default.setImage(F,I.Default.toCanvas({width:100,height:100,comps:[{type:"rect",background:"rgb(0,0,0)",gradient:e,rect:[0,0,100,100]}]},100,100))):F=f.s("shape3d.image"),-1===(e=K.indexOf(D))&&0===D.indexOf("polygon")&&(e=aJ(+D.substring(7),3,1024)-1),s._prefabRenderer.render(A,{model3d:!0,mesh:{position:N},mat:{type:"flow",useXZ:"plane"===J,image:s.getTexture(F,f),blend:f.s("effect.flow.blend")||t,uvMatrix:P?yE(null,L.s("shape3d.uv.offset")):yE(L.s("shape3d.uv.rotation"),L.s("shape3d.uv.offset"),L.s("shape3d.uv.scale"),L.s("shape3d.uv.anchor")),intensity:f.s("effect.flow.intensity"),shape:e}}),S.unbind(A),s.setViewport(A,q[0],q[1],q[2],q[3]),(D=f.getMatrix4()).getInverse(D),N=D.getElements(),"plane"===J?N[1]=N[5]=N[9]=N[13]=0:N[2]=N[6]=N[10]=N[14]=0,P&&(A.activeTexture(33984),Og(A,S.texture),A.generateMipmap(3553),Og(A,q8)),H[c]={matrix:D,group:f.s("effect.flow.group"),infinite:P}));Mg(R,b),l.length!==X&&l.splice(X,l.length-X),y=!1}}}var A,c,f,S,F,D,P,N,q,L,e,J},f.dispose=function(){s.getGL()&&(rg(s,l),l=this.renderTargetPool=[])},f.createFlow=function(V,R){var Q;if(!y&&(Q=l.length)){V=V||s._frameState.renderState.directUniforms();for(var X=0;X<Q;X++)V["flowTexture"+X]=l[X].texture;if(!R){for(var b=[],A=[],c=Vf(f,"_flowMatrix",16*Q),X=0;X<Q;X++)H[X].matrix.toArray(c,16*X),b[X]=!1,A[X]=H[X].infinite;V.flowMatrix=c,V.flowInfinite=A,V.flowEnabled=b}}},f.disableFlow=function(V){var R;if(R=l.length){V=V||s._frameState.renderState.directUniforms();for(var Q=[],X=0;X<R;X++)Q[X]=!1;V.flowEnabled=Q}},f.resetDataFlowEnabld=function(V,R){return f.resetFlowUniform(V.s("effect.flow.mask"),R)},f.resetFlowUniform=function(V,R){var Q=l.length,X=new Array(Q);if(V)for(var b=0;b<Q;b++)V&1<<H[b].group&&(X[b]=!0);R.flowEnabled=X},"white")}),Jp=function(l){function R(V){l.getPostProcessing().isRenderingScene()&&"main"===V.layer&&!l._picking&&(c="post"===V.phase?l.getPostProcessing().getRenderTarget().grabDepth():null)}function b(V,R){V.modelViewMatrix=R}function A(V,R){V.modelViewMatrix=R,V.uNormalMatrix=bE(R,F)}var c,H,K,f=this,Q=!1,S=1,P=new I.Math.Matrix4,X=[],F=(f.enable=function(V){if(X.indexOf(V=V||"default")<0&&X.push(V),!Q)return l.getGL()&&l.isWebGL2()&&l.addRenderLayerListener(R,f),Q=!0},f.disable=function(V){if(V){if(0<=X.indexOf(V)&&X.splice(X.indexOf(V),1),X.length)return}else X.length=0;if(Q)return l.isWebGL2()&&(l.removeRenderLayerListener(R,f),c=null),!(Q=!1)},f.isEnabled=function(){return Q},f.setResolution=function(V){S=V},f.getResolution=function(){return S},f.grab=function(V){var R,Q,X;return!V&&l.isWebGL2()?(R=l.getPostProcessing().getRenderTarget())?c||R.grabDepth():null:(V=l.getGL())?(Q=Math.round(S*l.getWidth()),X=Math.round(S*l.getHeight()),(R=V._depthGrabberRTT)||(R=V._depthGrabberRTT=new wp(l,Q,X,{minFilter:9728,magFilter:9728})),l._setupPVMatrix(),f.renderDepth(R,!1,!1,l._projectMatrix,l._viewMatrix,Q,X),R.texture):void 0},[]),y=b,t=(f.grabDepthAndNormal=function(){if(!l.isWebGL2())return null;var V,R,Q,X=l.getGL();return X?(R=Math.round(S*l.getWidth()),Q=Math.round(S*l.getHeight()),(V=X._depthNormalGrabberRTT)||(V=X._depthNormalGrabberRTT=new wp(l,R,Q,{minFilter:9728,magFilter:9728,multiple:2})),l._setupPVMatrix(),y=A,f.renderDepth(V,!1,!0,l._projectMatrix,l._viewMatrix,R,Q),y=b,{depth:V.getTexture(0),normal:V.getTexture(1)}):void 0},f.renderDepth=function(V,R,Q,X,b,A,c,f){var S,F,D=l.getGL();D&&((F=(S=l._frameState).renderState.glState).blend.enabled=!1,F.depth.enabled=!0,F.depth.mask=!0,F=F.color.clear.slice(0),Mg(D,[1,1,1,1]),Q=l.acquireProgram({type:Q?"depthNormalGrabber":"depthGrabber",defines:{MAX_BOX_CLIPPER:l._boxClippers.length,BOX_CLIPER_TYPES:l._boxClipperTypes,UV_CLIP:!1,GRAB_NORMAL:!!Q}}),S.renderState.useProgram(Q),X.isMatrix4&&(X=X.getElements()),b.isMatrix4||(b=P.fromArray(b)),N(V,R,X,b,A,c,f),Mg(D,F))},new I.Math.Matrix4),N=function(V,R,Q,X,b,A,c){var f=l.getGL();V&&(V.setSize(f,b,A),V.bind(f)),f.clear(16640);var S=(P=l._frameState.renderState).directUniforms(),F=P.directAttribs(),D=P.directState(),P=(S.uUseInstance=!1,S.uUseSkinning=!1,FE(F,N8),S.boneTexture=N8,S.projectionMatrix=Q,K=l.isReflecting(f),(H=0<l._boxClippers.length)&&(Eg(l,S,U1),S.uClipperMatrix=l._boxClipperMatrixes,S.uClipperClipInner=l._boxClipperClipInner),l._viewport);l.setViewport(f,0,0,b,A);for(var N=l.getRenderLayerKeys(),q=0,L=N.length;q<L;q++){var e,J=N[q];l.getRenderLayerInfo(J).ignore||(J=l._40Q.get(J))&&(J.resetModel3dInstancedDraw(),e=J.batchIndexMap,z(f,S,F,D,X,c,R,J.opaque,e,!1),R&&z(f,S,F,D,X,c,R,J.transparent,e,!0),s(f,S,F,D,X,c,R,J.batchModelMap,e))}V&&V.unbind(f),P&&l.setViewport(f,P[0],P[1],P[2],P[3])},g=function(V,R,Q,X,b,A,c,f){Q&&Q.length&&(A=A&&A.length?A.length/16:0,R.position=Gg(V,l._buffer.vs,Q,q8),R.aNormal=Gg(V,l._buffer.ns,X,q8),b?(VE(V,l._buffer.is,b),kg(V,c||0,f===N8?b.length:f,null,b instanceof Uint32Array?5125:b instanceof Uint8Array?5121:null,A)):Zg(V,c||0,f===N8?Q.length/3:f,null,A))},m=function(V,R,Q,X){var b,A,c;if(H8(Q))for(A=0,c=Q.length;A<c;A++)(b=Q[A])&&m(V,R,b,X);else l8(Q)?m(V,R,hy(X,Q),X):qJ(Q)&&(Q.shape3d?m(V,R,Q.shape3d,X):D(V,R,Q))},D=function(V,R,Q){Ty(Q),g(V,R,Q.vs,Q.ns,Q.is),g(V,R,Q.top_vs,Q.top_ns,Q.top_is),g(V,R,Q.bottom_vs,Q.bottom_ns,Q.bottom_is),g(V,R,Q.from_vs,Q.from_ns,Q.from_is),g(V,R,Q.to_vs,Q.to_ns,Q.to_is)},s=function(V,R,Q,X,b,A,c,f){if(!_J(f)&&!l.drawFilter){var S,F,D,P,N,q=t.identity().premultiply(b),L=(y(R,q.toArray()),R.uClipDirection=0,new I.Math.Matrix4);for(S in f)if(!1!==(F=l.getBatchInfo(S)||We).visible){if(!c)if(D=F.material){if("string"==typeof D&&(D=L8.getMaterial(D)),!c&&(!D||D.transparent))continue}else if(F.transparent)continue;A&&A(null,F)||K&&!1===F.reflectable||((D=f[S]).invalidate&&Xy(D,l._picking),H&&(R.modelMatrix=OE,Eg(l,R,F.clipboxMask===N8?W1:F.clipboxMask)),(F=D.translate)&&(L.set(1,0,0,F[0],0,1,0,F[1],0,0,1,F[2],0,0,0,1),R.modelMatrix=L.getElements(),y(R,L.premultiply(b).toArray())),(N=(P=D.ms32)&&P.length)&&(R.uUseInstance=!0,FE(Q,Bg(V,l._buffer.ms,P,q8),R)),g(V,Q,D.vs32,D.ns32,D.is,P),N&&(R.uUseInstance=!1,FE(Q,N8)),F&&(R.modelMatrix=OE,y(R,q.toArray())))}}},z=function(D,P,N,q,L,V,e,R,Q,X){for(var J,b,s,A=R.length,c=0;c<A;c++)if(b=(S=R[c]).ui,J=S.data,l.isVisible(J)&&!(V&&V(J)||Q[J._id]||K&&!1===J.s("3d.reflectable"))){if(S=b.s("3d.clip.direction")){if(0===(f=b.s("3d.clip.percentage")))continue;S=b._formatClipUniforms(S,f,J),P.uClipPercent=S[1],P.uClipDirection=S[0]}else P.uClipDirection=0;if(H&&Eg(l,P,J.s("3d.clipbox")?U1:J.s("3d.clipbox.mask")),(f=b.shapeModel||hy(b))&&f.model3d)X||l._prefabRenderer.renderNode(D,f,J,b.mat,!0,function(V,R,Q,X,b,A){var c,f,S,F;(e||Q&&!Q.transparent)&&((X=X&&X.aMatrixInstanced)&&(P.uUseInstance=!0,FE(N,Bg(D,l._buffer.ms,X,q8),P,b)),H&&(P.modelMatrix=V.getElements()),y(P,V.clone().premultiply(L).getElements()),q.cullFace.enabled=!(!Q||!Q.cullFace),s=!(!Q||!Q.flipSide),(s=J._flipSide?!s:s)&&(q.cullFace.frontFace=2304),(b=!!(A.skeleton&&J&&(c=l._updatedSkeletonDatas[A._skeletonId+"|"+J._lastAnimHashKey])&&(f=l.getPrefabBoneTexture(A))))&&(V=A._boneTextureSize,D.activeTexture(33984),Og(D,f),D.texImage2D(3553,0,34836,V,V,0,6408,5126,c),Og(D,q8),tE(P,A,f,c),N.skinIndex=Gg(D,null,R.skinIndex),N.skinWeight=Gg(D,null,R.skinWeight)),A.drawRange&&(S=A.drawRange[0],F=A.drawRange[1]),g(D,N,R.vs,R.ns,R.is,X,S,F),s&&(q.cullFace.frontFace=2305),X&&(P.uUseInstance=!1,FE(N,N8)),b&&(P.uUseSkinning=!1,N.skinIndex=N8,N.skinWeight=N8))});else{var f=f||(J instanceof I.Node&&!(J instanceof I.Shape)?{vs:ly,is:Hy}:[b.left,b.front,b.right,b.back,b.top,b.bottom]),S=b.mat?t.fromArray(b.mat):t.identity(),F=b._vsTranslation;if(F&&(L8.extractShapeTranslation||L8.extractPolylineTranslation||L8.extractVerticesTranslation)&&S.multiply(F),H&&(P.modelMatrix=S.toArray()),y(P,S.premultiply(L).toArray()),s=!1,F=J.s("shape3d.material")){if("string"==typeof F&&(F=L8.getMaterial(F)),!e&&(!F||F.transparent))continue;q.cullFace.enabled=!(!F||!F.cullFace),s=!(!F||!F.flipSide),(s=J._flipSide?!s:s)&&(q.cullFace.frontFace=2304)}else q.cullFace.enabled=!!J.s("shape3d.reverse.cull"),J._flipSide&&(s=!0,q.cullFace.frontFace=2304);m(D,N,f,b),s&&(q.cullFace.frontFace=2305)}}}},sp=function(s){var l,H,K,y,t,g,m=this,z=!1,Y=-99999,u=[0,0];function o(){z=!1;var R=s.getGL();R&&(l&&l.forEach(function(V){R.deleteFramebuffer(V)}),H&&H.forEach(function(V){R.deleteFramebuffer(V)}),K&&R.deleteFramebuffer(K),rg(s,y)),l=H=K=y=null,u[0]=0,u[1]=0}function _(V,R,Q){for(var X=0,b=s._prg,A=s.getGL(),c=V.length;X<c;X++)V[X].ui._42(A,b,a);by(s,R,Q,0,!0)}function O(V){var R=s.getGL(),R=t8.for(R),Q=s._frameState;Q.syncEnv(),R.useProgram(s._prg=s._frameState.defaultProgram=V),Q.setGLState(!0,!0),Q.setUniforms(!0),R.directAttribs().disable(),s.shadowMap.enable&&s.shadowMap.createShadow(),s.rebindOITTexture(),s._envmapRenderer.resetUniformCache(),s.flowMap.createFlow()}m.enableOIT=function(){},m.disableOIT=function(){o()},m.dispose=function(){o()},m.bindTexture=function(V){y&&((V=V||s._frameState.renderState.directUniforms()).oitDepthSampler=y[t],V.oitFrontColorSampler=y[g])},m.render=function(V,R,Q){var X=s.getOITPassCount();if(!X)return!1;if(!V.length)return!1;if(!function(){var V=s.getGL();if(V&&(Q=s.getCanvas())){var R=Q.width,Q=Q.height;if(R&&Q){if(z&&u[0]===R&&u[1]===Q)return 1;o();var X={width:R,height:Q,filter:9728,clampToEdge:!0,format:33319,type:5126,data:null},b=v.assign({},X,{format:6408,type:5131});l=[V.createFramebuffer(),V.createFramebuffer()],H=[V.createFramebuffer(),V.createFramebuffer()],K=V.createFramebuffer(),y=[];for(var A=0;A<2;A++){var c=s.createTexture(X),f=s.createTexture(b),S=s.createTexture(b),F=3*A;B1(V,l[A]),V.activeTexture(33984+F),V.bindTexture(3553,c),V.framebufferTexture2D(36160,36064,3553,c,0),V.activeTexture(33984+F+1),V.bindTexture(3553,f),V.framebufferTexture2D(36160,36065,3553,f,0),V.activeTexture(33984+F+2),V.bindTexture(3553,S),V.framebufferTexture2D(36160,36066,3553,S,0),G1(V),B1(V,H[A]),V.framebufferTexture2D(36160,36064,3553,f,0),V.framebufferTexture2D(36160,36065,3553,S,0),G1(V),V.activeTexture(33984+F),Og(V,null),V.activeTexture(33984+F+1),Og(V,null),V.activeTexture(33984+F+2),Og(V,null),y.push(c,f,S)}B1(V,K);var D=s.createTexture(b);return V.activeTexture(33990),V.bindTexture(3553,D),V.framebufferTexture2D(36160,36064,3553,D,0),Og(V,null),G1(V),y.push(D),u[0]=R,u[1]=Q,z=!0}}}())return!1;s._programDefines.OIT=!0,s._glPrograms.genPhysicalProgramKeyOfScene(s._programDefines);var b=s._prg,A=(O(s.acquireProgram({type:"legacy"})),s.getGL()),c=t8.for(A).directState(),f=ng(A,!0),S=(S=A.frameStack)&&S.length?S[S.length-1]:null,F=(A.bindFramebuffer(36009,K),c.color.clear=[0,0,0,0],A.clear(16384),A.bindFramebuffer(36160,l[0]),A.drawBuffers([36064]),c.color.clear=[Y,Y,0,0],A.clear(16384),A.bindFramebuffer(36009,l[1]),c.color.clear=[-0,1,0,0],A.clear(16384),A.bindFramebuffer(36009,H[0]),A.drawBuffers([36064,36065]),c.color.clear=[0,0,0,0],A.clear(16384),A.bindFramebuffer(36009,H[1]),c.color.clear=[0,0,0,0],A.clear(16384),s.getPostProcessing().getRenderTarget());if(F&&F.isBinding(A)){var D=F.grabDepth(!0);if(A.bindFramebuffer(36160,l[0]),A.bindRenderbuffer(36161,D),A.framebufferRenderbuffer(36160,36096,36161,D),A.bindRenderbuffer(36161,null),A.bindFramebuffer(36160,null),s.isTransmissionEnabled()){for(var P=!1,N=0,q=V.length;N<q;N++)if(V[N].ui.s("shape3d.transmission")){P=!0;break}P&&Ug(s,F)}}A.bindFramebuffer(36009,l[0]),A.drawBuffers([36064]),A.blendEquation(32776),t=3,g=4,m.bindTexture(t8.for(A).directUniforms()),_(V,R,Q);for(var L,e=0,J=0;J<X;J++)A.bindFramebuffer(36009,l[e=1-(L=J%2)]),A.drawBuffers([36064]),c.color.clear=[Y,Y,0,0],A.clear(16384),A.bindFramebuffer(36009,H[e]),A.drawBuffers([36064,36065]),c.color.clear=[0,0,0,0],A.clear(16384),A.bindFramebuffer(36009,l[e]),A.drawBuffers([36064,36065,36066]),A.blendEquation(32776),g=1+(t=3*L),m.bindTexture(t8.for(A).directUniforms()),_(V,R,Q),A.bindFramebuffer(36009,K),A.drawBuffers([36064]),A.blendEquation(32774),A.blendFuncSeparate(770,771,1,771),s.renderModel({type:"oitBackBlend",transparent:!0,uBackColor:y[3*e+2]},{clear:!1});A.bindFramebuffer(36160,S),(D=c.depth.enabled)&&(c.depth.enabled=!1),A.blendFunc(1,771),s.renderModel({type:"oitFinal",transparent:!0,uFrontColor:y[3*e+1],uBackColor:y[6]},{clear:!1}),c.blend.apply({equation:32774,func:[770,771,1,771]}),c.color.clear=f,D&&(c.depth.enabled=!0),delete s._programDefines.OIT,s._glPrograms.genPhysicalProgramKeyOfScene(s._programDefines),O(b)}},lp=function(V){this.gv=V,this.onMouseOver=this.onMouseOver.bind(this),this.resetProperties()};lp.Mode={Disable:0,Selection:1,MouseOver:2,Style:3},Jf.ms_highlight=function(V){V.setHighlightMode=function(V){var R="selection"===V||"selected"===V?lp.Mode.Selection:"mouseover"===V||"hover"===V?lp.Mode.MouseOver:"style"===V?lp.Mode.Style:lp.Mode.Disable,Q=this.getHighlightMode();this._highlightHelper.mode=R,this.firePropertyChange("highlightMode",Q,V)},V.getHighlightMode=function(){var V=this._highlightHelper.mode;return V===lp.Mode.Selection?"selected":V===lp.Mode.MouseOver?"hover":V===lp.Mode.Style?"style":"disabled"},["type","color","width","glow","strength","groups"].forEach(function(A){var c=A.replace(/(^|\.)[a-z]/g,function(V){return V[V.length-1].toUpperCase()});V["getHighlight"+c]=function(){var V,R=this._highlightHelper;return"type"!==A&&"groups"!==A&&R.groups&&R.groups.length?(V=R.groups[0][A])!=q8?V:g8["highlight."+A]:R[A]},V["setHighlight"+c]=function(V){var R,Q,X=this._highlightHelper,b=X[A];V===b&&"groups"!==A||(X[A]=V,"type"!==A&&"groups"!==A&&X.groups&&X.groups.length?X.groups[0][A]=V:"groups"===A&&(R=V&&V.length&&V[0],X.color=R&&R.color||g8["highlight.color"],(Q=R&&R.width)==q8&&(Q=g8["highlight.width"]),X.width=Q,(Q=R&&R.glow)==q8&&(Q=g8["highlight.glow"]),X.glow=Q,(Q=R&&R.strength)==q8&&(Q=g8["highlight.strength"]),X.strength=Q),this.firePropertyChange("highlight"+c,b,V))}})},Os(lp,v,{onMouseOver:function(V){L8.preventDefault(V);var R=this.gv;R._48Q||(V=R.getDataAt(V))!==this.mouseOverData&&(this.mouseOverData=V,R.iv())},getPickColorOfIndex:function(){for(var R=[],V=Math.min(128,L8.graph3dMaxHighlightGroups),Q=0;Q<V;Q++)R.push([Q/V,1,1,1]);return function(V){return R[V]}}(),setFetchTargetFunc:function(V){this.fetchTargetFunc=V},_42:function(V,R){var Q,X,b=this,A=b._mode,c=b.gv;if(!V._renderInfo.reflectDepth&&A!==lp.Mode.Disable){if(A===lp.Mode.Selection?Q=c.sm().getSelection().toArray(function(V){return V.s("highlight.visible")}):A===lp.Mode.MouseOver&&b.mouseOverData&&b.mouseOverData.s("highlight.visible")&&(Q=[b.mouseOverData]),b.fetchTargetFunc&&(Q=b.fetchTargetFunc(Q)),A===lp.Mode.Style)Q=Q||[],X=function(V){if(0<=Q.indexOf(V))return!1;var R=c.getDataHighlightMode(V);return!1===R||!0!==R&&("selected"===R?!c.isSelected(V):"hover"!==R||V!==b.mouseOverData)};else{if(!Q||!Q.length)return;X=function(V){if(Q.indexOf(V)<0)return!0}}var f,S,F,D,A=c.isRealityPresenting("VR"),P=c._camera,N=(P?(L=P.getRenderTargetSize(c),f=L[0],L=L[1]):(f=c.getWidth(),L=c.getHeight(),A&&(S=c.getWidth,f/=2,c.getWidth=function(){return f},F=c.getViewport())),c.getDevicePixelRatio()),q=Math.floor(f*N),L=Math.floor(L*N),e=((D=b._renderTarget)?D.setSize(V,q,L):b._renderTarget=D=new k.RenderTarget(c,V,q,L,{minFilter:9728,magFilter:9728}),"soft"===b.type),J=(D.bind(V),V.clear(16384),c.setViewport(V,0,0,q,L),c.drawFilter=function(V){return!V.s("static")&&X(V)},fE=function(V,R,Q,X,b,A){return A?SE(V,R,Q,X,b,A):(R=c.getHighlightPickColor(X.data),t8.for(V).directUniforms().uFixPickReverseColor=R)},c.getRenderLists().each(function(V){V.beginFillHighlightMaskColor(X)}),V._blooming),R=(J&&(V._blooming=!1),c.renderPickScene(N),J&&(V._blooming=!0),fE=SE,c.drawFilter=null,c.getRenderLists().each(function(V){V.endFillHighlightMaskColor()}),D.unbind(V),c._prg),N=(Z8&&QE(V,R.aPosition),QE(V,R.aNormal),!P&&A&&(c.getWidth=S,c.setViewport(V,F[0],F[1],F[2],F[3])),c.getHighlightColor());return b._lastHighlightColor!==N&&(J=ws(b._lastHighlightColor=N),b._highlightColorData=[J[0]/255,J[1]/255,J[2]/255,J[3]/255]),e?b.renderSoftOutline(V,q,L):b.renderHardOutline(V,q,L),t8.for(V).useProgram(R=c._prg=c.acquireProgram({type:"legacy",defines:{}})),Z8&&(D=V,(P=R.aPosition)!=q8&&0<=P&&D.enableVertexAttribArray(P)),!0}},renderHardOutline:function(V,R,Q){var X,b,A=this.gv._postProcessing,c=((V=t8.for(V).directState()).blend.enabled=!0,V.depth.enabled=!1,this.groups);c&&c.length||(c=[{color:this.color,width:this.width}]);for(var f=0;f<c.length;f++){var S,F=c[f];F&&((S=F.width)==q8&&(S=b=b||g8["highlight.width"]),A.blitScreen({type:"highlightHard",image:this._renderTarget.texture,textureSize:[R,Q],maskColor:this.getPickColorOfIndex(f),edgeWidth:S,edgeColor:F.color||X||(X=g8["highlight.color"])},{clear:!1}))}V.blend.enabled=!1,V.depth.enabled=!0},renderSoftOutline:function(V,R,Q){var X,b,A,c,f,S,F,D,P,N=this,q=N.gv,L=q._postProcessing,e=Math.floor(R/2),J=Math.floor(Q/2),s=Math.floor(R/4),l=Math.floor(Q/4),H=N._downSampleRenderTarget,R=(H?(X=N._edgeDetectionRenderTarget,b=N._blurV2,A=N._blurH2,c=N._blurV4,f=N._blurH4,H.width===e&&H.height===J||(H.setSize(e,J),X.setSize(e,J),b.setSize(e,J),A.setSize(e,J),c.setSize(s,l),f.setSize(s,l))):(H=N._downSampleRenderTarget=new k.RenderTarget(q,V,e,J),X=N._edgeDetectionRenderTarget=new k.RenderTarget(q,V,e,J),b=N._blurV2=new k.RenderTarget(q,V,e,J),A=N._blurH2=new k.RenderTarget(q,V,e,J),c=N._blurV4=new k.RenderTarget(q,V,s,l),f=N._blurH4=new k.RenderTarget(q,V,s,l)),ng(V,!0)),K=q.getViewport(),y=(Q=t8.for(V).glState).depth,t=Q.blend,Q=y.enabled,g=N.groups;g&&g.length||(g=[{color:N.color,width:N.width,glow:N.glow,strength:N.strength}]),Mg(V,[1,1,1,1]),y.enabled=!1,t.apply({func:[770,1]}),L.blitScreen(H,{type:"blitScreen",image:N._renderTarget.texture});for(var m=0;m<g.length;m++){var z,Y,u,o=g[m];o&&(z=N.getPickColorOfIndex(m),(Y=o.width)==q8&&(Y=F=F||g8["highlight.width"]),L.blitScreen(X,{type:"highlightEdgeDetection",image:H.texture,texSize:[e,J],maskColor:z,color:o.color||S||(S=g8["highlight.color"])}),L.blitScreen(A,{type:"highlightBlur",image:X.texture,direction:[1,0],texSize:[e,J],radius:Y}),L.blitScreen(b,{type:"highlightBlur",image:A.texture,direction:[0,1],texSize:[e,J],radius:Y}),L.blitScreen(f,{type:"highlightBlur",image:b.texture,direction:[1,0],texSize:[s,l],radius:Y}),L.blitScreen(c,{type:"highlightBlur",image:f.texture,direction:[0,1],texSize:[s,l],radius:Y}),t.apply({enabled:!0}),q.setViewport(V,K[0],K[1],K[2],K[3]),(u=o.strength)==q8&&(u=P=P||g8["highlight.strength"]),(o=o.glow)==q8&&(o=D=D||g8["highlight.glow"]),L.blitScreen({type:"highlightFinalBlend",image:N._renderTarget.texture,maskColor:z,edgeTexture1:b.texture,edgeTexture2:c.texture,edgeStrength:u*Y,edgeGlow:o},{clear:!1}),t.apply({enabled:!1}))}t.apply({func:[770,771,1,771]}),y.enabled=Q,Mg(V,R)},resetProperties:function(){this.mode=lp.Mode.Style,this.type=g8["highlight.type"],this.color=g8["highlight.color"],this.width=g8["highlight.width"],this.glow=g8["highlight.glow"],this.strength=g8["highlight.strength"]},dispose:function(){var V=this;rg(V.gv,V._renderTarget,V._downSampleRenderTarget,V._edgeDetectionRenderTarget,V._blurV2,V._blurH2,V._blurV4,V._blurH4),V._renderTarget=null,V._downSampleRenderTarget=null,V._edgeDetectionRenderTarget=null,V._blurV2=null,V._blurH2=null,V._blurV4=null,V._blurH4=null}}),v.defineProperties(lp.prototype,{mode:{get:function(){return this._mode},set:function(V){var R=this._mode;V!==R&&(this._mode=V,R=R===lp.Mode.MouseOver||R===lp.Mode.Style,(V=V===lp.Mode.MouseOver||V===lp.Mode.Style)&&R||(R&&Y8(this.gv.getView(),"mousemove",this.onMouseOver),V&&z8(this.gv.getView(),"mousemove",this.onMouseOver)))}}});((Q=k.PrefabRenderer=function(V){this.gv=V}).prototype={}).constructor=Q,au("model"),au("mesh"),au("material"),au("shader"),au("shaderChunk",{loadingParam:{sync:!0}}),iv="",nv={},Mv=new y8,rv=new y8,Ev=new y8,$v=[],jv=new y8,Cv=[0,0,0],vv={aPosition:"vs",aUv:"uv",aUv2:"uv2",aNormal:"ns"},hv={type:"fixColor",color:"gray"},Tv={type:"fixColor",color:"black"},Wv={5126:1,35664:2,35665:3,35666:4,35674:4,35675:9,35676:16},Uv={triangles:4,triangleStrip:5,triangleFan:6,lines:1,lineLoop:2,lineStrip:3,points:j1.POINTS},pv={groundColor:[0,0,0]},Q.prototype.render=function(r,V,R,E){(Ov=V.prefix)&&(iv=(Q=iv)+Ov+".");var Q,c=this.gv,$=Ov&&L8.getDataModel3dBindings(R);if(!1===sn(V,"visible",c,R,$))Q!==N8&&(iv=Q);else{var X,b,r=yn(r,R);if(X=V.matDef)for(var A in X){var j=nv[A];j&&((b=b||{})[A]=j),nv[A]=X[A]}var f,S,F,C=en().copy(jv),v=(E&&jv.fromArray(E),Kn(V,uv,c)),h=(jv.multiply(v),Jn(v),!1),T=!1,W=!1;do{var U=un(V,E,C);if(D=V.model){(D=Hn(D))&&this.render(_v,D,R);break}var p=V.mesh;if(!p)break;var D=c._picking,P=!1,N=null,I=!1,q=sn(V,"mat",c,R,$);if(q){if(q instanceof Array){var L=V.subMeshes;if(L){for(var Z=L._drawRangeGroupByMat||function(V){for(var R=[],Q=0;Q<V.length;Q++){var X,b=V[Q].materialIndex;(X=R[b])||(R[b]=X=[]),X.push(V[Q].start,V[Q].count)}return V._drawRangeGroupByMat=R}(L),e=0;e<Z.length;e++)Z[e]&&this.render(_v,{mesh:p,mat:q[e],instances:V.instances,drawRange:Z[e]},R);break}}if("string"==typeof q){if(L=ln(uv,q)||nv[q]){if(l8(L)&&!(L=L8.getMaterial(L)))break}else if(!(L=L8.getMaterial(q)))break;q=L}}else q=hv;var k=!0===q.transparent;if(!!c._45Q!=k)break;var J,s,l=q.internalType,H=(wv=oG[l||q.type],!!(V.skeleton&&uv&&(J=c._updatedSkeletonDatas[V._skeletonId+"|"+uv._lastAnimHashKey])));if(H&&(c.getPrefabBoneTexture(V)?(s=V._boneTextureSize,_v.activeTexture(33984),Og(_v,c.getPrefabBoneTexture(V)),_v.texImage2D(3553,0,34836,s,s,0,6408,5126,J),Og(_v,q8)):(s=V._boneTextureSize=Math.round(Math.sqrt(J.length/4)),c.setPrefabBoneTexture(V,c.createTexture({data:J,width:s,height:s,type:5126,filter:9728,clampToEdge:!0})))),!D||q.renderPickMap){var K=t8.for(_v),y=l||q.type||"fixColor";if(!(m=p1[y])||m.isRaw)if(m)t=on(c,q,y);else{if(!(m=Dp(y)))break;t=on(c,q,y,!0)}else{var x=uv?uv.s("3d.clip.direction"):0;switch(uv&&_v._blooming&&!uv.s("bloom")&&(y="fixColor",Tv.cullFace=q.cullFace,Tv.flipSide=q.flipSide,q=Tv),y){case"fixColor":t=c.acquireProgram({type:"fixColor",defines:{CLIP_DIRECTION:!!x,USE_INSTANCING:!(!V.instances&&!av)}});break;case"pbr":case"phong":var B,G,d,V8=1,R8=((uv||ov)&&-1!==(B=uv?uv.s("envmap.probe"):ov.envmapProbe||0)&&(G=!0,(V8=uv?uv.s("envmap"):ov.envmap||0)&&(V8*=(d=1,(Q8=c._envmapRenderer._envmapIntensity[B])===N8?d:Q8),N=B)),G||!(N=q.envmap||q.envMap)||(d=c.getTexture(N))&&d!==_v._emptyTexture||(N=null),c.isTransmissionEnabled(q)),Q8=c._glPrograms.genPhysicalProgramKeyOfMat(q,{clipDirection:x,isTransparent:k,enableTransmission:R8,useInstancing:!(!V.instances&&!av),useDisplacement:!!q.displacementMap&&c._glCapabilities.vertexTextures,aoMapUvChannel:mn("aoUvChannel",q,wv)||1,uvChannelUsed:q.uvChannelUsed,useUvClip:!(!c._uvClipEnabled||"uv.left"!=x&&"uv.right"!=x),skeleton:H,alphaChannel:mn("alphaChannel",q,wv),aoChannel:mn("aoChannel",q,wv),roughnessChannel:mn("roughnessChannel",q,wv),metalnessChannel:mn("metalnessChannel",q,wv),toneMapping:c.getToneMapping(),rectsNum:c._87I.length,envMapCombine:mn("envMapCombine",q,wv),useTangent:q.normalMap&&p.tangent,envmap:N}),t=c.acquireProgram({type:y,potentialType:l?q.type:N8,cacheKey:c._sceneProgramDefinesMask+Q8.toString()+(q.extraCacheKey||""),cacheKeyOfMat:Q8,extensions:R8?{GL_EXT_shader_texture_lod:!0}:null});break;case"litePhong":t=c.acquireProgram({type:"litePhong",defines:q.defines,potentialType:l?q.type:N8,cacheKey:c._sceneProgramDefinesMask+(l?q.type:"")+(q.defines?c._glPrograms.generateDefines(q.defines):"")});break;default:t=c.acquireProgram(q)}}if(!t)break;W=!0,K.useProgram(t);var X8,g=K.directUniforms(),b8=K.directState(),m=!!q.flipSide;if(uv&&(2===(X8=uv._forceSingleFace)&&(m=!m),uv._flipSideInheirt&&(m=!m)),jv.determinant()<0&&(m=!m),av&&y8.determinantOfArray(av.aMatrixInstanced)<0&&(m=!m),b8.cullFace.enabled=!(!X8&&!q.cullFace),b8.cullFace.frontFace=m?2304:2305,(I=(P=t&&("pbr"===t.name||"phong"===t.name))&&!l&&c._glUbos.supportsUbo)?c._glUbos.updateAndBind("scene",t):(g.uProjectMatrix=c._projectMatrix,g.uViewMatrix=c._viewMatrix,g.uCameraPosition=c._camera?c._camera.p3():c.getEye(),g.uTime=c.__uptime),t._dirty){if(t._dirty=N8,P){var z,Y=S8=w=z=O=_=o=m=u=void 0,u=c,m=g,o=(o=u._headlightDirection)&&3===o.length?o:"shadow"===o?u.shadowMap.getDirection():rs(u.getCenter(),u.getEye()),Y=u._lastLightUploadInfo.headlightColor;if(pv.color=gn(Y,Math.PI*u._headlightRatioForPhysicalMaterial),m.hemisphereLight.direction=K8.normalizeArray(u._transformDirectionToViewSpace(o)),m.hemisphereLight.groundColor=pv.groundColor,m._lastLightMask=N8,m._lastHeadlightAmbientIntensity=N8,u.lightProbe&&(m.lightProbe=u.lightProbe),(z=u._59O)&&z.length){for(_=0,O=z.length,w=[];_<O;_++)w.push({position:u._transformPointToViewSpace(z[_].p3()),color:zn(z[_]),distance:z[_].s("light.range"),decay:1,enable:!1});m.pointLights=w}if((z=u._spots)&&z.length){for(_=0,O=z.length,w=[];_<O;_++){var A8=z[_].s("light.angle");w.push({position:u._transformPointToViewSpace(z[_].p3()),color:zn(z[_]),direction:z[_].s("light.rotation.enable")?u._transformDirectionToViewSpace(cg([0,0,1],z[_])):u._transformDirectionToViewSpace(z[_].s("light.center"),z[_].p3()),decay:1,enable:!1,distance:z[_].s("light.range"),coneCos:e8(A8/2),penumbraCos:e8(A8/2*(1-z[_].s("light.exponent")))})}m.spotLights=w}if((z=u._dirs)&&z.length){for(_=0,O=z.length,w=[];_<O;_++)w.push({direction:z[_].s("light.rotation.enable")?u._transformDirectionToViewSpace(cg([0,0,1],z[_])):u._transformDirectionToViewSpace(null,z[_].p3()),color:zn(z[_]),enable:!1});m.directionalLights=w}if((z=u._87I)&&z.length){for(var c8,f8,S8=new K8,_=0,O=z.length,w=[];_<O;_++)Df.fromArray(xs(z[_])),Df.premultiply(Pf.fromArray(u._viewMatrix)),Pf.identity().extractRotation(Df),c8=S8.set(.5*-z[_].s("light.size")[0],0,0).applyMatrix4(Pf).toArray(),f8=S8.set(0,.5*z[_].s("light.size")[1],0).applyMatrix4(Pf).toArray(),w.push({position:u._transformPointToViewSpace(z[_].p3()),color:zn(z[_]),halfWidth:c8,halfHeight:f8,enable:!1,disableSpecular:z[_].s("light.specular.disable")});m.rectAreaLights=w,L8.LTC_FLOAT_1&&((Y=u.getGL())._LTC_1||(Y._LTC_1=u.createTexture(L8.LTC_FLOAT_1)),Y._LTC_2||(Y._LTC_2=u.createTexture(L8.LTC_FLOAT_2)),m.ltc_1=Y._LTC_1,m.ltc_2=Y._LTC_2)}}else"litePhong"===y&&fg(c,g);g.uClipperMatrix=c._boxClipperMatrixes,g.uClipperClipInner=c._boxClipperClipInner,I||(c._fogDisabled||(g.uFogColor=c._fogColor,g.uFogDensity=c._fogDensity,g.uFogNear=c._fogNear,g.uFogFar=c._fogFar),g.toneMappingExposure=c.getToneMappingExposure()),c.shadowMap.enable&&c.shadowMap.createShadow(g)}else c.shadowMap.enable&&c.shadowMap.createShadow(g,!0);c.rebindOITTexture(g),c.flowMap.createFlow(g),c._87I.length&&L8.LTC_FLOAT_1&&(g.ltc_1=_v._LTC_1,g.ltc_2=_v._LTC_2),P&&R8&&_v._transmissionRTT&&(g.transmissionSamplerMap=_v._transmissionRTT.texture,g.transmissionSamplerSize=_v._transmissionRTT.getSize()),q.uUvMatrix=yE(q.uvRotation,q.uvOffset,q.uvScale,q.uvAnchor)}var a,i=function(V,R,c){var Q=yG(R);if(!Q)return 0;if(Ty(Q)||!Q._4HQ)for(var X in Q._4HQ=!0,Q)"is"!==X&&H8(Q[X])&&(Q[X]=new Ms(Q[X]));if(c&&!c._complete_)for(var X in c._complete_=!0,c)H8(c[X])&&(c[X]=new Ms(c[X]));(R=t8.for(_v).directAttribs()).disable();var f,b=Q.index||Q.is,S=!b,F=0;return R.apply(Q,function(V,R,Q){var X,b=vv[R];if(c&&(X=b&&c[b]||c[R])!==N8){if(!X.length)return null;var A=Wv[Q.desc.activeInfo.type];return F=F||X.length/A,Bg(_v,null,X,null,A)}return(X=b&&V[b]||V[R])!=N8&&X.length?(S&&(S=!1,f=X.length/Wv[Q.desc.activeInfo.type]),Gg(_v,null,X)):null}),b?(VE(_v,V._buffer.is,b),{length:b.length,instances:F,indexType:b instanceof Uint32Array?5125:b instanceof Uint8Array?5121:null,is:!0}):f||Q.vs?{length:f||Q.vs.length/3,instances:F,is:!1}:0}(c,p,o=av);if(!i)break;i.instances&&(g=g||t8.for(_v).directUniforms(),o.aBatchColor&&(g.uBatchColor=!0),g.uUseInstance=!0,g.uRightMatrixInstanced=av?Ev.multiplyMatrices(rv,jv).getElements():Cs,T=!0),h=!0,AE(c,(av?Mv:jv).getElements()),!D||q.renderPickMap?(g=g||K.directUniforms(),uv?Wg(_v,c,uv,P):ov&&(m=_v,Y=c,f=ov,S=P,a=F=void 0,F=t8.for(m).directUniforms(),a=f.alphaTest,F.uAlphaTest=a===N8?g8.alphaTest:a,a=Y._picking,F.shadowReceive=!a&&!1!==f.shadowReceive,Eg(Y,F,f.clipboxMask===N8?W1:f.clipboxMask),F.blackout=!(!m._blooming||f.bloom),a||(Y._flowObjects.length&&Y.flowMap.resetFlowUniform(f.effectFlowMask===N8?W1:f.effectFlowMask,F),S||(f.envmap!==N8?(F.uUseEnvMap=!0,F.roughness=f.roughness||0,Y._setEnvmapByProbeId(F,f.envmapProbe||0,f.envmap)):(F.uUseEnvMap=!1,F.envMapIntensity=0),Sg(Y,F,f.lightMask===N8?W1:f.lightMask,f.headlightAmbientIntensity)),F.uFog=!0)),P&&(uv?Yn(g,c,uv._currentFaceLightMask!=q8?uv._currentFaceLightMask:uv.s("shape3d.light")?uv.s("light.mask"):0,uv.s("headlight.ambientIntensity")||c._headlightAmbientIntensity):ov?Yn(g,c,ov.light==q8?ov.lightMask===N8?W1:ov.lightMask:0,ov.headlightAmbientIntensity||c._headlightAmbientIntensity):Yn(g,c,0,0),N!=q8&&(G?(a=c._envmapRenderer._envmaps[N],g.envmap=a?a.texture:_v._emptyTexture):g.envmap=c._envmapRenderer.assureEnvmapFromEquirectangular(N),g.envMapIntensity=V8*mn("envMapIntensity",q,wv)),H&&tE(g,V,c.getPrefabBoneTexture(V),J)),c.resetSharedTextureIndex(),S=uv,f=void 0,(f=mn("completeHandler",F=q,M=wv))&&f.call(F,S,M),P&&!l?function(V,R,Q,X,b,A){var c,f,S,F,D,P,N,q,L,e,J,s=A.internalType||A.type,l=_G[s];if(Q){if(!(J=(e=V._glUbos).attachUbo(s,A,V._renderId))){for(f=0,S=l.length;f<S&&-1!==(F=l[f]);f+=2)P=A[F],D=l[f+1],P&&(P instanceof WebGLTexture||(P=V.textureAccessesByMaterial(P,X)),b[F]=P),f+=2*D;return e.updateAndBind(s,R)}}else J=b;for(c=!0,f=0,S=l.length;f<S;f+=2)if(-1===(F=l[f]))c=!1,f--;else{if(D=0,N=!1,-2===F?(D=(S-f-1)/2,f--,N=!0):(P=A[F],D=l[f+1],P&&(!c||P instanceof WebGLTexture||(P=V.getTexture(P,X)),c?b[F]=P:J[F]=P,N=!0)),N)for(L=(q=f+2)+2*D;q<L;q+=2)(P=A[F=l[q]])===N8&&(P=l[q+1]),J[F]=P;f+=2*D}J.uUvMatrix=A.uUvMatrix;var H=A.uUv2Matrix;H&&(J.uUv2Matrix=H),Q&&e.updateAndBind(s,R)}(c,t,I,uv,g,q):g.apply(q,function(V,R,Q){if("envmap"!==R&&"envMapIntensity"!==R){if((b=(b=V[R])===N8&&wv?wv[R]:b)&&(35678===Q||35680===Q)&&!(b instanceof WebGLTexture))if(H8(b))for(var X=b,V=X.length,b=new Array(V),A=0;A<X.length;A++)b[A]=c.textureAccessesByMaterial(X[A],uv);else b=c.textureAccessesByMaterial(b,uv);return b}})):H&&(g=g||t8.for(_v).directUniforms(),tE(g,V,c.getPrefabBoneTexture(V),J));var n,M,F8=Uv[q.renderMode];if(uv&&c.emitPreRenderData(uv,_v),n=V.drawRange)for(var e=0,D8=n.length;e<D8;e+=2)i.is?kg(_v,n[e],n[e+1],F8,i.indexType,i.instances):Zg(_v,n[e],n[e+1],F8,i.instances);else i.is?kg(_v,0,i.length,F8,i.indexType,i.instances):Zg(_v,0,i.length,F8,i.instances)}while(uv&&c.emitPostRenderData(uv,_v),H&&(g.uUseSkinning=!1),D&&((M=t8.for(_v).directAttribs()).aNormal=!1,M.aUv=!1,M.skinIndex=!1,M.skinWeight=!1),0);h&&XE(c),T&&(g.uUseInstance=!1,g.uBatchColor=!1),W&&c._prg&&(K.useProgram(c._prg),K.directAttribs().disable(),b8.cullFace.frontFace=2305,c.shadowMap.enable&&c.shadowMap.createShadow(null,!0),c.rebindOITTexture(),c._envmapRenderer.resetUniformCache(),c.flowMap.createFlow(null,!0));var P8=V.comps;if(P8&&P8.length)for(e=0,D8=P8.length;e<D8;e++)this.render(_v,P8[e],uv);if(Jn(jv),jv=C,U&&(av=null),X=V.matDef)for(var A in X)nv[A]=b&&b[A]||N8;Q!==N8&&(iv=Q),tn(r)}},Q.prototype.renderDepth=function(V,R,Q,X,b){(Ov=R.prefix)&&(iv=(A=iv)+Ov+".");var A,c=this.gv,f=Ov&&L8.getDataModel3dBindings(Q);if(!1===sn(R,"visible",c,Q,f))A!==N8&&(iv=A);else{var S,F,V=yn(V,Q),D=en().copy(jv);if(X&&jv.fromArray(X),S=R.matDef)for(var P in S){var N=nv[P];N&&((F=F||{})[P]=N),nv[P]=S[P]}var q,L=Kn(R,uv,c);jv.multiply(L),Jn(L);do{var e=un(R,X,D),J=R.model;if(J){(J=Hn(J))&&this.renderDepth(_v,J,Q,null,b);break}if(!(J=yG(R.mesh)))break;Ty(J);var s,l=sn(R,"mat",c,Q,f);if(l){if("string"==typeof l){var H=ln(uv,l)||nv[l];if(H){if(l8(H)&&!(H=L8.getMaterial(H)))break}else if(!(H=L8.getMaterial(l)))break;l=H}}else l=hv}while(H=jv,(q=av)&&(s=Ev.multiplyMatrices(rv,jv).getElements(),H=Mv),b(H,J,l,q,s,R),0);var K=R.comps;if(K&&K.length)for(var y=0,t=K.length;y<t;y++)this.renderDepth(_v,K[y],uv,null,b);if(Jn(jv),jv=D,e&&(av=null),S=R.matDef)for(var P in S)nv[P]=F&&F[P]||N8;A!==N8&&(iv=A),tn(V)}},Q.prototype.renderNode=function(V,R,Q,X,b,A){var c,f;if(Q&&Q.s("static")){var S=this.gv.getRenderLists().get(Q.getRenderLayer()).getModel3dInstancedBatchMap();if((S=S&&S[this.gv.getStaticInstancingKey(Q)])&&S.length){if(S.rendered&&S.rendered!==Q._id)return;if(c={aMatrixInstanced:function(V,R,Q){var X=Q?R.cacheShadow:R.cache;if(X.length===R.length&&X.version===(Q?R.shadowVersion:R.msVersion)&&X.id===V._id)return X.buffer;var b,A=R.ms,c=Q?R.shadow:null,f=16*R.length;X.buffer&&X.buffer.length===f?delete(b=X.buffer)._bufId:b=new Ms(f);for(var S=0,F=f;S<F;S+=16)if(c&&!c[S>>4])b[S+0]=b[S+1]=b[S+2]=b[S+3]=b[S+4]=b[S+5]=b[S+6]=b[S+7]=b[S+8]=b[S+9]=b[S+10]=b[S+11]=b[S+12]=b[S+13]=b[S+14]=b[S+15]=0;else for(var D=0;D<16;D++)b[S+D]=A[S+D];return X.length=R.length,X.version=Q?R.shadowVersion:R.msVersion,X.id=V._id,X.buffer=b}(Q,S,b)},S.msTranslation,!b&&V._picking){if(S._highlightInvalid)return;c.aBatchColor=function(V){var R=V.cachePick;if(R.length!==V.length||R.version!==V.csVersion){R.buffer=new Ms(4*V.length);for(var Q=0,X=R.buffer,b=V.cs,A=4*V.length;Q<A;Q+=4)X[Q]=b[Q],X[Q+1]=b[Q+1],X[Q+2]=b[Q+2],X[Q+3]=b[Q+3];R.length=V.length,R.version=V.csVersion}return R.buffer}(S)}S.rendered=Q._id}}S=c?(f=R.instances,R.instances=c,S.msTranslation):X,b?this.renderDepth(V,R,Q,S,A):this.render(V,R,Q,S),c&&(f===N8?delete R.instances:R.instances=f)};var Hp=I.Light=function(){oJ(Hp,this),this.s(T1,g8[T1]),this.s(iA,"sphere"),this.s("shape3d.reverse.cull",!0),this.s3(20,20,20)},Kp=(W4("Light",Xu,{_image:"light_icon",_icon:"light_icon",onStyleChanged:function(V,R,Q){Hp.superClass.onStyleChanged.apply(this,arguments),V===T1&&this.s("shape3d.color",Q)}}),k.FrameState=function(V,R){this.renderState=t8.for(R),this.picking=!1,this.envmapReflectivity=.5,this.cameraPosition=N8,this.projectMatrix=N8,this.viewMatrix=N8,this.view=V,this.defaultProgram=N8,this.pickColorMap=N8,this._pvStack=[],this._renderStateStack=[]}),yp=(Kp.prototype.savePV=function(){var V=this.view;this._pvStack.push([vs(this.projectMatrix),vs(this.viewMatrix),V._18Q,vs(V._7O)])},Kp.prototype.restorePV=function(){var V,R=this._pvStack.pop();R&&(V=this.view,this.projectMatrix=V._projectMatrix=R[0],this.viewMatrix=V._viewMatrix=R[1],V._18Q=R[2],V._7O=R[3])},Kp.prototype.setPV=function(V,R){var Q,X=this.view,b=!1;V&&(this.projectMatrix=X._projectMatrix=V,b=!0),R&&(this.viewMatrix=X._viewMatrix=R,X._7O=vs(R),b=!0),b&&(V=X.getWidth(),b=X.getHeight(),Q=vs(this.projectMatrix),X._18Q=sg(Q,Q,R),X._18Q._wh=V/b)},Kp.prototype.syncEnv=function(V){var R=this.view;this.envmapReflectivity=R._envmapReflectivity||.5,this.cameraPosition=R.getEye(),this.projectMatrix=R._projectMatrix,this.viewMatrix=R._viewMatrix,this.pickColorMap=V,this.picking=R.getGL()._picking},Kp.prototype.setGLState=(Iv=[0,0,0,0],Zv=[!0,!0,!0,!0],kv=[0,1],xv=[32774,32774],Bv=[770,771,1,771],function(V,R){this.renderState.gl;var Q=this.renderState.glState;Q.dither=!1,R?Q.color.mask=Zv:Q.color.reset(),Q.pixelStore.reset(),Q.blend.color=Iv,Q.blend.equation=xv,Q.blend.func=Bv,Q.cullFace.enabled=!1,Q.scissor.enabled=!1,Q.depth.enabled=!0,Q.depth.clear=1,Q.depth.func=515,Q.depth.range=kv,Q.stencil.enabled=!1,Q.polygonOffset.enabled=!1,V?(Q.depth.mask=!1,Q.blend.enabled=!0):(Q.depth.mask=!0,Q.blend.enabled=!1)}),Kp.prototype.setUniforms=function(V){var R=this.view,Q=this.renderState;Q.gl,(Q=Q.uniforms).uBrightness=1,Q.uOpacity=1,Q.uPartOpacity=1,Q.uUseSkinning=!1,Q.uUseInstance=!1,Q.uTexture=!1,Q.uBlendTexture=!1,Q.uAlphaTest=g8.alphaTest,Q.uTransparent=!!V,Q.uFix=!1,Q.uBatchColor=!1,Q.uBatchBlend=!1,Q.uBatchBrightness=!1,Q.envMapIntensity=this.envmapReflectivity||.5,Q.uCameraPosition=this.cameraPosition,Q.uProjectMatrix=this.projectMatrix,Q.uViewMatrix=this.viewMatrix,Q.uEnvMap=null,Eg(R,Q,U1),Q.uClipperMatrix=R._boxClipperMatrixes,Q.uClipperClipInner=R._boxClipperClipInner,Q.uEnvmapQuat=R._envmapExtraQuaternion,R._envmapRenderer.resetUniformCache(),this.picking||(fg(R,Q),R._fogDisabled||(Q.uFogColor=R._fogColor,Q.uFogDensity=R._fogDensity,Q.uFogNear=R._fogNear,Q.uFogFar=R._fogFar))},Kp.prototype.drawLayer=function(V,R){return this.view.renderLayers(V,!0)},Kp.prototype.drawData=function(V,R,Q){var X,b,A,c,f,S,F=this.view;F.isVisible(V)&&(b=(X=this.renderState).uniforms,(V=F.getData3dUI(V))&&(c=(A=X.gl)._picking,f=F._picking,S=V._pickId,Q&&(V._pickId=Q),A._picking=F._picking=!!Q,b.uTransparent=!!R,V._42(X.gl,X.program,R?a:K),A._picking=c,F._picking=f,V._pickId=S))},k.Graph3dView=function(V,R){var Q,X,b=this;if(b.resetHeadlightProperties(),b.resetFogProperties(),b._webGLVersion=1,b._attributes=R||L8.graph3dViewAttributes,b._25I={},b._attributes&&(Q=b._attributes.view)?Q._ht=b:Q=UJ(1,b),b._view=Q,b._attributes&&(X=b._attributes.canvas)||(X=IJ(b._view)),b._canvas=X,b.__startTime=Date.now(),b.__uptime=0,z8(X,"webglcontextlost",function(V){V.preventDefault(),b._26I&&b.dispose(),b._26I=q8,b._35O=!0}),z8(X,"webglcontextrestored",function(V){b._35O=!1,b._loseContextExt=N8,b.iv()}),b._40Q=new Op(b),b._43Q={},b._44Q=-1,b._boneViewMatrices=[],b._batchIndexMap={},b._batchModelMap={},b._wireframeIndexMap={},b._wireframeModelMap={},b._wireframeIndexMapSwap={},b._wireframeModelMapSwap={},b._polylineIndexMap={},b._polylineIndexMap={},b._polylineIndexMapSwap={},b._polylineIndexMapSwap={},b._8O=[],b._modelMatrixStack=[],b._7O=js(),b._6O=js(),b._modelMatrix=js(),b._1o=new rp(b),b._30O=new jp(b),b._31O=new Ep(b),b._32O=new $p(b),b._raycaster=new xp(b),b._highlightHelper=new lp(b),b._postProcessing=new $G(b),b._41Q=[],b._42Q=0,b._frameRenderOptionStack=[],k.Reality){var A,c=b._reality={};for(A in k.Reality)c[A]=new k.Reality[A](b);b.getReality=function(V){return c[V]},b.getRealities=function(){return c},b.isRealityEnabled=function(V){return(V=c[V])&&V.enable},b.isRealityPresenting=function(V){return(V=c[V])&&V.isPresenting()},b.getPresentingReality=function(){for(var V in c)if(c[V].isPresenting())return c[V];return null}}else b.getReality=b.getRealities=b.getPresentingReality=H,b.isRealityEnabled=b.isRealityPresenting=l;b.shadowMap=new qp(b),b.flowMap=new ep(b),b._33Q=!0,b._eye=Bf(L8.graph3dViewEye),b._center=Bf(L8.graph3dViewCenter),b._up=Bf(L8.graph3dViewUp),b._lightChanged=!1,b._59O=[],b._spots=[],b._dirs=[],b._87I=[],b._boxClippers=[],b._boxClipperVersion=0,b._flowObjects=[],b._transmissionObjects=[],b._frameId=0,b._renderId=0,b._picking=!1,b._tempCameraQueue=[],b._batchInfoMap={},b._updatedSkeletonDatas={},b._renderLayerInfoMap={},b._renderLayerSettingsVersion=0,b._gatherRenderLayersByPriority(!0),b.overlappingBox=new tu(b),b._envmapRenderer=new k.EnvmapRenderer(this),b._prefabRenderer=new k.PrefabRenderer(this),b._depthGrabber=new Jp(this),b.dm(V||new E_),b._coreInteractor=new QI(this),b.setInteractors([new ap(b)]),b.enableQuickVisibleMode(),b.initRenderEvents(),b._initView(),b._genBatchInstancedArrayFunc(),b.genProgramDefines(),b._setupPVMatrix()}),tp={box:1,sphere:2,cylinder:3,cone:4},gp={addRGB:"FLOW_BLEND_MODE_ADD_RGB",addRGBA:"FLOW_BLEND_MODE_ADD_RGBA",overrideRGBA:"FLOW_BLEND_MODE_OVERRIDE_RGBA",overrideRGB:"FLOW_BLEND_MODE_OVERRIDE_RGB",overrideA:"FLOW_BLEND_MODE_OVERRIDE_A",multiplyRGB:"FLOW_BLEND_MODE_MULTIPLY_RGB",multiplyRGBA:"FLOW_BLEND_MODE_MULTIPLY_RGBA"},mp=0,zp=(V("Graph3dView",v,{ms_v:1,ms_tip:1,ms_gv:1,ms_dm:1,ms_lp:1,ms_fire:1,ms_sm:1,_51o:1,ms_shadow:1,ms_highlight:1,ms_quickVisible:1,ms_renderEvents:["PreFrame","PostFrame","PreUpdate","PostUpdate","PreRender","PostRender","PreRenderData","PostRenderData"],ms_ac:["devicePixelRatio","boundaries","moveStep","rotateStep","editHelperDisabled","blockSelectable","sizeEditableFunc","rotationEditableFunc","editableFunc","rotatable","zoomable","pannable","walkable","resettable","mouseRoamable","zoomToCenter",bA,AA,"firstPersonMode",eA,"movableFunc","gridVisible","gridSize","gridGap","gridColor","originAxisVisible","centerAxisVisible","axisXColor","axisYColor","axisZColor","editSizeColor","rectSelectable","rectSelectBackground","headlightRange","headlightDirection","headlightColor","headlightIntensity","headlightAmbientIntensity","headlightRatioForPhysicalMaterial","headlightDisabled","headlightGroup","ortho","orthoWidth","syncEyeWithOrthoWidth","fovy","near","far",DR,FR,"up","aspect","fogDisabled","fogMode","fogDensity","fogColor","fogNear","fogFar","pickerResolution","dashDisabled","uvClipEnabled","transmissionEnabled","batchColorDisabled","batchInstancedDisabled","batchBlendDisabled","batchBrightnessDisabled","flowBlendMode","hoverDelay","batchInfoMap","renderLayerInfoMap","rotateMinPhi","rotateMaxPhi","sortable","opaqueSortable","sortFunc","backfaceUsingNormals","toneMapping","toneMappingExposure"],_editable:!1,_sortable:L8.graph3dViewSortable,_opaqueSortable:L8.graph3dViewOpaqueSortable,_editHelperDisabled:L8.graph3dViewEditHelperDisabled,_blockSelectable:L8.graph3dViewBlockSelectable,_devicePixelRatio:N8,_boundaries:N8,_parallelShaderCompile:!1,_moveStep:L8.graph3dViewMoveStep,_rotateStep:L8.graph3dViewRotateStep,_toneMapping:N8,_toneMappingExposure:1,_rotateMinPhi:L8.graph3dViewMinPhi===N8?L8.graph3dViewRotateMinPhi:L8.graph3dViewMinPhi,_rotateMaxPhi:L8.graph3dViewMaxPhi===N8?L8.graph3dViewRotateMaxPhi:L8.graph3dViewMaxPhi,_pannable:L8.graph3dViewPannable,_rotatable:L8.graph3dViewRotatable,_walkable:L8.graph3dViewWalkable,_resettable:L8.graph3dViewResettable,_zoomable:L8.graph3dViewZoomable,_zoomToCenter:!0,_firstPersonMode:L8.graph3dViewFirstPersonMode,_mouseRoamable:L8.graph3dViewMouseRoamable,_gridVisible:L8.graph3dViewGridVisible,_gridSize:L8.graph3dViewGridSize,_gridGap:L8.graph3dViewGridGap,_gridColor:L8.graph3dViewGridColor,_originAxisVisible:L8.graph3dViewOriginAxisVisible,_centerAxisVisible:L8.graph3dViewCenterAxisVisible,_axisXColor:L8.graph3dViewAxisXColor,_axisYColor:L8.graph3dViewAxisYColor,_axisZColor:L8.graph3dViewAxisZColor,_ortho:L8.graph3dViewOrtho,_orthoWidth:L8.graph3dViewOrthoWidth,_syncEyeWithOrthoWidth:L8.graph3dViewSyncEyeWithOrthoWidth,_fovy:L8.graph3dViewFovy,_near:L8.graph3dViewNear,_far:L8.graph3dViewFar,_rectSelectable:L8.graph3dViewRectSelectable,_rectSelectBackground:L8.graph3dViewRectSelectBackground,_editSizeColor:L8.graph3dViewEditSizeColor,_autoMakeVisible:p4,_pickerResolution:L8.graph3dViewPickerResolution,_oitPassCount:3,_modelMatrixProcess:N8,_modelMatrixReverseProcess:N8,_dashDisabled:L8.graph3dViewDashDisabled,_uvClipEnabled:L8.graph3dViewUvClipEnabled,_transmissionEnabled:L8.graph3dViewTransmissionEnabled,_batchColorDisabled:L8.graph3dViewBatchColorDisabled,_batchInstancedDisabled:L8.graph3dViewBatchInstancedDisabled,_batchBlendDisabled:L8.graph3dViewBatchBlendDisabled,_batchBrightnessDisabled:L8.graph3dViewBatchBrightnessDisabled,_backfaceUsingNormals:L8.graph3dViewBackfaceUsingNormals,_useOIT:!1,_oitEnabled:!1,_flowBlendMode:L8.graph3dViewFlowBlendMode,addCamera:function(V){var R=v.freeze({id:this._42Q++,priority:V.priority||0,ignoreInPick:!!V.ignoreInPick,render:V.render});V.switch3DStatus&&(this._43Q[R.id]=!0),this._41Q.push(R),this._41Q.sort(function(V,R){return V.priority!==R.priority?V.priority-R.priority:V.id-R.id})},setEye:function(V,R,Q){1===arguments.length&&(R=V[1],Q=V[2],V=V[0]);var X=this._eye;X[0]=V,X[1]=R,X[2]=Q,this.fp(DR,q8,X)},setCenter:function(V,R,Q){1===arguments.length&&(R=V[1],Q=V[2],V=V[0]);var X=this._center;X[0]=V,X[1]=R,X[2]=Q,this.fp(FR,q8,X)},setUp:function(V,R,Q){1===arguments.length&&(R=V[1],Q=V[2],V=V[0]);var X=this._up;X[0]=V,X[1]=R,X[2]=Q,this.fp("up",q8,X)},setVisibleFunc:function(V){var R=this._visibleFunc;this._visibleFunc=V,this.fp("visibleFunc",R,V),V?this.isQuickVisibleMode()&&(this.disableQuickVisibleMode(),this._quickVisiblePending=!0):this._quickVisiblePending&&(this._quickVisiblePending=!1,this.enableQuickVisibleMode())},getDevicePixelRatio:function(){return this._dynamicRatio||this._devicePixelRatio||Kf},isTransmissionEnabled:function(V){return!!this._transmissionEnabled&&(!V||V.enableTransmission)},isDepthGrabberEnabled:function(){return this._depthGrabber.isEnabled()||this.getPostProcessing().isEnabled()},enableDepthGrabber:function(V){this._depthGrabber.enable(V)},disableDepthGrabber:function(V){this._depthGrabber.disable(V)},grabDepth:function(V){return this._depthGrabber.grab(V)},isFloatDepthTexture:function(V){return V&&V._internalFormat},isOITEnabled:function(V){return!!this._useOIT&&(!V||this._oitEnabled)},enableOIT:function(){var V=this;if(V._useOIT)return!0;if(V._useOIT=!0,!V.getGL())return!1;if(!V.isWebGL2())return!1;if(!V.getGLExtension("EXT_color_buffer_float"))return!1;var R=j.navigator;return!(R&&(/iPad|iPhone|iPod/.test(R.platform)||"MacIntel"===R.platform&&1<R.maxTouchPoints)||(V._oitEnabled=!0,V._depthPeelingRenderer||(V._depthPeelingRenderer=new sp(V)),V._depthPeelingRenderer.enableOIT(),V.iv(),0))},disableOIT:function(){return this._useOIT&&(this._useOIT=!1,this._oitEnabled&&(this._depthPeelingRenderer&&this._depthPeelingRenderer.disableOIT(),this._oitEnabled=!1,this.iv())),!0},setOITPassCount:function(V){this._oitPassCount=V,this.iv()},getOITPassCount:function(){return this._oitPassCount},rebindOITTexture:function(V){return!!this._oitEnabled&&this._depthPeelingRenderer.bindTexture(V)},isTransparentMask:function(V){return V.s("transparent.mask")},getCoreInteractor:function(){return this._coreInteractor},getHighlightHelper:function(){return this._highlightHelper},getHighlightPickColor:function(V){return V=V.s("highlight.group"),this._highlightHelper.getPickColorOfIndex(V)},getRaycaster:function(){return this._raycaster},getAspect:function(){return this._aspect||this.getWidth()/this.getHeight()||L8.graph3dViewAspect},setAspect:function(V){var R=this.getAspect();this._aspect=V,this.fp("aspect",R,this._lastAspect=this.getAspect())},_tryFireAspectEvent:function(){var V=this.getAspect(),R=this._lastAspect;V!==R&&(this._lastAspect=V,R!=q8&&this.fp("aspect",R,V))},getCanvas:function(){return this._canvas},setDataModel:function(V){var R=this,Q=R._dataModel,X=R._selectionModel;Q!==V&&(Q&&(Q.ump(R.handleDataModelPropertyChange,R),Q.umm(R.handleDataModelChange,R),Q.umd(R.handleDataPropertyChange,R),X||Q.sm().ums(R.handleSelectionChange,R)),(R._dataModel=V).mp(R.handleDataModelPropertyChange,R),V.mm(R.handleDataModelChange,R),V.md(R.handleDataPropertyChange,R),X?X._21I(V):V.sm().ms(R.handleSelectionChange,R),R._postProcessing.handleDataModelChange(Q,V),R._tryInvalidateEnvmap(),R.invalidateAll(!0),R.invalidateLight(),R.invalidateBoxClipper(),R.invalidateFlowObjects(),R.invalidateTransmissionObjects(),R._49Q(),R.fp(OA,Q,V),R._canvas.style.background=V.getBackground()||"")},handleDataModelPropertyChange:function(V){var R,Q,X=V.property;"background"===X?(R=this._canvas.style.background,Q=V.newValue||"",this._canvas.style.background=Q,this.fp("canvasBackground",R,Q)):"envmapType"===X?this._tryInvalidateEnvmap():"envmap"===X||"invalidateView"===X?this.iv():"a:sceneRedrawState"===X&&(V.newValue?this.redrawLoop():this.stopRedrawLoop())},handleDataPropertyChange:function(V){var R=V.data,Q=(this.invalidateData(R),V.property);Vg(R)&&"s:light.type"===Q?this.invalidateLight():"s:3d.clipbox"===Q?this.invalidateBoxClipper(R,!0):"s:effect.flow"===Q?this.invalidateFlowObjects(R,!0):"s:shadow.cast"===Q?this.shadowMap.tryUpdateBounding(R):"s:3d.visible"===Q||"parent"===Q&&(V.oldValue instanceof qu||V.newValue instanceof qu)?this.invalidateQuickVisible(R):"s:shape3d.transmission"===Q&&this.invalidateTransmissionObjects(R,!0)},invalidateBoxClipper:function(V,R){var Q=this._boxClippers,X=Q.length;V?!!V.s("3d.clipbox")==(R=!!R)?Q.indexOf(V)<0&&Q.push(V):0<=(R=Q.indexOf(V))&&Q.splice(R,1):(Q=this._boxClippers=[],this.dm().each(function(V){V.s("3d.clipbox")&&Q.push(V)})),X!==Q.length&&this._updateBoxClipperMatrix(),this.iv()},_setupPVMatrix:function(){this._projectMatrix=zg(this),mg(this,this._7O),this._viewMatrix=vs(this._7O)},_updateBoxClipperMatrix:(Hi=/if[ \t]*\([^\0{}]*{/,function(){for(var V,R=this._boxClippers,Q=Vf(this,"_boxClipperMatrixes",16*R.length),X=this._boxClipperClipInner=[],b=this._boxClipperGroups=[],A=this._boxClipperShapes=[],c=0,f=new y8,S=0,F=R.length;S<F;S++){(V=R[S]).appendAnchorMatrix3d(D=xs(V,this.getMat(V))),f.getInverse(f.fromArray(D)).toArray(Q,16*S),X.push("inner"===V.s("3d.clipbox")),b.push(V.s("3d.clipbox.group"));var D=tp[V.s("3d.clipbox.shape")]||1;A.push(D),c|=1<<D-1}if(this._boxClipperVersion++,c!==this._boxClipperTypes){if(c){si||(P=(N=uJ(e["clipbox.fs.body"],!0)).match(Hi),li=N.slice(0,P.index)+"if ($TEMPLATE) {"+N.slice(P.index+P[0].length),N=P[0],si=N.slice(N.indexOf("(")+1,N.lastIndexOf(")")).split("||").map(function(V){return V.trim()}));for(var P,N,q=[],S=0;S<si.length;S++)c&1<<S&&q.push(si[S]);this._clipboxShaderChunkFS=li.replace("$TEMPLATE",q.join(" || "))}else this._clipboxShaderChunkFS="";this._boxClipperTypes=c}}),_49Q:function(){this._4AQ||this._48Q||this.dm().size()<L8.graph3dViewDataNumWarningLine||(this._48Q=!0,console.log("Too many datas so than disable some feature to speed up.\nYou can set global Default.graph3dViewDataNumWarningLine to largeEnoughNum to avoid this, or call graph3dView.quitDataNumWarning() to quit.\n"),this.enableQuickVisibleMode(),this.getHighlightHelper().mouseOverData=null)},quitDataNumWarning:function(){this.disableQuickVisibleMode(),this._48Q=!1,this._4AQ=!0},invalidateFlowObjects:function(V,R){var Q=this._flowObjects;V?!!V.s("effect.flow")==(R=!!R)?Q.indexOf(V)<0&&Q.push(V):0<=(R=Q.indexOf(V))&&Q.splice(R,1):(Q=this._flowObjects=[],this.dm().each(function(V){V.s("effect.flow")&&Q.push(V)})),this.iv()},invalidateTransmissionObjects:function(V,R){var Q=this._transmissionObjects;V?!!V.s("shape3d.transmission")==(R=!!R)?Q.indexOf(V)<0&&Q.push(V):0<=(R=Q.indexOf(V))&&Q.splice(R,1):(Q=this._transmissionObjects=[],this.dm().each(function(V){V.s("shape3d.transmission")&&Q.push(V)})),this.iv()},invalidateLight:function(){this._lightChanged||(this._lightChanged=!0,this.iv())},onPropertyChanged:function(V){if(V=V.property,this.iv(),this._18Q=q8,"eye"===V)this._33Q=!0;else if("devicePixelRatio"===V)this._42(this.getDevicePixelRatio());else if("batchInstancedDisabled"===V){this._genBatchInstancedArrayFunc();var R,Q=L8.getBatchInfoMap();for(R in Q)Q[R]&&Q[R].instanced&&this.invalidateBatch(R);for(R in Q=this._batchInfoMap)Q[R]&&Q[R].instanced&&this.invalidateBatch(R)}},_5O:function(V){var R=V.get3dUIClass();return R?new R(this,V):q8},getData3dUI:function(V){var R=this._25I[V._id];return R===N8&&(R=this._5O(V),this._25I[V._id]=R),R},invalidateAll:function(V,R){var Q=this;if(V){for(var X in Q._25I)(X=Q._25I[X])&&X.dispose();Q._25I={},Q.iv(),$E(Q)}else $E(Q),Q.dm().each(function(V){Q.invalidateData(V)});Q.shadowMap.tryInvalidateLater(V,R)},invalidateSelection:function(){var R=this;R.sm().each(function(V){R.invalidateData(V)})},invalidateData:function(V){var R=this.getData3dUI(V);R&&(R.iv(),this.iv()),$E(this,V)},getShape3dText:function(V){return V.getStyle("shape3d.text")||this.getLabel(V)},invalidateBatch:function(R){var Q=this;Q._40Q.each(function(V){Q._invalidateBatch(R,V.batchModelMap,V.batchIndexMap),Q._invalidateBatch("T"+R,V.wireframeModelMap,V.wireframeIndexMap),Q._invalidateBatch("O"+R,V.wireframeModelMap,V.wireframeIndexMap),V.markBatchInvalid()}),Q.iv()},_invalidateBatch:function(V,R,Q){var X=this,b=R[V];if(b){b.ds.forEach(function(V){var R=X.getData3dUI(V);R&&(R.iv(),R.invalidateWireframe()),delete Q[V._id]});var A=X.getBatchInfo(V)||We;if(!1!==A.keepData&&b.ms&&b.ms.length&&A.instanced&&!X.isBatchInstancedDisabled())return b.ds=[],b.ms=[],b.ics&&(b.ics=[]),void(b.ps&&(b.ps=[]));delete R[V]}},handleDataModelChange:function(V){var R,Q,X=this,b=V.kind,V=V.data;"add"===b?(X.invalidateData(V),JJ(V)&&V.getEdgeGroup()&&V.getEdgeGroup().eachSiblingEdge(X.invalidateData,X),Vg(V)&&X.invalidateLight(),V.s("3d.clipbox")&&X.invalidateBoxClipper(V,!0),V.s("effect.flow")&&X.invalidateFlowObjects(V,!0),V.s("shape3d.transmission")&&X.invalidateTransmissionObjects(V,!0),X._49Q()):b===zR?(R=V._id,(Q=X._25I[R])&&(Q.dispose(),delete X._25I[R],X.iv()),V===X._currentSubGraph&&X.setCurrentSubGraph(q8),$E(X,V),Vg(V)&&X.invalidateLight(),V.s("3d.clipbox")&&X.invalidateBoxClipper(V,!1),V.s("effect.flow")&&X.invalidateFlowObjects(V,!1),V.s("shape3d.transmission")&&X.invalidateTransmissionObjects(V,!1),V.isAnimationPlaying()&&V.stopAnimation()):b===YR&&(X.invalidateAll(!0),X.setCurrentSubGraph(q8),$E(X),X.invalidateLight(),X.invalidateBoxClipper(),X.invalidateFlowObjects(),X.invalidateTransmissionObjects())},toCanvas:function(V,R,Q){this._renderNonEditableAtRatio(1,V);for(var X=this.getWidth()||1,b=this.getHeight()||1,A=new Uint8Array(X*b*4),c=(V=IJ()).getContext("2d"),f=(this.getGL().readPixels(0,0,X,b,6408,5121,A),xJ(V,X,b,1),c.getImageData(0,0,X,b)),S=f.data,F=0;F<S.length;F+=4){var D=F/4,P=o8(D/X);S[D=4*((b-1-P)*X+(D-P*X))]=A[F],S[1+D]=A[F+1],S[2+D]=A[F+2],S[3+D]=A[F+3]}return c.putImageData(f,0,0),this._42(this.getDevicePixelRatio()),R&&Q?(f=(c=IJ()).getContext("2d"),xJ(c,R,Q,1),L8.drawImage(f,V,0,0,R,Q),c):V},toDataURL:function(V,R){return this._renderNonEditableAtRatio(1,V),V=this._canvas.toDataURL(R||"image/png",1),this._42(this.getDevicePixelRatio()),V},_renderNonEditableAtRatio:function(V,R){var Q,X=this.getGL();this.validate(),R&&(Q=X.getParameter(3106),Mg(X,R)),this._dynamicRatio=V,this._42(V,{renderAxis:!1,renderEdit:!1,renderGrid:!1}),this._dynamicRatio=N8,R&&Mg(X,Q)},isWebGL2:function(){return 2===this._webGLVersion},getGL:function(){var V,R,Q,X=this._26I;if(X)return X;if(!this._35O&&!this._hibernating){if("undefined"==typeof WebGLRenderingContext)throw new Error("WebGL not supported.");var b=this,A=b._canvas,c=b._attributes;if(!c||!1!==c.requestWebGL2)try{(X=A.getContext("webgl2",c)||A.getContext("experimental-webgl2",c))&&(b._webGLVersion=2,b._26I=X)}catch(X){}if(!X)try{X=A.getContext("webgl",c)||A.getContext("experimental-webgl",c)}catch(X){throw new Error("Failed to initialize WebGL.")}if(X)return b._26I=X,A=b._frameState=new Kp(b,X),b._glExtensions=new Nn(X),b._glCapabilities=new qn(X,b._glExtensions),b._glUbos=new Ln(b,X,b._glCapabilities,c&&c.forceNoUniformBuffer),b._glPrograms=new bp(b,X),b._2O={},X._emptyCubeTexture=(V=X,Q=new Uint8Array(4),R=V.createTexture(),V.activeTexture(33984),V.bindTexture(34067,R),V.texParameteri(34067,10240,9729),V.texParameteri(34067,10241,9729),V.texImage2D(34069,0,6408,1,1,0,6408,5121,Q),V.texImage2D(34070,0,6408,1,1,0,6408,5121,Q),V.texImage2D(34071,0,6408,1,1,0,6408,5121,Q),V.texImage2D(34072,0,6408,1,1,0,6408,5121,Q),V.texImage2D(34073,0,6408,1,1,0,6408,5121,Q),V.texImage2D(34074,0,6408,1,1,0,6408,5121,Q),R),X._compiledShader={},X._emptyTexture=og(X),X._emptyBlendTexture=og(X),X._4NQ={},X._id=++mp,X._4MQ=[],X._4KQ={},A.setGLState(),b._buffer={vs:_g(X),ns:_g(X),is:_g(X),uv:_g(X),batchColor:_g(X),batchBlend:_g(X),batchBrightness:_g(X),lineDistance:_g(X)},X._sharedTexture=ug(b,X),X._sharedTexturePool=[],c=b._cube={vs:_g(X),ns:_g(X),is:_g(X),uv:_g(X)},xg(X,c.vs,ly),xg(X,c.ns,yy),xg(X,c.uv,Ky),dg(X,c.is,Hy),b._genBatchInstancedArrayFunc(),X._renderInfo={calls:0,vertices:0,faces:0,lines:0,points:0,textureCache:{time:0,count:0,pixels:0},frame:0,cacheTimeCost:0,reflectDepth:0},X._renderTargetStack=[],X._dynamicTexturePool={},X;throw new Error("Failed to initialize WebGL.")}},getGLCapabilities:function(){if(this.getGL())return this._glCapabilities},getGLExtensions:function(){if(this.getGL())return this._glExtensions},getGLExtension:function(V){var R=this.getGLExtensions();return R&&R.get(V)||!1},getGLState:function(){var V=this.getGL();if(V)return t8.for(V).glState},getShaderChunk:function(V){var R;return"clipbox.fs.body"===V?this._clipboxShaderChunkFS||"":(R=e[V])?uJ(R,!0):L8.getShaderChunk(V)},_releaseGLResource:function(){var R=this,V=R.getGL();if(V){V._renderInfo&&R._doBufferGC(V,!0),R._glPrograms.dispose(),xJ(R._canvas,0,0),["_highlightHelper","shadowMap","flowMap","_envmapRenderer","_postProcessing","_depthPeelingRenderer"].forEach(function(V){(V=R[V])&&V.dispose()});var Q,X,b,A=R._25I;for(X in A)(Q=A[X])&&Q.dispose();for(b in R._2O)R.deleteTexture(b);for(b in V)"string"==typeof b&&"_"===b[0]&&(rg(R,V[b]),delete V[b]);return R._1o.dispose(),!0}},dispose:function(V){this._releaseGLResource()&&(this.fireViewEvent("dispose"),V&&this.forceLoseContext(),this._26I=q8)},hibernate:function(){this._releaseGLResource()&&(this.fireViewEvent("hibernate"),this._hibernating=!0,this._26I=q8)},wakeup:function(){delete this._hibernating,this.iv(),this.fireViewEvent("wakeup")},disposeAllPrograms:function(){this._glPrograms.dispose()},forceLoseContext:function(){var V=this.getGLExtension("WEBGL_lose_context");V&&(this._26I=q8,V.loseContext(),this._35O=!0,this._loseContextExt=V)},forceRestoreContext:function(){var V=this._loseContextExt||this.getGLExtension("WEBGL_lose_context");V&&V.restoreContext()},getShadowMap:function(){return this.shadowMap},invalidateShape3dAttribute:function(V,R){delete V._complete_,(V=V[R])&&V._bufId&&delete V._bufId},getEnvmap:function(){return this._glCapabilities&&this._glCapabilities.maxVertexTextures<L8.graph3dEnvmapCapabilityRequire?null:this.dm().getEnvmap()},getEnvmapType:function(){var V,R=this.dm();return(R?R.getEnvmapType():V)||"legacy"},setEnvmapExtraQuaternion:function(V){this._envmapExtraQuaternion=V instanceof B.Quaternion?V.clone().inverse().toArray():null},invalidateEnvmap:function(V){return this._envmapRenderer.invalidateEnvmap(V)},invalidateEnvmapUsedByMaterial:function(V){return this._envmapRenderer.invalidateEnvmapUsedByMaterial(V)},isEnvmapUsedByMaterialReady:function(V){return this._envmapRenderer.isEnvmapUsedByMaterialReady(V)},_setEnvmapByProbeId:function(V,R,Q){return this._envmapRenderer.setEnvmapByProbeId(V,R,Q)},_tryInvalidateEnvmap:function(){var V=this.getEnvmapType();V!==this._lastProgramEnvmapType&&(this._envmapRenderer.changeEnvmapType(this._lastProgramEnvmapType=V),this.iv())},acquireProgram:function(V,R){return this._glPrograms.acquireProgram(V,R)},resolveIncludes:function(V){return this._glPrograms.resolveIncludes(V)},renderModel:function(V,R,Q,X,b){b&&!1===b.restoreViewport||Q&&!1===Q.restoreViewport||R&&!1===R.restoreViewport||(A=(A=this.getViewport())&&Bf(A));var A,V=this._postProcessing.blitScreen(V,R,Q,X,b);return A&&this.setViewport(this.getGL(),A[0],A[1],A[2],A[3]),V},renderPrefab:function(){return this.renderModel.apply(this,arguments)},isGLTempRegisterLimited:function(){return this._glTempRegisterLimited},getBrightness:function(V){var R=V.s("brightness"),V=this.isSelected(V)?V.s("select.brightness"):q8;return R==q8?V:V==q8?R:R*V},getDataHighlightMode:function(V){return V.s("highlight.mode")},getWireframe:function(V){var R=V.s("wf.visible"),Q=V.s("wf.width");if(!0===R||0<Q&&"selected"===R&&this.isSelected(V))return{color:V.s("wf.color"),width:Q,short:V.s("wf.short"),mat:V.s("wf.mat")}},getPartPosition:function(V,R,Q,X){return X=X||We,[(V=this.getData3dUI(V)._16O(X.autoRotate,R,q8,Q||XR,X.t3,X.r3,X.rotationMode))[12],V[13],V[14]]},_transformPointToViewSpace:function(V){return V=[V[0],V[1],V[2]],Ts(V,this._viewMatrix),V},_transformDirectionToViewSpace:function(V,R){var V=V?[V[0],V[1],V[2]]:[0,0,0],R=(Ts(V,this._viewMatrix),R?[R[0],R[1],R[2]]:[0,0,0]),Q=(Ts(R,this._viewMatrix),R[0]-V[0]),X=R[1]-V[1],R=R[2]-V[2];return(V=Math.sqrt(Q*Q+X*X+R*R))?[Q/V,X/V,R/V]:[Q,X,R]},getWireframeGeometry:function(V){if(V.s("wf.geometry"))return{color:V.s("wf.color"),width:V.s("wf.width"),mat:V.s("wf.mat"),geometry:!0}},getBodyColor:function(V){return V.s("body.color")},getMat:function(V){return V.getMat?V.getMat():V.s("mat")},getFaceMat:function(V,R){return V.getFaceMat?V.getFaceMat(R):V.s(R+".mat")},getFaceBlend:function(V,R){return V.s(R+".blend")||V.s("all.blend")},getFaceColor:function(V,R){return V.s(R+".color")||V.s("all.color")},getFaceImage:function(V,R){return V.s(R+".image")||V.s("all.image")},getFaceBlendImage:function(V,R){return V.s(R+".blend.image")||V.s("all.blend.image")},getFaceDiscardSelectable:function(V,R){return(R=V.s(R+".discard.selectable"))==q8?V.s("all.discard.selectable"):R},getFaceUv:function(V,R){return V.s(R+".uv")||V.s("all.uv")},getFaceUvOffset:function(V,R){return V.s(R+".uv.offset")||V.s("all.uv.offset")},getFaceUvScale:function(V,R){return V.s(R+".uv.scale")||V.s("all.uv.scale")},getFaceUvRotation:function(V,R){return V.s(R+".uv.rotation")||V.s("all.uv.rotation")},getFaceUvAnchor:function(V,R){return V.s(R+".uv.anchor")||V.s("all.uv.anchor")},getFaceLight:function(V,R){return(R=V.s(R+".light"))==q8?V.s("all.light"):R},getFaceVisible:function(V,R){return(R=V.s(R+".visible"))==q8?V.s("all.visible"):R},getFaceOpacity:function(V,R){return(R=V.s(R+".opacity"))==q8?V.s("all.opacity"):R},getFaceTransparent:function(V,R){return(R=V.s(R+".transparent"))==q8?V.s("all.transparent"):R},getFaceReverseColor:function(V,R){return V.s(R+".reverse.color")||V.s("all.reverse.color")},getFaceReverseFlip:function(V,R){return(R=V.s(R+".reverse.flip"))==q8?V.s("all.reverse.flip"):R},getFaceReverseCull:function(V,R){return(R=V.s(R+".reverse.cull"))==q8?V.s("all.reverse.cull"):R},getFaceMaterial:function(V,R){return(R=V.s(R+".material"))==q8?V.s("all.material"):R},isPicking:function(){return this._picking},renderPickScene:function(V){var R=this.getGL();R&&(this.syncRenderState(),this._picking=R._picking=!0,this._dynamicRatio=V,this.renderScene(),this._picking=R._picking=!1,this._dynamicRatio=N8)},invalidateCachedGeometry:function(V){var R=this.getData3dUI(V);R&&(R.invalidateCachedGeometry(),this.invalidateData(V))},invalidateCachedWireframe:function(Q){var V,X;Q instanceof I.Data?(V=this.getData3dUI(Q))&&(delete V._shapeModelCacheForWf,(V=V.shapeModel||hy(V))&&(hE(V),Q.iv())):Q&&(hE(Q),(X=this).dm().each(function(V){var R=X.getData3dUI(V);R&&(R.shapeModel||hy(R))===Q&&V.iv()}),this.iv())},isInteractive:function(V){return V.s("interactive")},redraw:function(){this.iv()},redrawLoop:function(){var V,R=this;R._redrawState||(R._redrawState=!0,(V=function(){R._redrawState&&(R.redraw(),requestAnimationFrame(V))})())},stopRedrawLoop:function(){this._redrawState&&delete this._redrawState},validateImpl:function(){var Q,X,b,A,V=this;V._hibernating||(V._lightChanged&&(V._lightChanged=!1,Q=[],X=[],b=[],A=[],V.dm().each(function(V){var R;Vg(V)&&("point"===(R=V.s("light.type"))?Q.push(V):"spot"===R?X.push(V):"directional"===R?b.push(V):"rect"===R&&A.push(V))}),V._59O=Q,V._spots=X,V._dirs=b,V._87I=A),V._attributes&&!1===V._attributes.autoDraw||V._42(),V._1o.iv())},getRenderInfo:function(){var V=this.getGL();if(V)return V._renderInfo},getDebugTip:function(){var V,R,Q,X,b,A=this.getRenderInfo();if(A)return R=(V=this.getGL())._validBufCount||0,R="Draw Calls: "+A.calls+"<br/>Vertices: "+A.vertices+"<br/>Faces: "+A.faces+"<br/>Lines: "+A.lines+"<br/>"+(A.points?"Points: "+A.points+"<br/>":"")+"Buffers: "+R+"<br/>Programs: "+(V._validProgramCount||0)+"<br/>Cache Models: "+v.keys(ie).length+"<br/>Shape3d Models: "+v.keys(ae).length,(X=this.getPresentingReality())&&(R+="<br/>VR fps: "+X.getFps()),A.textureCache&&(X=A.textureCache.count,R+="<br/>2D Dynamic Textures: "+A.textureCache.count,0<X&&(R+="<br/>2D Dynamic pixels: "+(1e6<(X=A.textureCache.pixels)?Math.round(X/1e6)+"M":1e3<X?Math.round(X/1e3)+"K":Math.round(X)))),R+="<hr>WebGL "+(this.isWebGL2()?"2.0":"1.0"),(A=V._debugRendererInfo)===N8&&((X=this.getGLExtension("WEBGL_debug_renderer_info"))&&(A=V.getParameter(X.UNMASKED_RENDERER_WEBGL))?((X=A.match(he))&&5<X.length&&(Q=X[3],X=X[5],A=(b=Q.match(/ (Direct3D|OpenGL)/))?Q.substr(0,b.index)+"<br/>"+Q.substr(b.index+1):Q+(X?"<br/>"+X:"")),V._debugRendererInfo=A):A=V._debugRendererInfo=null),A&&(R+="<br/>"+A),R},getFrameState:function(){return this._frameState},isBoundingBoxInView:(ei=new I.Math.Box3,Ji=new I.Math.Matrix4,function(V){if(!(V=V instanceof I.Data?this.getData3dUI(V):V)||!V.mat)return!0;var R=V.getBoundingBox(!0);return ei.copy(R).applyMatrix4(Ji.fromArray(V.mat)),this.getFrustum().intersectsBox(ei)}),updateScene:function(){var R=this,Q=(R.emitPreUpdate(),R._81O=q8,R.overlappingBox.clear(),R.initSkeletonDatas(),R._40Q),X=(Q.init(),R.getGL()),V=R.dm();if(V.isHierarchicalRendering())V.eachByHierarchical(function(V){(V=R.getData3dUI(V))&&V.update(R,X,Q)});else for(var b,A=V.getDatas().getArray(),c=A.length,f=0;f<c;f++)b=A[f],(b=R.getData3dUI(b))&&b.update(R,X,Q);this._updateBoxClipperMatrix(),Q.onUpdated(),R.emitPostUpdate()},_pushFrameRenderOptions:function(V){this._frameRenderOptionStack.push(this._currentFrameRenderOptions),this._currentFrameRenderOptions=V},_popFrameRenderOptions:function(V){this._currentFrameRenderOptions=this._frameRenderOptionStack.pop()},_getFrameRenderOptions:function(V){var R=this._currentFrameRenderOptions;return R&&R[V]},getRenderLists:function(){return this._40Q},_setCurrentFrameRenderId:function(V,R){var Q=this._renderId++;V._renderInfo.renderId=Q,this._glPrograms.setCurrentFrameRenderId(Q),R&&this._glUbos.setCurrentFrameRenderId(Q)},renderScene:function(V){var X=this,b=X.getGL();if(b){var A,c,R,f=X._picking,S=(f||X.emitPreRender(),X._setCurrentFrameRenderId(b,!1),X.genProgramDefines(),X._frameState),F=(X._prg=S.defaultProgram=X.acquireProgram({type:f?"pick":"legacy",defines:{}}),X._pushFrameRenderOptions(V),S.setGLState(!1,!0),!1!==X._getFrameRenderOptions("renderShadowMap")&&X.shadowMap.render(),X.flowMap.render(),X._envmapRenderer.onBeforeRender(b),X._44Q=-1,S.renderState),V=F.glState,Q=X._prg,D=(X._setupPVMatrix(),this._glUbos.setCurrentFrameRenderId(this._renderId),X.isReflecting(b)||sg(X._projScreenMatrix=js(),X._projectMatrix,X._viewMatrix),S.syncEnv(f?this.pickColorMap:N8),F.useProgram(Q),l(!1,!1,!0),b.clear(256),this._41Q),P=0,N=D.length;if(H(L8.cameraPriority.skybox),f?(R=V.color.clear.slice(0),Mg(b,[0,0,0,0]),H(L8.cameraPriority.main)):(Mg(b,[0,0,0,0]),V.blend.enabled=!1,V.depth.enabled=!1,V.depth.mask=!1,X._camera&&!1===X._camera.s("camera.renderSky")||X.drawSky(b,Q),H(L8.cameraPriority.main),!1!==X._getFrameRenderOptions("renderReflector")&&X.drawReflectors(b)&&(X._setupPVMatrix(),S.syncEnv(),l(!0),X._setCurrentFrameRenderId(b,!0)),V.blend.enabled=!1,V.depth.enabled=!0,V.depth.mask=!0,(A.uTransparent=!1)!==X._getFrameRenderOptions("renderGrid")&&X._31O._42(b)),!b.textureBatch||D8[(ONE_FRAME_TIME-6)/2]){f||(X.shadowMap.enable&&X.shadowMap.createShadow(A),X.rebindOITTexture(A),X.flowMap.createFlow(A));for(var q=X._sortedRenderLayers,L=0,e=q.length;L<e;L++){var J=q[L],s=X.getRenderLayerInfo(J);!(X._camera||!s.ignore||s.renderForBloom&&b._blooming)||X._camera&&!X._camera.isLayerVisible(J)||(H(s.priority)&&!f&&(X.shadowMap.enable&&X.shadowMap.createShadow(A),X.rebindOITTexture(A),X.flowMap.createFlow(A,!0)),this.renderLayer(J))}H(L8.cameraPriority.infinity),f||(X._renderBonesForDebug(b,V),X.flowMap.disableFlow(A)),Sg(X,A,0,L8.graph3dViewHeadlightAmbientIntensity),A.uHeadlightColor=[1,1,1,0],A.uUseEnvMap=!1,A.uHeadlightDirection=[0,0,0],A.uHeadlightRange=0,V.depth.enabled=!1,A.uTransparent=!1,A.shadowReceive=!1,Eg(X,A,U1),f?X.drawFilter||X._30O._42(b):(X._highlightHelper._42(b),this._renderAxisAndEditHelper(!1!==X._getFrameRenderOptions("renderAxis"),!1!==X._getFrameRenderOptions("renderEdit")),V.blend.enabled=!1,V.depth.mask=!0),V.depth.enabled=!0,f&&Mg(b,R),xg(b,q8),dg(b,q8),X._44Q=-1,X._popFrameRenderOptions(null),X._glPrograms.disableAttributes(b),f||X.emitPostRender()}}function l(V,R,Q){V&&(F.syncLoss(),S.setGLState(R,Q)),S.setUniforms(R),c=F.attribs,A=F.directUniforms(),c.disable()}function H(V){if(!0!==X._getFrameRenderOptions("ignoreExternalCamera")){for(var R=!1;P<N;P++){var Q=D[P];if(!f||!Q.ignoreInPick){if(Q.priority>=V)break;X._43Q[X._44Q=Q.id]&&!D8[hR.length]||(Q.render(b,X,S),l(!0),R=!0)}}return R}}},_renderAxisAndEditHelper:function(V,R){if(!V&&!R)return!1;var Q=this.getGL(),X=this._frameState,b=(A=X.renderState).glState,A=A.directUniforms();return X.renderState.attribs.disable(),b.depth.enabled=!1,A.uTransparent=!1,A.shadowReceive=!1,b.blend.enabled=!1,b.depth.mask=!0,(X=!this._fogDisabled)&&(A.uFog=!1),V&&this._32O._42(Q),R&&this._30O._42(Q),X&&(A.uFog=!0),xg(Q,q8),dg(Q,q8),!0},renderLayers:function(V,R){for(var Q=0,X=(V=R?w_(V):V).length;Q<X;Q++)this.renderLayer(V[Q])},renderSky:function(){var V=this._frameState,R=V.renderState,Q=R.glState,X=this.getGL(),b=this._prg;this._setupPVMatrix(),sg(this._projScreenMatrix=js(),this._projectMatrix,this._viewMatrix),V.syncEnv(),R.useProgram(b),V.setGLState(!1,!0),V.setUniforms(!1),V.renderState.attribs.disable(),X.clear(256),Mg(X,[0,0,0,0]),Q.blend.enabled=!1,Q.depth.enabled=!1,Q.depth.mask=!1,this.drawSky(X,b),Q.depth.mask=!0,Q.depth.enabled=!0,xg(X,q8),dg(X,q8)},addRenderLayerListener:function(V,R,Q){this._renderLayerNotifier||(this._renderLayerNotifier=new M_),this._renderLayerNotifier.add(V,R,Q)},removeRenderLayerListener:function(V,R){this._renderLayerNotifier&&this._renderLayerNotifier.remove(V,R)},fireRenderLayerEvent:function(V,R){var Q=this._renderLayerNotifier;Q&&Q.fire({layer:V,phase:R})},renderLayer:function(V){var R=this,Q=R._picking;if(e=R._40Q.get(V)){R.fireRenderLayerEvent(V,"prepare");var X,b,A,c=R.getGL(),f=R.getRenderLayerInfo(V),S=(F=R._frameState.renderState).glState,F=F.directUniforms(),D=(!Q&&R.isSortable()&&e.sort(R._sortFunc,R._projScreenMatrix,R.isOpaqueSortable()),e.resetModel3dInstancedDraw(),e.opaque),P=e.transparent,N=e.batchModelMap,q=e.batchIndexMap,L=e.polylineModelMap,e=e.wireframeModelMap,c=R.getGL(),J=R._prg,s=(Q||(S.blend.enabled=!1,S.depth.enabled=!0,S.depth.mask=!0),(F.uTransparent=!1)!==f.clearDepth&&c.clear(256),this.drawFilter);if(s){for(X=0,b=(A=D).length;X<b;X++)!0!==s(A[X].data)&&A[X].ui._42(c,J,K);if(Q)for(X=0,b=(A=P).length;X<b;X++)A[X].ui._46Q(c);by(R,N,q)}else{for(X=0,b=(A=D).length;X<b;X++)A[X].ui._42(c,J,K);if(Q)for(X=0,b=(A=P).length;X<b;X++)A[X].ui._46Q(c);by(R,N,q),Qy(R,L),Qy(R,e)}if(Q||(S.blend.enabled=!0,S.depth.mask=!1),R._45Q=F.uTransparent=!0,s){for(X=0,b=(A=P).length;X<b;X++)!0!==s(A[X].data)&&A[X].ui._42(c,J,a);by(R,N,q,0,!0)}else{if(Q||!R._oitEnabled||R.isReflecting(c)||c._blooming){for(X=0,b=(A=P).length;X<b;X++)A[X].ui._42(c,J,a);by(R,N,q,0,!0)}else R._depthPeelingRenderer.render(P,N,q);Qy(R,L,0,!0),Qy(R,e,0,!0)}R._45Q=null,R.fireRenderLayerEvent(V,"post")}},_42:function(V,R){var Q=this;if(!Q._35O&&(!z||D8(z))){var X=Q.getWidth(),b=Q.getHeight();if(X&&b){var A=Q.getGL();if(A){var c=Q._canvas,f=(V?f=!0:V=Q.getDevicePixelRatio(),Q._picking||!f&&X===c.clientWidth&&b===c.clientHeight||(xJ(c,X,b,V),f=V,X&&1<Math.abs(A.drawingBufferWidth-X*V)&&(f=Math.min(f,A.drawingBufferWidth/X)),(f=b&&1<Math.abs(A.drawingBufferHeight-b*V)?Math.min(f,A.drawingBufferHeight/b):f)!==V&&(Q.setDevicePixelRatio(V=f),xJ(c,X,b,V)),Q._18Q=null,Q._tryFireAspectEvent()),Q._attributes&&!1===Q._attributes.autoClear||A.clear(16384),A._renderInfo);if(f){f.calls=0,f.vertices=0,f.faces=0,f.lines=0,f.points=0,f.textureCache={time:0,count:0,pixels:0},f.frame=++Q._frameId,f.cacheTimeCost=0,f.reflectDepth=0,Q.__uptime=(Date.now()-Q.__startTime)/1e3,X=c.width,b=c.height,Q._gatherRenderLayersByPriority(),Q.emitPreFrame(),Q.syncRenderState(),Q._glPrograms.checkParallelLinkStatus();do{var S=Q.getRealities();if(S){var F,D=!1;for(F in S)if(Q.isRealityEnabled(F)&&(D=S[F].render(A,X,b,R)))break;if(D)break}Q.updateScene();var P=Q._4JQ}while((P||!Q._postProcessing.render(A,X,b,R,0<Q._transmissionObjects.length&&Q.isTransmissionEnabled()||Q._oitEnabled||Q._depthGrabber.isEnabled()))&&(Q.setViewport(A,0,0,X,b),P?Q.renderPickScene(V):Q.renderScene(R),0));Q._33Q=!1,Q.countFrame(),Q.emitPostFrame(),Q._doBufferGC(A),Q._glPrograms.scheduleProgramGC(Q._shaderGCInterval||500)}}}}},drawImmediately:function(V,R,Q){if(V){var X=this.getGL();if(!X)return!1;B1(X,V),this._42(R,Q),G1(X)}else this._42(R,Q)},_4IQ:function(V){this._4JQ=V,this.iv()},syncRenderState:function(){var V;(V=this._frameState)&&(V=V.renderState)&&V.syncLoss()},drawReflectors:function(V){V._renderInfo.reflectDepth++;var R,Q,X=this._dataModel.getReflectors(),b=!1;for(R in X)Q=X[R],this.isVisible(Q)&&(Q=this.getData3dUI(Q))&&Q.drawReflector&&Q.drawReflector(V)&&(b=!0);return V._renderInfo.reflectDepth--,b},isReflecting:function(V){return V._renderInfo.reflectDepth},isOITProcessing:function(){return this._programDefines.OIT},isRenderSceneForBloom:function(){var V=this.getGL();return!!V&&!!V._blooming},getPostProcessing:function(){return this._postProcessing},enablePostProcessing:function(V,R){return this._postProcessing.enableModule(V,R)},getPostProcessingModule:function(V){return this._postProcessing.getModule(V)},getPostProcessingValue:function(V,R){return(V=this._postProcessing.getModule(V))?V[R]:N8},setPostProcessingValue:function(V,R,Q){var X=this.getPostProcessingValue(V,R),b=this._postProcessing.getModule(V);b&&X!==Q&&("enable"===R?this.enablePostProcessing(V,Q):b[R]=Q,this.firePropertyChange("postProcessing."+V+"."+R,X,Q))},setDofImageFromGraphView:function(V,R,Q){return this._postProcessing.getModule("Dof").setImageFromGraphView(V,R,Q)},setViewport:function(V,R,Q,X,b){this._viewport=[R,Q,X,b],t8.for(V).directState().viewport=this._viewport},getRenderState:function(){return t8.for(this._26I)},genProgramDefines:function(){var V=this,R=(R=V.getEnvmap())&&R.length,Q=((R={NUM_DIR_LIGHTS:V._dirs.length,NUM_SPOT_LIGHTS:V._spots.length,NUM_POINT_LIGHTS:V._59O.length,MAX_BOX_CLIPPER:V._boxClippers.length,BOX_CLIPER_TYPES:V._boxClipperTypes,MAX_FLOW_OBJECT:V._flowObjects.length,FOG:!V._fogDisabled,FOG_EXP2:"exp2"===V.getFogMode(),UV_CLIP:!!V._uvClipEnabled,USE_ENVMAP:!!R,ENVMAP_TYPE_CUBE_UV:"legacy"!==V.getEnvmapType(),DASH:!V._dashDisabled,ENVMAP_ROTATE:null!=V._envmapExtraQuaternion,BATCHCOLOR:!V._batchColorDisabled,BATCHINSTANCE:!V._batchInstancedDisabled,BATCHBLEND:!V._batchBlendDisabled,BATCHBRIGHTNESS:!V._batchBrightnessDisabled,LEGACY_BACKFACE_USING_NORMALS:V._backfaceUsingNormals})[gp[V.getFlowBlendMode()]||gp[L8.graph3dViewFlowBlendMode]]=!0,V.shadowMap.enable&&V.shadowMap.genShaderDefine(R),V._glPrograms);return Q&&Q.genPhysicalProgramKeyOfScene(V._programDefines=R),R},getViewport:function(){return this._viewport},setBufferGCInterval:function(V){this._bufferGCInterval=V},setShaderGCInterval:function(V){this._shaderGCInterval=V},releaseGLBuffer:function(V){var R=this.getGL();if(!R)return!1;if(!V)return this._doBufferGC(R,!0),!0;if(!(V=V._bufId))return!1;var Q=R._4NQ,X=Q[V];return!!X&&(R.deleteBuffer(X._buf),X._buf=null,Q[V]=null,R._validBufCount=Math.max(0,R._validBufCount-1),this.iv(),!0)},_doBufferGC:function(V,R){var Q,X,b=V._4NQ,A=0,c=0,f=V._renderInfo.frame,S=this._bufferGCInterval||10;for(Q in b)A++,(X=b[Q])&&(R||f-X._fid>S?(V.deleteBuffer(X._buf),X._buf=null,b[Q]=null):c++);if(c<A/2&&128<A){var F={};for(Q in b)b[Q]&&(F[Q]=b[Q]);V._4NQ=F}V._validBufCount=c},_swapLineMap:function(){var V=this;p8=V._polylineModelMap,V._polylineModelMap=V._polylineModelMapSwap,V._polylineModelMapSwap=p8,p8=V._wireframeModelMap,V._wireframeModelMap=V._wireframeModelMapSwap,V._wireframeModelMapSwap=p8,p8=V._polylineIndexMap,V._polylineIndexMap=V._polylineIndexMapSwap,V._polylineIndexMapSwap=p8,p8=V._wireframeIndexMap,V._wireframeIndexMap=V._wireframeIndexMapSwap,V._wireframeIndexMapSwap=p8},_updateSkybox:function(V){var R,Q,X,b,A,c,f,S,F;this._skybox&&V&&(V=V.property,R=!1,Q=this._skybox,"eye"!==V&&"forceUpdate"!==V||(X=this._camera?this._camera.getEye():this._eye,Q.p3(X[0],X[1],X[2]),R=!0),"near"!==V&&"far"!==V&&"aspect"!==V&&"forceUpdate"!==V||(X=(X=Q.__cachedS3__)||(Q.__cachedS3__=Q.getFinalScale3d()),V=X8(X[0],X[1],X[2])/2,b=("sphere"===Q.s("shape3d")?Q8(X[0],X[1],X[2]):O8(X[0]*X[0]+X[1]*X[1]+X[2]*X[2]))/2,A=this._near,c=this._far,F=Math.tan(this.getFovy()/2)*A,f=this.getAspect()*F,f=O8(f*f+F*F+A*A),f=1.01*Q8(f,O8(3)*A),S=1,V<f?S=f/V:c<=b&&(S=c*c/(A+c)/b),S!==1/0&&1!==S&&(Q.__updatingSkybox__=!0,F=X.map(function(V){return S*V}),Q.s3(F),Q.setScale3d(1,1,1),R=!0,delete Q.__updatingSkybox__)),R&&this.invalidateData(Q))},getSkyBox:function(){return this.getSkybox()},setSkyBox:function(V){return this.setSkybox(V)},getSkybox:function(){return this._skybox},setSkybox:function(R){var Q,V=this._skybox;V===R?R&&this._updateSkybox({property:"forceUpdate"}):(V&&(this._skyboxStyleMap&&V.setStyleMap(this._skyboxStyleMap),this._skyboxStyleMap=null,this._skyboxAnchor3d&&V.setAnchor3d(this._skyboxAnchor3d),this._skyboxAnchor3d=null,this._skyboxP3&&V.p3(this._skyboxP3),this._skyboxP3=null,this.handleDataModelChange({kind:zR,data:V})),this._skybox=R,this.ump(this._updateSkybox,this),R&&(R.removeFromDataModel(),this._skyboxStyleMap=I.Default.clone(R.getStyleMap()),this._skyboxAnchor3d=R.getAnchor3d(),R.setAnchor3d(.5,.5,.5),this._skyboxP3=R.p3().slice(0),R.s({"shape3d.reverse.flip":!0,"shape3d.reverse.cull":!1,"all.reverse.flip":!0,"all.reverse.cull":!1,"front.reverse.flip":!0,"front.reverse.cull":!1,"back.reverse.flip":!0,"back.reverse.cull":!1,"left.reverse.flip":!0,"left.reverse.cull":!1,"right.reverse.flip":!0,"right.reverse.cull":!1,"top.reverse.flip":!0,"top.reverse.cull":!1,"bottom.reverse.flip":!0,"bottom.reverse.cull":!1}),Q=R.onPropertyChanged,R.onPropertyChanged=function(V){Q.call(R,V),!R.__updatingSkybox__&&0<=["width","height","tall","scale","scaleTall"].indexOf(V.property)&&(R.__cachedS3__=N8)},this.mp(this._updateSkybox,this),this._updateSkybox({property:"forceUpdate"})),this.fp("skybox",V,R))},drawSky:function(V,R){var Q,X,b,A,c,f,S,F,D,P,N,q,L=this,e=L._skybox;e&&(A=b=0,L._camera&&!1===L._camera.s("camera.skybox.blur")||(b=e.s("skybox.blur.size"),A=e.s("skybox.blur.resolution"),0===b&&0===A||(S=A||L.getDevicePixelRatio(),(Q=V._blurRTT)||(Q=V._blurRTT=new k.RenderTarget(L,null,null,{})),c=L.getWidth()*S,S=L.getHeight()*S,Q.setSize(V,c,S),X=Bf(L._viewport),L.setViewport(V,0,0,c,S),Q.bind(V))),c=t8.for(V).directUniforms(),S=L._headlightIntensity,f=I2(L._headlightColor),R=L._prg,1!==S&&(f=[f[0]*S,f[1]*S,f[2]*S]),c.uHeadlightColor=[f[0],f[1],f[2],1],(S=L.getData3dUI(e))&&((D=(F=L.isOrtho())||this._computedProjectMatrix)&&(P=L._projectMatrix,F&&(L._ortho=!1),c.uProjectMatrix=L._projectMatrix=zg(L,!0)),q=e.p3(),N=(this._camera||this).getEye(),q[0]===N[0]&&q[1]===N[1]&&q[2]===N[2]||(e._position.x=N[0],e._54O=N[1],e._position.y=N[2]),S.validate(),S._42(V,R,s),D&&(F&&(L._ortho=!0),c.uProjectMatrix=L._projectMatrix=P)),V.clear(256),c.uHeadlightColor=[f[0],f[1],f[2],L._headlightDisabled?1:0],0===b&&0===A||(Q.unbind(V),0!==b&&(q=L.getPostProcessingModule("Blur"))&&q.drawImpl(V,Q,b,!1,4<b?4:2<b?3:1<b?2:1),L.setViewport(V,X[0],X[1],X[2],X[3]),L.renderModel(null,{type:"blitScreen",image:Q.texture,defines:{DITHERING:!1}},{clear:!1})))},getLogicalPoint:function(V){return ts(V,this._canvas)},isRectOverlapping:function(V){return this.getData3dUI(V)._rectOverlapping},getHitFaceInfo:function(V){V.target&&(V=this.lp(V));var R=this.getDataInfoAt(V);return R&&(V=this.intersectObject(V,R.data))?{data:R.data,face:V.part}:q8},unproject:function(V,R){var Q=this.getWidth(),X=this.getHeight(),Q=((V=V.target?this.lp(V):V).x-Q/2)/Q*2,V=-1*(V.y-X/2)/X*2,X=(R=R||0,js()),b=zg(this),A=mg(this);return sg(X,b,A),Lg(X),[(b=Ws([Q,V,R,1],X))[0]/b[3],b[1]/b[3],b[2]/b[3]]},getDataAt:function(V){return(V=this.getDataInfoAt(V))?V.data:q8},getDataInfoAt:function(V,R,Q){return V.target&&(V=this.lp(V)),this._1o.get(SJ(V.x,V.y,R),!0,Q)},getDataInfoDuringInteract:function(V,R){var Q=this.getDataInfoAt(V);if(!this.isBlockSelectable()||!Q||!Q.data)return Q;if(!R&&this.isSelected(Q.data))return Q;for(var X=Q.data;(X=X.getParent())&&X instanceof I.Block&&this.isSelectable(X);){var b=this.isSelected(X);if(b&&R)break;if(Q={data:X,part:Q.part},b&&!R)break}return Q},getDatasInRect:function(V,R){return this._1o.get(V,!1,R)},setEditable:function(V){var R=this._editable;this._editable=V,this.fp(KA,R,V)},isEditable:function(V){return V?!!this._editable&&!!r(V)&&!!V.s("3d.editable")&&(!this._editableFunc||this._editableFunc(V)):this._editable},isSelectable:function(V){return V.s("3d.selectable")&&this.sm().isSelectable(V)},isMovable:function(V){return(!JJ(V)||V.getStyle(xR)===nR)&&!!V.s("3d.movable")&&(!this._movableFunc||this._movableFunc(V))},isSizeEditable:function(V){return!!r(V)&&(!this._sizeEditableFunc||this._sizeEditableFunc(V))},isRotationEditable:function(V){return!(!r(V)||!1===V.IRotatable)&&(!this._rotationEditableFunc||this._rotationEditableFunc(V))},handleDelete:function(V){this._editable&&this.removeSelection()},zoomIn:function(V){this.setZoom(Ef,V)},zoomOut:function(V){this.setZoom(1/Ef,V)},setZoom:(Pi=new K8,Ni=new K8,qi=new K8,Li=new K8,function(V,R){if(1!==V){var Q=this;Q._14o&&Q._14o.stop(!0);var X,b=1/V,A=(Pi.copy(Q.getCenter()),Ni.copy(Q.getEye()),Q._ortho);if(A){if((X=Q._orthoWidth)<Q._moveStep&&1<V)return}else if(Pi.distanceTo(Ni)<Q._moveStep&&b<1)return;var c=!1;if(!1===Q._zoomToCenter&&Q._lastZoomLP&&(qi.copy(Ni).sub(Pi).normalize(),Q._81O=null,Li.copy(Q.getHitPosition(Q._lastZoomLP,Pi.toArray(),qi.toArray())),c=!0,Q._lastZoomHit=Li),R=gJ(R))return R.action=function(V){Q.fi({kind:Q._zooming?"betweenZoom":"beginZoom"}),Q._zooming=1,V=(b-1)*V+1,A&&Q.setOrthoWidth(X*V),c?(Q.setEye(qi.lerpVectors(Li,Ni,V).toArray()),Q.setCenter(qi.lerpVectors(Li,Pi,V).toArray())):A||Q.setEye(qi.lerpVectors(Pi,Ni,V).toArray())},R._37o=function(){delete Q._14o,delete Q._zooming,Q.fi({kind:"endZoom"}),Q.onZoomEnded()},Q._14o=df(R);A&&Q.setOrthoWidth(X*b),c?(Q.setEye(qi.lerpVectors(Li,Ni,b).toArray()),Q.setCenter(qi.lerpVectors(Li,Pi,b).toArray())):A||Q.setEye(qi.lerpVectors(Pi,Ni,b).toArray())}}),setOutsidePickSource:function(V){this.pickColorMap._outside=V},setModelMatrixProcess:function(V,R){this._modelMatrixProcess!==V&&(this._modelMatrixProcess=V,this.invalidateAll()),this._modelMatrixReverseProcess=R},hasModelMatrixProcess:function(){return!!this._modelMatrixProcess},processModelMatrix:function(V){if(!this._modelMatrixProcess)return V;try{return this._modelMatrixProcess(V)}catch(V){return N8}},reverseProcessModelMatrix:function(V){if(!this._modelMatrixProcess)return V;if(!this._modelMatrixReverseProcess)return N8;try{return this._modelMatrixReverseProcess(V)}catch(V){return N8}},createNodeFinalMatrix:function(V,R){if(!this._modelMatrixProcess)return R||xs(V,this.getMat(V));var Q,X=this.getData3dUI(V);return X.s("shape3d.distortion.ignore")?R||xs(V,this.getMat(V)):X.s("autorotate")||X.s("shape3d.autorotate")?(X=Bs(q8,q8,q8,"xzy",V.p3(),q8,q8),X=this._modelMatrixProcess(X),(Q=Bs(q8,V.getFinalScale3d(),V.getFinalRotation3d(),V.getRotationMode(),q8,q8,this.getMat(V)))[12]=X[12],Q[13]=X[13],Q[14]=X[14],Q):R?this._modelMatrixProcess(R):(X=xs(V,this.getMat(V)),this._modelMatrixProcess(X))},setOrthoZoom:function(V,R){return this.setZoom(V,R)},getPositionInfo:function(V){var R=this._eye,Q=this._center,X=this.getAspect(),V=V?$s(rs(Q,R,!0),rs(V,R)):qs(R,Q);return this._ortho?{length:V,height:(R=this._orthoWidth)/X,width:R}:{length:V,height:Q=r8(this._fovy/2)*V*2,width:Q*X}},getCenterInfo:function(){return this._81O||(this._81O=this.getPositionInfo()),Bf(this._81O)},rotate:function(Q,X,V,b){var A=this;if(Q||X){b==q8&&(b=A._firstPersonMode),A._88O&&A._88O.stop(!0);var R=A._center,c=A._eye,f=A.getCenterInfo().length,S=b?R:c,F=b?c:R,D=rs(S,F),P=E8(D[0],D[2]),N=E8(O8(D[0]*D[0]+D[2]*D[2]),D[1]),q=b?FR:DR;if(b&&(X=-X),V=gJ(V))return V.action=function(V){A.fi({kind:A._rotating?"betweenRotate":"beginRotate"}),A._rotating=1;var R=P+Q*V,V=N+X*V,V=b?w-Fg(A,w-V):Fg(A,V);D[0]=f*J8(V)*J8(R),D[1]=f*e8(V),D[2]=f*J8(V)*e8(R),S[0]=F[0]+D[0],S[1]=F[1]+D[1],S[2]=F[2]+D[2],A.fp(q,q8,S)},V._37o=function(){delete A._88O,delete A._rotating,A.fi({kind:"endRotate"}),A.onRotateEnded()},A._88O=df(V);P+=Q,N+=X,N=b?w-Fg(A,w-N):Fg(A,N),D[0]=f*J8(N)*J8(P),D[1]=f*e8(N),D[2]=f*J8(N)*e8(P),S[0]=F[0]+D[0],S[1]=F[1]+D[1],S[2]=F[2]+D[2],A.fp(q,q8,S)}},pan:function(V,R,Q,X){if(V||R){var b,A,c=this;X==q8&&(X=c._firstPersonMode),c._89O&&c._89O.stop(!0);var V=[(f=mg(c))[0]*V,f[4]*V,f[8]*V],f=[f[1]*R,f[5]*R,f[9]*R],S=V[0]+f[0],F=V[1]+f[1],D=V[2]+f[2],P=c._center,N=c._eye;if(X&&(R=zE(c.getBoundaries(),N[0],N[2],N[0]+S,N[2]+D,O8(S*S+D*D)),S=R[0],D=R[1]),Q=gJ(Q))return b=Bf(N),A=Bf(P),Q.action=function(V){c.fi({kind:c._panning?"betweenPan":"beginPan"}),c._panning=1,P[0]=A[0]+S*V,P[1]=A[1]+F*V,P[2]=A[2]+D*V,N[0]=b[0]+S*V,N[1]=b[1]+F*V,N[2]=b[2]+D*V,c.fp(DR,q8,N),c.fp(FR,q8,P)},Q._37o=function(){delete c._89O,delete c._panning,c.fi({kind:"endPan"}),c.onPanEnded()},c._89O=df(Q);P[0]+=S,P[1]+=F,P[2]+=D,N[0]+=S,N[1]+=F,N[2]+=D,c.fp(DR,q8,N),c.fp(FR,q8,P)}},walk:function(R,V,Q){if(R){var X,b,A=this,c=(Q==q8&&(Q=A._firstPersonMode),A._90O&&A._90O.stop(!0),A._center),f=A._eye,S=rs(c,f,!0);if(Q){if(Q=zE(A.getBoundaries(),f[0],f[2],f[0]+S[0]*R,f[2]+S[2]*R,w8(R)),!(R=qs(Q)))return;S=[Q[0]/R,0,Q[1]/R]}if(V=gJ(V))return X=Bf(f),b=Bf(c),V.action=function(V){A.fi({kind:A._walking?"betweenWalk":"beginWalk"}),A._walking=1,V*=R,f[0]=X[0]+S[0]*V,f[1]=X[1]+S[1]*V,f[2]=X[2]+S[2]*V,c[0]=b[0]+S[0]*V,c[1]=b[1]+S[1]*V,c[2]=b[2]+S[2]*V,A.fp(DR,q8,f),A.fp(FR,q8,c)},V._37o=function(){delete A._90O,delete A._walking,A.fi({kind:"endWalk"}),A.onWalkEnded()},A._90O=df(V);f[0]+=S[0]*R,f[1]+=S[1]*R,f[2]+=S[2]*R,c[0]+=S[0]*R,c[1]+=S[1]*R,c[2]+=S[2]*R,A.fp(DR,q8,f),A.fp(FR,q8,c)}},handleScroll:function(V,R){Tf(V);var Q=this,X=Q._moveStep,b=Q.getDataInfoAt(V);if((b=b&&b.data)&&Q.isInteractive(b)){var A=Q.intersectObject(V,b);if(A&&(A=A.part,(A=U(b.s(A+".image")||b.s("shape3d."+A+".image")||b.s("all.image")||b.s("shape3d.image")))&&p(A.scrollable,b,Q)))return}Q.isFirstPersonMode()?Q.isPannable()&&Q.pan(0,0<R?X:-X):Q.isZoomable()&&(Q._lastZoomLP=Q.lp(V),Q.setZoom(R<0?1/$f:$f),Q._lastZoomLP=Q._lastZoomHit=null)},handlePinch:function(V,R){!this.isZoomable()||Math.abs(V-R)<L8.pinchZoomThreshold||this.setZoom(V<R?1/jf:jf)},setLightProbe:function(V){if(V){if(9===V.length)return this.lightProbe=V;if(27<=V.length){for(var R=this.lightProbe=[],Q=0;Q<9;Q++)R[Q]=[V[3*Q],V[3*Q+1],V[3*Q+2]];return R}}return!1},getLightProbe:function(){return this.lightProbe},reset:function(V){this.setUp(L8.graph3dViewUp),this.moveCamera(L8.graph3dViewEye,L8.graph3dViewCenter,V)},moveSelection:function(V,R,Q){this.dm().beginTransaction(),z4(this.sm().toSelection(this.isMovable,this),V,R,Q),this.dm().endTransaction()},getMoveMode:function(V,R){return(R=R.s("3d.move.mode"))?R:Fs(V)||ne[88]&&ne[89]&&ne[90]?"xyz":ne[88]&&ne[89]?"xy":ne[88]&&ne[90]?"xz":ne[89]&&ne[90]?"yz":ne[88]?"x":ne[89]?"y":ne[90]?"z":"xz"},handleTick:function(){var V,R=this,Q=!1,X=R._moveStep,b=X,A=-1*R._rotateStep;R.isWalkable()||(b=0),R.isPannable()||(X=0),R.isRotatable()||(A=0),R._32Q&&(b*=V=(XJ()-R._32Q)/50,X*=V,A*=V),R._31Q&&(kf(R._31Q),delete R._31Q,delete R._32Q),_2()&&R.pan(-X,0,!(Q=!0),!0),w2()&&R.pan(X,0,!(Q=!0),!0),a2()&&(Q=!0,Fs()?R.pan(0,X,!1,!0):R.walk(b,!1,!0)),O2()&&(Q=!0,Fs()?R.pan(0,-X,!1,!0):R.walk(-b,!1,!0)),i2()&&R.rotate(-A,0,!(Q=!0),!0),M2()&&R.rotate(A,0,!(Q=!0),!0),n2()&&R.rotate(0,-A/2,!(Q=!0),!0),r2()&&R.rotate(0,A/2,!(Q=!0),!0),Q&&(R._32Q=XJ(),R._31Q=Zf(R.handleTick,R))},handleKeyDown:function(V){!Ds(V)&&C2[V.keyCode]?this.handleTick():u2(V)?this.selectAll():o2(V)?this.handleDelete(V):E2(V)&&this.isResettable()&&this.reset()},checkDoubleClickOnNote:function(V,R,Q){if(Q===CR){if(R.s("note.toggleable"))return R.s(pR,!R.s(pR)),this.fi({kind:"toggleNote",event:V,data:R,part:Q}),!0}else if(Q===vR&&R.s("note2.toggleable"))return R.s(IR,!R.s(IR)),this.fi({kind:"toggleNote2",event:V,data:R,part:Q}),!0;return!1},checkDoubleClickOnRotation:function(V,R,Q){return Q===Tp?(R.setRotationX(0),!0):Q===Wp?(R.setRotationY(0),!0):Q===Up&&(R.setRotationZ(0),!0)},onRotateEnded:function(){},onWalkEnded:function(){},getViewRatio:function(V){if(this.isOrtho())return this.getWidth()/this.getOrthoWidth();var R=this.getCenter(),Q=this.getHeight(),X=this.getEye(),R=[R[0]-X[0],R[1]-X[1],R[2]-X[2]],V=[V[0]-X[0],V[1]-X[1],V[2]-X[2]];return Q*Math.sqrt(R[0]*R[0]+R[1]*R[1]+R[2]*R[2])*(1/Math.tan(this.getFovy()/2))/(V[0]*R[0]+V[1]*R[1]+V[2]*R[2])},inViewSpace:function(V){var R,V=this._transformPointToViewSpace(V),Q=this.getAspect(),X=this.getNear(),b=this.getFar();return!(-V[2]<X||-V[2]>b)&&(this.isOrtho()?(R=this.getOrthoWidth()/2,Math.abs(V[0])<=R&&Math.abs(V[1]*Q)<=R):(R=Math.sqrt(V[0]*V[0]+V[1]*V[1]+V[2]*V[2])*Math.tan(this.getFovy()/2),Math.abs(V[1]<=R)&&Math.abs(V[0])<=R*Q))},getPVMatrix:function(V){var R;return!V&&(R=this._18Q)||(R=zg(this),this._18Q=sg(R,R,mg(this)),this._18Q._wh=this.getWidth()/2/this.getHeight()),R},getFrustum:(Si=new y8,Fi=new U4,Di=new Array(16),function(){for(var V=this.getPVMatrix(),R=!1,Q=0;Q<16;Q++)V[Q]!==Di[Q]&&(R=!0,Di[Q]=V[Q]);return R&&Fi.setFromMatrix(Si.fromArray(V)),Fi}),toViewPosition:function(V){var R=this.getWidth()/2,Q=this.getHeight()/2,X=this.getPVMatrix();return{x:R+R*(V=Ws([V[0],V[1],V[2],1],X))[0]/V[3],y:Q-Q*V[1]/V[3],z:V[2]/V[3]}},getHitPosition:function(V,R,Q){var X=this.getWidth(),b=this.getHeight(),A=(V=V.target?this.lp(V):V).x-X/2,V=V.y-b/2,c=this.getCenterInfo(),f=mg(this),X=(R=R||[0,0,0],Q=Q||[0,1,0],A=A/X*c.width,V=-1*V/b*c.height,[f[0]*A,f[4]*A,f[8]*A]),b=[f[1]*V,f[5]*V,f[9]*V],c=[X[0]+b[0],X[1]+b[1],X[2]+b[2]],A=this.getCenter();return Pg(this,R,Q,[c[0]+A[0],c[1]+A[1],c[2]+A[2]])||[0,0,0]},intersectObject:function(V,R){return this._raycaster.intersectObject(V,R)},intersectObjects:function(V,R,Q){return this._raycaster.intersectObjects(V,R,Q)},serializePhysicalShader:function(){return this._glPrograms.serializePhysicalShader()},deserializePhysicalShader:function(V){return this._glPrograms.deserializePhysicalShader(V)},getLineLength:function(V){return this.validate(),(V=this.getData3dUI(V))&&V.getCache&&(V=V.getCache())?V[V.length-1].length:0},getLineOffset:function(V,R){var Q=this.getData3dUI(V);if(Q&&Q.getCache&&(Q=Q.getCache())){var X,Q=Uy(Q,R);if(V.s("shape3d")!==yR)return Q;if(V.getScale3d&&1===(b=V.getScale3d())[0]&&1===b[1]&&1===b[2]&&(b=null),!(X=V.r3&&0===(X=V.r3())[0]&&0===X[1]&&0===X[2]?null:X)&&!b)return Q;var b,R=new K8(V.p3()),A=new K8(Q.point).sub(R),Q=new K8(Q.tangent).add(A);return b&&(b=new K8(b),A.multiply(b),Q.multiply(b)),X&&(b=(new Xf).setFromEuler(new qf(X,V.getRotationMode(),!0)),A.applyQuaternion(b),Q.applyQuaternion(b)),{point:A.clone().add(R),tangent:Q.sub(A).normalize()}}return q8},_genBatchInstancedArrayFunc:function(){var V=this._glCapabilities&&this._glCapabilities.instancedArray&&!this._batchInstancedDisabled,f=V?pE:IE,X=(this.batchInstancedModel=function(V,R,Q,X,b,A,c){f(this,V,R,Q,X,b,A,c)},V?kE:xE),A=(this.batchInstancedShapeFace=function(V,R,Q){X(V,R,Q)},V?BE:GE);this.batchInstancedFace=function(V,R,Q,X,b){A(this,V,R,Q,X,b)}},isLabelVisible:function(V){return!0},isNoteVisible:function(V){return!0},skipNonSelectableOnPick:function(V,R){return!R&&!this.drawFilter&&!V.s("static")},moveCamera:function(V,R,Q){var X=this,b=[(b=X.getEye())[0],b[1],b[2]],A=[(A=X.getCenter())[0],A[1],A[2]];if(V=V||b,R=R||A,X._flyAnim&&X._flyAnim.stop(!0),!(Q=gJ(Q)))return X.setEye(V[0],V[1],V[2]),X.setCenter(R[0],R[1],R[2]),delete X._flyAnim,!0;var c=[V[0]-b[0],V[1]-b[1],V[2]-b[2]],f=[R[0]-A[0],R[1]-A[1],R[2]-A[2]];return Q.action=function(V){X.setCenter(A[0]+f[0]*V,A[1]+f[1]*V,A[2]+f[2]*V),X.setEye(b[0]+c[0]*V,b[1]+c[1]*V,b[2]+c[2]*V)},Q._37o=function(){delete X._flyAnim},X._flyAnim=df(Q)},flyTo:(dv=new K8,Vi=new K8,Ri=new K8,Qi=new K8,Xi=new K8,bi=new y8,Ai=new I.Math.Quaternion,ci=new qf,fi=new Ff,function(V,R,Q){var X,b,A=this,c=(R=("boolean"==typeof R?{animation:R}:R)||{}).center,f=R.distance,S=R.direction,F=R.worldDirection,D=Q||R.ratio||.8,P=R.xRatio||D,D=R.yRatio||D,N=((Q!==N8||R.duration||R.frames)&&(R={animation:R}),[]),Q=f===N8;if(c&&Ri.fromArray(c),!c||Q)if((V=1===(V=V||A.dm().getDatas()).length?eJ(V)?V.get(0):V[0]:V)instanceof I.Node)c||Ri.fromArray(V.p3()),Q&&(_n(N,A,V),X=N.length);else{if(!V.length)return;if(!(!Q&&c||(N=[],V.forEach(function(V){_n(N,A,V)}),X=N.length)))return;c||(fi.setFromPoints(N),Ri.copy(fi.min).add(fi.max).multiplyScalar(.5))}A._flyAnim&&A._flyAnim.stop(!0),dv.fromArray(A.getEye()),Vi.fromArray(A.getCenter()),A.setCenter(Ri.x,Ri.y,Ri.z),Qi.subVectors(dv,Vi),(S||F)&&(!F&&V instanceof I.Node?Ai.setFromEuler(ci.set(V.r3(),V.getRotationMode(),!0)):Ai.set(0,0,0,1),c=Qi.length(),Qi.fromArray(F||S).applyQuaternion(Ai).setLength(c));var q=new K8(A.getUp()),L=B.fequal(q.x,0,1e-5)&&B.fequal(q.z,0,1e-5),e=(L&&0===Qi.x&&0===Qi.z&&(V=Qi.y,Qi.y=.999*V,Qi.z=.001*Math.sign(V)),0);if(Q){var J,s,l,H=P,K=D;if(Xi.copy(Qi),A.isOrtho()){var y=-1/0;for(A._eye[0]=Qi.x+Ri.x,A._eye[1]=Qi.y+Ri.y,A._eye[2]=Qi.z+Ri.z,J=zg(A),sg(J,J,mg(A)),b=0;b<X;b++)l=N[b],s=Ws([l.x,l.y,l.z,1],J),y=Math.max(y,Math.max(Math.abs(s[0])/H,Math.abs(s[1])/K));e=A.getOrthoWidth()*y}else{for(var t,g,r=A.getNear(),m=10;m--;){for(A._eye[0]=Qi.x+Ri.x,A._eye[1]=Qi.y+Ri.y,A._eye[2]=Qi.z+Ri.z,J=zg(A),sg(J,J,mg(A)),t=!0,g=-1/0,b=0;b<X;b++){if(l=N[b],(s=Ws([l.x,l.y,l.z,1],J))[3]<r&&m){Qi.multiplyScalar(2),t=!1;break}g=Math.max(g,Math.max(Math.abs(s[0])/H,Math.abs(s[1])/K)-s[3])}if(t)break}Qi.setLength(g+Qi.length())}Qi.manhattanLength()<1e-6&&Qi.copy(Xi)}else Qi.setLength(f);var z,Y,u,o,_,O,w,a,i,n,M,E,F=Qi.add(Ri);return(S=gJ(R.animation))?(A.setEye(dv.x,dv.y,dv.z),A.setCenter(Vi.x,Vi.y,Vi.z),c=F.clone().sub(Ri),(z=c.length())&&c.multiplyScalar(1/z),V=dv.clone().sub(Vi),(Y=V.length())&&V.multiplyScalar(1/Y),Q=(new y8).lookAtDirection(V,q),P=(new y8).lookAtDirection(c,q),u=(new Xf).setFromRotationMatrix(Q),o=(new Xf).setFromRotationMatrix(P),_=(new K8).subVectors(Ri,Vi),e&&(O=A.getOrthoWidth()),w=new K8,a=new K8,i=new K8,n=S.action,M=S._37o,E=Vi.clone(),S.action=function(V,R){a.copy(E).addScaledVector(_,V);var Q=u.clone().slerp(o,V);w.set(0,0,1).applyQuaternion(Q).setLength(Y+(z-Y)*V).add(a),i.set(0,1,0).applyQuaternion(Q),A.setCenter(a.x,a.y,a.z),A.setEye(w.x,w.y,w.z),A.setUp(i.x,i.y,i.z),e&&A.setOrthoWidth((e-O)*V+O),n&&n(V,R)},S._37o=function(){delete A._flyAnim;var V=A.getUp(),R=L?L8.graph3dViewUp:q.toArray();V[0]===R[0]&&V[1]===R[1]&&V[2]===R[2]||A.setUp(R),M&&M()},{lastEye:dv,lastCenter:Vi,eye:F,center:Ri,orthoWidth:e,animation:A._flyAnim=df(S)}):(A.setEye(F.x,F.y,F.z),A.setCenter(Ri.x,Ri.y,Ri.z),e&&A.setOrthoWidth(e),delete A._flyAnim,{lastEye:dv,lastCenter:Vi,eye:F,center:Ri,orthoWidth:e})}),getBoundingBox:(Gv=new y8,function(V){if(0===(V=(V=V||this.sm().getSelection())instanceof I.Node?[V]:V).length)return q8;var S=[],R=(V.forEach(function(V){if(r(V)){var R=S;if(V instanceof I.Node){var Q=I.Default.getShape3dModel(V.s("shape3d")),X=[-.5,-.5,-.5],b=[.5,.5,.5],A=(Q&&Q.boundingBox&&(X=Q.boundingBox.min,b=Q.boundingBox.max),[X[0],X[1],X[2],X[0],X[1],b[2],X[0],b[1],X[2],X[0],b[1],b[2],b[0],X[1],X[2],b[0],X[1],b[2],b[0],b[1],X[2],b[0],b[1],b[2]]),c=(Gv.fromArray(xs(V,this.getMat(V))),V.getAnchor3d());c.x=c.x-.5,c.y=c.y-.5,c.z=c.z-.5;for(var f=0;f<24;f+=3)R.push((new K8).set(A[f]-c.x,A[f+1]-c.y,A[f+2]-c.z).applyMatrix4(Gv))}}},this),[1/0,1/0,1/0]),Q=[-1/0,-1/0,-1/0];return S.forEach(function(V){R[0]=Math.min(V.x,R[0]),R[1]=Math.min(V.y,R[1]),R[2]=Math.min(V.z,R[2]),Q[0]=Math.max(V.x,Q[0]),Q[1]=Math.max(V.y,Q[1]),Q[2]=Math.max(V.z,Q[2])}),{min:R,max:Q}}),isShaderCompileParallel:function(){return!!this._parallelShaderCompile},shouldCompileShaderInParallel:function(V){return this._parallelShaderCompile&&("pbr"===V||"phong"===V)},enableShaderCompileParallel:function(){if(!this.getGLExtension("KHR_parallel_shader_compile"))return!1;this._parallelShaderCompile=!0},disableShaderCompileParallel:function(){this._parallelShaderCompile=!1},setBatchInfo:function(V,R){var Q=this._batchInfoMap[V];this._batchInfoMap[V]=R,this.fp("batchInfo",Q,R)},getBatchInfo:function(V){return this._batchInfoMap[V]||we[V]},getStaticInstancingKey:function(V,R){if(!R&&(X=V._lastInstancingKey))return X;var Q,R=V.s("shape3d"),X=qJ(R)?Q=(Q=R.uuid)?Q:R.uuid=B.generateUUID():R;return X+=(V._flipSide?"_1_":"_0_")+V.s("static.group"),V._lastInstancingKey=X},setOrthoWidth:function(V,R){var Q,X,b=this._orthoWidth;this._orthoWidth=V,!R&&this._syncEyeWithOrthoWidth&&(R=V/this.getAspect()/2/r8(this.getFovy()/2),Q=(new K8).fromArray(this.getEye()),X=(new K8).fromArray(this.getCenter()),Q.sub(X).setLength(R).add(X),this.setEye(Q.toArray())),this.fp("orthoWidth",b,V)},getCamera:function(V){var R=this,Q=((V=(V=V||R._mainCamera)||(R._mainCamera=new I.Camera)).s({"camera.type":R.isOrtho()?"ortho":"perspective","camera.fovy":R.getFovy(),"camera.ortho.width":R.getOrthoWidth(),"camera.near":R.getNear(),"camera.far":R.getFar()}),V.s("camera.aspect.sync")&&V.s("camera.aspect",R.getAspect()),R.getEye());return V.p3(Q.slice()),V.lookAt(R.getCenter(),R.getUp()),V},syncFromCamera:function(V){var R=this,Q=new K8(R.getEye()),X=new K8(R.getCenter()),b=new K8,A=X.sub(Q).length(),c=(R.setEye(V.p3()),V.getEuler());return b.set(0,0,-1).applyEuler(c),Q.copy(b).setLength(A).add(X.copy(V.p3())),R.setCenter(Q.toArray()),Q.set(0,1,0).applyEuler(c),X.set(0,1,0),Math.abs(b.cross(Q).dot(X))<1e-5?R.setUp(X.toArray()):R.setUp(Q.toArray()),R.setOrtho("ortho"===V.s("camera.type")),V.s("camera.aspect.sync")&&R.setAspect(V.s("camera.aspect")),R.setFovy(V.s("camera.fovy")),R.setOrthoWidth(V.s("camera.ortho.width"),!0),R.setNear(V.s("camera.near")),R.setFar(V.s("camera.far")),!0},resetHeadlightProperties:function(){this._headlightColor=L8.graph3dViewHeadlightColor,this._headlightIntensity=L8.graph3dViewHeadlightIntensity,this._headlightRange=L8.graph3dViewHeadlightRange,this._headlightDirection=L8.graph3dViewHeadlightDirection,this._headlightGroup=L8.graph3dViewHeadlightGroup,this._headlightAmbientIntensity=L8.graph3dViewHeadlightAmbientIntensity,this._headlightDisabled=L8.graph3dViewHeadlightDisabled,this._headlightRatioForPhysicalMaterial=L8.graph3dViewHeadlightRatioForPhysicalMaterial},resetFogProperties:function(){this._fogDisabled=L8.graph3dViewFogDisabled,this._fogMode=L8.graph3dViewFogMode,this._fogDensity=L8.graph3dViewFogDensity,this._fogColor=L8.graph3dViewFogColor,this._fogNear=L8.graph3dViewFogNear,this._fogFar=L8.graph3dViewFogFar},_gatherRenderLayersByPriority:function(V){if(V||!(this._renderLayerSettingsVersion>=m_)){var R,Q=this,X=(Q._renderLayerSettingsVersion=m_,Q._sortedRenderLayers=v.keys(Q._renderLayerInfoMap));for(R in z_)0<=X.indexOf(R)||X.push(R);X.sort(function(V,R){return Q.getRenderLayerInfo(V).priority-Q.getRenderLayerInfo(R).priority})}},setRenderLayerInfo:function(V,R){o_(0,V,this._renderLayerInfoMap);var Q,X=this.getRenderLayerInfo(V),V=Bf(X);for(Q in R)"mask"!==Q&&(X[Q]=R[Q]);this._gatherRenderLayersByPriority(!0),this.fp("renderLayerInfo",V,X)},getRenderLayerInfo:function(V){return this._renderLayerInfoMap[V]||z_[V]},setRenderLayerInfoMap:function(V){var R,Q=this._renderLayerInfoMap,X=!(this._renderLayerInfoMap={});for(R in V)this.setRenderLayerInfo(R,V[R]),X=!0;X||this._gatherRenderLayersByPriority(!0),this.fp("renderLayerInfoMap",Q,this._renderLayerInfoMap)},getRenderLayerInfoMap:function(){return this._renderLayerInfoMap},getRenderLayerKeys:function(){return this._sortedRenderLayers}}),L8.registerTextureLoader=function(V){Ki?Ki.push(V):Ki=[V]},L8.unregisterTextureLoader=function(V){if(Ki)return 0<=(V=Ki.indexOf(V))&&(Ki.splice(V,1),0===Ki.length&&(Ki=null),!0)},function(V,R){return(5131!==R||V.isWebGL2()?R:null!==(V=V._glExtensions.get("OES_texture_half_float"))?V.HALF_FLOAT_OES:null)||5121}),Yp=function(V,R,Q){if(!V.isWebGL2())return R;var X=R;return 6403===R&&(5126===Q&&(X=33326),5131===Q&&(X=33325),5121===Q&&(X=33321)),33319===R&&(5126===Q&&(X=33328),5131===Q&&(X=33327),5121===Q&&(X=33323)),6407===R&&(5126===Q&&(X=34837),5131===Q&&(X=34843),5121===Q&&(X=32849)),6408===R&&(5126===Q&&(X=34836),5131===Q&&(X=34842),5121===Q&&(X=32856)),33325!==X&&33326!==X&&34842!==X&&34836!==X||V._glExtensions.get("EXT_color_buffer_float"),X},up=B.newIdGenerator(),op=(v.assign(k.Graph3dView.prototype,{getTextureMap:function(){return this._2O},setTextureStyle:function(V,R,Q){return!(!(V=U(V))||!V.texture||(this.deleteTexture(V),V[R]=Q,this.iv(),0))},setTexture:function(V,R,Q){var X,b;Q=Q||"",(X=this._2O[V])?X[Q]&&(b=this.getGL())&&X[Q]!==R&&b.deleteTexture(X[Q]):X=this._2O[V]={},X[Q]=R},deleteTexture:function(V){if(this._2O){V&&V.uuid&&(V=V.uuid);var R=this._2O[V];if(R){delete this._2O[V];var Q,X=this.getGL();for(Q in R)X.deleteTexture(R[Q]);return!0}}},invalidateCachedTexture:(gi=[],mi=["shape3d.image"],["top","bottom","from","to"].forEach(function(V){mi.push("shape3d."+V+".image")}),["all","left","right","top","bottom","front","back"].forEach(function(V){gi.push(V+".image")}),zi=function(V){return!!V&&(qJ(V)&&!H8(V)?!V.tagName&&(!V.texture||zi(V.image)):l8(V)&&je.test(V))},function(V,R){if(V instanceof r_){for(var Q,X,b,A,c=this.getData3dUI(V),f=(c&&(Q=c.invalidateCachedTexture(this.getGL())),V.getMaterials()),S=0,F=f.length;S<F;S++)for(var D in X=f[S])b=X[D],Q=On(this,b)||Q;if((c=V.getStyle("shape3d"))?l8(c)&&!Ce.test(c)&&(A=mi):A=gi,A)for(var P=V.getStyleMap(),S=0,F=A.length;S<F;S++)Q=On(this,b=P[A[S]])||Q;!1===R&&!Q||this.invalidateData(V)}}),invalidateShape3dCachedImage:function(V){this.invalidateCachedTexture(V)},getTextureFromLoader:function(V){if(Ki)for(var R,Q=0,X=Ki.length;Q<X;Q++)if((R=Ki[Q]).checkType(V))return R.getTexture(this,V)},getGLTextureFromLoader:function(V){var R=this.getTextureFromLoader(V);return R&&(R=this.createTexture(R),this.setTexture(V,R),R)},getPrefabBoneTexture:function(V){var R=this._26I;return R?R._4KQ[V._4LQ||(V._4LQ=up.next())]:null},setPrefabBoneTexture:function(V,R){var Q=this._26I;return Q?(Q._4KQ[V._4LQ||(V._4LQ=up.next())]=R,!0):null},textureToCanvas:(yi={type:"blitScreen",defines:{USE_LINEAR:!0}},ti={type:"blitScreen"},function(V,R,Q,X){var b=x1(V)?V:this.getTextureFromLoader(V);if(b&&(Q=Q||b.width,X=X||b.height,Q&&X))return(b=(R=R===N8?"linear"===b.colorSpace:R)?yi:ti).image=V,R=new wp(this,Q,X),this.renderModel(R,b),b.image=null,V=R.toCanvas(),R.release(),V}),createTexture:function(V,R){var Q,X,b,A,c,f,S=this.getGL(),F=j1,D=zp(this,V.type||V.textureType),P=V.format||F.RGBA,N=Yp(this,P,D),q=(V.image?(b=U(V.image),Q=V.width||b.naturalWidth||b.width,X=V.height||b.naturalHeight||b.height,q=!b||"VIDEO"!==b.tagName&&(!Q||!X)):(b=V.data,Q=V.width,X=V.height,(q=b===N8||!Q||!X)||(A=!0)),q&&(b=null,Q=X=0),V.minFilter||V.filter||F.LINEAR),L=V.magFilter||V.filter||F.LINEAR,e=V.wrapS||V.wrap,J=V.wrapT||V.wrap,s=(e||J||(e=J=!B.isPOT(Q)||!B.isPOT(X)||V.clampToEdge||b&&b.clampToEdge?F.CLAMP_TO_EDGE:F.REPEAT),this.isWebGL2()),l=(s||e===F.CLAMP_TO_EDGE&&J===F.CLAMP_TO_EDGE&&(q===F.NEAREST||q===F.LINEAR)||B.isPOT(Q)&&B.isPOT(X)||!b||A||(l=V.scaleMode,c=B.nearestPOT(Q),f=B.nearestPOT(X),"smaller"===l?(Q<c&&(c/=2),X<f&&(f/=2)):"larger"===l&&(c<Q&&(c*=2),f<X&&(f*=2)),b=L8.resizeImage(b,c,f),Q=c,X=f),R=R||S.createTexture(),S.activeTexture(33984),Og(S,R),S.pixelStorei(37440,!0===V.flipY),S.pixelStorei(37441,!1),A?S.texImage2D(F.TEXTURE_2D,0,N,Q,X,0,P,D,b):b&&S.texImage2D(F.TEXTURE_2D,0,N,P,D,b),wg(S,10242,e),wg(S,10243,J),wg(S,10240,L),V.generateMipmaps);return(l=l===N8?e!==F.CLAMP_TO_EDGE||J!==F.CLAMP_TO_EDGE:l)?(wg(S,10241,9728===q?9984:9987),s&&V.mipmapMaxLevel!==N8&&wg(S,33085,V.mipmapMaxLevel),S.generateMipmap(F.TEXTURE_2D)):wg(S,10241,q),Og(S,q8),A&&R&&(R.width=Q,R.height=X),R},resetSharedTextureIndex:function(){this._sharedTextureIndex=0},textureAccessesByMaterial:function(V,R){var Q,X=this._sharedTextureIndex,b=this.getGL();return 0===X?Q=b._sharedTexture:(Q=b._sharedTexturePool[X-1])||(b._sharedTexturePool[X-1]=Q=ug(this,b)),(X=this.getTexture(V,R,N8,N8,Q))===Q&&this._sharedTextureIndex++,X},getTexture:function(V,R,Q,X,b){if(!V)return q8;var A=this,c=A.getGL(),f=A._2O[V];if(!(S=(f=!f&&qJ(V)&&V.uuid?A._2O[V.uuid]:f)?f[(s=R?R.s("texture.mipmap.max"):s)||""]||f.default:S)&&null===(S=A.getGLTextureFromLoader(V)))return c._emptyTexture;if(!S){if(!(f=U(V)))return c._emptyTexture;X=X?v.assign({},X):{},R&&(X.mipmapMaxLevel=s=R.s("texture.mipmap.max"),F=R.s("texture.wrap"),X.clampToEdge="clampToEdge"===F||"repeat"!==F&&N8,X.flipY=R.s("texture.flipY")),f.uuid||(f.uuid=I.Math.generateUUID());var S,F=l8(V)?V:f.uuid,D=f.texture;if(f.tagName||D){if(f.dynamic&&!(J=c._dynamicTexturePool[f.uuid])&&(J=c._dynamicTexturePool[f.uuid]=c.createTexture()),D){if(S=!(D=f.image)&&f.data?f:A.getTextureFromLoader(D))return(N=v.assign({},S,f)).image&&delete N.image,S=A.createTexture(N,J),f.dynamic||A.setTexture(F,S),S;if(null===S)return c._emptyTexture;if(!(N=U(D)))return c._emptyTexture;if(N.tagName){if(!Wf(N,R))return c._emptyTexture;S=A.createTexture(f,J)}else{if(!f.dynamic){if(c._renderInfo.textureCache.time>L8.graph3dMaxVectorCacheTime)return A.redraw(),c._emptyTexture;if(!Wf(N,R))return c._emptyTexture}S=A._getTextureFromSymbol(c,R,V,N,f,J,!f.dynamic)}s=""}else{if(!Wf(f,R))return c._emptyTexture;S=ug(A,c,f,J,X)}f.dynamic||A.setTexture(F,S,s)}else{var P,D=R&&(R.s("texture.cache")||R.s("shape3d.image.cache")||f.textureCache),N=A.getPresentingReality();if(N&&R&&(R._textureUpdateFrame===c._renderInfo.frame?D=!0:R._textureUpdateFrame=c._renderInfo.frame),D&&(S=(P=A.getData3dUI(R)).getCachedTexture(Q))&&P.interactiveInfo&&S.interactiveInfo&&(P.interactiveInfo[S.interactiveInfo.key]=S.interactiveInfo.info),!S){if(D){if(c._renderInfo.textureCache.time>L8.graph3dMaxVectorCacheTime)return A.redraw(),c._emptyTexture;if(!Wf(f,R))return c._emptyTexture}R&&(1!==R.s("texture.scale")?e=R.s("texture.scale"):1!==R.s("shape3d.texture.scale")&&(e=R.s("shape3d.texture.scale")));var q,L,e,e=e||1,J=R&&(R.s("fixSizeOnScreen")||R.s("shape3d.fixSizeOnScreen")),F=J?9728:9729;J?"number"==typeof J&&(e*=J<0?1:J):R&&(R.s("vector.dynamic")||R.s("shape3d.vector.dynamic"))&&(J=(P=P||A.getData3dUI(R)).getVectorDynamicSize());"billboard"===(s=R&&R.s("shape3d"))?q=R.getTall()/R.getWidth():"plane"===s&&(q=R.getHeight()/R.getWidth());var s=R&&R.s("texture.width"),s=q&&PJ(s)?s_(f,R,A,Math.min(4096,s)):s_(f,R),l=q?l_(f,R,A,Math.min(4096,s*q)):l_(f,R);J&&(L=A._devicePixelRatio||Kf,s=0<J[0]?J[0]:e*s,l=0<J[1]?J[1]:e*(q?l_(f,R,A,Math.min(4096,s*q)):l_(f,R)),e=L),X.scale=e,X.width=s,X.height=l,R?(X.minFilter=YE(R.s("texture.filter.min")||R.s("texture.filter"))||F,X.magFilter=YE(R.s("texture.filter.mag")||R.s("texture.filter"))||F):X.minFilter=X.magFilter=F,b=D||N?null:b||c._sharedTexture,S=A._getTextureFromSymbol(c,R,V,f,X,b,D||N),(D||N)&&(P=!P&&R?A.getData3dUI(R):P)&&P.setCachedTexture(S,Q)}}}return S},_getTextureFromSymbol:function(V,R,Q,X,b,A,c){X.uuid||(X.uuid=I.Math.generateUUID());var f,S,F,D,P,N=b.width||s_(X,R),q=b.height||l_(X,R),L=b.scale||1,e=L*N,J=L*q;return 1<=e&&1<=J&&(f=V._renderInfo.textureCache,S=0,c&&(S=Date.now()),F=this._glCapabilities.maxTextureSize,e=Math.min(e,F),J=Math.min(J,F),F=W2(e,J),1!==L&&F.scale(L,L),R&&(L=this.getData3dUI(R))&&L.interactiveInfo&&("object"==typeof(P=Q)&&(P=P.uuid||(P.uuid=I.Math.generateUUID())),D=L.interactiveInfo[P]={},F.interactiveInfo=D.bodyInfo={compInfos:[],matrix:new Rf,rect:{x:0,y:0,width:N,height:q}}),(Q=R&&R.setCurrentDrawingImage)&&R.setCurrentDrawingImage(X),H_(F,X,0,0,N,q,R,this),Q&&R.setCurrentDrawingImage(null),F.interactiveInfo&&(F.interactiveInfo=null),F.restore(),F=ug(this,V,h2,A,b),D&&(F.interactiveInfo={key:P,info:D}),f.count++,f.pixels+=e*J,c&&(f.time+=Date.now()-S)),F}}),(((R=k.EnvmapRenderer=function(V){this.gv=V,this._envmaps={},this._envmapHash={},this._probeCaptureTime={},this._envmapPoolCachedByImage=[],this._pingPongRenderTarget=null,this._equirectMaterial=null,this._blurMaterial=null,this._lastCaptureFrame=0,this._cubemapMaterial=null,this._envmapIntensity={}}).prototype={}).constructor=R).prototype.changeEnvmapType=function(V){if("legacy"===V){for(var R in this.setEnvmapByProbeId=this.setEnvmapLegacy,this.onBeforeRender=this.onBeforeRenderLegacy,this._envmaps)wn(this._envmaps,R,null);this._envmapHash={},this._probeCaptureTime={}}else this.setEnvmapByProbeId=this.setEnvmap,this.onBeforeRender=this.onBeforeRenderNew},R.prototype.invalidateEnvmap=function(V){var R=this.gv;"legacy"!==R.getEnvmapType()&&R.getGL()&&(V?(delete this._envmapHash[V],delete this._probeCaptureTime[V]):(this._envmapHash={},this._probeCaptureTime={}),R.iv())},R.prototype.dispose=function(){var V,R=this,Q=[R._pingPongRenderTarget,R._hdrDynamicComposeRTT];for(V in R._envmaps)Q.push(R._envmaps[V]);rg(R.gv,Q),R._envmaps={},R._envmapPoolCachedByImage=[],R._envmapHash={},R._pingPongRenderTarget=null,R._equirectMaterial=R._cubemapMaterial=R._blurMaterial=null,R._hdrDynamicComposeRTT=null,R._envmapLegacy=null,R._lastLegacyImage=null},R.prototype.onBeforeRenderLegacy=function(V){this.gv._picking||(this.assureTextureLegacy(V),this.assureEnvmapPoolForImage())},R.prototype.assureTextureLegacy=function(V){var R,Q,X=this.gv.getEnvmap();X!==this._lastLegacyImage&&(this._envmapLegacy&&(V.deleteTexture(this._envmapLegacy),this._envmapLegacy=null),X?(R=L8.getImage(X))&&R.tagName&&(R=L8.resizeImagePOT(R,!0),Q=this._envmapLegacy=V.createTexture(),V.activeTexture(33984),V.bindTexture(34067,Q),V.texParameteri(34067,10240,9729),V.texParameteri(34067,10241,9729),V.texImage2D(34069,0,6408,6408,5121,R),V.texImage2D(34070,0,6408,6408,5121,R),V.texImage2D(34071,0,6408,6408,5121,R),V.texImage2D(34072,0,6408,6408,5121,R),V.texImage2D(34073,0,6408,6408,5121,R),V.texImage2D(34074,0,6408,6408,5121,R),V.bindTexture(34067,V._emptyCubeTexture),this._lastLegacyImage=X):this._lastLegacyImage=X)},R.prototype.setEnvmapLegacy=function(V,R,Q){V.uEnvMap=this._envmapLegacy,V.envMapIntensity=Q},R.prototype.onBeforeRenderNew=function(V){this.gv._picking||(this.assureTextureNew(V),this.resetUniformCache(),this.assureEnvmapPoolForImage())},R.prototype.isHDR=function(V){return"string"==typeof V&&(V.indexOf(".hdr")===V.length-4||V.indexOf(".HDR")===V.length-4)},R.prototype.isDynamicImage=function(V){return V&&V.comps&&V.comps[0]&&"__ht_envmap_bg__"===V.comps[0].type},R.prototype.isImageReady=function(V){var R;if(this.isHDR(V))R=L8.getHdrTexture(V);else if(R=L8.getImage(V),this.isDynamicImage(R)&&!this.isImageReady(R.comps[0].image))return!1;return R},R.prototype.assureTextureNew=function(V){var R=this,Q=R.gv,X=Q.getEnvmap(),b=R._envmapHash,A=R._envmaps,c=R._envmapIntensity,V=V._renderInfo.frame;if(this._lastCaptureFrame>=V||Q._picking)for(f in X)F=X[f].intensity,c[f]=F==q8?1:F;else{for(var f in X){var S=X[f],F=S.intensity;switch(c[f]=F==q8?1:F,S.type){case"sphere":(l=S.image)!==b[f]&&(l?R.isImageReady(l)&&(b[f]=l,wn(A,f,R.fromEquirectangular(l))):(b[f]=l,wn(A,f,null)));break;case"cube":var D=S.texture;if(D!==N8)b[f]!==D&&(b[f]=D,wn(A,f,R.fromCubemap(D,S.encoding)));else{var P=S.images;if(P&&6===P.length){if((l=P.join(","))!==b[f]){for(var N=!0,q=!1,L=0;L<6;L++){if(!P[L]){q=!0;break}if(!L8.getImage(P[L])){N=!1;break}}q?(b[f]=l,wn(A,f,null)):N&&(b[f]=l,wn(A,f,R.fromCubemap(P)))}}else b[f]=N8,wn(A,f,null)}break;case"skybox":var e,J=Q.getSkybox(),s=!1;if(J){if("sphere"===(D=J.s("shape3d")))l=J._id+"_"+J.s("shape3d.image");else for(var l=J._id,L=0;L<6;L++)l+="_"+J.s(ty[L]+".image");if(l!==b[f]){if("sphere"===D)(e=J.s("shape3d.image"))==q8?s=!0:N=R.isImageReady(e);else for(N=!0,L=0;L<6;L++){if((e=J.s(ty[L]+".image"))==q8){s=!0;break}if(!L8.getImage(e)){N=!1;break}}s?(b[f]=l,wn(A,f,null)):N&&(b[f]=l,wn(A,f,R.fromSkybox()))}}else A[f]&&(b[f]=N8,wn(A,f,null));break;case"probe":var H,K,y=S.pos,t=S.size;(l=y[0]+"_"+y[1]+"_"+y[2]+"_"+t)!==b[f]&&(H=this._probeCaptureTime[l],K=Date.now(),H||(this._probeCaptureTime[l]=H=K),K-H>L8.envmapProbeMinWaitTime&&!Be&&!Sy||K-H>L8.envmapProbeMaxWaitTime?(delete this._probeCaptureTime[l],b[f]=l,wn(A,f,R.fromSceneProbe(y,t,S.filter))):Q.iv())}}v.keys(A).forEach(function(V){X[V]===N8&&(delete b[V],wn(A,V,null))})}},R.prototype.resetUniformCache=function(){this._frameUniformCache={}},R.prototype.setEnvmap=function(V,R,Q){var X=V.uuid,b=this._frameUniformCache,A=(A=this._envmaps[R])&&A.texture;b.hasOwnProperty(X)&&b[X]===A||(b[X]=A,V.uEnvMap=A),Q&&(Q*=this._envmapIntensity[R]||0),V.envMapIntensity=Q},R.prototype.assureEnvmapPoolForImage=function(){for(var V=this._envmapPoolCachedByImage,R=0,Q=V.length;R<Q;R++)V[R][0]&&!V[R][1]&&this.isImageReady(V[R][0])&&(V[R][1]=this.fromEquirectangular(V[R][0]))},R.prototype.assureEnvmapFromEquirectangular=function(V){for(var R,Q=this._envmapPoolCachedByImage,X=0,b=Q.length;X<b;X++)if(Q[X][0]===V)return(R=Q[X][1])?R.texture:null;return Q.push([V,null]),this.gv.iv(),null},R.prototype.invalidateEnvmapUsedByMaterial=function(V){if(V)for(var R=this._envmapPoolCachedByImage,Q=0,X=R.length;Q<X;Q++)R[Q][0]===V&&(R[Q][1]=null);else this._envmapPoolCachedByImage=[];this.gv.iv()},R.prototype.isEnvmapUsedByMaterialReady=function(V){for(var R=this._envmapPoolCachedByImage,Q=V==q8,X=0,b=R.length;X<b;X++)if(Q){if(!R[X][1])return!1}else if(R[X][0]===V)return!!R[X][1];return Q},R.prototype.fromEquirectangular=function(V){var R,Q,X,b,A,c=this.isHDR(V)?(R=I.Default.getHdrTexture(V),"linear"):this.isDynamicImage(V)&&this.isHDR(V.comps[0].image)?(b=(Q=V.comps[0]).image,Q.image=null,X=this.gv.getTexture(V),Q.image=b,b=this.gv.getTexture(b),A=(A=this._hdrDynamicComposeRTT)||(this._hdrDynamicComposeRTT=this._allocateTargets()),c=V.width,this.gv.renderModel(A,c,V.height,{type:"envmapDynamicCompose",offset:Q.offset?(Q.offset%1+1)%1:0,texture1:b,texture2:X}),A=A.texture,R=V,"linear"):(R=I.Default.getImage(V),"sRGB");return R?(this.rectSize=[1/R.width,1/R.height],V=A||this.gv.getTexture(V),this.fromTexture(V,null,c)):null},R.prototype.fromCubemap=function(V,R){if(R=R||"sRGB",x1(V))return this.fromTexture(V,!0,R);for(var Q=this.gv.getGL(),X=Q.createTexture(),b=(Q.activeTexture(33984),Q.bindTexture(34067,X),Q.texParameteri(34067,10240,9729),Q.texParameteri(34067,10241,9729),[]),A=ri/3,c=0;c<6;c++)b[c]=L8.resizeImage(I.Default.getImage(V[c]),A);return Q.texImage2D(34069,0,6408,6408,5121,b[0]),Q.texImage2D(34070,0,6408,6408,5121,b[1]),Q.texImage2D(34071,0,6408,6408,5121,b[2]),Q.texImage2D(34072,0,6408,6408,5121,b[3]),Q.texImage2D(34073,0,6408,6408,5121,b[4]),Q.texImage2D(34074,0,6408,6408,5121,b[5]),Q.bindTexture(34067,Q._emptyCubeTexture),this.fromTexture(X,!0,R)},R.prototype.fromTexture=function(V,R,Q){var X=this._allocateTargets(),b=(this._pingPongRenderTarget||(this._pingPongRenderTarget=this._allocateTargets()),this.gv),A=b.getGL(),c=t8.for(A).directState(),f=c.depth.enabled,S=(c.scissor.enabled=!0,c.depth.enabled=!1,b.getViewport(A));return this._textureToCubeUV(V,X,R,Q),this._applyPMREM(X),b.setViewport(A,S[0],S[1],S[2],S[3]),c.depth.enabled=f,c.scissor.enabled=!1,X},R.prototype.fromSkybox=function(){return this._fromCamera(function(V){V.s({"camera.onlySky":!0,"camera.skybox.blur":!1})})},R.prototype.fromScene=function(R){return this._fromCamera(function(V){V.s({"camera.onlySky":!1}),R&&R(V)})},R.prototype.fromNode=function(V){var R,Q=this.gv.getData3dUI(V),X=Q._42,b=(Q._42=pe,this.gv.getSkybox()),A=V.p3(),V=(b&&(R=b.p3(),b.p3(A)),this.fromScene(function(V){V.p3(A)}));return Q._42=X,b&&b.p3(R),V},R.prototype.fromSceneProbe=function(R,Q,X){var V,b,A=this.gv,c=A.getSkybox(),f=(c&&(V=c.p3(),c.p3(R)),X&&(b=A.isVisible,A.isVisible=function(V){var R=X(V);return R!==N8?R:b.call(A,V)}),this.fromScene(function(V){V.p3(R),V.s("camera.near",Q)}));return X&&(A.isVisible=b),c&&c.p3(V),f},R.prototype._fromCamera=function(V){var R=this.gv,Q=R.getCamera(),V=(V&&V(Q),new wp(R,ri,ri,{cube:!0})),X=R.getGL(),b=R.getViewport(X),A=this.setEnvmapByProbeId,c=this.onBeforeRender,Q=(this.setEnvmapByProbeId=function(V){V.envMap=X._emptyTexture},this.onBeforeRender=pe,Q.attachRenderTarget(V),Q.render(R),Q.detachRenderTarget(),this.setEnvmapByProbeId=A,this.onBeforeRender=c,R.setViewport(X,b[0],b[1],b[2],b[3]),this.fromTexture(V.texture,!0,"sRGB"));return V.releaseTexture(),Q},R.prototype._allocateTargets=function(V){return new wp(this.gv,3*oi,3*oi,{textureType:5131})},R.prototype._textureToCubeUV=function(V,R,Q,X){var b,A,c=this,f=c.gv,S="sRGB"===X?"USE_SRGB":"USE_LINEAR",S=(Q?(null==c._cubemapMaterial&&(c._cubemapMaterial={}),null==(b=c._cubemapMaterial[S])&&((A={})[S]=!0,c._cubemapMaterial[S]=b={type:"envmapCubemap",internalDefines:!1,defines:A})):(null==c._equirectMaterial&&(c._equirectMaterial={}),null==(b=c._equirectMaterial[S])&&((A={})[S]=!0,c._equirectMaterial[S]=b={type:"envmapEquirect",internalDefines:!1,defines:A})),b.envMap=V,Q||(b.texelSize=c.rectSize),ii[0]);f.renderModel(R,{model3d:!0,mesh:S,mat:b,encoding:"linear"===X?1:0},{restoreViewport:!1,preRender:function(){c._setViewport(R,0,0,3*oi,2*oi)}})},R.prototype._applyPMREM=function(V){for(var R,Q,X=1;X<Oi;X++)R=Math.sqrt(Mi[X]*Mi[X]-Mi[X-1]*Mi[X-1]),Q=ai[(X-1)%ai.length],this._blur(V,X-1,X,R,Q)},R.prototype._setViewport=function(V,R,Q,X,b){var A=this.gv;A.setViewport(A.getGL(),R,Q,X,b),A.getRenderState().directState().scissor.box=[R,Q,X,b]},R.prototype._blur=function(V,R,Q,X,b){var A=this._pingPongRenderTarget;this._halfBlur(V,A,R,Q,X,"latitudinal",b),this._halfBlur(A,V,Q,Q,X,"longitudinal",b)},R.prototype._halfBlur=function(V,R,Q,X,b,A,c){var f=this,S=f.gv,F=f._blurMaterial;if("latitudinal"===A||"longitudinal"===A){F||(f._blurMaterial=F={type:"envmapBlur",internalDefines:!1,defines:{n:wi}});for(var D,P=ni[Q]-1,N=b/(P=isFinite(b)?Math.PI/(2*P):2*Math.PI/(2*wi-1)),q=isFinite(b)?1+Math.floor(3*N):wi,L=[],e=0,J=0;J<wi;++J)l=J/N,D=Math.exp(-l*l/2),L.push(D),0==J?e+=D:J<q&&(e+=2*D);for(J=0;J<L.length;J++)L[J]=L[J]/e;F.envMap=V.texture,F.samples=q,F.weights=L,F.latitudinal="latitudinal"===A,c&&(F.poleAxis=c),F.dTheta=P,F.mipInt=ui-Q;var s=ni[X],l=3*Math.max(0,oi-2*s),H=(0===X?0:2*oi)+2*s*(ui-Yi<X?X-ui+Yi:0),b=ii[X];S.renderModel(R,{model3d:!0,mesh:b,mat:F},{restoreViewport:!1,preRender:function(V){f._setViewport(R,l,H,3*s,2*s)}})}},Yi=4,ui=8,oi=Math.pow(2,ui),Oi=ui-Yi+1+(_i=[.125,.215,.35,.446,.526,.582]).length,wi=20,j8=1/(R=(1+Math.sqrt(5))/2),ai=[new K8(1,1,1),new K8(-1,1,1),new K8(1,1,-1),new K8(-1,1,-1),new K8(0,R,j8),new K8(0,R,-j8),new K8(j8,0,R),new K8(-j8,0,R),new K8(R,j8,0),new K8(-R,j8,0)],R=function(){for(var V=[],R=[],Q=[],X=ui,b=0;b<Oi;b++){var A=Math.pow(2,X),c=(R.push(A),1/A);ui-Yi<b?c=_i[b-ui+Yi-1]:0==b&&(c=0),Q.push(c);for(var f=-(c=1/(A-1))/2,S=1+c/2,F=[],D=[],P=[],N=0;N<6;N++){var q=N%3*2/3-1,L=2<N?0:-1;F.push(q,L,0,q+2/3,L,0,q+2/3,1+L,0,q,L,0,q+2/3,1+L,0,q,1+L,0),D.push(f,f,S,f,S,S,f,f,S,S,f,S),P.push(N,N,N,N,N,N)}V.push({position:new Ms(F),uv:new Ms(D),faceIndex:new Ms(P)}),Yi<X&&X--}return{_lodPlanes:V,_sizeLods:R,_sigmas:Q}}(),ii=R._lodPlanes,ni=R._sizeLods,Mi=R._sigmas,ri=L8.EnvmapTextureSize,L8.setCompType("__ht_envmap_bg__",function(V,R,Q,X,b){var A,c,f,S=Q.image;(S=S&&L8.getImage(S))&&(A=R.x,c=R.y,f=R.width,R=R.height,0!=(Q=((Q.offset||0)%1+1)%1*f|0)&&(V.save(),V.beginPath(),V.rect(A,c,f,R),V.clip(),V.translate(Q,0),L8.drawImage(V,S,A-f,c,f,R,X,b)),L8.drawImage(V,S,A,c,f,R,X,b),0!=Q&&V.restore())}),["left","front","right","back","top","bottom"]),_p=k._RenderList=function(w){var a=[],i=[],n={},M={},r={},E={},$={},j={},C={},v={};return{opaque:a,transparent:i,init:function(){for(var V in a.length=0,i.length=0,C={},v)v[V].length=0},push:function(V,R){if(R){var Q,X,b,A,c=V,f=c.gv,S=c.data,F=c.shapeModel;if(F)if(S.s("static")&&(J=!0),F.model3d)e=Q=X=!0;else{(q=S.s("shape3d.top.material"))&&(sE(q)?X=!0:Q=!0),(q=S.s("shape3d.bottom.material"))&&(sE(q)?X=!0:Q=!0),(q=S.s("shape3d.from.material"))&&(sE(q)?X=!0:Q=!0),(q=S.s("shape3d.to.material"))&&(sE(q)?X=!0:Q=!0),(q=S.s("shape3d.material"))&&(sE(q)?X=!0:Q=!0);var D,P,N=S.s("shape3d.transparent")||S.s("points.transparent");for(H8(F)||(D=p(F.transparent,S,f),F=[F]),b=0,A=F.length;b<A;b++)P=F[b],(P=(P=(P=p(P.transparent,S,f))===N8?D:P)===N8?N:P)?X=!0:Q=!0}for(b=0,A=op.length;b<A;b++){var q,L=c[op[b]];L&&((q=f.getFaceMaterial(S,op[b]))?sE(q)?X=!0:Q=!0:L.transparent?X=!0:Q=!0)}var R=!1,e=(f.isLabelVisible(S)&&(c.labelInfo&&(R=!0,S.s($R+".transparent")?X=!0:Q=!0),c.label2Info&&(R=!0,S.s(jR+".transparent")?X=!0:Q=!0)),f.isNoteVisible(S)&&(c.noteInfo&&(R=!0,S.s(CR+".transparent")?X=!0:Q=!0),c.note2Info&&(R=!0,S.s(vR+".transparent")?X=!0:Q=!0)),{opaque:Q=!(X=c._38o?Q=R=!0:X)||Q,transparent:X,model3d:e,staticModel3d:J});R&&S instanceof qu&&(e.blockRenderable=!0),c._renderParams=e}var J=V.data,R=J._id;if((e=C[R])!==N8)return e;e=V._renderParams;if(!e||!1===e.visible||J instanceof qu&&!e.blockRenderable)return C[R]=!1;if(C[R]=!0,J.isAnimationPlaying()&&(V.shapeModel&&w.updateSkeleton(J,V.shapeModel),J.isAnimationPaused()||w.iv()),V={ui:V,model3d:e.model3d,data:J,z:0,id:R},w._glCapabilities&&w._glCapabilities.instancedArray&&e.staticModel3d&&V.ui.mat&&w.isVisible(J)&&J.s(MA)){var s,l=w.shadowMap.enable,H=w.getStaticInstancingKey(J,!0),K=v[H],y=0!==(H=(K=K||(v[H]={ms:[],ds:[],cs:[],highlightColors:[],length:0,msVersion:0,shadowVersion:0,csVersion:0,highlightVersion:0,shadow:[],cache:{version:-1,length:-1,id:-1,buffer:null},cacheShadow:{version:-1,length:-1,id:-1,buffer:null},cachePick:{version:-1,length:-1,buffer:null},cacheHighlight:{version:-1,length:-1,buffer:null}})).length),t=!1,g=V.ui._finalMat;L8.extractBatchTranslation?((s=K.msTranslation)||(K.msTranslation=s=js()),y||(s[12]=g[12],s[13]=g[13],s[14]=g[14])):K.msTranslation&&delete K.msTranslation;for(var m=16*H,z=0,Y=K.ms;z<16;z++){var u=g[z];s&&12<=z&&z<=14&&(u-=s[z]),Y[m+z]!=u&&(t=!0,Y[m+z]=u)}t&&(K.msVersion=K.msVersion+1),K.ds[H]=R,l&&(l=J.s("shadow.cast"),!t&&K.shadow[H]===l||(K.shadow[H]=l,K.shadowVersion=K.shadowVersion+1));for(var o=fE(null,w.pickColorMap,w.isSelectable(J),V.ui,ER,!0),t=!1,_=4*H,z=0,O=K.cs;z<4;z++)O[_+z]!==o[z]&&(t=!0,O[_+z]=o[z]);if(t&&(K.csVersion=K.csVersion+1),K.length++,y)return o&&(WE(o,M[R],n),WE(o,E[R],r),WE(o,j[R],$)),!0}return e.opaque&&a.push(V),e.transparent&&i.push(V),!0},getModel3dInstancedBatchMap:function(){return v},resetModel3dInstancedDraw:function(){for(var V in v)v[V].rendered=null},batchModelMap:n,batchIndexMap:M,polylineModelMap:r,polylineIndexMap:E,wireframeModelMap:$,wireframeIndexMap:j,beginFillHighlightMaskColor:function(V){var R,Q=w.dm();for(R in v){var X=v[R],b=X.ds;if(b&&X.length){for(var A=X.highlightColors,c=!1,f=!1,S=0,F=X.length;S<F;S++)for(var D,P=V(D=Q.getDataById(b[S]),!0)?[0,0,0,0]:(f=!0,w.getHighlightPickColor(D)),N=4*S,q=0;q<4;q++)A[N+q]!==P[q]&&(c=!0,A[N+q]=P[q]);c&&(X.highlightVersion=X.highlightVersion+1),X._csBackup=[X.cs,X.csVersion,X.cachePick],X.cs=X.highlightColors,X.csVersion=X.highlightVersion,X.cachePick=X.cacheHighlight,X._highlightInvalid=!f}}},endFillHighlightMaskColor:function(){for(var V in v){var R=(V=v[V])._csBackup;R&&(V.cachePick=R[2],V.csVersion=R[1],V.cs=R[0],V._csBackup=N8,V._highlightInvalid=N8)}},ivBatch:function(V){V?(jE(n,M,V,w),jE(r,E,V,w),jE($,j,V,w)):(n=this.batchModelMap={},M=this.batchIndexMap={},r=this.polylineModelMap={},E=this.polylineIndexMap={},$=this.wireframeModelMap={},j=this.wireframeIndexMap={}),this.markBatchInvalid()},ivModelBatch:function(V){V?jE(n,M,V,w):(n=this.batchModelMap={},M=this.batchIndexMap={}),this.markBatchInvalid()},ivPolylineBatch:function(V){V?jE(r,E,V,w):(r=this.polylineModelMap={},E=this.polylineIndexMap={}),this.markBatchInvalid()},ivWireframeBatch:function(V){V?jE($,j,V,w):($=this.wireframeModelMap={},j=this.wireframeIndexMap={}),this.markBatchInvalid()},markBatchInvalid:function(){this._batchInvalid=!0},isBatchInvalid:function(){return this._batchInvalid},onUpdated:function(){this._batchInvalid=null},sort:function(V,R,Q){var X=1<i.length;if(Q=Q&&1<a.length,X||Q){for(var b,A,c,f,S=R[2],F=R[6],D=R[10],P=R[14],N=R[3],q=R[7],L=R[11],e=R[15],J=0;J<2;J++){if(0===J){if(!Q)continue;f=a}else{if(!X)continue;f=i}for(var s=0,l=f.length;s<l;s++)(c=(A=f[s].data)._position)?(b=c.x,A=A._54O,c=c.y,f[s].z=(S*b+F*A+D*c+P)/(N*b+q*A+L*c+e)):f[s].z=0}Q&&a.sort(function(V,R){var Q=V.model3d;return Q!==R.model3d?Q?1:-1:V.z!==R.z?V.z-R.z:V.id-R.id}),X&&i.sort(V||an)}}}},Op=k._RenderLists=function(X){var b={};function Q(V,R){var Q=b[V=V||"main"];return!Q&&R?b[V]=new _p(X):Q}return{init:function(){for(var V in b)b[V].init()},onUpdated:function(){for(var V in b)b[V].onUpdated()},get:Q,push:function(V,R){return Q(V.data.getRenderLayer(),!0).push(V,R)},each:function(V){for(var R in b)V(b[R])},lists:b}},wp=k.RenderTarget=function(V,R,Q,X){var b,A=this,c=(null!=R&&R.canvas?(b=R,R=Q,Q=X,X=arguments[4]):b=V.getGL(),(X=X||{}).cube,X.multiple);if(c&&1<c&&V.isWebGL2()&&!X.cube?(A.textures=[],A.multiple=c):c=0,X.cube||c?X.samples=0:X.samples=Math.min(V._glCapabilities.maxSamples,X.samples&&1<X.samples&&V.isWebGL2()?X.samples:0),A.options=X,A.uuid=I.Math.generateUUID(),A.gv=V,A.init(V,b,X),c){var f,S,F=X.format,D=X.textureType;H8(F)||(f=F,F=[]),H8(D)||(S=D,D=[]);for(var P=0;P<c;P++)F[P]=F[P]||f||6408,D[P]=zp(V,D[P]||S);A.format=F,A.textureType=D}else A.format=[X.format||6408],A.textureType=[zp(V,X.textureType)];A.generateMipmaps=!!X.generateMipmaps,A.depthInternalFormat=X.depthFormat||33189,X.samples&&!V._glCapabilities._maxSamplesChecked?A.setSize(b,R||1,Q||1):A.setSize(b,R,Q)},B8=(v.assign(k.RenderTarget.prototype,{isRenderTarget:!0,bind:function(V,R){var Q,X,b,A=this.options;if(A.autoSize&&(Q=(b=this.gv).getDevicePixelRatio(),X=b.getWidth()*Q,b=b.getHeight()*Q,this.setSize(V,X,b)),A.cube?B1(V,this.frame[R]):B1(V,this.options.samples?this._MSAAFbo:this.frame),this.multiple){for(var c=[],f=0;f<this.multiple;f++)c.push(36064+f);V.drawBuffers(c)}V._renderTargetStack.push(this)},unbind:function(V){V._renderTargetStack.pop(),G1(V),this.options.samples&&(V.bindFramebuffer(36008,this._MSAAFbo),V.bindFramebuffer(36009,this.frame),V.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,16384,9728),V.bindFramebuffer(36008,null),V.bindFramebuffer(36009,null))},isBinding:function(V){if(!(V=V.frameStack)||!V.length)return!1;var R=V[V.length-1];if(this.options.cube){for(var Q=0;Q<6;Q++)if(this.frame[Q]===R)return!0;return!1}return R===(this.options.samples?this._MSAAFbo:this.frame)},grabDepth:function(V){var R=this,Q=this.gv.getGL();if(!Q)return null;var X,b,A,c=R.options,f=c.samples;if(V&&!f)return R.depth;var S=R.depthInternalFormat,F=R.width,D=R.height;return V?(b=(X=(X=Q._grabDepthRboFrame)?X:Q._grabDepthRboFrame={frame:Q.createFramebuffer()}).depthRbo)||(b=X.depthRbo=Q.createRenderbuffer()):(A=(X=(X=Q._grabDepthTextureFrame)?X:Q._grabDepthTextureFrame={frame:Q.createFramebuffer()}).depthTexture)||(A=X.depthTexture=R.gv.createTexture({empty:!0,wrapS:c.wrapS||33071,wrapT:c.wrapT||33071,filter:9728})),X.width===F&&X.height===D&&X.format===S||(B1(Q,X.frame),V?(Q.bindRenderbuffer(36161,b),Q.renderbufferStorage(36161,S,F,D),Q.framebufferRenderbuffer(36160,36096,36161,b),Q.bindRenderbuffer(36161,null)):(Q.activeTexture(33984),Og(Q,A),Q.texImage2D(3553,0,S,F,D,0,6402,36012===S?5126:33190===S?5125:5123,null),Q.framebufferTexture2D(36160,36096,3553,A,0),Og(Q,null),A._internalFormat=S),G1(Q),X.width=F,X.height=D,X.format=S),B1(Q,null),Q.bindFramebuffer(36008,f?this._MSAAFbo:this.frame),Q.bindFramebuffer(36009,X.frame),Q.blitFramebuffer(0,0,R.width,R.height,0,0,R.width,R.height,256,9728),Q.bindFramebuffer(36008,null),Q.bindFramebuffer(36009,null),G1(Q),V?b:A},isCube:function(){return this.options.cube},init:function(V,R,Q){for(var X=this,b=Q.samples,A=Q.cube,c=X.multiple,f=c||1,S=0;S<f;S++){var F=R.createTexture(),D=A?34067:3553,P=(R.activeTexture(33984),R.bindTexture(D,F),R.texParameteri(D,10242,Q.wrapS||33071),R.texParameteri(D,10243,Q.wrapT||33071),b?9728:9729);R.texParameteri(D,10241,Q.minFilter||P),R.texParameteri(D,10240,Q.magFilter||P),R.bindTexture(D,null),0==S&&(X.texture=F),c&&(X.textures[S]=F)}if(A)for(X.depth=[],X.frame=[],S=0;S<6;S++)X.depth[S]=R.createRenderbuffer(),X.frame[S]=R.createFramebuffer();else X.depth=R.createRenderbuffer(),X.frame=R.createFramebuffer();X.assureTexture()},assureTexture:function(){var V=this.uuid,R=(this.gv.setTexture(V,this.texture,"default"),I.Default.setImage(V,null),this.multiple);if(R)for(var Q=0;Q<R;Q++){var X=V+Q;this.gv.setTexture(X,this.textures[Q],"default"),I.Default.setImage(X,null)}},releaseTexture:function(){return this.release()},release:function(){var V=this,R=V.gv.getGL(),Q=V.uuid,X=(V.gv.deleteTexture(Q),V.multiple);if(X)for(var b=0;b<X;b++)V.gv.deleteTexture(Q+b);if(V.options.cube)for(b=0;b<6;b++)R.deleteRenderbuffer(V.depth[b]),R.deleteFramebuffer(V.frame[b]);else R.deleteRenderbuffer(V.depth),R.deleteFramebuffer(V.frame),V._MSAAFbo&&(R.deleteRenderbuffer(V._MSAARbO),R.deleteFramebuffer(V._MSAAFbo))},getUUID:function(){return this.uuid},getTexture:function(V){return this.multiple?this.textures[V]:this.texture},getSize:function(){return[this.width,this.height]},setSize:function(V,R,Q){var X=this;if(R=Math.round(R),Q=Math.round(Q),R&&Q&&(X.width!==R||X.height!==Q)){X.width=R,X.height=Q;var b=36161,A=X.options.samples,c=X.options.cube,f=c?34067:3553;if(A){var S=X.gv._glCapabilities;if(!S._maxSamplesChecked){for(V.bindRenderbuffer(b,X.depth),V.getError();1<A&&(V.renderbufferStorageMultisample(b,A,X.depthInternalFormat,R,Q),V.getError());)A=Math.floor(A>>1);A<=1&&(A=0,V.texParameteri(f,10241,X.options.minFilter||9729),V.texParameteri(f,10240,X.options.magFilter||9729),V.renderbufferStorage(b,X.depthInternalFormat,R,Q)),S._maxSamplesChecked=!0,S.maxSamples=X.options.samples=A,V.bindRenderbuffer(b,q8)}}A&&(X._MSAAFbo||(X._MSAAFbo=V.createFramebuffer(),X._MSAARbO=V.createRenderbuffer()),V.bindRenderbuffer(b,X._MSAARbO),V.renderbufferStorageMultisample(36161,A,32856,R,Q),B1(V,X._MSAAFbo),V.framebufferRenderbuffer(36160,36064,b,X._MSAARbO),V.framebufferRenderbuffer(36160,36096,b,X.depth),G1(V),V.bindRenderbuffer(b,null));for(var F=X.multiple||1,D=0;D<F;D++){var P,N=X.getTexture(D);if(V.activeTexture(33984+D),V.bindTexture(f,N),c)for(var q=0;q<6;q++)X.setupFrameBufferTextureAndDepth(V,X.frame[q],N,X.depth[q],34069+q,D);else X.setupFrameBufferTextureAndDepth(V,X.frame,N,X.depth,3553,D);X.generateMipmaps&&(X.gv.isWebGL2()||B.isPOT(R)&&B.isPOT(Q))&&(V.generateMipmap(f),P=X.options.minFilter||(A?9728:9729),V.texParameteri(f,10241,9728===P?9984:9987)),V.bindTexture(f,null)}}},updateTextureData:function(V,R){R=R||0;var Q,X=this.gv.getGL();X&&(Q=this.options.cube?34067:3553,this._updateTextureDataImpl(X,Q,!0,V,R))},_updateTextureDataImpl:function(V,R,Q,X,b){var A,c=this.format[b],f=this.textureType[b];Q&&(A=this.getTexture(b),V.activeTexture(33984+b),V.bindTexture(R,A)),V.texImage2D(R,0,Yp(this.gv,c,f),this.width,this.height,0,c,f,X||null),Q&&V.bindTexture(R,null)},setupFrameBufferTextureAndDepth:function(V,R,Q,X,b,A){var c;(c=this.options.data)&&(this.options.data=null),this._updateTextureDataImpl(V,b,!1,c,A),B1(V,R),V.framebufferTexture2D(36160,36064+A,b,Q,0),0===A&&this.setupRenderBufferStorage(V,X),G1(V)},setupRenderBufferStorage:function(V,R){V.bindRenderbuffer(36161,R);var Q=this.options.samples;Q?V.renderbufferStorageMultisample(36161,Q,this.depthInternalFormat,this.width,this.height):(V.renderbufferStorage(36161,this.depthInternalFormat,this.width,this.height),V.framebufferRenderbuffer(36160,36096,36161,R)),V.bindRenderbuffer(36161,null)},readPixels:function(V,R,Q,X,b,A){var c=this.gv.getGL();B1(c,this.frame),A=5121===this.textureType[A||0]?(b=b||new Uint8Array(4*Q*X),5121):(b=b||new Float32Array(4*Q*X),5126);try{c.readPixels(V,R,Q,X,6408,A,b)}finally{G1(c)}return b},readPixelsAsync:function(V,R,Q,X,b,A,c){if(!this.gv.isWebGL2())throw new Error("readPixelsAsync only work on WebGL2");var f,S,F,D,P,N=this.gv.getGL();B1(N,this.frame),c=5121===this.textureType[c||0]?(b=b||new Uint8Array(4*Q*X),5121):(b=b||new Float32Array(4*Q*X),5126);try{var q=_g(N),L=(N.bindBuffer(35051,q),N.bufferData(35051,b.byteLength,35041),N.readPixels(V,R,Q,X,6408,c,0),N.bindBuffer(35051,null),N.fenceSync(37143,0));N.flush()}finally{G1(N)}f=N,S=L,F=0,D=10,P=function(V){N.deleteSync(L),V&&(N.bindBuffer(35051,q),N.getBufferSubData(35051,0,b),N.bindBuffer(35051,null)),N.deleteBuffer(q),A(V?b:null)},function V(){var R=f.clientWaitSync(S,F,0);37149==R?P(!1):37147==R?W8(V,D):P(!0)}()},toCanvas:function(V,R){var Q,X=this.width,b=this.height,A=this.readPixels(0,0,X,b),c=((R=R||q.createElement("canvas")).width!==X&&(R.width=X),R.height!==b&&(R.height=b),(Q=V?((Ei=Ei||q.createElement("canvas")).width!==X&&(Ei.width=X),Ei.height!==b&&(Ei.height=b),Ei.getContext("2d")):R.getContext("2d")).createImageData(X,b));if(A instanceof Float32Array){for(var f=A.byteLength/A.BYTES_PER_ELEMENT,S=new Uint8Array(f);0<=--f;){var F=A[f];F<0?F=0:1<F&&(F=1),S[f]=255*F}A=S}return c.data.set(A),Q.putImageData(c,0,0),V&&(Q=R.getContext("2d"),pf(Q,{width:X,height:b,comps:[{scaleY:-1,type:"image",name:Ei,rect:[0,0,X,b]}]},N8,0,0,X,b)),R}}),k.Interactor=function(V){this.gv=this.g3d=V}),ap=(V("Interactor",v,{ms_listener:1,getView:function(){return this.gv.getView()},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners()},fi:function(V){this.gv.fi(V)},startDragging:function(V){ms(this,V)}}),k.DefaultInteractor=function(V){oJ(ap,this,[V])}),ip=(V("DefaultInteractor",B8,{getState:function(){return this._62O},setState:function(V){this._62O=V},handle_contextmenu:function(V){Tf(V)},handle_mousewheel:function(V){this.gv.handleScroll(V,V.wheelDelta/40)},handle_DOMMouseScroll:function(V){2===V.axis&&this.gv.handleScroll(V,-V.detail)},handle_keydown:function(V){this.gv.handleKeyDown(V)},handle_mousedown:function(V){this.handle_touchstart(V)},handle_touchstart:function(V){Tf(V);var R=this,Q=R.gv,X=bs(V),b=(A=Q.getDataInfoDuringInteract(V))?A.data:q8,A=A?A.part:q8,c=Q.sm(),f=z2(V),S=fs(V);Q.setFocus(V)&&(R._62O=q8,R._57I=q8,R.pendingClickThrough=q8,R.__lastClientPoint__=Ps(V),b?Ds(V)?c.co(b)?c.rs(b):c.as(b):c.co(b)?b instanceof qu&&b.isClickThroughEnabled()&&bs(V)&&(R.pendingClickThrough=Ps(V)):c.ss(b):X&&(Ds(V)?Q.isRectSelectable()&&(R._62O=XA):R._57I=Ps(V)),R._31Q&&(kf(R._31Q),delete R._31Q,delete R._32Q),R._62O||(Q.isFirstPersonMode()&&(Fs(V)||As(V)||2<S?R._62O="pan":Q.isMouseRoamable()||l2(V)?(R._62O="roaming",R.foward=f&&bs(V),R._32Q=XJ(),R._31Q=Zf(R.tick,R)):X||(R._62O="roaming")),R._62O||(X&&f&&kp[A]?(R._62O=A,R.p3=b.p3()):X&&f&&r(b)&&Q.isSelected(b)?Q.isMovable(b)?(R._62O="move",R.p3=b.p3(),R.movedata=b):Q._39Q(b)&&(R._62O="none"):l2(V)&&(2<S?R._62O="pan":2===S&&(R.dist=K4(V),R._62O="pinch")))),R.point=Q.lp(V),ms(R,V),Ss(V)?Q.handleDoubleClick(V,b,A):Q.handleClick(V,b,A))},tick:function(){var V=this.gv,R=V._moveStep;this.point&&V.isWalkable()&&(this._32Q&&(R*=(XJ()-this._32Q)/50),V.walk(this.foward?R:-R),this._32Q=XJ(),this._31Q=Zf(this.tick,this))},handle_mouseup:function(V){this.handle_touchend(V)},handle_touchend:function(V){var R=this._57I;R&&(qs(R,Ps(V))<=1&&this.gv.sm().cs(),this._57I=q8),(R=this.pendingClickThrough)&&(qs(R,Ps(V))<=1&&(R=this.gv.getDataInfoDuringInteract(V))&&R.data instanceof qu&&R.data.isClickThroughEnabled()&&(R=this.gv.getDataInfoDuringInteract(V,!0))&&(V.clickThrough=!0,this.gv.sm().ss(R.data)),this.pendingClickThrough=null)},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)},handleWindowTouchMove:function(R){var Q,X,V=this,b=V.gv,A=V._62O,c=V.point,f=b.dm(),S=b.lp(R),F=S.x-c.x,D=S.y-c.y,P=b.getWidth(),N=b.getHeight();if(P&&N){var q=Ps(R),q=Aq(b,q,V.__lastClientPoint__),q=qs({x:0,y:0},q),L=-s8*F/P,e=-s8*D/N;if("roaming"===A)V.rotate(R,L/2,e/2);else if(A===Tp||A===Wp||A===Up)b._86O||f.beginTransaction(),b.fi({kind:b._86O?"betweenEditRotation":"beginEditRotation",event:R}),b._86O=1,b.sm().each(function(V){var R;r(V)&&b.isRotationEditable(V)&&(R=w8(L)>w8(e)?L:e,A===Tp?V.setRotationX(V.getRotationX()+R):A===Wp?V.setRotationY(V.getRotationY()+R):A===Up&&V.setRotationZ(V.getRotationZ()+R))});else if("move"===A||kp[A]){if(A===pp||A===Ip||A===Zp)b._87O||f.beginTransaction(),b.fi({kind:b._87O?"betweenEditScale":"beginEditScale",event:R}),b._87O=1;else{if(!b._moving){if(q<L8.touchMoveThreshold)return;f.beginTransaction()}b.fi({kind:b._moving?"betweenMove":"beginMove",event:R}),b._moving=1}var J,s,q=V.p3,f=b.getPositionInfo(q),l=mg(b),H=A===Cp?"x":A===vp?"y":A===hp?"z":A===pp?"sx":A===Ip?"sy":A===Zp?"sz":b.getMoveMode(R,V.movedata),F=F/P*f.width,D=-1*D/N*f.height,P=[l[0]*F,l[4]*F,l[8]*F],N=[l[1]*D,l[5]*D,l[9]*D],f=P[0]+N[0],l=P[1]+N[1],P=P[2]+N[2],N=[q[0]+f,q[1]+l,q[2]+P],K=rs(b.getEye(),N,!0);if("xyz"===H?(J=N,b.moveSelection(f,l,P)):"xz"===H?(J=Pg(b,q,[0,1,0],N))&&b.moveSelection(J[0]-q[0],0,J[2]-q[2]):"xy"===H?(J=Pg(b,q,[0,0,1],N))&&b.moveSelection(J[0]-q[0],J[1]-q[1],0):"yz"===H?(J=Pg(b,q,[1,0,0],N))&&b.moveSelection(0,J[1]-q[1],J[2]-q[2]):"x"===H||"sx"===H?(K[0]=0,(J=Pg(b,q,K,N))&&(s=J[0]-q[0],"x"===H?b.moveSelection(s,0,0):b.sm().each(function(V){r(V)&&b.isSizeEditable(V)&&(Q=V.getScaleX()+s/100,X=Q/V.getScaleX(),V.setScaleX(Q),Fs(R)&&(V.setScaleY(V.getScaleY()*X),V.setScaleTall(V.getScaleTall()*X)))}))):"y"===H||"sy"===H?(K[1]=0,(J=Pg(b,q,K,N))&&(s=J[1]-q[1],"y"===H?b.moveSelection(0,s,0):b.sm().each(function(V){r(V)&&b.isSizeEditable(V)&&(Q=V.getScaleTall()+s/100,X=Q/V.getScaleTall(),V.setScaleTall(Q),Fs(R)&&(V.setScaleY(V.getScaleY()*X),V.setScaleX(V.getScaleX()*X)))}))):"z"!==H&&"sz"!==H||(K[2]=0,(J=Pg(b,q,K,N))&&(s=J[2]-q[2],"z"===H?b.moveSelection(0,0,s):b.sm().each(function(V){r(V)&&b.isSizeEditable(V)&&(Q=V.getScaleY()+s/100,X=Q/V.getScaleY(),V.setScaleY(Q),Fs(R)&&(V.setScaleX(V.getScaleX()*X),V.setScaleTall(V.getScaleTall()*X)))}))),!J)return;V.p3=J}else A===XA?((f=V.div)||(f=V.div=pJ(),BJ(V.getView(),f),f.op=c,f.style.background=b.getRectSelectBackground()),b.fi({kind:b._rectSelecting?"betweenRectSelect":"beginRectSelect",event:R}),b._rectSelecting=1,f.rect=Ls(f.op,S),_(f,f.rect)):"pinch"===A&&2===fs(R)?(b.fi({kind:b._pinching?"betweenPinch":"beginPinch",event:R}),b._pinching=1,s=K4(R),b._lastZoomLP||(b._lastZoomLP=(P=(l=R).touches[0],l=l.touches[1],K=P.clientX,P=P.clientY,{x:(K+l.clientX)/2,y:(P+l.clientY)/2})),b.handlePinch(s,V.dist),V.dist=s):"pan"===A||Fs(R)||As(R)?V.pan(R,F,D):"none"===A||b.isFirstPersonMode()||V.rotate(R,L,e);V.point=S}},pan:function(V,R,Q){var X,b,A=this.gv;A.isPannable()&&(b=A.getWidth(),X=A.getHeight(),b&&X&&(b=R/b*(R=A.getCenterInfo()).width,Q=-1*Q/X*R.height,A.fi({kind:A._panning?"betweenPan":"beginPan",event:V}),A._panning=1,A.pan(-b,-Q)))},rotate:function(V,R,Q){var X=this.gv;X.isRotatable()&&(X.fi({kind:X._rotating?"betweenRotate":"beginRotate",event:V}),X._rotating=1,X.rotate(R,Q))},handleWindowMouseUp:function(V){this.handleWindowTouchEnd(V)},handleWindowTouchEnd:function(V){var R,Q,X,b,A,c=this,f=c.gv,S=f.dm(),F=c.div;F&&((R=f.getDatasInRect(F.rect)).isEmpty()||(Q=f.sm(),X=Q.toSelection(),b=Fs(V),A=V.altKey,R.each(function(V){Q.co(V)?b&&!A||X.remove(V):(!A||b&&A)&&X.add(V)}),Q.ss(X)),zs(F)),f._moving&&(delete f._moving,f.fi({kind:"endMove",event:V}),f.onMoveEnded(),S.endTransaction()),f._panning&&(delete f._panning,f.fi({kind:"endPan",event:V}),f.onPanEnded()),f._rotating&&(delete f._rotating,f.fi({kind:"endRotate",event:V}),f.onRotateEnded()),f._86O&&(delete f._86O,f.fi({kind:"endEditRotation",event:V}),S.endTransaction()),f._87O&&(delete f._87O,f.fi({kind:"endEditScale",event:V}),S.endTransaction()),f._pinching&&(delete f._pinching,f.fi({kind:"endPinch",event:V}),f.onPinchEnded()),f._rectSelecting&&(delete f._rectSelecting,f.fi({kind:"endRectSelect",event:V}),f.onRectSelectEnded()),f._walking&&(delete f._walking,f.fi({kind:"endWalk",event:V}),f.onWalkEnded()),f._lastZoomLP=f._lastZoomHit=null,c.dist=c.point=c._62O=c.p3=c.movedata=c.div=c._57I=c.pendingClickThrough=c._32Q=c._31Q=c.foward=q8,c.__lastClientPoint__=q8}}),k.MapInteractor=function(V){oJ(ip,this,[V]),this._keepHorizon=!0,this._threshold=2,this._touchScaleThreshold=.05,this._touchRotateThreshold=.03,this._touchScaleCheckAccuracy=.01,this._panButton="right",this._minPhi=0,this._maxPhi=5*Math.PI/12}),np=(V("MapInteractor",B8,{setUp:function(){ip.superClass.setUp.call(this);var V=this.gv;this.__oldMinPhi__=V.getRotateMinPhi(),this.__oldMaxPhi__=V.getRotateMaxPhi(),V.setRotateMinPhi(this._minPhi),V.setRotateMaxPhi(this._maxPhi)},tearDown:function(){ip.superClass.tearDown.call(this);var V=this.gv;V.setRotateMinPhi(this.__oldMinPhi__),V.setRotateMaxPhi(this.__oldMaxPhi__),delete this.__oldMinPhi__,delete this.__oldMaxPhi__},handle_contextmenu:function(V){Tf(V)},handle_mousewheel:function(V){this.gv.handleScroll(V,V.wheelDelta/40)},handle_DOMMouseScroll:function(V){2===V.axis&&this.gv.handleScroll(V,-V.detail)},handle_keydown:function(V){this.gv.handleKeyDown(V)},handle_mousedown:function(V){this.handle_touchstart(V)},handle_touchstart:function(V){Tf(V);var R,Q,X,b=this.gv;b.setFocus(V)&&(R=(Q=b.getDataInfoAt(V))?Q.data:q8,Q=Q?Q.part:q8,this.__lastClientPoint__=Ps(V),X=this.editing={point:b.lp(V),data:R,part:Q},l2(V)?X.touch=!0:(X.touch=!1,X.clickLeft=bs(V),As(V)?X.pan=!0:X.pan="left"===this.panButton===X.clickLeft),R&&b._39Q(R)&&(X.preventDefault=!0),ms(this,V),Ss(V)?b.handleDoubleClick(V,R,Q):b.handleClick(V,R,Q))},handle_mouseup:function(V){this.handle_touchend(V)},handle_touchend:function(V){},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)},handleWindowTouchMove:function(V){var R=this,b=R.gv,Q=R.editing;if(Q){var X=b.lp(V),A=Q.point,c=X.x-A.x,A=X.y-A.y;if(!Q.moved){if(Math.abs(c)<R.threshold&&Math.abs(A)<R.threshold&&!(V.touches&&1<V.touches.length))return;Q.moved=!0}if(!Q.preventDefault){Q.point=X;var f,S,F,D,P,N,q=Q.part;if(kp[q]){var X=Q.data,L=b.dm(),e=b.getWidth(),J=b.getHeight(),s=-s8*c/e,l=-s8*A/J;if(q===Tp||q===Wp||q===Up){b._86O||L.beginTransaction(),b.fi({kind:b._86O?"betweenEditRotation":"beginEditRotation",event:V}),b._86O=1;var H=w8(s)>w8(l)?s:l;b.sm().each(function(V){r(V)&&b.isRotationEditable(V)&&(q===Tp?V.setRotationX(V.getRotationX()+H):q===Wp?V.setRotationY(V.getRotationY()+H):q===Up&&V.setRotationZ(V.getRotationZ()+H))})}else{var K,y,t,g,X=X.p3(),c=c/e*(z=b.getPositionInfo(X)).width,A=-1*A/J*z.height,m=[(z=mg(b))[0]*c,z[4]*c,z[8]*c],z=[z[1]*A,z[5]*A,z[9]*A],m=[X[0]+(m[0]+z[0]),X[1]+(m[1]+z[1]),X[2]+(m[2]+z[2])],z=rs(b.getEye(),m,!0);if(q===pp||q===Ip||q===Zp)b._87O||L.beginTransaction(),b.fi({kind:b._87O?"betweenEditScale":"beginEditScale",event:V}),b._87O=1,(K=Pg(b,X,z,m))&&(o=0,q===pp?y="X":q===Ip?(y="Tall",o=1):q===Zp&&(y="Y",o=2),(t=["X","Y","Tall"]).splice(t.indexOf(y),1),g=Fs(V),u=(K[o]-X[o])/100,b.sm().each(function(R){var V,Q,X;r(R)&&b.isSizeEditable(R)&&(V=R["getScale"+y](),R["setScale"+y](Q=V+u),g&&(X=Q/V,t.forEach(function(V){R["setScale"+V](R["getScale"+V]()*X)})))}));else if(q===Cp||q===vp||q===hp){if(!b._moving){var Y=Ps(V),Y=Aq(b,Y,R.__lastClientPoint__);if(qs({x:0,y:0},Y)<L8.touchMoveThreshold)return;L.beginTransaction()}b.fi({kind:b._moving?"betweenMove":"beginMove",event:V}),b._moving=1;var u,o=0;q===Cp?o=0:q===vp?o=1:q===hp&&(o=2),z[o]=0,(K=Pg(b,X,z,m))&&(u=K[o]-X[o],(Y=[0,0,0])[o]=u,b.moveSelection.apply(b,Y))}}}else Q.touch?2!==(L=V.touches.length)?R.pan(V,c,A):L<=1||(m=(z=V.touches)[0].clientX,K=z[0].clientY,Y={x:(X=z[1].clientX)-m,y:(o=z[1].clientY)-K},L=Q.lastCenter,z=Math.atan2(Y.y,Y.x),f=0,(F=Q.theta)==q8?F=Q.theta=z:(f=z-F,Q.thetaStarted||Math.abs(f)>R.touchRotateThreshold?(Q.thetaStarted=!0,Q.theta=z):f=0),F=w*(K+o)/2/b.getHeight(),z=0,(S=Q.phi)==q8?S=Q.phi=F:(z=F-S,Q.phiStarted||Math.abs(z)>R.touchRotateThreshold?(Q.phiStarted=!0,Q.phi=F):z=0),S=Math.sqrt(Y.x*Y.x+Y.y*Y.y),(F=Q.vlen)?(Y=m-L.x,P=K-L.y,N=X-L.x,L=o-L.y,Y=Math.sqrt(Y*Y+P*P),P=Math.sqrt(N*N+L*L),(L=R._sign2(Y-(N=F/2)))*(Y=R._sign2(P-N))<0||0===L&&0===Y?(D=1,Q.vlen=S):(D=D||S/F,Q.scaleStarted||Math.abs(D-1)>R.touchScaleThreshold?(Q.vlen=S,Q.scaleStarted=!0):D=1)):(F=Q.vlen=S,D=1),1!==D&&b.setZoom(D),(z||f)&&R.rotate(V,f,-z),Q.lastCenter={x:(X+m)/2,y:(o+K)/2}):Q.pan?R.pan(V,c,A):(e=b.getWidth(),J=b.getHeight(),e&&J&&R.rotate(V,s=-s8*c/e,l=-s8*A/J))}}},_sign2:function(V){return Math.abs(V)<this._touchScaleCheckAccuracy?0:0<V?1:-1},handleWindowMouseUp:function(V){this.handleWindowTouchEnd(V)},handleWindowTouchEnd:function(V){var R,Q,X=this.editing;this.editing=null,X&&(R=this.gv,X.moved||!X.clickLeft&&!X.touch?(R._panning=null,R._rotating=null,R.fi({kind:X.pan?"endPan":"endRotate",event:V})):(Q=(Q=(X=R.getDataInfoDuringInteract(V))&&X.data)instanceof qu&&Q.isClickThroughEnabled()&&(X=R.getDataInfoDuringInteract(V,!0))?X.data:Q)?R.sm().setSelection([Q]):R.sm().clearSelection(),X=R.dm(),R._moving&&(delete R._moving,R.fi({kind:"endMove",event:V}),R.onMoveEnded(),X.endTransaction()),R._86O&&(delete R._86O,R.fi({kind:"endEditRotation",event:V}),X.endTransaction()),R._87O&&(delete R._87O,R.fi({kind:"endEditScale",event:V}),X.endTransaction()))},pan:function(V,R,Q){var X=this.gv;if(X.isPannable()){var b=X.getWidth(),A=X.getHeight();if(b&&A){var c=X.getCenterInfo(),R=-R/b*c.width,b=+Q/A*c.height,Q=(X.fi({kind:X._panning?"betweenPan":"beginPan",event:V}),X._panning=1,this.keepHorizon);if(!(Q=(A=this.editing.touch)&&V.touches&&1<V.touches.length||!A&&Fs(V)?!Q:Q))return X.pan(R,b);(R||b)&&(A=[(c=mg(X))[0]*R,c[4]*R,c[8]*R],V=[c[1],0,c[9]],(Q=Math.sqrt(V[0]*V[0]+V[2]*V[2]))&&(V=[V[0]/Q*b,0,V[2]/Q*b]),R=A[0]+V[0],c=A[1]+V[1],Q=A[2]+V[2],b=X._center,A=X._eye,b[0]+=R,b[1]+=c,b[2]+=Q,A[0]+=R,A[1]+=c,A[2]+=Q,X.fp(DR,q8,A),X.fp(FR,q8,b))}}},rotate:function(V,R,Q){var X,b,A=this.gv;A.isRotatable()&&(b=A._center,X=A._eye,X=rs(X,b),b=E8(O8(X[0]*X[0]+X[2]*X[2]),X[1]),Q=Fg(A,b+Q)-b,A.fi({kind:A._rotating?"betweenRotate":"beginRotate",event:V}),A._rotating=1,A.rotate(R,Q))}}),v.defineProperties(ip.prototype,{panButton:{get:function(){return this._panButton},set:function(V){this._panButton=V}},minPhi:{get:function(){return this._minPhi},set:function(V){this.gv.setRotateMinPhi(this._minPhi=V)}},maxPhi:{get:function(){return this._maxPhi},set:function(V){this.gv.setRotateMaxPhi(this._maxPhi=V)}},keepHorizon:{get:function(){return this._keepHorizon},set:function(V){this._keepHorizon=V}},threshold:{get:function(){return this._threshold},set:function(V){this._threshold=V}},touchScaleThreshold:{get:function(){return this._touchScaleThreshold},set:function(V){this._touchScaleThreshold=V}},touchRotateThreshold:{get:function(){return this._touchRotateThreshold},set:function(V){this._touchRotateThreshold=V}}}),k.GlobeInteractor=function(q,V){function X(V){return q._81O=null,V=q.getHitPosition(V,q.getCenter(),P.copy(q.getEye()).sub(l.copy(q.getCenter())).toArray()),N.origin.copy(q.getEye()),N.direction.copy(V).sub(N.origin).normalize(),N.intersectEllipsoid(H)}function L(V,R){var Q;s&&(Q=Date.now(),s.deltaTime=s.lastTime?Q-s.lastTime:1e3,s.lastTime=Q,s.lastAxis=V,s.lastAngle=R),R&&(b.setFromAxisAngle(V,R),q.setEye(P.copy(q.getEye()).applyQuaternion(b).toArray()),q.setCenter(P.copy(q.getCenter()).applyQuaternion(b).toArray()),q.setUp(P.copy(q.getUp()).applyQuaternion(b).toArray()))}function e(V){return Math.abs(V)<.01?0:0<V?1:-1}oJ(np,this,[q]);var A,J=V.radius||6378137,f=this,s=null,b=($i||(($i=pJ()).style.border="",$i.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEyUlEQVRYR62XW0xcVRSG/58cmIG2HmstE9N4SX2xtVqBCISoFS/RmDSpKQSvTWNixUStQSqVyBQYJUGttrQVtYkPatuQPmhivMUHqbUBZ2itl1qjTzZpImNUZhDLsUeWWXgOOd2cgcGyk3mYs/de69trr70uxP8YIlJKMi0i9wIgyf0iEiM5PFdxzGeDiBQAuB7AjQBuALCN5NcGQDmANgBfeL8UyYnZ5M8KICJ3AXgAwAlfOMl/VHAQwPtveYAKuQLA2yQ/ngliRgAR2QogA2AvSdcUZAIE50VEYR4BsIDkC7kgQgFE5GIAuwDsJnkk1+aZAPw9IqLX1gjgcZK/m7KmAXjK4wBaSf4ZplxEIgCuA3Cz3gSAfgDHSf6dY/0FAJ4D0G5ChAEcAPBwmHIRqXNd90nLsiocx/k+k8n8oK/Atu2rIpHIStd1v7QsawfJd0Ouywawh6T609Q4B8C788NhZnddt29sbGxBd3f39q6urtNhJ43H48uam5u3lJSUjFiWdV8IxE0Aqki+6M9NAXjefjnJXsOZogBGBgYGttbU1Hw427PS+cHBwbVVVVUJAItJOoa8xwD8RPIT/T4J4L3zfQAeNL1dRMZra2ur+/v7/8pHub+mvr7+wr6+vs8KCgoWGABFAN4EsEHjhA9QBeA2ks8HF6vZk8nkQL4nNwGTyeTa8vLycsuy7jcg1Mk/IpnyAZoBaOQ6FHg+ddlsdqNt201zObm5NpvN7ly0aNHrJN8LyL4FwGqSr/gAOrnej3C60HXdw/F4PJ7L4fKFSiQSl7W0tLQVFRWtCQDoNRwguZ6aWABcorE9sEDf+QjJ1fkqmmmdiHwHoCToXyKiceR0rkhY5TjOq9FoVLPdeY/x8fG+SCSySe/cFKYWCFOyPJ1Or4zFYh3nrR3A8PBwe2lp6TcAfg4DmBYwAFyRTqdXxWKx9nkE+DYUIEyBiFQ6jvNaNBq9Zz4AZruCGIBlJI8ZXpolee18AORwwgoAp/xnqMmjPuilZ8+ePZRIJNo7OztD436+YB0dHZe2trY+W1hYWGsccD/JOh/gKQBHSWpanRwicnc2m91k2/bmfJWFrRsdHd29cOHCXSTfD8i+FcA1JHcEQ/HtJDVnTw3XdfcPDQ0dra6unto8F5hUKrWurKxslWVZG4L7RGQbgA9IDgWT0VsANprJaGJi4kxDQ8OagwcPjsxFeWNj49Le3l6N91qMTA2vmNnr6fovGXkmvxPAlST3hGz4LZVKbausrMzLEnryioqKNpJLzCpJRJ4AcJLkp6rHLEieBjBA8rB5Wtd1942NjS3p6el5qa2t7VSYNdThmpqaWoqLi38xze4dUku4CpLb/f1hJZnWBY+SzJpKRGSdV5LVOI5zIpPJnNQ1tm2viEQiV7uue8SyrJeDDhew8GIAO0me4w9hABdp8ahNBkktyacNr+Qu84pSndfX81VY6e6dXJV3AoiT/CMoMFcyUogeAG+Q/DyX8+VZlqvZHwKw2VQ+zQdCTL4FwBkPZFrJPUtjoildG5PC4J2bOvJpze7QWhHAj4HWbBImpDXTQsPvH5cDeMf39lxWnBXAU6TNqcZu7fn0lyB53GhOdf6ZQHN6bF6a0xxOuJTkrwbA5LdcJ831/V8SOUYQxYGhRwAAAABJRU5ErkJggg==)"),new Xf),P=new K8,l=new K8,S=new K8,N=new Sf,c="number"==typeof J?{x:J,y:J,z:J}:J,H={center:new K8(0,0,0),radius:c};f._showCrossIcon=function(V){BJ(f.getView(),$i),_($i,{x:V.clientX-16,y:V.clientY-16,width:32,height:32})},f._hideCrossIcon=function(){zs($i)},f._scrollImpl=function(V,R){(s={point:q.lp(V),screen:Ps(V),hit:X(V),type:"right"}).hitNormalize=s.hit?s.hit.clone().normalize():new K8,V={clientX:s.screen.x,clientY:s.screen.y+10*R},f._handleMoveImpl(V),f._endMoveImpl(V)},f._startMoveImpl=function(V){A&&(A.stop(!0),A=null),(s={point:q.lp(V),screen:Ps(V),hit:X(V)}).hitNormalize=s.hit?s.hit.clone().normalize():new K8,l2(V)?1===V.touches.length?s.hit&&(s.type="left"):2===V.touches.length&&(s.type="touch2"):(bs(V)?s.hit&&(s.type="left"):cs(V)?s.type="right":As(V)&&s.hit&&(s.type="middle"),!s.hit||"right"!==s.type&&"middle"!==s.type||f._showCrossIcon(V)),s.type&&ms(f,V)},f._handleMoveImpl=function(V){if(s)switch(s.type){case"left":return f._handleLeft(V);case"right":return f._handleRight(V);case"middle":return f._handleMiddle(V);case"touch2":return f._handleTouch2(V)}},f._endMoveImpl=function(V){var Q,X,b;s&&(this._hideCrossIcon(),"left"!==s.type&&"middle"!==s.type||(Q=s.lastAngle/(s.deltaTime||30)*1e3,X=s.lastAxis,b=s.lastTime,A=df({action:function(){var V=Date.now(),R=(V-b)/1e3;b=V,Q*=Math.pow(Math.abs(f.decelerationRate),3*R),Math.abs(Q)<.01?(Q=0,A&&A.stop()):L(X,Q*R)},duration:5e3})),s=null)},f._handleLeft=function(V){if(!s.finished){var R=Ps(V),Q=function(V,R){q._81O=null,N.origin.copy(q.getEye());for(var Q,X,b=q.getCenter(),A=P.copy(q.getEye()).sub(l.copy(q.getCenter())).toArray(),c=1,f=16,S=0,F=1,D={x:0,y:0};f--;){if(D.x=R.x+(V.x-R.x)*c,D.y=R.y+(V.y-R.y)*c,Q=q.getHitPosition(D,b,A),N.direction.copy(Q).sub(N.origin).normalize(),(X=N.intersectEllipsoid(H))&&1===c)return{hit:X};X?S=c:F=c,c=(S+F)/2}return{hit:X,out:c<1}}(R,s.lastScreen||s.screen);if(s.lastScreen=R,!Q.hit)return s.finished=!0,void f._endMoveImpl(V);(R=Q.hit).normalize();var X=s.hitNormalize,b=Math.acos(R.dot(X));L(R=R.cross(X).normalize(),b),Q.out&&(s.finished=!0,f._endMoveImpl(V))}},f._handleRight=function(V){var R,Q=(s.lastScreen||s.screen).y;(V=(s.lastScreen=Ps(V)).y-Q)&&(Q=Math.min(.5,V*f.scaleSpeed),P.copy(q.getEye()),V=(V=s.hit)||P.clone().divide(c).normalize().multiply(c),l.copy(P).lerp(V,Q),q.setEye(l.toArray()),P.copy(q.getUp()),l.normalize(),V=P.clone().cross(l).normalize(),S.copy(q.getCenter()),S.sub(V.multiplyScalar(S.dot(V))),q.setCenter(S.toArray()),s.hit&&(Q=X(s.screen),V=s.hitNormalize,Q&&(Q.normalize(),R=Math.acos(Q.dot(V)),Q=Q.cross(V).normalize(),R&&L(Q,R))))},f._handleTouch2=function(V){var R,Q,X,b,A,c,f,S,F,D,P,N;2===V.touches.length&&(R=(V=V.touches)[0].clientX,Q=V[0].clientY,N={x:(X=V[1].clientX)-R,y:(V=V[1].clientY)-Q},D=s.lastCenter,c=Math.atan2(N.y,N.x),b=0,(A=s.theta)==q8?A=s.theta=c:(b=c-A,s.thetaStarted||.03<Math.abs(b)?(s.thetaStarted=!0,s.theta=c):b=0),A=Math.sqrt(N.x*N.x+N.y*N.y),(c=s.vlen)?(P=R-D.x,S=Q-D.y,F=X-D.x,D=V-D.y,P=Math.sqrt(P*P+S*S),S=Math.sqrt(F*F+D*D),(D=e(P-(F=c/2)))*(P=e(S-F))<0||0===D&&0===P?(f=1,s.vlen=A):(f=f||A/c,s.scaleStarted||.05<Math.abs(f-1)?(s.vlen=A,s.scaleStarted=!0):f=1)):(c=s.vlen=A,f=1),N=l.copy(q.getEye()).clone(),1!==f&&q.setEye(N.setLength((N.length()-J)/f+J).toArray()),b&&L(N.normalize(),b),s.lastCenter={x:(X+R)/2,y:(V+Q)/2})},f._handleMiddle=function(V){var V=Ps(V),R=s.screen,Q=((s.screen=V).y-R.y)/180*Math.PI*f.rollSpeed,X=(l.copy(q.getCenter()).sub(P.copy(q.getEye())).normalize(),P.copy(q.getUp()).cross(l).normalize(),l.copy(q.getEye()).sub(s.hit).applyAxisAngle(P,Q).add(s.hit),l.clone()),b=(l.copy(q.getCenter()).sub(s.hit).applyAxisAngle(P,Q).add(s.hit),l.clone()),A=l.copy(q.getUp()).applyAxisAngle(P,Q).clone(),c=!1,Q=(0<Q&&(S.copy(A),l.copy(b).sub(X).normalize(),P.copy(X).multiplyScalar(-1).normalize(),0<P.dot(S)-l.dot(S)&&(c=!0)),c||0<=S.copy(s.hit).sub(X).dot(s.hitNormalize)&&(c=!0),c||(q.setEye(X.toArray()),q.setCenter(b.toArray()),q.setUp(A.toArray())),-(V.x-R.x)/180*Math.PI*f.rotateSpeed);L(s.hitNormalize,Q)}}),Mp=(V("GlobeInteractor",B8,{handle_contextmenu:function(V){Tf(V)},handle_mousewheel:function(V){this._scrollImpl(V,V.wheelDelta/40)},handle_DOMMouseScroll:function(V){2===V.axis&&this._scrollImpl(V,-V.detail)},handle_keydown:function(V){this.gv.handleKeyDown(V)},handle_mousedown:function(V){this.handle_touchstart(V)},handle_touchstart:function(V){Tf(V);var R,Q,X=this.gv;X.setFocus(V)&&((R=(Q=X.getDataInfoAt(V))?Q.data:q8)&&X.isInteractive(R)||this._startMoveImpl(V),Q=Q?Q.part:q8,Ss(V)?X.handleDoubleClick(V,R,Q):X.handleClick(V,R,Q))},handle_mouseup:function(V){this.handle_touchend(V)},handle_touchend:function(V){},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)},handleWindowTouchMove:function(V){this._handleMoveImpl(V)},handleWindowMouseUp:function(V){this.handleWindowTouchEnd(V)},handleWindowTouchEnd:function(V){this._endMoveImpl(V)}}),v.defineProperties(np.prototype,{rotateSpeed:{get:function(){return this._rotateSpeed||.3},set:function(V){this._rotateSpeed=V}},rollSpeed:{get:function(){return this._rollSpeed||.1},set:function(V){this._rollSpeed=V}},scaleSpeed:{get:function(){return this._scaleSpeed||.002},set:function(V){this._scaleSpeed=V}},decelerationRate:{get:function(){return this._decelerationRate||.04},set:function(V){this._decelerationRate=V}}}),function(V){return[((V|=2147483648)>>16&255)/255,(V>>8&255)/255,(255&V)/255,(V>>24&255)/255]}),rp=function(V){this.gv=V,this.gv.pickColorMap={_pickIdUsed:2e3,_outside:N8},this._cacheQuery=[],this._cacheLength=0,this._cacheIdx=0},Ep=(Os(rp,v,{_iv:!0,iv:function(){this._iv=!0},get:function(V,R,Q){this.validate();var X=this,b=X.gv;if(!b.getGL())return q8;var A=X._resolution,c=X.renderTarget,f=c.getSize()[1],S=Math.round(V.x*A),F=Math.ceil(V.width*A),D=Math.ceil(V.height*A),P=f-Math.round(V.y*A)-D;if(!Q)for(var N=X._cacheQuery,q=X._cacheIdx;q>=X._cacheIdx-X._cacheLength+1;q--){var L=N[3&q];if(L[0]===S&&L[1]===P&&L[2]===F&&L[3]===D&&L[4]===R)return L[5]}var e,J,s,l=c.readPixels(S,P,F,D),H=b.pickColorMap;if(R){for(var K=Math.round((F-1)/2),y=Math.round((D-1)/2),t=Math.floor(Math.max(F,D)/2),q=0;q<=t;q++){var g=K-q,m=K+q,z=y-q,Y=y+q;if(0<=z)for(s=g;s<=m;s++)if(e=Mn(z,s,S,P,F,D,f,A,l,H,Q))return rn(X,S,P,F,D,R,Q,e);if(0<=g)for(J=1+z;J<Y;J++)if(e=Mn(J,g,S,P,F,D,f,A,l,H,Q))return rn(X,S,P,F,D,R,Q,e);if(Y<D)for(s=g;s<=m;s++)if(e=Mn(Y,s,S,P,F,D,f,A,l,H,Q))return rn(X,S,P,F,D,R,Q,e);if(m<F)for(J=1+z;J<Y;J++)if(e=Mn(J,m,S,P,F,D,f,A,l,H,Q))return rn(X,S,P,F,D,R,Q,e)}return rn(X,S,P,F,D,R,Q,null)}for(var u,o,_=new Z,O={},w={},q=0,a=l.length;q<a;q+=4)!(u=(l[q]<<16)+(l[q+1]<<8)+l[q+2]+(l[q+3]<<24))||O[u]||!(e=nn(H,u))||Q&&!1===Q(e,s=Math.round((S+(q>>2)%F)/A),J=Math.round((f-1-(P+Math.floor((q>>2)/F)))/A))||w[(o=e.data)._id]||(_.add(o),w[o._id]=o,O[u]=!0);return rn(X,S,P,F,D,R,Q,_)},getResolution:function(){return this._resolution},dispose:function(){rg(this.gv,this.renderTarget),this.renderTarget=null},validate:function(){var V,R,Q,X,b,A=this.gv,c=A.getGL();c&&((V=this.renderTarget)||(this.renderTarget=V=new wp(A,1,1)),this._iv&&(this._iv=!1,this._cacheLength=0,R=this._resolution=A._pickerResolution*A.getDevicePixelRatio(),Q=Math.round(R*A.getWidth()),X=Math.round(R*A.getHeight()),V.setSize(c,Q,X),b=!1,A._40Q.each(function(V){!b&&V.isBatchInvalid()&&(b=!0)}),b&&A.updateScene(),V.bind(c),c.colorMask(!0,!0,!0,!0),c.clear(16384),A.overlappingBox.clear(),A.setViewport(c,0,0,Q,X),A.renderPickScene(R),V.unbind(c)))}}),function(V){this.gv=V}),$p=(Os(Ep,v,{gap:0,size:0,_42:function(V){var R,Q=this,X=Q.gv,b=X._gridGap,A=X._gridSize;if(X._gridVisible){if(Q.gap!==b||Q.size!==A){for(var c=[],f=X._gridSize/2,S=b*f,F=0;F<2*f+1;F++){var D=6*F,P=6*(2*f+1)+D;c[D]=-S,c[1+D]=0,c[2+D]=F*b-S,c[3+D]=S,c[4+D]=0,c[5+D]=F*b-S,c[P]=F*b-S,c[1+P]=0,c[2+P]=-S,c[3+P]=F*b-S,c[4+P]=0,c[5+P]=S}Q.vs=new Ms(c),Q.gap=b,Q.size=A}AE(X),$g(V),hg(V),(A=!X._fogDisabled)&&((R=t8.for(V).directUniforms()).uFog=!1),pg(V,1,X._gridColor,X._buffer.vs,Q.vs),Zg(V,0,Q.vs.length/3,1),A&&(R.uFog=!0),Tg(V),jg(V)}else Q.vs=Q.gap=Q.size=q8}}),function(V){this.gv=V}),jp=(Os($p,v,{_42:function(V){var R,Q,X,b,A=this.gv,c=A._buffer.vs,f=A._axisXColor,S=A._axisYColor,F=A._axisZColor,D=A._originAxisVisible,P=A._centerAxisVisible;(D||P)&&(Q=Z8?4:6,AE(A),$g(V),hg(V),D&&(X=A.getCenterInfo(),b=X8(X.width,X.height)/5,pg(V,1.5,f,c,new Ms([0,0,0,b,0,0,D=.8*b,R=.05*b,0,D,0,R,D,-R,0,D,0,-R,D,R,0,0,0,0,0,b,0,R,D,0,0,D,R,-R,D,0,0,D,-R,R,D,0,0,0,0,0,0,b,R,0,D,0,R,D,-R,0,D,0,-R,D,R,0,D])),Zg(V,0,2,1),Zg(V,1,6,Q),pg(V,q8,S),Zg(V,7,2,1),Zg(V,8,6,Q),pg(V,q8,F),Zg(V,14,2,1),Zg(V,15,6,Q)),P&&(D=(R=A._center)[0],Q=R[1],P=R[2],X=A.getPositionInfo(R),b=X8(X.width,X.height)/20,pg(V,1.5,f,c,new Ms([D,Q,P,D+b,Q,P,D,Q,P,D,Q+b,P,D,Q,P,D,Q,P+b])),Zg(V,0,2,1),pg(V,q8,S),Zg(V,2,2,1),pg(V,q8,F),Zg(V,4,2,1)),Tg(V),jg(V))}}),function(V){this.gv=V}),Cp="edit_tx",vp="edit_ty",hp="edit_tz",Tp="edit_rx",Wp="edit_ry",Up="edit_rz",pp="edit_sx",Ip="edit_sy",Zp="edit_sz",kp={},xp=(kp[Cp]=101,kp[vp]=102,kp[hp]=103,kp[Tp]=104,kp[Wp]=105,kp[Up]=106,kp[pp]=107,kp[Ip]=108,kp[Zp]=109,Os(jp,v,{_42:function(V){var R,Q,X,b,A,c,f,S,F,D,P,N,q,L,e=this,J=e.gv,s=J.sm().ld();!s||!J.isEditable(s)||J.isEditHelperDisabled()||!r(s)||J.isFirstPersonMode()&&(J.isMouseRoamable()||d8)||(AE(J),R=J.isMovable(s),Q=J.isRotationEditable(s),X=J.isSizeEditable(s),b=J._axisXColor,A=J._axisYColor,c=J._axisZColor,f=J._editSizeColor,N=s.p3(),J=(S=J.isOrtho()?(S=J.getCenterInfo(),X8(S.width,S.height)/8):qs(J.getEye(),N)/10)/(J.isPicking()?5:10),F=.4*(S*=.7),D=N[0],P=N[1],N=N[2],L=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],R&&e._17O(V,s,Cp,b,L,[D,P-J,N,D+S,P-J,N,D+S,P,N,D+S,P,N,D,P,N,D,P-J,N,D,P-J,N+J,D+S,P-J,N+J,D+S,P-J,N,D+S,P-J,N,D,P-J,N,D,P-J,N+J]),q=D+S,X&&e._17O(V,s,pp,f,L,[q,P-J,N,q+F,P-J,N,q+F,P,N,q+F,P,N,q,P,N,q,P-J,N,q,P-J,N+J,q+F,P-J,N+J,q+F,P-J,N,q+F,P-J,N,q,P-J,N,q,P-J,N+J]),q+=F,Q&&e._17O(V,s,Tp,b,L,[q,P-J,N,q+F,P-J,N,q+F,P,N,q+F,P,N,q,P,N,q,P-J,N,q,P-J,N+J,q+F,P-J,N+J,q+F,P-J,N,q+F,P-J,N,q,P-J,N,q,P-J,N+J]),L=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0],R&&e._17O(V,s,vp,A,L,[D,P,N,D,P+S,N,D-J,P+S,N,D-J,P+S,N,D-J,P,N,D,P,N,D,P,N,D,P,N-J,D,P+S,N-J,D,P+S,N-J,D,P+S,N,D,P,N]),q=P+S,X&&e._17O(V,s,Ip,f,L,[D,q,N,D,q+F,N,D-J,q+F,N,D-J,q+F,N,D-J,q,N,D,q,N,D,q,N,D,q,N-J,D,q+F,N-J,D,q+F,N-J,D,q+F,N,D,q,N]),q+=F,Q&&e._17O(V,s,Wp,A,L,[D,q,N,D,q+F,N,D-J,q+F,N,D-J,q+F,N,D-J,q,N,D,q,N,D,q,N,D,q,N-J,D,q+F,N-J,D,q+F,N-J,D,q+F,N,D,q,N]),L=[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],R&&e._17O(V,s,hp,c,L,[D,P,N,D,P,N+S,D,P-J,N+S,D,P-J,N+S,D,P-J,N,D,P,N,D,P-J,N,D-J,P-J,N,D-J,P-J,N+S,D-J,P-J,N+S,D,P-J,N+S,D,P-J,N]),q=N+S,X&&e._17O(V,s,Zp,f,L,[D,P,q,D,P,q+F,D,P-J,q+F,D,P-J,q+F,D,P-J,q,D,P,q,D,P-J,q,D-J,P-J,q,D-J,P-J,q+F,D-J,P-J,q+F,D,P-J,q+F,D,P-J,q]),q+=F,Q&&e._17O(V,s,Up,c,L,[D,P,q,D,P,q+F,D,P-J,q+F,D,P-J,q+F,D,P-J,q,D,P,q,D,P-J,q,D-J,P-J,q,D-J,P-J,q+F,D-J,P-J,q+F,D,P-J,q+F,D,P-J,q]))},_17O:function(V,R,Q,X,b,A){var c=this.gv,f=c._buffer,S=(F=t8.for(V)).directUniforms(),F=F.directAttribs();c._picking&&(c.pickColorMap[c=kp[Q]]={data:R,part:Q},S.uFixPickReverseColor=Mp(c)),Cg(V,q8,!0,q8,!0,q8,!1),S.uDiffuse=X,F.aPosition=xg(V,f.vs,new Ms(A)),F.aNormal=xg(V,f.ns,new Ms(b)),hg(V),Zg(V,0,12),Tg(V),vg(V)}}),I.Raycaster=function(V){this.gv=V,this.maxTriangleTest=1/0,this.backfaceCulling=!0,this.triangleTestEpsilon=1e-9}),Bp=(W4("Raycaster",v,{getTriangleTestEpsilon:function(){return this.triangleTestEpsilon},setTriangleTestEpsilon:function(V){return this.triangleTestEpsilon=V,this},getBackfaceCulling:function(){return this.backfaceCulling},setBackfaceCulling:function(V){return this.backfaceCulling=V,this},intersect:function(V){var R=this.gv.getDataAt(V);return R?this.intersectObject(V,R):null},intersectObjects:function(R,V,Q){var X,b,A,c,f=this,S=1/0,F=R.origin||(new K8).fromArray(f.gv.getEye()),D=f.maxTriangleTest,P=[],N=(V.forEach(function(V){Q&&!1===Q(V)||!1!==V.s("intersect")&&P.push(V)}),F.distanceToSquared2([0,0,0]));return P.sort(function(V,R){return(V.p3?F.distanceToSquared2(V.p3()):N)-(R.p3?F.distanceToSquared2(R.p3()):N)}),f.countTriangles=0,P.forEach(function(V){f.countTriangles>D||(X=f.intersectObject(R,V))&&(b=F.distanceToSquared(X.world))<S&&(A=V,c=X,S=b)}),f.countTriangles=0,{data:A,intersect:c}},intersectObjectAndRecordTriangle:function(V,R){return this._4GQ=!0,V=this.intersectObject(V,R),this._4GQ=!1,V},intersectLastTriangle:function(V,R){if((V=this.getRay(V)).applyMatrix4(R.inverseMatrix),!(V=V.intersectPlane(R.plane)))return null;var Q=Nf.uvIntersection(V,R.p1,R.p2,R.p3,R.uv1.clone(),R.uv2.clone(),R.uv3.clone());return{world:V.clone().applyMatrix4(R.matrixWorld),local:V.clone(),uv:Q}},getRay:function(V){if(V instanceof Sf)return V;var R,Q=this.gv,V=Q.unproject(V),X=new K8,b=Q.getEye(),A=new K8;return Q.isOrtho()?(R=new K8(b),A.copy(Q.getCenter()).sub(R).normalize(),Q=X.copy(V).sub(R).dot(A),X.copy(A).setLength(-Q).add(R.copy(V))):(X.copy(b),A.copy(V).sub(X).normalize()),new I.Math.Ray(X,A)},intersectObject:function(V,R){return this._intersectObjectImpl(this.getRay(V),R)},_intersectObjectImpl:(ji=new y8,Ci=new y8,vi=new y8,hi=new y8,Ti=new Sf,Wi=new K8,Ui=new K8,pi=new K8,Ii=new K8,Zi=new K8,ki=new K8,xi=new K8,Bi=new K8,Gi=new W,di=new W,V1=new W,R1=new K8,Q1={vs:ly,is:Hy,uv:Ky},(X1=ty.slice(0)).push("csg"),function(V,R){var Q,X,b,A,c,f,S,F,D,P,N,q,L,e=this.gv.getData3dUI(R),J=((a=R.mat||e.mat)?ji.fromArray(a):ji.identity(),"body");if(!(a=(a=(a=!(a=e.shapeModel)&&(R instanceof I.Polyline||R instanceof I.Edge)&&e.lineShapeModel?e.lineShapeModel:a)||hy(e))||(I.CSGNode&&R instanceof I.CSGNode||I.CSGShape&&R instanceof I.CSGShape?(b=!0,[e.left,e.front,e.right,e.back,e.top,e.bottom,e.csg]):R instanceof I.Node&&!(R instanceof I.Shape)?(Q=!0,Q1):(X=!0,[e.left,e.front,e.right,e.back,e.top,e.bottom]))))return console.log("Can not find shape model."),null;H8(a)||(a=[a]);var s,l,H,K,y,t,g,m=1/0,z=["","top_","bottom_","from_","to_"],Y=!1,u=this.backfaceCulling,o=this.triangleTestEpsilon,_=[];for(HE(a,e,_),A=0,c=_.length;A<c;A++)if((l=_[A])&&(t=l.matrix,l=l.mesh))for(Ci.copy(ji),t&&Ci.multiply(t),hi.getInverse(Ci),Ti.copy(V).applyMatrix4(hi),f=0,S=z.length;f<S;f++)if(P=l[(H=z[f])+"vs"],N=l[H+"is"],q=l[H+"uv"]||l[H+"tuv"],P){if(K=l[H+"boundingBox"]){if(!(g=Ti.intersectBox(K)))continue;if(Ti.origin.distanceTo(g)>m)continue;y=!1}else l[H+"boundingBox"]=K=new I.Math.Box3,y=!0;for(F=0,D=N?N.length:P.length/3;F<D;F+=3)this.countTriangles++,N?(Ui.fromArray(P,3*N[F]),pi.fromArray(P,3*N[F+1]),Ii.fromArray(P,3*N[F+2])):(Ui.fromArray(P,3*F),pi.fromArray(P,3*(F+1)),Ii.fromArray(P,3*(F+2))),y&&(K.expandByPoint(Ui),K.expandByPoint(pi),K.expandByPoint(Ii)),(L=Ti.intersectTriangle(Ui,pi,Ii,u,o,Wi))&&(s=Ti.origin.distanceTo(L))<m&&(m=s,Zi.copy(L),ki.copy(Ui),xi.copy(pi),Bi.copy(Ii),""!==H?J=H.slice(0,-1):Q?J=ty[Math.floor(F/6)]:X?J=ty[A]:b&&(J=X1[A]),q&&(Y=!0,N?(Gi.fromArray(q,2*N[F]),di.fromArray(q,2*N[F+1]),V1.fromArray(q,2*N[F+2])):(Gi.fromArray(q,2*F),di.fromArray(q,2*(F+1)),V1.fromArray(q,2*(F+2)))),vi.copy(Ci))}if(!isFinite(m))return null;ji.copy(vi),hi.getInverse(ji);var O,w,R=Zi.clone().applyMatrix4(ji),a=this._4GQ,e=(Y&&(a&&(w={inverseMatrix:hi.clone(),matrixWorld:ji.clone(),p1:ki.clone(),p2:xi.clone(),p3:Bi.clone(),uv1:Gi.clone(),uv2:di.clone(),uv3:V1.clone(),plane:(new I.Math.Plane).setFromCoplanarPoints(ki,xi,Bi)}),O=Nf.uvIntersection(Zi,ki,xi,Bi,Gi,di,V1)),En()),a=En(ki.applyMatrix4(ji),xi.applyMatrix4(ji),Bi.applyMatrix4(ji)),i=0<Ti.direction.dot(e),R=(i&&(e.multiplyScalar(-1),a.multiplyScalar(-1)),{world:R,local:Zi.clone(),worldNormal:a,normal:e,uv:O,part:J,backface:i});return w&&(R.triangleInfo=w),R})}),k.Data3dUI=function(X,b){this.gv=X,this.s=function(V,R,Q){return(R=R==q8?Q:R)==q8?b.getStyle(V):p(R,b,X)},this.data=b}),Gp=(Os(Bp,v,{I3d:!0,ms_icons:1,_iv:!0,_cacheBoundingBox:N8,iv:function(){this._iv=!0},update:function(V,R,Q){var X=this,b=X.data;if(V||(R=(V=X.gv).getGL(),Q=V._40Q),X.needValidate(R)&&V.isVisible(b)){var A,c,f,S=b._id,F=b._47Q?null:X.s("batch"),D=b.getRenderLayer(),P=(D=Q.get(D,!0)).batchIndexMap,N=D.batchModelMap,q=V.getBrightness(b),L=q!=q8&&1!==q,N=CE(P,N,b,F,V),F=F?V.getBatchInfo(F)||We:q8,e=X.validate(N,F);if(N&&(!F.ms||!F.ms.length)&&(A=(F=P[S]).size=N.vs.length/3-F.begin,f=N.rs))for(q=L?q:1,c=0;c<A;c++)f.push(q);(P=V.getWireframeGeometry(b))?TE(V,b,P):r(b)&&(S=V.getWireframe(b))&&TE(V,b,S),X.labelInfo=X.label2Info=X.noteInfo=X.note2Info=X._38o=q8,X._24O($R,"getLabel"),X._24O(jR,"getLabel2"),X._26O(CR,"getNote"),X._26O(vR,"getNote2"),X._15O(),X.interactiveInfo=V.isInteractive(b)?{}:q8,!D.push(this,!0)&&b instanceof qu&&X._46Q(R),!1!==e&&(X._iv=!1)}else Q.push(this,!1)},clearWireframeGeometryCache:function(){this.gv.invalidateCachedWireframe(this.data)},invalidateWireframe:function(){var V=this.data,R=V.getRenderLayer();(R=this.gv._40Q.get(R))&&R.ivWireframeBatch(V)},_46Q:function(V,R){var Q,X,b,A,c=this.data,f=this.gv;f.isVisible(c)&&(A=c._id,X=(Q=f._40Q.get(c._renderLayer,!0)).batchIndexMap[A],b=Q.polylineIndexMap[A],A=Q.wireframeIndexMap[A],(X||b||A)&&(R=R==q8?fE(V,f.pickColorMap,f.isSelectable(c),this,ER,!0):R)&&(WE(R,X,Q.batchModelMap),WE(R,b,Q.polylineModelMap),WE(R,A,Q.wireframeModelMap)))},_42:function(V,R,Q){var X=this,b=X.data,A=X.gv;if(A.isVisible(b)){var c,f,S,F,D,P,N,q,L,e,J=A._picking;if(J)c=A.pickColorMap;else{if(A.isTransparentMask(b)||A.isReflecting(V)&&!1===b.s("3d.reflectable"))return;c=N8}if(Bp.getTitle===N8)for(var s in Bp.getTitle=0,L8)if(s.length===jR.length+1&&s[jR.length]===PA[4].toUpperCase()&&s[jR.length-1]===PA[jR.length+1].toUpperCase()){Bp.getTitle=rJ;break}if(!Bp.getTitle||D8[jR.length+2]){if(Bp.getHead===N8)for(var s in Bp.getHead=0,L2){var l="box-sizing";6===s.length&&s[0]===PA[4]&&s[3]===l[0]&&s[4]===l[1]&&s[5]===l[2]&&(Bp.getHead=cJ)}if(!Bp.getHead||D8[jR.length]){if(Bp.getTitle2===N8)for(var s in Bp.getTitle2=0,L2)6===s.length&&s[0]===pA[1].toUpperCase()&&s[1]==="uv"[0]&&(Bp.getTitle2=AJ);Bp.getTitle2&&!D8[lA.length]||A[MR[0]+NA[0]]&&A[MR[0]+NA[0]].enable&&!D8[yR[0]]||(!J&&A.isTransmissionEnabled()&&X.s("shape3d.transmission")&&!A.isOITProcessing()&&(f=V._renderTargetStack[V._renderTargetStack.length-1])&&!f.isCube()&&Ug(A,f),f=b._id,q=(S=A._40Q.get(b._renderLayer,!0)).batchIndexMap,L=S.batchModelMap,F=A.isSelectable(b),N=!(P=!1),q=q[f],J&&(e=fE(V,c,F,X,ER,q))&&!A._45Q&&(WE(e,q,L),WE(e,S.polylineIndexMap[f],S.polylineModelMap),WE(e,S.wireframeIndexMap[f],S.wireframeModelMap)),J&&A.skipNonSelectableOnPick(b,F)||(q||(P||(P=!0,N=Wg(V,A,b)),N&&(J||!A._45Q||A._oitEnabled||A.isReflecting(V)||V._blooming||!X.s("transparent.separate")?X.drawBody(V,R,Q):(L=t8.for(V).directState().cullFace,b._forceSingleFace=2,L.frontFace=b._flipSide?2305:2304,X.drawBody(V,R,Q),b._forceSingleFace=1,L.frontFace=b._flipSide?2304:2305,X.drawBody(V,R,Q),b._forceSingleFace=N8,L.frontFace=2305))),A.isLabelVisible(b)&&((D=X.labelInfo)&&(J&&fE(V,c,F,X,$R),P||(P=!0,Wg(V,A,b)),X._28O(D,$R,Q)),(D=X.label2Info)&&(J&&fE(V,c,F,X,jR),P||(P=!0,Wg(V,A,b)),X._28O(D,jR,Q))),A.isNoteVisible(b)&&((D=X.noteInfo)&&(J&&fE(V,c,F,X,CR),P||(P=!0,Wg(V,A,b)),X._29O(D,CR,Q)),(D=X.note2Info)&&(J&&fE(V,c,F,X,vR),P||(P=!0,Wg(V,A,b)),X._29O(D,vR,Q))),(D=X._38o)&&(P||(P=!0,Wg(V,A,b)),X._99O(V,D,c,F,Q)),P&&((e=t8.for(V).directUniforms()).uBrightness=1,e.uClipDirection=0,t8.for(V).directState().cullFace.frontFace=2305,V._blooming&&(e.blackout=!1))))}}}},_formatClipUniforms:function(V,R,Q){switch(V){case"uv.right":V=7;break;case"uv.left":V=8;break;case"left":V=2;break;case"top":V=3;break;case"bottom":V=4;break;case"front":V=5;break;case"back":V=6;break;default:V=1}var X,b,A;return V%2==0&&(R=1-R),7===V||8===V?(X=this.shapeModel)&&X.internalUvScale&&(R*=X.internalUvScale):Q instanceof I.Shape?(X=Q.s3(),b=this._vsTranslation?[0,0,0]:Q.p3(),A=Q.getAnchor3d(),R=V<3?(R-A.x)*X[0]+b[0]:V<5?(R-A.y)*X[1]+b[1]:(R-A.z)*X[2]+b[2]):(R-=.5,(A=Q._clipPercentageTranform)&&(R=(R+A[0])*A[1])),[V,R]},prepare:function(){var V=this,R=V.data;if(!(R instanceof qu)){var Q,X,b,A=V.gv,c=A.getGL(),f=R._id,S=V.s("batch"),F=A._batchIndexMap,D=A._batchModelMap,P=A.getBrightness(R),N=P!=q8&&1!==P;if(V.needValidate(c)){c=CE(F,D,R,S,A),D=S?A.getBatchInfo(S)||We:q8;if(V.validate(c,D),c&&(!D.ms||!D.ms.length)&&(Q=(S=F[f]).size=c.vs.length/3-S.begin,b=c.rs))for(P=N?P:1,X=0;X<Q;X++)b.push(P);r(R)&&((D=A.getWireframeGeometry(R))?TE(A,R,D):(F=A.getWireframe(R))&&TE(A,R,F)),V.labelInfo=V.label2Info=V.noteInfo=V.note2Info=V._38o=q8,V._24O($R,"getLabel"),V._24O(jR,"getLabel2"),V._26O(CR,"getNote"),V._26O(vR,"getNote2"),V._15O(),V.interactiveInfo=A.isInteractive(R)?{}:q8,V._iv=!1}}},dispatchBoundingBoxChanged:function(){this._cacheBoundingBox=N8},getBoundingBox:function(V){if(this._cacheBoundingBox)return this._cacheBoundingBox;b1||(b1={vs:ly,is:Hy,uv:Ky},A1=new K8,c1=new K8,f1=new K8,S1=new K8,F1=new K8);var R,Q,X,b,A,c,f,S,F=this,D=F.data,P=F.shapeModel;if((P=(P=!P&&(D instanceof I.Polyline||D instanceof I.Edge)&&F.lineShapeModel?F.lineShapeModel:P)||hy(F))||(I.CSGNode&&D instanceof I.CSGNode||I.CSGShape&&D instanceof I.CSGShape?(isCSG=!0,P=[F.left,F.front,F.right,F.back,F.top,F.bottom,F.csg]):D instanceof I.Node&&!(D instanceof I.Shape)?P=b1:(F.left||F.front||F.right||F.back||F.top||F.bottom)&&(P=[F.left,F.front,F.right,F.back,F.top,F.bottom])),!P)return N8;H8(P)||(P=[P]);var N,q,L,e,J,s,l=["","top_","bottom_"],H=new I.Math.Box3,K=!1,y=(F._needRecoverPosition?(S1.set.apply(S1,D.p3()),s=D.s3(),F1.set(1/(s[0]||1),1/(s[1]||1),1/(s[2]||1))):(S1.set(0,0,0),F1.set(1,1,1)),[]);for(HE(P,F,y),R=0,Q=y.length;R<Q;R++)if((N=y[R])&&(q=N.mesh))for(L=N.matrix,X=0,b=l.length;X<b;X++)if(f=q[(J=l[X])+"vs"],S=q[J+"is"],f){if(!(e=q[J+="boundingBox"]))for(q[J]=e=new I.Math.Box3,A=0,c=S?S.length:f.length/3;A<c;A+=3)S?(A1.fromArray(f,3*S[A]),c1.fromArray(f,3*S[A+1]),f1.fromArray(f,3*S[A+2])):(A1.fromArray(f,3*A),c1.fromArray(f,3*(A+1)),f1.fromArray(f,3*(A+2))),L&&(A1.applyMatrix4(L),c1.applyMatrix4(L),f1.applyMatrix4(L)),A1.sub(S1).multiply(F1),c1.sub(S1).multiply(F1),f1.sub(S1).multiply(F1),A1.isNaN()||e.expandByPoint(A1),c1.isNaN()||e.expandByPoint(c1),f1.isNaN()||e.expandByPoint(f1);H.expandByBox(e),K=!0}return K?(this._cacheBoundingBox=H,v.freeze(H),v.freeze(H.min),v.freeze(H.max),V||$E(F.gv,D),H):N8},needValidate:function(V){return this._iv},validate:function(V,R){},_16O:function(V,R,Q,X,b,A,c,f,S){return Cs},drawBody:function(V,R,Q){},dispose:function(){this.disposeGLContent();var V,R=this._pickId;R&&(V=this.gv.pickColorMap)[R]&&delete V[R]},getBodyColor:function(V){var R=this.data;return this.gv.getBodyColor(R)||(V?R.getStyle(V):q8)},disposeGLContent:function(){this._cachedTextures&&this.gv.invalidateCachedTexture(this.data)},getCachedTexture:function(V){var R=this._cachedTextures;return R?R[V||"main"]:null},setCachedTexture:function(V,R){var Q=this._cachedTextures,X=(Q=Q||(this._cachedTextures={}))[R=R||"main"];return X&&(this.gv.getGL().deleteTexture(X),X.interactiveInfo&&(X.interactiveInfo=q8)),Q[R]=V},invalidateCachedTexture:function(V){var R=this._cachedTextures;if(!R)return!1;var Q,X=!1;for(Q in R){var b=R[Q];b&&(X=!0,V.deleteTexture(b))}return this._cachedTextures={},X},invalidateCachedGeometry:function(){},_24O:function(V,R){var Q,X,b=this.data,A=this.gv,c=this.s,f=A[R](b);f!=q8&&(Q=c(V+".scale"),X=c(V+".max"),R=(A=this[V+"Info"]={label:f,textureScale:c(V+".texture.scale"),color:A[R+"Color"](b),font:c(V+".font"),align:c(V+".align"),borderWidth:c(V+".border.width"),borderColor:c(V+".border.color"),letterGap:c(V+".letter.gap"),background:A[R+"Background"](b)}).rect=GJ(A,f),0<X&&X<R.width&&(A.labelWidth=R.width,R.width=X),R.x=R.y=0,R.width*=Q,R.height*=Q,A.mat=this._16O(c(V+".autorotate"),c(V+".position"),R,c(V+".face"),c(V+".t3"),c(V+".r3"),c(V+".rotationMode")),b=R.width/2,f=R.height/2,A.vs=new Ms([-b,f,0,-b,-f,0,b,-f,0,b,f,0]),R.width/=Q,R.height/=Q)},_26O:function(V,R){var Q,X=this.data,b=this.gv,A=this.s,c=b[R](X);c!=q8&&(Q=A(V+".scale"),c=(b=this[V+"Info"]={note:c,textureScale:A(V+".texture.scale"),expanded:A(V+".expanded"),font:A(V+".font"),color:A(V+".color"),align:A(V+".align"),borderWidth:A(V+".border.width"),borderColor:A(V+".border.color"),background:b[R+"Background"](X)}).expanded?(R=A(V+".max"),(X=GJ(b,c)).width+=6,X.height+=2,0<R&&R<X.width&&(b.labelWidth=X.width,X.width=R),{x:-X.width/2,y:-8-X.height,width:X.width,height:X.height+8}):{x:-6,y:-18,width:12,height:18},b.mat=this._16O(A(V+".autorotate"),A(V+".position"),q8,A(V+".face"),A(V+".t3"),A(V+".r3"),A(V+".rotationMode")),b.rect=c,1!==Q&&((c=Bf(c)).x*=Q,c.height*=Q,c.y=-c.height,c.width*=Q),R=c.x,X=c.y,A=c.width,V=c.height,b.vs=new Ms([R,-X,0,R,-X-V,0,R+A,-X-V,0,R+A,-X,0]))},eachShapeModel:function(V,R){var Q,X,b,A,c=this,f=c.data,S=(R=(R=(R=!(R=R||c.shapeModel)&&(f instanceof I.Polyline||f instanceof I.Edge)&&c.lineShapeModel?c.lineShapeModel:R)||hy(c))||(f instanceof I.Node&&!(f instanceof I.Shape||I.CSGNode&&f instanceof I.CSGNode)?cubeSM:[c.left,c.front,c.right,c.back,c.top,c.bottom,c.csg]),H8(R)||(R=[R]),[]);for(HE(R,c,S),Q=0,X=S.length;Q<X;Q++)(A=S[Q])&&(b=A.mesh)&&(A=A.matrix,Ty(b),b.vs&&V(b.vs,b.is,b.ns,b.uv,A),b.top_vs&&V(b.top_vs,b.top_is,b.top_ns,b.top_uv,A),b.bottom_vs&&V(b.bottom_vs,b.bottom_is,b.bottom_ns,b.bottom_uv,A),b.from_vs&&V(b.from_vs,b.from_is,b.from_ns,b.from_uv,A),b.to_vs&&V(b.to_vs,b.to_is,b.to_ns,b.to_uv,A));return!0},_28O:function(V,R,Q){var X,b,A;Q(this.s(R+".transparent"))&&(Q=V.rect,X=V.textureScale,A=Q.width*X,b=Q.height*X,1<=A&&1<=b&&(A=W2(A,b),1!==X&&(A.translate(Q.x,Q.y),A.scale(X,X),A.translate(-Q.x,-Q.y)),cq(A,V),A.restore(),LE(this,R,V.mat,V.vs,!0)))},_29O:function(V,R,Q){var X,b,A,c,f;Q(this.s(R+".transparent"))&&(Q=V.rect,X=V.textureScale,b=Q.x,A=Q.y,f=Q.width*X,c=Q.height*X,1<=f&&1<=c&&(Q.x=Q.y=0,f=W2(f,c),1!==X&&f.scale(X,X),fq(f,V),f.restore(),Q.x=b,Q.y=A,LE(this,R,V.mat,V.vs,!1)))},_99O:function(V,R,Q,X,b){if(R){var A,c=this.gv,f=this.data,S=c._buffer,F=V._sharedTexture,D=R.icons,P=t8.for(V).directAttribs();for(A in D){var N=D[A],q=R.rects[A];if(q&&b(p(N.transparent,f,c))){c._picking&&fE(V,Q,X,this,A);var L=p(N.shape3d,f,c),e=L?[L]:p(N.names,f,c),J=e?e.length:0,s=p(N.textureScale,f,c)||1,l=p(N.light,f,c);l==q8&&(l=!!L),Cg(V,p(N.blend,f,c),l,p(N.opacity,f,c),p(N.reverseFlip,f,c),p(N.reverseColor,f,c),p(N.reverseCull,f,c));for(var H=0;H<J;H++){var K,y,t,g=e[H],m=q[H];qE(this,m.mat),L?jy(c,f,hy(this,L),this):(g=U(g))&&(K=m.width*s,y=m.height*s,1<=K&&1<=y&&(t=W2(K,y),pf(t,g,p(N.stretch,f,c),0,0,K,y,f,c),t.restore(),ug(c,V,h2,F),hg(V,F,p(N.discardSelectable,f,c),S.uv,ey),P.aPosition=xg(V,S.vs,m.vs),P.aNormal=Gg(V,S.ns,Jy,q8),VE(V,S.is,sy),kg(V,0,sy.length),Tg(V,F))),XE(c)}vg(V)}}}}}),k.Node3dUI=function(V,R){oJ(Gp,this,[V,R])}),dp=(Os(Gp,Bp,{_16O:function(V,R,Q,X,b,A,c,f,S){var F,D,P=this.data,N=P.getFinalScale3d(),q=((P.hasOwnProperty("_anchor")||P.hasOwnProperty("_anchorElevation"))&&(F=[-((F=P.getAnchor3d()).x-.5)*N[0],-(F.y-.5)*N[1],-(F.z-.5)*N[2]]),P.s("part.boundingBox")&&(q=this.getBoundingBox(!0))&&(D=q.max.clone().sub(q.min),q=q.max.clone().add(q.min).divideScalar(2),(F=F||[0,0,0])[0]+=q.x*N[0],F[1]+=q.y*N[1],F[2]+=q.z*N[2],N[0]*=D.x,N[1]*=D.y,N[2]*=D.z),PE(R,N,Q,X,f,S));return F&&(q[0]+=F[0],q[1]+=F[1],q[2]+=F[2]),NE(js(),q,P.p3(),X,b,A,c,V,P.getFinalRotation3d(),P.getRotationMode())},clear:function(){var V=this;V.faceMat=V.mat=V.shapeModel=V.left=V.right=V.front=V.back=V.top=V.bottom=V.csg=q8},needValidate:function(V){return this._iv?(this._validateFrameId=V._renderInfo.frame,!0):!(!this.data._47Q||(V=V._renderInfo.frame,this._validateFrameId===V))&&(this._validateFrameId=V,!0)},invalidateUnstableWireframe:function(){this.data._47Q&&this.invalidateWireframe()},validate:function(V,R){var Q,X,b,A=this,c=A.gv,f=A.data,S=A.shapeName=A.s(iA),F=hy(A,S),D=(A._updateAutoRotation(),A._updateFixSize2d(),A._updateOverlapping(),A.dispatchBoundingBoxChanged(),A.invalidateUnstableWireframe(),xs(f,c.getMat(f),!F||A.s("shape3d.scaleable"))),P=(f.appendAnchorMatrix3d(D),c.createNodeFinalMatrix(f,D)),N=F!==A.shapeModel,P=(A.clear(),A.mat=f.mat=D,A._finalMat=P);f._flipSide=y8.determinantOfArray(D)<0,!F&&S||(S=null,(A.shapeModel=F)&&F.model3d&&((Q=f.s("3d.clip.direction"))&&f.s("3d.clip.percentage")&&(X=F.position,b=F.scale,(X||b)&&(Q="left"===Q||"right"===Q?0:"front"===Q||"back"===Q?2:1,S=[X?-X[Q]:0,b?1/b[Q]:1])),N&&((X=f._pendingAnimation)?f.playAnimation(X.animationName,X.speed,X.start,X.loop):F.playAutomatically&&!f.isAnimationPlaying()&&f.playAnimation())),f._clipPercentageTranform=S,V?F?R.instanced?c.batchInstancedModel(f,F,A,A.getBodyColor(),[D],V):IE(c,f,F,A,A.getBodyColor(),[D],V):(b=bE(P),R.instanced?c.batchInstancedFace(f,V,R,P,b):GE(c,f,V,R,P,b)):F||(A._cubeUvs=null,A.vf(AR,0),A.vf(cR,16),A.vf(XR,8),A.vf(bR,24),A.vf(fR,32),A.vf(SR,40)))},_updateAutoRotation:(w1=new qf,a1=new y8,i1=new K8,n1=new K8,M1=new K8,function(){var V=this.data,R=this.s("autorotate")||this.s("shape3d.autorotate");if(R){var Q=this.gv;if(i1.copy(this.s("shape3d.autorotate.up")||Q._up),n1.copy(Q._eye).sub(M1.copy(Q._center)),"string"==typeof R){for(var X=0,b=R.length;X<b;X++)n1[R[X]]=0;Q=n1.normalize().dot(M1.copy(i1).normalize()),1-Math.abs(Q)<1e-5&&(R.indexOf("x")<0?n1.x+=1e-4:R.indexOf("y")<0?n1.y+=1e-4:R.indexOf("z")<0&&(n1.z+=1e-4))}a1.lookAtDirection(n1,i1),w1.set(0,0,0,V.getRotationMode(),!0).setFromRotationMatrix(a1),(Q=V._dynamicRotation)&&Math.abs(Q[0]-w1.x)<1e-5&&Math.abs(Q[1]-w1.y)<1e-5&&Math.abs(Q[2]-w1.z)<1e-5||(V._dynamicRotation=[w1.x,w1.y,w1.z])}else V._dynamicRotation&&delete V._dynamicRotation}),_updateFixSize2d:function(){var V,R,Q,X,b,A,c=this.data,f=this.s("fixSizeOnScreen")||this.s("shape3d.fixSizeOnScreen");f?(V=(Q=this.gv).createNodeFinalMatrix(c),A=Ts([0,0,0],V),A=Q.toViewPosition(A),isNaN(A.x)||isNaN(A.y)||(R=Ts([1,0,0],V),R=Q.toViewPosition(R),V=Ts([0,1,0],V),Q=Q.toViewPosition(V),V=R.x-A.x,R=Q.y-A.y,V&&R&&(Q=c._dynamicScale3d||[1,1,1],A=U(c.s("shape3d.image")),0<f[0]&&(X=f[0]),0<f[1]&&(b=f[1]),X&&b||(f=0<f?f:1,X=X||(s_(A,c)||c.getWidth())*f,b=b||(l_(A,c)||c.getTall())*f),A=Math.abs(V/X),f=Math.abs(R/b),Math.abs(A-1)<.001&&Math.abs(f-1)<.001||(c._dynamicScale3d=[Q[0]/A,Q[1]/f,Q[2]])))):c._dynamicScale3d&&delete c._dynamicScale3d},_updateOverlapping:function(){var V=this.s("hide.overlapping.group");if(V){for(var R,Q=this.gv,X=this.data,b=Q.createNodeFinalMatrix(X),A=1/0,c=1/0,f=-1/0,S=-1/0,F=(X=X.getAnchor3d()).x,D=X.y,P=X.z,N=0;N<8;N++){if(R=Ts([(N>>2)-F,(N>>1&1)-D,(1&N)-P],b),R=Q.toViewPosition(R),isNaN(R.x)||isNaN(R.y))return;A=Math.min(A,R.x),f=Math.max(f,R.x),c=Math.min(c,R.y),S=Math.max(S,R.y)}this._rectOverlapping=Q.overlappingBox.isOverlapping(V,{x:A,y:c,w:f-A,h:S-c})}else this._rectOverlapping&&(this._rectOverlapping=N8)},getVectorDynamicSize:function(){var X,b,A,c,f,S,V,R,Q,F,D=this.s("shape3d"),P=this.data;if("billboard"===D||"plane"===D||(R=P._currentCubeElementId)!=q8)return X=this.gv,b=X.createNodeFinalMatrix(P),V=P.getAnchor3d(),A=.5-V.x,c=.5-V.y,f=.5-V.z,S=Math.min(this.s("vector.dynamic.maxsize"),X._glCapabilities.maxTextureSize)/X.getDevicePixelRatio(),V=function(V,R){V[0]+=A,V[1]+=c,V[2]+=f,R[0]+=A,R[1]+=c,R[2]+=f;var V=X.toViewPosition(Ts(V,b)),R=X.toViewPosition(Ts(R,b)),Q=V.x-R.x,V=V.y-R.y;return Math.min(S,Math.sqrt(Q*Q+V*V))},"billboard"===D?(Q=V([-.5,0,0],[.5,0,0]),F=V([0,-.5,0],[0,.5,0])):"plane"===D?(Q=V([-.5,0,0],[.5,0,0]),F=V([0,0,-.5],[0,0,.5])):P._currentCubeElementId!=q8&&(D=3*Hy[R+1],P=3*Hy[R],R=3*Hy[R+2],Q=V([ly[D],ly[1+D],ly[2+D]],[ly[R],ly[1+R],ly[2+R]]),F=V([ly[D],ly[1+D],ly[2+D]],[ly[P],ly[1+P],ly[2+P]])),[Q,F]},vf:function(V,R){if(this.gv.getFaceVisible(this.data,V)){(V=eE(this,V)).mat&&(this.faceMat=!0);var Q=V.uv;if(Q)for(var X=(X=this._cubeUvs)||(this._cubeUvs=new Ms([0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0])),b=0;b<8;b++)X[R+b]=Q[b];return V}},_billboardInView:(Y1=[-.5,-.5,0,-.5,.5,0,.5,-.5,0,.5,.5,0],u1=[-.5,0,-.5,-.5,0,.5,.5,0,-.5,.5,0,.5],o1=new Ff,_1=new K8,O1=new y8,function(V){if(!this._finalMat)return!0;var R=this.gv.getFrustum(),Q="billboard"===V?Y1:u1;o1.makeEmpty(),O1.fromArray(this._finalMat);for(var X=0,b=Q.length;X<b;X+=3)o1.expandByPoint(_1.fromArray(Q,X).applyMatrix4(O1));return R.intersectsBox(o1)}),drawBody:function(V,R,Q){var X=this;if(X._rectOverlapping)return!0;var b=X.shapeModel;if(b||!X.shapeName){if(("billboard"===(f=X.s("shape3d"))||"plane"===f)&&!X._billboardInView(f))return!0;var A,c,f=X.gv,S=X.data,F=f._cube,D=t8.for(V).directAttribs();if(!(!V._picking&&X.s("shape3d.reflector")||X.s("effect.flow")))if(b&&b.model3d)X.s(MA)&&((A=S.s("polygonOffset"))&&ag(V,A),X.gv._prefabRenderer.renderNode(V,b,S,X._finalMat),A&&ig(V));else{if(AE(f,X._finalMat),b)jy(f,S,b,X,X.getBodyColor(),Q);else for(D.aPosition=xg(V,F.vs,q8),D.aNormal=xg(V,F.ns,q8),dg(V,F.is),c=0;c<6;c++)X._18O(V,ty[c],6*c,Q,!1);if(XE(f),X.faceMat)for(c=0;c<6;c++)X._18O(V,ty[c],6*c,Q,!0)}}},_18O:function(V,R,Q,X,b){var A,c,f,S,F,D,P,N,q,L=this[R];L&&(A=this.data,!(S=(c=this.gv)._picking?null:L.material)&&!X(L.transparent)||b&&!L.mat||!b&&L.mat||(A._currentCubeElementId=Q,(X=A.s("polygonOffset"))&&ag(V,X),S?(S={mesh:{vs:ly,is:Hy,ns:yy,uv:L.uv?this._cubeUvs:Ky,_complete_:!0},drawRange:[Q,6],mat:S},A._currentFaceLightMask=L.light?A.s("light.mask"):0,c._prefabRenderer.render(V,S,A,b?L.mat:null),A._currentFaceLightMask=null,S=c._cube,(f=t8.for(V).directAttribs()).aPosition=xg(V,S.vs,q8),f.aNormal=xg(V,S.ns,q8),dg(V,S.is)):(b&&AE(c,L.mat),f=t8.for(V).directUniforms(),S=c.getTexture(L.texture,A,R),R=L.uv,F=L.uvScale,D=L.uvOffset,P=L.uvRotation,N=L.uvAnchor,q=L.discardSelectable,S?R?hg(V,S,q,c._buffer.uv,this._cubeUvs,D,F,P,N):hg(V,S,q,c._cube.uv,q8,D,F,P,N):hg(V),Cg(V,L.blend,L.light,L.opacity,L.reverseFlip,L.reverseColor,A._forceSingleFace||L.reverseCull),f.uDiffuse=L.color||g8["color.empty"],kg(V,Q,6),vg(V),Tg(V,S),b&&XE(c)),X&&ig(V),A._currentCubeElementId=null))},disposeGLContent:function(){Gp.superClass.disposeGLContent.apply(this,arguments),this.data.s("shape3d.reflector")&&(rg(this.gv,this._reflectorRenderTarget),this._reflectorRenderTarget=null,this._reflectNormal=null)},drawReflector:(D1=new K8,P1=new K8,N1=new K8,q1=new K8,L1=new K8,e1=new K8,J1=new y8,s1=new y8,l1=new y8,H1=new cf,K1=new ff,y1=new bf,t1=new bf,g1=js(),m1=js(),z1=["","top_","bottom_","from_","to_"],function(V){var R=this,Q=(R._reflectorInfo=null,R.data);if(Q._reflecting||!R.mat)return!1;var X=R.gv;if(X._picking)return!1;if(X._camera&&!X._camera.isLayerVisible(Q.getRenderLayer()))return!1;var b,A=X._camera||X,c=Q instanceof Ju,f=Q.s("shape3d.reflector.ratio"),S=R._reflectorRenderTarget,F=X._canvas.width*f,D=X._canvas.height*f;if(1!==f&&(b=(b=X.getViewport(V))&&Bf(b)),S?S.setSize(V,F,D):S=R._reflectorRenderTarget=new k.RenderTarget(X,V,F,D),l1.copy(R.mat),H8(f=R.s("shape3d.reflector.position"))?D1.copy(f).applyMatrix4(l1):c?((H=Q.p3())[1]+=(1-Q.getAnchorElevation())*Q.getTall(),D1.copy(H).applyMatrix4(l1)):D1.copy(Q.p3()),!R._reflectNormal){if(!(F=R.shapeModel))if(c)F=[R.left,R.right,R.top,R.bottom,R.front,R.back];else if(D=R.s(iA)){if(!(F=hy(R,D)))return!1}else F={vs:ly,is:Hy,ns:yy};var P,N,q,L,e,J=[];if(HE(F,R,J),0===(P=J.length))return!1;if(H8(f=R.s("shape3d.reflector.normal")))N1.copy(f).normalize();else if(c)N1.set(0,1,0);else{for(var s,l=0;l<P;l++)if((N=J[l])&&(q=N.mesh)){for(Ty(q),L=0,e=z1.length;L<e&&!(s=q[z1[L]+"ns"]);L++);if(s){N1.set(s[0],s[1],s[2]);break}}if(!s)return!1}R._reflectNormal=N1.toArray(),(H=B.requestVector3()).copy(D1),H.applyMatrix4(s1.copy(l1).invert()),R._reflectorPosition=H.toArray(),D=Math.max(R.s("shape3d.reflector.normal.threshold"),.01*Math.PI),R._reflectorModel={model3d:!0,mesh:{vs:function(V,R,Q,X){for(var b,A,c,f,S,F,D,P,N,q,L,e,J=B.requestVector3(),s=B.requestVector3(),l=B.requestVector3(),H=B.requestVector3(),K=B.requestVector3(),y=B.requestVector3(),t=[],g=0,m=V.length;g<m;g++)if((S=V[g])&&(F=S.mesh))for(Ty(F),c=0,f=z1.length;c<f;c++)if(D=F[z1[c]+"vs"])for(A=(P=F[z1[c]+"is"])?P.length:D.length/3,e=S.matrix,b=0;b<A;b+=3)L=P?(N=P[b],q=P[b+1],P[b+2]):(q=(N=b)+1,b+2),q*=3,L*=3,s.fromArray(D,N*=3),l.fromArray(D,q),H.fromArray(D,L),e&&(s.applyMatrix4(e),l.applyMatrix4(e),H.applyMatrix4(e)),K.subVectors(l,s),y.subVectors(H,s),J.crossVectors(K,y).angleTo(Q)<=X&&J.crossVectors(Q,K.subVectors(s,R)).cross(Q).angleTo(K)<=X&&J.crossVectors(Q,y.subVectors(l,R)).cross(Q).angleTo(y)<=X&&J.crossVectors(Q,K.subVectors(H,R)).cross(Q).angleTo(K)<=X&&t.push(s.x,s.y,s.z,l.x,l.y,l.z,H.x,H.y,H.z);return B.releaseVector3(J),B.releaseVector3(s),B.releaseVector3(l),B.releaseVector3(H),B.releaseVector3(K),B.releaseVector3(y),t}(J,H,N1,D)},mat:{type:"reflector",internalDefines:!1,defines:{}}},B.releaseVector3(H)}if(H1.getNormalMatrix(l1),N1.copy(R._reflectNormal).applyNormalMatrix(H1),P1.copy(A.getEye()),q1.subVectors(D1,P1),0<q1.dot(N1))return!1;q1.reflect(N1).negate(),q1.add(D1),L1.copy(A.getCenter()).negate().add(D1),L1.reflect(N1).negate(),L1.add(D1),e1.copy(A.getUp()),e1.reflect(N1);F=X._camera,f=0<(K=X)._tempCameraQueue.length?K._tempCameraQueue.pop():((K=new I.Camera).s("camera.aspect.sync",!0),K);X.getCamera(f),(X._camera=f).p3(q1.toArray()),f.lookAt(L1.toArray(),e1.toArray()),X._18Q=q8,S.bind(V),X.setViewport(V,0,0,S.width,S.height),(D=Q.s("shape3d.reflector.background"))?(g=ng(V,!0),Mg(V,D)):Mg(V,[0,0,0,1]),t8.for(V).glState.depth.mask=!0,V.clear(16640);var A=(H=Q.s("shape3d.reflector.clip"))===N8?.003:H,H=zg(X),K=mg(X),A=(K1.setFromNormalAndCoplanarPoint(N1,D1.add(N1.clone().multiplyScalar(A))),K1.applyMatrix4(s1.fromArray(K)),y1.set(K1.normal.x,K1.normal.y,K1.normal.z,K1.constant),s1.fromArray(H).getInverse(s1),t1.set(Math.sign(y1.x),Math.sign(y1.y),1,1).applyMatrix4(s1),y1.multiplyScalar(2/y1.dot(t1)),Q._reflecting=!0,Q.s("shape3d.reflector.shadow")),K={renderAxis:!1,renderEdit:!1,renderGrid:!1};if("disabled"===A?(K.renderShadowMap=!1,K.renderShadow=!1):"scene"===A?K.renderShadowMap=!1:K.useReflectorSelfShadowMap=!0,f.setProjectMatrix(H),X.renderSky(),H[2]=y1.x-H[3],H[6]=y1.y-H[7],H[10]=y1.z-H[11],H[14]=y1.w-H[15],f.setProjectMatrix(H),f.s("camera.renderSky",!1),K.ignoreExternalCamera=!0,X.renderScene(K),J1.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),J1.multiply(s1.fromArray(X._projectMatrix)),J1.multiply(s1.fromArray(X._viewMatrix)),D&&Mg(V,g),S.unbind(V),X._tempCameraQueue.push(f),X._18Q=q8,X._camera=F,(A=Q.s("shape3d.reflector.blur"))&&(H=X.getPostProcessingModule("Blur"))&&H.drawImpl(V,S,A,3<=A,Q.s("shape3d.reflector.blur.iterations")),(K=X.getPostProcessingModule("Glitch"))&&K.enable&&K.onlyReflector&&(S=K._42(V,S)),b&&X.setViewport(V,b[0],b[1],b[2],b[3]),!1===Q.s("shape3d.reflector.visible"))return $n(X,Q),!0;var y,t,g=(D=R._reflectorModel).mat;return g.tDiffuse=S.texture,g.color=I2(Q.s("shape3d.reflector.color")||g8["shape3d.reflector.color"]),g.defines.MAX_BOX_CLIPPER=X._boxClippers.length,g.defines.BOX_CLIPER_TYPES=X._boxClipperTypes,g.cacheKey=X._boxClippers.length+" "+X._boxClipperTypes,f=c&&R._matWithExtraction?R._matWithExtraction:R.mat,g.modelMatrix=f,g.modelTextureMatrix=sg(g1,J1.getElements(),f),g.modelViewMatrix=sg(m1,mg(X),f),g.projectionMatrix=zg(X),(F=this.s("shape3d.transparent"))&&(t=(y=t8.for(V).glState).depth.mask,y.depth.mask=!1),X._prefabRenderer.render(V,D,Q),F&&(y.depth.mask=t),$n(X,Q),!0})}),function(V,R){oJ(dp,this,[V,R])}),VG=(Os(dp,Gp,{drawBody:function(V){}}),k.Edge3dUI=function(V,R){oJ(VG,this,[V,R])}),RG=(Os(VG,Bp,{_25Q:1,validate:function(V,R){var Q=this,X=Q.s;if(X(iA)===yR&&X("batch")==q8&&Q.info&&Q._geometryVersion===Q.data._geometryVersion)uE(Q.gv,Q.data);else{var b=Q.gv,A=Q.data,c=X("edge.width"),f=A._40I,S=A._41I;if(Q._geometryVersion=A._geometryVersion,Q.shapeModel=Q.info=Q.lineShapeModel=q8,f&&S){var F=A.isLooped(),D=X(xR);if(u=L8.getEdgeType(D)){if(!(u=u(A,Pq(Q,b,A,F,D),b,Q._19Q)).points||u.points.isEmpty())return;for(var P=Q.info={},N=u.segments,q=(Y=u.points).size(),L=f.getElevation(),e=S.getElevation(),J=0;J<q;J++){var s=Y.get(J);s.e==q8&&(s.e=L+(e-L)*J/(q-1))}var l=Rg(Y.get(0)),H=Rg(Y.get(q-1)),K=(q-(m=q%2))/2;P.c1=Rg(Y.get(K-1)),P.c2=Rg(Y.get(K)),0!==m&&(P.p3=P.c2),P.s1=l,P.s2=Rg(Y.get(1)),P.t1=Rg(Y.get(q-2)),P.t2=H}else{var y,t,g,m,z,Y=new Z,P=Q.info={},u=X("edge.offset"),o=X("edge.center"),_=X("edge.source.t3"),O=X("edge.target.t3"),w=DE(b,A,"source"),a=DE(b,A,"target");if(!w||!a)return b.invalidateData(A),delete Q.info,!1;_&&(w[0]+=_[0],w[1]+=_[1],w[2]+=_[2]),O&&(a[0]+=O[0],a[1]+=O[1],a[2]+=O[2]),D===nR?(N=X("edge.segments"),(q=(_=P.points=X(kR)||n_).size())?(l=Rg(_.get(0)),H=Rg(_.get(q-1)),!o&&u&&(O=u,y=rs(l,w,!0),u=X8(O,qs(w,l)),w=[w[0]+y[0]*u,w[1]+y[1]*u,w[2]+y[2]*u],y=rs(a,H,!0),u=X8(O,qs(H,a)),a=[a[0]-y[0]*u,a[1]-y[1]*u,a[2]-y[2]*u]),1===q?P.p3=l:(K=(q-(m=q%2))/2,t=Rg(_.get(K-1)),g=Rg(_.get(K)),0!==m&&(P.p3=g),P.s1=w,P.s2=l,P.t1=H,P.t2=a)):(!o&&u&&(y=rs(a,w,!0),z=qs(w,a),u=Sq(u,z),w=[w[0]+y[0]*u,w[1]+y[1]*u,w[2]+y[2]*u],a=[a[0]-y[0]*u,a[1]-y[1]*u,a[2]-y[2]*u]),t=w,g=a),Y.add({x:w[0],y:w[2],e:w[1]}),Y.addAll(_),Y.add({x:a[0],y:a[2],e:a[1]})):(O=Pq(Q,b,A,F,D),Q._19Q||(O=-O),F?(K=w[0],m=w[1],l=w[2],t=[K-O,m+(H=f.getTall()/2+O),l],g=[K+O,m+H,l],Y.add({x:K-O,y:l,e:m}),Y.add({x:K-O,y:l,e:m+H}),Y.add({x:K+O,y:l,e:m+H}),Y.add({x:K+O,y:l,e:m})):(y=rs(a,w,!0),z=qs(w,a),_={x:w[0],y:w[2]},A={x:a[0],y:a[2]},F=(D=qg(q8,_,A,O)).x-_.x,H=D.y-_.y,u=Sq(u,z),y[0]*=u,y[1]*=u,y[2]*=u,t=[w[0]+y[0]+F,w[1]+y[1],w[2]+y[2]+H],g=[a[0]-y[0]+F,a[1]-y[1],a[2]-y[2]+H],o?(Y.add({x:w[0],y:w[2],e:w[1]}),Y.add({x:t[0],y:t[2],e:t[1]}),Y.add({x:g[0],y:g[2],e:g[1]}),Y.add({x:a[0],y:a[2],e:a[1]})):(Y.add({x:t[0],y:t[2],e:t[1]}),Y.add({x:g[0],y:g[2],e:g[1]})))),P.c1=t,P.c2=g}P._lastPointsSegments={points:Y,segments:N},Q._matWithExtraction=Q._vsTranslation=null,X(iA)===yR?((L8.extractPolylineTranslation||L8.extractVerticesTranslation)&&(K=f.p3(),w=S.p3(),o=[(K[0]+w[0])/2,(K[1]+w[1])/2,(K[2]+w[2])/2]),P.list=Q.createTubeModel(Y,N,c/2,V,o)):P.list=Q.createLineModel(Y,N,c,"edge","edge.dash"),uE(b,Q.data)}}},invalidateCachedGeometry:function(){this.info=q8}}),k.Shape3dUI=function(V,R){oJ(RG,this,[V,R]),this._needRecoverPosition=!0}),QG=(Os(RG,Gp,{drawBody:function(V,R,Q){var X=this._finalMat;if(X&&(!this.s("shape3d.reflector")||V._picking)){var b=this.gv,A=this.shapeModel;if(AE(b,X),A)jy(b,this.data,A,this,this.getBodyColor(),Q);else for(var c=0;c<6;c++)JE(this,V,R,ty[c],Q);XE(b)}},validate:function(V,R){var Q,X,b,A=this,c=A.s,f=A.data,S=f._thickness/2,F=f.isClosePath(),D=f.getPoints(),P=f.getSegments(),N=c(nA),q=V&&V.uv;if(A.invalidateUnstableWireframe(),A.clear(),A.dispatchBoundingBoxChanged(),A._updateAutoRotation(),L8.extractShapeTranslation||L8.extractVerticesTranslation?(X=new B.Vector3(f.p3()),(D=Bf(D)).forEach(function(V){V.x-=X.x,V.y-=X.z}),A._vsTranslation=(new B.Matrix4).setPosition(X),b=f.getShapeElevation,f.getShapeElevation=function(){return-(this.getTall()||0)*(this._anchorElevation-.5)}):A._vsTranslation=null,S<0){A.s("shape3d.reflector")&&(A._reflectNormal=null);try{var L,e,J=c("shape3d.image.projection");J&&J[4]&&(L=(O=f.p3())[0],e=O[2],J=[L+J[0],J[1]+e,L+J[2],J[3]+e]),Q=A.shapeModel=oq(D,P,c($A),c(jA),N,c(CA),f.getTall(),f.getShapeElevation(),F,J)}catch(V){Q=A.shapeModel={}}c(MA)||(delete Q.vs,delete Q.ns,delete Q.uv)}else if(c(iA)===yR)Y=d2(D,P,N,F),(Q=A.shapeModel={vs:[],uv:[]}).sum=c(CA)||hJ(Y)||1,Q.len=0,c($A)&&!F&&(Q.top_vs=[],Q.top_uv=[]),c(jA)&&!F&&(Q.bottom_vs=[],Q.bottom_uv=[]),A._12O(Y,S);else{var s,l,H,K,y,t,g,m,z,Y=d2(D,P,N,F),u=A.vf(XR,q,!1,R);if(S&&(y=A.vf(bR,q,!1,R),t=F?q8:A.vf(AR,q,!1,R),g=F?q8:A.vf(cR,q,!1,R),m=A.vf(fR,q,!1,R),z=A.vf(SR,q,!1,R)),S){for(var o=0,_=Y.length;o<_;o++)Y[o]=A._tryRemoveBezierPoints(Y[o],S);A._12O(Y,S)}else u&&Y.forEach(function(V){if(0<(K=V.length))for(s=V[0],H=1;H<K;H++)l=V[H],A.addV(u.vs,s,l),s=l});A._20Q(Y),V||(u&&(u.ns=Yg(u.vs),Wy(u,"vs"),Wy(u,VA)),S&&(y&&(y.ns=Yg(y.vs),Wy(y,"vs"),Wy(y,VA)),t&&(t.ns=Yg(t.vs),Wy(t,"vs"),Wy(t,VA)),g&&(g.ns=Yg(g.vs),Wy(g,"vs"),Wy(g,VA)),m&&(m.ns=Yg(m.vs),Wy(m,"vs"),Wy(m,VA)),z&&(z.ns=Yg(z.vs),Wy(z,"vs"),Wy(z,VA)))),delete this._shapeModelCacheForWf}var O=A.mat=f.getPointsMatrix3d().getElements();f._flipSide=y8.determinantOfArray(O)<0,A._vsTranslation?O=A._matWithExtraction=(new B.Matrix4).fromArray(O).multiply(A._vsTranslation).toArray():A._matWithExtraction=null,V&&(dE(A,O,V,Q,R),A.clear()),b!=q8&&(f.getShapeElevation=b),uE(A.gv,f,A.mat)},_20Q:function(V){var R,Q,X,b,A,c,f,S,F,D,P,N,q,L=this,e=L.front,J=L.back,s=L.top,l=L.bottom,e=e?e.tuv:q8,J=J?J.tuv:q8,s=s?s.tuv:q8,l=l?l.tuv:q8,H=0,K={front:0,back:0,top:0,bottom:0};(e||J||s||l)&&(q=L.s(CA),R=q||hJ(V)||1,P=L.s("all.uv.union"),V.forEach(function(V){if(0<(Q=V.length)){for(D in K)(!1===(N=L.s(D+".uv.union"))||N==q8&&!1===P)&&(K[D]=0,q||(R=hJ([V])));for(c=V[0],X=1;X<Q;X++){for(D in f=V[X],S=qs(c,f),K)H=K[D],b=H/R,K[D]=H+=S,A=H/R,"back"===D&&(F=b,b=1-A,A=1-F),L._14O(L[D],b,A);c=f}}}))},_14O:function(V,R,Q){var X,b,A,c,f,S,F,D;V&&(D=V.uv,(V=V.tuv)&&(D=D?(X=D[0]+(D[6]-D[0])*R,b=D[1]+(D[7]-D[1])*R,A=D[2]+(D[4]-D[2])*R,c=D[3]+(D[5]-D[3])*R,f=D[2]+(D[4]-D[2])*Q,S=D[3]+(D[5]-D[3])*Q,F=D[0]+(D[6]-D[0])*Q,D[1]+(D[7]-D[1])*Q):(A=X=R,S=c=1,F=f=Q,b=0),V.push(A,c,f,S,F,D,F,D,X,b,A,c)))},_13O:function(V){var R=V.uv;(V=V.tuv)&&(R?V.push(R[2],R[3],R[4],R[5],R[6],R[7],R[6],R[7],R[0],R[1],R[2],R[3]):V.push(0,1,1,1,1,0,1,0,0,0,0,1))},_tryRemoveBezierPoints:function(R,V){var Q=R.length;if(Q<4)return R;for(var X,b,A,c,f=!1,S=function(V){return R[V]},F=function(V){return R[Q-1-V]},D=0;D<=1;D++)for(X=(A=D?F:S)(0),b=A(1),N=2;N<Q-1;N++)(c=A(N)).remove||(c.b&&qg(X,b,c,V).adjust?f=c.remove=!0:(X=b,b=c));if(!f)return R;for(var P=[],N=0;N<Q;N++)R[N].remove||P.push(R[N]);return P},_12O:function(V,R){var Q,X,b,A,c,f=this.s("shape3d.point.epsilon"),S=this;V.forEach(function(V){if(0<(c=V.length))for(Q={p:V[0],n:!0},A=1;A<c;A++)X=V[A],(b=A<c-1?V[A+1]:q8)&&Math.abs(X.x-b.x)<f&&Math.abs(X.y-b.y)<f||S.addPoint(Q,X,b,R,V)})},addPoint:function(V,R,Q,X,b){var A,c,f,S,F,D,P=this,N=V.p,q=V.f,L=V.b,e=P.s("shape3d.side")||_s,J=P.s("shape3d.start.angle"),s=P.s("shape3d.sweep.angle"),l=P.shapeModel,H=P.data.isClosePath();if(V.n&&(V.n=!1,q=H&&2<b.length?qg(b[b.length-2],N,R,X):qg(q8,N,R,X),L=Ng(N,q),l?l.top_vs&&P._10O(L,q,e,J,s,l.top_vs,l.top_uv):(A=P.left)&&(P.addV(A.vs,L,q),P._13O(A))),H=Q?qg(N,R,Q,X):H&&2<b.length?qg(N,R,b[1],X):qg(N,R,q8,X),b=Ng(R,H),l){var K,y,t=l.vs,g=l.uv,X=l.sum;for(g&&(K=l.len/X,l.len+=qs(N,R),y=l.len/X),f=P._9O(L,q,e,J,s),S=P._9O(b,H,e,J,s),F=0;F<e;F++)tJ(t,f[D=F+1]),tJ(t,S[F]),tJ(t,f[F]),tJ(t,S[F]),tJ(t,f[D]),tJ(t,S[D]),g&&g.push(K,D/=e,y,c=F/e,K,c,y,c,K,D,y,D);!Q&&l.bottom_vs&&P._10O(b,H,e,J,s,l.bottom_vs,l.bottom_uv,!0)}else!Q&&(A=P.right)&&(P.addV(A.vs,H,b),P._13O(A)),(A=P.front)&&P.addV(A.vs,q,H),(A=P.back)&&P.addV(A.vs,b,L),(A=P.top)&&P.addH(A.vs,q,H,b,L,!0),(A=P.bottom)&&P.addH(A.vs,L,b,H,q);V.p=R,V.f=H,V.b=b},_10O:function(V,R,Q,X,b,A,c,f){for(var S,F,D=this.data,P=this._9O(V,R,Q,X,b),N=(V.x+R.x)/2,q=(V.y+R.y)/2,L=D.getShapeElevation(),e=0,e=0;e<Q;e++)f?(tJ(A,P[e]),tJ(A,P[e+1])):(tJ(A,P[e+1]),tJ(A,P[e])),tJ(A,[N,L,q]),c&&(F=f?(S=s8*(e+1)/Q+X,s8*e/Q+X):(S=s8*e/Q+X,s8*(e+1)/Q+X),c.push(.5-.5*e8(F),.5-.5*J8(F),.5-.5*e8(S),.5-.5*J8(S),.5,.5))},_9O:function(V,R,Q,X,b){var A,c,f=this.data,S=[],F=(V.x+R.x)/2,D=(V.y+R.y)/2,P=f.getTall()/2,N=f.getShapeElevation(),q=0;for(b==q8&&(b=s8);q<=Q;q++)c=e8(A=b*q/Q+X),S.push([F+(V.x-F)*c,N+P*J8(A),D+(V.y-D)*c]);return S},addV:function(V,R,Q){var X=R.x,R=R.y,b=Q.x,Q=Q.y,A=(c=this.data).getShapeElevation(),c=c.getTall()/2;V.push(X,A-c,R,b,A-c,Q,b,A+c,Q,b,A+c,Q,X,A+c,R,X,A-c,R)},addH:function(V,R,Q,X,b,A){var c=(f=this.data).getTall()/2,f=f.getShapeElevation()+(A?c:-c);V.push(R.x,f,R.y,Q.x,f,Q.y,X.x,f,X.y,X.x,f,X.y,b.x,f,b.y,R.x,f,R.y)},vf:function(V,R,Q,X){var b,A=this.gv.getFaceVisible(this.data,V);return(Q||A)&&((b=eE(this,V,X)).vs=[],b.tuv=A?[]:q8,b.visible=A),b}}),k.Points3dUI=function(V,R){oJ(QG,this,[V,R])}),XG={},bG=(Os(QG,Gp,{validate:function(){var V=this,R=V.gv,Q=V.data,X=V.s,b=I2(X("points.color")),A=X("points.size"),r=X("points.uv.offset"),c=X("points.image"),f=(!c||/\.(png|jpg|gif|jpeg|bmp|svg)$/i.test(c)||je.test(c)||(XG[c]||(XG[c]=V._createCachedImage(c)),c=XG[c]),Q._modelDirty),S=X("points.model");if(S){if(V._lastShapeModel!==S||!V.shapeModel){var F=hy(V,S);if(!F)return;var P=[],N={},q=B.requestVector3();V.eachShapeModel(function(V,R,Q,X,b){for(var A=0,c=V.length;A<c;A+=3){var f=V[A],S=V[A+1],F=V[A+2],D=(b&&(q.set(f,S,F).applyMatrix4(b),f=q.x,S=q.y,F=q.z),f+"_"+S+"_"+F);N[D]||(N[D]=!0,P.push(f,S,F))}},F),B.releaseVector3(q),V._setShapeModelPoints(new Ms(P)),V._lastShapeModel=S,f=!0}L=V.shapeModel.vs.length/3}else{var D=Q.getPoints(),L=D.length;if(f||Q._pointsDirty||!V.shapeModel){for(var e=[],J=0;J<L;J++){var s=D[J];s&&e.push(s.x,s.e,s.y)}V._setShapeModelPoints(new Ms(e)),Q._pointsDirty=!1,f=!(V._lastShapeModel=null)}}if(V.mat=xs(Q),V._finalMat=R.createNodeFinalMatrix(Q,V.mat),F=X("points.transparent"),V.info={mat:V._finalMat,size:A,diffuse:b,opacity:X("points.opacity"),texture:c,transparent:F,alphaTest:F?0:X("alphaTest"),uvScale:X("points.uv.scale"),uvOffset:r,discardSelectable:X("points.discard.selectable")},f||Q._colorsDirty){var l=!1,H=Q.getColors();if(H&&0<H.length)for(var K=[],J=0;J<L;J++)for(var y=H[J],E=y?(l=!0,I2(y)):b,$=4*J,t=0;t<4;t++)K[$+t]=E[t];V.shapeModel.cs=l?new Ms(K):null,Q._colorsDirty=!1}if(f||Q._sizesDirty){var g=!1,m=Q.getSizes();if(m&&0<m.length)for(var z,Y=[],J=0;J<L;J++)0<=(z=m[J])?(Y.push(z),g=!0):Y.push(A);V.shapeModel.ss=g?new Ms(Y):null,Q._sizesDirty=!1}if(f||Q._offsetsDirty){var u=!1,o=Q.getUvoffsets();if(o&&0<o.length)for(var _,O,w=[],J=0;J<L;J++)_=o[O=2*J],O=o[1+O],_!=N8&&O!=N8?(w.push(_,O),u=!0):w.push(0,0);V.shapeModel.os=u?new Ms(w):null,Q._offsetsDirty=!1}if(f||V._lastPointNumber!==L){this.dispose();for(var a=R.pickColorMap,i=V._startPickId=a._pickIdUsed,e=(a._pickIdUsed=i+L,[]),J=0;J<L;J++){var n=i+J,M=Mp(n);e.push(M[0],M[1],M[2],M[3]),a[n]||(a[n]={data:Q,part:J})}V.shapeModel.ps=new Ms(e),V._lastPointNumber=L}Q._modelDirty=!1,this.dispatchBoundingBoxChanged()},_setShapeModelPoints:function(V){var R=this.shapeModel,Q=this.shapeModel={vs:V};return R&&(V=V.length,V=Math.round(V/3),R.cs&&R.cs.length==4*V&&(Q.cs=R.cs),R.ss&&R.ss.length==V&&(Q.ss=R.ss),R.os&&R.os.length==2*V&&(Q.os=R.os),R.ps&&R.ps.length==4*V&&(Q.ps=R.ps)),Q},_createCachedImage:function(V){var R=IJ(),Q=R.getContext("2d"),Q=(xJ(R,128,128,1),H_(Q,{width:128,height:128,comps:[{type:V,background:"white",borderWidth:0,rect:[0,0,128,128]}]},0,0,128,128),I.Math.generateUUID());return _e[Q]=R,Q},drawBody:function(V,R){var Q,X,b,A=this.gv,c=A._picking;c&&!A.isSelectable(this.data)||(Q=this.shapeModel,b=this.info,Q&&Q.vs&&Q.vs.length&&((X=this.data.s("polygonOffset"))&&ag(V,X),b={type:"points",renderMode:"points",renderPickMap:!0,transparent:b.transparent,modelMatrix:b.mat,modelViewMatrix:sg([],A._viewMatrix,b.mat),projectionMatrix:A._projectMatrix,viewMatrix:A._viewMatrix,scale:A.getHeight()/2/Math.tan(A.getFovy()/2),size:b.size,diffuse:b.diffuse,opacity:b.opacity,map:A.getTexture(b.texture,this.data),alphaTest:b.alphaTest,resolution:A.getDevicePixelRatio(),discardSelectable:b.discardSelectable,uvScale:b.uvScale,blackout:V._blooming&&!this.data.s("bloom"),picking:c,useColor:!c&&Q.cs!=q8,useSizeArray:Q.ss!=q8,uUvOffset:b.uvOffset,useUvArray:!c&&Q.os!=q8},A._prefabRenderer.render(V,{model3d:!0,mesh:{position:Q.vs,pickColor:c?Q.ps:null,color:c?null:Q.cs,aUvOffset:!c&&Q.os?Q.os:null,sizeArray:Q.ss},mat:b}),this._material=b,X&&ig(V),(c=t8.for(V)).useProgram(R),c.directAttribs().disable(),A.shadowMap.enable&&A.shadowMap.createShadow(),A.rebindOITTexture(),A.flowMap.createFlow(null,!0)))},dispose:function(){QG.superClass.dispose.call(this);var V=this._startPickId,R=this._lastPointNumber;if(V&&R){for(var Q=this.gv.pickColorMap,X=0;X<R;X++){var b=V+X;Q[b]&&delete Q[b]}delete this._startPickId,delete this._lastPointNumber}}}),k.Polyline3dUI=function(V,R){oJ(bG,this,[V,R]),this._needRecoverPosition=!0}),AG=(Os(bG,Bp,{_25Q:1,needValidate:function(V){return Gp.prototype.needValidate.call(this,V)},_updateAutoRotation:function(){return Gp.prototype._updateAutoRotation.call(this)},invalidateUnstableWireframe:function(){this.data._47Q&&this.invalidateWireframe()},validate:function(V,R){var Q,X,b,A,c,f=this,S=f.data,F=f.s,D=S.getPoints(),P=D.size(),N=(f.dispatchBoundingBoxChanged(),f._updateAutoRotation(),f.invalidateUnstableWireframe(),S.p3()),q=f.mat=js(),L=(eg(q,N),Fu(q,S.getFinalRotation3d(),S.getRotationMode()),S.getScale3d()),e=S._dynamicScale3d;e&&(L[0]*=e[0],L[1]*=e[1],L[2]*=e[2]),Jg(q,L),eg(q,Es(N)),S._flipSide=y8.determinantOfArray(q)<0,F(iA)===yR&&F("batch")==q8&&f.shapeModel&&f._geometryVersion===S._geometryVersion?f._vsTranslation&&(f._matWithExtraction=(new B.Matrix4).fromArray(q).multiply(f._vsTranslation).toArray()):(f._geometryVersion=S._geometryVersion,f.shapeModel=f.info=f.lineShapeModel=q8,f._matWithExtraction=f._vsTranslation=null,1<P&&(e=f.info={},L=S.getSegments(),N=S.getThickness(),Q=Rg(D.get(0)),X=Rg(D.get(P-1)),e.c1=Rg(D.get((A=(P-(b=P%2))/2)-1)),e.c2=Rg(D.get(A)),0!=b&&(e.p3=e.c2),e.s1=Q,e.s2=Rg(D.get(1)),e.t1=Rg(D.get(P-2)),e.t2=X,F(iA)===yR?((L8.extractPolylineTranslation||L8.extractVerticesTranslation)&&(c=S.p3()),e.list=f.createTubeModel(D,L,N/2,V,c,q)):e.list=f.createLineModel(D,L,N,"shape.border","shape.dash"))),uE(f.gv,S,f.mat)},invalidateCachedGeometry:function(){this.shapeModel=this.info=this.lineShapeModel=q8},drawBody:function(V,R,Q){var X,b,A,c,f,S,F,D,P,N,q=this,L=q.shapeModel;L&&(b=q._finalMat,X=q.gv,AE(X,b),b=q.s("3d.clip.direction"),X._uvClipEnabled&&("uv.left"===b||"uv.right"===b)&&(A=q.s("3d.clip.percentage"))<1?(f=c=!0,Ty(L),S=L.top_vs,F=L.bottom_vs,D=L.vs,P=(N=t8.for(V)).directUniforms(),N=N.directAttribs(),"uv.left"==b?(A<1&&(c=!1),A<=0&&(f=!1)):(A<1&&(f=!1),A<=0&&(c=!1)),L.top_vs=L.bottom_vs=N8,N.aUv=Gg(V,X._buffer.uv,L.uv,q8,2),jy(X,q.data,L,q,q.getBodyColor(),Q),N.aUv=!1,P.uClipDirection=0,L.vs=N8,c&&(L.top_vs=S),f&&(L.bottom_vs=F),jy(X,q.data,L,q,q.getBodyColor(),Q),L.vs=D,L.top_vs=S,L.bottom_vs=F):jy(X,q.data,L,q,q.getBodyColor(),Q),XE(X))}}),r1={s:s},function(V){var R={vs:[],ns:[],uv:[]};return IE(null,null,V,r1,!1,[],R),R}),cG=L8.meshTypeMap={box:function(){return L8.createBoxModel()},sphere:function(V){return AG(L8.createSphereModel(V.side,V.sideFrom,V.sideTo,V.from,V.to,V.resolution,V.smooth))},cylinder:function(V){return AG(L8.createCylinderModel(V.side,V.sideFrom,V.sideTo,V.from,V.to,V.top,V.bottom,V.smooth))},cone:function(V){return AG(L8.createConeModel(V.side,V.sideFrom,V.sideTo,V.from,V.to,V.bottom,V.resolution,V.smooth))},torus:function(V){return AG(L8.createTorusModel(V.side,V.sideFrom,V.sideTo,V.from,V.to,V.radius,V.resolution,V.smooth))}};for($1 in mJ(L8,{invalidateMeshAttribute:function(V){V&&V._bufId&&(V._bufId=null)},setMeshStyle:function(V,R,Q){return V[R]!==Q&&(Q===N8?delete V[R]:V[R]=Q,delete V._geometry_,!0)},invalidateMesh:function(V,R){if(V){if(R)for(var Q in V)L8.invalidateMeshAttribute(V[Q]);delete V._4HQ,delete V._complete_}},invalidateSubMeshes:function(V){V&&delete(V.subMeshes||V)._drawRangeGroupByMat}}),mJ(yp,{invalidateMeshAttribute:function(V,R){R&&this.releaseGLBuffer(V),L8.invalidateMeshAttribute(V),this.iv()},setMeshStyle:function(V,R,Q){L8.setMeshStyle(V,R,Q)&&this.iv()},getMeshStyle:function(V,R){return V[R]},invalidateMesh:function(V,R,Q){if(Q)for(var X in V)this.releaseGLBuffer(V[X]);L8.invalidateMesh(V,R),this.iv()},invalidateSubMeshes:function(V){L8.invalidateSubMeshes(V),this.iv()}}),iy)cG[$1]=function(R){return function(V){return AG(iy[R](V.top,V.bottom))}}($1);cG.bone=(E1=new Array(5),function(V){for(var R=V.ratio||.1,Q=V.resolution||8,X=null,b=0;b<5;b++){if(E1[b])return E1[b].ratio==R&&E1[b].resolution==Q&&(E1[b].active=Date.now()),E1[b].mesh;X=b}if(!X)for(var A=1/0,b=0;b<5;b++)E1[b].active<A&&(A=E1[b].active,X=b);var c=[],f=[];for(R*=.5,c.push(0,0,0,0,0,.5),b=0;b<Q;b++){var S=b/Q*Math.PI*2;c.push(Math.cos(S)*R,Math.sin(S)*R,R),0<b&&(f.push(0,b+2,b+1),f.push(b+1,b+2,1))}return f.push(0,2,Q+1),f.push(Q+1,2,1),E1[b]={active:Date.now(),resolution:Q,ratio:R,mesh:{vs:c,is:f}},E1[b].mesh});var fG,SG,FG,DG,PG,NG,qG,LG,eG,JG,sG,lG,HG,KG,yG=function(V){if(V)return tG(V="string"==typeof V?{type:V}:V)},tG=function(V,R,Q){var X,b,A=V._geometry_;if(A)return A;if(Q=Q||V,(A=V.type)&&"raw"!==A){var c=L8.meshTypeMap[A],f=(b=V)&&R?(v.assign(f={},b),v.assign(f,R),delete f.type,f):b||R;if(!c)return!!(X=L8.getMesh(A))&&tG(X,f,Q);if(!(X=c(f)))return!1;Q._geometry_=X}else X=V;return X.func?X.func(X):X},gG=(FG=!(SG=1),DG={},PG={},NG={},qG=function(){Zf(qG);var V=Date.now(),R=V-fG;fG=V;try{LG(R/1e3)}catch(V){}},LG=function(V){var R,Q,X={};for(R in DG){var b,A,c=(A=DG[R]).speed,f=A.time,S=(A.paused?b=A.time:(b=A.time+V*c,A.time=b),A.duration),F=A.loop,c=("once"===F?c<0&&b<=A.end||0<=c&&b>=A.end?(b=A.end,A.iteration=1):b=B.modToPositive(b,S):(Math.floor(b/S)!==Math.floor(f/S)&&A.iteration++,"pingpong"===F?S<(b=B.modToPositive(b,2*S))&&(b=2*S-b):b=B.modToPositive(b,S)),Q=A.animation,A.displayTime=B.roundFloat(b,3));c+=A.shift,(f=X[Q])?f.push(R,c):X[Q]=[R,c]}for(Q in X){_=o=m=K=H=z=s=J=e=g=Y=L=t=N=void 0;var D=Q,P=X[Q],N=PG[D][1];if(N){var q,L,e,J,s={},l=P.length/2,H={},K=NG[D];if(K){for(var y=K.clips,t=0,g=y.length;t<g;t++)s[y[t].time]=t;for(t=0;t<l;t++)(J=s[e=P[2*t+1]])!==N8&&(H[J]=!0)}else K=NG[D]={clips:[]};for(var g=N.length,m=-1,z=0;z<l;z++)if(q=P[2*z],(J=s[e=P[2*z+1]])!==N8)DG[q].clip=K.clips[J];else{for(;H[++m];);(L=K.clips[m])?L.time=e:L=K.clips[m]={time:e,datas:[]};for(var Y=L.datas,t=0;t<g;t++)for(var u=N[t].evaluate(e),o=(o=Y[t])||(Y[t]=[]),_=0,O=u.length;_<O;_++)o[_]=u[_];s[e]=m,DG[q].clip=L}}}},eG=B.newIdGenerator(),{add:function(D,V,R,Q,X){(b=D.tag)||(b=D.tag=eG.next()),PG[b]||(PG[b]=function(){for(var V,R,Q=D.tracks,X=Q.length,b=new Array(X),A={},c=0;c<X;c++){var f=Q[c],S=f.type,F=f.name.split(".");switch((R=A[F[0]])||(R=A[F[0]]=[]),F[1]){case"scale":R[2]=c;break;case"quaternion":R[1]=c;break;default:R[0]=c}switch(S){case"linear":V=new ym(f.times,f.values);break;case"quaternion":V=new tm(f.times,f.values);break;case"cubic":V=new gm(f.times,f.values);break;case"cubicSpline":V=new mm(f.times,f.values,3);break;case"cubicSplineQuaternion":(V=new mm(f.times,f.values,3)).isQuaternion=!0;break;default:V=new Km(f.times,f.values)}b[c]=V}return[A,b]}());var b,A=SG++,c=D.duration;return V===N8&&(V=D.speed||1),Q===N8&&(Q=D.loop||"repeat"),DG[A]={time:R||0,start:R||0,loop:Q,shift:D.start||0,duration:c,animation:b,animationName:D.name,clip:X,iteration:0},jn(DG[A],V),FG||(FG=!0,fG=Date.now(),qG()),A},stop:function(V){var R=DG[V];return!!R&&(delete DG[V],R)},changeAnimationInfo:function(V,R,Q){return!!(V=DG[V])&&("speed"===R?(jn(V,Q),!0):"forwardTime"===R&&(V.time+=Q,!0))},getAnimation:function(V){return DG[V]},getAnimationMap:function(){return DG},getAnimationTracks:function(){return PG},getFrameAnimationData:function(){return NG}}),mG=(mJ(Xu,{playAnimation:function(V,R,Q,X){this._pendingAnimation&&delete this._pendingAnimation;var b,A=!1;do{if(!V&&!(V=this.getDefaultAnimationName()))break;var c=this.getAnimation(V)}while(c&&(A=!0,0));if(!A)return f=this.s(iA),l8(f)&&Ce.test(f)&&(this._pendingAnimation={animationName:V,speed:R,start:Q,loop:X}),!1;this._animationPlaying&&(b=gG.stop(this._animationId));var f=this._animationId=gG.add(c,R,Q,X,b?b.clip:null);return this._animationPlaying=!0,this._animationPaused=!1,this._lastAnimIteration=0,this.fp("animationStart",null,!0),f},changeCurrentAnimationSpeed:function(V){return gG.changeAnimationInfo(this._animationId,"speed",V)},forwardAnimation:function(V){return this.invalidateView(),gG.changeAnimationInfo(this._animationId,"forwardTime",V)},backwardAnimation:function(V){return this.forwardAnimation(-V)},stopAnimation:function(){var V=this._animationId;return V&&gG.stop(V),this._animationPlaying=!1,this._animationPaused=!1,this._animationId=N8,this._lastAnimIteration=0,delete this._pendingAnimation,this.fp("animationStop",null,!0),V},pauseAnimation:function(){if(this._animationPaused)return!1;var V=this._animationId;return!!V&&(!!(V=gG.getAnimation(V))&&(V.paused=!0,this._animationPaused=!0,this.fp("animationPause",null,!0),!0))},resumeAnimation:function(){var V;return!!this._animationPaused&&(!!(V=this._animationId)&&(!!(V=gG.getAnimation(V))&&(V.paused=!1,this._animationPaused=!1,this.fp("animationResume",null,!0),!0)))},isAnimationPlaying:function(){return this._animationPlaying},isAnimationPaused:function(){return this._animationPaused},getAnimationNames:function(){return L8.getShapeModelAnimationNameList(this.s("shape3d"))},getAnimation:function(V){return L8.getShapeModelAnimation(this.s("shape3d"),V)},getDefaultAnimationName:function(){return L8.getShapeModelDefaultAnimationName(this.s("shape3d"))},getAnimations:function(){return L8.getShapeModelAnimations(this.s("shape3d"))},getCurrentAnimationState:function(V){var R=this._animationId;if(!R)return null;var Q=gG.getAnimation(R);if(!Q)return null;switch(V){case"time":return Q.displayTime||0;case"name":return Q.animationName;case"loop":return Q.loop;case"speed":return Q.speed;case"duration":return Q.duration;default:return{time:Q.displayTime||0,name:Q.animationName,loop:Q.loop,speed:Q.speed,duration:Q.duration}}}}),mJ(r_,{isAnimationPlaying:l}),mJ(L8,{getShapeModelAnimations:function(V){return(V=V&&I1(V))&&V.model3d&&(V=V.animations)?V:null},getShapeModelAnimation:function(V,R){var Q=L8.getShapeModelAnimations(V);if(Q)for(var X=0,b=Q.length;X<b;X++)if(Q[X].name===R)return Q[X];return null},getShapeModelAnimationNameList:function(V){var R=L8.getShapeModelAnimations(V);if(!R)return null;for(var Q=R.length,X=new Array(Q),b=0;b<Q;b++)X[b]=R[b].name;return X},getShapeModelDefaultAnimationName:function(V){var R,Q=L8.getShapeModelAnimations(V);if(!Q)return null;for(var X=0,b=Q.length;X<b;X++){if(Q[X].default)return Q[X].name;!R&&0<Q[X].duration&&(R=Q[X].name)}return R}}),JG={},{request:function(V){var R;return(R=JG[V])?R.length?R.pop():new Float32Array(V):(JG[V]=[],new Float32Array(V))},release:function(V){var R,Q=V.length;(R=JG[Q])?R.push(V):JG[Q]=[V]}}),zG=B.newIdGenerator(),YG=(v.assign(k.Graph3dView.prototype,{initSkeletonDatas:function(){var V,R=this._updatedSkeletonDatas;for(V in R)mG.release(R[V]);this._updatedSkeletonDatas={},this._isSkeletonUpdated={},this._boneViewMatrices.length=0,this._boneViewMatrices._bufId=null},_renderBonesForDebug:function(V,R){0<this._boneViewMatrices.length&&(R.depth.enabled=!1,R.depth.mask=!1,this._prefabRenderer.render(V,{mesh:{type:"bone"},instances:{aMatrixInstanced:new Float32Array(this._boneViewMatrices)},mat:{type:"fixColor",color:"red",cullFace:!0}}))},updateSkeleton:function(V,R){var F=this;if(R||(R=Z1(V.s("shape3d")))&&R.model3d){var Q=V._animationId;if(Q=gG.getAnimationMap()[Q]){var X=Q.clip;if(X){var b=Q.iteration,A=(b!==(A=V._lastAnimIteration||0)&&(V._lastAnimIteration=b,V.fp("animationIteration",A,b)),Q.time),c=V._lastAnimHashKey=Q.animation+"|"+A;if(!this._isSkeletonUpdated[c]){this._isSkeletonUpdated[c]=!0;for(var D,P,N,q,L,f,S,e,J,s=V.s("3d.bone.visible"),l=(s&&(P=B.requestVector3(),N=B.requestVector3(),q=B.requestMatrix4().fromArray(V.mat),L=B.requestMatrix4()),X.datas),H=gG.getAnimationTracks()[Q.animation][0],K=B.requestMatrix4(),y=[],t={},g=(L8.traverse(R,function(V,R){V.skeleton&&y.push(V);var Q,X,b,A,c,f=V.name,S=(f&&(c=H[f])&&((A=c[0])!==N8&&(Q=l[A]),(A=c[1])!==N8&&(X=l[A]),(A=c[2])!==N8&&(b=l[A])),(A=V.matrixWorld)||(A=V.matrixWorld=new y8),V.transformData);c&&S?lE(A,S,Q||V.position,X||V.quaternion,b||V.scale):A.composeFromArray(Q||V.position,X||V.quaternion,b||V.scale),R&&(A.premultiply(R.matrixWorld),s&&R.isBone&&(c=F._boneViewMatrices,R.matrixWorld.getPosition(P),P.applyMatrix4(q),A.getPosition(N),N.applyMatrix4(q),D=2*P.distanceTo(N),L.lookAt(N,P).setPosition(N.set(0,0,0)).scale(N.set(D,D,D)).setPosition(P),c.push.apply(c,L.getElements()))),t[f]=A,V.skeleton&&(V.skeleton._tempMatrixInverse=K.copy(A).invert().toArray())},null,"comps"),s&&(B.releaseVector3(P),B.releaseVector3(N),B.releaseMatrix4(L),B.releaseMatrix4(q)),B.releaseMatrix4(K),F._updatedSkeletonDatas),m=0,z=y.length;m<z;m++){var Y,u,o,_,O=(_=(o=y[m]).skeleton.bones).length;for((f=g[(e=(e=o._skeletonId)?e:o._skeletonId=zG.next())+"|"+c])||(Y=Math.sqrt(4*O),(u=B.nearestPOT(Y))<Y&&(u<<=1),u=Math.max(u,4),f=g[e+"|"+c]=mG.request(u*u*4)),S=o.skeleton.boneMatrixInverses,J=0;J<O;J++)y8.multiplyMatrixArray(f,t[_[J]],S,16*J,0,16*J);f.bindMatrixInverse=o.skeleton._tempMatrixInverse,delete o.skeleton._tempMatrixInverse}}}}}}}),{cullFace:!1,flipSide:!1,transparent:!1,uvRotation:0,uvScale:[1,1],uvOffset:[0,0],uvAnchor:[0,0]}),Q=function(V,R){if(V=uG(this,V),R===N8||!V)return V;var Q=V[R];return Q===N8&&(R in YG?Q=Bf(YG[R]):(V=oG[V.type])&&(Q=Bf(V[R]))),Q},j8=function(V,R,Q){var X,b,A=uG(this,V);if(A){if(l8(R))X=A[R],b=A[R]=Q;else if(qJ(R)){for(var c in X={},R)X[c]=A[c],A[c]=R[c];b=R}this.fp("material",q8,{material:A,materialName:V,property:R,oldValue:X,newValue:b})}},uG=function(V,R){if(qJ(R))return R;var Q,X,b=l8(R),A=b&&/.*\.material/.test(R);return(Q=(Q=A?V.s(R):Q)||(b&&(X=V.s("matDef"))?X[R]:Q))||(V=V.s("shape3d"),(V=l8(V)?L8.getShape3dModel(V):V)&&V.model3d&&(b||(Q=V.mat),(X=V.matDef)&&(!Q&&b?Q=X[R]:l8(Q)&&Q in X&&(Q=X[Q])))),Q||!b||A?Q&&l8(Q)&&(Q=L8.getMaterial(Q)):Q=L8.getMaterial(R),Q},oG=(mJ(r_,{getMaterials:(sG={},["all","left","right","top","bottom","front","back"].forEach(function(V){sG[V+".material"]=1}),lG={"shape3d.material":1},["top","bottom","from","to"].forEach(function(V){lG["shape3d."+V+".material"]=1}),HG=[],function(){var V,R=[],Q={},X={},b=this.getStyle("matDef");if(b)for(V in b)b[V]&&(X[V]=1,Cn(b[V],R,Q));var A,c=this.getStyle("shape3d");if(c?l8(c)&&!(c=L8.getShape3dModelFromMemory(c))&&(A=lG):A=sG,qJ(c))!c.model3d&&c.json&&"obj"===c.json.modelType?Cn(this.getStyle("shape3d.material"),R,Q):function X(V,b,A,c){L8.traverse(V,function(V){HG.push(c),c=Bf(c);var R,Q=V.matDef;if(Q)for(R in Q)!c[R]&&Q[R]&&(c[R]=1,Cn(Q[R],b,A));!(R=V.mat)||!qJ(R)&&c[R]||Cn(R,b,A),V.model&&(V=L8.getShape3dModelFromMemory(V.model))&&X(V,b,A,c)},function(){c=HG.pop()},"comps")}(c,R,Q,X);else if(A)for(var f in A)V=this.getStyle(f),Cn(V,R,Q);var S=L8.getMaterialMap();for(V in Q)(V=S[V])&&R.push(V);return R})}),mJ(Xu,{getMaterial:Q,setMaterial:j8}),mJ(Du,{getMaterial:Q,setMaterial:j8}),{}),_G=(mJ(oG,{pbr:{diffuse:[1,1,1],emissive:[0,0,0],roughness:1,metalness:0,opacity:1,map:null,alphaMap:null,alphaChannel:"A",alphaTest:N8,roughnessMap:null,roughnessChannel:"R",metalnessMap:null,metalnessChannel:"G",emissiveMap:null,aoMap:null,aoMapIntensity:1,aoChannel:"B",aoUvChannel:1,normalMap:null,normalScale:[1,1],lightMap:null,lightMapIntensity:1,envMap:null,envMapIntensity:1,displacementMap:null,displacementScale:1,displacementBias:0,rimColor:[0,0,0],rimPower:0,fresnelIntensity:1,enableTransmission:!1,transmission:1,thickness:0,ior:1.5,specularIntensity:1,specularColor:[1,1,1]},phong:{diffuse:[1,1,1],emissive:[0,0,0],specular:[17/255,17/255,17/255],shininess:30,opacity:1,map:null,alphaMap:null,alphaChannel:"A",alphaTest:N8,specularMap:null,emissiveMap:null,aoMap:null,aoMapIntensity:1,aoChannel:"B",aoUvChannel:1,normalMap:null,normalScale:[1,1],lightMap:null,lightMapIntensity:1,envMap:null,envMapCombine:"add",envMapIntensity:1,refractionRatio:.98,displacementMap:null,displacementScale:1,displacementBias:0,fresnelIntensity:1},litePhong:{diffuse:[1,1,1],emissive:[0,0,0],map:null,opacity:1,alphaTest:.4,useLighting:!0,roughness:0,completeHandler:function(){this.uTexture=!!this.map}}},!0),{}),OG={aoMap:["aoMapIntensity"],normalMap:["normalScale"],lightMap:["lightMapIntensity"],displacementMap:["displacementScale","displacementBias"],enableTransmission:["transmission","thickness","ior","specularIntensity","specularColor"]};for(KG in oG){var wG,aG,iG=[],nG=[],MG=oG[KG],rG={},EG=[];for(aG in MG)"envMap"!==aG&&"envMapIntensity"!==aG&&aG.indexOf("Channel")!==aG.length-7&&"enableTransmission"!==aG&&"envMapCombine"!==aG&&("map"===aG||aG.indexOf("Map")===aG.length-3?(wG=OG[aG])&&wG.length?(iG.push(aG,wG.length),wG.forEach(function(V){rG[V]=!0,iG.push(V,MG[V])})):iG.push(aG,0):(wG=OG[aG])&&wG.length?(rG[aG]=!0,nG.push(aG,wG.length),wG.forEach(function(V){rG[V]=!0,nG.push(V,MG[V])})):EG.push(aG));iG.push(-1),(iG=iG.concat(nG)).push(-2),EG.forEach(function(V){rG[V]||iG.push(V,MG[V])}),_G[KG]=iG}I.Default.getMaterialDefaultStyle=function(){return oG},p1.pbr=["?0t0w!/Imjbodujtt;z!ihqm=t!mf4e-v!mmdjohji$u\v\v!!\v\vS0C0Q!!$fQoSjFgGfJeY$\v\v!","~0!0<!eIJj!o>u!ts;p!mhpmDthmb4s-G!`mmjhh!i\vu?-z!eppjcu/\vt!g\v/0u0j!p$=Q!SfFeGvJmYd\vo!j\v$$\ve!f\vg?jzoefp!cQ/CtSg\v/!h\vp$ge=f!gfjeovfm!dToUjB$O\vE!B\vS?Ez\ve!p\vc$/jtgge/fqgb!NVxTpFm`gU=S!BfOeTvNmJdToTjJ$P\vO!\v<!*\ve$Je)fmgfjyoffU!uJvPqSu\vv!P\vp$Uesfbgfjoojfm!!T>Q!FeDJV!M\vB?Sz\ve!p\vc$/ftoge/jhgo\vj!q\vq$bjNofdompvue=f!!f=edvpmndnopjo$?\v\v!!\v\v?$zjeopdcm/vtegf/!u=vqqbudvlpj=o!hf?e\vv!m\vd$ojjo$d\vm!v\vegfj!e=ovfc$p\vt!/<iufbbped?s\vb!f\vm$dj/gmobejfsgf!uVbTnF!`+V!CsPb\vm!vvdofjqgTpusbnp!dnsbbuf5m!dv!W,j!f*xdNdbGu!s+j!yu<b!pvdosjbgfpmsdn/!mwbfjds4f!uebjng!g.v!t1f/<2!)v!o+j!gupishnj!Mwhfodj4p!hfunvjpt!t>j!wufi<h!jvMohjogjppshnu!vgpm!p<b*ud!dsWpOvuhpieo!f-t1t:<G!uvbopjdgspbsfnm!dg/mmpbbjus!fnufbunb!m-o1fGtutb<p!dvsobjfgmpds/nm!bgjmspfbuub!np)qlbddjjmuizd<T!`vGo!j>g!pdsdnG!!w4fddf4w!!s<j*n*DspjmEpxsf<j!wv/ozjsgupfsnnp!fghm!p-bmub!nssjpnOQupbxpfdss<b!f\vm$dj/gzesfugf!nVpTfFh`)BuMpQeI)BfUuFbTsUv\vu!bvto!j>g!pdsdnW!Ogumppeb!uu!bbpmmqgi!b\vUUfBtPuD<S!B\vF$MfDo`eFjTgV\v!!g\vf$efgoje$j\vg!\v\v!g\vj$ejogfe$f\vg!!<VsTbFm`vVdWf\vq!Twobfsfzijto!h,!!wqfndp3D!zwhVswf<o!F\vo$fjfgietf!g+!!VuWi`hDjMMJhQo\vj!pwhbusvzpj!o>h!!ugimhpjbMuh!owjVpwhMupvdpb!m<V*<s!p\vm$pfDooefjfgi\vt!/\vm$bfjosefjugb\vn!)\v4$yjbgn!!e+f!g8j6o2f/e1)!V.T!F1`/M2J!H>I!UqNnBpQD*z!h}s}f!oeFfogfjfoifte!)uVbTpFm`gB!P\vNOBFQF*I!T}`}F!TeVf!ggjfoefgej)$V\vT!F<`fVdWo3b*j\ve!bwSbfswzjjtothj!nwFfmdb3u!pwuV!w,3!<s!b\vm$vfdofeqjTgm\vb!u\vp$uj!g,e!ffgt!vVgTgFj`ENmBbQu\vp!uv!o>j!gupishnj!Mthbonjqpmhfusv3pE!!4ndbfqw<!!\v\v?$zfeopecj/gt\vg!/\vo$pjjgtetfjgn!tVoTbFs`uB=M!QfIeBvNmBdQo\vj!$v\vo!j<gspbsmnv!dtfbqnTqumdffss3jEe!objm/quiibhNjbMqe<f!u\vd$ffmogefjsg!\v,!!\vs$bjmgvedffgq!TVuTdFf`sBjPeN/BuQi\vh!jvMoejfgupdsfnm!gtfbsn!q>m!fssb3mEv!dbfpqNTbmqb<u!p\vu$!j4gdofewf!g<!fVtTvFg`gVjCEPu\vd!fvsojjegopjs/nu!ighmjpMbeuf!ubdpfNmbgqfJso!u,f!ofttjvugzg<j!E\vu$dffosejjeg/\vu!i\vh$jfMoeefjugd\vf!m\vg$fjsg!e>f!gf!tVvTgFg`jMEJmHbIuUpNuB!Q4\vd!fvwo!j\vg?pzsenp!ct/btngq/mqfbsN3pEb!=m!jfheivumNdboqj<$!\v\v!$<j*gsofexfpgQ!nVjTsF!`-VnCjPs\v)!xvpoqj!g+p!ssnp!mgpmDpnbjus!!m>j,h!ifudNobbqjJeobuSffowtjjtutzj<n!F\vm$bfuopeuj!g<\v*!*\vs$jfEoxefjjgw\v/!z\vs$ujfgnepffgh!!V-TmFb`nFsNpJoT/TzJsWuFfNnBpQf\vh!)vuopjeg)ptscnb!!t.b!n1q/m2f!s>3nEj!sf!nujbtptmjgw!f\vN?bzqe<p!c\v/$tfgo/eojpgn\vn!p\vD$tjuoidhmjvme=f!!f=ecvtmedgotj?$\v\v!!\v\v$?jzoedpmcv/etfg!/=SoCpQstnubimhNjbmq=/!gfte/vimfdboej?$\v\v!!\v\v$gjjgeeoffg$!\vV!T<Fc`hSsP/VsHpImOpFDTfTwNjBtQt\vj!nvfo!j>g+p!sfnd!otbbjneqbmSffsw3jEt!tsjpnvFhmiboufptut!N<b{qz<y!/\v*$sfpomepjDgf\vw!j\vt$tjjgneff)gs!bVfToFj`MNpFUUCBHMSOtF!T>T!NcBhQs\v/!svpomjpgDpfswnj!tttbjnnqfm!f<s*3wEV!wn!f-uqbbmNoffwtjttNtbjqn<f!)\vE$3ffosevjugy\vf!uw!b>s!zsjpomhp!Dwffwdj4t!twjOnpfs!n5bdmf<w!!w\vbQsBzNjFoWhJ!TwTfJdN4F!`wFNTwVQ!pgtfjeugjjp$o\v<!!\v\vg$jjego!fe$f\vg!j<o*foep)jVuTdFf`sFjOEWfNdBbQg*!!-}O}q!bNnB!Y-`mCbPnYs`pDoM!J-QoQpFjSu!j?t!p1Q!x}f}j!Wewf!g.j)ocfseB)3VmTbFn`sUpSOBcOsTvNuJsTfTqJ!P>O!*m\vb!nwsbpsoz!j<ofhm!bwdfTdm4b!nwsXppos!m>e+Q!pztyj/uOjqpbon<!!<\v1$/f2o!e.j!g1\v/!3\v!$+j!g{!zeyf/g*jwoVfwe!)-DqMbJNQm`bEnJsSpFoD)UEJ3PfOs*v\vu!ywfbus!z>j!oOhq!bwnf!d44d!fwwM!p\vdQbBmNQMpBtNjSuPjOp`oF<T!V\v!$gffoeegjjg$\v\v!!\v<$ojpojdumjvtepfQ!w=Ndwm.j!q>E!jospfjduujjtppoQ/xgftj/Wiwf!b4ed?f\vw!!\v<$mjbondsmpvoe!f>!!=mdbmnjsqpcOpzys/ugftn/piffhb!e4?d\vf!w\v!$\vjgojdemovfe$f\v!!=<gopphj/ugdtf/sijfEbfed?b\vg!!\v+$!jmobdnmsvpeof!!>=!tmibbnesppxoN!b\vqE/FgEtJ/Ti`fFbMeC?V\vP!E\v!$gjfoedgmjv$e\vf!!<=*gmmbpnxsNpbOqw/)gft{/jimfbbnes?p\vo!!\v>$!jmobdnmsvpeof!!4=dffowd!p<e1j/o2h!?.\v!!;\v!$1j/o2d!m@v!ehfo!j=ddbvGcufoFposwGS`fmghm!f>d!uojppjouGdTf?s\vj!E\vf$djbogd!muvbepfm!g=!f\vogwjneboqfQ$i\vz!t\vjgdjbemo/fg$t\v/!i<fcb/et?t\vf!o\vm$bjuofdNmmvfeyff!u=!m>j+h!isuptuDdpbnGntptof/ogmtb/uiffnb!e\v?*\vC!`\vM$FjOoOdBmIvDe`fQ!B=NmTjThFiOuMtBQUCFSN/)getf/oijfgbfee?!\vg!j\vm$fj$o\vd!m<vhe/ft!t=fuosmbboutfnNjmtftyjfpuo!/>g+t!/sipfubdeb?G\vt!t\vf$ojmobdumfvne!f\v!*=Hu`pMoFfONObBqIqDj`oQhB/NgTtT/FiOfMbBeU?F\vN!)\ve$fjoojdgmfvee!fg!j=mpfj$u\v/!g<ts//itftbfeo?m\vb!uwfpNjmef!ynfbuj!o>)+*!!s|p!u\vd$bjGotdtmfvoemfb!u=fdnm!j\vq*ESj`sMfFdOuOjBpIoD/`gQtB/NcTpTeFzO?M\vB!U\vF$Nj)oedfmovjegff!e=!dgmjj$q\vc!p<y*/wgVtw/!c-pqebzN?t\vt!fwofmdb5u!fenj)gEg3vftsfvDupymfpus!!>>!!twtffdo5m)beujfgNgmvftyff-u!!p5qdbfdwj!u\vzQ*B<N!TSTfFgOmMfBdUuFfNe`MFjThVi!ug!fsefggjm$f\vd!u<ftetMfjohmibuu!f>n!!S>f!gsmpfuddubfGetMtjfhoimub)uwffnd!4u)b1p/m1g*!-\v!gwjfedo4f)$1\v/!1\v*g-j!ewoffd$4\v)!1</c1/*t-t!fwofidh4v)p1S/m1f*y*f<u!!w>f+d!4s!puupdubbGmtFtnfjotithjvwpfsS!b\ve*jCb`oMdFfO!O>B!IfDn`jQtBtNjTwTfF<O!I\vH$VjPgSe)fegf!oVjTgFf`eN!BgQj\vm!fw$f\vd!5<!hu/ftytffmoDiphmvppsS!m>f!yuffuy!u>v+s!fs3pEu)dnbbGqt-t!fwoViwh*v<p!su!f\vy*fHm`DMpFmOpOsB!I>D!`tQSBHNCTUTpFMOjIoHfVbPsS))ueffyofjmgDfpem!pgsj*m<f!$e\vj!g<gsv/ttftDfpomiphsv!p+S>m!fuyffyuf!m>D+p!msppsu<d!b\vG$tftofeojigh\vv!p\vs$!j\vg*eSf`gM!FVOTOFB`IBDM`QQIBBNNTBTQF\vO!I\vH$VjPgS!)eeffgojjogffee)!BgMjQ$I\vB!N<B*Qw`VDwI!B-OqObFNMt`tBf*o\vi!hevjpgsg)vEt3ffDspvmupysf/ub!!>+!>t!tuffoyiuhvvspfS3mEf)ybfmuq!i5bdNfbwq!-\v!QwBVNwT*T/FbO<I!H\vV$PfSm`jFgT!Ve!fggfjeogfje$)\vB!M<QtItBfNoBiQh`vDpIsB!O>O!FsMp`uSd*b\vG!tetjfgogivhtvfpDsp!mupbsp/mbg!!+\v>g!juefoyfu$v\vs!f<3eEs)bbdmtqjieb!N*buqt-f!UwbViwq*m/bs!<=!!\vb$/fsmpjmgp!Defftgvjgogfjee))B!MgQjI!B\vNUBTQF`UDBIIBQOMOBF`MF`THV*!\vg!feejggjg$v\vt!f\vDgpjmeposf/$b\v!!+\v>g!juefoyfu$v\vs!f<3cE/)*bwmVqwi!b-NqbbqN-b!iwqVmwb*)/Eh3<f!s\vv$ufymfjug!!>e+f!gbj/osfpem)pBDMfQtIvBgNgBjQe`!D\vI*BCO`OMF"],p1.phong=["?0t0w!/Imjbodujtt;z!ihqm=t!mf4e-v!mmdjohji$u\v\v!!\v\vH0O0P!I$QQ!SfFoGjJgYf\ve!$\v","~0!0<!eIJj!o>u!ts;p!mhpmDthmb4s-G!`mmjhh!i\vu?-z!eppjcu/\vt!g\v/0u0j!p$=Q!SfFeGvJmYd\vo!j\v$$\ve!f\vg?jzoefp!cQ/ItPgO/Hh\vp!g\v=$!jfoedvmmvdeofj!$=\vd!p\vn?nzpeop?c\v/!t\vg$/jqobdNmxvpemfg!==!qfbedvlmjdoohj?$\v\v!!\v<$*jeoJd)mmvfeyff!U=uvvcqputv/PipfUbseb?f\vo!j\vm$!j>g!oeeJf!g\v!?VzTeFp`cV/CtPg\v/!hvoojjqgqpbsNnf!owpfud=4!!feejvgmgdvotjf$<\v!!v\vo?jzgeppscn/!twgf/du4v!qfunvjpt=t!jfwefv<m!dvoojj$g\vp!s\vn?!zwefpdc4/!ttgq/fhdovpmibQsq<b!nvwoojfg=p!sfne!vgmmdpobju$!\vt!i<jfodjoobfjtetb<S!fvwojjtgtpjsnnF!mgbmuppbuu!!,p!qsbbdmjvudzf<q!T\vu$djfgsejfego!jV/TuFi`hBjMMQeIfBuUdFfTmUg\vf!sv!o,j!gspbsmnv!dgfmqpTbuud!fbsmjqei/buUifhtjuM<e!f\vu$dffomegjfgs\v!!,v!ofjtgvpgsgnj!Ewufddf4s!jveDobjn/fusibhQjpMtejfuujdpfom<g!fvso!j,g!pfstnv!gngbjuE5u!dvfWsjjfex/NubiuhsjjMye<f!u\vd$ffmogefjsg!\v>!!\vu$ijhgjeMfhgo!jVpThFu`vVpW!\v4!dwfbws!z\vj?ozhe!pwcf/dt3g!/wqVbwN<p!b\v=$!jfgeevfmgd!oVjW$`\vD!M\vJ?Qz\ve!pwcb/stzgj/oohp!ngnmppDbtuu!iwhVjwmM=p!dfbemvVm<d!o\vj$$f\vo!e\vj?gz\ve!p\vc$/ftoge/jhgo\vp!i\vQ$tjugi!hejfmg=j!offeev)mVdToFj`$M\vJ!H\vIgUjNeBoQf*$!\v}!}<!cehfsg/jsopfmep)DVfTwFj`tBtPjNnBfQ!*>!+}!}f!deofbgjjeobfSef)wVjTtFt`jVnWF3m*b\vu!pwub!s<z{jzoyh/!*wsfpdm3p!DwfVwwj3t<t!j\vn$ff)osebjfgo\vj!M\vp$UjCgHeSftg!!>V!TcFh`sN/BsQp\vm!pvDofjwgjptstnj!ntfb!n<q*mwfVsw3!E-!qnbbNqf<w!j\vt$tfjonefj)gE\v3!f\vs$vjugyeffug!!>V!TsFp`mBpMDQfIwBjNtBtQj\vn!fv!o5jdgfpws!n\v!QtBbNnFqWmJfTsT3JEN!Fb`mFqTiVb!Ngbfqe<g!j\v$$\vf!o\vegjjge\vo!f\v$$\vj!g<e*fogp!jVuTdFf`sBjPENfBdQb\vg!!v-oOjqgbpns!n-!mtbbnnsqpmof!s-3oEp!jbupjNtbpqQ<x!f\vj$Wjwg!o.e)fcgs!BV3TmFb`nVsCpPO\vc!svvoujsgfpqs!n>!!gmmbpnbsup!ob!p<NfbmqbJdoTumfbontsjpuoz!<>!+\v!$zfyo/eOjqgb\vn!!\v<$1f/o2e!j.g!\v1!/\v3$!j+g!e{fzgy!/V*TwFV`wM!J-HqIbUNNmBbQn\vs!pvoo)jEg3pfssnv!utybfnuq!m>f!sO3qEb!nm!j4hdifuwN!b\vqQ<B!N\vM$BjNgSoPeOf`gF!TVVT!Fg`fVeCgPj\v$!\vv!o<jogppjsunj!tgpmQpwbNuw!.m!j>h!ioupNjbuqjJtopuQfxoftjjWuwz!<4!d\vf$wf!o<emjbgn\vs!p\vo$!f>o!emjbgn\vs!p\vO$zjsgueffngp!fVhT!F4`dFfNwJ!T\vTgJjWeFoNfB$Q\v\v!!<voopjjgupdsfns!jtEbfndqbmgf!s+3!Em!bfnnsjptot!j>w!fmNbbnqs<p!o\v!$\vfEoFeEjJgT\v`!F\vM$CjVoPdEm!vgeffe!g=jc$t\ve!g<t*?m\vb!n\vs$pjOowd)mfv{ejfm!b=nosppson!b>m!Nmbbqn/sgpto/!i4fdbfew?!\v<!1w/b2s!z.j!o;h!!1w/f2d!4@!!whOopjsdnbbGmu<o!pwsbGs`zmjho!h>!!wofpdj4u!dwfNswjQEpftdjbugj!puob<p!m\vg$!e\vfggjjeooff!$F\vO!W<N1B/Q2`!N>P!EiFu`hSoFfGsMuFTDsUbJmPvOd\vf!q\vt$!j\vgf!temffg$j\vo!f<es)/VsTbFm`vFdOfWqNTBmQf*y!f}u}!!>N!BiYu`hCoPfYs`uDTMsJbQmQvFdSf!q?t!!1<\v*!wwVbws!z-jqobhN!swbfmdv4d!fwqXtp)sEm3efQspvtujyufjup!o><!!s\vb$mfvodefjqgT\vm!f\vy$fjug!!5edffgwj!o\vfQeB)NVSTBFM`VFDOFWQNTB`QF*T\vV!!vgofjeggpjs$n\v!!g<mipubhuo!ffsouwTNsbbqmJvoduffqott!juubzp<m!gv!o\vjggjpesonf!$g\vm!p<beus!bgdmtjjqeF!o*wuNtbfqU<b!i\vq$mjbg!e=f!gb!/FsOpWmNpBDQf`tUvZgQgFj`eD)V!CgFj\v!!\vvUoTjFgUpBsInQ!MtBb`nFqTmVf!sgDfvecgfj!$f\vo!w\vngbjqe<o!f\v$$\vf!m\vtgfj\ve!ovfo$j\vg!p<scn/!*twbVnwq!m-fqsb3NEb!ifqomwbn)bEq3<f!s\vv$ufyofeuj!g>\v+!!\vb$/jsgpomepfDgf!tVvTgFg`jVeC!P\v\v*!Cv`oMjFgOpOsBnI!Dg`mQpBbNuB!IsQfMgBs)bedfuojjpgofSeb!ugjjpm<f!$\v\v$!f<ohe/j*gw\vV!w\v!$-fqobeNjbgi\vq!m\vb$)jEg3!fesfvgujyoffue!)>D+M!JbQ/`sEpJmSpFDDfUtJvPgOg*j\ve!!w\vb*sHz`jMoFhO!OwBfIdD4`!QwBMNpBdIbQmMQBp)tejfuojjpgof<e!!\vg$jfmofe$j\vg!\v<!s\v/$*jwoVdwm!v-eqfb!N=bdimqjmqbE)jEs3ffdsuvjupyof/ug!t>/+i!fbb/es?p\vm!p\vD$fjtovdgmgvjeef!!\v=*dSm`jMqFcOpOyB/IgDt`/QiBfNbBeI?Q\vM!B\v)$ejfoodjmgvfeef!!g=jgmpfh$/\vg!t</bi/f*bweV?w\v!!-\vq$bjNobdimqvmebf)!E=3tfisbveupyxfNub!q>/+g!tb//isfpbmep?D\vf!t\vv$gjgojdem!v\ve*fB!`=MgFmOpOxBNIbDq`/QgBtN/BiIfQbMeB?)\ve!f\vo$jjgofdem!vgejf$!\v=!f\voQdBpNeBjIoQhM?B\v`!F\vT$Vj!ogdfmevgejf$!\v=!m\vjghjieuotfD$p\vn!n<psop/mgptD/miffybfeu?!\v>!+\v!$sjpomdpmDvfetfv!g=gmjjeh!i<u*tsQpimppoDhm/fgytf/ui)fsbbef?o\vj!M\vp$UjCgHeSftg!!>V!TsFp`mTpQDFmDfVyMfBuS!N<B*Qw\vV!wv!o-jqgbpns)nE!3tfbsnvqumyffsu3!E>!!tsqpfmdpvDmmbfsyNfbuq!<5!d\vf$wf!o\veQjBgN\v`!F\vT$Vj!ogdfmevgejf$!\v=!d<vfcwfjFtotwjSnffg!m>f!dfudjopbojGeTb?S\vf!w\vj$tjtojdnmFvmebfu!p=uu!p4odffNwb!q<q*j*o1h//1g)t4/diffwb!e-?*\v1!/\v1$)j4oddfmwv!e-f*!1=/p1j)u4/dgftw/!i-f*b1e/?1\v)!4wdpfjwe)!unibhjjoM)e*f!u|d!f\vm$gjfoSd!m>v!eufi!h=jdMmejfquEdjfsmfgdfusj!puoi/hgjtM/ecfpuedzf?m\vg!f\vS$!j<o*dzmuvjedfb!q=pd!m-jfqtcvpgyg/jget)/5cdpfewz!?>\v!!swpfmdp5D!fetjvgg"],p1.litePhong=["~0!0<!y$fQuSsFfGwJ!Y+\v!!yvjosjugbpNsund!fckpppsmQ!vv!U>f!youpvjsufj<t!pvQo`jmghp!s\vn?!znebpuc4/!tvwV/wqNbbNuxspjmyg<=!!vfoejvgmpdsonj!$n\vb!u\v5?!zveQpscp/ktfwd/uqNbbNuxspjeyb<i!tv=o!jfgepvsmnd!onjb$u\v5!!\vvgWjjefoxfN$b\vu!s~j!y<<*!*v1o/j2g!p-swnV!bn)b4ud5f!wv!N+p!eyfjmsNubbuNswjVyv<)!3vdofjwg!p>s!nw!Vnwb!u|5!!*vfNspveufymfWUjvf)x!Ngbju!s\vjfyt<m!fv$o\vj!g<p*syn/!wnVbbu!5-!*v*O1p/s2n!b-mwNVbbu)s4jdyf<w!!b+u!uysjjscuvbuNfw!Vwvf)d34d!fbwO)p4sdnfbwm!<>!!bwuVuws!j\vcQvJuMfD!`wWfVd!4g!fbeQgpjt$j\vu!j<p*oe<f!nbsupugstjocbvsuuf!!+w!fydj3s!ubbVNwm<f!e\vp$Njvg)e4fdgf!wV!W>`!DoMpJjQu\vj!twpbQsezmjsophX!ww!f<d*4y!fwuVswf<w!)\v4$dffmwt!f>\v!!owpbjsuzjjtophQ!wwNfwd!3<!ewfVnws<p!g\vt$ofboseuj!g+\v!!y\vj$seufbgNjxoffj!WVmTfFe`pJNOvT!U>B!OyDfJuOsHf\vw!!\v5$deffwg!j\vo?fz!eVpTcF/`tJwO/ThUoBjOdDoJbOuHt`oMjF=H!BfDeZv\vm!d\vo$jj$o\vd!m<v*emfb!n=sjpoOtbu)b4oddfjwo!h>/!wmtb/nisfpbOeu?d\vf!kwcbps!z4jdofhw!!w<f*do4p!jwuOjptspnQbbm)<4!dwfbws!z>j!oohp!jwufjdt4p!QwmNbwdQppMtwj!u<j*p1o/<2!!w-bospzjjuojht!pwQfbd)45!dwfXwp!s>m!eeQfpntsjpugjtpoob<s!uw!b5sdzfjwo!h|!!w*f)do4j!bwnM!pedjbpmwQ!p\vt?jeubjfpio/<t!w\v/$qjboNdxmpvmegf=!!=fteivbmedpoxjN$b\vq!/\vw?te/bif","~0!0<!eiJj!o>u!ts;p!mppjDuh-b!shGm`tmmh4!\v\v!?\vz0e0p!c$/QtSgF/GuJjYp\v=!!vfoejvgmpdsonj!$g\vm!p<b1u/!2b!m;q!izbuUjfdtbuq<p!!v+o!jxg/pesJn!!@c!pupomf!svbtqftMojbhsiuu!j>o!hx</!evJo!j\vg?pzsenp!cc/ptpgm/!hupsgb=o!tfqebvsmfdoouj<$!\vv!o<jfgwpjstnt!jcnpfp!m>!,v!Ucfhysu/vesJf!<~!!\v\v$?jzgeepfcg/!tVgW/`hDoMpJiQQ\vf!uwjbMstzujiohhj!mw=f!df4e!vwmVdwo<j!$\v\v$!f\vm?tzfe\vp!cw/btsgz/jqobhN!xwpfmdg3=!!wfVewv<m!d\vo$jf$o\ve!j|g!\v*!hvoojjugiphsjnM!fttbvn)q!mgfjs!3~E!!<nsbpqm<p!D\vw$ve!f>g+j!oefJ!!D|M!J*Qf`sEvJuSyFfDUUvJ)P!Og\vj!!\v<$*j1o/d2m!v-efft!v=gdgmjjeq)E5jdsffwd!u>j!peoJ/!g\vtg/jiefobfe$?\v\v!!~v!o<jOg.p!s>n!!Og!m|p*blud!bpCqtbjd)j!ugzj<!!<vfovjsgup!s;n!!fwtfmdb4g!!e@j!ghgovjtdfb<G!uvoopjsgGp`smnh!!w>f!dl4d!bfCntjjt!tmjpwpfc<!!\vwfbtsmzfj$o\vh!!~w!f<df4v!swuO!p>s!nlbdmb<C!twjb!s<zOj.o!h>!!wOf!d|4!!*w1N/w1Q!p=t!j*uOj!p-oF<)!uwpbes)zgjjo!h<!fwtfmdb4g!!w>M!plddbbmCQtpjt!jmupjppco!<\v!TvMoBjNgSpPsOn`!HnObJuT5V!`vFWDjBfGxLNDbBuCs`jZyD<B!HvFoMj!ggpfseng!jw$f\vd!4<!Fv.D!b>n!fMs!b4Qdpftwj!u<j*poop<j!uwjbtspzQjwoNhw!.w)ffd{4j!mwbXnpsspmoe!Q>p!tFj!u4jdpfow<!!<\v*$mvbonesfpgO!wF)OfW{NjBmQb`nSsPpUoB!U>F!\vO!!\v4$djfowd!m<veeJf!!5=dmfjwh!i\vu?tzMejpucf/Qtigp/ofhw/jgutd/fimffbTen?p\vp!m\vc$=j!ofdemvvmedfo!j=$q\vb!d\vl?jzoehp?c\v/!t\vg$/jyopdcmqvjemfd!==!dfmejvqmcdpoyj/$g\vt!/\vi?fzbeep?c\v/!t\vg$/joopdjmuvdeffs!j=Egqpjhm/dg=t!/fiefvbmed?o\vj!$\v\v$!j~o!d~m!v~e!f<!e=stbidbtejpex!N|b!q*/ugttf/Uibfibqem?b\v!!>\v=$!jbo/dsmpvmepfD!w=vg)m!pgxjN!b|q!/fgttm/fi!f~b!e~?!\v<!e\vs$bjdotdjmev!e|f!!*=1c/m1p!p>n>T!fbm/fsdpumjpwDfw/vg)t!/gijf!b|e!?*\vu!o\vf$sjboqdtmovbesfu!)=!pgjju!/\vggtj/eioffb$e\v?!\v<!*wwpVjwe!!-nqbbjno))E*3!f|s!vwufydf5u!!v>w!DsppmmppsD<w!vj!g\v!f)tvmUff$y\vu!v<s*fz*y!/|w!V\vw$!j-gqebfng)!EV3Wf`sDvMuJyQf\vu!!v>w!Dsppm"],p1.hueSaturation=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*gxp/ssnp!mtpbdn!q-m*fmst3iE)!cjhnsb3hmft<i!)w5bdsfzwj!o>h!!swpfmdp3D!hwbVswG<`!m\vh$!e<f*g!j*offh!oNbBSYt`tSfBoOuHiFh!j8m\v!!-\v^$1e]ftgtjfoofu!iShBjOmH!F-`{B/MmMt!i1)\vt!tvfoojugiphsjnm!`gqmbpnb!u-!*ifvhfo]bNSBoYp`jSuBbOsHvFu^b<t!!v-o^j1g]pospnj!ugbmspvbuub!tt!b-uzv/smbtuij)poop]jNuBbYs`vSuBbOtH`Fq^b<n!!v-o*jfghposbnS!fgvmip!b-u^!1m]jfhviiu!o-fyt/tm]tNiB)Yf`vSiB`OqHbFn^!<)!4gdmfpwb!u>!!nmbtqi`!i~v!f~)!g<mlpbbfus!cj!o<W^bsmfvufo-v!pgdm`pfbvui!]itvtffBomumi-h!jgmm!p>b!uf!hiovbfSStbtofhofu*i!h|j!mg!m<p^bsuf!uwobvmpvdf`!f>v!ij]ooWpbjmuvbfs!v,u!b)ti!v>f!Bfmhmo!b,S!oipvjfuSbbsovhufb*t!!0<!^3s/f1u<o!vjpgd!`)fwvbim]vffv!i=!!>1!/f1h*o!bsSffuvvis!o|!!w*bfmhvofb!s,!!>2>/!1s<f!ufomvtpfd!`jfgv!i))w!bgmjv!f|!!?*!,2,/s1f*u!osvfpudv`sfov!iw!b<mFvHfO!B.S!`2Y/B1N<!!=f!mstffu!osvfpudv`sfov!iw!b<m1v!f><!!s~f!ugomvppbdu`!fnvbiq!`utobju)v!ssbpugj!p<o2)!g,m!pfbhuo!bjso!W>b!mfvhfo-b!sg!m<p1b!u>!!tfbhuovbssb!u*j7p!o>B?m!mf-h!ogbmsp)b!ug!jt!b~u!v~s!b<uljbpfosScb!o<hsff*u!o|v!pgdm`pfbvui!!w>b!mfvhfo!b>s!!j|o!W*b6m/v1f!!,+!!*)s2f/u1o!v,p!dt`bfuvvis)buubjppmogB!m=m!!i,)!!tgbju!v|s!b*u,j,psofSuboovhpfd*`<f!vsif!u<vFsHoO!BdSm`bYnBqN)!w=b!msvffu-o!v1p/d1`-f!v2i/!1<*1<!!>~!!sgfmupobvup!dn`bfqv`im!juhoiju)o!fstptg)!g<mfphboub!SjtotWfbomuvifh-j!mg!m-pfbhuo!bmSjohpijuuobfstvtuBbmtm!--!fghmopbbSuf!vmij!huibupomfgt!t<S1b!o>h!ff*h!o|b!sg!mupobju!!<we!m>p!imtjfhsiiuuo`fftvtiB!mumb!p,m!gm!j<h1i/u7o!f+t!tyS/bmothif!<>!!jig!!u)bwp!m=g!!1</*1{*z!ys/fsupvmspod!)jmotWib3mcvhfs!!+>!!)mwt!i,!!42d/f1w*!<<!*fwmVtwf!!-sffhubvnsjo)!Ej3ofWsbvmuvyff!u,!!>)!ws!p+m!p)d2!/51d!f.w!!j|o!W*b)movjfb*n*!<e!j~p!wg!m~p!b<u*!mi!v-ft3!s-hic))4gdmfpwb!uo!sgv2u-f!sg!m~p!b<u1!/g73!-0!!gim!p>b!ui!!i~v!f<*1!/|7!!j>g,!!)ii!v|f!!*=1!/11/!1=*!!ii)v!fg!j,!>~!!2</b1u<m!ffEmdt!f0!!j*gh!!).i!vsf)!!?,!!21//15*!!>i!vif!!|.!>f!t2m/f1!<~!!g<mbpubmuf!Esdf!t0<!!*jsg!!.)!)c7)/!1,!!+1!/i3v!f>*!!i=!!|2!/*1y*b!Nsdf!t>!>>!!hg)2!!g,j!!)fgt3m!f.!!~g!2<*b!u+m!f7E/d1!!0+!!*icv!f.<!!hf)m!t>f!!ij!g|!!)*)y3b/N1d!!+>!>i!vsf)*!!g=j!!2</*1**o!jsNfdt!!,>!!ygb3N<d!)f!m.t!f1!/j3g)!!)0)!4b/u1m!f+E!di!v;f!**!o=j!N3d/!1,*!!ysbfNtd!)>!!0g!2b!u,m!f)Egd3!!@.!!6g/21*!!=+!!m)!)>3!/t1!!<0o!j4N/d1!*.!!.y!biNvdf!*>!!+b!u7m/f1E<d!!fumbtpfm!gs!f|t!!*>o!jgN2d<!!?s!fyubvNsdo)!!sgfjt!<<!1~/!3w!f0d!4*!oijtNmd3!s,h!cy)bwNfdd)4!!>i!tmm!*<!*|*!cw!f-dh4)!ysbhnc!<-!sj)gy!b)ni!t>m!/yzb!N>d>!!u1b/p1m*g!!|<!*s*hcc!!->h!)wofjdn4!)-ist)mo/j{n*!<>!!~o!jfNmdt!fu!b|p!mggm!p<bcu/!dg!3><!!cj!gu!b)pimtgm!/<{h!/=d!!1>/!6h*!!ugb3p!m>g!!i<tsm//d{!!>+!!s)!2u/b1p!m,g!!i<t1m//1z!*><!!mf!mutbfp!mgg3!!<>1!/i1t!m>/!{t!!,u!biptmmg/!z<!1./!2i.t!m>/!zi!!+u!biptmmg/!{|<!!*gdm!p4bduf!wg)2m!t>i!33c/h1s!!+4!diftwm!/~{!!<.c!hgs3!<o!ssvhucf/ss!!~>!!<i*v*f13/s4h0c1)/g22)-!!.g!3y-/!mittim!/-y3!g,!!-)22g/)1c0h4s/31f*v*i<!!>s!hcc//chh!s>!!<i*vyf/3msthic!)-g32g-!"],p1.blitScreen=["?$TjWoodfmfvsedfT!u=jcm","~v!o\vjggjpesonf!$t\vb!n<q*mcfhss3/Es!pjmnpbDhhfb<s!Gw`bmshz)jhoohj!swffidu3j!ew!V>w!<c!h\vs$/jsgpemfpgD!hVbTsFG``MmJhO!F\vBHSO\vJ!S\vF$IjUoJdEm!vgeffe!g=jf$o\vd!p\vegjjoeho?f\v$!\v\v!$<f*oweVjwg!\v-!f\vh$bjngje)fEg3!fEsJvUuIyFfSuJ!O>H!\vs!p\vm$pjDohdbmsvGe`fm!h=!d\vpfntnmpfo$?\v\v!!<w*f*dw4V!we!j-ufihfbsnjjo)hE)3wffsdv4u!ydfpum)pCsH*S!t|p!Ugsmbpfbouj!Mh!s>j!es`pqmpptDjhubjspGo`!m>h!!s\vbSoBeF)OhJmM``GFsTbVh!Dgpfpesgej/$y\vz!*|<!!*w)fodj4b!ne!jeujipfws!`\vtgijjegouf`$S\vH!C~!!><!CwHfSd`4u)g1j/i3t6`!s0f!i3u6j6e/!1,-!!s.p1m/p3d6!!o0s!v3u6f6s/!1<-*!o1p/j3u6j!t0p!q3`6e6j/s1h*!<-!CeHjSu`iufgsj`itti`jsgfui`uSjHeC!!+>!!1n/j3y.)!3-/C1H!S+`!uegjjuiitf`s"],p1.pick=["~0!0<!e$fQnSsFpGgJtYo\vb!svuo!j+g!pysjns!ucbpNpxmf!jvWUmffyeupvNsvf!<+!!vyojjsgupbsNnu!dnfbkup4s!QvvV!w>N!boupsjjuyj<t!pvQo`jmghp!s\vng!jnebouf5$!\vv!Q~s!p<ksfpdmupNDbiudsujbyC<b!!v>o!jsgppmspnD!indbuub5C!wv!N|p!e*fsmpNmbpuDsijdyu<b!Cvvo)j!ggpjs!n\v!SnPbMuP5D!IvDNUpBeCf!mgWfjefgxjN$b\vu!s\vjgyj<e!obfu$u\vs!j~c!v<u*f*!1w/f2d!4-!wbVObp)s4ndbfmw<!!+b!uyujssjucbvNuwfV!vw)f3dd4f!wb!Q>p!twjVuwj!p|o!<*!fbsuvuusyjfcUvvu)f!!gwjf!d\v3f!tbmVfw$<\v!!\v<$*jyg/ewfVgb!!C-B*U*D1I/D2P!M-PwSV\vb!)v4odjfgwp!s+n!!ycjpspumb!NvwCVbvu)d3idDfpwm)p4sd<f!wb!u>u!swjVcwv!u\vfQ!JwMfDd`5W!Vb!CgbfuedgijD$p\vm!p\vsg<j!ewobfs$z\vj!o<h*!ewffnds5p!gwtCobbusdui!D+p!mypjss<u!b\vN$mffoeepjNgv\v)!4\vd$fjwg!e>f!go!pVjWu`jDtMpJQQe\vm!swpbXswz!j\vo1h!!>waf!dS4F!QwQVJwM<D!`\vY$PfCm`tYfB\vN!!wgbjs$z\vj!o\vh?!zwefpdc3/!twwV/wh<o!j\vd$ofbouetjogj\v=!!\vf$eevfmgdjoojf$!\vV!T~F!`\vJ?OzTeUpBcO/DtJwO/Hh`oMjFoHoBjDlZt\v=!!\vf$eevfmgdjoojf$!\vV!T|F!`*JhOoTjUoBoOjDlJTOfHt`VGvM)B!Ug`jT!I<B*EmFbEn\vs!p\vO$bj)o4ddmfvwe!f>!!=mjbontsupbOouddjfokhc/pw!t4/diffwb!e<?*\vo!pwjbusjztjpoQhb!)w4fddf4w!!w>X!pospmjeuQjpttpjQumjbpdop<M!ww!b<s*z1j/o2h!!-wofpdj4u!jwtMppQdbb)m5Qdpftwj!u>j!peof<n!s\vp$getfogbjsouf!!5VdTfFw`!T|L!J*OeOjJpOwH)\vo!j\vb$ne!fegjjpowf!!\vC?PeObFf`iU/FtYwU/VhSoFj\vo!ovjoljtg=p!sfne!vcmpdpomj!$v\vV!t<fhToljjoo","~0!0~!!$<QeSsFbGdJtYj\ve!!v|o!j*g1p/s1n!!>c>p!pbm/!svpEmjptDdhbbsseGT`fmmhf)d!ugbjc!m\vfg<j!evoofj$g\vp!s<ns!pwmfpdD5f!tvsGfjwyfQSjlddljSQfywjfGsvt!f>D!psmppmsp<D!hvbosjGg`pmshn!!\vgfmtpmbfu$!\vv!B~m!q<isbpUmfptDuf<t!svfowjfgSplsdnj!QcypjpGmv!!v>U!ssbpomtpqDbhsbfsoGu`<m!hv!o|j!gfptsmnf!!c~p!p<ms!pvmUpfDyiudvusbfC<w!!\v>$!jsgpemfpgD!hVbWs`GD`MmJhQ!\v|!!w*bsspzmjpoDhi!dwufbdC4v!)w!Vgwj<!!\v\vS$PfMmPtDfI\vD!UwBbCs!zgjfoehg!jw$f\vd!3\v!?wzVewp<c!/\vt$gf/oyepjcgq\vj!mvdo=j!gfpesvnm!dtobjn$q\vm!f\vs?3zEe!pvcT/btngq/mofpsj<u!d\vf$sejfEgqjjomfd!=D!MfJeQv`mEdJoSjF$D\vU!J~P!O~\v!!~\v!$<jeosdbmdvtejfe!!=|d!m*juqtEfjUsbfidqumjBpvo!/>g=t!/bi/fsbpem?p\vD!wwvb)s!zgjjo!h|!!wfftdm4f!!w~M!p~d!b<meQspbtdjtujjep!o|<!!*w1b/s1z!j>o>h!!bw/fsdp4m!pwDXwpvs)m!egQjp!t|j!u*jupoof<s!b\vq$tjogbesfUgv!)C!BgUjD!I\vDgPjMePoSf\v$!\vv!o<j*gwpVswn!!-cspfpmmq!nvbCTbvu)dEi3Dfpsmvpusy<f!uw!b>s!zsjpomhp!Dwwfvd!5\v!fwtCmbfu$d\vi!D<p*mzpys/<w!V\vw$!f-osefjmgq\vn!b\vT$vj)oEd3mfvsevfu!y=fdum!j>q!csppym/pgDtw/vi!f\vbQeJ?M\vD!`wWpVj!eg!fnebgjjo$)\v*!!||!!*wffmdc5b!uvdwfDmpfmTpess<b!djtgj!E)vvaU!f%y%u!vfs"],p1.envmapDynamicCompose=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*g1p/s2n!!-tcbhnsq/m*fbsi3qEm!bu!f-ycuhvss/f32s<p!mvpodj!g-pcshns!/t2bsnpqmmpfds)3yEj!nu)f5ydufvws!f>3!<s!pvmopjDghpbssnG!`gmmhp!b<ub!/p3gsgptmfpud<!!>w!bbsizqjmobh!!uwbfpdm3g!!w<V*w*<w!V\vw$!j-o3dfmsvveufy!f=uf)oEd3pfesjvouhy?f\vu!)wspbjfeo!jnMbpjUoC)H*S!t|!!>w!f3ds5p!mdppdm!p5sd2f!w>!!<u*f*yzu/vwsVfw3!E-)uufftygugvps!f.2!-y!/wwfVdw3)"],p1.blurH=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jngvpts!n>!!tsbpnmqpmDfhsb3sEG!`jmnhb!h<f2<6!1w/b1s!z+j!o*h*!zw/fwdV3w!!w-Vfwv<m!bvwo!j+g!p1s/n5!!g,m!pyb/uw!Vwwb)m3vdff<w!!w-pfjheb!nnjb)jEo3)f*s!v|u!ywffud!5>!,t!vnnv!t>!!<w9f2d:51)/11/!1+*!<*!*tzv/nw!V,w>!!-uffvymubvws!f+3!E1)/j4n!b,h!fy-/!wwVfwd)33)dwfVww!/-yf!h.b!n5j/)1E!3+f!swvbumyvffu-!!>w,V!wn/vzt*!*<!6+5!313/21/612!<+!!t*v*nz!/,w>V!wu!f-yfuvvmsbfw3!E+)!j1n/b3h!f,-!!yw/fwdV3w))w3Vdwf/wy!!-.f!h4b/n1j!)+E!3wfbsmvvufy-f!uw!V>w,/!zn*v*t!!+<!214/612:/219!<+!!t*v*nz!/,w>V!wu!f-yfuvvmsbfw3!E+)!j1n/b2h!f,-!!yw/fwdV3w))w3Vdwf/wy!!-.f!h3b/n1j!)+E!3wfbsmvvufy-f!uw!V>w,/!zn*v*t!!+<!414/7223/315!6+<!!*t*vzn/!w,V>w!!u-fyy/uwvVswf)33Ed)fjwn!b-hffh-b!nwjf)dE33)fwsVvwu/yyf!u.!!>2,/!1n!v+t!!w<b2m4v6f2-/!1w!V+w!/*z*"],p1.blurV=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jngvpts!n>!!tsbpnmqpmDfhsb3sEG!`jmnhb!h<f2<6!1w/b1s!z+j!o*h*!fwvfmdb3w!!w+V!w1</!5v!o,j!gzp/swnV!wg!m-pyb/uw!Vwwb)m3vdff<w!!w-pfjheb!nnjb)jEo3)f*s!v|u!ywffud!5>!,t!vnnv!t>!!<w9f2d:51)/11/!1+*!<*!*tfvvnm!b,w>!!+u!f1y/u4v!s,f!3zE/)wjVnwb!h-fy-/!wwVfwd)33)dwfVww!/-yf-h!bwnVjw)/Ez3!f.s!v5u/y1f!u+!!>w,b!mnvvft*!*<!6+5!313/21/612!<+!!t*v*nf!v,m>b!wu!f+y!u1v/s3f!3,E!)zj/nwbVhwf!--!yw/fwdV3w))w3Vdwf/wy!--!fwhVbwn/jz)!E.3!f4s/v1u!y+f!uw!b>m,v!fn*v*t!!+<!214/612:/219!<+!!t*v*nf!v,m>b!wu!f+y!u1v/s2f!3,E!)zj/nwbVhwf!--!yw/fwdV3w))w3Vdwf/wy!--!fwhVbwn/jz)!E.3!f3s/v1u!y+f!uw!b>m,v!fn*v*t!!+<!414/7223/315!6+<!!*t*vzn/!w,V>w!!u-fyy/uwvVswf)33Ed)fjwn!b-hffh-b!nwjf)dE33)fwsVvwu/yyf-u!!w>V,w!/nzv!t.!!<22/416!2+/!1w!b+m!v*f*"],p1.blurDownSample=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j1g/p5s!n0!!t*b*n*q1m/f2s!3-E1!/j1n)b3hdff<w!!w+b!sfz{jjoThm!fwyffdu3!!,w!VwwV<w!!v-ofjhgbpnsjn)!Ew3ffds3v!uuyffyuf!m,T!j*{*f1</!2w.p!j-e1!/n1b)j3od)f*w!!|+!!hfm{`jGTsmbfhyDfpum!p,s!!w>V!w)!u-ffyhubvnsjf)3EE3)fjsnvbuhyff-u!!w,V!w*!*,1!/u1f!y-f1m/T2j.{)f3!d+f!ww!f+d!3f){2j/T1m-f!y1f/u1!*,*!!w,V!wu!f-yfuhvbsnfj3)E"],p1.flow=["~v!o<j*g1p/s2n!!-c1p/p1m!!-v1t/f3Y![+<!!wbVuwu)s5jdcfvwu!f>!!wofpdj4u!jqtpptQj`umjhp!o<<*!zw/bospzjjuojht!pwqf!d-3y!/woVpwj<u!jwtppjqe)!3ndbfjwo!)>*!!w|V!wj!gf!t)mvft!f<Y*[{*/!owpVjwu!j>t!pwqf!d-3y)/qopptjju","~d!p<oztuuj!tgomfpubouj!!q+j!3b!/>s!p7m/p3d9!4+2!9s6p4m<p!dv!o>j!gsppsmnp!DthbbnsqGm`fmsh3!E<!ejonfbmhcf!<+!!v*o*jzgyp/s*n*!1n/b2u!4-!wvvw)N4bdufswj!y+<!!yvjosjugbpNswnv!)j)o3ud!ftwi!b-qffh<b!nvjo)jEg3pfssnv!uwyffdu5!!>c!msfpomep<d!!v5odjfgwp!s~n!!<g*mfpmbhuo!bj!o-u!f*o3tjjqu!z+<!!fwmbhsozBjeophn!)wtfpdd3!!+w!V1w/<3!!w+p!j*ew!Vnwb)jiou)h*o!f|m!)w3fddf3w!!v>w!<w!vg!m<p6b/u1!!b+o!hqmffu!t>!!.b!u*bqof)uwtV!w-/fzm-h!owbV)we/pyn*!!>0!!fqmjh3o!B,e!p1n/!6u<b!pjmgg!!)<t*i2b!q,f!!f>q>b!i1t*)!u|b!pvmwg!!>0!!w1V/w2!!,>!!1q/f6u<t!!~u!bfpmmtgf!!|j!gf!t)mtfi!b~q!f<!*>f>m!h2o*b!!|-!1v/w3!!>+!!w*fwdV3w))mifuoh"],p1.fxaa=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jbg/p*swnV!wt!b-nfqhmbfnsj3)EE!3jfnsbvhufy<f!uv!o>j!gbp/ssnp!mwpfDdh3b!ssGf`tmphm!v<u*j!p*o1</!1w)b5sdzfjwo!h-!1w/f1d!3-!1w/V1w!<-!1\v/$1e!f-g4j4o9f1!/G1Y!B-B7`7R2V/B1M!J-U6Z8`/Q11!!-2*/11/\v1!)\v5$deffwg!j-o*f1!/G1Y)B5Bd`fRwV!B-M*J1U/Z1`)Q52d!f2w/!6-\vo!p\vj$uevfmgpjtoffs!!G-YfBhBb`nRjV!B-MfJhUbZn`jQ!3-!f3h/b1n\vj!!\v-$*e1f/g1j)o5fd!fGwY!B-Bw`VRwV!B)MsJfUeZb`iQT4m!f5y/j1Q\vb!b\vy$Ge!f>g!jsopfm!pGDYhBbBs`GR`VmBhM!J|U!Z*`)Qo5j!b2n3!/e1j\vp!w\v!$~e!f<g*jNobfn!vGmy!b-b{Czpyp/m*!Nctpppqm!\v-!y\vf$ue)fqgpjUoyff!UGbybbybGG)m5pubbup!mgGmbpbbyuG\v!!o\vs$veuffgsj!o<fo!hGjyTbibuGhmopfbmu!3+!!wyfjdq3c\vv!T\vu$fetfgggjPomff!yGjyqb!b>G,m!pzb/uN4t!pwqf!d*4o\vb!q\vT${esfpgij)ogfj!!G<yobhbjGTmipubhuo5f!mw!f+d!5y\vj!q\vc$veTfugfjtogfg!PGmyfbybjTqb!u>),y!*y!/dNmtbpnqq!)*yo-b!q1T/{1s-p!i2a/)1g*j\v!!<\v*$Ieyfjgqjcovft!!G-yebpbpUHfuyf!ttgbgnPqmmffysj3qE)\vy!b\vn$!e>f!gyjjoqfc!vGTyubfbtUgfgyPUmpfqy)juq-!!uqb*p!muGfbybuyvGs!f<31E/)1u!-;!!qu-f!t1g/g1P*m\vf!y\vj$qe!f@g!joobfq!TGeypbpbhU!f>y!Pegpgp)Huu-f!tqg-g!Ppm-f!ysj*q!!uufbypumvGsbfb3yEG)!u<-y!jqq!c,v!T)zpu!j+m!bsv*R-b!b1y/g1!*+\v!!HGyyjbqbcGvmtp!b>u!!IGyyjbqbcMvvtn!bu)bGpymbGbbGbmypGb!u<56!/s1h!c,b!**!*|q!dsSfiuuvhsoof!Msohbcqbt/.z)<!!+~!!uGtyeb)b!G>m!pubfut5g!gGPymbfbyQjjqy!fumbTpimbGebfbsy)G!!G<yGbybjGqmcpvbtu!3+!!qGpytj-q!cGvytb!b>G!mHpybjuq5c!vgty!bubbDppmoGtbpbmyfGQ!p<tQQopbtq-T!eGpypbhb!U;f!yO!oubfqyT-e!pGpyhb!b@U!fOyo!pgjyubdbfDspjoet!p>m!fo4b7q1TUefpypFhy!qmCpjpbCtbObfyhGP!o<f*-Q!uGtyeb!b-UOfuyt!eg)yobjbnD!p>o!tuptmef!4u7b1pUmfGybFbyyqGC!j<bQtuOtfeh!U=x!pO-u!tGey!b>b!GOmoppbjuu3d!fgsyjbeb!RmvpbpmCjbubzySGd!q<Gisubhnoff-M!oGbyqbtb0G1m/p2b!u>5!!qgdySbibuDhpooftMpombfqStd!quGbspbmnGfbPbqyuG-!!<Gpysbfb[GUmMpNbbun5v!mg!y>bab!D*p1o/t1p!m=f!SQdeqoGFsbbnnvfmP)q!u>3!-Q!oGbyqbTbeGpmpphb!um5p!pgCybbbbyDGp!o<t*pOmuft4e7!1,S!dQquGtseb)n!f>P!qiuu3h-o!fGMyobbbqGtm!pubbup!mgGybbbbyRGv!b<mpjsufz[TUvMcNqbjnyv-m!!G>yab!b*G1m/p1b!u=!!gOyebobFRbvnbvmmj)u!z>F!eOhofbUqiTsefptpihp!mmep-p!CGbybbybGG!m<pzb/uN!tgpyqb!b.R!vzb/mQjtupzqF!e>h!fQUuitsef!t*iopbmqeTN{jsop-i!aG)ygbjb!G<mzp/bOut!pgqy!b.b!Dzp/oNttppmqf!F>e!hOfuTtieb!s*qoobfqtTt{-s!pGiyab)bgGjm!p<byu/!Ngtypbqb!D.p!oyt/pQmtfpFqe!h>f!UQiustfet!iupbmpem-G!bGbyybGb!G<myp/bOut!pgqy!b.b!Dyp/oNttppmqf!F>e!hOfuUties!futbippmmGebNbjyoG-!!~G!y~b!b~G!m<p5bQu`5Z!UgJyMbBbVDRp`oBtBpYmGf!4+7!1zD/pQoOtgugEpj!s>!,*!!z|/!QGtypbqb!G*mQpfboup3e!aq)pgtjN!<<!5qQp`tZNU/JyM!B>V!Rq`pBtB/YyG<!!+q!pyt/NQ/Ozg!g>p!!q>p,t!/yz/<Q!tGpyqb!b*GQmfpobpue5a!)sghjc!z<N*!Q>f!oGpyebab)U!f}y}U!p*qO)fuofpye-a!)q!p>t!NQ*O<f!o\vp$ee!f<g5jQo`fZ!UmJvMnBbVNR!`sBhBcYzGN!/+z!\vz!/GQyObgbgGpm!p>b.u!!zm/vOntbpTq!!>*!OGfyobpbeMav)ngbj)!G<y5bQb`UZfUyJPMgBgV)Ru`fByB-Y!Gq!p+t!Ny-/!QGOygbgbpG!m>p.b!uy3/)O1t/p1q-!!*2O/f1o*p-e!ag)ygbjb!R<vebfmmjbudzTSudoqfGjsebbnsfh/!y>z?*!**<Q!eGoyFbbbnGvmmp)btuc!bm!v>n!bQFf!o>p!eG!y<bebfMmvbndbT)uGoyfbjbeUbfsyhP!g>g?)!u*fOye-o!FqbpntvNm-)!tGcybb!b>G!mOpfboup3e)!2</61/-1!!1+/!1O*O-b!ngvymb!b.R!vQbemojFubznSvdmq!G>s!bQnefo/Fybzn*v*m<!!*GQyfbobpGemap)bguj!!m<v6n/b1O!!+>!!OGOybbnbvMmv!n.b!)OGeyobFbbUnfvymP!g>g!)OuefoyF-b!nqvpmt!N*-O!fGoypbebaG)mgpjb!u<3*)*1z/y1/-Q.t2p/q1!*--y!fguy)bqbpRUvybfmUjbubzySGd)qbGnsvbMnbfb/yyGz!*>*!<Q!eGoyFbbbnGvmmp!b*uQ!fmovpnebaX)!g>j!!G<y*b*bzMyv/nObt)pGqy!b-byUffuy)PqgpgU)yuffUyb-b!yqGp)tbNn-v!MGbybbybGG!m>p!bOue3o)F.b2n/v1m-!!*1O/f1o*p-e!ag)ygbjb!R|v!b*mQjOufzoSpdeq)Ggsjb!n<f4/Qy`zZ*U*J<M!BGVyRb`bBGBmYpGb!u+!!nzb/yQTONg!g>p!!n>b,y!)zm/vQntbpTq-!!*mQvfnobpNe*a<)!gGjy!b<b4GQm`pZbUuJ!MnBjVoRT`NB!B>Y!Gn!j+o!)ym/vQnObgTg-p!!m>v,n!byN/*Q<t!pGqy!b*bQGfmoppbeua!)ngbjy!F<T*NQ!f>o!pnebay))!m}v}n!b*FO-f!onpbeyaT)N!*><!!QGOyfbobpGem!p<b4uQ!`nZjUoJFMTBNV!R>`!BnBjYoG)!m+v!nzb/FQ-O!gngjpo!T>N.*!<z!/GOytbpbqG!m*pObfuo!pnebay)XgOj!!><!4nQb`yZ)UmJvMnBbVOR-`!BmBvYnGb!X+*!<y!/GQyObgbgGpm!p>b.u!!yn/jOotXpOq!!>*!Onfjoop)emav)ngbjO!-<!emfvmnbbdXT*u<o!fGjyebbbsGhm!p>b?u!!*sQbeoohFfbNnbvym!)>t!cnbb!y>)!nQbfyoXpOe-!!<nebfymFbTdNT*u<o!fGjyebbbsGhm!p>b?u!!*sObeoohFfbNnjvom!)>t!cnbj!o>)!nOjfooXpOe-!!<n6j/o1F!T+N!*O<O!bGnyvbmb!G.m!pQbeuo!Fsbbnovhmf!N>b!yQTedobFmbfnev!m>!!*sQbfoohpfeNab)yg!j+!!<g6y/b1b!R+v!bOmOjbunzvFme!h.f!UOiesofFtbinpvmme!<>!!GOyebobFGbmnpvbmu!!*sObfoohpfe!a>)!gsjb!o<h*f*Nzbyy/!Q.t!psqb!o-hyffNuj)oq<p!UGyyfbUbbGbmypGb)ub!nsvbMobhbfyNGb!y>D!mQbenoqFfben!v>m!!n*bQyf)ogpyebab)Rgvjb!m<j*u*zzFye/hOftUpiqs!f-tyifpum)eqNpjUoy-f!UsbbboyhGf)NbbnyvTMdbbbmyfGe!*><!!OGeyobFbbCnpvpmm!!*fObfsompzeFay)jguj!!>|!!s*bQoOhffo!p=e!)sgbjo!h<f3NQb`yZDUmJbMnBqVfRe`<B!BjYgG)!f+b!szm/zQFOygjgup*!!>s,f!uzv/sQot!psqh!c*zQNf<o!pGeyab)bgGjm!p<b3uQ!`mZvUnJbMOBXV!R>`!BGByYbGb!M+v!nyb/)QGOygbgbpU!f>y,P!gyg/)Qutfpyq-!!*qQpftoNp-e!aG)ygbjb!G<m*pQbfuo3p)e.a2)/!1}-}.!2*/O1f*o-p!egay)b!b>R!vQbOmfjoupzeS!d<q3GQs`bZnUfJ/MyBzV*R*`<B!BGYyGb!b+G!mzp/bQuO!gmgvpn!b>T.F!!z>/!OGtypbqb!M*vOnfbo)pGeyab)bgUjf!y<P3gQg`)ZuUfJyM-B!VqRp`tBNB-Y!GG!y+b!byG/mQpObgug3p)!2>/.1!-y!/2O/t1p*q-!!*gOyfbobpRevab)mgjju!z<SedfqmGbsdbTnufo/fyjze*b*s<h!!G>y?b!b*GQmepobFub!nmvvmn)btOcFb!!>>!!GQyfbobpMev!n<be)fGmybbdbTUufoyfPjgegb)suhf!y>-?!!q*pOteNo-F!bGnyvbmb)Gtmcpbb!u>3!)O2f/o1p-e.!2</61/*1-!!+g!yObObbRnvvbmm!j.u!zQSedoqFGbsnbvnmf!/>y!zQ*e*o<F!bGnyvbmb!G*mQpfboup!emav)ngbjT!X<!6>/!1G!y+b!bOMOvbnnbv)mG!y.b!bOUefoyFPbgngv)mu!f>y!-O!eqopFtbNn-v!mG!y*bObfGomppebau)3g)j.!2</*1*-z!y2//Q1t*p-q!!g-yybfbuR)vqbpmUjyufzUSbdbqyGGs)bbnnfv/Mybzb*y*G<!!>G!yQbeboGFmbpnbvum!!m*vQnfboOpTe!a>)!gmjv!n<b*O*!z,y!/mOvtnpbqT!<-!yGfyub)bqGpmUpybfuU!bmbvynGb)XbFn!v>M!bmbvynGb!X>!!,O!emovFnbbnFv<m!!G*yObfboGpmepab)ug!jt!v|c!q*jQyOSfdoqpSeb)oghjf!!<>2!Q2`/Z1U0JsMbBoVhRf`<B!BGYyGb!b+G!mzp/bQuO!gtgvpc!q>j,y!OzT/XQFt!p>q!!m*vQnfboOpTe!a,)!gmjv!n<b2XQF`<Z!UGJyMbBbVGRm`pBbBuY!Gf!e+h!fyI/pQsO{g2g!p>!!>),.!3y//1Q!t+p!qm!v*nQbfNo*p!e,a!)mgvjn!b<O*TQ<f!oGpyebab)G!m}p}b!u*!OffeohpfeWaf)s!u>2!!Q>O!f)o.p3e/!1m!p+p!CmbvbnybGN!*<!2,Q!`mZvUnJbMXBFV<R!`GByBbYbGG!m+p!bzu/!QmOvgngbpO!F>T.F!!z>/!Omtvpnqb!O*FO!f,o!pmevan)bgTjF!<<!2GQy`bZbUGJmMpBbVuR!`mBvBnYbGO!X+O!Fy!/>Q!Omgvgnpb!O>X.!!,y!/mOvtnpbqO!F*<O!fGoypbebaG)mgpjb!u<!effemhbfdITpuso{f3j!e>b!s)h.!3>/?1!!*+Q!emovFnbbnFv*m!),t!cmbv!n>b!OQFfToFp<e!!GmypbpbCGbmbpybGu!!<feefhmfbWdfTsuuo3f!j>e!b)s.h3!/>1?!!+*!OmevonFbbOn*v!m,)!tmcvbn!b>O!XOOfFo<p!eG!ymbpbpGCmbpbbyuG!!m<v6n/b1O!X+T!XO!O>b!nmvvmn!b>O.X!!Q,e!omFvbnnbvTmX!<<!6G/y1b!b+G!mOpObbun!vmmv!n>b.T!XOTeFo!F>b!nmvvmn!b<T1X/!1,!!=m!vNnNbbTnFv<m!!G>y!bpbsGfm[pUbMuN!bfnevhmf!Imppsp{C5b!b>y!G)!b<cFty)jfqechvftI!p+s!{E2y*j!q+c!v3t/!1>*!!G,y!jbqcctv)tf!euhbfpImpGsb{b3y*G<!!<G6y/b1b!G+m!pObOub!nfvemh!f.W!fNsbun5v!m>!!>)!bNcNtb)nfvemh!fuWbfpsmuG2b*b!y+G!!3</11/*5!0,1!/b2c!t+)!fueohffjWefbssuh3!*><!!eGfymbbbdGTmupobfuj!efbeshhf!Iupbsp{m4G!b>b!y)G.!3</T1T!b+n!vmmv!n>b!XO*O!b,n!vmmv!n*bOOsXjTbXq<a!)Ggyjb!b<G*m*pQbtup!qf!e-hyffWuf)squp4U!y>f!U)b.b3y/G1)!b+n!vmMvbnbbyTG*!!>,!!QmevonFbbTnXvTmF!<u!bGpymbGbbGbmypGb!u<!DfyejhqfcIvpts!{+!!>D!ybjcqtc)vfte!h>f!IFpysj{q4c*v!t,!!ufbephmfGIbpbsy{G5!<<!*G*yObtbpGqm!p-byuf!uf)eqhpfUWyffsUub!b>y!Gb)cbtn)vfMebhbfyWGf!s>u!4O*e!o,F!bfnevhmf!Wufbspum5G<b!bGyyGb!b<G1m/p4b!u,!!t*vDcyqjjqycOvXtT+X*O1F/T3F.!)>)!!m>v!nEbyOjXqTcXv!t,!!umbvpnmbGObFbTyFG<!!<G1yQb`bZGUmJpMbBuV!Rm`fBoBhYuGi!T+j!hzo/!Q>O!gggypb!b,R!vzb/mCjtupzqS!d>q!Gzs/bQntfp/qy!<<!1GQy`bZbUCJpMpBmV!Ri`pBsB{YTGq!b+o!!y>/!QfOeghgfpI!p,s!{y!/?C>t!pfqe!h>f!Wyf/sQut<p!qG!y<bQbtGpmqp!b3uu!btpvmcGqbjbyyBG!!><!1tQv`cZqUjJyMOBTVXRF`!B+B!Y3G/!1+!!,z!/tQvOcgqgjpy!O.X!TzX/OCFtTpFq<!!>j!gz)/aOitppsq{!T<q1bQo`*Z!UmJvMnBbVOR!`>B!BmYvGn!b+X!<y!/jQgO)gagipp!s.{!Tyq/bCot*p!qm!v>n!byT/!O>t!pmqv!n<bOFt<p!qj!g3)uibppsm{GTbqbbyoG*!!<m6f/o1h!u+i!TojhhjoT!i>u!hgoyfbmb!R>v,b!mzj/uCztSpdqq!G*sobbnqfT/{zs<p!iG)ygbjb!G<m6p/b1u!!+t!vochqjjTyiCu!h>o!f)mt!v>c,q!jyy/BC!t+p!q)!2*/o1b0q2T3{/s1p*i*a!).g!jm!v<nzb/Nf<n!bGsyGbqbdGSmzpubjum!bhvsRbbebjyfgo!u;O!!1>/!1m!v@n!b*Oo!b.q!Tm{vsnpbiN)<!!>G!yzb/bQGOmgpgbpu!!<hys/bfenjbfsoGuqTd!S>z!umjvmnbbvTR!b.b!ymgv!n;b!N1</!1G!y@b!b*GombpqbTu{!smpvinab)O!O>!!>y!/mQvOngbgOp!!,<!QmOvgngbpN!<3!uGbypbmbGGbmbpybGu!!<mzv/nNbtTpTq!!>>!!mzv/nCbtTp!q,!!<myv/nNbtNp<q!!G>y!byb/CCptppmq!!q<bCjtspOq!!>3!ubbcptm)GhbsbbyeGj!f<o*ufOh*o!b?S>q!dbScytj)qhcsvbte!j+f!o*uCTy*j<q!cGvytb)btGcmbp)buub!ThbsbbyeGj!f>o!uD!y>j!qncbvyt)!bucbtp)mhGsbbbeyjGf!o<uoOh*j-T!ibuchto)fhms.b!e>j!foohujTT*i*u<h!ojfgm)!q*bOjs"],p1.lut=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*g*pzsunj!tgomfpubouj!!m-v*ubT/jm{bfw<!!-v*oxjwgvp!s-nf!{tjbTnuqvmmf!s-3uEv!mm)vquv<l!pwpfMdu4v!mm)v5udMfpwp!l-vmqb)wt)bynjqnm)f5sd3fEw!!u>f!ys-p!mgpmDphbbus!Gt`jm{hf!-<!*wifude4j!Xsmhfcy*j!q|!!.g!m1p/b2u)!!t+m!jcdhfsI/fmjbhwi!u,!!>*!i2u/e1j!X0m!ftyjj{Qfg<m!bgim)p4bduf!wz!Q>j!yxfwmvI!f4jdhfiwu!!<>f!{2j/T1u!v0m!!)0t!j6{/f1!!+>!!tiju{efj*X<m!fgymjpQbgum!btim!judbfp!m>g!!s<hfc{/jcT!u+v!mt!j0{!f1</!2g!m>p!biuu!ejjoXumffsyqj!q>!!ugbspbmdgu!)<t*mwjVdwf!*-<f!tgvmgpgbjuE!ut)mEj3dffs1v!u>y!ftum!j>d!fm!b.w!!j5oduffws!q|<!!*g)mopjbbun!!defjopuwf!s<ffetJvogugfjsEqu!!>E!3jsofumfqsnqb!t.!!n1s/p6g<j!ogvm!p<bzuu!jttmojfdufo2j!!>u!btpmmjgd!fn1s!p,g!jtojvh!o<)wdVfwo!u3fdsffwe!Jhooujfzssqb*w<!!~g!m<p*b*uq!shfsufofJoePfgsgftufouf!d>)!tdcmbb!n-q2)fsmhqcn/bht!!+-!1tfmmjqdnfbItf)jyhjinu!-o!szvQujfysf!m<Icfhjsh/i*u2!w+v!!1-/y6f-u!)tEm3jfdsfvIufyjfhui!u>!!.2!fzmQqjnybftm!I4fdjfhwi!u<!c+h!s1//*61*w<v!!w-fydf3u!)vEw31f!s>v!uwyffdu3!)>!!s1hfcm/qsn-b!tt!m4jddffw1!!<+*!!tumfjtdgfgIPfojfhfisuh!!,,!!husifhfjofPIgfgdtjfmut!!*+<!!2wffddj3m!tv!w-2s!/>c!hwsf!d)3"],p1.points=["~v!o<jfg{pjsTnu!onjbpuQ5`!mnhp!e>f!mfN{bjuTsujoyj<p!Qvwo!j<g*p{s/no!pnjbuuj5t!pnQpwenf!m.W!j0f!xfNmbbudstj)y!<>!+v!ofj{gjpTsuno!jnpbQu`5m!hq!s*pfkwfjduudjfpqotNsbfuQstjjy)<!!gvjo!j<g*p1s/n2!!n.b!u>5>!!w^j!f4x!N]b^u!s3j!y]<y!jvsoujbgNpospnj!ugdmfpkbpus!qt)d!b>m!ff<w!jvuodjfgqptssnf!Qwtfjd!3m!pvpVcw!P~g!g<tofpuj<u!vvmopjtgfpss!n+!!cfp{pjmt!!v>t!ffV{wjBTsusobjzp<Q!`bmuhu!s|j!cfvtumff!!w~f!d<4o!pqjputvjmupjtpfos<!!+v!ozjbgspssBnf!{cjptp!m>!!vft{fjDTpumopjsp<Q!`bmuhu!s|j!c*vzubfs!swBffd{5j!Tdfptmvp)s!<g!jw!b<sozpjjouhj!twpfQdw5n!!w+D!pymjpssu<b!Nboupujsujdcfvkupfs!qw!f>d!3o!pbjVuwjPtgpgQt`fmuh<!!<wobpsjzujjothp!Qwwfnd!3+!!wyPjgsgutbfNux<f!jvWomjfgeppsnn!!>c!poppmj!uqjjtdplQjwonh!<<!*b1u/u2s!j-cevfunfs!pwgftdo5b!squj)d5ldDfpwm!p>s!<o!pvjoujjgtppsQnw!ng!m5pdbfuw!!t<j*{ofp<j!uvjotjpgqp)s4nd!fgwm!p>b!ue!fsnfstppgmtvoubjspuo!<4!dvfowj!g~p!s<n*!ucfptpgmg!PvwtVfbT)j3{dffBws!s>b,z!<u!fbtugugsPjwc!v|u!f*!zgbmspsbBuw!Vtfjt{vf)B!sgsjb!z<<*!uwfbtsgzgjPowhV!vg)m3pdbfuw!!w>Q!pujfotugTgjP{wf!<~!!c<psppmm!pjdt!Q>f!sstpqmfpdDuwj!w|f!N*bsupsmjpyD)fntbvu)5!!gnj*!!f|t!msff!u~v!s<os!pnm]p!D3l!d^j]q!!4>!!^s!p>m>p!D.w!!2|/!1*<h!o~j!lwdpjjqe)!!ngbjj!o|)!*","~$!e~f!g<jsopfm!pVDTfFt`vNgBgQj\ve!!v>o!jsgppmspnD!hwbfsdG5`!mehj!g|g!vfttfm<f!!v~o!j<gsppsmnp!Dgwm!p>b!us!ppmqpbDdhjbuszG<`!mvho!j<gepssbnd!tgjmep!b*u1!/b1m!q>i>b!Ubf/tsup<m!pvDofjtgvpgsgnj!ec)p!pgmj!!v|t!f*Dhpomjplsd<j!qw)b!sgzjj!o<he!swbfddt5j!ew!D*pumtpfsU<b!ivqomjbg!p=s!nb!/cspppmmp!Dqfjtdvlgjgojhe<)!!vgojj!g\vpgsjne!ocfp$p\vm!!~e!j<t*dwbvs!e-Tqfbmnf)dEu3bfcsmvfu<y!f\vu$!j>o+d!msvpemfp!D=fctmvpgpgnjTef!m<fudfutjgwgfP/wg!t>/,i!fwbve!?<\vf!mvbodjTgwpvs!n+!!wefsdp3p!DvuwoTjdpbQm`fm<h!!w>b!swzvj!o3hd!fwwf!d|3!!*wfPmgcgbtufduf<m!f\vT$ejsgb!detfjgejao!f}e})!VhToFj`lNdBjQq*a\v)!!vgojj!g\vp*sQnB!Nt`bFnTqVm)fesf3oEj!gnfbeq!<g!j\v$$\vf!o~e!j<g*\vz!uwjbdsbzqjpo!h+!!gbm/pfbtuv!gwgQjpej!o-u{Tzjy{/ff<t!vwgpgjjee!)n5bdjfow)!*>!!|s!p\vm$pjDofdtmvvgegfj!e=!c|m!pfptnmTff!m~f!d<u*jzwufj/dgbtq/pc!p+e!zb?/\vs!pjmgp!D)ww!Q-p{jzoyu/Tsjp{mfp!D>w>)!51d/f*w!!|>!!esjptmdpbDsfet<v!g~g!jwef!d|5!!*esjpgmgpvDtfftDvp!m%p%s!<h!ojjgl!d)jaq"],p1.bokeh=["?$TjWoodfmfvsedfT!u=jcm","~w!b\vsgzjjeoohf!$w\vf!d<31!/w2V!w><!!bv/osjpgmppsDnh!btsbGn`qmmhf!s\v3BEI!QuMDBp`mFpEsJ<S!SvFoWjPg!pgsfne!gtjb$n\vq!m<f1s/32E5!!u0E!fmqpudi!<>!!vsopjmgppDshnb!sgGm`pmbhu!!<n*b5yscvmmvcsg<p!ev!o+j!g*pusdnf!sgsmppdbuud!fbqttqbf!d+u!<*!5v/o1j!g-p1s/n1!)g3mdpfbwu)!!b,q!fzsyu/vwsVfw<!!-vsopjmgppDsun)!Ec3pfpsmv!uvytffuH!3>e,<!!mvpodj!g<p*s5ns!vgmmcpgbpue!!u+i!s*futdifpsmsep<d!uvdofjqgtpbs!n+!!g*m:p3b/u1!.o!f-b:s3</!1v.o)j3gdpfswn)!!g,m!pzbyu/!wgVbws!<-!svpomjpgDpus)nE!3gfmspvbuuy!fgup!d>v,t!<m!pvdo!j<g*p5ssnv!mgcmgppbeu!!+s!b*ouhdff<s!svpodjugdpfsqnt!bg!m+p!b*u1!/e1f!o-t5j/u1z.<)!3\vd$fjwo)d!m,v!ezfy!/=wqVbwd!l-jsophm?p\vD!uw)pEj3ef!snvbujyof)u*!!>|,!!wmfpdd3!!<e*p5gscvmmvcsg<p!ew!f+d!3*!ubdtfqsfsdpuddupdsfsqftdbu!!+>!!*w:f3d/31)!2-/:13-/!1b.t)q3fddfuw*)<!!,\v!$zjyg/!weVfwg!j-osfpem)pVDTuF)`EE3FfQsUvIu*y\vf!u\v!$>j,g!!mepfdg!j<o*f5es)vVmTcFg`pPeS!U+I!P*`uDdBfNsFsSpBd*u\vd!f\vq$tjbg!!+e!f*g5j/o1f.e!)-V1T/F1`)G3MdPfBwU)`!U,F!YzUyV/SwFV*w\v!!-gsmppmbpuD!uw)jEf3xf[s!v>u!ypfsuu!i>p,h!smbpqdi!j<d*E5fsqvumicUgppWej!f+x![*)uudffysusvpsdfu3dEf)qutEbf!q+u!i*-:!3w/V1w.*!/-s:-3!/o1f)b3sd-f!wg)b!s,*!<z!y\v/$wfVmwt!f-\vs!pgmmppDbuu)!Ew3jffsxv[u!y>f!up!s>u,i!pmhpsdb!q<i*j5dsEvfmqcugipUep!W+j!f*xu[d)fvsosqpbdduldSfHqCtBbU!p+E!f*q1u/i1)!u-f5y/u1v)s3fd3fEw))u!E,f!qzuyi/-w!VwwV!w-*s*p-m!poDfub)sE-3!fgsbvsu*y<f!u\v!$>f,o!emjpgd\v!!<\v*$5fsmvtmfc\vg!p\ve$!j+g!!*eufdgfjsosfped)uVdTfFq`tGbM!P+B!U*`:U3F/Y1U!V-S:F3*/\v1!)g3mdpfbwu)!!w,j!fzxy[/!w>V!wq!f-sstpqmfpdDuuj)wEf3EffsqvuuiyUfpuW!j>f,x![m)pudf!y<u*v8ssfv3mEc)gupEef!q+u!i*-u!dwfVsws*p/dsu-d!foqftbbs!-+!!g*b5s/*1<!!-\v1$/f1m)t3fd\vf!wg)m!p,b!uz!yw/jwfVxw[!!->s!pqmfpsDtuq)fEd3ufjswvfuEyffquu!i>U,p!Wmjpfdx![<)*v8osqvbmdclgSpHeC!B+U!p*Eufdqfusis)pudfuydufvqstfb3!E+)!u*E:f3q/u1i.-!!-w:V3w/*1*.-)!3odffbws)-!!,g!bzsy*/<w!V\vw$!f-osepjmgp\vD!u\v)$Ef3ofesjvgu\vy!fgum!p>b,u!!mgpbdd!u<p*s8!s>v!m)cggppdev!t+!!,*!uwdjffsxs[p*d<u!djfgq!t)bg!b+d!u*p1s/!1=!!-15//11*.!)g3bddfuwp)s!!,>!!znyj/ow)Vgwb!d-usppsm!p,D!us)bEo3hffs-v!u1y/f1u*!<>!,f!mmtpfd!!g<b*d8uspvsm!c>g!pneb!y+)!g*buddufpsss!p.d!usdbfoqhtfb-!!+1!/*1:*3</!1g!b-d:u3p/s1!.>)!32d/f1w!).!!,f!yzqy)/.weVfwo!t-jsupzm!p+D!ue)fEo3tfjsuvzu!y+f!ug!b>d,u!pmsp!d+!!<g*b8dsuvpmsc*g<p!ee!p+g!c*muvdsf!s>s!pwdfudd3f!q)tdbm!b+n!q*)5g/b1d.u!p-s1-/!1.)n3bdyfcwm)v!s,-!!znyb/ywcVmwv!s-*s*p<m!p\vD$uf)mEt3ff\vs!vwufydf5u!!u>f,y!fmmp!d>!!<u*f8ysuvvmscfg3pEe)!u+E!f*quudif-s!swpfddu3d)fwqVtwb/!y+-!!*2:/31/!1..!!w-V:w3//z1*)*3<d!fgwm)p!b,u!!zbym/qwiVbw<!!-jsgp!m)pvDtuf)HE33ef*s!v|u!ybfmuq!i>b,!!>m!ptdn!p<p*u8istvumfcqg)puei!s+f!t*iupdmfes-s!pudiusdfftqitpbm!e+!!,*!11//11!2--1!5u/f1y)f3md/fbw*)<!!,~!!zfym/twfV!w|!!-bsmpqmipbD!u>)!Eu3ffysfvmu/ybf<u!!~>!,e!pmgpcdm!v<s*!8>s!vwmfcdg3p!e)!d+m!b*nuqd)fbsmsqpidbu!d+f!qbtqbf!s+u!v*s:f3-/!1.!n-b:y3c/m1v)s3-d!fnwb)y!c,m!vzsy*/*w<V!w\v!$-fsopemjpgD\vu!)wEf3df3s!veupygfcum!v>s,:!!m>p!de!p<g*c:msvvsm!c+g!p1e/!:+<!!*wufddf3s!seppdgucdmfvqst8b!!>+!!e*p8g4c/m1v.s!!-+6!21//18)<3!dwffwd)3!!,e!pzgyc/mwvVsw5!!->s!pemppgDcum)vEs3!f+s!v1u/y5f<u!!w>f,d!5m!pddp!m<!*>:!swvfmdc5g)p1e/!1+*!<*!uddpfms!s,p>d!uudffyqutvbs!f+3!E*)6u2D/p1m.p!s--8!4w/V1w./)y3zd*f<w!)d!p,m!!z,y>/!wuVfwy!u-vsspfm3pED)uu)DEp3mfpssv-u!ywfVuw!/>y,z!!m,p!d)!w<f*d:3s)v1m/c1g-p!e1!/+5!**!u+d!fbstsqpfdduuddfpqstsbf!d+u!**!6+2!/e1p!g-c8m4v/s1*)<3!ddfpwm)!!,,>!!zuyf/ywuVvws!f-3sEp)mupDDpum)pEs3-f!swvVuwy/fyuz!!>,,!!)mwpfdd!3<)*1:/s2v6m-c!g1p/e4!8+*!!*+u!dbftsqsfpdduuddpfsqstfbd!u+*!!*+8!4e/p1g!c-m6v2s/*1<.!)d3pdmf!w,)>!!,u!fzyyu/vwsVfw3!E-)supDmppmDpus)-E!3wfVswv/uyyzf!u,!!>),w!fmdp3d)!1</*3::s-v!m1c/g3p:e*!!++!!*butdqffsdsupddpusdsffqdtub*!!++!!*e8p4g/c1m.v!s-*6<2!/d1p.m)!3,d>f!wu)f!y,u!vzsyf/3wEV)wu!D-psmppmsp-D!uw)VEw3/fyszv!u,y!f)uw!f>d,3!)m.p1d/!4<8*-:!s1v/m2c6g*p!e+!!+b!t*qufddfusdsppsdsufddfuq*t!b+!!+e!p*g6c2m/v1s.*!<-!8d4p/m1!),3>d!fuwf)y!u,v!szfy3/Ew)VuwD!p-msppsm-p!DwuV)wE/3yfzs!v,u!y)fwuf!d>3,)!1m/p5d1!-<!*1:/s1v*m!c+g!pbet!q+f!d*uuddpfssssfpdduu*d!f+q!tebp!g+c!m*v6s2*/<1!!d-p8m4!/,1>.!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!1>/,4!8m-p!d.!1</*2:6s*v!m+c!gbpteq!f+d!u*dupdsfssfsdpud*u!d+f!qetpbg!c+m!v*s8*4</!1d!p-m6!2,/>1!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!1>/,3!:m-p!d.!1</*3s:v*m!c+g!pbet!q+f!d*uuddpfssssfpdduu*d!f+q!tebp!g+c!m*v8s4*/<1!.d!p-m6!2,/>1!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!.>1,/!2m6p-d!!.<1*/s4v8m*c!g+p!eb!t+q!f*duuddfpsssspfdduud*f!q+t!be!p+g!c*m:v3s/*1<.!!d-p:m3!/,1>.!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!1>/,1!-m!p.d1!/<5**s!v+m!cbgtpqef!d+u!d*pusdsffsdsup*d!u+d!feqptgbc!m+v!s**6<2!/d1p.m!!-,8>4!/u1f.y)u3vdsffw3)E!),u!Dzpym/pwsV-w!!w-Vswp/mypzD!u,)!E)3wffsdv3u)y.f1u/!2>6,-!!m1p/d4!8<**!s+v!mbctgqpfed!u+d!p*susdffdsus*p!d+u!defpqgtcbm!v+s!**<1!/d1p!m-!5,/>1!.u)f3ydufvws)f!3,E!)zuyD/pwmVpws!--!swpVmwp/Dyuz)!E,3!f)swvfudy3f)u.!1>/,3!:m-p!d1!/<3*:s*v!m+c!gbpteq!f+d!u*dupdsfssfsdpud*u!d+f!qetpbg!c+m!v*s6*2</!1d!p-m8!4,/>1!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s-"],p1.ssao=["?$TjWoodfmfvsedfT!u=jcm","g0j0e!oifj$o\vu!t~;!!~h!m<t*ms4p\vm!p\vD$hjbosdGm`vmehf)!C=HdSptnpnUpsob?f\vo!j\vM$!j>o!dsmpvmepfD!h=bqsbGd`lmjho!h|?!\v*!ovpojjugdpfssns!piDjbhninqb!ht)b!ngqjm!f~s!3~E!!<t*dbf/omffEyffqUufio<f!dvto!j-g*ppsBnm!bwofjdg3!!.s!f1t/p2m!v-uejfpjom<q!qvBopjbg!p-s*n1!/g2m)p4bduf!wo)fybjsn<!!)v5odjfgwp!s>n!!sgpmmppbDuh!bgsbGs`<m!hv!o|j!gfptsmnf!!n~b!u<5*!1q/s2p)k5fddfuwj!p>o!NsbpumspjDyhJboswG<`!mvho!j|g!p*syn/!onpbjuu5v!mwpjtffxsN!b0u!s1j/y2J!o=w!<*!6v/o1j!g.p!syn/!wcVpwp)mt!cpbs)u!igpj<!!fwtbmsfz!j~o!h<!*wbf/dm3f!ywfVUwf<o!fidjth!i-qc!hgsm/pmbfuy!fmUjfooffbdstj!{)f5`deffwq!u>i!)sipjmhpiDqh!bgsmGp`bmuh!!e|-!!*i6j/h1i!q=!!gym/pwbVuw!){!Ogfjb!s|-!i*j1h/i5q!!>g>m!pfbeup!N{sGfbeso*f!s|)!!sgfju!vfstom!f)!{~G!b~s!!<+*!b{/Omffbysf*U!f0o!f)d{tG!b-s*!p.B!meb!o+j!g)!{.G!b1s/!2.!!-{eOffjbmsq*q*B<p!b~!!-icjhhsi/qm!fgymfpUbfuo!fmdjto)fybjsnj!{)f5`deffwq!u>i!`sppsmupiDph)bisjGh`imqh!!g|m!pfbtum!fe!-~!!i<j*h1i/q2!)g5mdpfbwu!!>o!fsbpsm[p-D!hibjshGi`qm!hg!m|p!b*uy!/gobpsj[u*v!m|p!tsffsu!v0s!o1!/o2f!b=s![*!6,/!1)!g.b!sy[/!w.V!wo)ftbcsb[)*!!g+j!!ef<t!m~f!!i~j!h<i*qb!/gmmfpybfuU!fmojfodftb!s-jc{hfs`/emffqyufiU`fmopfhd)ti!j)h5idqf!wg!m>p!bsup!mep-D!hibjshGi`qm!hg!m|p!b*u6!/o1f!b=s![y-/iwjVhwi)q!!ggjm!p|b!u*!1g/b4s![>*>!!|f!egpmNpsbfue!oeffsq)u!ig!j>!!fqtpmxf)!3~/!1<-*!be/!m+f!ymfpUhf3o)fgdbts![-!c,h!s2//m1f*y*f!U.f!o2f/d1t<!!)g5mdpfbwu!!>b!!s>p!mgpbDsh[b!s0G!`)mghb!s|[!!*.1!/o3f!b>s>[!*f<e!pgNmspfbeuo!fcs!)>!!ggjb!sf[t!m+f!!o~f!b<s*[b!/0m!f)yoffUbfso[f!d.t!!g-b*sp[B*m<b!ogjmgp!b.u!!1m/j2o!E-feqfujim!q>q!Bbp!b,!!-c*!10/!2e)f4qdufiw<)!ysjfnu!v)s5od!fpws!u>i!ps!p@m!pmDjhobfsbGs`jm{hf!`|e!f*q1u/i2`!p>s>u!ifpe)p!NmsjfoeEoffqsu)i!-g!jo!ffbtsm[f-!!~g!b<s*[b!/*m!f;ymfjUoffobfsdjt{!f-`*epfBqmubio)jmgj!o.E!f1q/u2i!--!eoffjbmsq[q-B!pgbb!s-[c*h<s!/~m!fwyffdU4f!ohffdutX)pysjmne!Q)p5tdMfpwh!)>w!fsdp4m!pqDphtbTs*G!`|m!hw!f|d!3*!1v/w1!!>>!>q!pfteTp/Nyszf<e!ogfmsp)b!ug!j{!!<>*!*qzpmtqTj/u{m<v!Ngsmppmbpud!)oufbbpsm[g!!>-ocfhbss/<m!fgymfpUbfuo!fgdbts![-!*>1!/g2b)s4<d!fgwm)pybjun!!e+f!qsupim!p>d!!q>p!xe)f3j/m1q-q!B{p!b+!!4mdpfhw3!)<g*bssp[u!d,b!G2h/p1g*!*-!1./!22!/-1p<B!mgbmopjbgu)!ybj!n>!!>g!bpsB[m!b0o!j)gg!b~s![<!*.s!poufdbbsG[u*o<f!ngumtpvbkue!bc!!->1!/g2b!s-[p!B+m!boofjbgs)[y!j0n!!)>o!fpbBsm[b!o.j!gg!b<s*[o*P<s!pgumdpbbGuu!omfjnouEtfvqkueib!!>-!gbg!P,s!pcu!d0b!Geufoqfuniu<t!vwkfedb5)!ydbmnj!q>W!fsdp!u>d!bwGfudo5f)nvuwt-v!kmejbo!Eufbqpumig-!!<2*/!11*/!1+!!;3!/11/!2.!!@2!/s1/<*!wwVfwd!5-!ixuqqpftE!f>o!fqdstp)kEf3dfusjvpuoyNfbuu!s>j>y!Jso/w*!w+V!wd!m-jiquWqffdE<f!vssfUuXvEszod!oxfqspbtq/tyozb{s!u0)!Ex3qfpstv/uxy<f!u~!!)w!f+d!4*!ohPfXuEXzpdsomfesQbpqtt)ogbmspub!u.!!e1f/q2u)i!->!!wofPds3p!uddpbpGsueo*f!n|u!t\vv$kjegbe!fugb!pMmPgH!E<FgQgUPIX\vE!zsdfoufvssboq!thofbusXup!s>m!egQgpPtsMppuhd)bwGfudo4f)nduptpvskee-b!!eufbqpumig*!*<<b!/\v*$wfVowe!j-gf\vv!sgUmXpEbzud!o{f!s>b!qetfoqbusiu!)+E!33f/s1v!u.y!f2u/!1><!!owPfXdE5z!ddomfjsqbTqqtbodbfsQup!tujbupjmpgo!!<>b!/w*fwdV5w)!d-pfptsmeb!G+X!E3z/d1o!f.s!b2q/t1o-b!s{u-)!E23/f1s*v<u!ywffud!5>!!wgjgfPxXTEqzbddoffQspbtqjtuojbpsou!!>u!bqpsmpgk!f|d!u*jfpsobNxbBuzsdjoyfJsobwq!t+o!bdsmuj)q!Tgqjb!d~f!Q~p!t<j*u!jipuoq<f!Ewhfpdg5!!-xspbsGmhepTgq!b-dsfbQfpOthjpugj!p)oq!f>u!twijufpxpTnqtb!d>f!QspptujdubjGphop<g!!x|p!sfmtemTfq!b~d!f<Q*p!tijuuqjfpEoh/pygz!{+!!0i>u!qxfpEshmpegT!q+b!dzfuQjpttojfuEjhppog/!x+<!!zsufjutvosfoE!hxppgs!m.e!T)qqbydff!Q.p!t1j/u2j!p>o!/sypzu{d<b!G~h!pwgf!d|4!!*dqpynFqhvpugf)O!pgsjn!b|m!)*whfpdg4)!!xgpjs!m<e*Q!p*tw-V!ww!f-di3u!qwfVew)*t!p|Q!ejmwsfpdX3u!fqh!!>-!tjpwQfbds3f)nwbVdw!!)+f!dsofbtuptmjveu!j>p!oi*u<q!fgEmhppbgu!!udb1p!m>g!!u<fsypfumdGbfGuhdpig)!tudbfpomfgE!f<q*uziu-j!tqo-f!u1o*j/!y-<s!/gmmfpybfuu!)mx3p!q>!!>u!fpyBfmmbGofjugd!iu)btpdmfgo!f\vEgfjqeuoif-$!\vq!!~.!!<j1w/f2d!3>)!3s-/!m1f*y-f!u1!*|/!y*<1!/g1m!p>b>u!!sm/2m!f>y!fuuf)y!fgmjG!f<u*d1i/)2t!d-f1o/f1E!f-qsu/im-f!yqf!u.)!qjnwbfmdd3!)>2!-s!/1m*f-y!f1u*!/\vyI<U!QgFmEpHbPuM!!sg2f!e>g!ju$f\vy!f\vmgGjfeuodfi$)\vt!d<f*owfVEwf!q-ufit-v!gqg!j,E!uj)wEf3df3s)v2u-y!f1u*!->!!1m*f/yyf<u!!g5mdpfbwu!!\vsf3t!m>f!$u\vf!y~f!m~G!f<uudiih)jtfdXfmobfuEpfuq!u>i0-!!mqf!y,f!uj!w|f!df3t)m3f-!!~1!*<-*!w1V*w/!y-<f!tgvmgpgbjuE!uc)3E!3>f!suvfuyyffmuG!f>u!dmif)ytfduf!o|f!E*f1q/u1i!->!>q!!u.i!hjjwffXdm3b)u1p-u!)3!*g-j!!1~*!/~y!<<!ugimhpjbfux!!c+2!!p>g!ouJffymfqmnGbftu!d>i,)!tmdffyoffuE!f<quuiih-j!fqx!!.>!,j!wufidh3j)f1X-m!b2u*p-u!!1<*l/dyf<i!Dgfmhpobbus!!u>2!!u>i!hujffyxf!muGbfpumdgi!)<t*d1f/o1f!E-f*qfumiq-n!bqT!m,b!njswpfod!3-)m1b-n!s2p*o-)!u1p*e/)yy<b!ng!m+p!b*u*!fut3V!p>U!gugfpymfmmbGGffuddoib)uttdjfeo!f0E!f1q/u2i)-!!+q!!u,t!jjEwffodb3m)Q1u-o!f3h*o-b!u1!*+/!y1</!2g.m)pqbyuf!!e>m!!l>d!fbicDtf)h)o3b/s1!!u+b!pmm2g!!.<!*m*3m*b!n.s!pdo1!*-<t!pgQmepmbsup!xe!s.!!>f!mbqcntb)T)t3p/Q1e!m+s!psx2)!u.p!es)3t*c!b.!!>d!1u*t<j!EgfmopbbmuQ!ueocf!h>o!bbuc!tu)b)p3m/g1!!<+*!wcV2q!!.-!icu3q*f!E.f!mdq1n*b<t!)gtmppQbeum!sepuX!u>f!hb!c>t!)f)m3q/n1b!T+t!puQ2e!m.s!pux3!*4!d.f!wd!1<*1</!2w!f.d!41!/d3f!!+>!!bhcfhu/XppgsomJefQmpqtn)bdt1!->!!wfVmwq*n/byTzm{b<n!swpfod!44!defqwe!y<!*>1!!)-eqm!!-=f!tevsg*g!j@E!ud)fi!d.u!fhGfmufXypfsum!e>Q!pptg)omJ2f-m!q)nwbVtw!!5.d!fwwf!d<3y)/2*/11!!-0q!-sifutqpfmEveufjmpqon/byt-o!x1p/e1)*i*d*u/fyGzm{f!y;f!u.!d>f!!i,u!qhffEufXmpqsnmbetQ!putb)psm2g-!!<)*w6V/w1!!,+!!wofpdj3u)v2m/p1t!f0s!)s!f0t!p*mqv)u3jdpfow/!y>-!!w1V/q1!*3*d*f/wy!z<{*<!!uwfftdg4g!pe!q,e!z*!6>/!1)!e+c!!o=p!jeuuv*m!p@t!fdsf!!+.!!whVfwu)X!p)s3mdefQwpjt!)>c!2q-!!3)dwfVwwj!!.<!*wzf!d-3y))13/d1f-w!!2>/!1u!f0t!gsgfpt!p3mdvfuwj!p|o!/*z,*,*z*!/<y1z/{2!!;>!=.!dzf!!<,1!/h2f.u!X>p!szm!euQbpptm)gu)2s-p!g)!w|V!w*!,,,!yw!f<d13/)21!/>1=-!!y2!/<11!/02!.s!f>t!pym!vuubjppmog/)zs*p*g*!/<ygzg{p<m!msbfGufvdsoob!uotpjsen!b;m!jg{gfp)mdmsbpGtftd)oebquetyj-e!!e+q!efzt*V*p<U!t~v!j\ve$bjsg!e@f!gt!vFjGeGbFSDfUd`bTqITBoEfFfSs\vd!tv>o!jfgtpVspnU!gtgbpnmqmmbfGsf3dEo!btudtfjoef!Eujbgpgmvgt!f<<t!vvjoejbgsp!s;n!!*i!j*hoipqj!utvbmnpqtmffss!30E!!*t1d/f1o!f-Otpvsjnebbms<)!3vdofjwg!p,s!nw!Vnwb!u-5i!uqqsfpek)NtbpuQ<e!mvsopjXgupfshn!!-ntbpuQ5e!mwsjpfxx!N)bfud<o!bvuotjjgep!s@n!!tnvbjue5b!SqfsdpbkqWTjoffxfNsbdut<!!>v!ofjtgVppsUnt!vwjfedb4s!!dubbnpfmsgb!Q<p1t/<1!!v>o!jugiphsjnf!Xgmmbpubpuu!!uujbnpfm<g!!v<o*jwgVpws!n-!*wwfVdw4!]-TiBuNqQfMeF)Tt^p!QtebmnsqpmXfutf<h!)vmobjngsppsOnf!ugvmqpnbpud!!s>b!emjbvnts<p!ov!o4jdgfpws!n<!*gwmVpwb!u-!ieujqtfueb)otdpfQGebmmsmppXgugf<h!!v>o!jtgppQsenm!sgpmxp!b4ud!fgws!b|n!ff<t!mvfo!j~g!p<s*n1!/c2p!p-m1!/t1d!s-f1f/o1T!q-b1d/f1S)b5edjfvwt!<>!!vmofjygfpus!n|!!t*b1n/q2m!f>s>3!Ei!ucqmfvef)O!pgjjt!f<<m!fnybfuu4!!5ndbflwf!S\vpTuFbSuGjMpBoI[!)ggfmepgbju$!\vu!i<fyu/b**!!w|V!wg!m-pibuuq!fdE!f>o!fddptt!))uEi3ffusbv*u<y!fgum!p>b!ui!utq!f>e!!tujbop)mugi!f<u*bw*V<w!!s-ffutvvsgog!jnEbfuo4f)ddt-)!E.3!fts-v!u1y-f!ut!->!!dm-f!y1f-U!f1o-f!d1t-!!52d*f<w!!~|!!w*p)joej!bnnb!jeoj)p*w!!|~!!w<f*d!5b!/efjvgmgbvwt!f-!*>!!*u!f*y!u*v!s9f134E2)4t1d1f/o1f!E)j4gdgfvwt!f--c!hwsV/wf*v<m!bgwm!p)bmub!verfFqoubii!U>t!tuffmy!u)v4sdff3wE!)-t3d:f/o3f2E!f+q!ucih-s!/wfVvwm*b/wy!<-!*j!g6!6)1e/f1q!u)i4!d>f>w!!2./!16*6!1|/!2h!m+`!G*s!b*h!D7p7m7p2s5!/>1!!w)f4dd5f)ww!f-dc4h)s2//f1v*m-b!w2!/)1x*p<q!!s)fyujvns!o)<5!d~f!ww!fods4v!uxfpss!m|e!Q*p!tf!v>m!bhwf!u5Xdpfswm!eoQjp!t))CeHfSqtupiU-s!bwfVowj*M<!!5\vd$fjwg!e<ftgp!QIbBsMfGnSbFdT!\v4!dwffwd!4n!soppgsjnobvm!!<>g!gupfmymubvGsffd3oEb)uttdjfeo!fuObppsmngb!mn-s!pwgVjwo*v/!s<htcv<j!e\vb$sf!mutbfp\vm!gw!fnds4p!gojposvn!b<ms!b>G!hdppgn!quvbupfmOgp!snnsbpmg)jxopvs!m<esQbpftO-h!pwgV!wu*b<p!m\vg$!fnosepjggj\vo!vw!f<dz5u!jotpojftEfh!p>g!!uufbypumvgs!fn3sEp)gcjmovvf!O<pfjstbfx-B!zhdmo`fGssbbqhtDopbpssue!/mypzp!c0!!n2s3p9g/j1o*v<!!<wzfmdq3j!uimbvsNnsppomjppdv!tmOpvpncc!fnsstp!g>j!owvf!d<3q)y!F2h/p7g2!9m1p4p4c:!9n9s8p5g:j9o:v6!-<!h2p/g4!3m5p8p2c8!:n6s8p3g5j5o8v5!7<!t*v<j!eobpSjftdfb/qsTho!f,f>s!ditb!smnpppocj!pnvstpOgvjnocvf!s<to!p+j!ugdsfbsnsfp<D!bonpnjbthf!/msphp!c>!!ngsspbgdjuo)vo!p<jftefp/Nsshf*e<o!fwsf!du4b!pimfgm!qnfsspWgfjdo!v>!!<wzfudj4t)o1f/u1o-j!!2u/b1p-m!g1!/n1s*p<g!jjogv!!)<esppum)pidf!m4qdffswW!fnds-p!gojposvn!b<mf*t!j?p!O1f/v:m:c*!!E|3!siffmmqqnfbstW!fnds!p>g!jwofvd!4<)f2t/v1g-g!j1E/u1!-E!31s/f1m*q<n!b~t!!wnfsdp4g!juobvo!h<fiouuq!f>E!fovpssUnXbEmzjd{off)sdbsqpttotb)siuf!mEq3fssfWmfqdn-b!to!pqsinhbjmi*!*n<s!pwgfjdo4v!!c<jfuvbsoUhXfEozud!o>f!sdbsqpttotb)soup!sEn3bsmf-m!qunbboth!fqoiuh*j<i!!nnbsup4g!juocvo!!<>f!tnmbbuG4X)Euzbdoohffsobuq-t!ocbjsuub!oEh3fsofum-q!nobpts!nqbimh*j!i+!!nnsbplgfjSopvu!b<uijupqof[E)eofpmjqtnfb/tso!x+p!e3!/E13!s+f!m4q/n2b5t2!6q:i7h3j*i!!<n!sgpmgpjbouv!!p<dfdtmvvgegfjeE!f>o!f1d/t1!<E!3gsmfpmbqun!butp!unbsmpXgfjjohvi!u\v!S>F!U1J/T1P<Q!NgPmDp`bUuD!FsGbGeFj!vgtfUepgVjt$f\v!!>\v!gtjdesofff$o\vT!q~b!d<f*Smbbenjsvpto!!@+!!e6j/t1u!b,o!d6f/)1!!x-pospmjetQvpmtd-d!ph)f5udXfpws!m>e!Qspptm)peDfhqbusiG-`!mwhV!w\v!g,j!ewoffd$3\v)!s~b!e<j1v/t2-!!>1!/o1p*j!t0v!msdfdtpp!m|v!u*j1p/o1*!!>*>!!;o!psjbtevjmvdtd<p!)g!mgpjb!u<!*e1j/t2u!b-o1d/f1G!b-momppjgtgvUmpdVdtpf)!q>ntbdmsdf!f>o!ToqpbjdtfvSmbdedjpv!t\v!I@U!QsFbEeHjPvMt!UgpfVetgfj!$+\v!!e~j!t<uuboovdpfdG!b>m0m!pogpgj!t;v!msdbdepj!v|t!U*p1V/t1f!!?+!!ueojvtpudb)o!dgfjG!b~m!m<plgdgf!i+D!f1h/o3b<s!!g>m,p!buuo!vcpjdb!t<!l>d!f)inDjfoh)o!b1s/!2+-!!femjqtnubbTodddfpG!b>m,m!pogpgjUtpvVmtdfd!p+!!<1*/*2d!d*P!f0t!bocf!b.s!*f!m+q!ngbxTjdedupi))tecjbt!u.b!o1d/f2))x!p+s!m*e1Q/p1t!--!*dfbmnqfnsbbTQmpbtn*s*p!o0!!-smbbenjsvptoU)puVptef)<y!bgnm!p+b!u*!*qfitjV!p>U!g2g/p7m2m9b1G4f4d:o9b9u8t6j<e!!g0m!p1b/u2!)p!g+g!tuftujNEpfwofb!m>Q!u1o/f1h<o!bgum!p+b!u1!/p2g.g)tqfyufN;p!w1f/J1o!w@!!>1!/22/!1>!>0!!fGmTqBnNbQTMeF!T><!!lgdpfsi)Dgfmhpobbus!!ju!b>p!m1g/!1<<*!*jm!b=n!sGpToB!N-QtMpFQTe<m!sjp,x,!*.!!|f!mwqfndb4T!ttpbQneqmmsfpExj)sufpdeu)jtpcob!!>>!!uuctoj!E+f!otbbmnQqumoffth]ojbouu!)ujb*p^m<g!!g<m*pubfut!gngppw!f,B!nwuv!!>-!fgmsqbndbuT)eo)ptjptQfe/mhs!p,X!upfghg!t>f!ufNmpqwnfb*T<t!ppQgegmtsfpuxN!p4wdff!w,!><!yp/g*gutfftugNgppw!f,J!owwv<!!-wifudq4f!Etfbonfqdmtf)QEp3tf!s>v!uxypfsum!e>Q!pftm!q,n!bsTbee!juvbtpUmpgV!t<f1!/+2!!n.p!w1f/B3n!u+!!+b!cthb/nfqmmqfnEbjTsbfudbuej!p>o!<f!mwqfndb5T!mpbgngstpfou!!4>d!fqws!p<ksN/bfum!q+n!bwTfbdu5b)et!b>n!qfmmfqQnpbtT-d!d2p/!1u*b<p!mpgg!g<t*fuuf/tygzg{p!!0,>!!wpvg!g-tfftuv/gxg<j!Epug)gEt3ffus/vyuzy{f!u>!!>p!gfgmtqfnub/Tybzu{b!e+!!51d/f6w!!,<!f1{/j6t<!!+w!ffd{3j!Temjfgygf!u>!!+h!m*`^Gjs]blhtDjpEpospet/tyjzp!q.!!+g!mypjpssu)bpNgogptjfuub/uypzs!)+!!>s!futfptmgvgupj!p3od*f<w!!w|f!d*3,!,djm!j<qTSFbMoQhNfBDTi`fNdVlO!!>=!!tju!f<q1)!w>f!dj3!)u1o/j1)*s-ppgg!g<t3f/u1/!y+z!*g!g+p!mtmubfGqf)dpogbguttfjue/!y+z!-f!twVfpdU3t)v2j/e1b*s*!<;!!ggmgppbmum!btGbfndqombfuEtfjqeu!i+!!>f!tuVfpyUutvvsjfeMbpse!)@t!dtfvojfeEbfSqfudib-q!Tpogfgftsfdut/>y!zf-t!V1p/U1g*g/pym<m!b\vG$fjdgoebfugt!jMeP!HuEbFpQmUgI!\v<!tgvmjpebbuS!eemjstpuxT!b;n!q*m!f*!o>p!jmujvomfpbtsfjs{!f0`!e*f1q/u1i!`-mtpvhj)etbbSneqmmsfpExf)q3udif-w!!o,f!bwsV-w!!g-bes)*t<p!Q\ve$mfsmptXfu\vf!hg!m-ptbpuQ!eemjstpuxT!b)nfqdmofb!u>t!jpes!u@i!pt!v@j!embjSoffdbbsqjT{off`fesfdqtu!i>`!pfstuVippU)ttvbjneqbmsf!Eufbqpumig-!!<o*f*bfsm-h!ogbb)st*p!d;!!-m*jfomfhbosbj){ofj`te!f-q*ufim)htobbn)qomjftE.f!q-u*if-m!hoofbb)st-p!dg)b3su*b<n!!\v>$!fyojesjugb\vN!ogpmjpubbuu!pesj!t3uuXbpns!m~e!!<>3!JpQs!u+i!px!/@*!1m/j9o3f2b!s0j!{zfy`/eefsqpupiD`hpbssuGi`pm)hp!g-gfttfjup/O{f-v!mocf)bEs3-f!sgvbusy*f!u;!!>m!jfomfhbosbj!{|f!`fetfmqfu!i~)!p<g3gJtQf!u+/!{{-/!*o1f/b9s3-2!!g0b!sz*y</!egsmpppbDuh!bssbGo`hmfhD!i-ffdtlj!p>O!fevjmtcu)TEb3nfqsmvfu!y>f>u!!e>j!tfumXhposbm!e|!!@*!11//31!!>;>!!tynfpepouji)t!ugfjq!)f1t/m1f-!!~2!/<13-J!Qe!j+t!uzb/o*d1f/G9b3m2m!p0g!gzUyp/Vetsfp!p0D!h)bbscGt`)mehj!t-ufTtbjnpqOmffv!m.c!)eEj3tfusXvpusymfeu*!*>*!<f!mghmopbb!u|!!t*b1n/q2m!f>W>b!myjfee!o>j!))!dgmjj!qfStbmofh!f~D!i<f3dJlQ/!y+!!+y!/d*m1j/q9S3b2o!h0f!Dziyf/dels/pzp*D<h!bpsdGd`mmvhe!f-ef!t,j>p!Osfbvomhcf)DEi3ffdslv!u+y!fgum!p>b!uf)mthbonbq!m|f!E*f1q/u1i!!>a>>!!yeffeqouji)*!!g+j!!g<mfpmbhuo)be!jutbupTmbgn!q<mtfv!j,e!bcsj!b>t!!f={!jetj!tuubXppmsgm!e<**!w+V!wt!u-feq))t!p2Q/e1m-s!peXpuuf)he!j>g!gt-p!Qeejmgsgp*x!!*4!d+f!wt!b~n!q<mofsWvbumfjse!<<!buupbueb!m>X!fsjphmipuD!h,b>s!Gt`bmnhq!m|f!W*b1m/j2e!<>!>~!!eg)m!pgbju!!<pyd/d*!w>V!wd!m-binuqq)f2E/f1o!f.d!tp)dEd3mfvsevfuey!f0u!!)>u!peu!bumbXpfmjgh!i<u1!/>2>!!>1!/u1o!v@p!d2!/u1b!p;m!gu!p<u1b/m2X!f.j!h1i/u3*!-+!!1b/c1h-/!b2u/b1e*!<>!!hmmb`nGsspboh!D4pdmfpws!!<>s!/wbfudb5e)!p>d!dd-d!P1f/t6b!c,!!u1b/p6m!g+!!<osp/sbnubbme*!<>!!~o!p\vj$tfvomedjdgp\v!!u\vb$pjmgge!f<g*!wQVPwJ!T-TfJtPvOg`gCjMEVuS)\vE!3vfosjvgupysfnu!!t>b!nbqumbfes!35Ed!ftwd!f<owfVEwj!g>g!vwtvf!<3!dvfowj!g<p*szn/!otpbjnuqvmmfpst3fEs!!u0E!j1g/g2v!t-fy</!ovpojjugvpmspnt!ftsb!n0q!m1f/s23)E3!dcfmwv!f>O!pfj{tjfT<m!fvyofjug!p3sdnf!wg!m<p:b6u2!5s2b/e4j!v>t!<j!qv!oujbgppmsgn!!ugtmoppbdu!!|x!p*s)moejSbbne!jevjtp<w!!v<o^jTgFpMsQnN!BgTm`pNbVuO!]jlotejfEyo<p!tvtojjpgqp!s3nd!fgwm!pnbsup!gejjotvu!b<otdvfjGebbmSmfpdgbgq<T!ovfofjsgdpts!nm!pcp"],p1.glitch=["?$TjWoodfmfvsedfT!u=jcm","~v!o~j!g<p*swnV!wj!o-uf!hcbznqj<)!!vEo3jfgspvsuny!ftub>nsqpmmfpsD3hEb!sjGn`bmhhf!<|!!vfotjmgfp!s~n!!<txbpnoqtm!f,ss3pEm!puDEhjbtsqG<`!mvho!j>g!psspnm!pgDmhpbbsuG!`bmnhp!v<o*u3</!1v+o*j*g/p1s6n+!egfmfptb!u+!!btozh-meff<f!tv!o+j!gtpys)n3!dgfmwp)beuo!btsf)f5ed<f!wv+oujogvppsnnb!+g/m1p1b3u!!>t!fxfpeo`ty!<5!dvfowj!g<p*sbn/!bghmdp!b-uc!/tcfdf!e-`hz/<b!hvdo!j-gsp/ssnd!)g5mdpfbwu!!>e!jstpumppsDuhjbpsoG``ym<h!!v<o*jugfptsgng!pg!m.p!bqu!!-efjhtbunpjs)uEj3pfos`vzu<y!fvuo!j>g!pcsdn!!5gdmfpwb!u<!*dqp!m-`fth<b!nwjb)sEz3jfoshv!uwyffdu3!!>w!Vbwh<d!!d5pdoftwu!!<g*mupfbtug!gVpo!q,b!dql!E-pfxhobtndjb)mEf3!f>s!v3u6y6f/u!!0>!!3s6d7!/5<d!fdwp!o<t*u*!fwmfhdo4b!)Qobjdtl!G-b*dfumphsotb!)>t!pwdf)d34d)f3w6!7+/!!u+o!v3p6n7b/!!>+!!u3f6t7g/g-p!!336d7f/w!!+<!*3/6670/e-f!f3t6)7+/z*`<e!fdfpto+tmub!nwsfpdo5>!,Vzo/qqb!d<l*G/b6d0uepfsftt!)>+!yV`oeqfbfdtl+Empbxnostpdob>m,fy!/0q!!w~f!d~5!)<Q*byd`loGpbjduusppsutt-j!e2!/,*!<y!/gqm)p!b.u!!/v2o!q>b!dyl/SqH!C|B!UfptEmffq!u~i!)<dyp`ootpuj!ujsop!uwtfjde5>!yw/*q!!||!*s/f1u?vzs`oe!fefptu))gwj-!!|V!o*qebfdfltG+btd`umppsdt.*z<`!o~p!jgumsppbuut!jseb?oye/)qw!f%d%3!!td`pm*p|d!,szf`uovpsjou!sgpsubtdjue)=tyj/oq))egpju!)~d!p~/!y<zz!`-owpfjdu3s)p2u3t/j:e9!:>9!-z8/9q/!3|4!4f*t*m*f!!+~!!5<4*8z6`9o/p6j5u6s4p*u<t!j~e!!w,p!jze/!qn)b!j.o!)/*2!!|>!!jzg/!q)!c|z*q/=12?*y!`|e!fwfftd)3g!jq!!|>!!*weVfwf<t!+gtm`pmbpud!.yyt`!o>p!jgumspppust)jhem?`zG/sqb!h%D%p!pts`em/pyd!,0y!`1o/p6j*u<s!pgumtpjbeu=!zz/tq!)>g!jg!m<p*p*se)fhfmt`+GesfbfhtD+pqp!s-eq/tzj!E0u!)1!/E63*f<s!vgumypfbuu)!ioupqsfnEbpmU!B>C!HvSolqdb"],p1.bloomBlur=["?$TjWoodfmfvsedfT!u=jcm","~w!b\vsgzjjeoohf!$w\vf!d<3*!bw/Vywj<Q!fvsovjugypfsun!!-tnbvnTqumifhsj3fEx!!d0p!mnpvsTUfftyvugvgsjfe<)!5vdofjwg!p>s!ns!pwmfpdD3h!busfGy`Tmjh{!f\v<f!tvmofj$g\vp!s<n*!1w/f2d!3-!nevjTsufidhujjfpxo!<0!!gnmvpTbfut!vhgbgvjtet)j5bdofQwe!g>)!jsop!mgpmDphbbus!Gy`-m!hj!o\v!BgImQpMbBu`!FtEjJhSnSbF*W!P|!!gsffeugvjs$o\v!!1~/!4<:x9!:+5!!1+/!3f!y>q,)!.n1v/T6u!i+h!jyf!x+!!<yx!!0+!!)*t3jfhmnqbn!b+t!!t,j!h2nfbm*q*n!b0t!)t!j>h,n!bn<v!T~f!twvpgjgej!en!b<jcoh)s*/!*|u!fwtfgdg3P!wjvo!w.T!jw{Vfw!!>-!f2s/v1u!y0f!UusfpymTpjd{)fE<3!fgsmvpubyuf!ug!T>j!h3nfbm!q>n!bgtm!p4bduf)wT!J<HcNhBs*/<*!ugfmtpgbguP!wxvf!j,h!iwuVTwv!n-!f>s!vhubyvftUtsjpbmopQde)gE)31f/s1v-u!ygfTuj!h>n!b2*f<m!qwnfbdt5!!4udffywu!v<syf!Q+j!yf!{>j!Tuwfoyju!v+s!fo3pEj)uddpfmspjseU!f>y!uuvfstfg-g!PwwVvw!*3<d!fwwf!d<4*!benjhgjgTvgt!f-Tyv)ng!e>Q!oubfjytutvvsbfhQ!j>y!/xs!hucb!p+m!gx!f<j*hji)uuTbvpnm<g!!g>p!sy!!)ujbopum!gj!!|>!!*2,<,!jj!!<=T!VLJFESBOSF`M"],p1.bloomHighPass=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*gbpisqnm!bt!b-nmqfmyffsu3!E-!supEmjpgDguvvtqfu<v!pv)oyjjgnp!s>n!!sgpmmppbDuh!bmsvGn`jmohp!t<j*uwz!U-iisufetjiXpimuep<p!nvto!j,g!pesmnp!igtmfpsbiuU!ztunjptppuoijXnjvemu!i-<e!mwpbistzfjsoihU!zwufjdt3p!owjVnwv<m!)wqpfjuet!inubpjpon)t*!!>|!!bwifqdm5b!!uufbypfmmg!!><!*u1f/y1u!v-s1f/31E!)-u1E/j1g!g-v1t/f1-)!5wdVfww*!<>!!wsfpdm4p!Dmuvvnqbu!v>p!!w5fddf4w)!1</*3b:n:v-m!!1-/{6z9y8/-m!f1y/f2u2)5u*p<e!!g>m!pwb!u"],p1.bloomComposite=["?$TjWoodfmfvsedfT!u=jcm","~w!b<s*z*jwoVhw!!w-f6df3s!vwuVywf<U!svvomjcg)pEs3nf!stvbunyqfmuf!s+3!E*!1c/m2v!s-UsfpymupvDsufo2j<U!nvpopjmgcp)s5nd!ftwb!n+q!m*f3s/31E)!scpmuvdsbUGfnypupvmsCfq3s<f!mv!o,j!g*pwsVnw!!t-b5nfqsmvfusy3fEU!scvmmvcs)UEf3yfusvvsufy4f<u!!v+o!j*g1p/s2n!!-tsbpnmqpmDfuso3jEU!ncpmpvmscU)f5ydufvws!f+5!<*!5v/o1j)gsppsund!btGbnnpqpmmfCsq3sEf!mc!m,v!s*UwfVywu!v-s4ff6s<v!uvyofjUgspvsmnc!)tEb3nfqsmvfusy3fEu!!e+j!s*u1U/f2y!u-vsspfm<p!DvuoojjgUpnspnp!mgcm)p5bduf!wc!m+p!p*n7T/u1s)fsophuudib<G!nvpopjmgCpqssnf!mg!m,p!b*uw!Vcwm!p-p3nfSsbveujyvftU<s!vvmocj)gEp3sfns!vwufydf4u!!c+m!p*p1n/U2j!o-usDppmmppDsu<o!jgUmnppbpum!cm)f5sdqfCwm!p+p!n*G9b/d1u)pssp)uddpboGtnup!pjmoC!qgsmfpmb!u,!!g*bwdVuwp!s-*2!f|s!vgumypfbUus!vnmjcs)sEp3sfGsbvduuypfsu!!>+!!2*/13/!2.!!-gsbpdmuppDsu<o!jsUfnupvpsmoc!)n5jdyf)wg!b+d!u*p1s/-2!)nsjpsusdpbsGGnbpdpumpCsq-s!fcmm)p!p+n!Sibuehjovfts*u<T!n~p!pwmpcj!e>!!nsbpjmop)D*h!b|s!Gh`m"],p1.highlightHard=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jsgppmspnD!fthbenfq!m>f!ss3pEm!pjDnhbbhsfG<`!mvho!j~g!p<sens!bwdftdj3e!!u|f!y*u6v/s1f!T=j!{ffh<e!fv)o!jggjp!s<n*!fghmepfb!u-!1f/e2h!f-X:j/e1u)iq<f!uvtoijugpppsnnt!!w>f!df5h!effe!h<f*Dwp!m+p!sw<!!,v!oij!g+p!sin)!uwsfrdt5!!>n!bfthleDfp!mupbsp<m!gw!b<suzijhojhS!qwpfud,3u!iwhVjws<+!1\v/$3j,oudimhvjeSfn!p=uiujphci,mujghfiMuqEpfuu.fudguf/mg+t1//i3f.bueg?f\vM!nwppujuep!cn.b!j>o!)i*!!u|b!pwmfgd!3<!udidh!j>S!nwpVuwu<p!cg,mnppbuuu!pecy+!1>/!3f,euhgffXMjnepuuiu!p0c!,uufiyhujvSsqfpTuj.{qfp/uy+<1!/g3m.pubguf!Meqzp!u>.!!f>e!hwf!Xujbepumig!!0<!*u*fzyeu!v-syfeT)j3{dff/wz,<d!dw!f-df3h!bdnpjp)ssep<m!pgDmupibhuj!muiphqjMIfugfuh!!>>!!hufiuhIjjShnipmujuhpicu!Dupbmppmsg)!j<n*b*hzfe-!!-d1d/,1w)f3dd3f)w.,edyd-!!-.fehzb*n*j<)!sgpmmppbDuu!iuhpjqm!i>h!jhIfuufIhj!h>i!mnjphuiuupDcp!mupbsp)mjgn!b<h*f*-z!ed!d-,ywef.d)33)d1f/w1,-d!d.!e-zf*h*b<n!jg)msppbmup!DuupiqhSjjmhiihuj!I>u!fhhf!u>I!juhgifmMjnhpiuuuDppcm!pusb)pjmngb!h<f*-*!1d/d1,!w-fyde3))3edyf-w!,.dedz!*-*f<h!bgnmjp)bsup!mmpfDguui!h>j!mhifhujIIjuhfihm!j>h!iuuiDhpjmsp!su)bjpnmbgh!f<-*!*d1d/,1w!f-dy3e)."],p1.highlightEdgeDetection=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*gep)s5nd!ftwb!n+q!msfpsm3pEd!!j>n!bshpfm<p!DwhbbsszGj`omhh!!w<f*d*33!gwgVjwe<!!-v2ogjggjpes)n3!dwffwd)3i!uuhfoyfTmj!{>f!<e!!vuobjpgmpgs!n<!6w/f1d+5*!4ddp!m.p!s5<d!)v!o>j!g3pgsgnj!ew!fudb5p!mngb!t<l6D/p1m+p*s2<d!!\v.$!j3odd)m!v>e!f2!g=gijjeh!iumbjphmigu!E<f*uxfzd/uu/fgttg/giPfwbve!?.\v!!wwVpwj!e-!fnhbbjnoj))*s!p|m!pwDfudi3h!jjmoiwhTjjI{uff!h>!!>2!/51d!!0u!bupfmygT!j<{*fx<z!/wuffdt5g!gvPwwPvg!g,t!fwuV!w>!!-wffhdb5n)j2)/s1p-m!p1D/u1i-h!j1m/i1h-j!I2u/f1h*!!>+!!4wdf!du5b)pjmogw!T<j*{zfy-/!ujfotwgTgjP{wfv*!<.!!gwmVpwb!u-!fdh2b!n>j!)hsfpumIpjDhuiimhjjhmiiuhDjpImupfsh)!j>n!b3hdf!-u!bwpVmwg!!,<!*vzwyP/gugft"],p1.highlightBlur=["?$TjWoodfmfvsedfT!u=jcm","~$!e<fngvjToufi!hNjBfYx`!S0B!EnJvVTTf!t5v\vg!gwjbes!z>j!oshp!mwpfDdh3b!swGV`wm<h!!v~o!j<gbpusmnf!et!b>n,q!muffst3gEg!Pjwnvb!h<f*<x!!v+o!j1g/p3s)n!!>w,f!dn3v!TuufiyhTjjf{xf!<<!*vxo!j+g!p*s3nf!mwqfndb3t!!e,j!s2ffdmuqjnpbot<)!)v!o>j,g!pnsvnT!fgtmvpgbguj!es!b<e*juvftt<g!ggPmwpvb!u.!!hwbVvwt!t-jfbhobQnejg))Ej3of!sgvmupybfuu!!y>-!!3jfom!qgnmbptb!u5!dtfjwh!n<b**u!f|t!gsgfPuwvvs!o,!!1w/V4w:!9-:f5h!b+n!jf)yEq3)f.s1v/u6y!f+u!!y>!!+2!fym!q0n!b)tt!j5hdnfbw!!+<!*ttjvhjnebb*s*!!-0y!/tujfhtngbg<P!w~v!)wgpejQeo!bnjbtjtov)b*h!!|>!!wxf!du3b!pjmogw!T|j!{*f,!,>j!!2</T1V!J0E!BuSf`yYTBjN{!f><=!!gjm!p<b2u!!>x!fjj!huioujT)v!ns!p>g!!h<bbvutmtfjeb!o>Q!eugf)t1g/g1P-w!vs!b3edjfvwt!*<<*!TwVfJdE5B!Se`jYgBgNv)tufbTpvmng!!>0!!utfvyjuevbssf!3+E!)fj{njbThwfo-j!!w+V!wo*p!j+u!dxffsjjhei!u>T!vbnu<m!fwef!d3"],p1.highlightFinalBlend=["?$TjWoodfmfvsedfT!u=jcm","~w!b<sszpjmophD!mwbfodj3g!!w>V!ws<p!mvpoDjhgbpssGn`!mthb!n<qfmvfmsb3WEf!hjenfb!h+f!<w!wv!o+j!gipushno!ftsbunTqfmhfesf3!E>!!fsephmfpUDfmybuovjsgf!25<d!fvwo!j<g*pwsVnw!!t-bfnhqbmnfjs)3sEp!mfpeDhufiUhfjymuivhsjfI3u<f!hv!o.j!g1p/s2n!!>g!mwpwb!uu!bfpemhgf!T<uxspfmoHhfuhie<f!!v+o!j3gfpvsmnb!Wgfmhpebfu!!,f!e2hffvHmmbpWxf<h!evfo!j>g!pfsvnm!bwWffdh5e!fn!b5tdlfDwp!m<p*sw<V!w\v!$-j3ofdsmvvueyff!U=fihjehfi)mEj3hfisuvEufyuffud!u>/!g3tf/vimfbbWef?h\ve!fw!p5jdef!wn!b<j*ow)V*w!!|-!2wffsdv5u!yffeUhffhWebfm)vEf32f!s>v!uuyf"],p1.fixColor=["~b!u<u*s1j/c2v!u-fe!fwnfsdp4g!tboQbpstuj)u5jdpfow<!!+\v!$yjjgseufbgN!xVfTjFW`mJfOeTpUNBvO!D+J!OyHj\vs!u\vb$Neufdgfjkopfs!QVvT!F>`!JoOpTjUuBjOtDpJQO`Hm`hG!M\vBgUj`eToIfB$E\vF!E<\v*!o\vp$jfuojetjpgQ\vb!)\v4$djfowd!m>v!eofp!j=ujjottpuQbmobddjpoMhw/!w\vtg/jiefobfe$?\v\v!!<v*oyj/gwpVsbn!!-n*b*u15/!2v!N-pweVfbm)W4jdffxwN!b+u!syjjys<u!bvNowjVgvp)s3nd!fnwb)u45d!fvwN!p>e!fwmVNwb!u\vsQjJyM<D!`vWoVj!ggpfseng!jn$b\vu!5\v!*vOQPsJpUkDfFdSuJNEb`uQsJjMyD<)!e\vf$ojjgg!fNeB!Yg`jC$P\vY!`\vDgMjJeQoQfF$S\v!!?<!*1*\v1!/w2b!s-zejfonhs!pwgftdo4b!swuX)p5sdmfewQ!p+t!jyujjspuob<N!m\vf$efpoNevj)g4\vd!f\vw$!j>g!!oepfjgujjotfpeQ)eDmMsJpQX`wE!J\vS1F!D?U!JSPFOQ*Q\vJ!MwDb`sYzPjCo`hY!BwNf!dg4j!$w\vM!p\vdgbjmeQopft$j\vu!j\vp?oz<e!p\vc$/jtgwe/fhgo!jVdWo`bDuMtJoQj\v=!!bfueuvsmjdcovju$f\v!!w\vfHdO3J!DbOVBwU<T!OvJo`jFgTpVs!ng!fnebguj4$!\vv!V<w*Nobpujsujjyt<p!Qwbb)s4zdjfowh!!>w!fedf4n!swpVgwt<o!b\vs$uf!o4edjfgw\v!!|\v!$*f)ooejjbgn\v!!ewjp","~v!o<jsgppmspnd!!w>f!ds5p!mdppDmhpbss<G!`\vm$hj!g\v!?NzBeYp`cC/PtYg`/DyMpJcQqQjFmSd!=?!!f1e\vv!mwdbosjz$j\vo!h\v!?wzfedp4c!/wtXgp/sompejQupdtfjsujjEpqoj<m!d\v=$!ffoeevjmgd\vo!j\v$$\vj!g|!!e*f)gojjobfne!)eDjMpJwQ!`\vE?JeSbFfDiU/JtPgO/*y\vp!cwqbjsmzdj=o!hf!ewvfmdd4o!jw$M\vp!d\vb?meQbpftij/utjgp/oo<p!j\vu$djfgsejfEgq!jVmWd`=D!MfJeQv\vm!dwobjs$z\vj!o\vhg!jwefodf4$!\vw!V\vwg<j!e\vo$f"],p1.depthGrabber=["~0!0<!o$pQjSuFjGtJpYQ\vw!nv!o+j!gypjssnu!bnNboup5j!undpfekfpmsWqj!f>x!Nobpujsujjyt<p!Qv`omjhg!p\vsgnj!enobfu$5\v!!q<s*pekffndsupjgptooNbbsuus!j+y!<y!jbsuuubsNjmcfveupfn!)w4fddf4w!!q>p!tojpujjupjot<p!Q\ve$mjsgpeXfwg!!\vH1S!B?C!`SOFPQSQNJBMMD\v`!Y\vP$Ce`fYgBjNo!fg!jV$T\vF!`<JeOfTnUsBpOgDtJoObHs\vu!!b+u!uysjjscuvbuNfx!fwjfWdm4f!ebpOnp!s>n!bomp<j!uwjbtspzQjwonh!!5wdffdw4!!\vw?Ozpespncb/mt<w!/vhoojjgdposbnu!tnobju=5!!fveOvpmsdnobjm$N\vb!u~s!j<y*<1!/\v2$!f-m{tzfy\v/!*\ve$feofogjjlotf!!+V!TfFt`sJfOwToUJByOjDsJuObHN`eGoMjBcU)`)T5IdBfEwF!E>\v!!e\vf$nfsopegjtgo\vb!s\vu$!e<fxg/juoifh!jVfTXFo`jJlOtT!U+B!OyDfJuOsHf`WMoFjHlBtD!Z+\v!!X\vu$bjNofdompvce!f>!,=!jeoftouobjoldtj!o<h{//wuti/hijffbXeo?j\vl!t\v!$+j!gy!fNuBsYf`WCoPjYl`tD!M+J!Q[QuFbSN!f?o!p1c\v!!>v,o!jegfposonj!lntb!u<5z!/nupiehfjmfNXboujsljty!<+!!wybfsuzsjfoWho!jwlftd!4+!!wZXupbsNmfeoQppct!j>u,j!peof<o!o\vj$lfto!e<jyg/\vu!i\vh$jeffXgojjolft!!V+T!Fy`fTuLsJfOWOoJjOlHt\v!!+\v!$YeufbgNjfoofp!cC!P>O,F!`eUfFoYoUjVlStF!\v<!*v1o/j1g)p5sdnf!wc!p>p!me!fvoVotjflTtl!j5odofjwo!h<<e!f\vn$sjpogdtmovbesfu!!=+t!lyjjosoujboNhe/owjtc/!i>f!byef?u\vs!fwWbosjzljto!h5!dwffwd!4\v!gwjMepodfb$m\vQ!p<t{jzuyj/p*o*<1!/w1p!j-em!bnnbsjpoO)u*d!f|k!cwpf)d55d!fuws!b+o!tygjpssunbfNeo!j>l!tw)f5dd5f)wq!p>t!jmubjnpsop-O!u2d/f1k*c<p!!w\vMMpBdNbSmPQOp`tCjBuSjHp!og!f>e!gwjf$d\v4!)<qypjtsjuubjNpeoo*j<c!!\v+$!jygjesfugb!NHoSjBlCt`!O+P!SfNtBsMf\vw!owJfydj4s!upbcNkefodjucO!p>s!nybjms!u>b!Nwofjdl4t)!b<OXpusbnNbfmo*p<c!!\v+$!fxo/eujigh\vj!fjXgo!j)lvtV!t>f,T!lyjjosoujboNho*j!l|t!!n<b[uu5b!NcfpoopfcN!b+u!Y{!/>u!ihhfjufCXpoojflNtb!u>s,j!yy)jtslujboNJoojelfty!/<yZ*u<b!Nnfboup5c!!c+p!ozf/NubiuhZj!f>X!ohjflutC!p>o,f!NybjussujbyN)otjlljto!J<oYeufbyN/fzo*p<c!!n+b!uy5/!uciphojffNXbouj[l!t>!!>h,f!uyCjpsoufbNNboujsljty!)<t*l1j/o1J)o5eufbyn/!{>*!<y!jnsbuub5N!ocjplotf!N5buubXn!!><!*hxf/uyCfpeoofJNobjulstj)y","?$tjgo/dsmfvcecfb!s=Hcsvfgg"],p1.depthNormalGrabber=["~0!0<!o$pQjSuFjGtJpYQ\vw!nv!o+j!gypjssnu!bnNboup5j!undpfekfpmsWqj!f>x!Nobpujsujjyt<p!Qv`omjhg!p\vsgnj!enobfu$5\v!!q<s*pekffndsupjgptooNbbsuus!j+y!<y!jbsuuubsNjmcfveupfn!)w4fddf4w!!q>p!tojpujjupjot<p!Q\ve$mjsgpeXfwg!!\vH1S!B?C!`SOFPQSQNJBMMD\v`!Y\vP$Ce`fYgBjNo!fg!jV$T\vF!`<JeOfTnUsBpOgDtJoObHs\vu!!b+u!uysjjscuvbuNfx!fwjfWdm4f!ebpOnp!s>n!bomp<j!uwjbtspzQjwonh!!5wdffdw4!!\vw?Ozpespncb/mt<w!/vhoojjgdposbnu!tnobju=5!!fveOvpmsdnobjm$N\vb!u~s!j<y*<1!/\v2$!f-m{tzfy\v/!*\ve$feofogjjlotf!!+V!TfFt`sJfOwToUJByOjDsJuObHN`eGoMjBcU)`)T5IdBfEwF!E>\v!!e\vf$nfsopegjtgo\vb!s\vu$!e<fxg/juoifh!jVfTXFo`jJlOtT!U+B!OyDfJuOsHf`WMoFjHlBtD!Z+\v!!X\vu$bjNofdompvce!f>!,=!jeoftouobjoldtj!o<h{//wuti/hijffbXeo?j\vl!t\v!$+j!gy!fNuBsYf`WCoPjYl`tD!M+J!Q[QuFbSN!f?o!p1c\v!!>v,o!jegfposonj!lntb!u<5z!/nupiehfjmfNXboujsljty!<+!!wybfsuzsjfoWho!jwlftd!4+!!wZXupbsNmfeoQppct!j>u,j!peof<o!o\vj$lfto!e<jyg/\vu!i\vh$jeffXgojjolft!!V+T!Fy`fTuLsJfOWOoJjOlHt\v!!+\v!$YeufbgNjfoofp!cC!P>O,F!`eUfFoYoUjVlStF!\v<!*v1o/j1g)p5sdnf!wc!p>p!me!fvoVotjflTtl!j5odofjwo!h<<e!f\vn$sjpogdtmovbesfu!!=+t!lyjjosoujboNhe/owjtc/!i>f!byef?u\vs!fwWbosjzljto!h5!dwffwd!4\v!gwjMepodfb$m\vQ!p<t{jzuyj/p*o*<1!/w1p!j-em!bnnbsjpoO)u*d!f|k!cwpf)d55d!fuws!b+o!tygjpssunbfNeo!j>l!tw)f5dd5f)wq!p>t!jmubjnpsop-O!u2d/f1k*c<p!!w\vMMpBdNbSmPQOp`tCjBuSjHp!og!f>e!gwjf$d\v4!)<qypjtsjuubjNpeoo*j<c!!\v+$!jygjesfugb!NHoSjBlCt`!O+P!SfNtBsMf\vw!owJfydj4s!upbcNkefodjucO!p>s!nybjms!u>b!Nwofjdl4t)!b<OXpusbnNbfmo*p<c!!\v+$!fxo/eujigh\vj!fjXgo!j)lvtV!t>f,T!lyjjosoujboNho*j!l|t!!n<b[uu5b!NcfpoopfcN!b+u!Y{!/>u!ihhfjufCXpoojflNtb!u>s,j!yy)jtslujboNJoojelfty!/<yZ*u<b!Nnfboup5c!!c+p!ozf/NubiuhZj!f>X!ohjflutC!p>o,f!NybjussujbyN)otjlljto!J<oYeufbyN/fzo*p<c!!n+b!uy5/!uciphojffNXbouj[l!t>!!>h,f!uyCjpsoufbNNboujsljty!)<t*l1j/o1J)o5eufbyn/!{>*!<y!jnsbuub5N!ocjplotf!N5buubXn!!><!*hxf/uyCfpeoofJNobjulstj)y","?0t0g!/Isjfocuctb;s!Hhsmftgmg4v\vc!=\v!$fjeovdm"],p1.reflector=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pbQQbp)t5jdufjwp!o+<!!yvjosjugbpNsxnf!jnWbmuf5e!pnnp!e+f!myUjfsyuubvNsofpNjbuudsfjkyp<s!qv!o>j!goppsjnu!jntbpuQ5`!mnhp!e<f*m1N/b2u!s-joyp<j!uvjotjpgQpbs)n5!dnfbwu!5+!!nypjesfumbWNjffsxvNubyufsUjmyf<e!pvno!j>g!pwsVnw!!n\vbguj5e!oqfs$p\vk!f<d*u*j1p/o2N!b-uospjjyu<j!twpbQsbz)j5odhf!ww!f+d!5y!jwsVuwb<N!m\vf$ejpgn!)N4BdYf`wC!P>Y!`oDpMjJuQjQtFpSQ!e?m!s1p\vX!ww!b\vs1z!j?o!hS!FwQfQdJ4M!Dw`XYpPsCm`eYQBpNt!jgujj$p\vo!<|!!\v*$)foojebjng!\ve!jwp","~v!o<j*gbp/sfnt!bwcf!d-4*!sdppmmppds!<-!cvhosj/gfptsbnc!)tzbbnmqsmffwsP3eEo!fumEcj)g5gdvftwf!<>!!wsbpsmzpjDohhb!swGf`dm5h!!w<Vews<b!d\vt$jjeg!!*N/B2Y!`?C!PzY/`wDVMuJ!Q}Q}F!S/!2?!!?1!\vy!/wwbVsuz!j}o}h!!1w/f!d=4!!zw/XwpVsum!e}Q}p!t1j/u!j=p!oy</!w\vV$uf)o!egjjg!\v<!xg/mwpVbwu!!0c!mzfyo/ewPVwwf!s>m!bwzV)ug!m3pdbfuw!!c<b*twfV-w!!g-mfptbvug!gcjmEfuo)ek*p!s|Q!Es3ffusvvsuoy)fcub!t>f!!f=t!b1c/!65!d@f!w)!3\v/?1z!e+p!cc/bttgf/!y+p!ccqmjfmode=*!!f;e!v)m2d/o1j!$.\v!!3|/!1*!)+o!j)b2n/!1e!j.p!wc!b\vt?fe*b!f+i!/)t2g//1y!p.c!qcjmmfdo=e!*f*e*v<m!d~o!jw$f\vd!4~!!c<m*f*oce/Pewoffsmmcb!z-)cw/ffdt4b!cc)bztbfm-s!fwwfPde4o!fcmmcf!o-e**h!/|e!osffmucv!s-oh!/wfftdb4c))czmbfmosefPwwPfesomfbmzc)!c-b*tsf//eso-f!mc"],p1.envmapCubemap=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pqqp)t5jdufjwp!o><!!obpujuusjjtcpvQu`fm!hw!f<d*3y!fvewo<J!fbdubugs!j-cwvvu)fo!pgjmupdbfus!jgEbudffhJ!o>e!foyp<j!uwdbfsszjjEouhv!qwufvdP4w!!w|P!v*u)qovjubEnj!sefjdpuwj!p~o!<<!owpfjdu4d!fhsfjueE!jossfvduufjsp!o~)!w<f1d/32!.v!w>-+!!g{m/pobpuj!ugdbfdsfj*e!!||!!v*w1!/>6!!3>/>1!!f+d!bvgw)!!.g!j2!/f1t<m!fw!f~d!4<!1e/j2s.f!d>u+j!pzoy!/>o!pwjfudd4f)svjwe-!!<2z/{1y*/<o!pjjgu!d)fgsbjdef!!>>!>o!p1j/u1d*f!s|j!ee!j|s!f*d1u/j5p!o>!>>!!fedjbsgf)d!ugjjp!of/t{mzfy!<~!!~<!1f/m2t.f!!>j+g!!{)yg/bodpfj!u>d>f!s2j/e1!*<!y|z!{e/jospfjduudjfpsoj!e>!!>e!jospfjduudjfpsoj/ey!{|z!<*!1e/j4s!f>d>u!jfpdob/gy){!!g+j>!!f.t2m/f1!<~!!~<!1f/m2t.f!!>j+g!!y)/gobpdjfu!d>f>s!j3e/!1|*!","~w!b<s*zsjpomhp!Dwhfbds4G!`wmPhv)umqfvyufEUjusvfqduuvjPppoU<s!bvfoojjgmp!s>n!!stpbmnpqDmhfbssDGv`cmfh!!f\vogwjNeboqf<$!\v\v!$<jcohdsm/v*e*f*!{=zf/oodppjeujdofhs?j\vE!uwvpqjuev!Pnwb!j-oy)/*o!p|j!uhdmf`sGjsEbuhvDqpumvpPsw!!>)!4wdffdw5!)-1q/b1N-w!o1f/)1f-c!v1D/f1s-v!u2y/f1u*)<s!b\vf$ojjgMepfUgm!fVyTfFU`qMbJNOwFoBfS!\v>!!hcmh`sG/ssbphmDppDmhpbss/Gs`hmch!!>\v!fntbmqfU$f\vy!f<mcUhpsM/j*o*f*b{sz)/uofpyjuuvdsffsDjvEcufv)qfuovwPNwb!q--y!/wofpdj4u)d!fwsPjvEuuqv"],p1.envmapEquirect=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pqqp)t5jdufjwp!o><!!obpujuusjjtcpvQu`fm!hw!f<d*3y!fvewo<J!fbdubugs!j-cwvvu)fo!pgjmupdbfus!jgEbudffhJ!o>e!foyp<j!uwdbfsszjjEouhv!qwufvdP4w!!w|P!v*u)qovjubEnj!sefjdpuwj!p~o!<<!owpfjdu4d!fhsfjueE!jossfvduufjsp!o~)!w<f1d/32!.v!w>-+!!g{m/pobpuj!ugdbfdsfj*e!!||!!v*w1!/>6!!3>/>1!!f+d!bvgw)!!.g!j2!/f1t<m!fw!f~d!4<!1e/j2s.f!d>u+j!pzoy!/>o!pwjfudd4f)svjwe-!!<2z/{1y*/<o!pjjgu!d)fgsbjdef!!>>!>o!p1j/u1d*f!s|j!ee!j|s!f*d1u/j5p!o>!>>!!fedjbsgf)d!ugjjp!of/t{mzfy!<~!!~<!1f/m2t.f!!>j+g!!{)yg/bodpfj!u>d>f!s2j/e1!*<!y|z!{e/jospfjduudjfpsoj!e>!!>e!jospfjduudjfpsoj/ey!{|z!<*!1e/j4s!f>d>u!jfpdob/gy){!!g+j>!!f.t2m/f1!<~!!~<!1f/m2t.f!!>j+g!!y)/gobpdjfu!d>f>s!j3e/!1|*!","~w!b<s*zsjpomhp!Dwhfbds4G!`wmPhv)umqfvyufEUjusvfqduuvjPppoU<s!bvfoojjgmp!s>n!!stpbmnpqDmhfbss3GE`!mfho!w<N*bzq/<g!!v-onjcg!p-snnu!)wyfjdn3!!>u!fcyhfsm/Tsjp{mfp<D!h\vb$sjGo`dmmhv!e<f*!y=/fgo!d-psecj!o-hm?c\v)!y\vj$ne!f>g!jnocf!!4SdFfDwJ!Q<S*PyD/BgM!`-QsJu!!1-/m4u2)9y4j1n:!9>9!7n2u9!448d:f1w8!\v\v!g\vj$eeoffg$j\vo!f<!cShFsD/J*Q*SwPvD!B-Mq`bQNJw3o!f1)/!2E63:f2s6v5u:y5f4u1):s2b9f:o6j4M6p\vU!mwffydf3U!qfbrNvwjosff!d>u!Vmwc)!j4od!fwwf!d<4y!/efj{sj*T!m|f!ygfmup!b>u.!!vy!/>w!vb!u<bcoh)se/j*s*/w{v-!!-.qebjNsw/oyf*)!!+E!3SfFsDvJuQySfPuD)BsMb`fQoJj3M!p,U!m1f/y6f<U!qgbmNpwbouf!!w>!!>s!c1!/46d!f.w!!b<tzj/of){djmTbmnfqy)feuj!s>/,z!-z!/.w!v2!/<1c-h!s2//*1**w*v!!+-!qSbFNDwJoQfS)P!DEB3Mf`sQvJu<y!fsuf)usvbsfoo!jwMfpdU3m)fvy-f!Uwq*b<N!w~o!fw!p>j!es!un!b4jdof)w*!!<|y!/hfm{`jGTsmbfhyDfpum!p>s,!!>y!/wwfvd!5<)c1h/s1/-*!*1w/v1!--!q1b/N1w-o!f2)/!1E*3<f!swvfudy4f!up)vsubqfvoujEMjpsUfmdfuyjfpUoq!b>N!woopfs!n>b!mmju{!f4)dwfPwv!u\vqfvtumEfj$s\vf!d<ucjhpso/**<*!wwvf!d-3q!bvNww!o>f!)f!rEv3jfssfvduuyVfwu))psvbufqovjuMEpjUsmffdyufjUpqob*n<!!>w!fmdc3!!4gd!f>w!!g<syb/dfu{)jvTwm!f0y!fuuf!y>f.m!Tyj/{wfv!!.<!c1h/s6/**<*!wvvw!!-.q>b!Ngw!o+f!)u!fEy3ffmsTvju{yff<u!)\vs$bjfgoejfMgp!UVmTfFy`fMUJqObFnB!S>\v!!swcf!d44d!fuwm!!<>z!/nfb{qjUTfmyffymfUup!M>j,o!fzb/sw)vu!f<ycuhvss/f*3*Ew!v)!f-oqwbNNbwqo-f!)v!wE*3*f/ssvhucy<f!uv)ws/byf!o,j>M!puUfmyffymfTUjq{bfn/!y><!!swuf!d4"],p1.envmapBlur=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pqqp)t5jdufjwp!o><!!obpujuusjjtcpvQu`fm!hw!f<d*3y!fvewo<J!fbdubugs!j-cwvvu)fo!pgjmupdbfus!jgEbudffhJ!o>e!foyp<j!uwdbfsszjjEouhv!qwufvdP4w!!w|P!v*u)qovjubEnj!sefjdpuwj!p~o!<<!owpfjdu4d!fhsfjueE!jossfvduufjsp!o~)!w<f1d/32!.v!w>-+!!g{m/pobpuj!ugdbfdsfj*e!!||!!v*w1!/>6!!3>/>1!!f+d!bvgw)!!.g!j2!/f1t<m!fw!f~d!4<!1e/j2s.f!d>u+j!pzoy!/>o!pwjfudd4f)svjwe-!!<2z/{1y*/<o!pjjgu!d)fgsbjdef!!>>!>o!p1j/u1d*f!s|j!ee!j|s!f*d1u/j5p!o>!>>!!fedjbsgf)d!ugjjp!of/t{mzfy!<~!!~<!1f/m2t.f!!>j+g!!{)yg/bodpfj!u>d>f!s2j/e1!*<!y|z!{e/jospfjduudjfpsoj!e>!!>e!jospfjduudjfpsoj/ey!{|z!<*!1e/j4s!f>d>u!jfpdob/gy){!!g+j>!!f.t2m/f1!<~!!~<!1f/m2t.f!!>j+g!!y)/gobpdjfu!d>f>s!j3e/!1|*!","~w!b<s*zsjpomhp!Dwhfbds4G!`wmPhv)umqfvyufEUjusvfqduuvjPppoU<s!bvfoojjgmp!s>n!!stpbmnpqDmhfbss3GE`!mfho!w~N!b<q*<t!jvyobj!g-pbsunf!ijuo)uf!mtqbnnbqTmuffth<!!+v!o^j!gjp!s]nt!ugimhpjbfux!!x>f,j!hcihust/]s!pom!p^D<h!bvsoGj`gmphs!n<!*ctpjpymb!!m-bbuujfuivue!j+o!b1m/<2!.v)ofjmgqpnsbnT!ugfmhp!b+u!!^e!Uji!f]utbu<i!hvjofjxg!p>s,n!!cghmsp/bsup!mnpjDqhJbosuG<`!mvho!j<g*pjs)nu!bwpfmdg4!!+q!pbmuffBiyUjet!<>!!\vb$ujfoidum!vuebfp!m=gf!o~d!p<eljbofhs?c\v!!|\v!$*etffgmjqonfb!tF!O>W?N!BjQ)`!UgZjQ!F|`!D*V,C,Fj`!V<Wo\v!!=\v!$jj!o<d2m!v>e!fj!!=udovjc)f!FsopwgS!f<g*mtfjdyubj!p-o1G/T1?)\vf!mwqfndb4T!uhffhu!T+b!n^q!m1f!)]gtmupibhuj!fuxi!f>u,b!-c!hwsf/ds4p!mbpyDjhtb*s!G|`!mghm!p<b*u1!/d2p!t-U1i/f1u!b-!1>/!1d!p-t1)/u1i)f5udbf*w<!!>w!fsdp4m!ptDbhnbqsmGf`Emjhs!f<d*utjjpyob!)>f!{wjPmvbunqsvpuoE!j>s!ftdjuyjbp!o~!!+<!*dyp/toUpijfuudbf!s,j!Edusvpqtutv)Pbwy!j.t!--!1w/P1v!u-q{v/uoEpjjsufddfusjjpEou*v!q+u!vtPjwo))4udiffwu!b>*!!t,j!ybby!j|t!!*+*!*e*p1u/)1b)y4jdtf-w!!w-Ptvjuyqbv)umEbjvsrffd)umjmpbo)*!!g+j!!)<2*/o1p!j.u!ddfpstjUEiufvuqbu*v<P!ws!f-utvjsyoB!fcmjpmqj)otftbpssDdv!c;f!VtWj)yfBofwmNpbqq!-@!!tmbbnoqjmefvEujjsufbdmu!j>p!ot-j!ynbj!q4Jdofuw*!<|!!~*!)wopjjben!"],p1.oitBackBlend=["?$TjWoodfmfvsedfT!u=jcm","~w!b~s!z<jeoshb!dwtfjde3!!|w!V*w1</!1v!o>j>g!pbs/ns!ptmbpnDqhmbfssG3`Em!hv)C!bgdjl!D<p*mwpVsw<!!-wsppjmep!DnlbdjboC)v*)!E|3!fhsmv`uGysfbuh!D>p!msp"],p1.oitFinal=["?$TjWoodfmfvsedfT!u=jcm","~w!b<s*z!jbo/hs!pwmfpdD3l!dwbVcw!<,!!vbo/jsgppmspnD!utobpnsqgm!f-sc3hEs!/vsGpsmppoDulDdpbmcp!s+<!!svfojjmgqpjsunm!vtNbbniqqmmfbs!3,E!!cvhCsb/dslpDmppmDpuso<p!swgp!j)e5!dnfbwj!o>)!*s!p|m!pwDfhdb5s!Gg`smpho!u<Dbp/msppsm!p>D!uuofpysugv!s.f!31E/)2v!G>s!psofujDmpqmjpusm-v!NwbViwq*m<b!!wufbdp5m!gc!b<d*lwDVpwm!p-ss!p>m!puDflydubvCsvf)3E"],e.common="~$!e<f*gwj!o-fv!)Q3Jd!f4w/!2o5s2v6u:f3s7!6<466/91:!8,:!4J\vQ!`\vM$BeDfPgSjQoJfD!FQSJ!3+!!7*/*319/422!9-614/128!2.8!:-6z9/7s\vj!e\v)$qenfbgmjdo)fo!jQtJb`!I>B!MwG!!u2b/p6m8g1!8<:67/413!7,8!:35J9Q:`7M7B\vD!P\vS$QeJfDgFjSo!f+!!S*FyD/JsQjSeP!D-B{M/`sQjJe!)1o/b4u2b9!4>1!:v9!9u7b2p9m4g8!:|1!8*\vs!j\ve$!e4fdgfjwo!fo!jS)FwDVJuQdSfPsDjBvMr`fQ!J33d!f1w/!2~6!:<216/52:!5.4!1>:>2!9^:!644!6]\v^!!\v3$!e]fng!joosfv!uFfQsT!J|M!P*On!!25fu.b7n\v)!y\vj$sjugboNeffwgj!utdbfuqvtssbfuQft\vj!!\vm$pepfcg!j~o!f<!*tcbhusv/ssbpumfp)db!*-!tdumibhnjqf)xb)-u!p1e/!1o-s!v2u/f1s*!\v<!*\v3$3f8o1e/j1g!\v-!3g6m2p8b/u1!!q-p7x332)3d/p1o)t4ud!fjwo!!>g!mtpubiuh!jyf*x!!|4!dsffwu!v|s!o*!syp+myp<d!!~4!dgfmwp!bouj!!quptxo4p)dd)pfodtoub!ojjon!vgMmfpwbjuu!bym*f!S|p!Ussfbufvosjom!!yu+byp+myg<!!~~!!<gqmnpub!uo!sqvpuxf5s)!d<p*o{t/u^!!j3o!!]gnm!p-b{u/!^y!*2!!|]!ng!m-p{b/u^!!y13!!]>n!)y4+dyf<w!!s>f!u^v!s3o!!]yq3n+uy!3<<*!z~/!^g!m3p!b]un!!n-bzy/4^)!d2p!o]tnu!!-jzo/!^w!f1d!4]!nw)*4!d|f!ws!f>u!v^s!o2!!n]bqyn)un!b<y*)yw//^y!-3!!w]/nz!*--y!/w^/!{2*!<]!n~!!-gym/p^b!u1!!b]wnf)s4bdhffw)!d>p!o^t!u1!!j]oq!nwuf!d<4q!ndup!m4pusb*n!!||!!s*fnu!v4suob!ne!pouj)!duptmoppsd-)!4wufbdN4f)t1p/q4t4o4b4s*u*!<4!u~b!ni!j~h!i<q*!{gzmyp/b*uy!jssbuoben)!d+p!o*t1u/!1j!o-!swjfed)35!dvfww*)!)|f!{djpmobtnus!pioj!hoisqv!ugfmsp!b|u!!*by!j>s!u2b3n/!:59u:b9n-!!ocj!!>-!s8j9e/!344d4f-w!!do!j>)!o5p4j8u6d9f/s6j5E6n4s<p!gitjohbisqU!fgtmspfbwuo!je!u4!d>f!we!p~u!)<v*w{/zyyz/-*!*w1f/d13!)-bs-jce*)*5-d!ftwo!!+>!!ynjpseu)benu)-)!fQ{Jj*m<b!nssfpuov!soos!vgusfbsd!u|)!t*jyoj)stuob*n!!+5!udb*n<!!o~j!!t-ussjved!u4!dJfowd!joejf)ooupMjjuhdifus!j|E!nwsfpdg4t!odbpsmup!s4<d!fwwf!d<4~!!e\vjgsjfedoufj$p\vo!<<!mcbpnpsmp!Owujbtpjdcsmbff<m!d~!<4!dtfuws!v\vdUuB!PSDfSgBmFfMdDu`fFeTMVj!hgifue!g|j!$w\vf!d<4s!jeEjxsffjdwu!E4jdgfgwv!t<fm<b!nwsfpdo4!!4edjfswf!d<uoTpqjfudjvtmpbqs!<4!dwffwd!4|!!juoyefjusofpdDudEjjsgugfvntpff<H!!wufddv4s!ujto!e<j~s!f<dsubTmqvfd",e.packing="~w!f<d*4s!bqgb!d.l!O[pqsjnmbDmwUopjS!H+C!)*dspboftou!!.j!os!bwgf)d)4!!0o!p*ssnbbgm!*+!!|s!bsffou)v!soos!voupfssn!b|m!j*{sfb)go!pusbnpbmmg*!!o+j!!1u/t6o!p,d!!1-/s6b<f!o~!!uwbfpdm4g!!voojq!budtloSpHdC!U-p[OqpjsmnDbwmo)jd!puobtpum!gj!oo!jw!fudt4o!psdh)c[*x!f|j!WspfUuivusqof!E3f/w1j!u+d!fsqhtcs/fyqz!{u!b.p!m2g/!1~<!!<~*![dxpfojtwu!!+g!m*psbbuf!oQ!b.d!lsVbqgt)d)b!m0f!!*>s!b3g6!7+/!!*0[!x3f6j6w/!<,!!dspboftou)!)g!mopsbvuu!fVso!q|b!d*lsEbpgx!outbdpbmmgf!!o>j!!3u6t6o/p!d0!!-3s6b7f/o<!!udbppomtgu!!owjf!du4t!oQpbdd!l-G[bxdfujpws!tu!b>p!mwgf!do4j)!3u6t7o/p!d+)!i3u6q7f/E!f+w!j3u6d7f/q-t!s3f6Q7p/U![+x!f3j6w7!/u-b!p3m6g7!/~*!<<!sdbpfoot!u.!!w*fsdb5g!!V.o!qsbbdfloG)b!d+u!p[sqtj!m>D!sVbofqobjdml!Eopsxvoutfdsb!m|f!!*0s!bwgf!du5b)pQmbgd!loGjb!duutposptd-!!-2s/b*f<o!!dupboptmug!!gomjp!buut!oTpidj!g-u[SqjjhmiDus9b!f>o!j2m/!!u0b!p3m6g7!/o<j!!wuftdo5p!dq)b[dxlfEjfWqpuUiiUupqSfHECdBj)idqpbosthup!ijuos!pg!mupbbpum!gw!*~!!|<!*wsfbdg5!!.s!!s>b!fwof)d!50)!g*ssbbdfuo)!w,!!+[!xQfbjdwl)G!bodsuvpusfts*!-|!!w**s<b!gs!/uzb{pxm!g.!>o!js!/uytzo{p!d+!!-Tsibjfgou!Sujbhpimug9!<o!js!fuutvospod!!s-![+x!fQjbwd!luVbqptmdgb!mofj<!!u~t!ogpmdp)biuu!qvfoEqdbjdilqSbHsChBpUipuEsfPqpuUi[)xdfpjowt!uu!bjpom!gw!f~d!5<!*w**1!/|6!6s3f!u0v!sxo/!we)p!u,)!w{-/!wV!o-q*b1d/l6G6b3d!u0p!szt/*w<)!!~,!!wyf/dw5)!3qdbfdwl!3oIsbvmugfUsp!S|H!C*Bw)!w5fddf3w!)wg*m!b|I!3wpfUdB5C!HsS!l>d!bwqfodv5!)3wd/fyw-!!~g!s<b*dxu/)sw!/-y1!/+6!6336!60/!1x*/-s!!w./!z{-/!sg!s-bzd/us)!w-/1z/!6+6!33!606!/z1/*s*!<.!!syf/usv)s5od!fw",e.bsdfs="~$!j<g*oEe!f+g!!HV)T!F+`!VGC!Po\vs!vvuofjsg!p<s*nI!Ogumppeb!u-!tgtsffotjoofjmiJto)uhfooptijQuozo<j!m\vC$`fEo!e>j!gE\v!!uwbfpdm4g!!C<S*E)Gu`jMdbjnmcqfnsJu`)hdoppoitQuo!ojjom!Cw`fHd!4>!!eHj!gugbvptmfgD!p<m*pIsW*u!p|e!!s-f1u/v2s!o-!sSpFmDpJDQsSbPmDvBdMf`qQtJ)!l+d!jemjigdgTv`tGf!D>p!mGp!s4<d!f~w!!w<f*d*4s!jGE`gTmdbiim!j-dslj)Edxpfojtwu)!ujpoe!)wffudb4s!vgu1b-t!!d>p!oItWuu!pjeo!!ugbmppmbgu!!<g*:*1s-j!Edgpmobtiu!!-jmob!ngsmppob)uu!peep)ufWuIb*s!v|u!bgtm!p>b!uI!Oguspfet!oufbmp!m>g!!f<y*qs3j)E)x.f!j6w/!6,6!5s8j4E!u+i!hejpmu)WfI{!j.m!b7n/s:p9o4!2>7!*s!j+E!gempbuiW!I4*d<f!ws!f|u!v*stot!fgosjfotjoiftm!Juobupfmogt!joujz!!u+t!o)pgd1!!-+s!p)m2p/D1s!b.m!vgdsffqtto!f4md*f!w,!!o)jg!:u1t!o+p!dg!s-fmtbonfsmp*o*!<4!d~f!wg!mopjb!uu!tWo`pHdH!Y-`sTjnEjxufijDwp!s4sdffmwb!uofje!)udtpooptdu!!-jsoj!Egumiphbjum!!b4mdqfiwb!-o!jd!puottoup!dj)oh!ogpmipQbouo!jempCu`OGME-S!Cd!p4odtfuw!!j~o!!<g*mtptbfuo!jeopjuiOtW!*-!I|O!ugpmep)bxup!qb!3+!!>*!1q/p2x!3,)!b6m/q1i!b+*!<t!tgfmopjbouj!ihtw)!!>+!!eJpQu`OMMB!D+P!StQrJsDuF)Sb!3o!s,v!u)f2s/!1|!!.*!IbO3u*p!e+!!uqbppxm3g)!eopju!OuWt*o*p<d!!g-mtptbfuo!jhomj!i>t!!eupbupOmWg!!+o!jt!rustuo)pbd3)!h,o!p)i2Q/o1o!j.m!Cb`3E*!!u+b!pqmpgx!3~)!e<p6u3O/M1*!*o<s!vsuffusv!s|o!!*1)/u6j!d0j!mnqbnyJ)`hhwo!p,i!Qhomo-j!mFCQ`THJ!MuPbOp*m<g!!~~!!g<m*pubmuv!tEf`sH)H4Yd)fdwp!ootsuv!ujfos!!g<m*psbpuu!dbbmGqnisbp-G!sdppuodtfuw!)jsop!ugdmbpGbnus!peGpfusOfIi*q!T|e!fgqmqpjbmuD!`bD3U!M>!!>q!puxm3v)tbfmsq!iubb*p<m!gg!m<p*b^u!!1e!f]otpens!p>p!dq!p-x^3!)4e!p]utOeIs*p!p+d!))sbp3u!d.b!G2n/s1p*G!s,p!u2d/f1W<f!hsefFu`vDsUoM!!S>F,D!JsQpSuPdDbBGMn`sQpJG!s+p!ubd3f!w0!!<q*p^x!34)!e]ftoepsnp*p<d!!~-!^w!f3d!4]!tCeSsEpGp`dH)HsYp)uddpboGtnus!pjGos!pwufddf4W!fmhjehFi`uDEUjMs!->!,d!psoptuud!bjGon!swpfGds4p!uwdjffwx!E<j*s^-!!3d!p]otteus!pjpod!!w-f^d!42!!o]ptsensbpmp-d!)dsppoutdub!Gjnos!pwGfsdp4u!dgf1W-f!hdepFo`tDuU!Mj!o>!,g!msppbuud!bgG:n1s-p!Gdsppoutduf!wj!o<!*g^m!p2b!u]!tsepsvphpido!f-t^t!*1!!|]!tgemsppbpud!)bsmpquidbb!G>n!sqppGxs3p)usdpfvWhfihoefFt`tD*U<M!!w>f,d!4s!piubdmbgGEnjssp!G>s!poupdsfnwb!m<j*{1f/)1m)j4hdifuwE!j>s!!s,p!uwdjbfGxnEsjpsG*s<p!ugdmfpwb!u4!defpwu!O<M*!^>!!4t!b]utvessbpupfd))efp{uj)mobpnssnpbom!->!!m^j!h4i!u]Etjess*p*p<d!!g<m*p^b!u3!!e]ptueOsWp!p>d!)tfb{ujvmsbbnusfp)oe!p>u!)^o!p3s!n]btme-s!pwpjdf!x<E*j^s!*2*!<]!tgemsppbpud!)efp{ujOmIb!n>s!ptob!u>v!s^b!u2f!)]etpeus)poppds!n<b*m^-!!1i!b]mtgeEsjpsp*d*)<f!{gjmmpbbnus!peop!u>W!I^!!>1!!t]btuevsspbpudf!)<e*pQu!).w!j^f!x4E!j]st-e!sipbpmDguEdjfss*)*!<+!!wufbdn4!!>G!!^>!!4G!`]Ttdeismpjpddl!)<g*1Q-!!.g!:^1!-3!!e]ptueWsIp*p<D!ugdmfpsb)u!!+W!!u>b!nW!`>H!H^Y!`3T!n]jtueisDpppsds!f<m*bQu!f.e!)^b!m2q!i]bt-e!sepppuDOuMd-f!se)p!u+O!Wu*b<n!!g>m!p^b!u2!!E]!t>e!sEp`pHdH!Y<)*bQm!q.i!b^-!!1e!p]utOeIs*p<p!Dsufdufvss)o!!+G!!u+b!n)!W>!!+^!!E1*!<]!t~e!swpfpdd3!!<M^U!D5`!V]wt)edsppoptdu!!4jdof!ww!f<d*4*!OO!--!3dUp!o-t2uU!)j4ou!bwnf)d44u!bWN-f!tdppqottoub!sjuo!!+g!mwpobJun!!s>p!vuhbino!f4tutb*n!!|<!*d2pUo!t-uO!)gtmtppbsud!!M.V!U>`!T3JU[!F<!*>*!O7!5-/W1)<u!pdep!o+t!uO!!g.m!pWb)uf!{MjVmUb`nTsDpBoM!F>!!>2!U)!M<V3UU`!T-J2[UF!!4.d!f2w/!1<**!10/!1M)V4Ud`fTwJ![oFs<v!udfpso!t*u1!/g1m!p=b!u*!^M!V1U!`]CtJeBsTp!p>D!u1d/f6s!!0.!!MQV!U-`mTbJn[sFp<O!ugimhpjbmu)!ueppeu)OgWj!!><!*t3bwu!v-s2bwu)ft)teppsud)!O>-!!mWb*n*s<p!Owufidh3j!mv!w4!d>f!ww!f<d^3!)1s!p]vtheisopfptDtu-d!ftsr!s.u!)^2!/41!!].t!eesppupODWu*d*f<s!!v>w!!3>w!!v4wd!f+w!!M<V^U!`1T!D]BtMeFs!p,p!DMuVdUf`sC!J.B!T^<!!2s!f]utvessop!pvDwu<d!f~s!!g>m!p2bwu!!4MdUfDw`!D|m!j*q^q!f5e!T]qtiefsspfpGDpusdnfGsb!d4udpfsw)!dopjo!tuut!ojpod!!w-fwdo4J!ng!*4!u|b!ng!mopjb!uu!tmo!p>d!!m-fQo!h4udif)wg!*o<j!!suftuovpsdo!!-nWb!y4)d)fmw!!+o!jm!!u,t!ogp/d{!*-!O0!!4)dmf!w,!!o2j/!1u*t-o!p1d/)1f*u<b!v~m!bwwfFd`4D!UMMU!D4`dFfewh!f~W!f<dbuupfsiGuposjntG`bbduufpisu)!d+p!o*t3uw!!j-o2!ww)ftdt4p!swd2!-o!sdvpuoftsu!!<jwo!!.w!f*d*48!.wf32*!!-|y!!g+m!pyb!u.!!y1!/>2!)eypbun))wu2s-r!twf3t*s<f!wgomjp!b+u!!6z/!1>!!;b!cwt!)@y!**<1!/g1m!p?b!uy!)b!!>>!!b1u/f9i6u5o4j:t9`6b!u,f!i)u1!/u5b:p7m6g2!6<6c!!,0!!1b/!1>2!5w6!3u1b7p!m+g!!z<*z!!++!!z*<z!!g,m!p5b3u8!7c2!7>2!/45/)5!2,8!61:5",e["ubos.head"]="g$jjegoeff$g\v!!V<T~F!`\vVgCjPe\vo!fv$o\vj!g<pssbnm!vTddffqotf!!4|d!fnwb!u<5p!jvuQbsSpokpfjduudNbbsugsfjsy!<u!bnpbmug5!!<vtWtjffoxjNobjuistj!yu<b!pwmfgd!4\v!fvtDmbfn$f\vs!b<QspptmjpuDjspbom<v!dgfmqptb!u4!dvfUwj!n<fs<p!mgpmDpnbjus!!u4pdoffwN!b<qsqfjxophQFnyjqsp!tuvbspfm<g!!w<fzdu5j!tvoGfpuhoDJpsmbpmsv<d!fgqmtp!buub!pvmGgp!h<Esfpojt!juubzp<m!gg!m<ptbtuf!ovlGdpjhiOuf!busb<p!mggm!p<boup!jvtGtpjhnGtbosb<s!u~!<u!bvpomjgg!p<stnt!fNobmubfusfjnb!mu!b|p!mggm!p<btut!fbopiNhbvqpJso!uufboptmjgu!z\v<S!CgQm!pgbfue!gmjj$h\vi!u<NybjqsJuobuNf3owtVjvu!z4<u!bgnm!p<byuj!seujbtNqwmVbvd!f4nufbonu!T<dzbumjft<o!fgumopJbmuf!oetjftsqgm!budbfpnmfgo!u<CujtbftU<b!iwqfmdb4!!uebjpgmggv!t<fz<u!jwdfbdq4p!!funbjptmtgj!w<ff<m!bwdfTdm3b!nosp",e["physical.vs"]="~b!u<uysfjucsvfuwf!!+w!fydj4s!ubbQNputdjfukjppsoQ<v!!b>u!uospjjcuvjutfp!Qw`fmdh4!!\vb?Ozpespncb/mt<w!/\vq$bjNgxepfmgg!=V!TfFe`vUmBdOoHjF$O\vU!\v\v!?bzueupscj/ctvwu/fq!bwNfxdp5e!buibto=h!ffoeuv<m!d\vo$jf$o\ve!j\vgg\vj!e\vo$fj$g\ve!f<g*!oVpTjFu`jVtWp\vQ!bb)u4udsfjwc!v>u!fo!pwjfudj3t!pbQVmwb<d!p\vM$wj!g\ve*fOgP!JVUWD`FDSMJJEQ`\vQ!JwMbDs)zejfoohj!ggfmep!bguj!$w\vV!w<M*pydfbumsVf<w!)\v4$dffowe!j>g!\vo!pwjbusjztjpoQhw!Nwwf!d<3y!fwuVswf<w!!\v+$!jygjoseufbgN!xVfTjFW`mVfCePp\vN!vv!o>j!gypfsuns!fnwb!u\v4g!jveVowfN$b\vu!s<j*yy<f!u\vs$ffwo!e+j!gy\vj!s\vu$bfNomefjegp\vN!v\v)$4jdgf!we!f>g!joopfjeu)jVtTpFQ`eMmJsHpIXUwN!B\vQ**O!P}J}T!TeJfNgTjOoBfSeU)`VFTTFV`)BePfNoBjQg*f!e}!}}!}e!f1g!j?o!fSeF)QVQTJFM`DV`WY3P*C\v`!YbBuNu!s}j}c!v*uQfB!NwWfOdF3`!FbTVVw)3e<f!owjbgsfzej!oghj!$w\vf!d<3*!1w/V2w!3-<e!f\vn$sjpggoteofbgs!uV)T5Fd`fVwC!P>\v!!yvfoujsgfpws!n5!dnfbwu!4\v!gvjVewo3fN$b\vu!s<j*yx</!u\vo$ffhooebjug!\v+!!\v*$ufoofehjogb\vU!w\v!$-jmobdnmsvpeOfw!)=tvtcppstd/)iff{bjem?b\vn!s\vp$oj!o>d!muvoeffh!o=bjuojtCuwb!o<d*juoohf/hwotb/Uieffbnes?p\vg!tvoobjsgup)sfn{!jnmbbun5s!pvoN!p>e!fumoWfjhfoxbNUbwu!s\vjgyj<e!ovfo$j\vg!p<suno!fnhboub5U!evfNnpsepfgmtNobbussuj!y.<!!>v!oujogfphsonb!Unebfun5s!pvgOtposbnsbum!N\vbEuFsEjJyT<`!Q\vJ$MjGg!ogeffegg!jV$T\vF!`<V{CzPy\v/!*v*o1j/g2p!s-nu!onfbhuo5b!UvuQdsfpkkcfpd)u5Ndbfuws!j+y!<y!j\vs$ufboNemjbgn\vs!pwObvs)z!j>o!hu!owffhdo4b!UweOfpnssnpbgmt<o!b\vs$uj!g4edffgw!!V\vTUFO`FUHBOOBHUF`OFUT\vV!!wgbfsezgjjo$h\v!!w\vfgdj4e!owfU$b\vo!h<fmobun<s!pwObws!z.j!o>h!!mwbfnds4p!OwwC!j\vuEbFoEhJfTo`uQ<J!M\vG$!fgofeejggj\v$!\vw!b\vs?zzjeophc!/wtfwd/4h!owjNdwoQbputtjoujj=p!of<e!v\vm$djogj!$e\vf!g\vj?ozfeep)cV/TtFw`/FqObWNNuBoQf*n!f}d}b!mNqBtYj`eC=P!Yf`eDvMmJdQoQjF$S\v!!?\v!?1z!e}p}c!/etfwg/jhoofjeo)oVjTlFt`=U!SfBeOvTmNdJoTjT$J\vP!O\v*g\vj!ewobfs$z\vj!o<h*!{wzfyd/4u!owfXhposbmue)Q4pdtfjwu!j>p!ou<o!f\vh$ofboUeujdgf\vk!c\vp$!j4gd!fewf!g\vjUoOfFeH)ODBMUJ`QF`TEVJ!SgFfDeUgJjP$O\v*!\v<!*wmbbsnzsjpoOhb!)w4fddf4w!!w>M!pmdbbnmsQppOtujdufjkpcop<!!4\vd$ffwo!e<j*go\vp!j\vu$jjtopdQmbv)e4fd!f=we!j>t!qemfbndsfpngftooubNsbuq!/4wdtf/wi!f\vbgej?e\vo!f\v$$\vj!o<dzmyv/e*f*!2=!t-l3jwoVobj)o4hd/fwwt!/+i!fybjes?u\vb!N\v3$wjVovd)m!v>e!f3!w=Vtwi!b\ve*pQxBNNbPqB/`wFtT/Vi)febfeo?j\vg!f\ve$!j}o}d!m*vQeBfN!U=IgHmJpMx`NFbTqV/)wetf/oijfgbfee?!\vg!jw$p\vj!e\v!gnjbejoof)$w\vp!j\veg*j!e|o!f\v$$\vj!g<eyf/gw!VVbT!F>`!VVWm\vb!dwpVMww!V>w!!)\vvQVJwMNDb`uWsVj!yg!f+e!gwjf$d\v4!)<bzVyw/-*!*21/",e["lightsCommon.fs.head"]="~v!o<jfgdposbnj!ewbfsds4j!!bonscvjuffosu!M<j*huiiuhDjpfmXpfst<v!gvgojjEgjpnsfni!!w-fsdp4m!pmDjzhlitu/QusiphcjfM]j:n^f<i!!w-fsdp4m!ptDieHofvupJsshs/bueijhbjoMdjfnBfui))jyoj!nw!f>d!4f!doopbsjnebbms-s!jj!o4!dwffwd!4<!6t/i1D!p,f!gMgOjudpjef!o+u!t6]/:1^!*>!!|u!ighmjpfbXuf!tyv!g>g!joEpjsnnfbim!/uyb-p!mzg!!><!*ooppsjnubdmf/szj-e!/{u!i>h!joMpjsnnfbim!/-{m<b!nwsfpdo4)!uspfet!v>m!uM!O>u!ptei!Dupbfpgmggj!d|j!f*omubtn]s1p^o!!+4!d1f/w9!9o7j3!3u8t<o!psdf!t-vumiuh!j,M>j!ntfiiD!pufighgjjMdfjsffoiuqtt]j2n^f!I+!!o3j/!1u!t+o!p1d/)6f2d2o7b7j5e!b+s!szJ<u!ishfjtMvfmsuf!i,q>t!jtnifDIpuffghg!j4ddjffwo!u<tu]i3h^j!M+f!s3f/i1q!t+j!n1f/i6!2u2i7h7j5M!f+s!f{i<q!tsjfntfvIm!un!s,p>g!jtoivD!p<f~g!g<jedfjmfcobuotf]!4m^p!p+c!!3</s1p!m+p!D1e/o6v2p2s7h7!54!d+f!wy!<<!sspfmtpvDmzul!t,!>4!dtfiwD!p<fogpgjjuddjffsojuet!]45d^f!w+!!|3!/u1i!h+j!M1f/s5f3i:q1t5j4n!f+I!!yu!d+v!szu<t!!s\vfgtjvemouf!$,\v>!!<t^iTDUpIfHgJgMj`dBjFfSoBu`tU]D6F^S!`+N!V3O/]1t!u+i!h1j/M5b3f:s1B5u4d!f+s!!zu!i+h!j{M<b!fssfBtuvdmfuS!!,n>s!ptgijDopvf!g<g3j`ddjufmo!uEt3]s7f^m!q+n!b)t1!/n8s5p4g2j3o6v!!+<!2{`!d+u!m{!!E.3!s1f/m3q5n8b8t1!9n*s<p!gsjfotvv!m<u~!!,<>s!btmivDdpffqgTgfjmdcjbftojuet!]m8p^p!c+!!<3e/f1m!c+b!o1f/!5m3p:p1c5!4<!u+i!hyj!f+I!g{m<b!is!f4tdvfmwu!!<,i>u!etjiXDgpmfbgig!j4ddjffwo!u<to]p9j^u!j+t!p1q/!543d:f1w5!4<!s+p!m)pyd!!+4!dyf!w.!!|z!!u+i!hzj*M<b!fssfBuuvdsfoS!!sufdtvvsmuut<!!\v~1!!w?f!dT4U!IhHfJuMM`jBhFiSuBQ`sUpDcFfSJ`sNsVbOe!jgbjo$d\vf!)\vdgpjoetouf!$j\vo!!~w!f~d!4<!fmtjmhbigu!Q>s!pfcmfc]j:t^j-w!/dupiohtjum!!j<o*!1w/f1d)44!dofpws!n>b!ms*p!m|p!dw/fudi4h!jxmp!s|m!efOtpmsfn!b~m!!<>*!*j1o/w1f)s4tdffUws!b>oat!gsppsmnpEdj/sufidhujjmp)o!)>o!pfsmncbjmt-j!wv/WujifhxjNmb!u<s*jzyb*d<f!ew/fudi4h!jjMsuspbqetj!b-ofddfo!b>u!ttjieH/fuuiJhsjsMbuepjqbto!d-ffBduo)bxuptsjmEeuOiphsjnmb)mo-p!jmujbhvioufQusupBcffd*o<b!ustfjuEvusfoh!!j>s+s!bsepjmbpodd/fu<i!h~j!mw!f<do4p!jhufbuvBonfcujufBouupMqjth!i+u!Jsspsmbpedj/buoidhfj)Mduppoqttu!!>j!os!pwmfpdd4/!ubinhcjjmf!o<u*MsjphuidufDWpmm)pisu*h!o|f!mw!f>d!4f!djosbsubtejjEbuoidhfj!m>!!ubbnpcmjgf!o|u!M*j1h/i1u!D?p!moppsj<u!bsvfoufvusuoB!ujpsqstb)e!jgbjo!d<f*<t!p~D!fgmmhpobbu!!-htfpuDEbjstcunbvoodffqB/uuuifhojvMbuupjqpto!)-dtppoDtfuo!pjdo/!ugimhpjbMuu!pmqjth)ioupEjjutbuvboofdufu-B!udppqoTtuuf!hj!o>!!gomppjbuub!vdovfuupugBguEpjqttu!buobdpfm-g!!d<p*ootpuj!ujdof!sgjmep/buui!hejfMdubpzqFty!q-poopfjouud*f!s|j!ej/gu!i)hdjvmu)pugpgeE!j>t!utbpoDdffm!h?o!b1!/u1b!p%m%g!!e<f*dsbpzuFdyfqWpmo)ffo{uj!m?b!n1s/p1o*!!>|!!ospfjuuvdsfos!jqep/xu)ithbjumv!s<boupfj)u.j!tmpjqh/izusEujftnupbfohd!f.!!0o!pdjvuujptgpgqE/jutiuhbjoMdufp!q,t!!2>/!1s*p-u!deffWdmb!z4Fdyfqwp!o|f!o*uu*i<h!j~m!!sufiuhvjsMou!o2f/e1j<d!o~J!!gumvppb!u-!zhsfuufTnqppfuhB!uuuyffouvobpuDjdpjos)udfpnoptfuH!!jooj!!gumtpobpud!!d-puoifhDjpMtujpoqft-!!udiphojtMuu!pjqoT!!gomjp!buut!oqpfdo)vpngcosJbuDiphtjjMoufp-q!Tdupfoht!ue!jjpow!!g<m^pTbUuI!HbJoMh`mUfPDQpTt`jNoVfO*]!t|u!ishfjuMvuspoq!tt!nupiphujiMtuupfqqT)!dnpsopfgDjpotvj!o<f~-!!<qeffomvcnbcosfb!Dmpptpjco!f<-t!pbDobhsmcfnDvpotfjqo!fu*b<p!m~g!!\v<$tjpgD!fOoVpNd`!EuJbSp`mMgJ!H<IzUbTd!f?e!!1u\vb!ptmugs!v<dfud!oEbjustfjdeu!jupbopbmmgM!j<hsipum!p|d!!w4fddf4w!!e<jospfjduudjfpsoj<e!!w4fddf4w!!d<pomppjsu<j!tcppqp!m4!dffowb!c|m!fuei<h!j~M<u!pvqoTj!gupdsvns!uEtj!s\vf1d!u?j!pToUbImHMJjMh`iUuP!QeTj`sNfVdOu!jgpjo$b\vm!M\vjghjieuotf]$O\vV!N~`!E<J*S*`1M/J1H)I4UdTf^w<!!>wap!jsep!mhpfdu/Eujishfjdmu)j!p>o!bfmmMcjjhtijuwJ/ougiph)jdmp!o<t*uz!bjdof!eE/jusifhdjuMjupoojbpmqM!j-hfiduo!beujtsjfed/uujiphojbMmuMojjhpiqu!--!fddpoobtuut!jjEou!iHhfjpmn)foupsjjudbDvpoofuufuyBuf!dhofbpuntfjuEsuzf-h!!p>v+u!!sJpomdpjde/fuoiuhMjjmh!i<us!pmmjphdi/uu*i!h|j!Mmujohjipuq/!d>p!msppsm!p>d!/eujishfjdmu!j<p*osbpmuMdjfhWimu)/iduphmopfsm<!!>m!jfhdioub/uetjjsEfudiuhjjpmo!!u>b!pemjgs!f<d*usjppuodbfmWMmj)hfi{uj/mebjnssfpdou!j>p!oo<p!jmujdhfisuj/ew/jutijhcjmmf!!<>o!pujsuvjft<p!q~/!z\vs$uffonepjfgh\v!!.\v!$ojpgj!uOjVtNp`qQ/PuJiOhUj`MMuJoHjIpUqT!!>?!!s1p\vu!dtfuWsmv!d4ud!fQwp!j|o!u*Mujihhijum!!|u!iwhfjdM4u!oqfpetjjduojJp!ou<v!pw!f-dz4s!udfpnmppfsh<!!ugymfpuboup!Dedjjtsuubfondpff<H!!gomjp!buut!oepfdd!b-zu<i!hcjpMpumo!jfpoqb!cumifhej<M!u~o<j!pvQo!jogjp!sunt!oQppdj)opugMojJhuiiuh!jqMpujoojupMQjuhfihu!te]jOpVwN!`<Q^PTJUOIUH`JM",e["lightsCommon.fs.body"]="gHjfeponff$u\vs!j<d*DupiohujfMyeuf!uhdffpmngffuss!z-<m!bhjfspfnufbuns!z-/zqsputfjnupjfpho!!->f!d.o!bwjWejbfSxuQbpptdjsubjfpmod<!!-hffdponbfjuesbzs/soJpmscnjb!m-!f>d!oobpjsenbbsm)<s!bhmfvpdnffquTsuzd/fwsjjfexoEJj`sF!S>!!\vo*pssbnmbvmdjf{qfT)uwdWfjsfjxeQopJt`jFuSj)peof*o<j!g\vf$ej!ggejf$g\v!!V\vTgFj`eDoMfF$B\vS!D<P*BuUi\vh!jhMfepfnufdufsmzg/fdsm!f-bmsbdjpsbfuuObpns!n-bzms!u>f!ndpmffhb!s-dfpdboubOjpesbnsbsmj<)!f\vt$vfgogejjEgu\vd!fJsojdejoeJf`oFuSM!j\vh*ifut!vegjgsjfEduudMfjshjieuo<J!`\vF$Sj)ge!f)oOjVgNf`eQ!PgJjO$U\v`!M\vJgHjIeUoTf!$?\v!!1\v*g!j%e%o!fe$f\vg!j<o*ftet)fSoFi`hEvjpsSfudbup*d\vs!bQfpmjdo/umMbjjhsifuu!bqnp!j-omubMnjshpiOuu<b!p\vd$sVbOfSmPdM/Mz`sMuPfPnQp`fThU!B-SsUj\vE!xgfpjsw!/)zjsouuf!njp!f>h!)1f<d!ojb!j=e!bOSVMNC`JQuPfJhO!U>`,M!JfHdIoUbTj<e!bjS!u,b,p*d!s|b!fqmpdj!o\vuUMBjPhDiSuB!F>M!Dq`pFjToVu!Mgjfheigujt$]\v!!j<!*^t<t!fjogi!h)vqppsj/omubMjjshfiuub/nf!o-bmcbmnfsep*o!/|z!shuffunQppfjho!u-MsjjhEixufJjowg/pz)squpfjnopufMhj)hfiduo-b!jhefbpSnMfCuJsuzf-h!!e>j,s!ffdduoMbjjheibus*!<\v!*SsFb`mEvjdsffqdTuu)defjssjfedouJM`jFhSi)ue-f!ohjfgpfnef!u%s%z!-*!QnBbNuWfOsFj`bFmT-V!)seffgomjfgdfuef!egMjj$h\vi!u\v*g<j!e~o!f~$!\v\v!$\vVgOjSePoMfM$`\vM!P<P*Qm`bFnOsEp\vo!/\vz$sfuofenjpgf\vh!)\vf$djogb!j)eObVsNs`JTMQCPJUu`fMhJ!H>I,U!Tf!d?o!b1j*e!b%s%s!Jemfcgjj!o\vf*eW)VS`FF`CEVjDs`fFdQuZ*U\v`!QTBqNpWuOMFj)heifuo!jtgqfpeu!M%j%h!i*uE<S!B\vE$OVBOUSTP)MeMf`oMjPgPfQe`!T%U%B!S*UQ\vB!NgWpOsF!`)FjToVu)!ejf!o>j!g1f<e!!jg!j=$!\vO!V\vNg`jTeQoPfU$`\vM!J<HfIdUoTb<j!ejb!s,s,J*q!b|N!utiqhpjumM!j>h,i!uf!d>o!btjqepbusMsjjh!i<uztu]j!tjo!f^u<o!Jjqgb!N)utiqhpjumM!j+h!icuh/sf/o*bmcfmyffeU*q!b|N!uhifhujTmq)psubMfjohjiMupJUoCgHpS)tt!q>p!ufMdjohbijue-b!shsfJpqnbfNuusizh-j!me!j4sdffdwu!M<j*h3iwuV*w<!!-SqFb`NEujishfjdmu))Ee3jfssfvduuyMfjuh!i>u!-m!fhyffpUnqfbuNsuzi-h!jnmb!u5fdsfjwb!m\v-Q!BsNfUgImHfJdMu`fFeTMVj!hgifue*g<j!$~\v!!~\v!*\vf$tVvOgSgPjMEMu`dMfPsPjQe`oFJO`EF\vS!)\ve$ffoojegjfge\v!!g\vj$$j\vg!!\v)gOjVeNo`fE$J\vS!`<M*J1H/I1U)T4!d?f!w1!*>!!%f%d!oebfjgejboSfueb)pSdFs`bEfjmsdf!d4ud*f\vw!!E<j*s1f/d1u)j4pdofbwm!M>j!hfiduo!bejjesbfsd!u4jdpfowb!m\vM*jshbimuv<d!f\vq$TVuOdSfPsMjMe`oMJP`PFQS`)TeUfBoSjUg\vf!eg!pgsj!$)\vj!o\vug!jje!o>f!$1\v<!!~j!!<=*!uOiVhNj`MEeJfSu`dMfJmHgIfUsT!<-!mjb!j,s,f*u!b|n!!e-jzssfudfunjppfohb!m-MujihhijuM!u>d!fesjjsef)duudjfpsojbEm`MFjSh!i\vu?tz]e!pjc!/^t<g!/jqgb!N)xepjesbfidtu=j!pfoebvmmMdjohji$u\v/!f<ofbvcsmuf!e>*!!f|m!chjftujEwj/sufidhujjMpuodbfmsMjjeh!i<uoJpojgupd)fesjjsef/duuijhpjoMbfmsMfjihqituj-n!fhif!p>n!foupsjzu-d!fesjjsef/duuiMhjjhMiuud*f<s!jSeF!`<E<j*smfbdnus)peoj/szfsduufMnjphfihu!--!uhifhpjnMffussfzi-q!tnjbnuffis)jfbdmo-b!jsefbgsmsfJduuifhejMMjfhsifui*q<t!j~n!f~I!u\vf$hV!O,S!PsMpMm`pMDPuPiQh`jFMOuEo\vf!j\vc$nfbo!e>j!gs\vp!m\vp$dj/gu!i)hOjVMNu`dSfFsDjUe`!B|S!F*Be`fMmJcHbIoUfT/!u?i!h1j*M!f%s%f!ieqftgjjnoffie))!SgFj`!E\vj*sufddfus`jSEf`dFuSB)seffbo*j\vg!fSef!dgujB$s\vf!b\vMgjjheiouf!$s\vf!d<u*BmsbfnbsMpjoh/izus<u!f\vn$pVfOhS!P-MfMc`pMsPQPuQi`hTjUmB)SfUd\vo!bgjpesb!s)sjJofuc!pjs!Q>u!i1h<j!Mju!f=h!!O>V,N!`fSdFoDbUj`eBbSsFsBj`!M<J*H1I/U1T)<4!djf,w,!*>!!|f!dsofbdjueBbssfsbjM!j4hdifuw!!><!*s1f/d1u)B4sdffbwM!j>h!ifudto]bjj^e<b!sjsgJ!m)csjf!d4udBfswf!b\vM*jfhtivug/gfjoEbucdmffsej*e!o|J!`SFFS`)Eejfsofjdguf`eS!fgdju$B\vs!f\vbg)jsefodfu$B\vs!f\vbEMOjFh`iQuP-P!Mh`fMpMnPfSuOsVz$-\v!!n~b!u~f!s<j*bumi-h!jsMfegfmufd",e["lightsPBR.fs.head"]="~t!u<s*vodpuj!tQvimzdtdjPdubomfNjbcunfbs!j,b!m1!/|2!!w.f!d*4*!1e/j2g!g.v!ttftDfpomiphsv<p!sg!m+p!b1u/!7s2p!v.h)i3oqfytft!<-!owpfjdt4v!mtdqdfPduvomfbjscDnpbm!p,s!<W!Ogumppeb)ux!ptqq)ffduvbmsbvsuGb:t1!<o!s\vv$ujfgse!f|g!!*VtTtFf`oDiMhFvBpSsD!PuBbUp\vm!gg!mopjb!uu!tdompfdb!s-doppbjut<v!mgdmdpPbuuo!fdjmcfnbbs!dupbbpumSgp!vohji!oufttotp<d!!w-fWdO4u!pdem!fubbspdmpgb!uoGj1!<u!tgomppdb)uo!pdjmtfvbmsdddpPbsubGm:v1d<f!q\vT$ffuoveqjngp\vd!!\vu$bjpgmegf!g\v!mVbTdFj`tTzIiFQF`Os\vb!mwvfddf4q!TtuidfffsojDepomJp`sF<S!!gsmbpmbvud!ftqiTfufdofSspjvehoiJo`fFtSt!<f!o\vj$gffoee$j\vg!\v\v!m\vb$djjgtezfigQ!`JfPtSv\vg!ggjmEpubduf!sjjpeso<J!`\vF$Sf!ofetjvgg\vg!j\vE$ujdgfesfjge!oVJT`FF`SU!SfBoOjTgNfJeT$T\vJ!P\vOm\vb!dgjmtpzbiuQ!`ubsfbsoBtundjftSt`jupdof<s!jgEm`pFbSu!!bufssbBoutdnfjSt`tujdpfosBjmEq`iFbS<!!fgomjpgbfue!$u\vi!j\vdmlbodfjtttz<i!Qg`mupdbfus!jbEu`uFfSo!vubdufjspjoEE`jFtSu!bfoodjfg<f!ew$f\vd!4\v!gbjueuoffo$v\vb!u~j!p<o*Dtpemsppsp<D!u\vd$ffso!e-j*g1\v/!2~)<4!uwbfnd!4-!odpmjfubjstdppqb!u-TsqjfEdxvfmjbws!!->m!bwnfsdp4o))1f/u1b*v<m!bwwfFd`4D!UtMi!f+f!osTpqmfpdDvfmtbvsg!g>j!ew/fmdb4j)s1f/u1b*n<!!+g!msppbmup!DJuCiMhTjimf!f>o,C!SfEtGv)gdgpjoEtuud!fjsoj!ew/fudi4h!joMpesfnubdmf-m!gdfpso!t~u!!<j*ot!ewsfpdp4D!uwdjffsx!E-jwso-J!nd!p-ootpuj!ujjot!pgqm!p-bsuj!Esxpfvjhwi!o-fmtbtn*s!p|o!)gfmupbbvum!bewpFu`ODWU!M>!!+t!bmufvostbfusfg)!e+p!us)pomppsDnubimh-j!mw!j>f,x!Esjbsm*v*d<f!qgTmupdbfus!jse3/!u>i!hsjpMvehfiuodfftmtg!f+s!!s<p*vzh/i3ouf!t+t!<*!sgpmmppbDus!bbm!v>d!fsqptv/hmibojfstftu!b=n!!1./!3*61!/@2!).44d4f:w/)3!!,+!!ys/33!u,!!+2!7s2p/m5p!D+s!bsmpvvdhfiqotf/tmtb!j.s!f3u6b/n:)!!;>!!.m9f/o5t9f!s+g!!s43d!f,w!!2<5*/!4*!x+/!2sup!v-h1i!o-f{t/t2!u.)!4:d/f:w6!<-!*g1m!p-b2u!!-c1!!>)!4sdpfvwh!i-o*fzt/t2!u=!!-11/!3-6y!/@2!u5)54/d1f!w+!!)s43u!b.n!!3>4!/w8o!J+n!!s4puvbhni!o<f*twtv!!,-!34`/d3u7m!);E!32f/s:v8u!y+f!us!3>!!.3!u4!/53d8f!w+!!<s*pwvvh!i-o2f`tdtu!m,)!E13/f8s3v<u!ygfmup!b>u!!2EuH!!5>d!ffwy!q<)*bt!t+f!oeiphuvOpWs!/,m!bcj*s!f,u!b)ns!p-vshjiEoxfftjtw!!=-!m1b/n3s6p!o@)!w1V/`1D!U;M!!1>/!2w!v+!!3)dsfpwv!h|i!o*fstbtm!v.d!f1q/T3f6m*c*b<t!jsef/uuvishoj!MtbbfusvBsubduffs)aE)H!!g+j!!S<FuDiJhQjSfPIDgBmMb`iQ!J,*!<i!u~e!jwXfgdm3b!iE!G,H!BtqpqQsupiyh)jdmp!o>t!u^!!j4o!!]wtfeds4p!poDpusdnfbsm!-<!udiphojtfuI!gjmob!iw!f,d!4i!uwejjfXxgEmjbsi-!!.d!ptoptQuu!ijhoj!mg!m>p!b^u!!3s!p]vtheisopfptDtu*d!f|s!!g<mupibhuj!feIpgumObWi!!>.!!tibuuevjsXbgumfb)ie!p.u!)toppQsunibhmj-m!!w>j!f^x!E2j!s]*t*e<s!pdppDoutduf!sw!f<du5i!hdj1f!I>g!mwbfid!5.)!.i!u2e-j!X.g!m1b/i1!3,8!6t-p!Q.u!i1h/j6m8!3>-!!^1!/11!3]3t*e<s!pdppDoutduf!sw!f<d^5!!5d!2]!t>e!swpfpdD5u)d2f-s!!14/d1f5w3!6<-s!p2m/p1d5/-u!i.h!j1M/b1f5s*B<u!dwffsd!5>!!ss!p>m!psDpuvihhijomf!t4td!f+w!!d<1u!i,h!jdf2I<g!mgbmip/buui!hbj1M1b5f!s>B!undjfos)!s>/!yu!i+h!jsf/Iyg-m!bfiy!q43d)f.w!!:</i3u9e!j+X!gempbuiO/Wu*i*h!j+M!bsf/syB!u,d!fss/!z><!!iwufedj3X!ggmbbci!!>4!dwffwd!3<)o.p!j2u/j1t5p-q!/2u/i1h5j*M!b+f!sbB1u1d5f!s,!!>s!/t{pxQ<u!ishfjumv!s4od!fgwb!c<<o!p~j!uwjftdp4q!/Fzoswujfsnppofnhf!o>u!CoSpEjGu)jdtppoqt!u4!djfow!!w<fsdj4E!xofpjswn/bzms-u!fdnppofthu!!>j!os!jwEfxdf4j!ww!j4fdxfEwj!s<-m!bdnpsoptou/!zjsou!fwnfpdf4h!!t>q!fmdbvnmsbpsoD!p4mdpfsw-!!|d!p*outiuh!jjMoe!fgumdpfbmug!ftsq!fudivhmjbMseGf:u1d-f!mdgpfoSt!uu!vjpoo!jg!m-pmbbuj!ssfpuvbhni!omfbtjts*f!u|b!Nwmfbdd3j!tgzbicQ!!>o!jE!GuHtBoqpqds!p-yz)soupfsnnpbfmh-!!uwyjffuxoEpjDsd-j!ssupfvnhpifoHf!totj*!<u!tsofpudv!s-ou!ithqjfMdbvfmsbBsuDdpfmsp!su!i+h!jgMbbcf/syB!u,d!ftSq!fodjv!mubtsoGp:d1)!m+b!dgjbtcz/izQ<`!b~f!swBpujdef!Sd`pundqfvsujfEN`vFmSu!jetjdpbwu!u\vf1s!j?o!hT)UdIpHoJtMu`!BjFoS!Bw`fUdD4F!So`pNsVnOb!mg-j!$d\vp!o~t!u<!fjdoo!bwjfedb4s!swJjeffxuEijhsj-f!Xdfpoojttup!dj!o+!!wfftdv4g!gtjqef!d>v,m!bfstDvpgmgpjsE-u!ddfpsojteuo!jj/ou!ighmjpMbeuf!utdqffmdgvfmsb!s<Gf:d1o-b!jdepbostsuJ!ejfou!ighmjpfbXuf!osjptvphdi!o+f!thto-j!sjfoupuvbud!Twjfudm4v!nt!j>o,h!msfbTmdvbdufuqfTsu-d!fjsojpevouj!/wufidh4j!MnevfmuudjfTmdgbfusu!f<sh*o!j|s!fwufudb3d!Tgfbmch!o>j!tE!G+H!Bfqdqosbpjye)bosp!s>n,b!ms-b!mwvjdffxqETjusd-f!ssjpevohji/oufithtj*M<e!fwufddf4m!gGftst!F<t*t*!h>o!jtsqffuduvbmdbTsjDupmmvpns!!,+!!hgobjcs/fyu!u,b!dtTqffmdhvomjbts)G!:.1!!1+/!2g)b!c+/!zs<p!mgpmDpfbtuv!gFgtjte!/>m!bgjbscf/uyb!n,!!>g!bfct/vzg<g!jgem!p4bduf!wF!n<t*!h>o!j2s/f1u!u.b!dFTtjtu<m!vwnf!d-4h!oGjbswfhu!u>b!dtTqffmdhvomjbts!D-ptmtpfso!i,h!v)p2s//1m!b.j!stfqufbdnv!m-b1s:DGpsmbpmsv*d!f+q!t1//m1b5j8s7f2u:b<n!!w-fsdp4m!pGDnstb!m>v!dGftqttF/tmtb!j+s!fGubbwnh!!-0s!j)E2x/f1j!w./!zFsnutf!n+p!fGhb!w-hm*b<n!stpjoo/hzmsfuTfdnbpufuhf)sh!o,j>s!fGututbFdtttj<u!mnvvNmfuujvTqdnbpudu!f<sJ!Q,`>M!BGDnPtS!Q+J!DFFnSt!<+!!~f!dwopbjjee!bSsFs`jE!j>s!ffdduo`bQjiezbtsjsdJbemf)udiphojtfuX!fjooj!tJpodd!j4edffowu!M<j*h1i/u1!)e4jdsffwd!u>M!jhhoijus-f!udupbodtTuj!ujmov!nH!f4pdnffwu!s<j*d1D/p1o)u4fdyfuw!!h>f!phnofjussfzu-u!bddpToftmuh!ojjot!!Q4idzftwj!d\vbgmjNebouff$s\vj!b<m*!tntbfuofishjvbpmS-o!fjfoiptv/um!bSjfsgfmufbdnu!f-esMjjEhxifuj!ws/fzgsmuffdnupffehM!j-hmibun*s!p|o!/gzmspubfun!pefphu)OGME!S>C!otfbfuivTsMbCuJf!)+e!psup)mhpfDponfffuistz//mobpjssnfbumb-n!!e+j!sffddoubMjjehbisus/je!j>s,f!dsubjmpvod*f*q<T!owfffdi4t!!j\vsOsFbFeIjTb`oFdTfV!!>g!feepgujO$M\v!!+\v!gejjesoffd$u\vM!j<h*itut/fdopimhpvsp<S!u\vb$pjdgsebffgm!dV/TmFb`jDsMfFuBbSnD!P-B1U:\vG!ugbmppdbsub!fempdu/OmMbdjds!f>u!btnb!u-v1sGbuubfp)despbuf)mhdf/pmnbfjussfzu/bdnm!f-bssjdEpxbfujOwp/sznsbumf-n!pefjhs!f-dmubMnjshpiOuu/bepjdssfbdfumjdp/oz*s*u<f!nwpffdh4)!GdEdSJCsusobfenjobposdjfw!o>F!!e+p!ufOdModbdj!e+b!SeujbspfddsubMfjmhdi!u>/,d!psmbpmsv<d!fdqmTfubbspddpsbbufTmqdf!d\vvUmBbPsD!S,B>F!MdDd`JFsTsVb!egjfbeogdjf$!\v+!!|C!S*EuGi`hHjHMYe)feujdsffmdgufMsj!huiiuh/jeMjesffuddufjmpgof-S!!hufvppnofju!s-zm/bwjjsffxuEbjns!-m!bhjfspfnufbuNsmzb/ddjmtfzbisQd!pobju!Ouptsonpbdm!--!znsbuuffnspjfbhm!/udymffubospdDpdbjusGu1f-n!pnfbHu!fosjj!bumt/odpmdf!b-sfddpobbujGe:b1S-u!bnpbdusfbsfjmbdm!/4ddmffwb!sodjp!buutSoppvdh!i-offdtotb*j<e!b\vs$sfjo!e4jdgf\vw!!\vo$jj!guetfogp!dV!T-Ff`dToIbFjFeOb\vs!!t4idfffwo!Toqjf!duvtmobpsd!),m>b!djjstszbieQj`bsobdmfv!d+f!qCTSuEdGf`sTjiefofJo`)FeSj!sefjdpuwM!j~h!i<u*/sepjmspfDdfutjvpgog-j!eh/fmpbnjfsufsuzb/nw)jufsxfEcjnsb-M!`hGfEpSnCf!u+s!zf/doopbsjnebbms-s!jn!b>u,f!sfjtbvmg/gtjiEfufdofDspjmeposj-/!unibhujfMsejfbumd/ftmigfffso!S|p!v*huiiohfjtMte*f<u!d\vf$mfgofesj!gu\vi!hsjfMgemffudduffmegMfjSh!iuuv/peojjs!f-dmubTjqsffduvbmnb!sm!b,j>s!fjusbsNbmebjdbjotdzfi!Q+!!oCjS!EuGt`oHpHdY!)-ezjssuffdnupMfjhh!iuuy/feujospfDddujjspuof-n!phffHp!nofju!suzt/owpjdf!x-Efjdso-b!jhefbpsnsfju!s4zd/fowp!sonjb!mu-t!onpbdu)fmsbjdbjmt/ztiqQf`dfvtmvbgsgDjpEmupdsf-s!jnebouJf`sFjSb!me/jtpqwf!d~v!m<b*ssGp:m1p-D!fntbvugfgsjjeb/mm/bsjpsvfhuibonf)tuts*f<c!nsbfMg`mGfEdSuCf!e+M!jfhdioub/jeejbssfsdju!E>j,g!gfvt",e["lightsPBR.fs.body"]="gQjiezotfj$d\vb!m\vNgbjuefosfj$b\vm!!<nbb/u*fwsVjwb!m-<q!bnNbtutffsojibhmv/peSjogfgfvittf)DEp3mfpssv!u>y!feuj!g>g+v!ttftDfpomiphsv/psShocf!f+i!t)/2m/b1j!s.f!unbfnu!b\vmQoBfNtTtTGFbOdIuHpVsP*S<O!FwFfIdT4`!FeTyVz!!g>f!engbjy$)\vb!c<t*)1e/G2e!y-)8h1f/p1n!f-utstzfOopishnvbpmS*o*f-f!ibtc)tq)nebGmedz!)>h!ftptnffouishzvOppSsonfbfmi*t*/*m<b!jgsmfpubbun!!h\vfgpjnefoufs$z\vS!p<vchhiso/f*t*tw!V>w!!n-bqyb)Nnsbpym)peDyozf/fyi-t!)eEy3zf/szv*u-y!feuy)zs/b{f*o<j!MnpbUumffsyjfbUmq/bsNpsvphmipoDfotftf!i>t!!n>b+y!)ssppmvphDiooffftittG/bmdbujpssf-u!b1n/!1\v6Q3B6N*S<P!MnPbDuOfFsFjIbTm`/FsTpVv!hgifoefgtjt$!\v,!><!shpfmppnDfoufsfziStp!v>h!isopfmtptD<o!fnfbiutf/smjbbjms/fsupbvnh!i\voOfFtFtI!T>`!FnTjVo!)gnfbeugfjs$j\vb!m\v/gsjpevohfi$o\vf!t<t*-1!/22/!1-*t<t!fnobiuhfvspjSbumb/ptdqsfbdfvmmdb/smDbpjmspfsu!b>n!)nojjyn)!w>f!dt4t)f1o/i1h5v*p-S!uebjpgdgsvbtffmDdp/mmpbsj/ssfhucb-n!!n<ftutbfmooifhtvtpGSbzdsuupfsn*p<f!hn!b>u,f!stjtbfmo/ithqvfpdSvumbbpsdGs:b1f!m>d!/2m/b1j<s!f\vu$bjng!e<f*g6!3J6P1S/\v1!!n-btutffsojibhmv/pjSpusb!p>d!sjbpfsm<d!/\vm$bjjgseffugb!nT)QyFbDnV!M>B!St\vt!fgomiphbvup!StuqbfpddvsmbbfsmJdo/umfbojtsjfuuzbGnb!d<u*pusb!p>d!stbqffmddv/mmbbsjJsofuufbont)jfuuzb<s!vwufbdt4!!>t!qufbdpvdmsbbsfDmpdm/pmsbGjbsdfuupbsn!!>\v!gtjqefodfv$m\vb!s<Dzp/m*pwsV<w!!n-bqubfNstjtbfmo/ithqvfpdSvumbbpsdGs:b1f!m>d!)nEj3yf)stvqufydfvum!b>s+J!otutffootijhuvzpGSbudbuppdss-b!f2m/d1/-m!bnjfsufbumbonf!t\vtQGBbNdTuTpFsO*I<H!V\vP$Sf`mUtBfP\vD!SgBmFpMbDu`!FtTqVf!dgvfmebgsjJ$o\vu!f\vogtjjeuozfG$b\vd!u<pys/!*>w!V2w/!1-<q!bwNfudb4p!dtsqbffdmvdm)bEs3DfpsmvpusyGfbud!u>p+s!!u>b!pwdfsdb4f)m2d//1m*b<j!snfbuubfns!j\vbQmB/NtUqBfPdDvSmBbFsMGD:`1F!T>V!!2g/f1e<g!j\v$$\vf!o<e1j/g2\v!!>n!b1u:fGsujbbpmd/stbqffmddv/mmbbsjDspfmupbsn!!><!*n5j1y/)1n)j4od)fqwp!x>3!)1)Gnubbupfdssjbbfmm/dj/pmsb!j.s!f2u/b1n*!!<0t!t)fnobiuhfvspjSbumb/pjdpssb!f,m!d2!/>1!*t*t!f+o!ithqvfpdSvumbbpsdDspbmfpmsdG/bmdbujpssf-u!bwnf!d<4u)b2p/d1s*b*f!m+d!!t>q!fudbvpmdbssbJfomudf/omtbjjuszfGubbdnu!p\vsU-B!PeDjSgBgFvMtDf`DFpTmVp!sg/fsehgcj-$!\vn!f\vugbjmeoofft$t\vG!b<d1u/p2s!*><!!1\v:$Gfsmbtmfv\vd!fnqbtu/fmsbjjbsmf/utbqnf!d<v*msbpsuDdpbmGptst!f>o!mnbjuyf)nw!f-dc4h)s1//s1p5m*p-D!fetjvgg",e["toneMapping.fs.head"]="g$jjego!fa$e\vf!g~j!o<f*es)pVmTpFd`)VfCuPb*s!v%u%b!t)!eofsgvjuoffse!)<VstpfmMpjdo!f+b!suUbpNoufvNqbuqvqPjToFhD*B!!}>}!!sepfmgpjdo!f<e*)sVptmfpSdf)juojiGbUsEePUepooBfUNSbSq!q>j!oshp*m!p}d}!!<esfpgmjpodf!e+)!VutbfNDujvoqfopJoTUFpDoBf!N>b!qsqpjmophd*!!<}7}/!1e!f0g!jfosfvet)pVqtyfFBhDoFjTqGqjbmNnfjodpUup!o>f+N!bsqpqmjpodh!*<**\v!!*v3o1j7g8p1s/n2!!g-m6p1b7u1!1u/p1o.f!N-b8q7q4j8o1h/F1y.q)p4tdvfswf!<-!*\v7$8f3o8e1j/g1\v.!!\v-$4j2g9!1e2f/g2j!o-f9e1)2V4t6f/M1j.o)f4bdsfUwp!o-f*N8b3q4q1j1o/h1*.\v!!-w9f1d341!2M/j1o.f!b-s6U8p5o1f7N/b2q)q4jdofhw)!w)f4du4b!nd!p>m!pusb*N!u|v!qsufvuPvTsFoD!Bu!p4oufbNnb!quqtjoophdF!y<q*p!t*v8s8f8!4+9!/d1p!m-p7s7<6!2~1!/\v1$!f-o4e3j9g5\v1!/\v1$)j4gd!fewf!g-j*o4f9e4)4V2t/f1S!f-j5o4i9b1s:e/U1p!o-f9N6b5q6q4j/o1h)*4\vd!fwwf!d-4*!1S5f9j3o1i/b1s!e-U1p1o7f8N1b/q1q!j-o:h2)8w:f6d/41!)d4pdmfpws!*)!4|u!bdnp!m>p!su!b+N>u!vuqpooJfTNFbDqBq!j4ouhbFny!qupttovpsdf!<|!!s*fsupvmspod!!t4bdufvws)bhuofj)qdqpbmNpfso!p0U!d)jwnfmdj4G)T2F/D1B*!!4,d!fdwp!m~p!s<*c*!<0!!~b!!\vo$sfvouefjsg!\v<!2\v9$1j9g4!3e/f1g!j,o!f*e1)2V6t:f3D4j5o/f1p!o,U!pwo!f+N!b:q3q8j4o9h:*/\v1!)w!f+d!4w!!P>q!ucj!n4jd{ffwe!D<j8o4f6p1o:U1p1o1f1N/b1q!q.j!o*h7)9w8f6d543!1d/p1m!p,s!*w!)|!!+d!pwm!p>s!!b+!>4!dufpwo!f|N!b*qwq!j4odhfFwy)qupjtGvUsEfP<e!odBpUmSpSs!!4>d!fnwb!y\v)*whfodj4q)q1b/N1f*o-p!Uddpjmnpmsj!G.T!F1D/B1f1t5V*)<e!fsofjugvfseo!!gqjp$x\v)!)\vdgpjmeposf!$+\v!!)~7!/<3*!*+3!/d3p)m4pdsf!w,!!-1*/761*/*1!!0,!!)*d8p/m2p!s,!!+s!p)m7p/d3!!+",e["toneMapping.fs.body"]="g$jjego!fe$f\vg!j<o*fceh)sV/tefJM)jhoofjbqsqUbpNoffoNpbUqdqjjnomhj*G\vT!FJDeB/!s>h!cc!h>s!/MejJo!f\vb*shUopjoqfqNbbNqfqojpoUhd)jJnem/jsGhTcF*D<B!f\vt$Vf)mejfgo!jegffgej!ogfjem)fV$t\vf!S<f*jcohisb/seeJU)phoofjNqbqqbqNjfoohp*U\vo!pJfeo/jsDhecf!{>j!nSjfujqoPi!b>s!ecUhpso/feNJb!q\vq*jhoohj)qJqeb/Nsfhocp*U<o!p\vf$ofjmDjfgt!Ve)fegfjo",e["output.fs.body"]="g$jjegoeff$g\v!!V\vTgFj`eUoSfB$O\vT!N<J*TbT/JsPpOm\vp!D\vf$tjvggegfjge!!P-QuBiRhVjFM\vh!owjfpdh5u!vJpe)!5>d!fwwf!d>5!)epJv!u5hdpfjwo!h\vMfjthmifu$-\v!!n<b*u1f/s2j!b-mu/iuhsjbMohtonjjpthtujvppo)B5mdqfiwb!!>,!!e1J/!25*d<f!w\v!$\vfFmVtRfB\vQ!Pw!fgdf5e!gJje$!\v>!!\vwfftdm5f)$p\vv!u\vhgpjjeoohfM$j\vh!i<u*-*!2e/j1g!g,v!tbfiDqpmmBposp/jbt!t+j!n)tnobbusfus/jmb",e["instancing.vs.head"]="g$jjegoeff$g\v!!V<TeFf`dJoObTuUtBoOJDyJjOsHu`bMNFuHiBhDjZS\vv!!v5oujbgnp!snns!pcgpjpomv!!v<VetffdJoobtuutbooJdyfj<s!u\vb$Nfbo!e5jugb\vn!!\vf$ujvgc!jesfugujbo!f\ve*)EVFTEFB`IJTO`TUUBBMOGD`JHOOHJ*D!O}B}U!TeOfJg`jFoTfVe)",e["instancing.vs.body"]="g$jjegoeff$g\v!!V\vTgFj`eJoOfT$U\vB!O<D*J*O*H1`/G2M!B-Um`bTnIsBpEOFuEd\vf!k\vc$pj)g5edffgw!!V+T!Fy`jJsOuTbUNBmObDnJsOpHO`vM)F4HdBfDwZ)\vf!{jjgm!b)nvsVptof!J>o!tmubbnosdpfO*w!!|\v!futsmbfo$t\vg!p\vsgnjfeeo!f>$!\vb!N<b*u*s1j/y2J!o-tmubbnosdpfOeu!d+f!kvcSpj)h5idufNwb!u+s!jyyjJsoutbuNbmobdnfsep!O+v!)u4sdbfowt!g>p!smnbfnes<p!O~w!!\vf$tfmmft!f~\v!!\vuZsDbBoHtFgMp`sHnOfJeD!O>B!UwTfOdJ4`)FbTNVb!ugsfjeygJjo$t\vu!b\vogdjfeeo!f+$!\vv!S<j*h*i^u3N]bnu!s-j^y3J]ont)uubpoed!f-e*!^+2!]wnf!d-5^)2u]snb)outpgep!s-n*f^e1-]!n2!/-1^*1*]<n!)\vu$pfeo)e4jdgf\vw!!\v0$!fumotffh\vo!b\vU$ujdgfekfcgp!!V+T!Fn`!J>O!TuUoBfOhDoJbOUHu\vd!f\vk$cjpg!e\vfUgO!FVHTOFB`UJ`OFTTUVB!OgDfJeOgHj`$M\vF!H<B*D*Z1\v/!2j!g-!m)bvnVstpfOJwo!t+u!bno)d5fd*f!w|!!+u!sybjostugbpNsmnbfnes!p>O!vb)N4bdufswj!y>J!omtbunbsopdOfwe!!<+*!*v^S3j]hni!u-N^b3u]snj)yuJpoet!u-b*o^d2f]en!!+-!^u2s]bno)tugppes!n-f*e^<1!]\vn$!f-m^t1f]\vn!)uuspbeo)t4gdpfswn!f0e!!m>b!nwsfpdO4u)dbfNkbcups!j>y!JmobtnusbpoOdwf!e<!*+e!fvdSojbhuituoNJbyujssjuybJNoutiuhbjoSdvf!e+!!+e!fwdfodb5u)tuosJbyojtsgupbsNnbf)e4-u!b2n/!1>*!*n<!!4\vu$bfno!e\vjg",e["envmapPhong.fs.body"]="g$jjegoeff$g\v!!V\vTgFj`eFoOfW$N\vB!Q<\vz!uwjftdo4f!udobJnqfbsNbwUopfG!s+b!hi!u>h!oofpssunTbsmbjm{vfd)fwqXtp!s+m!e{Qzpyt/jsupjmppoD!w.o!fv!D>b,n!fusibhQjpMthjoujjpphou*v<p!!w\vf*dE4E!Bx`pHsOmJeEOOpFsMnCb`mQ!B>N!WjOoFw)fesftofjUgsfbeo!tggjpmsfn$E\vj!s<f*dzuujjptoo)fouposJnqbbmN-w!ovfW!j+f!xiNubhuosfjsyu*T<s!b\vm$vjdgfeqftg!!-F{OzWyN/BsQp`mNpPDEwFo`fS!F-GuMiFhDjUMJhPoOj\vp!hwufvdp4)!ysjfng!m>f!duuiWhfjdM!h>o!jspfhgumvfpd!u\v)*dYbJnNf`sHbOUJpEGOsFbMhC-`!QxBpNsWmOeFO)pesfnobjmg*f<e!!\vg$jfmmft$f\v\v!!<w*fzdu4j!tsoffgumofJdqubWNfwdo!f>!!+s!figushbodfus)udTbsnbfmsvbdUfpqGts!b-h{-z!yx/psspmmepODpwsonfb!m+-!!usifhgjsMbhdoujjpphouSvbpu!j-pu*i<h!j\vM$hfoojepjhgu\vv!p\v)$yjjgne!f>g!!uFiOhWjNMBhQo`jUpZhQuFv`pD!V\vCZFM\vQ!JwUfMdV5N!`fHoOwJDEpOmFpMsC!`>Q!BuNfWyOuFv!sgffDevgcjf$)\vf!o\vwgnjbeqo-f!$w\vf!d<4*)1g/m1j)q5FdofwwN!b>q!!s+p!mspfDgwmoffd!u5Wdffdw/!y\v-f!tsmffg$m\vf!d<u*W1f/d1/!z-{d*f*W<u!d\vf$mfgmfjsg!!-eqfbgnjwooffe))WFVOfWcNvBDQf`sUvZuQyFf`uD!V>C!Fs`pVmWp*D\vw!owff!d5",e["lightsPhong.fs.head"]="htoupsivQdouo!jCmmCj`ofotQvigpgojhENubduffssjjebomJ!`|F!Sw!ffdt4v!gegjjgEguvdtffsDjpemopJs`<F!Sw!ffdo4j!gtfqef$d\vv!m\vbhsoDppimQposo<j!mgCm`pubduf!stjqEf`dFvSm!busdTfisjjoEj`oFfSt!tf<o!jggmfpeb$u\v!!t~q!f<d*vsmpbmspTDufstfvoghgujie</!m~b<j!swfpujben!)SuFs`fEcjnsbfMd`uG`ECSmCj!o+o!Qfidpoobhj)edbpsostju!!>j,o!!fJtovdgjgejfEouudMfjshjieuo!je/jusifhdjuMMejfhuiduf-m!gdfpso!t|u!!*juoi!hHjfMpenffuudsfjmdgDfpso!uufiyhuj!Mheffpundffumsgzf-S!!dupvoptouj!!j-om!bCjmsjfouobQni!pmobhjNsbfuufbsNjhbomp!inQbouofjsmjCb!mo-j!!juotpovpud!!S-fzgsmuffdnupffehM!juhyifuu!ospfDgdmjfsduuffnepMfjHh!iouj*!!u|t!ogpmdp!b-uf!deopbujOeMb!s>s!jt!b4udvfswb!uofj)!euptuo)phdf)phnofpuisQzo/oojpmsCn`bfmt-v!gegjjsEfuddufMsjjheiouJ/`eFjSs!fedjupjwp!o~*!*<<i!uwhfodf4s!ujTsssbbmevjdbfoqdtf/!m>b!jespfuuObMn!!++!!e*jtstffdoujMojjhiiTus/bdmpvmdpfsq<t!/smfbgjmsffduubfne!M-jshpimup/DesjbsmfvddufEqjtg/gmvbtjfs!f,u>b!nj!s-smbbenjsbpood/fz!s+u!fCnSpEfGh`!M-bsnjcEfxsfuj)wn/bzusfusfjnbpmf/he!j-gogpvjtufdDfpsmjpes/*u<i!hsjfMgumdffdsujfee)MhjohpiiuQ/oeojjsmfCd`uGTEqSfCd!v+m!bfsd!o,b>j!ejbss",e["lightsPhong.fs.body"]="<CimujhooofQsiupToshbNmbvudffsqjtb!m>!!nibuuhfosfjsbumT<s!bnmbvudffsqjtb/mm/bejjsgfguvbtnf!D<ptmtpfso!j>o!jeijtg!g>v!ttftDfpomjposj/isThscb<m!vndbfuqfts/jmbbmj/stfqufbdnv!m<bssbDmpvmdpfsq!t>!",e["lightsLitePhong.fs.head"]="gvjoejogfp$s\vn!!\vg?mTpGboup!jvuIdffbmegmfjShwiouFSfbcovhdf=<!!fveovjmgdposjn$!\vg!m~p!b<u*!{vzIyf/b*eymjjshuibunB!n+c!j*f1o/u1J!o-usfjoet)j5udzf<w!)v)ofj{gjpmsbnn!swpfod!5o!svvIuffbse!m|j!h*iyujDspumbpns!<5!uvbonj!gopjs!n-!swjfed!44!dvfIwf!boejm)johpijuuEdjfssfjdEunjsppog<t!o\vb$sjUgf!tOsVfNw`oEjJ!S4`dMfJwH!I\vUgTj!e?o!f1$\v\v!!v~o!j<g*pxs/nf!vwmfbdw5!!-v*E*jSsPDUpDmBpGs`]BONVNNB`HE)J4Sd`fMwJ!H-I{UzTy^/<f!vvmobjwg)pxspnq!)w5fddf4w!!voEsjvsuEfjss!f|d!u*jfpvom]bOwV!N5`dEfJwS)`sMbJfHoIjUMTp^U<m!f\vy$ffUoqebjNgw\vo!f\v!$5jdgf!wO!V\vNf`tQmPfJ$O\vU!`~M<J*H!IbU/Tf!v?m!b1w\v!!-v*o!j*g!p*s!n*!!w9f1d452!4v1Q1p/j1o!u)D4pdmfpws!]-OcVhNs`/QfPvJmObUw`!M)JmHbIvUrTF^o<b!ivUotjtgfpms!n)!4gdmfpwb!u-!3v:Q/p3j2o!u+S!bcohhsf/]fOvVmNb`wQ!P-J*O!U6`6M1J/H1I!U)T4^d<f!wv!o.j!g6p6s1n/!2w!f+d!4*!!v*Q!p7j7o7u2Q5p/t1j!u)j4pdof]wO!V-Nc`hQsP/JfOvUm`bMwJ!H)IxUpTq^!<)!y\vj$nf!o)e5jdgf\vw!!\vo$sjvgu!fOsV!N|`!T*Q!PfUv`mMbJwH!I5UdTf!w?!!o1j\v!!)vCoHjSgtppsUns!bwffodj5M!!v5Tdqfpwu!D~p!m<p*sb]/OfVvNm`bTwQ!P-U*`*M*J*H6I5U1T5^1</!1v)o4jdgfpws!n-!cghmsp/bfuv!mvbTwq)pmubFvyrqFpoobfioUut]tOfVmN)`4TdQfPwU!`-M9J1H9I4U:T:^4<8!8v1o/j1g!p+s!nc!hgsm/pfbvum!bvwT!q-p*u*B5o/h3m)f4]dOfVwN!`-T*Q5P2U1`8M3J4H2I3U6T1^/<1!)v4odjfgwp!s,n!!7g9m:p3b8u7!9v8T5q:p/u1S!b+o!hcfh]sO/VfNv`mTbQwP)Ux`pMqJ)HyIjUnT)^5<d!fvwo!jogspvsunf!sw!f|d!4*!fvvTmqbpwu!Q5pdtfjwu)jspbof]oOjVMNp`UTmQfPyUf`UMqJbHNIwUoTf^!<5!dvfowj!g\vpWsVn`!FwCfVdD4`!FvQTZqUp`uQEBjNsWfOdFu!jgpfoe]gOjV$N\v`!T\vQgPjUe`oMfJ$H\vI!U~T!^<<{!z\vy$/f*o!e*jxg/\vu!b\vv$rj!g-e{f/gu!bVvTrF.`!F-OzW/NuBbQv\vr!.v!o-jyg/pusbnv!rc.p)p5md!fvwV!t-fwFro!w)Nubbqv<R!uvmovjng!possnv!ugfmsp!b<u*!!f*o1w/N1b!q-Jdofuwf)o5tdjfuwz!<-!u\vb$vjrg!e)fugb!vFROuWmNvBnQ!`>U!ZwQrF!`5DdVfCwF!`|V!W*\v!!dvfowj!g4pdsfnw!!t-bunbqvmrf!s53dEf!wv!F)oswpNubdqf<W!fvuobjugppss!n4!dgfmwp!b~u!!<s*p!v{h/i3orf!t+t!<{!/\v2$rf!m.t!fz\v/!3vro!j+g!pzs/n2!rt!b.n!qym/f3srD!v+c!fy!/v2Fro!w.N!bxq/<3!r\v!$+f!oxe/j2gr\v!!-dzp/o3tru!!+g!myp/b2ur!!H.B!NyN/B3`rG!B+D!UzP/S2!r>!!,3!/x1/<3!r\v!$+j!g{e/f2gr!!F,O!W{N/B3Qr`!S+P!UxB/U2Fr\v!!-vyo/j3grp!s+n!!{w/f2dr5!!.v!F{o/w3nrb!q+R!vyb/u2<r!!w,f!dx5/!3nrv!m+u!Rzv/b2ur)!w,f!dz5/!3rr2!-+!!wxf/d25r!!r-3{*/!3|r!!s+f!uzv/s2or!!w.f!dz5/)3rr2!/+x!!{+/!2rr3!/,y!!x,/!3rr2!/+y!",e["lightsLitePhong.fs.body"]="gjjge!o)fv$I\vf!b~e!m<jzhuijutDopfmuposJ/qxb!N>w>o!f1!/+1!*{!z|y!/gsmppmbpuD!wmobfn!c>f,s!ucUhfss/ne<J!!j\vgg!j)evoIff$b\ve!m<j*hsipumEpjDswfodfu)jspbof/oyj!M>p>U!m1f/y1f!U%q%b!NvwIoffb!e>m!jshpimupEDjwsoffd!u<j*p*o{/zz/!d>f>W!u1d/f1m!g%f%s!!v-Iyf/bdefmWjuhdifumEgjfssf)d4udjfpwo!/-{q!b>N>w!o1F/v1)*f!cmvbDnfcsfvsuuyUffus!n>!!>s!pemppuD)wOo-f!!.5Md*f<w!!f\vmfttfm!fm$b\vn!c<f*s*utUtffsoni!h>v!pesp!u-)*O{-z!/.dvfIWfubdefmmjghfisu!E-jys/fddfuWjupdof*m<g!fmsb)n4cdffswu!U-fqsbnN!w>o!Fnvb)yW)VmfbcnvcDffssuvUufysfnu!)+C!H)S2t/p1U!s.b!fvoIjfMb!e>m!jshpimupBDnwcojff!o5udJfowu!f\voWtVj`uFzC*V!D,`!FvQIZfUb`eQmBjNhWiOuFB!ngcfjefgoju$J\vo!u\vfgojtejoufz$-\v!!1</*1m*b<n!sjpgO)evmIsfpbxe!m-jyhfiuusSfbWophUfb!s?f!n1b/d1)*u|d!fmmbgnfcsf!s>u!UdffsWnu!d+f>m!g2f/s1!!4.d!fnwj!o\v)fmtfmofh$u\vi!)<w*N*w*QmpbtnjsupjOpeom*s0pvxI!f-byefmujshfiWupSUbboshffn-b!d2)/u1d*f<m!g~f!s\v!$-juobdvmRvqebfn!w=otFivb)esppxuNdbfqW/fgutb/ucppse)zf?{\vj!mJben/ssphoc!!>+!>d!fmWbundcffmsgufUsf!s4nd!f+w!!v\vIFfUbBeUmPjSh`iQuBDNpWmOpFs!/gsfhecg<j!$~\v!!\v<$*jygj!sOuVbNN`xEfJjSW`vM!J-HOI)UoTp!j?u!d1f\vs!jgEpnss)pjgotuo!bjs>U1f<t!sjf!w=o!jO!V>N!`mEbJnSs`pMOJeHmIsUpTx<!!4jd,f,w*!!<|*!ojpgj)uvjEtjpsQDbpsmfpnsb]Djv^!/.x!!o>p>j!u1j/t1p*Q|e!mJsep/Xswh)cf!{,j>m!bnnbsyp)oe!p>u!)yOf-u!s.foWppsUnbbsmfjn{bfd)!v4EdjfswE!j|s*fqdbuNjwpooF]fjt^V*v*)-!!g1j/!1\v*Q!B+N!WvOEFj`sFDTpVm!pgsf]ejg^j/$s\vh!c\v<g!j~e!o~f!$\v\v$!f~o!e~j!g~\v!!~\v!$<jcgh!sO/V^Nj`]QsPpJmOpUD`uMpJqHTIvU!T+!!?u!d1f\vg!ggFpusp)qjto!u+!!jf>h1o<b!Sjm!!=+!!O*V1N/`1Q!P-J*OmUb`nMsJpHOImU.T!<-!Oj),u,p*e!)|y!bjng!)>v,Q!pcjhosu/DepJm!p<s*]1j/^1/!x-!*>^>j!]1u/o1f*o|p!qwyfFdu4p!qmTWvf!d-uupdsf!g>g!FwuNpwqQtp)txjpuqj)pyob!n.!!>v!QupdjfogugQFputpjqutj!p|o*]^jj^]<f!mghmopBbuup!qmTSvb!o?h!fu!d>f!g2g/F1u<p!qjtg)!g)jv!Q<p*jmobunSsbpoOhmf!]-j^^j!]?o!p1j/u1d*f|s!jmESubpoqhTfv!)>u!p2e/!1>!!.u!dnfjgog)F)umpfqoth!uuib)pmmWgf!d<u*pssp*u!d0f!WvmQ)pfj{ojumSbbnoshpfo]!j>^!*m-b!n2s/p1O*m<!!4~d!fjwg!!|)*m1S/b1o!h?f!!f?h!o1b/S1m*)|!!gJje!/~s!h<c*!1,/>2!!n-b*y^)je]pfuh)oOb-S!u.poqpTsvn!b0m!j*{sfp)umdWffWdmu)pisu*h*o-f!m1)/)1o*j!n+!!.m!S1b/o2h!f>!!+f!hvoQbpSjmo!u|D*p1m/p1s!]?j!^^/js]hfch<o!b~S!u~p!q~T!v\v)$!fgoje!j<g1\v/!2\v!$>j!gf!hOoVbNS`mT!QuPbUp`mMgJ!H<I^UjT]!o?p!j1u\vj!tgppQsu)pjqoTuv!!j.>!1o<p!jju!j=t!pOQVwNN`wT!Q>P!Us`pMuJdHfIWUmT!<4!djf,w,!*|!*|1!/j1g!)>v>T!qxp/u^Djp]msp",e["aoMap.fs.body"]="g$jjegoeff$g\v!!V\vTgFj`eBoPfN$B\vQ!\v<!*\vt$tjfgo!iehfvgpjso/fmeb)jBsPfNuBbQn`!S-`o2p*j\vt!vgmmdpdbPuu!obfnjccjnfbo!u-PWdOdumpvet)joppoj!t>v!m)dudfPysubvmsvfd3fEq)TbfpuNvbqqn-p!dw!V>w+*!/ssb!m.v!d2f/q1T*u!d+f!sbjpeNobjq/JuoiuhfjoMtejfuuzd!f,m!g2f/s1!<<!*\v*$sfjmEjxgf!jewf/gzjsouffen)pBfPhN!B-Qm`bSn`s3p*o\v/!zgsmupfbnup!fbhn)cujpfeo)ufPudbdsmvvutbjtp!o>!!>W!O)uupfey!uuvbspfm3gE!)\vb*pSNCbQq)-e!fwoVjwg3f*e/!s%!%.!!*2Q/B1N*W!O+F!`bFpTNVb)qeJfooujfgoftej!ugzj!$,\v!!2</o1p<j!t\vv$mfdmdjPgu!oeffjgcjnobf!e>)+B!PfNtBvQg`gHj`E2u*d\vf!sgjmepobju/!ubinhcjjMfeofuuPddfdmmgvftsj!p\vog!j>e!o)fu$f\vy!u<v1s/f23!E,)!bzpuNjbtqo-f!uwoVJwq*b/Nhp!b.!!+2!/*11*/!2+!!.b!pcN/b*q3JwoVuwf!o-tqjbuNzp!b,)!E23/f1s<v!u\vy$ffum)j!g>!!eofpgjjtovfmed)dBPPuNoBfQj`cHn`b3!*u\vb!pgmmgp!b\vu*!3b`nCc`jQfBoNuPPBd)demfvotjjgpfoe!!>g!j)muff$y\vu!v<s1f/32E!),b!pzNubjqt-o!fwuVowJ3q*b/Nhp!b.!!+2!/*11*/!2+!!.b!pcN/b*qwJVowu!f-oqtbjNupzb!),E!32f/s1v<u!y\vf$uf)m!j>g!!oepfjgtjvomfded)PBuPoNfBjQc`nCb`!2u*b\vp!mg",e["transmission.fs.head"]="g$jjegoeff$g\v!!V~T!F<`*UbS/BuOiThNjJMTeTfJuPuOj\vn!tvoobjsgup!s-ns!pgmmppDbfut!vbgugujfeo!v+b!usjppmopEDjetfuubbovdoff<u!uvbo!j+g!p*sGn!!.w!f1d/42!)b)u5udffowv!bousjvpuofDsp!m<p*st<t!f\vo$ijhgvepfsg!!-V1T:FG`sUbSmBvOdTfNqJtT!T-JsPpOmNpBDQs\vb!mvvodjfgqpts!n-!wt!b-noq)mGfEsS3CEu!oufsnbooptsnjjwtotFj!p>o!NGb!q4<d!f\vw$!f<o*efjdgo\vb!u\vt$jjEgoepfjgu!bVvToFf`uUuIbJ!D-LsOpFmTpTDNoBpQj\vu!bvvoojfgupusbn!!-t*bznbqSmofpsj3tEt!junitjodblsouf)tituNhboqf<m!!\v-$cfhose/jugi\vh!jvMoejfgupusjnn!twofbds3u!)uospbjoutbnvjotftujupBofTnbvnmqpmWfzsmTqjq{bf!<>!!vsopjmgppDsenf!utbbvnoqfmufusb3!E4!dufswb!o<t*nsjptjt!j-ptotTfboniqhmvfpssN!b-qt<e!svpopjDgoppsjnu!dnbbsug5f!sv)NfpmeqfnmbNTboupsjjtyt<j!n\vt$ojbgsoUeuffgh!!V>T!Fu`iVhCjPM\ve!f\vu$ujjgnetfogb!sJuP!S5\vd!fvwo!j<g1p/s3n!!>g0m!ptbeus!pjppDso<p!j\vu$dfbosegjfgs\v!!<\v1$/j2g!e>f,g!!tTeQsFpDpVDMoBpSj\vu!dvbosjggfpss!n<!xg/mtppbQud!etoq!f0d!vzmyb/stJpoQudfeoot!j>u!zt<e!svpopjDgoppsjnu!dwbfsdg4f!st!q3fddfvwm!b<s*D1p/m2p!s-<u!j\vy$FfzobeSjegf\vu!dvbosjggfpss)n5!dgfmwp!b+u!!yujssbuobtNnxjftjtwj!p+o!<y!jvsoujbgNpkspns!qg!m>p!btup!Qudiejod!l5odfftwt!<<!zvboSjogppjstnt!jnnbtuo5b!svuQ!s,p!kofpdjuuNjbtupsqj!y><!!uvjoyjFgzpbsSne!fwufddb4s!gvfDsb!n4fdsfbwQ!p<t*jyujjspuob<N!m\vf$efpone!j-gs\vp!jw!f-dt4t!fhofludWjpimuv!n-fwU!s-boo)tznbjStotpjjptotSjbnzt)odbpsoUtfun!vjmop!Wwuffdh4!!>o!-z!bdSpooptjut!tjjon!twofbds4u!!w4-d!fdwp!o|t!u*!fjdoo!bgumtpjbEuo!pujiujbdvlooffututb-!!udbppomtgu!!ojjo!!ugtmoppbdu!!-jsppsm-p!Ddoppojtuub!vjoof!unubbu!54!dnfpwe!fomjN!buutsojpyd*!!-|t!twffodl4d!jsifug!subbdpumjgp!ooWjf!duutposp!d>!!-ssfpgjs!budbup)m.g!!wo-j!!ouptsonpbdm!j-{yfj)sou*b-N!k2p/s1q!!05!ujbpns!*o<j!!wuftdo4p!dn!p-eyfjmsTudbbNmxff<j!wn!p5eufbmnT!dobjm!fu/tyo!p>d!!m-fyojhsuuib)Nwmffde4p)nn!p5eufbmnN!boujs!juyt]o!p1d!!^-/oypzj{u*j*t<p!qn!p4edffmwT!dobjm!fu/tzo!p>d!!m-f1o:hGusib)mwvfddf4q)tn!puebfpmmNgb!uosjj!yu]t!o2p!d^!/-yszp{m*p*D<s!bnmpvedffmqTtd!b4mdff/w{!!o>j!!muftoohpudi!)-wsfpdm4p)DnfptevfgmgNjbeu!s4jdyf]w!!3o!j^!/uytzo{p*d*!<-!tstffuovishov!posp!sunbbpmmjg{!fo)js!fugtsobpddu!j-pwo!W4fddfuwp!so*j!!+u!tuoipjdd!l-oof!t4td!f+w!!nopje!fumtTodpbdm)fo<p!j~u!dgbmspgbfuS!fbnqvqmmpzWJMpCsJUupfShp!v5hdifowf!t~t!)~d!p<oftduo!bjjoe!bgsm!p+b!uf!dsopbvuhuijonfttotb-s!ud!poostvuu!fjso!!<g*mfpdboub!ujtpjsE*o!p|j!tstfjunvtsoob!ssup!v+h!iuoofftjtd!j+g!gdfmpbDnoqp)jjupbsv!o+f!u3u/b1!!..)!q3y/f1!->!!1f/d1o-b!u2u/j1n*t<o!b~s!uw!f4dd5f!wh!f<ufUdsobbouttnjjEtotpjjpuobTvbonfqumufb)!d0p!o*tsup!mjpoD!owpfjdu3b!vgosfbuhuDbp)phspem-.!!d>p!outouf!jjdoj!gggmfppbDuo!psjpuvbhviooffututb-!!4ddpfowt!u|!!jfot!mgfm!p~b!u<!fjdposb*j!e|b!sg!mopsbvuu!fgss!b|n!f*c1v/g1g!f>s>M!pfed!o>b!umtpjhE3o)pujsubbovtonfjututbj)p!ogTjb!n|q!m*ffsdTojb{uft/jyE*o!p+j!ubbqvqomfzuJupbs!UupbSppmvgh!ioojf!tutt)osppdv!h-isopfmtptD-o!pjjpusb*v<o!f\vu$ujbg!e4fdgf!wu!foyju!vustfo3pEdM!p-efFdYoUb\vu!tsjfEuovpsjot!ttjSnHtCoUbpsMuj!oufbbpsm)gu!foyju!vustfo3pEdM!p-efFdYoUb)juesbbso!t4ndjftwt!jopjo!Tubtnoqpmdf)soNpbjqu-b!vgosfbuhuDBpfpnsvem/pyWzz-m!qgqsbb!n4fdcfvwg!g~f!s\vMgpjee*o*f<$!\v\v!$<f*m*tefp\vM!ssffgugvvscof!ntbSsHgC!U-pzMyj/oefsbpsp)Duhfbysugv!s-fq3bEN)sufsmbqontbnTjotptj",e["transmission.fs.body"]="g$jjegoeff$g\v!!V<T*Fo`pUjStBtOjTnNtJoTbTsJuP/Om\vb!jnsbfuufbsnj!b-mc/huss/booptjntjttjtnjtpoob!s>u!!u-sfbtovtgngjjtEtmjbpuop<u!)nybjunf!s>j!bfmt/vugsgbjoEtmnbjutptuj!p<o*Bompqjitbt!j>n!t2o/b1s<u!/nmbbujfssfjubbmn/!u-ibj/dolpojfttttj!n>t!oubisjud!l-obfitqtm<B!onpbjutftsjjnbtmo/bbsuuu/fmobvjbsufjupbonE)jytjunb!o>d!fb!i>q!mbBuoupfjotvtbjunjtpoobEsjut/umbbojdsff<u!bnnb!u<f*sfjdbomb/ubtujuEfoopvjbuubjvpoofDupumbp/sm!b>j!sbfuuubfno!v-bsupjmppoDDoppmjpusb<v!o\vf$ujugbe/fmgb!jVsTfFu`bUnS!B-OtTtNfJoTlTdJjPiOuN/BmQb\vj!snfbuubfns!j-bsmp/ju/smbbojtsnfjutbtnj!p-oy!j+s>u!buNfuydufvkspfs3QEv)!u-s!byojtsnujbtNtxjfpjoWNvb!q--y!jwsVuwb*N/msf<e!p\vN$vf!o-etjpgq\v!!-\v1$:jGgsebfmgv!dVfTqFt`/UmIbJjDsLfOuFbTnT!N-BsQp\vm!pnDbsubfmsvjdbfmq/tu/imjbdjlsoffutbtn!!+->s!pumfpyDufvtsvfg3gEj)eu/imjbdjlsoffutbtnN!b-qt-t!fwoViwh*v/phs</!m\vb$jfsofeujbgn\v!!-wwf!d-4o!!q)potp!j>u!dwbXspgsfmSefQnpvtmjpuWjMpCoJ<u!fwhf!d>4!!owp!j>t!tojpnstnobbmsju{!f5)dvfDwb!n<f*sybjQsputbjNuxjfpjoW!v.!!-qmpbtn*s<p!ow)fodp4j!uod!f>s!jjEonwsfpsgttfoUbs",e["oit.fs.head"]="g$jjegoeff$g\v!!P<JsUf\vm!q\vn$beTfsgpjmopfD!uNoBpYs`GEuFjQpU!IE!3:s:f:m:q:n/b1t\v!!n\vs$pegfjgojvo!f<!shfmm`qGnsbbThiDupqmfpEsu!jnpz!`EG3ssbfhmDqpnmbpts!\vn!svpogj",e["oit.fs.body"]="g$jjegoeff$g\v!!P~J!U<\ve!Jg!m>p,b!us!pgmspbDhlEdfbqcu!i|!!>f!thmmf`!G~s!b<h*Dbp/pesJe!/.{!<1!/\v2$)j!g+e!fsgf!jPmJqUj`u2m7vCNJbUiTq\vm!bv!j.o!u1!/i2b!m>g!Gbm/psbpum!p>D!uqobpdslgI!b<msgf3jym2q7j)uwmfvdN3b)igqsmbbh!E+f!qbu/ie*J*!<+!!wcfhds3/!egJv!m>m,!!>c!hvso/qsbpdmlpIDbumogp3syg2!7|)!i*bimugqGfmEpubtuf*s<b!fgos!b>h>E!fiquuqif!E>h!bgsvgm)m!/gyj<!!~\v!$<foosevjugf\vs!!j<w*fidu3q!fgEshbbhsDgp!p-sieu!q>f!Ejhwbfsdg3.))h3md`fGws!b>h!Dhpsp/sieu/qyfze*!<\v!gwjfedo3f!$m\vb!t|u!E*fiquuqif!E>u!tuffiyufsmvGgf!u=d!ii)upqjfuEEhfbqsugi!T%b%n!qimufqsf-E!ugtsfbshbDfpop!s?e!-i!u1q*f/Eshhb<s!gw)f!dg5j!!m\vbfttumGfs$p\vo!u|D!p*mipusq!f>E!uutffyifumsGvfgu!d?i!)ipujqufGEshpbosugD!p%m%p!siTubqnfqEmuftsf-s!bgfsob!h=D!pipusqef-E!h1b*s<g!)e!fgqju!i\v/SsFhG!G>V!CwIfUdQ3F)E.`NFBTYS`FEWFFQSU`IF*T<V!!ggsfpeogujD$p\vm!p~s!!<>o!smvbutfusG!s\vpgojueDopfm$p\vs!<|!!c*bidulqDfpEmuptsf!i>u!swvfgd!5?)!1i/u1q*f<E!h\vb$sjgg!e}f}g!!iVuTqFf`ESuFtWfFsSbTfFo`!E=F!QiUuIqCfVEGhGbFsSg\v)!!ggmjp!b\vuf!tgmvfs$u\vi!f|t!u*EifuqqufiE!u>t!f.imubstvugE!f=q!uiiu/qyf<E!hgbmspgb!u}!}o!fibusqfftEuuEtffqsubif!o>!!?m!bituuqEffEqhubis/gz)<!!g\vj$!f\vmStFfG\vG!VgCmIpUbQuF!Eo`fFbTsSfFtWuFESf`qFuTiV!!>g!f.emgbjt$u\vE!f<qbu/is/pym<p!DgumoppbsuG!ugtvbsmu!i.f!t1u/E2f!q>u!is!f>j!mmqbjtuumEvfNqbuiiq/mzb<!!u\vb$pfmoge!j\vg",e.blitScreenVS="~b!u<u*szj/ctvpuqf!!.w!f1d/32!!q-pyt/<t!pwqb)s3zdjfowh!!>w!fwdV3w!!w<V*w1</!2w!p-j1e/!1n!b-j1o/)2w!p,j!e1*/!3|!!+h!mz`/Qtpptqj.u!j-p1o/!2>!!.w!f1d/53)!q+p!ty/",e.encoding="~w!f<d*5s!pMmjpodf)bssbUfpoMjjMopfUbmsf)yjfoU!uwvfqdo5j!!wobsmvvuff*s!!||!!s*fsupvmspod!!w5bdmfvwf)<s!b~f!owjfMdp5U!mnfbyqfUUfqybfNmwUopfM!j5odffbws!)~w!f<d*5f!vwmbbmwv)fC*H!S|t!psUfsubvfsooj!MM!joosfvbusfUsp!M|j!o*ffbvsm)bwwb!m5vdff*w<)!m~f!ywffUdu5v!qtuSvHPCpUUpsMbjfoofjbms!)5jdof!ww!f~d!5<!*wfbvmmvbfw*)!s|b!fsofjuMvpsUoC!HwSftd!5o)snvjuyf)sq!p|x!)*wfbvmmvbfw/!s5hdcf!w+)!s1b/f:o5j8M9p7U8m3f:y9f7U!u,v!qwofjd!45)d1f/w1!6~3!2<4*3b8/1f2v5m*b-w!!w-f*d*4*)*39/154*2*4-1!1w/b1m)v4fd/fswh!c-!c+h!s1//f1v8m8b4w:):m4b9v1r9F-o!bwifUdt4t)fmmf)t4tdUfiwb!o-F3r:v/b3m2)!w+b!mcvhfs//sfhvcm-b!ww!f-d*46)611//115)145d6f*w*!*.*!-6!6w1b/m2v!f+/!b***<7!7~7!2w5f/d15)!4Mdjfowf!b-scUhpst/SfHvCm)bjwo)!xwpfqd)5y!jwnb)m5vdff*w!!|o!ssvfu",e.cubeEnvReflectionFS="g$jjegoeff$g\v!!F~O!W~N!B<Q*`1U/Z2Q!F-`*DGVqCjFn`!V-W2\vs!p\vm$pedf!g-j1osfp!mdpvdc)fyVjWn`)n5bdyfNwj!qoMsfvwuffms!!9</*11\v/!2\v!$,e!fugojJoqfj!nd!v-csfjVEWf`mnqjnobNtj!q-MqfbwNfwmo!f5)/W1V\vf!c\vv$Desfbgfjoojfm!jdcv!c>f!V2Ws`pnmbpydU!j4mdffTwj!{|f!!f3t6m7f/!1~\v!!<\v*$1e/f2g!j-o1fs!pdmvpcdf)V5Wd`fnwj!ooUsjvmuffTsj!{|f!!*217//11!\v>!>g!mGpqbjun!)h!fgujG!b<d*fu)owJfqdj4n!!e-jssjfEdfumjqpnob*t!!|-!qwbfNdw4o!fb)cWtVEfjcsvfDdsubjfpooj!m>j!cb!c>t!)1esjpsmfpddu!j4pdof*w<!!<g*mqpjbnu)!sgpbpdmfg!!>>!!.u!o2J/q1j<n!!jugb!p)mbgc!t<E*jqsjfnd)uujdpbos/gy!!>?!!GbqcjtnE!jusbfpdmugj!p<o*/m{f*w!f|M!qjjgN!y)bbnc`tWEVjfscfvddu!j-p1on/!y-!*?t!tbfcotiEhjvspfsd)uqjjpNop/Uzt*t!fgobidhfv!p>s!)eqjnsbfmddu!j>p!oq/jyn!!?u!b1p/m1g!!@|!!1*/t1t!f;o!i4h/v1p<s!!fumbtpfm!gg!b-dsfj!E>f!meqjnsbftd!u4jdpfow/!z-!q?b!N1w/o1f!!@E!32s/f1m!q;n!b5t/)1W<V!f~c!vfDmftsfv!u|y!fjug!!5)dbfcwt!E~j!s<fqdjunj!poos/v{u!f?s!!b~c!t<E*jtstffdouijhpvop/sz!*+!!g7b2d/f2!)>3!hepjms!f+d!u1j/p3o!/.{!!>?!!q1j/n1!!|@!!f3t/m1f!!;~!!6</61n<!!,f!m*t7fs!!g.b!d6fs!)>!!0e!j*s6fnd!u.j!p7on/)z!!+?!!*1t/t1f!o@i!h2v/p1s!!;.!!56/s1)<!!>~!!qsjfnu!v|s!o*!7gsb!d>f?<!!t~t!fwofidh3v!phsf)u!VgWj)!wfftdm4f!!e~j!s<f5dnu!j,p!o*-6!sg!m.p!b5us!)g!b0d!f**5!n|!!.w!f6dn3)!!v+w!<*!tjtgf!o)ighbvdpfs!!>.>!!51s/)1!*>!!|q!jvnw!!|>!!*w6fsd!3>)?e!jtstffdouijhpvop/s{)-!!gejj!sfftdmufj!p~o!/<z2*n!!0,!!b*c5ts)!e.j!s2fsd)u!j0p!o*/2yn*!<.!!~5!nf)m!t+f!!*jtgt!f)ogibhdvfp!s>!>.!!22/s1)*!!>|!!qvjwn!!>|!!w*f5ds3!)>.?!!etjtsffodiuhjvppos/)y!-g!j.!!fetjmsff!d~u!j<p1on/!{,*!!*02!sb!c.t!)1esj)s!f0d!u*j1pno!/.z!*2<n!)~!!+f!m*ttft!fjogi!h)vgpbsd!f.!!>1>s!)3!/>1!*q!j|n!!v|w!!*>2!sw!f>d?3!)t.t!feojishfvdpusj)p!og/jy!-<!1e/j1s!f>d!uqjjpno!/uzb*p!m0g!!b|c!t*)tetjfsofidhuvjppso!/u{b*p<m!g~)!qfjmNtpfU!tjtgf!o)ighbvdpfs!!>u>b!p4m/g1!*\v!1|/!5v!w7!n>!!fwofjdg3f)e.$!\ve!j\vs9f4d1u1j/p1o!/7{w-!!feojjsgffdeu$j\vp!o\v/2z3*/!10!!7bsc!tf)oejjgsffed$u\vj!p\vo1//y4*!<6!n~!!ffomjtgff!ej$g\v!!)\vg7b2d1f/!1>!>6!w5!/f1o*j!g|f!ev$w\v!!>\v!6w1f4d/31)!.6!se!jfsofjdgufjep$o\v/!y\v-1!/e3j!s5fnd!ufjopjog/f{e*$!\v0!!\vb7c5t1)/e1j!s5fwd!ufjopjog/fze*$<\v!!~\v!5f/m1t!f5!s|!!fvowj!g>f!ew$f\vd!3\v)1e/j2s!f.d!u2jnp!of/oyj-g!feej$s\vf!d\vu7j8p3o//1z!*2!w0!!fbocjtg)feej$s\vf!d\vu9j/p1o!/2{s*!<f!o~j!gsffeu$v\vs!o\v!11//36!!.+!!1)nv!wf!o,j!g2f/e1$*\v<!!\v~:!4w4f/d14!!1cwj!mfjoojfgbfseD$v\vc!f\vV1W/)2t!b1nsq!mffosj3gEf!ef$o\vw!N~b!q\v-g!jwefodf4$!\ve!j<s*fzd/ugj!p-on-c!!g-mnpub)uy!jnnj!qoJsovuu*f!s|!!<g*myp/bgu!!-gsbcd!f-!m>c!)hyfjunG!b>d!fn)ce!j4sdffdwu!j<p*oy*/<g!!g-mspub!u-!mguj)myujfns!J>o!un!u>!!4ndbfyw)!d<vcchfsV/W*`*nwjvo!N-jqqbMNfwwoffm)!E.3!fnsjvquJyofuu-)!s1b/f1o*j<M!pnUjmqfJyofuU!q>b!Nnwboyf)!n>j!qmJco!u4-d!fdwv!c<ffV{Wj`TnmjfoyNfjuq!M>f.w!fym/*w<v!!g<mcphbsu/!*g*bwdvf!T-jq{bfN!w>o!ff)yEq33f)snvjuqyJfouu)*s<b!fgomjpMbpuU!muffyyffUmqTbjN{wfo!f>!!>2!/s1c!!04!d)f4w/!1<!f+{!jdTvmcffyVfWu`!n>b,y!Uzj/mwfvT!j<{cfh*s</!*\v*$wjvg!e-fqgb!NQwCoSf`)FEO3WfNsBvQu`yGfBuM)TsFb\vf!owjfMdp3U!mvfwy!f>U!qhbfNuwVoWf)!e>j!ssfud!u4jdpfow-!!<gfb{djfT*m!f+y!f)ug!b>d,f!Tyj/{wfv!!.<!c2h/s1/**!*,w!v1!/-6q<b!N\vw$offm)tEf3\vf!swvfudy3f!uv)ws!b>f!ohjfMupVUWm)feyjfsUfqdbuNjwpoof-!!>g!bmduf!*4!d+f!w)!g\vbfdtfmTfj${\vf!!<.c!h2s//1**w<v!!w-fqdb3N!wgo!f>)!Eg3sfbsdvuu)yvfwu*!<o!svvwu!f,s>!!\v1F/T6M!B.G!`gQ<B!N\vW$OfFo`eSjCgQ\v!!gjfge!g)jg$b\vd!f<!f?{!j3T/m1f*y!f|u!!v>w+/!zw!v,!><!*gfb{djfTTfjd{bfg<!!+g!b1d/f3!!..>!!f4{/j1T<f!m~j!Uvywb/ny`!W,V>f!cgvbdd!f-!1+/!1g)bydbfnT!j+{!f1</!4j!g>!,)!nyj/qwJvo!u<!f={!jdTvfcmfjVUWo`jnnb`yWNVjfqcMvfdw!f+m!*1!/|3!!v+w!/uzo!J,s>f!u3m/j1g!!+>!,d!vzc/fwVvW!`~n!b<yfU{jjmTf",e["clipDirection.fs.head"]="g$jjegoeff$g\v!!D<MuJoQf`dEsJfSQFqDjUmJDPvO!\vu!bvpomjgg!pnssnp!gjjoouv!!v<DompjjquEdjfs",e["clipDirection.fs.body"]="g$jjegoeff$g\v!!D~M!J\vQg`jEeJoSfF$D\vU!J~P!O<\ve!sjbgd!t)jveD!m|j!q*E*jssjfed!u-j*puoo!f?d!s1f*Q!q|j!mwDfvd)44!defjws)!u>p!ew!f?d!4*)o1p/j1u-j!t1p/Q1m-b!d1p/M1w*!<-!s\vj$ej)guepfeg)!!VgWj`!D\vMfJtQm\vf!$w\vf!d~4!!<demsjbqdQtpjtej!u|j!p*o*!s>j!ew!M-p*dubomfQdpstfjQuqjjpmoD<v!)\v4$dffowe)jugp\ve!!j?g!!*)ovpDjmujjqtEpjQsqfjdmudj!p-os!j=e!)3u*p!e|)!!egjjs!/~y!!\v>g!j2e/o1f<$!\v~!!<f*m1t/f1!!j-g1!/)1v!D-m{j/qwEVjws)f4ddufjwp!o>!!=o!p4j*u!j|t!peQjqsj/myd!!>\v!f.t2m/f1$<\v!!~<!*f1m/t1f!!-j1g/!1)!v-DVmmjbqdEpjMswfVdwu)j4pdof!w=!!>5!*o!p|j!uejjtsp/Qzq!j>m!d2!/\v1*<S!C~Q!)femftofj!gjfge!!)}v}D!m*jHqOEPjIsQf)deufjopjog!f=e!!6g*j!$|\v!!e<j1s//2z.!!>>!!.y2//s1j<e!!~|!!f*m:t!f=!!jogp!j)uvdDfmsjjqEEqjjsmfDdvu)j!pgoj!!=f!t7m*f!!|~!!e\vjgsj/e{o!f>$!\v2!/<1*<1!/~1!!f-m1t/f1!!j-g{!/)wvVDwm)j4qdEfjws!f>d!uojppjou!j=t!p8Q*q!j|m!de!j\vsf/t{m!f>$!\v.!2</*11</!1~!!-\v1$/j1g!e-fVgm!bVdWp`MDwMVJwQ)\v4!dffmwt!f>!!jogp!j)uvjDtmpjQqqEjjmsdf!d\vu*jSpCoQ!)=e!f9o*j!g|f!ee!j}s}/!y*!H>O!P2I/Q1)<e!f\vo$jjggf!e",e["clipbox.fs.head"]="g$jjego!fN$B\vY!`<C*P6Y/`1D!M-J6Q/Q1F!S-!6?/!11)\v4!dvfowj!g>p!synb!Njqojum!dv!D4mdjfqwq!fustToipbdq!f<]*N6B/Y1`.C!P-Y6`/D1M.J!Q-Q6F/S1^.<)!4vdofjwg!p>s!no!jcNpqpjmm!dv!D4mdjfqwq!fustDompjdq!J<o^oSfFsQ]QNJBMYD``CYPPYC``DYMBJNQ]QyFjSs^u<b!NvsofjqgqpjsmnD!vn!b5u",e["clipbox.fs.body"]="g$jjego!fN$B\vY!`~C!P<Yo`sDvMuJfQsQ!F<Se!s?b!d1t\vj!ew!f|d!4*!ewfMepsdbbdmt<j!Ectpjp)m!!gjjt!E\vjEtOdFb`sQePfPeM!`>M!MgPbSmOtVf$<\v!!w~f!d~5!!<wfXvpssum!e>U!fenfqe!s>b!dwtfjdE5t)jw!X|p!s*m*e6Q/p1t.j!u?j!pzo/-m!b2d/p1M*w<!!%\v%$!V6O/S1P!M=M!`zM/PmPbQd`pTMUwB!S%U%\v!!6g/p1s!!+)!j*ozu/!mjb!d>p!M1w<!!.j!!6=/!1N)B!Y=`!C*P{Yy`/DmMbJdQpQMFwS)<i!ujh,o,f*m!)|!!>waM!p^djb]ms!f>o!o)JvqDjmmjDqsqffqsqNjbmuDsvj!y%]%j!^5!!+>!>w!X^pjs]mfeqUbfinTqs*f/qyqzj{m<D!vj!g}!})!v*D6m/j1q.q!f?s!Tzi/bmqbfd]pjM^w!!>%>%!!26!/%1%!!=v!Dzm/jmqbqdfpsMDwm!j%q%J!o6o/f1s!]=j!^*!{ay>/!m)bbdmpmM)wm)fituthUoifbmo))!w>Map!d^bjm]-s!fdomojJqqNjbmyD*s*f!q%q%j!mbDmvm!)%h%s!f4b!u>f>s!U^ijb]of)qwbMipTdsbfmq-q!jdmmDjvq!N}j}o!***6*/!1}!}=!!v*DmmbjdqpqMfws)Tiiubhqoff]mj)^!!>>a>!!^3j!]%s%f!ovoDJmqjjqmqDfs",e["fog.fs.head"]="g$jjego!fe$f\vg!j\vogfjee)oGfP$H\v*!\v\v!gvjoejogfp$s\vn!!<cspbpGmh!pvGGvp!hu<b!p\vm$gj!gn!sap)gejfogvj!o<fseb)fVOThFp`GVvC!Pu*b!p%m%g!!)nesfpggjjoofve!)\vQfItPmOfH$*\v!!}<}z!uejftgojfoEfhep)GQvC!Su*b*p*m\vg!!vnosjpggpjsonv!!w\vf3dQ5Y!Fv`GHpPhGD!pgmfpesg<j!$\v",e["fog.fs.body"]="g$jjegoeff$g\v!!G~P!H<\v*!sjpgu!d)bvGGhpphg*!!-|*!xg/mepJb!u-!cehfsq/usip!m>p!D.hwpNGwvQ)p5tdjfuwj!p-oe/J{)<y!j\vn$!j>g!eefJg!!\vGgPjHe`oFfY$Q\v3!\v<!*gimupqbfue!!g-pshbGGbhdpuGpvs!!->s!b2f/O1h!p.G!vf)yqqf)u.t!ivuGppphnEtf!o>t!jsupzu!d+b!GvhGppgh!Eufboptmjgu!z\v!f+t!meff$q\vu!i<!*+i!ueqf",e["skinning.vs.head"]="g$jjegoeff$g\v!!V\vTgFj`eToLfJ$O\vO!J~O!H<\vf!ovpocj!gopssvnu!fnsb!u<5^!*cjj)oueoNjb]utsfjdyj<s!uvboNjfgoppscn!!>n!bfuo5p!cc!j5ouebNnb!u|s!j*yjJ!ouwbfpsmtgf!<o!jb!uuutsojpcdv)uyfj!swufbdN5f!otplCjuofJho!e5fuyb<n!!b<u^uTsFjOcPvCu`fY!BwNf]dt5f!dtjlsjuobXNffjohpicu!<5!u\vb$nj!gnesfpgg!jCoPvO!F\v`fUtFmYfU$V\vS!F~\v!!<vfoojpgcp!sons!viujfhsi!q<!*t5bwn!q-m4fws!3-E3!wc!p-o2fwU)f5yuubvns!f><!!fvoopjcg!p5sunb!nj!o<u*!*czp!o-f*U6f/y4u!v,s!fyT)j!{+f!<y!en)b3ud5f!wh!f-ufCspvoufyNfbUufsojpyc))dEp3oftsuv!ujyof!ug!m>p!b5uw!!j5*d!f|w!!g<m*p*bzu!!-k*!6>/!3j!!,+!!y5)/!1+<!!ygem)p3bduf!wy!!->f!snvpuey)fkU-f!ogpmcp)bEu3)fcspvoufyUffuy!u>v!s4fwT!j5{dff*w*!<<!*g*mzp!b-u*!6z/!2>!!,g!myp)p!s+)!ky!e0)!3gdmfpwb!u-)fcspvoufyUffUyfuovpscf)TEj3{ffs*v*u<y!fgum!p>b!u3!we!y5!d>f!w2!/<1*!*0z!!g-m*p6b/u1)!c,p!oyf)U!f+y!uyves)f3Tdjf{wf!*-<f!sgvmupybfuU!feozp!c>)!E23/f1s!v0u!ygfmup!b>u!)2cwp!o5fdUffwy!u<v*s6f/T1j!{,f!*z<)!!z+!!>z!e",e["skinning.vs.body"]="g$jjegoeff$g\v!!V\vTgFj`eToLfJ$O\vO!J<O*Hx\v/!enfbnus5p!gctpoobfsNub!u-Y{!z>y!/h*feufCopoojflNtb!u+s!jfyt)stflwjooJJyojesfuyb/Nye*o<j!cn)b)u55d!fcwp!o>f!NebfunZs!p>g!thofbusCup!o\vffNtbmufs$j\vy!)<t{lzjyo/J*oeeffoyo/jzl*t<!!+n!bfut5s!fcwpooJfyNjbsuu[b!N>e!ohjfcu)C!p>o!feNfbnusspjgyt)otblsjuo!J\vo*eSfCyQ/){e*f<o!jngbfue5!!}c}p!o*fHNObPuIXQ!)>e!fhofjugCfpeo!fgNjb$u\vs!j<yx)/tulijhojJfoXeofjyl/tx!*+<!!ynfbuus5f!WtoljjlotN!b+u!sXjuyb!N>f!onpbcu!5>),1!/e1f*o<o!jtlltj!o<N{b/uusijhyj!f,X>o!jtlltj!o+X!fyjfhuisuf/Wyo!j+l!tc!p+o!f[NubbuNYf<o!ptcl!j>o,N!beufsojoyj!l,t>!!<tzl/juoiXhfjjfhXiouj/lzt!!++!!cypfoufsNfbWuoZj<l!tt!l+j!oZNubbuNsfjoyp!c,!>>!,t!lejfooXofjjlhti!u</y{/!u+i!hcjpfoXfoNjblut[!<+!!tylfjuosNfbWuosjjlyt!!,+>!!YtulbjNofXofpjch!i>u,/!xe!f+o!ocjplotf!N<b*u1X/<1!)t5ldjfowN!b>u!sejfyo!o>j!lctj!o5edNfbwu!s<j*y1J/o2w!f-s{tzfy!/+e!ftnlsjpogNtboubssjuy)!5+d!fcwj!o+e!NybjussujbyN<e!opjcck!f>d!uyOfpussnfbWmo!j>l!tw!f5dd5f)wt!l\vjgojNeboufs$j\vy!!<+{!zwyf/d*5*)1p/c1k!f-duuoOfphsonbbUmu-d!f1k/c1p*)*5/dyfzw{!<+!!\vy$jjsguebfNgo!jVlTtF)`5UdBfOwH!F>O!Uu\vo!fphcokbfUdu",e["shadowMap.vs.head"]="g$jjegoeff$g\v!!V\vTgFj`eToIfB$E\vP!X<NeBsQp\vp!D\vx$pjegbeiftg!!5VdTfFw`!DhToNj\vz!svbowj!g<pysjns!unbbNux5p!etbiibte!p5xuNbbnu!snjsyp]gDjToNv`!D\vBfTtDmBfE$F\vT!^<<^!TwFbEsBzDjToBhD!`wNfTdD5]!etsipbpeDpx",e["shadowMap.vs.body"]="g$jjegoeff$g\v!!V\vTgFj`eToIfB$E\vP!X<N*B1Q/\v2!!\v-${jzgye/fegf!nVsTpFg`tDoTbNs\vu!)\v5$dVfOwS!P+M!My`jMsPuPbQN`mTfUeBpSNUv\v!!+g!pysj!s)ujboNux!pje!b>i!t1!<>!!je!s=p!pDDTxNp`eDbBiTtD!B\vEfFtTm<f!$j\v,!,\v*E!O|F!`tQiPbPeMp`xMDMpPpSsOeV]$j\v^!!~>!!<t*i1b/e2p!x-N{bzuys/jeyf]njs^p!g+t!ovbNspue)f5mdNfbwu!s+j!y",e["shadowMap.fs.head"]="g$jjegoeff$g\v!!V~T!F\v`gTjIeBoEfP$X\vN!B<Q*\vq!ev!o-j*gzp/sfn{!jcTpmpfmy!ftui!b-eEp4xeDcv)mWmV<p!Uvfocjvgdp!s-nq!bgNmxppbeub!itti)bfespbxqJnopuDfEo3tfjsuvzu<y!fvuo!jogspvsunf!sg!m\vpfbtum!ft$i\vb!e<p*x1C/j:b!t0<!!1v/o2j)g!p+s!n*!!g*mqpeb!u-!*tzi/bfe{pjxTSmbfeyjfvut!<-!yvyozj/gupfstng!gcpp!p,m!!Et4iebce)pWxVSpfUdffcjvwdf!<-!qvboNjxgppesbni!tw)ffds3b!qtnipbDeEp3xfTsjv{ufy<f!u\v!$,j!g*eqfeg!!-V*TzF/`fD{TjNT\vm!fvyofjug!p-syny!yg/mupfbtug!gdpt!n,E!fEq4ueicS)bWoVhpfU<f!cvvodj!g-pqsbnN!xwpfedb3i!td)tfnsDbbqtndpbDeEf3tf]sDvTuNy`fDuB!T,D!B*EqFeT!^-<*!zw/bfs{zjjTomhf!ywffud!5-!ztyizb/eupfxtDgpgpps!e,]!DET4Ne`cD)BWTVDpBUEfFcTv^d<!!-vqobjNgxppsenb!ittb)nfqsmbfqsn3pED!Et3ifbsevpuxyNfbuq!],D!T*Nq`eD!B-T*DzB/EfF{Tj^T<m!fvyofjug!p-szny!yg/mupfbtug!gqpd!t,t!DET4NeMcj)hWiVupTUjf{cfvDdp!s-sqfbdNuxjppeob]iDtT)Nf`sDbBqTnDpBDEEF3Tf^s<v!u\vy$fjug!e,f!g*!qDeT!N-`*GzB/EfF{\vj!Tvmofjygfpus!n-!Eg4mepcb)uW!VdptUnfGcbvedf!G-bqdbuNpxsp<e!b\vi$tf)ofesjbgq\vn!p\vD$Ef3mftsfv\vu!ywfbus!z,j!o*hq!ew!f-d*5z!/tfi{bjeTpmxfDypfpus!e-<y!zvzo/jugfptsgng!pt!b,n!qEm4fesc3)EW!VtpiUbfecpvxdN!b-qq<b!N\vx$pfeobeijtg)\vf!s\vb$qjngpeDfEg3!fTsIvBuEyPfXuN!B,Q!`*UqZeQ!F-`*QzD/TfT{\vj!Tvmofjygfpus!n-!ywzfyd/4u!fqtdgtgtpQ!b,s!bEn4te<c!)\vW$VepfUgfjcovfd!!C-MqPbDNLxFpSe`bTiFtB)SfDsIb`qTnBpNDQEM3FfTs!v4u3y\vf!u\v!$,e!f*gqjeo!f-!*QzD/Gf`{TjBTNmQfMyFfTu!!7-5z\vz!zd/puofttug!gwpf!d,3!!EQ4pejct)tWpVopTUbfncqvmdf!s-tq4b3N]x4p3e^b!i>t!)wffsdb3q]n4p3D^E)3!fwsfvdu3y)f1u/!1,7!5*1q8e1!2-4*-z!/1f/{1j6T5m1f:y:f3u8!*--z!zwyf/du3f)t1g/g8p4!7,7!6E848e-c!)1W/V6p8U9f:c4v:d5!*--q!bwNfxdp3e)b.i1t/)7f3s8b1q6n5p3D-E!3.f1s/v6u4y3f1u3!8)9!*o-s!vwuffds3!)<.z1//f5{1j:T7m2f1y8f-u!!1+/!9t5v2j2e1b:S6x*p-e!bwiftd!3+)!1*/27!9-52:!6.7)53-d!f.w1!/>5!:u:f1t9g2g9p*!-3!dwffwd!3\v)*.U1G/P9T8`5G2D9Q2`-F!Q.Z1U/`1Q5B6N8X:P8E4B6I*T-)!ewffodj3g)f1e/!:}:}9!:*:G:D9Q-`!F1Q/Z1U1`1Q:B9N9X1P1E7B7I*T-)!ewffodj3g)f.e1!/g1j1$5\v:!3<1*6o8p9j-u!j.t1p/Q:p2U6u2i7h5j:m*)-f!{wjfmdb3n)s1p/o2!9>1!6E847e4c-!!41d/f:w8!5<8t5b9j4C*x-p!ewbfidt3!)>.,1!/q3e2!4<9*5s6b2f-O!b1s/f3n7b4D6x9p2e9b*i-t!!w.f!ds3b)G1b/s2f1n:b9D5x6p-e!b1i/t4)9!905!8*9s6b*f-O!bwsffdn3b)D1x/p1e7b9i8t7!8.6!6*-o!p.j1u/j4t6p9Q2p1U8u5i*h-j!mw)fidu3h)o1f/m4)8!5>1!8q4e-!!u.b1p/m8g7!7<2{3z7y7/*e-s!pwpfDdx3p)e1b/i4t1!8>:!2o4p3j-u!j.t1p/Q2p3U2u7i8h7j4m*!-4!dwffwd!3<)*.*11//438!:-514/456)-3!d.f1w/!9+3!8f2{6j9T4q*b-N!xwpfedb3i)t.)1!/03!1*419/829)-3!d.f1w/!1>8!8f2{6j1T4m5f*y-f!uw!f3dd3f)w1!/|6!:*2s3b7G:b8s-f!n1b/D2x5p7e:b8i:t:!*u-b!pwmfgd!3-)s.b1f/O9b9s1f7n:b-D!x1p/e4b1i4t2!8u9b5p*m-g!!w-feds3p)p1D/x6p1e5b1i2t1!95-d!f1w/!9-3t9v4j8e3b3S*x-p!ewbfidt3!)u.b1p/m6g9!5-5t2b3j5C-x!p1e/b6i5t:!5u9b8p8m*g-!!-wff{dj3T)q1b/N7x1p2e8b8i:t:!-3!d.f1w/!2-8q3b7N7x6p5e*b-i!tw!fEd33s)f.m1q/n6b6t6)5x:p9e2b-i!T1u/o2j6p6Q:u:f:h8!*u-b!pwmfgd!3~)!.<1*/6481/217!4-76:8-4!/.11)/34d:f1w1!:,3!9s*b-o!bwmfqd!3+)!.*16/36/616!1-764332-/!1.)13/d2f8w3!4o8s7v3u*f-s!!w~f!d<31)/13/!:.3!6Z1o3h:j-t!!1+/!3{:/:w6!1>5!2z*/-s!bwofbdm3q)!.<11//335!8,4!2Z4o8h-j!t1!/+6!614/936!1,6!*y-/!ww!f>d!3y)/1s/b:o2b9m4q1!4<8*-z!/.w1)/o3h9j7t3!4>:!3Z*o-h!jwtf!du3b)p1m/g3!5|7!:*5f3o2P-u!t1p/n7m8b2!9>8?2!3z*/-W!twcfbd)3!)g1j/!4f:t2m7f4!:~8!-<!Y.o1h/j5t4!3+9!311/:3*!-,!!wYfodh3j)t.!1+/!1{4/6w8!7>:!3y8/-s!b.o1b/m7q3!3<1*1y4/3w*)-o!hwjftd!3>)!.Y1o/h1j5t7!7u2b3p6m6g-!!|1!/*8f:o:P6u3t1p2n*m-b!!w>f?d!3y)/1W/t5c5b1)3!:g3j5!-f!t1m/f4!7~5!1<4y2/3w*!!.*!<1!/d5p!o>t!uy!/wsfbdo3b!mQqp!j*t1t/p1o!T?b!n{q/mwf)s!tg7j5!]|7!5*^f!o>P!uwtfpdn3m]b7!5>^?)!!{w/fWdt3c)b.)1!/g7j2!4<4m:f3y-f!U1B/u7t2p8n5m9b2!*.-!!1w/f2d!3>)!1f/o2P8u1t1p2n:m-b!!.u1b/p1m5g1!3<6Z5f*{-j!Twmffdy3f)u.!1+/!36:/:25!2>8!-m!f1y/f8U:B2u:t3p6n*m-b!!wufbdp3m)g1!/<7z5y6/7w9!1>-!!s1b/o5b:m4q3!231d*f-w!!w<f*dZ3f){.j1T/m7f6y2f8u9!5+-!!11//38!2.8!919/82*)-!!+w!ffdc3v)D1p/U5f3m2b1d1t4!->!+1!/w1!3<8f1c8v1D*p-U!fwmfbdd3t)!.>1+/!9W2t8c2b:!5<-*!*.{1//W3t8c2b1!:-7z*/-W!twcfbd)3y)b.n1!/-8y1/6W4t8c5b-)!y.b1n/!707!913/124!*>-!!fwcfvdD3p)U1f/m:b8d8t1!6u1b-p!m.g1!/<2*1w9)7t2c6b*!->!!wWftdc3b)!14/d1f7w4!4|3!7*-Z!f1{/j2T5m3f4y7f:u*!-u!bwpfmdg3!)-1w/!341d4f6w3)9W-V!p1U/f3c2v5d4!432d*f-w!!w~f!d<3x)p.e1b/i7t7!8o6s4v2u-f!s1!/~4!3\v7g1j:e1o*f-$!\vw!f<d*3{)/.e1s/p1p:D9x5p3e3b-i!t.!1-/z3y:/6e8s6p6p*D-x!pwefbdi3t)!.-1q/b9N9x6p:e3b3i-t!)1f/s3b2q6n4p7D:E*3-f!swvfudy3f)u1!/>6!7x7p7e4b8i-t!!1\v/f7t1m6f3$2\v4!*<-*!owpfjdu3d)f1s/s1p4D:f8{7j7T-u!i.h1j/m4!:-7e2s1p1p*D-x!pwefbdi3t)!1-/q8b6N2x:p5e7b-i!t1)/x5p6e4b4i6T3T*T-D!Qwuffdh3!)>1!/x1p8e9b8i1t8!-\v!*.T1T/D8Q2`6F4Q3Z4U*`-Q!BwNfXdP3E)B.I1T/)1e8f6o9j4g9f-e!!.g1j/m6f3$:\v4!5<5**1-/!:w!f0d!31)/12/)8!3+5!5*8!:*-{!/.e1s/p6p9D1x8p:e9b*i-t!!w-f*d23z)e1!/-323y3e:):3:d-f!w.!1,/!3z2y6/2e3s6p*p-D!xwpfedb3i)t.!1-/f5{7j8T6q8b5N-x!p.e1b/i5t1!6-5q4b9N*x-p!ewbfidt3))q.s1f/M3x5p9e3b7i9T-E!3.f1s/v9u2y5f8u6!4,*!-*!{w/feds3p)p1D/x4p6e5b5i2t2!--!*.21z/e9!9-816/811)*3-d!fwwf!d,3!)z1y//2e8s6p9p2D8x-p!e1b/i4t9!3-4f7{7j*T-q!bwNfxdp3e)b1i/t5!9-8q5b8N3x-p!e.b1i/t1)7q4s1f9M3x*p-e!bwifTdE33)f.s1v/u1y9f5u1!8,9!-*!{1//e9s:p9p4D2x3p*e-b!iwtf!d-3*)21z/e5!9-919y8e7)-3!d.f1w/!8,9!4z5y5/2e*s-p!pwDfxdp3e)b1i/t5!8-1f1{2j7T-q!b1N/x3p2e8b:i4t4!*--q!bwNfxdp3e)b.i1t/)7q:s7f9M:x1p-e!b.i1T/E635f:s8v:u2y*f-u!!w,f!d*3{)/.e1s/p2p5D:x7p:e4b-i!t1!/-7*116/817!3-*2-y!ew)f3dd3f)w1!/,1!4z5y3/2e2s-p!p1D/x:p8e:b:i9t1!*--f!{wjfTdq3b)N1x/p6e1b4i1t:!9--q!b.N1x/p4e1b9i9t8)9q*s-f!Mwxfpde3b)i.T1E/31f2s7v3u1y6f-u!!.,1!/*9{8/3e:s3p2p*D-x!pwefbdi3t)!1-/z4y9/6e8s9p5p-D!x.p1e/b4i:t4!:-1f3{*j-T!qwbfNdx3p)e.b1i/t2!5-7q9b9N7x-p!e.b1i/t9)6q:s3f5M:x*p-e!bwifTdE33)f1s/v7u5y4f4u7!2,-!!*1{//2e7s5p1p:D9x*p-e!bwiftd!3-)*11//714!5-419y9e-)!3.d1f/w1!5,:!5z8y2/*e-s!pwpfDdx3p)e.b1i/t7!9-9f9{:j5T-q!b1N/x1p1e8b9i5t4!*--q!bwNfxdp3e)b1i/t5)7q5s1f4M5x-p!e.b1i/T2E939f9s2v9u*y-f!uw!f,d!3*){./1e/s5p5p1D9x5p1e-b!i1t/!2-4*815z9e7!*--2!ywef)d33d)f1w/!4,7!5z5y9/4e-s!p1p/D6x2p2e8b1i5t*!--!fw{fjdT3q)b1N/x1p4e5b1i3t9!--!q1b/N4x3p6e:b7i9t*)-q!swffMdx3p)e1b/i1T:E:31f:s5v-u!y.f1u/!4,1!9*1{3/4e*s-p!pwDfxdp3e)b1i/t7!:-4*:17z1e-!!-.11//14)737d3f6w4!*,-!!zwyf/de3s)p1p/D7x8p9e9b9i5t-!!-.f1{/j3T1q5b7N9x9p*e-b!iwtf!d-3q)b1N/x1p1e2b9i1t2)-q!s1f/M8x9p1e4b3i9T*E-3!fwsfvdu3y)f1u/!2,5!6*2{8/8e-s!p.p1D/x9p:e9b:i9t5!*--*!1wzfed!3-)11y/e1)733d7f6w6!-,!!.z1y//7e2s2p9p7D7x*p-e!bwiftd!3-)f1{/j4T2q6b3N3x7p-e!b.i1t/!7-1q5b3N:x8p*e-b!iwtf)dq3s)f.M1x/p8e9b1i2T5E63-f!s1v/u5y9f7u3!6)2!*>-!!xwpfedb3i)t.!1</t4v8j2e9b7S9x-p!e1b/i9t9!3+2!4z9/*f-{!jwTfmdf3y)f1u/!3,1!1>5!827z-e!!1u/b5p:m5g5!4<1t*v-j!ewbfSdx3p)e.b1i/t5!:+5!6y6/3f-{!j.T1m/f8y2f2u1!6,2!*>-!!2wyfed!3u)b1p/m7g2!3<5t8v7j-e!b1S/x8p1e6b3i6t3!*+-!!zw/ffd{3j)T.m1f/y6f8u9!9.5!6>-!!1.z1e/!8u7b9p8m:g3!*<-t!vwjfedb3S)x.p1e/b8i8t3!5+6!5y-/!f.{1j/T1m:f1y:f8u7!*.-!!>w!f1dy3e)!1u/b6p1m5g5!5<1f-{!j1T/q4b8N3x3p:e6b*i-t!!w0f!d*31)/12/)236d6f8w4!7>-!!f1{/j1T7m6f2y6f8u*!-3!dwffwd!3\v)*1U/G4P:T2`6G3D3Q-`!F1Q/Z9U5`:Q7B1N6X*P-E!BwIfTd)3e)f.o1j/g7f3e1!2g1j7m-f!$.\v1!/<4*319/2:1!50*!-1!/w2f)d!3+)!1*/!8*9{:/3e4s:p-p!D.x1p/e5b2i:t:!7-6**2-z!ew!f-d23y)e.)13/d6f5w6!4,:!7z-y!/1e/s6p4p9D2x4p4e*b-i!tw!f-dq3b)N.x1p/e2b8i9t6)7f5s-b!q.n1p/D6E:37f1s6v8u*y!f*u<!!,g!m*p{b/ue!shpfpuDQxDpTeTbTiitb!e-p*x2)zteb!n-q1m/f1s)33Ed!ftwi!b,e!pzxyN/beqs-p!pwDfxdp5e!bdiptp!s-eqtb-N!xgpmepbbiut!)mfjshbiqunTpjD{Ef3Dfpssvsufydfuuj!p,o!**!{|/!ewsfpdp3D!xvpwe!b>i!td!p-p*s2ezte/!y-z1<y!eg)m3pdbfuw!!{,S!fzdyf/jewsfpsp!D>x!pdepbpiste!t-/q{b<N!xgpmepbbiut!)tffsbbsqdnipSDbEe3jfvstv!u>y!fqud!t,t!Q*b{s/benstp/pyD!x+p!eqbdittt!Q-b*s1b/n1t!/-z2!y+e!)m3jdhfiwu!T,j!{zfyD/pessspfpdDuxjppeob<i!tg!m-pqbbuN!xcpmepbdiltf)sfEsfbqqunipTDvEn3!f>s!v1u/y1f<u!!j,o!u*!{o/vensCpmppDdxlpfesbti!t>!!-1z<y!/gepssp!p)Djxopue!bji!t>!!-1q<b!Njx!p=e!bCiMtP)DfLsFbSq`nTpFDBES3DfIs`vTuByNfQuM!F,T!<*!{j/,e,s*p!p|D!xgpmepbbiut!!t-i*b1e/p1x!N-b1qyEef)q3udif!w>!!,v!ozqyb/delsSpHpCDBxUppeEbfiqtu!i-)qubfNyxupvesbfi3tE))ftsibbqenppxDNEb3qf-s!vvuwy!f,u!!Q,p!j*t{t/peosTpbpnDqxmpfesbti4t3!]-j*^1!z+e!!t-f2bysed)i3Sdbfewj!v,t!*z*y</!ejsgp!p)DtxipbeebpixtN!b-qqEbfNqxupie!b=i!t{)SffsdbfqjnwpfDsE*3!f|s!vcumypfdul!f,s!E*f{q/ueisTpvpnD!x,p>e!btiitb!e-p*x1Nzbeq!E-f1q/u1i)<3!dofvwn!C,m!pzdyl/fesstp!p,D,x<p!e~b!i~t!!j-gq!b)NoxvpneCbmiptd)lffssbtq!n>p>D!E13*f!ssvfuuyvfsuo!!,2!/*1{</!egsmpppbDux!p{eCbmiptd!l-f*s1!z>e!!c-m1pydel)f3sdEffwq!u,i!Tzvyn/!e0s!pgpmDpxbpue)boivtn!C-mqpbdNlxfpsetb*i<t!)gfmspbbqun!pbDbEP3gfgstvfuuy!f>u!!q)d!t>t!Qxbpsebbnitt/!z<!t+v!j2e1b/S1x<p!egbmiptb!u+!!qzf/ofv{njcTsmbfSybfuuj!p,!!>>!!)2{zSef!dufbjpwmfgs!!<.t!v{jCembpSdxlpfesb*i!t,!!+b!byP/gfg{tjfTum<f!ygfmup!b,u!!>g!j2myuef!suSbbpemjgv!t<!t>v!jqefboSvxnpcesbbiStb!u+j!pz!/+f!{qjdTtmtfQybfsub!n.t!/>y!!1+z!eq!dutbtpQmbgs!b<nttv/jze!b+S!xqpdetbtiQtb!s+b!nyt//f{{!j+T!mmfjyhfiuu!T.j!{>f!D1pyses!fudbupjmpgo!<<!fg{mjpTbqub!Ntxipbeebpixt!!>0!!1*/11/<2!)g3mdpfbwu!!>s!bfo{ejgT!m>f!ygfsub!d3ud)ftwj!o\v)*eGpDuQ)`vFwQ-ZwUf`dQ3B)N2X3P/E:B9I:T9)-e8f9o/j3g4f4e*!*g*j!$+\v!!5|4!8*6u9t/f6U5n6v4u*t<v!sggm)p!bguj!!s<p*udbfuWjuptofBUonhvmuft!v>s!gs)bmomebg!!>+!!u4t/f2U5n2v6u:t3v7s<g!!wmfpdp3c!!s<p*u1b/u2j!p>o=W!f{d/uepssp!p>D!xwpfedb3i)td!p-tn)vsuptuvbsuGjopjo)B3odhfmwfc*!->!!tdjfoW)ustpfuUbnuvjuptovBsogh!m3fd*f*w<c!!w<f*dd3f!Wpngvguttfvus<G!o\vj$)VmOmSbP!M>M!`nMvPuPtQv`sTGUoBjS!Um\vp!pgcp!s<!*)1j/o2u!!>j=!!>z!/1e<s!pjp!D=x!pQeDbGi`tT!B-N1Q/M1F!T><?!!jz,/,e*s!p|p!Dpxgpgetbfiut!!>-!1Q/p2j!t>t=p!oyT/bensqpmpfDsxtp7e5b]ijt^!<-!1p/g1g!t>f?u!!y>/!ewsfpdp3D)xppgegbtiftu)/!y5!d+f!wscp!u>b!udjfpWonWvfudtuvpssG/oyj!!.5!dpfgwgct!f<u*/:z:!:+:!:s:p/u1b!u-j{p/oeWsfpdpuDpxsp/ezb-i!tp)gogjtnf!u>/!z{!/+e!sspppuDbxupjepboiWtf!d<utpbsj/Cyx!p,e!bpigtg!t>f,u!/{y/!e+s!psppDuxbpuejbpiotW!f<d1u/p2s!/>z!*x<p!etbiibte!puxb!p,m>g!!t|u!f*qo)p{jSufddffsjswpfDsf-{!jvTouqibhdjlmS!HuCbBpUmpgE!f-qeusip)puDfxypuevbsift3!E5)dtfiwb!e-ptxvNjbeqb-S!xvpwe!b,i!tp!gugbtpfmug!!+-!tgbjjmCuxfpseSbbietj!vutb*p*m*g<!!-~f!{\vj$TVqObSNPxMpMe`bMiPtP!Q3`dFfOwE!\v-!qtbiNbxeppexb!i0t>!!Eg3mspfbmuq)nQbDtG)`xTpBeNbQiMTFuTf*h<!!utbipbmegp!x~!!><!dn!joys)vtuifbse!p<x*-y!/2g/!--!c{!S-fbd)fyjjwnf!s>!!.d!!{uCbmppmdgl!f<s**z</!gs!f-uuvss!o-!ctsi)byejpnx!<>!!~c!!\vu$bfpomegj!g<\v*!zg/mgp!b-uu!mu!f-ycumv)syfj3nE!D>p!nbq!busbfp)mtgb!n<q*m6f/s13!E,!!eff{qjuti!t+-!!wwvf)du3d!bvswg-!!>g!mgp!b3ud!fdwp!n<q*bfssfb*q!n|p!ds!f-uzvzs/ou!fttugfgqp)!d+p!nfq{bjsTfm-f!yvfouq!b,d!lWSVHeCjBpUspuEoffqdu!i-)tuifuyqufves)ff3sEb)qenfpqDuEi3tf-s!vvuwy*f*u*!<>!!~u!sg!mupbbpum!gu!f<y*ufvssbfq3nEpTdi!b-eypzx/Muffstqg)gtpb!n+q!mff{sj3TEm!feyffquu!i,t!-W!Vwefjdp3s!utojf{df!--!twifudq3f!ev)wf-s!bgqmnppbDuE!3dfpsnvqubysffu*!!>|!!cdsp!outbup!mwgf!d<3*!fpsgbgqtnfpud!!>-!zwyf/du3f)t1g/g1p-!!+2!/f1{*j<T!mwffydf3u!!u,f!yWfVmeTjjp{sfu!o>f!dw!f-dt3i)u2q/f1e*)!f0s!btqjn{pfD<E!3wffsdv3u!ydffuo!u>s!pujme!VuWb!p>m!gg!m<p*pfss)bvqwn!p+d!!t-jy{yf/!u,f!t1g/g6p*!!+0!!ft{jj{Tfm<f!ygfmup!b,u!!WmVce!j>p!suufoyfudv!s-ft3iEuDqpfneq)bfs",e["shadowMap.fs.body"]="g$jjegoeff$g\v!!V~T!F\v`gTjIeBoEfP$X\vN!B<Qf\vv!mjbgW!x)pteibbietp!x>S+f!dnfsjfwUfu*s!f|c!ngbmmp!b\vuf!ttmifb$e\vp!x<WfbvmmvbfW<x!p\ve$bjigte!f>g+!!VsTpFm`pDdT/Nu\vi!hgjmMpubduf!smjjeo!f\vb*sSECfQq)ueif!o>j!g.fweN!w}Q}p!t*jHuOjPpIoQ/){e!f0o!jdgtfneE!fgqju$i\vS!b<o*hffv<m!btWixbpeepbxiWtb!m.v!f1!/>2!)2!/+1!<z!u\vj$tVoOfSuPoMJMx`pMePbPiQt`!T.U!B1S/U2\v!!>g!pfsv!m)bjWoxup!ejb!i>t!!1~<!!<jo!s=v!uDfTsN!`<DeBsTbDdBtEjFeT!<|!!j*,1,/*2!!|>!?j!gf!v)mmbjWoxfpbesbEiftq!u%i%!!?m>m!vdDtxnpDebbtidtb)e!fgtj]!j\v^g/jye!o%f%$!\vm!j<o*f1b/s2E!f-qeusip!p=D!xdptenbDibtt!d-btevfjte]bjS^x/pze*b!i|t!!t-itbbejpCxxWpbembvift!!+->f!{hjfTuxTpiebbeiptx!)-tqibbNexppxeNbbiqt])Jx^p-e!btiiTbuefphx!T>j!{ffv-m!btWixbpeepbxiCtj!b\vtf-t!mtfi$b\ve!p\vxESObFe`jQvPtP-M!`tMiMbPeSpOxVD$p\vp!s~e!]~j!^\v-g!jqedotft$D\vT!N\vMgjjheioufT$j\v{!f~D!p<s*spfjduubjSpgog]jje^!*-<f!v\vm$bjWgxepfegb!iDtT!N-`xGpBeEbFi\vT!u\vy$fjog)!y]jJn^!!>=!!fDvTmNb`WDxBpTeDbBiEtF!T<!*.^!22,\vj!]gomppjbuud!fesjsgpgDSfb{ujjTpu!i>h!j)MdNtTnDDtbttddqb!e-f^t2],jj^]/ezs!p.p!DmxjpoefbbistE!f-qtuvij*e!b0S!x)pdetbniDtb!t-dtbbejfCtx]pje^b/izt!!.-!fd{tjnTDxbptedbbietf!t-]^j2^,/Jy]*q!b+N!xdptenbGibte)fxGpbedbuipTsu<f!hj!g>!!)xepjegbgiSTbuuyjfpo!!=u!b2p/m1g*!!|",e["bufferGrabber.fs"]="~0!0\v!g$jQeSoFfG$J\vY!\v<!*\v1$/e2f!g-j*omfb!nDsMpJOQw`)ECJHSSFpDUUmJbPnOs\vp!Owlbdsbzqj)o5hd!fwwf!d>4!!mwbMnpsdpbOmhQbpstgj!u\vjMpBoN<S!P\vO$`jCgBeSfHg!!gHfSeBgCj`$O\vP!S<N*B{M/\ve!smpbpzDphvbus)Gm`pmdhb)uBjCpHoS>p2U*i!upqvfuE!lidjbhqi!q>!!wsfpdm5p!DghsbbshGO`pmshn!b\vm?<z!ewpbcs/ztjgo/hy!pwcfqdj4m!dw=O!pfsenvbmmd<o!j\v$$\vf!o\ve?jzge\vp!c\v/$tjgo/dompvjeufd!f=sqjbEdqljjmodh=?!\vf!e\vv$mjdoodjm$v\ve!f|!!=*d)mojjqbEnj!sefjdpuwj!p\vog/jgeto/fi$f\vb!e<?o\vp!j\vu$jjtopdQmevmesfp!X=wd!m4jdqfcwp!yh/ogjtz/sibfwb!e\v?1\v!!?\v!$SjFgQ!QNJBMYD``CYP",e["flowMap.vs.head"]="g$jjego!fN$B\vY!`<G^MUPDXF`KPCCPK`FXDPUM!G?`!Y1B\vN!]vwoVjxgppmsgn!!3ndbfuw5!!hgomjpzxsNbbwu!s<j^yU]DNFBKYC`PG`MXP",e["flowMap.vs.body"]="g$jjego!fN$B\vY!`~G!M<P6X/`1P!C,K!F*D{U/!m?b!d1p\vM!wwVfxdp4m!gg!m,p!xzV/wmMbpddpbMmw<V!xgppmsg!.)!j-oyu/!mjb!d>p!M1w<V!xjp!m=g!)N3BdYf`wG!M>P!X^`jP]CwKVFxDpUm<g!!j<,{,z*y!/|*!*g1m/p2x!V-w{Mzpyd/bemf!n>s!p)ggtmopbxsNub)u5sdjfyw]!j+^!!y+j!svuNbpNemf",e["flowMap.fs.head"]="g$jjego!fN$B\vY!`<G^MUPDXF`KPCCPK`FXDPUM!G?`!Y1B\vN!]vwoVjxgppmsgn!!3tdbfnwq!mhfosj3zEs!bgwm!p<x^UUfDyFuKvCsPf`]XNPBMYG``GYMBPNX]`fPuCjKoFjDgUo^J<x!pvmogj!gmppspnc!!cnpsppmg!jgomvp!x<F^oUbDcFmKfCeP]`NXBPYM`G",e["flowMap.fs.body"]="g$jjego!fN$B\vY!`\vGEMOPFX``QPPCPKMF`DMUM!P?S!O1V\v$!\vw!f~d!5\v!ggjmepoxfU$f\vy!f<mc<h!s\v/$mVfOySfPUMxMp`mMgP!P>Q,`!TcUhBsS/Ue\vJ!!g\vpfst!m)fj$o\vu!!<jb>c1h<s!/jm!f=y!fNUBxYp`mGgM!P>X,`!PbCcKhFsD/Ue<J!!j\v,*,!*B!C|H!Sg`mEpExBU`fFyEfPmN!`>E!OuFfMyCu`vXsPfM3GE!))gemfpoxjUgffyeu!vgsjfm]fJ$^\v-!!<gbmcphxsV/wm]fjy^f*U<x!pjmgg!!)>g!mbpcxhFso/becJm!f\ve*]!jB^C!H%S%`!F)EgJmSpSxFJWoPg`jFoEjPuNf`]EjO^F!M}C}`!XbPmMmG)!m)fetftoUjigbfoe)!ggmjpmxfV$w\v]!j<^b-/!mwffydf3U)x2p/m1g*!*>*!!b%/%e!Jb!m\vm*)!hBs`fFbEuJfSsSUFiWbPo`)FgEmPpNx`VEwO]FjM^C-`!XwPfMdG3!))1e/f1o*j*g*f*e*!!g\vj$mjfg$!\ve!f<gcjhosf/em)f!yGfMUPxXp`mCgM!F>O!Ec`hNsP/EeFJ`!N\vV*M!UCJHQSM`ZF`ESJHSCS!F*W\vP!`JFeE/PsNh`cE!O+F>M!Cg`mXpPxMUGf!y)femf/osjhgcf<e!!\vg$jfmmfj$g\v!!e<fbgcjhosf/em)f!yGfMUPxXp`mCgM!F>O+E!`bNcPhEsF/`eNJV!M\vU*J!QBMCZH`S",e["normalMap.fs.head"]="g$jjegoeff$g\v!!V~T!F\v`gOjPeSoNfB$M\vN!B<Q*\v{!/vOoqjbgnp!s+n!!ntsbpnoq`mgfssv3tE!!,o!pzs/nObqmbNnb!q+<!!*\vu$ojfghooebfugj!CVwT)Ff`{VjCmPb\vn!svpooj!g,p!syn/!Owqfbdn3!!+o!p*sunobfmhTodbbUmwf)<f!{\vj$mfbonesjpgo\v)!f\v{$jjmgbenfsgp!oV!ToFs`vUuBfOsH!F\vOfUt\vm!fw$b\vs!z<j*o{h/!Owqfbdn4!!+w!UOb!o,h!f*ofum<b!dwtb!s+z!jzo/hO!qwbfnd)4!!+w!CCj!u,b!o*hffmobud<t!!\v+$!fyo/eOjqgb\vn!)\v!$+f!oUe)jfg{\vj!m\vb$njsgp!o)!eofsgvjuoffse!)<U*BuOfHeF)OuUsTrQtBfDtFs`fOwPoSjN!B+M!NoBpQj*u!d}f}s!jeEffgdjbogf!e;!!)1V/T1F!`@D!M*F1B/S1D!P>B>U!`uOfPeS)N!B>M!NfBmQb*d!t}!}u!bepfmggj!o<f*e*)CV!T-FC`)VuWp*e*!\v-!*wUf!d-4U!)qufpseu)vysbcnO!p>s!nubfme3!Busbcp)mwgf!d<4z!/f2zuft`!q+p!tq-s!fwqf1dr4!!,t!vzs/g1`uotp!s+n!-q!swffqd24r!!n>b!qCO!-4!dgfmwp!b<uy!/g2budtf!E+j!sqfsdfuqj1pro!*,!!|y!/\v1$ujtg!!+a!eqfsgfjqo2fre!)>V!TUF!`4UdBfOwH!F<O*U1*r\v!!-wOf)dt4t!prs1d!!>>!!eqGsefyq)1frz!f4`dqfpwt!/<y*zO{!*-<2!rw)ftdt4p!srd2!!>>!!qesGfeqz2)rf!z4fd`fqwp!t</nyszp{o*`<g!swvftd!3>!!tOu!14!d>f!we!G<e*yu)tw/VwwV/wt)uz*e<G!ew!f>d!32!ut",e["envmapPhysical.fs.head"]="g$jjegoeff$g\v!!V~T!F\v`gFjOeWoNfB$Q\v\v!!<v*o1j/g1p)s4nd!fgwm!pobsuv!uffosw!N\vbfqtJmofu$f\vo!t<jzuuzj<t!ovfoujogJpqsbnN!wgomfp!b+u!!cghmsj/qsFpomwpNDbqqb<N!w\vo$fj!goesfvgu!fFsO!W<N*BtQt`fUoZiQhFv`pDsV!C-Fd\vf!Wvuodjfgmpgsfns!!t-bqnbqnmwfosfD)vWcVff!cfvoDwfnsbvqu<y!f\vu$!f>m!tsfp\vm!pvDoqjbgNpwsonf!!t5bdnfqwm!f<s*3yEj!sfuobwNnxbfqj<W!v\v!$-fdofeWjugd\vf!mwgffds4)!ohpfjuuJdCfMsJjsEsnbsepjgbtoodbfs)Udfptostfuw!ojjo!!>w!fddf4W!uodpfsmngbfms*!!<|*!*\vt$tjfgo!iehfvgpjso!f+e!)tFtOfWoNiBhQv`pUsZ!Q-Fm`bDnVsCpFo`!V-Wd*f\vW!uwdffdm4g!fxsp)symjenO)pfs{njbmmb!n>s!pjoo!w>f!sdtffWUusdbfomtggfpss!n<E*jmsbfndsupjop!o-)sojpEsxnfbjmw-!!.v)WujdffxmNgbfuss!j>y!*d<f!Wwufddf5m!gffosw!N<bdqfDWpumdpfsm!g>f!su!f4ydufvws!f\vD*vWcVf`VFWC)VfDo`wFnQbZqU-`!QxBpNsWmOeFO)pesfnobjmg-f!e2!/g1j*$<\v!!s|f!u*vtstof!oQiJh!v+p!sf!ouwbNpbmqgD!pomjp!su/tsohpcd!!+-!mfbonwsNpboq!J4oduffwo!tojju!zu<t!o\vp$df!m-tsfj\vE!xsffjuwv!s4od!fwwf!do4j)!1u/t1o*p<d!)\vf$dfoobejjegb\vS!M~C!Jwuffdh4!",e["displacementMap.vs.head"]="g$jjegoeff$g\v!!V\vTgFj`eEoJfT$Q\vM!B<DtFbNjFCOuUoNfBnQf\vd!bvmoqjtgjpes!nu!btpbmngq!mnfssp3gEj!oevj!t<qfmmbbddfTnufoofunNfbdqb<m!q\vt$jjeg!ouebfpgm!gV!TnFs`pVgCjPo\vv!",e["displacementMap.vs.body"]="g$jjegoeff$g\v!!V<T*Ft`bEjJCTuQoMfBnDfFdNbFmOqUtNjBeQ!\v,!!ufsmbbodtTguposfnnffed!b,m>q!tojpes!n+b!myj/{*fw)Vpwc!k-fqdbuNOuposfnnbfmd*b!m+q!t)juef)yEu3vfs",e["bloomSelective.fs.head"]="<vuovjpglpdsbnm!cc!pmp",e["bloomSelective.fs.body"]="~j!g<!o)scvmubfdsl!p<v*u1*/!2|!!-h1m/`1G!s-b1h/D1p!m-p1s/!1>)!5wdf",e["highlightDetect.fs.head"]="~g!m<p1b/u1!!hofsuvIujfhsi!m<j1h/i2u!Dopsmvpusf)st!b*n!q*m2f1s/31E!!=j!n*byh/fs-p!mwpfDdl3t!bdnp!p.s!ey*/!d|)!twcfbd!5%!%d!!6>/!1u!f>y?u!vxs/fd3!E})}j!n2b1h1f/-1!!d=p!pys/es*p<m!pjDgl!t)bdn/!y%!%,!!6d//1z!!=,!!xd//d{)!!,%!%d!/1x/!1?!";var $G=I.graph3d.PostProcessing=function(P){var N,q=this,L={},e=!1,J=!1,F={model3d:!0,mesh:{is:[0,2,1,1,2,3],pos:new Ms([0,0,1,0,0,1,1,1])},mat:null},s={type:"blitScreen"},l={type:"fxaa"},H=(v.keys($G).forEach(function(V){((V=L[V]=new $G[V](P)).resetProperties=function(){var V,R=this.serializeProperties;for(V in R)this[V]=R[V]}.bind(V))()}),q.getModule=function(V){return V?L[V]:q},q.getModuleList=function(){return v.keys(L)},q.resetModules=function(){for(var V in L)L[V].resetProperties()},q._serializable=!0,q.handleDataModelChange=function(V,R){V&&(q._serializable&&V.setPostProcessingData(q.serialize()),V.removeSerializeListener(q.onDataModelSerialize,q)),R&&(R.addSerializeListener(q.onDataModelSerialize,q),q.deserialize(R))},q.onDataModelSerialize=function(V){"serialize"===V.type?q._serializable&&(P.dm()._postProcessingData=q.serialize()):"deserialize"===V.type&&q.deserialize(P.dm())},q.isDeserializeDisabled=function(V){return!q._serializable||V.a("sceneBloom")!==N8},q.isSerializable=function(){return q._serializable},q.setSerializable=function(V){(q._serializable=V)||P.dm().setPostProcessingData(N8)},q.serialize=function(){var V,R,Q,X,b={};for(R in L)if(X=(Q=L[R]).serializeProperties){for(var A in V={},Q.enable&&(V.enable=!0),X){var c=Q[A];c!=X[A]&&(V[A]=c)}v.keys(V).length&&(b[R.toLowerCase()]=V)}return b},q.deserialize=function(V){var R,Q,X={},b={};for(R in L){var A,c,f=(A=L[R]).serializeProperties,S={},F="scene"+R;for(c in(D=V.a(F))!==N8&&(S.enable=D),f)(D=V.a(F+c[0].toUpperCase()+c.slice(1)))!==N8&&D!==f[c]&&(S[c]=D);_J(S)||(b[R[0].toLowerCase()+R.slice(1)]=S)}if(b=_J(b)?V.getPostProcessingData():b)for(Q in b)if(Q&&(R=Q[0].toUpperCase()+Q.slice(1),A=L[R])){X[R]=!0;var D,P=!!(f=b[Q]).enable;for(c in q.enableModule(R,P),V.a(R="scene"+R,P),A.resetProperties(),f)"enable"!==c&&(D=f[c],A[c]=D,V.a(R+c[0].toUpperCase()+c.slice(1),D))}for(R in L)X[R]||((A=L[R]).enable=!1,A.resetProperties())},q.getRenderTarget=function(){return N},q.blitScreen=function(V,R,Q,X,b){var A,c,f=P.getGL();if(null==V)X=R,b=Q;else{var S=V instanceof wp;if(S){if(R&&(R.type||R.model3d)&&(X=R,b=Q,Q=R=null),0==R||0==Q)return;R&&Q&&V.setSize(f,R,Q),V.bind(f),b&&b.viewport?P.setViewport(f,b.viewport[0],b.viewport[1],b.viewport[2],b.viewport[3]):P.setViewport(f,0,0,V.width,V.height)}else X=V,b=R}b&&!1===b.clear||f.clear(16640),b&&(b.preRender&&b.preRender(f),A=b.data,c=b.matrix),X&&X.model3d?P._prefabRenderer.render(f,X,A,c):(F.mat=X||s,P._prefabRenderer.render(f,F,A,c)),b&&b.postRender&&b.postRender(f),S&&V.unbind(f)},q.enableModule=function(V,R){for(var Q,X=V.split(","),b=0,A=X.length;b<A;b++)Q=X[b].trim(),L[Q]&&(L[Q].enable=R);for(Q in e=!1,L)if(L[Q].enable){e=!0;break}},q.isEnabled=function(){return e},q.dispose=function(){for(var V in J=!1,rg(P,N),N=null,L)L[V].dispose&&L[V].dispose()},!(q.resetBlendState=function(V){t8.for(V).glState.blend.apply({enabled:!0,equation:32774,func:[770,771,1,771]})}));q.isRenderingScene=function(){return H},q.render=function(V,R,Q,X,b){if((e||b)&&(J||function(){var V;if(!J)return V=P.getGL(),V&&(N=new k.RenderTarget(P,V,null,null,{samples:g8.renderTextureSamples||1,minFilter:9729,magFilter:9729,depthFormat:P.isWebGL2()?36012:null}),J=!0)}())){N.setSize(V,R,Q),H=!0,N.bind(V);(b=ng(V,!0))&&0===b[0]&&0===b[1]&&0===b[2]&&0===b[3]?b=null:Mg(V,[0,0,0,0]),V.clear(16640),P.setViewport(V,0,0,R,Q);var A=!1!==(X=X||{}).renderAxis,c=!1!==X.renderEdit;X.renderAxis=X.renderEdit=!1,P.renderScene(X),H=!1,N.unbind(V);for(var f,S=0,F=P._glCapabilities.maxAttributes;S<F;S++)V.disableVertexAttribArray(S);var D=N;for(f in L)D=L[f]._42(V,D)||D;return P.setViewport(V,0,0,R,Q),b&&Mg(V,b),X=q.getModule("Fxaa"),b=P._attributes&&!1===P._attributes.autoClear?{clear:!1}:null,q.resetBlendState(V),X&&X.enable?(l.resolution=[1/R,1/Q],l.image=D.texture,q.blitScreen(l,b)):(s.image=D.texture,q.blitScreen(s,b)),(X=q.getModule("Bloom")).blendAtFinal&&X.composeFinalBloom(V),V.useProgram(P._prg),P._renderAxisAndEditHelper(A,c)||(R=P.getGLState())&&(R.depth.enabled=!1,R.blend.enabled=!1),!0}}},jG=(I.graph3d.PostProcessing.HueSaturation=function(X){var b,A=!1,c=!1,f={type:"hueSaturation"},S=[],F=[],D=[];this.serializeProperties={hue:[0,0,0,0,0,0,0],saturation:[0,0,0,0,0,0,0],lightness:[0,0,0,0,0,0,0]},v.defineProperties(this,{enable:{get:function(){return A},set:function(V){!!A!=!!V&&(A=V,X.iv())}},hue:{get:function(){return S.map(function(V){return o8(180*V)})},set:function(V){if(S!==V&&7===V.length){for(var R=0;R<7;R++)S[R]=V[R]/180;X.iv()}}},saturation:{get:function(){return F.map(function(V){return o8(100*V)})},set:function(V){if(F!==V&&7===V.length){for(var R=0;R<7;R++)F[R]=V[R]/100;X.iv()}}},lightness:{get:function(){return D.map(function(V){return o8(100*V)})},set:function(V){if(D!==V&&7===V.length){for(var R=0;R<7;R++)D[R]=V[R]/100;X.iv()}}}}),this.dispose=function(){c=!1,rg(X,b),b=null},this._42=function(V,R){var Q;if(A&&(c||(Q=X.getGL())&&(b=new k.RenderTarget(X,Q),c=!0)))return f.image=R.texture,f.hue=S,f.saturation=F,f.lightness=D,X._postProcessing.blitScreen(b,R.width,R.height,f),b}},I.graph3d.PostProcessing.Bloom=function(F){var D,P,N,R,q,L,e,J,s,l=this,H=!1,K=!1,y=(this.serializeProperties={strength:1.5,smoothWidth:.01,threshold:.55,radius:.4,overrideAlpha:!0,blendAtFinal:!1,selective:!1},v.defineProperties(l,{enable:{get:function(){return H},set:function(V){!!H!=!!V&&(H=V,F.iv())}},strength:{get:function(){return D},set:function(V){D!==V&&(D=V,F.iv())}},smoothWidth:{get:function(){return e},set:function(V){e!==V&&(e=V,F.iv())}},threshold:{get:function(){return P},set:function(V){P!==V&&(P=V,F.iv())}},radius:{get:function(){return N},set:function(V){N!==V&&(N=V,F.iv())}},overrideAlpha:{get:function(){return R},set:function(V){!!R!=!!V&&(R=V,K&&Y(),F.iv())}},blendAtFinal:{get:function(){return L},set:function(V){!!L!=!!V&&(L=!!V,F.iv())}},selective:{get:function(){return q},set:function(V){!!q!=!!V&&(q=!!V,F.iv())}}}),[256,256]),t=[],g=[],m=5,Q=[3,5,7,9,11],z=[];function Y(){for(var V=0;V<m;V++)z[V]={type:"bloomBlur",defines:{KERNEL_RADIUS:Q[V],SIGMA:Q[V],OVERRIDE_ALPHA:!!R},internalDefines:!1}}l.dispose=function(){K=!1,rg(F,J,s,t,g),J=s=t=g=null},l.composeFinalBloom=function(V,R){var Q,X,b;H&&K&&(Q=F._postProcessing,X=t8.for(V).directState(),b=X.depth.enabled,Q.blitScreen(R,{type:"blitScreen",image:t[0].texture},{clear:!1,preRender:function(V){b&&(X.depth.enabled=!1),t8.for(V).glState.blend.apply({enabled:!0,equation:32774,func:[770,1]})},postRender:function(V){Q.resetBlendState(V),b&&(X.depth.enabled=!0)}}))},l._42=function(V,R){if(H&&(K||function(){var V=F.getWidth(),R=F.getHeight();if(V&&R){var Q=F.getGL();if(Q){y=[V,R];var X,b=Math.round(y[0]/2),A=Math.round(y[1]/2);for(s=new k.RenderTarget(F,Q,b,A),t=[],g=[],X=0;X<m;X++)t.push(new k.RenderTarget(F,Q,b,A)),g.push(new k.RenderTarget(F,Q,b,A)),b=Math.round(b/2),A=Math.round(A/2);return Y(),K=!0}}}())){var Q,X=F._postProcessing;q&&((J=J||new k.RenderTarget(F,V)).setSize(V,R.width,R.height),J.bind(V),(Q=ng(V,!0))&&0===Q[0]&&0===Q[1]&&0===Q[2]&&1===Q[3]?Q=null:Mg(V,[0,0,0,1]),V.clear(16640),F.setViewport(V,0,0,R.width,R.height),V._blooming=!0,F.syncRenderState(),F.renderScene({renderAxis:!1,renderGrid:!1,renderEdit:!1}),V._blooming=!1,Q&&Mg(V,Q),J.unbind(V)),X.blitScreen(s,{type:"bloomHighPass",smoothWidth:e,luminosityThreshold:P,tDiffuse:(q?J:R).texture});for(var b,A=s,c=Math.round(y[0]/2),f=Math.round(y[1]/2),S=0;S<m;S++)(b=z[S]).texSize=[c,f],b.colorTexture=A.texture,b.direction=[1,0],X.blitScreen(t[S],b),b.colorTexture=t[S].texture,b.direction=[0,1],X.blitScreen(g[S],b),c=Math.round(c/2),f=Math.round(f/2),A=g[S];return X.blitScreen(t[0],{type:"bloomComposite",blurTexture1:g[0].texture,blurTexture2:g[1].texture,blurTexture3:g[2].texture,blurTexture4:g[3].texture,blurTexture5:g[4].texture,bloomStrength:D,bloomRadius:N,bloomTintColor:[1,1,1]}),L||l.composeFinalBloom(V,R),R}}},I.graph3d.PostProcessing.Dof=function(F){var A,D,R,Q,X,P,N,c,q,f,S,L,e,J=!1,s=!1,l=0,H=!1,K=B.generateUUID();this.serializeProperties={useDepth:!1,aperture:.025,maxblur:1,overrideAlpha:!0,image:null,focus:1e3,range:100,density:10,densityInverse:.1},v.defineProperties(this,{enable:{get:function(){return J},set:function(V){!!J!=!!V&&((J=V)||(H=!1),F.iv())}},image:{get:function(){return R},set:function(V){R!==V&&(R=V,H=!1,D&&(F.deleteTexture(K),D=null),F.iv())}},maxblur:{get:function(){return Q},set:function(V){Q!==V&&(Q=V,F.iv())}},overrideAlpha:{get:function(){return c},set:function(V){!!c!=!!V&&(c=V,F.iv())}},aperture:{get:function(){return X},set:function(V){X!==V&&(X=V,F.iv())}},useDepth:{get:function(){return!!f},set:function(V){!!f!=!!V&&((f=V)?F.enableDepthGrabber("sceneDof"):F.disableDepthGrabber("sceneDof"),F.iv())}},focus:{get:function(){return S},set:function(V){S!==V&&(S=V,F.iv())}},range:{get:function(){return L},set:function(V){L!==V&&(L=V,F.iv())}},density:{get:function(){return e},set:function(V){e!==V&&(e=V,F.iv())}},densityInverse:{get:function(){return B.safeInvert(e)},set:function(V){V=B.safeInvert(V),e!==V&&(e=V,F.iv())}}}),this.dispose=function(){s=!1,D&&(F.deleteTexture(K),D=null),rg(F,A),A=null},this.setImageFromGraphView=function(V,R,Q){this.image=null,function V(R,Q,X,b){q=null;var A=R.getCanvas(),c=A.width,f=A.height,S=(((X=X||1024)<c||X<f)&&(S=X/Math.max(c,f),c=Math.round(c*S),f=Math.round(f*S),P=P||IJ(),A=L8.resizeImage(A,c,f,P)),F.getGL());N=N||S.createTexture(),D=ug(F,S,A,N),l=Q||.01,H=!0,F.iv(),b--&&(q=q||L8.callLater(function(){V(R,Q,X,b)}))}(V,R,Q,2)},this._42=function(V,R){if(J&&(s||(Q=F.getGL())&&(A=new k.RenderTarget(F,Q),s=!0))){var Q=R.width,X=R.height;if(Q&&X){if(f)D=F.grabDepth();else if(!D){var b=U(this.image);if(!b||!b.comps&&!b.tagName)return R;I.Default.setImage(K,b),D=F.getTexture(K)}return b={OVERRIDE_ALPHA:!!c},R={type:"bokeh",tColor:R.texture,tDepth:D,aspect:Q/X,maxblur:this.maxblur,defines:b},f?(b.USE_DEPTH=!0,F.isOrtho()&&(b.USE_ORTHO_CAMERA=!0),F.isFloatDepthTexture(D)&&(b.USE_FLOAT_TEXTURE=!0),v.assign(R,{near:F.getNear(),far:F.getFar(),focus:S,range:L,density:e})):v.assign(R,{aperture:this.aperture,useG2d:H,threshold:l}),F._postProcessing.blitScreen(A,Q,X,R),A}}}},I.graph3d.PostProcessing.Lut=function(A){var c,f,S,F=!1,D=!1;this.serializeProperties={texture:null,intensity:1},v.defineProperties(this,{enable:{get:function(){return F},set:function(V){!!F!=!!V&&(F=V,A.iv())}},texture:{get:function(){return c},set:function(V){c!==V&&(c=V,A.iv())}},intensity:{get:function(){return f},set:function(V){f!==V&&(f=V,A.iv())}}}),this.dispose=function(){D=!1,rg(A,S),S=null},this._42=function(V,R){if(F){var Q,X,b=c?A.getTexture(c):null;if(b&&(Q=b.width)&&(D||(X=A.getGL())&&(S=new k.RenderTarget(A,X),D=!0)))return A._postProcessing.blitScreen(S,R.width,R.height,{type:"lut",tDiffuse:R.texture,intensity:f,lutSize:Q,lut:b}),S}}},I.graph3d.PostProcessing.Custom=function(f){function R(V,R){return(V.priority||0)-(R.priority||0)}var S,F,D=!1,P=!1;this.serializeProperties={materials:[]},v.defineProperties(this,{enable:{get:function(){return D},set:function(V){!!D!=!!V&&(D=V,f.iv())}},materials:{get:function(){return F},set:function(V){(F=V)&&F.sort(R),f.iv()}}}),this.dispose=function(){P=!1,rg(f,S),S=null},this._42=function(V,R){if(D&&F&&F.length&&(P||(Q=f.getGL())&&(S=new k.RenderTarget(f,Q),P=!0))){for(var Q,X,b=R,A=S,c=0;c<F.length;c++)(X=F[c]).image=b.texture,f._postProcessing.blitScreen(A,b.width,b.height,X),delete X.image,X=b,b=A,A=X;return b}}},I.graph3d.PostProcessing.Ssao=function(u){var o,_,O,V,w,a,i,n,M,r=this,E=!1,$=!1,R=this.serializeProperties={aoRadius:5,distanceFalloff:1,screenSpaceRadius:!1,quality:"high",aoSamples:16,denoiseSamples:8,denoiseRadius:12,denoiseIterations:2,intensity:5,renderMode:"combined",colorMultiply:!0};for(V in this.resetProperties=function(){for(var V in R)this[V]=R[V]},v.defineProperties(r,{enable:{get:function(){return E},set:function(V){!!E!=!!V&&((E=V)?u.enableDepthGrabber("sceneSsao"):u.disableDepthGrabber("sceneSsao"),u.iv())}}}),R)!function(R){v.defineProperty(r,R,{get:function(){return r["_"+R]},set:function(V){r["_"+R]!==V&&(r["_"+R]=V,u.iv())}})}(V);this.resetProperties(),r.dispose=function(){$=!1,rg(u,o,_,O),o=_=O=null};var j=new W,C={performance:[8,4,12],low:[16,4,12],medium:[16,8,12],high:[64,8,6],ultra:[64,16,6]};r._42=function(V,R){if(E&&u.isWebGL2()){var Q=u.grabDepth();if(u.isFloatDepthTexture(Q)&&($||(A=u.getWidth(),c=u.getHeight(),A&&c&&((A=u.getGL())&&(o=new k.RenderTarget(u,A),_=new k.RenderTarget(u,A),c=Uint8Array.from(atob(jG),function(V){return V.charCodeAt(0)}),O=u.createTexture({data:c,width:128,height:128,filter:9728,wrap:10497}),$=!0))))){var X=(A=R.getSize())[0],b=A[1],A=u.getNear(),c=u.getFar(),f=u.getPostProcessing();l=r.quality;var S=(l=C[l]||[r.aoSamples,r.denoiseSamples,r.denoiseRadius])[0],F=l[1],D=l[2],P=S;if(a!==P){a=P,w=[];for(var N=0,q=Math.sqrt(P);N<P;N++){var L=2.399963*N,e=(J=Math.sqrt(N+.5)/q)*Math.cos(L),J=J*Math.sin(L),L=Math.sqrt(1-(e*e+J*J));w.push([e,J,L])}}var s={type:"ssao",sceneDepth:Q,sceneNormal:null,projMat:u._projectMatrix,viewMat:u._viewMatrix,projViewMat:u._projScreenMatrix,projectionMatrixInv:Lg(vs(u._projectMatrix)),viewMatrixInv:Lg(vs(u._viewMatrix)),cameraPos:u.getEye(),resolution:[X,b],time:performance.now()/1e3,samples:w,blueNoise:O,distanceFalloff:r.distanceFalloff,near:A,far:c,ortho:u.isOrtho(),screenSpaceRadius:r.screenSpaceRadius,frame:0,internalDefines:!1},l=v.assign({},s,{sceneDiffuse:R.texture,radius:r.aoRadius,defines:{EFFECT_SHADER:!0,SAMPLES:S,FSAMPLES:S+".0",LOGDEPTH:!1,HALFRES:!1}}),H=(f.blitScreen(o,X,b,l),F),A=11;if(n!==H||M!==A){n=H,M=A;for(var K=2*Math.PI*A/H,y=A=1/H,t=(i=[],A),g=0,m=0;m<H;m++)i.push(j.set(Math.cos(g),Math.sin(g)).multiplyScalar(Math.pow(t,.75)).toArray()),t+=y,g+=K}for(var z=0;z<r.denoiseIterations;z++){var Y=o,Y=(o=_,_=Y,v.assign({},s,{tDiffuse:_.texture,radius:D,worldRadius:r.aoRadius,index:z,poissonDisk:i,defines:{POISSION_BLUR:!0,NUM_SAMPLES:F,LOGDEPTH:!1}}));f.blitScreen(o,X,b,Y)}return c="ao"===(c=r.renderMode)?1:"split"===c?3:"splitAo"===c?4:0,S=v.assign({},s,{sceneDiffuse:R.texture,downsampledDepth:Q,intensity:r.intensity,radius:r.aoRadius,gammaCorrection:!1,tDiffuse:o.texture,color:[0,0,0],colorMultiply:r.colorMultiply,fog:!1,renderMode:c,defines:{EFFECT_COMPOSITER:!0,LOGDEPTH:!1,HALFRES:!1}}),f.blitScreen(_,X,b,S),_}}var A,c}},"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"),CG=(I.graph3d.PostProcessing.Blur=function(L){var e,J,s,l,H,b,A=this,c=!1,K=!1,y={type:"blurDownSample"},t={type:"blurH"},g={type:"blurV"},R=(this.serializeProperties={value:0,downSample:!1,iterations:1,layer:"main"},v.defineProperties(A,{enable:{get:function(){return c},set:function(V){!!c!=!!V&&((c=V)?L.addRenderLayerListener(R,this):L.removeRenderLayerListener(R,this),L.iv())}},downSample:{get:function(){return l},set:function(V){l!==V&&(l=V,L.iv())}},value:{get:function(){return s},set:function(V){s!==V&&(s=V,L.iv())}},iterations:{get:function(){return H},set:function(V){H!==V&&(H=V,L.iv())}},layer:{get:function(){return b},set:function(V){b!==V&&(b=V,L.iv())}}}),function(V){if(c&&V.layer===b&&"post"===V.phase){var R=L.getGL();if(!L._picking&&!L.isReflecting(R)){(V=L._postProcessing.getRenderTarget()).unbind(R);for(var Q=0,X=L._glCapabilities.maxAttributes;Q<X;Q++)R.disableVertexAttribArray(Q);A.drawImpl(R,V),V.bind(R),R.useProgram(L._prg)}}});A._42=function(){},A.dispose=function(){K=!1,rg(L,e,J),e=J=null},A.drawImpl=function(V,R,Q,X,b){if(K||(F=L.getGL())&&(e=new k.RenderTarget(L,F),K=!0)){var A,c=R?(A=R.width,R.height):(A=L._viewport[2],L._viewport[3]);if(A&&c){for(var f,S=L._postProcessing,F=("boolean"!=typeof X&&(X=l),Q==q8&&(Q=s),b==q8&&(b=H),b=Math.max(1,Math.round(b)),t8.for(V).glState.depth),D=F.enabled,P=(F.enabled=!1,X?(Q/=2,f=[A,c],A/=2,c/=2,J=J||new k.RenderTarget(L,V),y.image=R.texture,y.texelSize=[1/f[0],1/f[1]],S.blitScreen(J,A,c,y),R.setSize(V,A,c)):J&&J.setSize(0,0),e.setSize(V,A,c),[]),N=0;N<b;N++)P.push(Q),Q=Math.max(1,Math.floor(Q/2));for(N=0;N<b;N++){var q=P[b-N-1];t.image=(X&&0===N?J:R).texture,t.value=q/A,S.blitScreen(e,null,null,t),X&&N===b-1&&R.setSize(V,f[0],f[1]),g.image=e.texture,g.value=q/c,S.blitScreen(R,null,null,g)}return F.enabled=D,R}}}},I.graph3d.PostProcessing.Glitch=function(f){var S,Q,F,D,P,N,q,X,L,e=!1,J=!1,s=B.randomFloat,l=B.randomInt,b=0,H={type:"glitch"};function K(){if(L&&X){F=Date.now(),Q=1e3*s(X[D=0],X[1]),P=[];for(var V=1,R=L.length;V<R;V+=2)P.push((1<V?P[P.length-1]:0)+Q*L[V]/b)}}function y(){f.redraw()}this.serializeProperties={onlyReflector:!1,period:[2,3],intensity:[3,.3,1,.1,0,.4]},v.defineProperties(this,{enable:{get:function(){return e},set:function(V){!!e!=!!V&&((e=V)&&K(),f.iv())}},onlyReflector:{get:function(){return q},set:function(V){!!q!=!!V&&(q=V,f.iv())}},period:{get:function(){return X},set:function(V){X=V,K(),f.iv()}},intensity:{get:function(){return L},set:function(V){b=0;for(var R=1,Q=(L=V=V||[1,1]).length;R<Q;R+=2)b+=V[R];K(),f.iv()}}}),this.dispose=function(){J=!1,rg(f,S),S=null},this._42=function(V,R){if(e&&(J||function(){var V=f.getGL();if(V){S=new k.RenderTarget(f,V);for(var R=W2(64,64),Q=R.getImageData(0,0,64,64),X=Q.data,b=0;b<4096;b++)X[3*b+0]=l(256),X[3*b+1]=l(256),X[3*b+2]=l(256),X[3*b+3]=l(256);return R.putImageData(Q,0,0),N=ug(f,V,h2),J=!0}}())&&!!f.isReflecting(V)==!!q){var Q,X,b,A=R.width,c=R.height;if(A&&c)return Q=f._postProcessing,X=(V=t8.for(V).glState.depth).enabled,V.enabled=!1,Date.now()-F>P[D]&&++D>=P.length&&K(),b=L[2*D],H.seed=Math.random(),H.byp=b?0:1,H.tDisp=N,b&&(H.angle=s(-Math.PI,Math.PI),H.distortion_x=s(0,1),H.distortion_y=s(0,1),H.amount=Math.random()/30*b,H.seed_x=s(-1,1)*b,H.seed_y=s(-1,1)*b),H.image=R.texture,Q.blitScreen(S,A,c,H),V.enabled=X,requestAnimationFrame(y),S}}},I.graph3d.PostProcessing.Fxaa=function(R){var Q=!1;this.serializeProperties={},v.defineProperties(this,{enable:{get:function(){return Q},set:function(V){!!Q!=!!V&&(Q=V,R.iv())}}}),this._42=function(){}},mJ(L8,{accordionViewExpandIcon:cJ(a4),accordionViewCollapseIcon:cJ(a4,!0),accordionViewLabelColor:v8,accordionViewLabelFont:_f,accordionViewTitleBackground:g,accordionViewSelectBackground:v4,accordionViewSelectWidth:3,accordionViewSeparatorColor:N8,splitViewDividerSize:1,splitViewDividerBackground:g,splitViewDragOpacity:.5,splitViewToggleIcon:{width:16,height:16,comps:[{type:HR,rect:[2,2,12,12],background:a4}]},propertyViewLabelColor:of,propertyViewLabelSelectColor:v8,propertyViewLabelFont:_f,propertyViewExpandIcon:cJ(n4),propertyViewCollapseIcon:cJ(n4,!0),propertyViewBackground:i4,propertyViewRowLineVisible:!0,propertyViewColumnLineVisible:!0,propertyViewRowLineColor:$4,propertyViewColumnLineColor:$4,propertyViewSelectBackground:v4,listViewLabelColor:of,listViewLabelSelectColor:v8,listViewLabelFont:_f,listViewRowLineVisible:!1,listViewRowLineColor:$4,listViewSelectBackground:v4,treeViewLabelColor:of,treeViewLabelSelectColor:v8,treeViewLabelFont:_f,treeViewExpandIcon:cJ(E4),treeViewCollapseIcon:cJ(E4,!0),treeViewRowLineVisible:!1,treeViewRowLineColor:$4,treeViewSelectBackground:v4,treeViewDoubleClickToToggle:!0,tableViewLabelColor:of,tableViewLabelSelectColor:v8,tableViewLabelFont:_f,tableViewRowLineVisible:!0,tableViewColumnLineVisible:!0,tableViewRowLineColor:$4,tableViewColumnLineColor:$4,tableViewSelectBackground:v4,treeTableViewLabelColor:of,treeTableViewLabelSelectColor:v8,treeTableViewLabelFont:_f,treeTableViewExpandIcon:cJ(E4),treeTableViewCollapseIcon:cJ(E4,!0),treeTableViewRowLineVisible:!0,treeTableViewColumnLineVisible:!0,treeTableViewRowLineColor:$4,treeTableViewColumnLineColor:$4,treeTableViewSelectBackground:v4,tableHeaderLabelColor:of,tableHeaderLabelFont:_f,tableHeaderColumnLineVisible:!0,tableHeaderColumnLineColor:r4,tableHeaderBackground:i4,tableHeaderMoveBackground:P,tableHeaderInsertColor:v4,tableHeaderSortDescIcon:Ae(n4,!0),tableHeaderSortAscIcon:Ae(n4),tabViewTabGap:1,tabViewLabelColor:v8,tabViewLabelFont:_f,tabViewTabBackground:g,tabViewSelectWidth:3,tabViewSelectBackground:v4,tabViewMoveBackground:P,tabViewInsertColor:v4,toolbarLabelColor:of,toolbarLabelSelectColor:v8,toolbarLabelFont:_f,toolbarBackground:i4,toolbarSelectBackground:v4,toolbarItemGap:8,toolbarSeparatorColor:M4},!0),{translateX:1,sortColumn:1}),vG={sortable:1,sortOrder:1,sortFunc:1},hG={focusData:1},TG={dataModel:1,sortColumn:1,sortFunc:1,visibleFunc:1,rootData:1,rootVisible:1},WG={dataModel:1,sortFunc:1,visibleFunc:1,categorizable:1},UG=function(V,R){R.add(V),V.hasChildren()&&V.eachChild(function(V){UG(V,R)})},pG=function(V,R,Q,X,b,A,c,f,S,F,D){var P,N,q,L,e,J,s=Q.getValueType(F),l=Q.getAlign(F);if(Q.getEnumValues(F))return P=Q.toEnumLabel(R,F),N=Of||0,q=0,L=A,e=L8.getTextSize(X,P).width,(J=U(Q.toEnumIcon(R,F)))&&(q=A+Of/2,"center"===l?q+=(f-(N+e))/2:"right"===l&&(q=q+f-(N+e)),Uf(V,J,q,c+S/2,F,D),L=q+Of/2),void(P!=q8&&(J?Qs(V,P,X,b,L,c,f-(L-A),S):Qs(V,P,X,b,A,c,f,S,l)));if((R=Q.formatValue(R))!=q8){if(s!==kA)return s===ZA||!s&&NJ(R)?(J=U(R?OR:wR),void Uf(V,J,A+f/2,c+S/2,F,D)):void Qs(V,R,X,b,A,c,f,S,l);Q4(V,A,c,f,S,R)}},IG=function(Q,X){var b=X.view,A=J2(Q),c=X.column||X.property;b.getDataModel().beginTransaction(),(X.editor=Q).info=X,b.setCurrentEditor(Q),b.getView().insertBefore(A,b._79O),_(Q,X.editorRect),Q.setFocus?Q.setFocus():e2(Q),Q.commitValue=function(V,R){Q._17Q&&(Q=Q._17Q),R||b.setValue(X.data,c,Q.getValue?Q.getValue():Q.value),Q.close&&Q.close(),zs(A)},c.onEditorCreated&&c.onEditorCreated(X)},ZG=function(V,R,Q,X,b){var A=Ys(V,Q),c=R.value,f=R.view,Q=b.getValueType(R.data);return A.onblur=A.onchange=function(V){f.endEditing()},"input"===V?((c=b.formatValue(c))!=q8&&(A.value=c),A.onkeydown=function(V){$2(V)?f.endEditing():j2(V)&&f.endEditing(!0)},Q!==xA&&Q!==BA||z8(A,Fe,L8.numberListener)):V===XA&&X.forEach(function(V){var R=q.createElement("option");R.innerHTML=b.toEnumLabel(V),R.value=V,b.isEnumEqual(c,V)&&(R.selected=!0),BJ(A,R)}),IG(A,R),A},kG=I.widget={},R=function(V,R,Q){Os("ht.widget."+V,R,Q)},xG=(mJ(Jf,{ms_value:function(V,R){V.getValue=function(V){var R=(V=this.getItemById(V)).element;return l8(R)?R:R?R.getValue?R.getValue():R.value:V.selected},V.setValue=function(V,R){var Q;(V=this.getItemById(V))&&((Q=V.element)&&!l8(Q)?Q.setValue?Q.setValue(R):Q.value=R:(NJ(R)?V.selected=R:V.element=R,this.iv()))},V.v=function(V,R){if(2===arguments.length)this.setValue(V,R);else{if(!qJ(V))return this.getValue(V);for(var Q in V)this.setValue(Q,V[Q])}return this}},_46o:function(V,R){V._icon=q8,V._accessType=q8,V._valueType=q8,V._editable=!1,V._batchEditable=!0,V._align=AR,V._nullable=!0,V._emptiable=!1,V.setParent=Ie,V.formatValue=function(V){var R=this._valueType;return this.getEnumValues()?this.toEnumLabel(V):R===ZA?!!V:V!=q8&&R===xA?u8(V):V},V.setEnum=function(V,R,Q,X,b,A,c){V&&!H8(V)&&V.values&&(X=V.editable,Q=V.icons,R=V.labels,b=V.strict,A=V.maxHeight,c=V.dropDownWidth,V=V.values),eJ(V)&&(V=V._as),eJ(R)&&(R=R._as),eJ(Q)&&(Q=Q._as),this._enumValues=V,this._enumLabels=R,this._enumIcons=Q,this._enumEditable=X,this._enumStrict=b==q8||b,this._enumMaxHeight=A,this._enumDropDownWidth=c,V&&V.length&&PJ(V[0])&&(this._valueType=BA),this.fp("enum",!1,!0)},V.getEnumDropDownWidth=function(){return this._enumDropDownWidth},V.getEnumMaxHeight=function(){return this._enumMaxHeight},V.isEnumEditable=function(){return this._enumEditable},V.getEnumValues=function(){return this._enumValues},V.getEnumLabels=function(){return this._enumLabels},V.getEnumIcons=function(){return this._enumIcons},V.isEnumStrict=function(){return this._enumStrict},V.isEnumEqual=function(V,R){return this._enumStrict?V===R:V==R},V.toEnumLabel=function(V,R){var Q=this.getEnumValues(R),X=this.getEnumLabels(R);if(Q&&X)for(var b=0;b<Q.length;b++)if(this.isEnumEqual(V,Q[b]))return X[b];return V},V.toEnumIcon=function(V,R){var Q=this.getEnumValues(R),X=this.getEnumIcons(R);if(Q&&X)for(var b=0;b<Q.length;b++)if(this.isEnumEqual(V,Q[b]))return X[b];return N8}},_45o:function(V,R){V._87o=function(V,R,Q,X,b,A){var c,f;V&&(c=this._90I,f=pJ(1),this._columnLineVisible&&--b,this._rowLineVisible&&--A,b<=0||A<=0||((c=this._90I?c:this._90I={})[R]||(c[R]=new Z),_(f,this.tx()+Q,this.ty()+X,b,A),BJ(f,V),this._view.insertBefore(f,this._79O),V.onParentAdded&&V.onParentAdded(f),c[R].add(f)))},V._76o=function(){var V=this._90I;if(V){for(var R in V)V[R].each(function(V){zs(V)});delete this._90I}},V._77o=function(V){var R;this._90I&&(R=this._90I[V])&&(R.each(function(V){zs(V)}),delete this._90I[V])}},_47o:function(V,R){V.getValue=function(V,R){return R.getValue?R.getValue(V,R,this):rJ(V,R.getAccessType(),R.getName())},V.setValue=function(V,R,Q){var X,b,A,c;R.isEmptiable(V)||""!==Q||(Q=N8),!R.isNullable(V)&&Q==q8||(X=this,b=R.getName(V),A=R.getAccessType(V),(c=R.getValueType(V))===xA&&l8(Q)?Q=C8(Q):c===BA&&l8(Q)?Q=parseFloat(Q):c===ZA&&l8(Q)&&(Q="true"===Q),X._batchEditable&&R._batchEditable&&X.isSelected(V)?X.sm().each(function(V){R.setValue?R.setValue(V,R,Q,X):EJ(V,A,b,Q)}):R.setValue?R.setValue(V,R,Q,X):EJ(V,A,b,Q))},V.setCurrentEditor=function(V){this.endEditing(),this._currentEditor=V,this.redraw()},V.isEditing=function(V,R){var Q=this._currentEditor;return!!Q&&(!R||!!(Q=Q.info)&&(Q.column||Q.property)===R&&Q.data===V)},V.endEditing=function(V){var R=this._currentEditor;R&&(delete this._currentEditor,R.commitValue&&R.commitValue(R.info,V),this.redraw(),this.getDataModel().endTransaction())},V.beginEditing=function(V){this.endEditing();var Q=this,X=V.column||V.property;if(X.beginEditing)X.beginEditing(V);else{var R,b,A=V.data,c=V.value,f=Q.getSelectBackground(A),S=X.getEnumValues(A),F=X.getSlider(A),D=X.getColorPicker(A);if(F)return(R=hf(kG.Slider,F)).setValue(c),R.getView().onblur=function(V){Q.endEditing()},R.isInstant()&&(R.onValueChanged=function(){Q.setValue(A,X,R.getValue())}),void IG(R,V);if(D||X.getValueType(A)===kA)return(F=hf(kG.ColorPicker,D)).setValue(c),b=F.onClosed,F.onClosed=function(){Q.endEditing(),b&&b.call(this)},F.isInstant()&&(F.onValueChanged=function(V,R){Q.setValue(A,X,R)}),IG(F,V),void F.open();if(S)kG.ComboBox?((D=new kG.ComboBox).setValue(c),D.setValues(S),D.setLabels(X.getEnumLabels(A)),D.setIcons(X.getEnumIcons(A)),D.setEditable(X.isEnumEditable(A)),D.setStrict(X.isEnumStrict(A)),D.setMaxHeight(X.getEnumMaxHeight(A)),D.setDropDownWidth(X.getEnumDropDownWidth(A)),D.onClosed=function(){Q.endEditing()},IG(D,V),D.open()):ZG(XA,V,f,S,X);else{if(X.getValueType(A)!==ZA&&!NJ(c))return X.getItemEditor(A)?(((D=(F=new(Gf(X.getItemEditor(A)))(A,X,Q,V)).getView())._17Q=F).setValue(c),kJ(D),IG(D,V),void(F.editBeginning&&F.editBeginning())):void ZG("input",V,f,q8,X);Q.setValue(A,X,!c)}}}},_44o:function(V,R){V.init=function(V){var R=this,Q=R.th=new Dm(V),X=R._view=UJ(1,R);R.tv=R._tableView=V,BJ(X,Q.getView()),BJ(X,V.getView()),Q.mp(function(V){V.property===oR&&R.iv()}),R.iv()},V.getTableView=function(){return this.tv},V.getTableHeader=function(){return this.th},V.getDataModel=function(){return this.tv.dm()},V.getColumnModel=function(){return this.tv.getColumnModel()},V.setColumns=function(V){this.tv.setColumns(V)},V.addColumns=function(V){this.tv.addColumns(V)},V.endEditing=function(){this.tv.endEditing()},V.validateImpl=function(){var V=this.th,R=A2(V),Q={x:0,y:0,width:this.getWidth(),height:R};_(V,Q),Q.y=R,Q.height=Q8(0,this.getHeight()-R),_(this.tv,Q)}},ms_vs:function(V,R){V._41o=function(){return this._29I.height<this._59I},V._43o=function(){var V=this;V._41o()&&(V._58I||(W8(function(){V._94O()},nf),V.iv()),V._58I=new Date)},V._94O=function(){var V=this;V._58I&&((new Date).getTime()-V._58I.getTime()>=nf?(delete V._58I,V.iv()):W8(function(){V._94O()},nf))},V._93I=function(){var V,R,Q,X,b,A,c,f=this,S=f._27I;f._58I||!f._autoHideScrollBar?(S||BJ(f._79O,S=f._27I=pJ()),V=(X=f._29I).height,R=f._59I,Q=f.getScrollBarSize(),X=X.width-Q-2,b=V*(-f.ty()/R),A=V*(V/R),c=S.style,V<R?(A<Mf&&(V<(b=(b=b+A/2-Mf/2)<0?0:b)+Mf&&(b=V-Mf),A=Mf),c.visibility=dR,c.background=f.getScrollBarColor(),c.borderRadius=Q/2+JR,_(S,X,b,Q,A)):c.visibility=GR):S&&(S.style.visibility=GR)}},ms_hs:function(V,R){V._40o=function(){return this._29I.width<this._91I},V._42o=function(){var V=this;V._40o()&&(V._95O||(W8(function(){V._94I()},nf),V.iv()),V._95O=new Date)},V._94I=function(){var V=this;V._95O&&((new Date).getTime()-V._95O.getTime()>=nf?(delete V._95O,V.iv()):W8(function(){V._94I()},nf))},V._92I=function(){var V,R,Q,X,b,A,c,f=this,S=f._28I;f._95O||!f._autoHideScrollBar?(S||BJ(f._79O,S=f._28I=pJ()),V=(X=f._29I).width,R=f._91I,Q=f.getScrollBarSize(),X=X.height-Q-2,b=V*(-f.tx()/R),A=V*(V/R),c=S.style,V<R?(A<Mf&&(V<(b=(b=b+A/2-Mf/2)<0?0:b)+Mf&&(b=V-Mf),A=Mf),c.visibility=dR,c.background=f.getScrollBarColor(),c.borderRadius=Q/2+JR,_(S,b,X,A,Q)):c.visibility=GR):S&&(S.style.visibility=GR)}}}),ue(OR,bJ(16,16,[{type:C,rect:[1,1,14,14],background:v4},{type:lR,rect:[1,1,14,14],width:1,color:j4},{type:tR,points:[13,3,7,12,4,8],borderWidth:2,borderColor:"#FFF"}])),ue(wR,bJ(16,16,{type:lR,rect:[1,1,14,14],width:1,color:j4})),ue(aR,bJ(16,16,[{type:KR,rect:[2,2,12,12],borderWidth:1,borderColor:j4,background:"#FFF"},{type:KR,rect:[4,4,8,8],background:v4}])),ue(iR,bJ(16,16,{type:KR,rect:[2,2,12,12],borderWidth:1,borderColor:j4})),Jf._15Q=function(V,R){V._29I=ke,V._59I=0,V._91I=0,V._5o=function(V){var R=this;R._30I=new Z,R._rows=new Z,R._rowMap={},R._31I=0,R._14I=0,R._view=UJ(1,R),R._canvas=IJ(R._view),BJ(R._view,R._79O=pJ()),R.dm(V||new E_)},V.getCheckIcon=function(V){var R=this.sm(),V=R.co(V);return R.sg()?U(V?aR:iR):U(V?OR:wR)},V.checkData=function(V){var R=this.sm(),Q=R.co(V);R.sg()&&Q||(this._32o=1,Q?R.rs(V):R.as(V),delete this._32o)},V.getDataAt=function(V){V.target&&(V=this.lp(V));var V=o8(V.y/this._rowHeight),R=this._rows;return V<0||V>=R.size()?q8:R.get(V)},V.onDataDoubleClicked=function(V,R){},V.onDataClicked=function(V,R){},V.adjustTranslateX=function(V){return 0},V.adjustTranslateY=function(V){var R=this.getHeight()-this._59I;return 0<(V=V<R?R:V)?0:u8(V)},V.onPropertyChanged=function(V){V=V.property,TG[V]?this.ivm():hG[V]||this.redraw(),V===oA?this._42o():V===_A&&this._43o()},V.getLabel=function(V){return V.toLabel()},V.getLabelFont=function(V){return this._labelFont},V.getLabelColor=function(V){if(this.isCheckMode()){if(this._focusData===V)return this._labelSelectColor}else if(this.isSelected(V))return this._labelSelectColor;return this._labelColor},V.getStartRowIndex=function(){return this._31I},V.getEndRowIndex=function(){return this._14I},V.getRowDatas=function(){return this._rows},V.getRowIndex=function(V){return this._rowMap[V._id]},V.getRowSize=function(){return this._rows.size()},V.getViewRect=function(){return Bf(this._29I)},V.isVisible=function(V){return!this._visibleFunc||this._visibleFunc(V)},V.getCurrentSortFunc=function(){return this._sortFunc},V.setDataModel=function(V){var R=this,Q=R._dataModel,X=R._selectionModel;Q!==V&&(Q&&(Q.umm(R.handleDataModelChange,R),Q.umd(R.handleDataPropertyChange,R),Q.umh(R.handleHierarchyChange,R),X||Q.sm().ums(R.handleSelectionChange,R)),(R._dataModel=V).mm(R.handleDataModelChange,R),V.md(R.handleDataPropertyChange,R),V.mh(R.handleHierarchyChange,R),X?X._21I(V):V.sm().ms(R.handleSelectionChange,R),R.fp("dataModel",Q,V))},V.validateModel=function(){var V=this,R=(V._rows.clear(),V._rowMap={},V.buildChildren(V._dataModel._roots),V._rows=V._rows.toList(V.isVisible,V)),Q=0,X=V.getCurrentSortFunc(),b=R.size();for(X&&R.sort(X);Q<b;Q++)V._rowMap[R.get(Q)._id]=Q},V.buildChildren=function(V){var R=this;V.each(function(V){R._rows.add(V),R.buildChildren(V._children)})},V.handleDataModelChange=function(V){this.ivm()},V.handleDataPropertyChange=function(V){"parent"===V.property?this.ivm():this.invalidateData(V.data)},V.handleHierarchyChange=function(V){this.ivm()},V.handleSelectionChange=function(V){V.datas.each(this.invalidateData,this),this.onSelectionChanged(V)},V.onSelectionChanged=function(V){var R=this.sm();!this.isAutoMakeVisible()||1!==R.size()||"set"!==V.kind&&"append"!==V.kind||this._32o||this.makeVisible(R.ld())},V.handleBackgroundClick=function(V){bs(V)&&!this.isCheckMode()&&this.sm().cs()},V.makeVisible=function(V){V&&(this._23I=V,this.iv())},V.scrollToIndex=function(V){var R=this._29I,Q=R.height,X=this._rowHeight,b=X*V;0<=V&&V<this._rows.size()&&0<Q&&(b+X>R.y+Q?this.ty(-b+Q-X):b<R.y&&this.ty(-b))},V.autoScroll=function(V,R){var Q=this,X=Q._rowHeight,b=X,A=X/4,c=Q._29I,V=Q.lp(V),f={x:Q.tx(),y:Q.ty()};return 0<X&&c&&(V.x-c.x<b?Q.translate(A,0):c.x+c.width-V.x<b&&Q.translate(-A,0),V.y-c.y<b?Q.translate(0,A):c.y+c.height-V.y<b&&Q.translate(0,-A)),f.x=Q.tx()-f.x,f.y=Q.ty()-f.y,R&&(R.x+=f.x,R.y+=f.y),f},V.getTopRowOrderSelection=function(){var V=this.sm().getTopSelection(),R={},Q=new Z;return V.each(function(V){R[V._id]=V}),this._rows.each(function(V){R[V._id]&&Q.add(V)}),Q},V.getRowOrderSelection=function(){var R=new Z;return this._rows.each(function(V){this.isSelected(V)&&R.add(V)},this),R},V.ivm=function(){this.invalidateModel()},V.invalidateModel=function(){this._96I||(this._96I=1,this._32I=1,delete this._24I),this.iv()},V.redraw=function(){this._32I||(this._32I=1,delete this._24I,this.iv())},V.invalidateData=function(V){k8?this.redraw():this._32I||(this._24I||(this._24I={}),this._24I[V._id]=V,this.iv())},V.getFocusData=function(){return this._focusData},V.setFocusDataById=function(V){this.setFocusData(this.dm().getDataById(V))},V.setFocusData=function(V){var R=this._focusData;R!==V&&(this._focusData=V,this.fp("focusData",R,V),R&&this.invalidateData(R),V&&(this.invalidateData(V),this.isAutoMakeVisible()&&this.makeVisible(V)))},V.drawRowBackground=function(V,R,Q,X,b,A,c){var f=this.isCheckMode();(R===this._focusData&&f||Q&&!f)&&Q4(V,X,b,A,c,this.getSelectBackground(R))},V.drawData=function(V,R,Q){var X=this._rowHeight,b=X*Q,A=(c=this._29I).x,c=c.width;V.save(),V.beginPath(),V.rect(A,b,c,X),V.clip(),this._87o(this.drawRow(V,R,this.isSelected(R),A,b,c,X),Q,A,b,c,X),V.restore(),this._rowLineVisible&&Q4(V,A,b+X-1,c,1,this._rowLineColor)},V._12I=function(V){var R=this._31I,Q=(A=this._29I).x,X=A.y,b=A.width,A=A.height;for(V.beginPath(),V.rect(Q,X,b,A),V.clip(),V.clearRect(Q,X,b,A),this._76o(),this._93db(V);R<this._14I;R++)this.drawData(V,this._rows.get(R),R);this._92db(V)},V._13I=function(R){for(var V,Q=this,X=Q._rowHeight,b=Q._29I,A=b.x,c=b.width,f=Q._31I,S=Q._30I;f<Q._14I;f++)V=Q._rows.get(f),Q._24I[V._id]&&S.add({data:V,index:f});S.isEmpty()||(R.beginPath(),S.each(function(V){R.rect(A,V.index*X,c,X)}),R.clip(),S.each(function(V){R.clearRect(A,V.index*X,c,X)}),S.each(function(V){Q._77o(V.index)}),Q._93db(R),S.each(function(V){Q.drawData(R,V.data,V.index)}),Q._92db(R),S.clear())},V.preValidateModel=function(){this.endEditing&&this.endEditing()},V.validateImpl=function(){var V=this,R=V._canvas,Q=V.getWidth(),X=V.getHeight(),b=V._rowHeight,A=V._32I,c=(Q===R.clientWidth&&X===R.clientHeight||(xJ(R,Q,X),A=1),V._96I&&(V.preValidateModel(),V.validateModel()),V._29I),Q={x:-V.tx(),y:-V.ty(),width:Q,height:X},X=V._rows.size(),R=S2(R),f=V._23I,c=(A||wJ(Q,c)||(A=1),V._29I=Q,V._59I=X*b,V._31I=o8(Q.y/b),V._14I=_8((Q.y+Q.height)/b),V._31I<0&&(V._31I=0),V._14I>X&&(V._14I=X),V._99I&&A&&V._99I(),V.tx()),Q=V.ty();(V._40o()||V._41o())&&(V._59I+=V.getScrollBarSize(),V._99I&&A&&(V._91I+=V.getScrollBarSize())),F2(R,c,Q,1),A?V._12I(R):V._24I&&V._13I(R),V._93I(),V._92I(),R.restore(),V._32I=V._24I=V._96I=q8,f&&(V.scrollToIndex(V.getRowIndex(f)),delete V._23I),V.tx(V.tx()),V.ty(V.ty())},V.canHandleSelectMode=function(V,R){return!0},V.isDraggable=function(V){return!0}},Jf._48o=function(V,R){V._rootVisible=!0,V._rootData=q8,V._35o=function(){this._expandMap={},this._levelMap={}},V.validateModel=function(){var V=this,R=V._rootData;V._rows.clear(),V._levelMap={},V._rowMap={},V._currentLevel=0,R?V._rootVisible?V.isVisible(R)&&V.buildData(R):V.buildChildren(R):V.buildChildren(),delete V._currentLevel},V.buildData=function(V){var R=V._id,Q=this._rows;this._rowMap[R]=Q.size(),Q.add(V),this._levelMap[R]=this._currentLevel,this.isExpanded(V)&&(this._currentLevel++,this.buildChildren(V),this._currentLevel--)},V.buildChildren=function(V){var R=this,Q=V?V._children:R._dataModel._roots,X=R.getCurrentSortFunc();X&&R.isChildrenSortable(V)?Q.toList(R.isVisible,R).sort(X).each(R.buildData,R):Q.each(function(V){R.isVisible(V)&&R.buildData(V)})},V.getLevel=function(V){return this._levelMap[V._id]},V.getToggleIcon=function(V){var R=this._loader,Q=this._collapseIcon;return R&&!R.isLoaded(V)?Q:V.hasChildren()?this.isExpanded(V)?this._expandIcon:Q:q8},V.isCheckMode=function(){return this._checkMode!=q8},V.isChildrenSortable=function(V){return!0},V.handleDataModelChange=function(V){V.kind===zR?delete this._expandMap[V.data._id]:V.kind===YR&&(this._expandMap={}),this.ivm()},V.toggle=function(V){this.isExpanded(V)?this.collapse(V):this.expand(V)},V.isExpanded=function(V){return 1===this._expandMap[V._id]},V.expand=function(V){var R=this._loader;this.isExpanded(V)||(R&&!R.isLoaded(V)&&R.load(V),this._expandMap[V._id]=1,this.ivm(),this.onExpanded(V))},V.onExpanded=function(V){},V.collapse=function(V){this.isExpanded(V)&&(delete this._expandMap[V._id],this.ivm(),this.onCollapsed(V))},V.onCollapsed=function(V){},V.expandAll=function(V){var R;V?(this.expand(V),V.eachChild(function(V){this.expandAll(V)},this)):((R=this)._dataModel.each(function(V){V.hasChildren()&&(R._expandMap[V._id]=1)}),R.ivm())},V.collapseAll=function(){this._expandMap={},this.ivm()},V.makeVisible=function(V){if(V&&(!this._rootData||V.isDescendantOf(this._rootData))){for(var R=V._parent;R;)this.expand(R),R=R._parent;this._23I=V,this.iv()}},V.checkData=function(V){var R,Q=this._checkMode,X=this.sm(),b=X.co(V);if(!X.sg()||!b){if(this._32o=1,Q===VR)b?X.rs(V):X.as(V);else if(Q===uA)(R=new Z(V)).addAll(V._children);else if("descendant"===Q)R=new Z,UG(V,R);else if("all"===Q&&(R=new Z,UG(V,R),!b))for(var A=V._parent;A;)R.add(A),A=A._parent;R&&(b?X.rs(R):X.as(R)),delete this._32o}},V.drawTree=function(V,R,Q,X,b,A,c){var f=this,S=f._indent,F=f._levelMap[R._id],D=f.getIconWidth(R),P=U(f.getToggleIcon(R));P?(Uf(V,P,(X+=S*F)+S/2,b+c/2,R,f),X+=S):X+=S*(F+1),f._checkMode&&(Uf(V,f.getCheckIcon(R),X+S/2,b+c/2,R,f),X+=S),f.drawIcon(V,R,X,b,D,c),f.drawLabel(V,R,X+D,b,c)}},Jf._14Q=function(V,R){V.getIcon=function(V){return V.getIcon()},V.getIconWidth=function(V){return this.getIcon(V)?this._indent:0},V.drawIcon=function(V,R,Q,X,b,A){var c,f;b&&(c=this.getBodyColor(R),(f=U(this.getIcon(R),c))&&(A-=this.isRowLineVisible()?1:0,pf(V,f,TA,Q,X,b,A,R,this,c),P4(V,this.getBorderColor(R),Q,X,b,A)))},V.drawLabel=function(V,R,Q,X,b){Qs(V,this.getLabel(R),this.getLabelFont(R),this.getLabelColor(R),Q,X,0,b)}},Jf._50o=function(V,R){V._98I=function(){var V=this._39o=new E_;this._60I=new Z,V.mm(this._17o,this),V.md(this._18o,this),V.mh(this._19o,this)},V.setColumns=function(V){this._39o.clear(),this.addColumns(V)},V.addColumns=function(V){var Q=this._39o;V.forEach(function(V){var R;V instanceof BG||(R=Gf(V.className),V=hf(R||BG,V)),Q.add(V)})},V.onColumnClicked=function(V){},V.onCheckColumnClicked=function(V){},V._3Q=function(V){for(var R,Q=0,X=this._60I,b=X.size();Q<b;Q++)if((R=X.get(Q)).column===V)return R;return q8},V.getColumnAt=function(V){return(V=this._4Q(V))?V.column:q8},V._4Q=function(V){for(var R=(V.target?this.lp(V):V).x,Q=this._60I,X=0;X<Q.size();X++){var b=Q.get(X),A=b.startX;if(A<=R&&R<A+b.column.getWidth())return b}return q8},V.getToolTip=function(V){var R=this.getDataAt(V),V=this.getColumnAt(V);return R&&V?V.getToolTip(R,this):q8},V.adjustTranslateX=function(V){var R=this.getWidth()-this._91I;return 0<(V=V<R?R:V)?0:u8(V)},V._99I=function(){var Q=this,X=Q._29I,b=Q._60I;b.clear(),Q._91I=0,Q._39o._roots.each(function(V){var R;V.isVisible()&&(R=Q._91I+V.getWidth(),Q._91I<=X.x+X.width&&R>=X.x&&b.add({column:V,startX:Q._91I}),Q._91I=R)})},V.drawData=function(X,b,A){var c=this,f=c._rowHeight,S=f*A,F=c.isSelected(b),V=(R=c._29I).x,R=R.width;c.drawRowBackground(X,b,F,V,S,R,f),c._60I.each(function(V){var R=V.column,V=V.startX,Q=R.getWidth();0<Q&&!c.isEditing(b,R)&&(X.save(),X.beginPath(),X.rect(V,S,Q,f),X.clip(),c._87o(c.drawCell(X,b,F,R,V,S,Q,f),A,V,S,Q,f),c._columnLineVisible&&Q4(X,V+Q-1,S,1,f,c._columnLineColor),X.restore())}),c._rowLineVisible&&Q4(X,V,S+f-1,R,1,c._rowLineColor)},V.drawCell=function(V,R,Q,X,b,A,c,f){if(X.drawCell)return X.drawCell(V,R,Q,X,b,A,c,f,this);Q=this.getValue(R,X),pG(V,Q,X,this.getLabelFont(R,X,Q),this.getLabelColor(R,X,Q),b,A,c,f,R,this)},V.getColumnModel=function(){return this._39o},V._17o=function(V){this.redraw()},V._18o=function(V){V.data===this._sortColumn&&vG[V.property]?this.ivm():(this._42o(),this.redraw())},V._19o=function(V){this.redraw()},V.getCurrentSortFunc=function(){var Q,X,b=this,A=b._sortColumn;return A&&A.isSortable()?(X=A.getSortFunc(),Q=gA===A.getSortOrder()?1:-1,X=X||xf,function(V,R){return X.call(b,b.getValue(V,A),b.getValue(R,A),V,R)*Q}):b._sortFunc},V.isCellEditable=function(V,R,Q){return!(!R.isEditable()||!this.isEditable())&&(!R.isCellEditable||R.isCellEditable(V,R,Q,this))},V._37O=function(V,R){if(bs(R))for(var Q=this,X=Q.lp(R),b=Q._60I,A=Q._rowHeight,c=Q._29I,f=c.x,S=c.y,F=c.width,D=c.height,P=0;P<b.size();P++){var N,q,L=b.get(P),e=L.startX,J=(L=L.column).getWidth();if(L!==Q._31o&&L!==Q._4o&&X.x>=e&&X.x<e+J&&Q.isCellEditable(V,L,R))return J={x:(e={x:e,y:Q.getRowIndex(V)*A,width:J,height:A}).x+Q.tx(),y:e.y+Q.ty(),width:e.width,height:e.height},q=N=0,e.x<f?N=e.x-f:f+F<e.x+e.width&&(N=e.x+e.width-f-F),N&&(Q.tx(Q.tx()-N),J.x-=N),e.y<S?q=e.y-S:S+D<e.y+A&&(q=e.y+A-S-D),q&&(Q.ty(Q.ty()-q),J.y-=q),void Q.beginEditing({data:V,column:L,value:Q.getValue(V,L),event:R,rect:e,editorRect:J,view:Q})}}},kG.BaseItemEditor=function(V,R,Q,X){this._data=V,this._column=R,this._master=Q,this._editInfo=X},R("BaseItemEditor",v,{ms_ac:["data","column","master","editInfo"],editBeginning:function(){},getView:function(){},getValue:function(){},setValue:function(){}}),I.Tab=function(){oJ(xG,this)}),BG=(W4("Tab",r_,{ms_ac:["view","closable","disabled","visible"],_icon:q8,_closable:!1,_disabled:!1,_visible:!0,setParent:Ie}),I.Column=function(){oJ(BG,this)}),GG=(W4("Column",r_,{_46o:1,ms_ac:["accessType","valueType",dR,KA,yA,uR,"align",kA,"sortOrder",HA,"sortable","clickable","nullable","emptiable","slider","colorPicker","itemEditor"],_visible:!0,_width:80,_sortOrder:gA,_sortFunc:q8,_sortable:!0,_clickable:!0,setWidth:function(V){var R=this._width;this._width=V=V<16?16:V,this.fp(uR,R,V)},getToolTip:function(V,R){return this.formatValue(R.getValue(V,this))}}),I.Property=function(){oJ(GG,this)}),dG=(W4("Property",r_,{_46o:1,ms_ac:["accessType","valueType",KA,yA,"categoryName",kA,"align","nullable","emptiable","slider","itemEditor","colorPicker"],_categoryName:q8,getToolTip:function(V,R,Q){return R?this.formatValue(Q.getValue(V,this)):Q.getPropertyName(this)}}),kG.AccordionView=function(){this._20o={},this._21o=new Z,this._10o=q8,this._9o=q8,this._11o=q8,this._view=UJ(0,this),this.iv()},R("AccordionView",v,{ms_v:1,ms_fire:1,ms_ac:[JA,sA,"titleHeight",WR,TR,"titleBackground","selectWidth",h8,"orientation","separatorColor"],_expandIcon:L8.accordionViewExpandIcon,_collapseIcon:L8.accordionViewCollapseIcon,_titleHeight:af,_labelColor:L8.accordionViewLabelColor,_labelFont:L8.accordionViewLabelFont,_titleBackground:L8.accordionViewTitleBackground,_selectBackground:L8.accordionViewSelectBackground,_selectWidth:L8.accordionViewSelectWidth,_orientation:"v",_separatorColor:L8.accordionViewSeparatorColor,onPropertyChanged:function(V){this.iv()},getView:function(){return this._view},getTitles:function(){return this._21o},getCurrentTitle:function(){return this._10o},add:function(R,V,Q,X){var b=this,A=pJ(),V={content:V,div:A,canvas:IJ(A),icon:X};if(b._20o[R])throw R+" already exists";var c=V.downEventFunc=function(V){Tf(V)},f=V.upEventFunc=function(V){Tf(V),bs(V)&&(b._10o===R?b.collapse():b.expand(R))};[ce,Qe].forEach(function(V){z8(A,V,c)}),[Se,be].forEach(function(V){z8(A,V,f)}),A.style.cursor=Ve,BJ(b._view,A),b._20o[R]=V,b._21o.add(R),Q&&b.expand(R),b.iv()},remove:function(V){var R,Q=this._20o[V];Q&&(R=Q.div,zs(R),[ce,Qe].forEach(function(V){Y8(R,V,Q.downEventFunc)}),[Se,be].forEach(function(V){Y8(R,V,Q.upEventFunc)}),delete this._20o[V],this._21o.remove(V),this.iv())},clear:function(){this._21o.toArray().forEach(this.remove,this),this._20o={},this._21o.clear(),this.iv()},isExpanded:function(V){return this._10o===V},expand:function(V){this._20o[V]&&this._10o!==V&&(this._10o=V,this.onExpanded(V),this.iv())},onExpanded:function(V){},collapse:function(){this._10o&&(this.onCollapsed(this._10o),delete this._10o,this.iv())},onCollapsed:function(V){},initCanvas:function(V,R,Q){return xJ(V,R,Q),V=S2(V),F2(V,0,0,1),V.clearRect(0,0,R,Q),V},drawTitle:function(V,R,Q,X,b){var A=this,b=U(b.icon),c=A.isExpanded(R),f=A._titleHeight,S=A._titleBackground,F=A._selectWidth,D=A._separatorColor,P=U(c?A._expandIcon:A._collapseIcon),N=F+4;Q4(V,0,0,Q,X,S),c&&F&&Q4(V,0,0,F,X,A._selectBackground),!c&&A._21o.get(A._21o.size()-1)===R||Q4(V,0,X-1,Q,1,D||Vs(S)),b&&(Uf(V,b,N+s_(b)/2,f/2),N+=s_(b)+2),Qs(V,R,A.getLabelFont(R),A.getLabelColor(R),N,0,0,f),P&&Uf(V,P,Q-s_(P)/2-4,f/2)},validateImpl:function(){var c=this,V=c._view,f=0,S=0,F=c.getWidth(),D=c.getHeight(),P=c._titleHeight,N=c._21o.size()*P,R=c._11o,Q=c._9o,X=(delete c._11o,delete c._9o,c._21o.each(function(V){var R,Q,X=c._20o[V],b=X.content,A=c._10o===V;fJ(c)?(_(X.div,f,0,P,D),R=c.initCanvas(X.canvas,P,D),D2(R,0,D),P2(R,-M8),c.drawTitle(R,V,D,P,X),R.restore(),A?(Q=Q8(0,F-N),b&&(c._11o=b,c._9o=J2(b),_(b,f+P,0,Q,D)),f+=P+Q):f+=P):(_(X.div,0,S,F,P),R=c.initCanvas(X.canvas,F,P),c.drawTitle(R,V,F,P,X),R.restore(),A?(Q=Q8(0,D-N),b&&(c._11o=b,c._9o=J2(b),_(b,0,S+P,F,Q)),S+=P+Q):S+=P)}),c._9o);R&&R!==c._11o&&R.endEditing&&R.endEditing(),X&&X!==Q&&BJ(V,X),Q&&Q!==X&&zs(Q)}}),kG.SplitView=function(V,R,Q,X){var b=this,A=b._dividerDiv=pJ(),c=b._60O=IJ(),f=b._61O=IJ(),c=c.style,f=f.style;b._view=UJ(1,b),BJ(b._view,A),c.msTouchAction=Re,c.pointerEvents=Re,c.cursor=Ve,f.msTouchAction=Re,f.pointerEvents=Re,f.cursor=Ve,V&&b.setLeftView(V),R&&b.setRightView(R),Q&&b.setOrientation(Q),X!=q8&&b.setPosition(X),b.setStatus(mR),new dG(b)},R("SplitView",v,{ms_v:1,ms_fire:1,ms_ac:["continuousLayout","dividerSize","dividerBackground","toggleIcon","togglable","dragOpacity","orientation","draggable","status"],_continuousLayout:!1,_position:.5,_togglable:!0,_orientation:"h",_draggable:!0,_dividerSize:L8.splitViewDividerSize,_dividerBackground:L8.splitViewDividerBackground,_dragOpacity:L8.splitViewDragOpacity,_toggleIcon:L8.splitViewToggleIcon,onPropertyChanged:function(V){this.iv()},getDividerDiv:function(){return this._dividerDiv},getPosition:function(){return this._position},setPosition:function(V,R){var Q=this._position;isNaN(V)||(R||(this._82O=V<0?-1:1<V?1:0),this._position=V,this.fp(zA,Q,V))},getLeftView:function(){return this._leftView},setLeftView:function(V){var R,Q=this._leftView,X=this._view;this._leftView!==V&&(Q&&Q!==this._rightView&&(R=J2(Q)).parentNode===X&&zs(R),(this._leftView=V)&&(R=J2(V)).parentNode!==X&&X.insertBefore(R,this._dividerDiv),this.fp("leftView",Q,V))},getRightView:function(){return this._rightView},setRightView:function(V){var R,Q=this._rightView,X=this._view;this._rightView!==V&&(Q&&Q!==this._leftView&&(R=J2(Q)).parentNode===X&&zs(R),(this._rightView=V)&&(R=J2(V)).parentNode!==X&&X.insertBefore(R,this._dividerDiv),this.fp("rightView",Q,V))},validateImpl:function(){var V,R,Q,X,b=this,A=b._draggable,c=b._position,f=b.getWidth(),S=b.getHeight(),F=b._dividerSize,D=b._dividerBackground,P=d8?18:8,N=b._dividerDiv,q=b._82O,L=b._60O,e=b._61O,J=b._toggleIcon,s=b._status,l=N.style,H=null,K=d8?20:4,y=J.comps[0],t=(P<=F||0===F?b._coverDiv&&(zs(b._coverDiv),delete b._coverDiv):b._coverDiv||(b._coverDiv=pJ(),Z8&&(b._coverDiv.style.background=UA),BJ(N,b._coverDiv)),b._togglable?L.parentNode||(BJ(N,L),BJ(N,e)):(zs(L),zs(e)),b._coverDiv),g=b._leftView,m=b._rightView;fJ(b)?(f<F&&(F=f),s===mR?1===q?(X=X8(c,f),Q=Q8(0,f-F-X)):-1===q?(Q=X8(-c,f),X=Q8(0,f-F-Q)):(X=u8((f-F)*c),Q=Q8(0,f-F-X)):"cl"===s?Q=Q8(X=0,f-F):"cr"===s&&(X=Q8(Q=0,f-F)),g&&_(g,0,0,X,S),m&&_(m,X+F,0,Q,S),_(N,X,0,F,S),b._22o=X,t&&(_(t,F/2-P/2,0,P,S),t.style.cursor=A?GA:""),N.style.cursor=A?GA:"",Q=N.clientHeight/2,X=N.clientWidth,xJ(L,X,X),_(L,0,Q-X-K,X,X),H=S2(L),F2(H,0,0,1),y.rotation=-M8,H_(H,J,0,0,X,X),H.restore(),xJ(e,X,X),_(e,0,Q+K,X,X),H=S2(e),F2(H,0,0,1),y.rotation=M8):(S<F&&(F=S),s===mR?1===q?(V=X8(c,S),R=Q8(0,S-F-V)):-1===q?(R=X8(-c,S),V=Q8(0,S-F-R)):(V=u8((S-F)*c),R=Q8(0,S-F-V)):"cl"===s?R=Q8(V=0,S-F):"cr"===s&&(V=Q8(R=0,S-F)),g&&_(g,0,0,f,V),m&&_(m,0,V+F,f,R),_(N,0,V,f,F),b._22o=V,t&&(_(t,0,F/2-P/2,f,P),t.style.cursor=A?dA:""),l.cursor=A?dA:"",Q=N.clientWidth/2,X=N.clientHeight,xJ(L,X,X),_(L,Q-X-K,0,X,X),H=S2(L),F2(H,0,0,1),y.rotation=0,H_(H,J,0,0,X,X),H.restore(),xJ(e,X,X),_(e,Q+K,0,X,X),H=S2(e),F2(H,0,0,1),y.rotation=w),H_(H,J,0,0,X,X),H.restore(),l.background=D}}),function(V){this.sv=V,this.addListeners()}),Vm=(Os(dG,v,{ms_listener:1,getView:function(){return this.sv.getView()},handle_touchstart:function(V){var R=this.sv,Q=R._dividerDiv,X=R._60O,b=R._61O,A=R._status,c=V.target;c===X?A===mR?R.setStatus("cl"):"cr"===A&&R.setStatus(mR):c===b?A===mR?R.setStatus("cr"):"cl"===A&&R.setStatus(mR):!z2(V)||c!==Q&&c!==R._coverDiv||(Tf(V),R.isDraggable()&&(R.getLeftView(),R.getRightView(),(X=this.maskDiv=pJ()).style.left=0,X.style.top=0,X.style.width=R.getWidth()+"px",X.style.height=R.getHeight()+"px",R.getView().appendChild(X),R.isContinuousLayout()||((b=this.resizeDiv=pJ()).style.left=Q.style.left,b.style.top=Q.style.top,b.style.width=Q.style.width,b.style.height=Q.style.height,b.style.opacity=R.getDragOpacity(),b.style.background=R.getDividerBackground(),BJ(this.getView(),b)),this._lastAbsPosition=R._22o,this._86o=fJ(R)?Ps(V).x:Ps(V).y,ms(this,V)))},handleWindowTouchMove:function(V){z2(V)&&this.update(V,this.sv.isContinuousLayout())},handleWindowTouchEnd:function(V){this.update(V,!0),this.sv.setStatus(mR),this.maskDiv&&zs(this.maskDiv),this.resizeDiv&&zs(this.resizeDiv),this.maskDiv=this.resizeDiv=q8},handle_mousedown:function(V){bs(V)&&this.handle_touchstart(V)},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)},handleWindowMouseUp:function(V){this.handleWindowTouchEnd(V)},update:function(V,R){var Q=this.sv,X=fJ(Q)?Q.getWidth():Q.getHeight(),b=Q._dividerSize,A=this._lastAbsPosition-this._86o;fJ(Q)?((A=X-b<(A+=Ps(V).x)?X-b:A)<0&&(A=0),this.resizeDiv&&(this.resizeDiv.style.left=A+JR)):((A=X-b<(A+=Ps(V).y)?X-b:A)<0&&(A=0),this.resizeDiv&&(this.resizeDiv.style.top=A+JR)),R&&X!==b&&(1===Q._82O?Q.setPosition(A,1):-1===Q._82O?Q.setPosition(A-X+b,1):Q.setPosition(A/(X-b),1))}}),kG.TabView=function(){var V=this,R=V._view=UJ(1,V),Q=V._91O=pJ(1),X=V._tabModel=new E_,b=X.sm(),A=V.invalidate;V._7o=new Z,V._canvas=IJ(Q),BJ(R,Q),BJ(R,V._92O=pJ(1)),b.setSelectionMode(RR),b.ms(V.handleSelectionChange,V),X.mm(A,V),X.mh(A,V),X.md(A,V),V._interactor=new Vm(V),V.iv()},R("TabView",v,{ms_v:1,ms_fire:1,ms_tx:1,ms_ty:1,ms_lp:1,ms_ac:["movable","tabGap","tabHeight","tabPosition",WR,TR,"tabHPadding","tabBackground","selectWidth",h8,"moveBackground","insertColor"],_tabHPadding:0,_tabPosition:fR,_tabHeight:af,_tabGap:L8.tabViewTabGap,_labelColor:L8.tabViewLabelColor,_labelFont:L8.tabViewLabelFont,_tabBackground:L8.tabViewTabBackground,_selectWidth:L8.tabViewSelectWidth,_selectBackground:L8.tabViewSelectBackground,_moveBackground:L8.tabViewMoveBackground,_insertColor:L8.tabViewInsertColor,_movable:!0,handleSelectionChange:function(){this._selectionChanged=!0,this.invalidate()},getContentDiv:function(){return this._92O},getTitleDiv:function(){return this._91O},getTabModel:function(){return this._tabModel},add:function(V,R,Q){var X,b=this._tabModel;return V instanceof xG?(X=V,R&&X.setView(R)):((X=new xG).setName(V),X.setView(R)),b.add(X),Q&&b.sm().ss(X),X},getLabel:function(V){return V.toLabel()},onPropertyChanged:function(V){this.iv()},_7Q:function(V){this._23o=V,this.iv()},get:function(R){var Q,X=this,V=X._tabModel;return PJ(R)?V._roots.get(R):l8(R)?(V.each(function(V){R===X.getLabel(V)&&(Q=V)}),Q):R instanceof xG?R:q8},select:function(V){this._tabModel.sm().ss(this.get(V))},remove:function(V){var R;(V=this.get(V))&&(R=this._tabModel._roots.indexOf(V),this._tabModel.remove(V),this.selectByIndex(--R))},getCurrentTab:function(){return this._8o},hideTabView:function(V,R){R.parentNode===this._92O&&(KJ(R)||yJ(R)?(R.style.display=eR,R._tab_=V):zs(R),mf())},showTabView:function(V,R){(KJ(R)||yJ(R))&&(R.style.display="block",R._tab_=V),R.parentNode!==this._92O&&(BJ(this._92O,R),mf())},_24o:function(){var V,R=this._8o,Q=this._9o,X=this._tabModel.sm().ld();(V=X?J2(X.getView()):V)!==Q&&(Q&&(R.getView()&&R.getView().endEditing&&R.getView().endEditing(),this.hideTabView(R,Q)),V&&this.showTabView(X,V)),this._8o=X,this._9o=V,R!==X&&this.onTabChanged(R,X)},onTabClosing:function(V){return!0},onTabChanged:function(V,R){},onTabClosed:function(V,R){this.selectByIndex(--R)},selectByIndex:function(V){var R=this._tabModel,Q=R.size();if(Q&&!R.sm().ld()){for(var X=V=(V=Q<=(V=V==q8?0:V)?Q-1:V)<0?0:V;0<=X;X--){var b=this.get(X);if(!b.isDisabled())return this.select(b),b}for(X=V+1;X<Q;X++)if(!(b=this.get(X)).isDisabled())return this.select(b),b}},getTabWidth:function(V){var R=4+2*this.getTabHPadding(),Q=U(V.getIcon());return Q&&(R+=s_(Q,V)+4),(Q=this.getLabel(V))&&(R+=Xs(this.getLabelFont(V),Q).width+4),V.isClosable()&&(R+=10),R},drawTab:function(V,R,Q,X,b,A,c){var f,S=this._tabPosition,F=Q+4+(H=this.getTabHPadding()),D=this._selectWidth,P=U(R.getIcon()),N=R.isDisabled(),q=this.getLabelColor(R),L=this.getLabelFont(R),e=this.getLabel(R),J=this._selectBackground,s=S===AR+"-vertical",l=S===cR+"-vertical",H=((s||l)&&(F=X+4+H),N&&(V.globalAlpha=lf),Q4(V,Q,X,b,A,c),R===this._8o&&D&&(S===fR?Q4(V,Q,X+A-D,b,D,J):S===AR?Q4(V,Q+b-D,X,D,A,J):S===cR?Q4(V,Q,X,D,A,J):s?Q4(V,Q+b-D,X,D,A,J):l?Q4(V,Q,X,D,A,J):Q4(V,Q,X,b,D,J)),b/2);return s&&(D2(V,H,X+A/2),P2(V,w),D2(V,-H,-X-A/2)),P&&(c=l_(P,R),S=s_(P,R),s||l?(D2(V,D=Q+b/2,J=F+c/2),P2(V,M8),D2(V,-D,-J),Uf(V,P,Q+b/2,F+c/2,R,this),D2(V,D,J),P2(V,-M8),D2(V,-D,-J),F+=c+4):(Uf(V,P,F+S/2,X+A/2,R,this),F+=S+4)),s||l?(D2(V,b/2,F+b/2),P2(V,M8),D2(V,-b/2,-F-b/2),Qs(V,e,L,q,Q,F,A,b),D2(V,b/2,F+b/2),P2(V,-M8),D2(V,-b/2,-F-b/2)):Qs(V,e,L,q,F,X,b,A),s&&(D2(V,H,X+A/2),P2(V,-w),D2(V,-H,-X-A/2)),R.isClosable()&&this.drawCloseIcon(R,V,q,f=l?{x:Q+b-12,y:X+A-12,width:12,height:12}:{x:Q+b-12,y:X+2,width:12,height:12}),N&&(V.globalAlpha=1),f},drawCloseIcon:function(V,R,Q,X){var b=X.x,X=X.y;R.strokeStyle=Q,R.lineWidth=1,R.beginPath(),R.moveTo(b+2,X+8),R.lineTo(b+8,X+2),R.moveTo(b+8,X+8),R.lineTo(b+2,X+2),R.stroke()},getTabAt:function(V){return(V=this._interactor._8Q(V))?V.tab:null},validateImpl:function(){var X=this,V=(X._24o(),X._canvas),R=X._tabPosition,Q=X._91O,b=X._92O,A=X._tabModel,c=X.getWidth(),f=X.getHeight(),S=X._tabHeight,F=X._7o,D=X._tabGap,P=R===fR,N=R===AR,q=R===cR,L=R===AR+"-vertical",R=R===cR+"-vertical",e=X._23o,J=0;if((N||q)&&A._roots.each(function(V){J=Q8(X.getTabWidth(V),J)}),P=P?(_(Q,0,0,c,S),{x:0,y:S,width:c,height:Q8(0,f-S)}):N?(_(Q,0,0,J,f),{x:J,y:0,width:Q8(0,c-J),height:f}):q?(_(Q,c-J,0,J,f),{x:0,y:0,width:Q8(0,c-J),height:f}):L?(_(Q,0,0,S,f),{x:S,y:0,width:Q8(0,c-S),height:f}):R?(_(Q,c-S,0,S,f),{x:0,y:0,width:Q8(0,c-S),height:f}):(_(Q,0,f-S,c,S),{x:0,y:0,width:c,height:Q8(0,f-S)}),_(b,P),L||R){X._9o&&(P.x=0,_(X._8o.getView(),P)),xJ(V,S,f);var s=S2(V),l=0;if(F2(s,0,X.ty(),1),s.clearRect(0,0,S,f),F.clear(),A._roots.each(function(V){var R,Q;V.isVisible()&&(R=X.getTabWidth(V),e&&e.tab===V||(Q=X.getTabBackground(V),Q=X.drawTab(s,V,0,l,S,R,Q)),F.add({_75o:Q,tab:V,startY:l,endY:l+R,height:R}),l+=R+D)}),X._23Q=Q8(0,l-D),e&&(y=e.position,X.drawTab(s,e.tab,0,e.startY,S,e.height,X._moveBackground),Q4(s,0,y,S,1,X._insertColor)),s.restore(),X._selectionChanged){X._selectionChanged=!1;for(var H=X.ty(),K=0;K<F.size();K++)if((g=F.get(K)).tab===X._8o){if(g.endY+H<0){X.ty(-g.startY);break}if(g.startY+H>f){X.ty(f-g.endY);break}}}X.ty(X.ty())}else if(N||q){if(X._9o&&(P.x=0,_(X._8o.getView(),P)),xJ(V,J,f),s=S2(V),F2(s,l=0,X.ty(),1),s.clearRect(0,0,J,f),F.clear(),A._roots.each(function(V){var R;V.isVisible()&&(e&&e.tab===V||(R=X.getTabBackground(V),R=X.drawTab(s,V,0,l,J,S,R)),F.add({_75o:R,tab:V,startY:l,endY:l+S,height:S}),l+=S+D)}),X._23Q=Q8(0,l-D),e&&(y=e.position,X.drawTab(s,e.tab,0,e.startY,J,e.height,X._moveBackground),Q4(s,0,y,J,1,X._insertColor)),s.restore(),X._selectionChanged)for(X._selectionChanged=!1,H=X.ty(),K=0;K<F.size();K++)if((g=F.get(K)).tab===X._8o){if(g.endY+H<0){X.ty(-g.startY);break}if(g.startY+H>f){X.ty(f-g.endY);break}}X.ty(X.ty())}else{X._9o&&(P.y=0,_(X._8o.getView(),P)),xJ(V,c,S);var y,s=S2(V),t=0;if(F2(s,X.tx(),0,1),s.clearRect(0,0,c,S),F.clear(),A._roots.each(function(V){var R,Q;V.isVisible()&&(R=X.getTabWidth(V),e&&e.tab===V||(Q=X.getTabBackground(V),Q=X.drawTab(s,V,t,0,R,S,Q)),F.add({_75o:Q,tab:V,startX:t,endX:t+R,width:R}),t+=R+D)}),X._64I=Q8(0,t-D),e&&(y=e.position,X.drawTab(s,e.tab,e.startX,0,e.width,S,X._moveBackground),jJ(s,X._insertColor,y,0,S)),s.restore(),X._selectionChanged){X._selectionChanged=!1;for(var g,m=X.tx(),K=0;K<F.size();K++)if((g=F.get(K)).tab===X._8o){if(g.endX+m<0){X.tx(-g.startX);break}if(g.startX+m>c){X.tx(c-g.endX);break}}}X.tx(X.tx())}for(var z=[],Y=b.children,K=0;K<Y.length;K++){var u=Y[K],o=u._tab_;o&&!A.contains(o)&&z.push(u)}z.forEach(function(V){b.removeChild(V)})}}),function(V){this.tv=V,this.addListeners()}),Rm=(Os(Vm,v,{ms_listener:1,getView:function(){return this.tv._91O},handle_mousewheel:function(V){this.handleScroll(V,V.wheelDelta/40*10)},handle_DOMMouseScroll:function(V){this.handleScroll(V,10*-V.detail)},handleScroll:function(V,R){Tf(V);var Q=(V=this.tv)._tabPosition;!V._40o()||Q!==fR&&Q!==SR||V.tx(this.tv.tx()+R),!V._41o()||Q!==AR&&Q!==cR&&Q!==AR+"-vertical"&&Q!==cR+"-vertical"||V.ty(this.tv.ty()+R)},_8Q:function(V){var R,Q=this.tv,X=Q._tabPosition,b=Q._7o;if(X===fR||X===SR){for(var A=Q.lp(V).x,c=0;c<b.size();c++)if((R=b.get(c)).startX<=A&&A<=R.endX)return R}else if(X===AR||X===cR||X===AR+"-vertical"||X===cR+"-vertical")for(var f=Q.lp(V).y,c=0;c<b.size();c++)if((R=b.get(c)).startY<=f&&f<=R.endY)return R;return q8},isClickable:function(V){var R=this.tv,Q=R._tabPosition,V=this._73o=this._8Q(V);return!(!R._40o()||Q!==fR&&Q!==SR)||!(!R._41o()||Q!==AR&&Q!==cR&&Q!==AR+"-vertical"&&Q!==cR+"-vertical")||V&&(!V.tab.isDisabled()||R.isMovable())},handle_mousemove:function(V){K2?this._74o=this._8Q(V):this.getView().style.cursor=this.isClickable(V)?Ve:""},handle_mousedown:function(V){this.handle_mousemove(V),this.handle_touchstart(V)},handle_touchstart:function(V){var R=this.tv,Q=R._tabPosition;Tf(V),bs(V)&&this.isClickable(V)&&(Q===fR||Q===SR?(this.x=Ps(V).x,this.lp=R.lp(V),this.tx=R.tx()):(this.y=Ps(V).y,this.lp=R.lp(V),this.ty=R.ty()),ms(this,V))},handle_mouseup:function(V){this.handle_touchend(V)},handle_touchend:function(V){var R,Q,X;As(V)&&(V=this._73o)&&(R=this.tv,Q=R.getTabModel(),!(X=V.tab).isDisabled()&&X.isClosable()&&R.onTabClosing(X,V=function(){var V=Q._roots.indexOf(X);Q.remove(X),R.onTabClosed(X,V)})&&V())},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)},handleWindowTouchMove:function(V){var X,b,A,c,R=this,f=R.tv,Q=f._tabPosition,S=R._73o;Q===fR||Q===SR?(b=Ps(V).x-R.x,!R._25o&&!R.moving&&2<w8(b)&&(f._40o()&&!Ds(V)?R._25o=1:S&&f.isMovable()&&(R.moving=1)),R._25o?f.tx(R.tx+b):R.moving&&(X=R.lp.x+b,c=f._tabGap/2,f._7o.each(function(V){var R=V.endX,Q=X-V.startX<R-X;X>=V.startX&&X<=R&&f._7Q({tab:S.tab,startX:S.startX+b,width:S.width,front:Q,insertTab:V.tab,position:Q?Q8(0,V.startX-c):X8(f._64I,R+c)})}))):(b=Ps(V).y-R.y,!R._25o&&!R.moving&&2<w8(b)&&(f._41o()&&!Ds(V)?R._25o=1:S&&f.isMovable()&&(R.moving=1)),R._25o?f.ty(R.ty+b):R.moving&&(A=R.lp.y+b,c=f._tabGap/2,f._7o.each(function(V){var R=V.endY,Q=A-V.startY<R-A;A>=V.startY&&A<=R&&f._7Q({tab:S.tab,startY:S.startY+b,height:S.height,front:Q,insertTab:V.tab,position:Q?Q8(0,V.startY-c):X8(f._23Q,R+c)})})))},handleWindowMouseUp:function(V){this.handleWindowTouchEnd(V)},handleWindowTouchEnd:function(V){var R,Q,X,b,A=this,c=A.tv,f=c._tabPosition,S=c.getTabModel(),F=S._roots,D=A._73o;A.moving?((X=c._23o)&&X.insertTab!==X.tab&&(Q=X.tab,b=F.remove(Q),0<=(R=F.indexOf(X.insertTab))&&(X.front||R++,R<=F.size()&&(F.add(Q,R),S._38I(Q,b,R)))),c._7Q(q8),delete A.moving):!A._25o&&D&&(Q=D.tab,(X=A._74o)&&X.tab!==Q||(!Q.isDisabled()&&Js(D._75o,A.lp)?c.onTabClosing(Q,b=function(){var V=F.indexOf(Q);S.remove(Q),c.onTabClosed(Q,V)})&&b():Q.isDisabled()||c._8o===Q||S.sm().ss(Q))),A._25o=A._73o=A._74o=f===fR||f===SR?A.x=A.lp=A.tx=q8:A.y=A.lp=A.ty=q8}}),kG.PropertyView=function(V){var R=this,Q=(R._view=UJ(1,R),R._canvas=IJ(R._view),BJ(R._view,R._79O=pJ()),R._rows=new Z,R._28o=new Z,R._26o={},R._26Q={},R._propertyModel=new E_),X=R.ivm;Q.mm(X,R),Q.md(X,R),Q.mh(X,R),R.dm(V||new E_),new Rm(R)},R("PropertyView",v,{ms_ac:[WR,UR,TR,KA,yA,"categorizable",FA,HA,eA,JA,sA,fA,SA,cA,"selectRowIndex",h8,"background",DA,LA,NA,qA,PA],ms_v:1,ms_dm:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,_45o:1,_47o:1,ms_tip:1,_29I:ke,_59I:0,_9I:0,_selectRowIndex:-1,_editable:!0,_batchEditable:!0,_categorizable:!0,_indent:Of,_background:L8.propertyViewBackground,_expandIcon:L8.propertyViewExpandIcon,_collapseIcon:L8.propertyViewCollapseIcon,_scrollBarColor:T4,_scrollBarSize:N,_autoHideScrollBar:yf,_selectBackground:L8.propertyViewSelectBackground,_rowHeight:h4,_rowLineVisible:L8.propertyViewRowLineVisible,_rowLineColor:L8.propertyViewRowLineColor,_10I:.5,_columnLineVisible:L8.propertyViewColumnLineVisible,_columnLineColor:L8.propertyViewColumnLineColor,_labelColor:L8.propertyViewLabelColor,_labelSelectColor:L8.propertyViewLabelSelectColor,_labelFont:L8.propertyViewLabelFont,getRows:function(){return this._rows},getColumnPosition:function(){return this._10I},setColumnPosition:function(V){var R=this._10I;this._10I=V=1<(V=V<0?0:V)?1:V,this.fp("columnPosition",R,V)},getPropertyName:function(V){return V.toLabel()},getLabelFont:function(V,R,Q){return this._labelFont},getLabelColor:function(V,R,Q){return Q===this._selectRowIndex?this._labelSelectColor:this._labelColor},getPropertyFont:function(V,R){return this._labelFont},getPropertyColor:function(V,R){return R===this._selectRowIndex?this._labelSelectColor:V.getColor()||this._labelColor},getCategoryFont:function(V){return this._labelFont},getCategoryColor:function(V){return this._labelColor},adjustTranslateX:function(V){return 0},adjustTranslateY:function(V){var R=this.getHeight()-this._59I;return 0<(V=V<R?R:V)?0:u8(V)},isExpanded:function(V){if(!V)return!0;var R=this._26o[V];return R?R.isExpanded:!(!1===this._26Q[V])},toggle:function(V){this.isExpanded(V)?this.collapse(V):this.expand(V)},expandAll:function(){for(var V in this.validate(),this._26o)this.expand(V)},expand:function(V){var R;V&&V!==eR&&(R=this._26o[V])&&!R.isExpanded&&(R.isExpanded=!0,this.onExpanded(V),this.ivm())},onExpanded:function(V){},collapseAll:function(){for(var V in this.validate(),this._26o)this.collapse(V)},collapse:function(V){var R;V&&V!==eR&&(R=this._26o[V])&&R.isExpanded&&(R.isExpanded=!1,this.onCollapsed(V),this.ivm())},onCollapsed:function(V){},getCategoryName:function(V){return this.isCategorizable()&&(V=V.getCategoryName())||eR},getPropertyModel:function(){return this._propertyModel},handleSelectionChange:function(){this.ivm()},setDataModel:function(V){var R=this,Q=R._dataModel;Q!==V&&(Q&&(Q.umd(R.handlePropertyChange,R),R._selectionModel||Q.sm().ums(R.handleSelectionChange,R)),(R._dataModel=V).md(R.handlePropertyChange,R),R._selectionModel?R._selectionModel._21I(V):V.sm().ms(R.handleSelectionChange,R),R.fp(OA,Q,V))},isVisible:function(V){return!this._visibleFunc||this._visibleFunc(V)},onPropertyChanged:function(V){V=V.property,WG[V]?this.ivm():this.iv(),V===_A&&this._43o()},getCurrentData:function(){return this._27o},updateCurrentData:function(){this._27o=this.sm().ld()},getRawProperties:function(){return this._27o?this._propertyModel._roots:n_},handlePropertyChange:function(V){this._27o===V.data&&this.iv()},ivm:function(){this.invalidateModel()},invalidateModel:function(){this._96I||(this.setSelectRowIndex(-1),this._96I=1,this.iv())},redraw:function(){this.iv()},validateModel:function(){var V,X=this,b=X._rows,R=X._28o,A={},c=new Z,Q=X._27o;for(V in X.updateCurrentData(),Q!==X._27o&&X.endEditing(),b.clear(),R.clear(),X.getRawProperties().each(function(V){X.isVisible(V)&&(c.add(V),V=X.getCategoryName(V),A[V]||(R.add(V,V===eR?0:N8),A[V]={isExpanded:X.isExpanded(V),properties:new Z}))}),X._sortFunc&&c.sort(X._sortFunc),X._26o)X._26Q[V]=X.isExpanded(V);X._26o=A,R.each(function(R){R!==eR&&b.add(R);var Q=A[R];Q.isExpanded&&c.each(function(V){X.getCategoryName(V)===R&&(Q.properties.add(V),b.add({property:V,data:X._27o}))},X)})},validateImpl:function(){var V=this,R=(V._76o(),V._96I&&(V.validateModel(),delete V._96I),V._canvas),Q=V.getWidth(),X=V.getHeight(),b=-V.ty(),A=V._rowHeight,c=V._indent,f=Q-c,S=V._rows,F=S.size(),D=V._9I=c+f*V._10I,P=V._59I=F*A,N=(xJ(R,Q,X),V._29I={x:0,y:b,width:Q,height:X},V._31I=o8(b/A),V._14I=_8((b+X)/A),V._31I<0&&(V._31I=0),V._14I>F&&(V._14I=F),S2(R)),q=V._background;F2(N,0,-b,1),N.beginPath(),N.rect(0,b,Q,X),N.clip(),N.clearRect(0,b,Q,X),V._93db(N),q&&Q4(N,0,0,c,P,q);for(var L=V._31I;L<V._14I;L++){var e,J,s,l,H=S.get(L),b=A*L;l8(H)?(q&&Q4(N,c,b,f,A,q),(J=U(V.isExpanded(H)?V._expandIcon:V._collapseIcon))&&pf(N,J,TA,0,b,c,A),N.save(),N.beginPath(),N.rect(c,b,f,A),N.clip(),V.drawCategoryName(N,H,L,c,b,f,A),N.restore()):(e=H.property,H=H.data,J=U(e.getIcon()),s=V._selectRowIndex===L?V.getSelectBackground():q8,J&&pf(N,J,TA,0,b,c,A),s&&Q4(N,c,b,f,A,s),N.save(),N.beginPath(),N.rect(c,b,D-c,A),N.clip(),V.drawPropertyName(N,e,L,c,b,D-c,A),N.restore(),V.isEditing(H,e)||(s=D+1,l=Q-D-1,N.save(),N.beginPath(),N.rect(s,b,l,A),N.clip(),V._87o(V.drawPropertyValue(N,e,V.getValue(H,e),L,s,b,l,A,H),L,s,b,l,A),N.restore())),V._rowLineVisible&&Q4(N,c,b+A-1,f,1,V._rowLineColor)}V._columnLineVisible&&(Q4(N,D,0,1,P,V._columnLineColor),Q4(N,Q-1,0,1,P)),V._92db(N),V._93I(),N.restore(),V.ty(V.ty())},drawCategoryName:function(V,R,Q,X,b,A,c){Qs(V,R,this.getCategoryFont(R),this.getCategoryColor(R),X,b,A,c)},drawPropertyName:function(V,R,Q,X,b,A,c){R.drawPropertyName?R.drawPropertyName(V,R,Q,X,b,A,c,this):Qs(V,this.getPropertyName(R),this.getPropertyFont(R,Q),this.getPropertyColor(R,Q),X,b,A,c)},drawPropertyValue:function(V,R,Q,X,b,A,c,f,S){if(R.drawPropertyValue)return R.drawPropertyValue(V,R,Q,X,b,A,c,f,S,this);pG(V,Q,R,this.getLabelFont(R,Q,X),this.getLabelColor(R,Q,X),b,A,c,f,S,this)},isPropertyEditable:function(V,R){return V.isEditable()&&this.isEditable()},setProperties:function(V){this._propertyModel.clear(),this.addProperties(V)},addProperties:function(V){var Q;V&&(Q=this._propertyModel,V.forEach(function(V){var R;V instanceof GG||(R=Gf(V.className),V=hf(R||GG,V)),Q.add(V)}))},getRowIndexAt:function(V){return 0<=(V=o8(this.lp(V).y/this._rowHeight))&&V<this._rows.size()?V:-1},getPropertyAt:function(V){return 0<=(V=this.getRowIndexAt(V))?this._rows.get(V).property:q8},getToolTip:function(V){var R=this.getPropertyAt(V),Q=this._27o;return R&&Q?R.getToolTip(Q,this._9I<this.lp(V).x,this):q8}}),function(V){this.pv=V,this.addListeners()}),Qm=(Os(Rm,v,{ms_listener:1,getView:function(){return this.pv._view},setCursor:function(V){this.getView().style.cursor=V},clear:function(){this._62O=this.cp=this.ty=this.p=q8,this.setCursor(VR)},handle_mousedown:function(V){this.handle_touchstart(V)},handle_touchstart:function(V){var R=this.pv;Tf(V),R.setFocus(V)&&(bs(V)?(this.cp=Ps(V),this.ty=R.ty(),this.p=R.getColumnPosition(),this.handle_touchmove(V)):R.setSelectRowIndex(R.getRowIndexAt(V)))},handleWindowMouseUp:function(V){this.clear()},handleWindowTouchEnd:function(V){this.clear()},handle_mouseup:function(V){this.handle_touchend(V)},handle_touchend:function(V){var R,Q,X,b,A,c,f,S,F,D;this.cp&&!this._62O&&(F=(S=(R=this.pv).lp(V)).x,S=S.y,f=R._indent,Q=R.getRowIndexAt(V),X=R._9I,0<=Q&&(D=(b=R._rowHeight)*Q,c=(A=R._rows.get(Q)).property,l8(A)?(U(R.isExpanded(A)?R._expandIcon:R._collapseIcon)&&0<=F&&F<=f&&D<=S&&S<=D+b||Ss(V))&&R.toggle(A):X<F&&R.isPropertyEditable(c,V)&&(S={x:(f={x:X+1,y:D,width:R.getWidth()-X-1,height:b}).x+R.tx(),y:f.y+R.ty(),width:f.width,height:f.height},F=0,D=R._29I,f.y<D.y?F=f.y-D.y:f.y+b>D.y+D.height&&(F=f.y+b-D.y-D.height),F&&(R.ty(R.ty()-F),S.y-=F),R.beginEditing({data:A.data,property:c,value:R.getValue(A.data,c),event:V,rect:f,editorRect:S,view:R}))),R.setSelectRowIndex(Q)),this.clear()},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)},handleWindowTouchMove:function(V){var R,Q,X=this.pv,b=this.ty,A=this.cp,V=Ps(V),c=this._62O;"p"===c?X.setTranslateY(b+V.y-A.y):"c"===c?16<(Q=X.getWidth()-X._indent)&&(R=this.p-(A.x-V.x)/Q,X.setColumnPosition(R=1-(Q=16/Q)<(R=R<Q?Q:R)?1-Q:R)):"s"===c&&X.setTranslateY(b+(A.y-V.y)*X._59I/X._29I.height)},handle_mousemove:function(V){this.handle_touchmove(V)},handle_touchmove:function(V){var R,Q,X;!K2&&bs(V)&&(Q=(R=this).pv,X=w8(Q.lp(V).x-Q._9I)<=(d8?8:3),R.cp?R._62O||(X?(R._62O="c",ms(R,V)):2<=w8(Ps(V).y-R.cp.y)&&(R._62O=R.isV(V)?"s":"p",ms(R,V))):(X?R.setCursor(GA):R.setCursor(VR),R.isV(V)&&Q._43o()))},isV:function(V){var R=this.pv,Q=R._29I;return R._41o()&&Q.x+Q.width-R.lp(V).x<rf},handle_mousewheel:function(V){this.handleScroll(V,V.wheelDelta/40)},handle_DOMMouseScroll:function(V){2===V.axis&&this.handleScroll(V,-V.detail)},handleScroll:function(V,R){var Q=this.pv;Tf(V),Q.endEditing(),Q.translate(0,R*Q.getRowHeight())},handle_keydown:function(V){var R=this.pv,Q=R._rows.size(),X=R._selectRowIndex+(n2(V)?-1:1);(n2(V)||r2(V))&&R.setSelectRowIndex(X=Q<=(X=X<0?0:X)?Q-1:X)}}),kG.ListView=function(V){this._5o(V),new Qm(this)},R("ListView",v,{ms_ac:[WR,UR,TR,DA,FA,LA,NA,HA,eA,fA,SA,cA,AA,h8],ms_v:1,ms_bnb:1,ms_tip:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,_14Q:1,ms_dm:1,_45o:1,_checkMode:!1,_indent:Of,_rowHeight:h4,_rowLineVisible:L8.listViewRowLineVisible,_rowLineColor:L8.listViewRowLineColor,_scrollBarColor:T4,_scrollBarSize:N,_autoMakeVisible:p4,_autoHideScrollBar:yf,_selectBackground:L8.listViewSelectBackground,_labelColor:L8.listViewLabelColor,_labelSelectColor:L8.listViewLabelSelectColor,_labelFont:L8.listViewLabelFont,isCheckMode:function(){return this._checkMode},setCheckMode:function(V){var R=this._checkMode;this._checkMode=V,this.fp(lA,R,V)},drawRow:function(V,R,Q,X,b,A,c){var f=0,S=this._indent,F=this.getIconWidth(R);this.drawRowBackground(V,R,Q,X,b,A,c),this._checkMode&&(Uf(V,U(this.getCheckIcon(R)),f+S/2,b+c/2,R,this),f+=S),this.drawIcon(V,R,f,b,F,c),this.drawLabel(V,R,f+F,b,c)}}),function(V){this.list=V,this.addListeners()}),Xm=(Os(Qm,v,{ms_listener:1,getView:function(){return this.list._view},clear:function(V){var R=this,Q=R.list;V&&"d"===R._62O&&!R.dragCancel&&Q.handleDragAndDrop(V,"end"),Q.draggingData&&(Q.draggingData=null,Q.redraw()),R.dragCancel=R._62O=R._isV=R._isH=R.cp=R.tx=R.ty=q8},handle_mousedown:function(V){this.handle_touchstart(V)},handle_touchstart:function(V){var R,Q=this.list;Tf(V),Q.setFocus(V)&&(R=Q.getDataAt(V),this.cp=Ps(V),this.tx=Q.tx(),this.ty=Q.ty(),bs(V)?R&&Q.handleDragAndDrop&&!this.isV(V)&&!this.isH(V)&&Q.isDraggable(R)&&(Q.draggingData=R,Q.redraw(),Q.handleDragAndDrop(V,"prepare")):(R?this._33o(V,R):this._cancelDataDoubleSelect(),this.clear(V)))},handleWindowMouseUp:function(V){this.clear(V)},handleWindowTouchEnd:function(V){this.clear(V)},handle_mouseup:function(V){this.handle_touchend(V)},handle_touchend:function(V){var R,Q=this.list;this._isV||this._isH||!this.cp||this._62O||((R=Q.getDataAt(V))?(Q.isCheckMode()?this._34o(V,R):this._33o(V,R),Ss(V)?Q.onDataDoubleClicked(R,V):Q.onDataClicked(R,V)):(this._cancelDataDoubleSelect(),Q.handleBackgroundClick(V))),this.clear(V)},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)},handleWindowTouchMove:function(V){var R=this.list,Q=this._62O,X=this.tx,b=this.ty,A=this.cp,c=Ps(V),f=R._29I;"p"===Q?R.setTranslate(X+c.x-A.x,b+c.y-A.y):"v"===Q?R.ty(b+(A.y-c.y)*R._59I/f.height):"h"===Q?R.tx(X+(A.x-c.x)*R._91I/f.width):"d"!==Q||this.dragCancel||R.handleDragAndDrop(V,"between")},handle_mousemove:function(V){this.handle_touchmove(V)},handle_touchmove:function(V){var R,Q;!K2&&bs(V)&&(Q=(R=this).list,R._isV=R.isV(V),R._isH=R.isH(V),R.cp?R._62O||qs(Ps(V),R.cp)<2||(R._isV?R._62O="v":R._isH?R._62O="h":Q.draggingData&&!this.dragCancel?(R._62O="d",Q.handleDragAndDrop(V,"begin")):R._62O="p",R._62O&&"d"!==R._62O&&Q.draggingData&&(Q.draggingData=null,Q.redraw()),ms(R,V)):(R._isV&&Q._43o(),R._isH&&Q._42o()))},isV:function(V){var R=this.list,Q=R._29I;return R._41o()&&Q.x+Q.width-R.lp(V).x<rf},isH:function(V){var R=this.list,Q=R._29I;return R._40o()&&Q.y+Q.height-R.lp(V).y<rf},handle_mousewheel:function(V){this.handleScroll(V,V.wheelDelta/40,V.wheelDelta!==V.wheelDeltaX)},handle_DOMMouseScroll:function(V){this.handleScroll(V,-V.detail,1)},handleScroll:function(V,R,Q){var X=this.list;Tf(V),X.endEditing&&X.endEditing(),Q&&X._41o()?X.translate(0,R*X.getRowHeight()):X._40o()&&X.translate(10*R,0)},handle_keydown:function(V){var R,Q,X,b,A,c,f;L8.isInput(V.target)||(Q=(R=this.list).sm(),b=(X=R._rows).size(),u2(V)?R.selectAll():o2(V)?R.handleDelete&&R.handleDelete(V):j2(V)?"d"!==this._62O||this.dragCancel||(R.handleDragAndDrop(V,"cancel"),this.dragCancel=!0):E2(V)?R.isCheckMode()&&(f=R.getFocusData())&&R.checkData(f):(n2(V)||r2(V))&&((f=(A=R.isCheckMode())?R.getFocusData():Q.ld())?0<=(c=R.getRowIndex(f))&&(n2(V)?0!==c&&(f=X.get(c-1),A?R.setFocusData(f):Q.ss(f)):c!==b-1&&(f=X.get(c+1),A?R.setFocusData(f):Q.ss(f))):0<b&&(f=X.get(0),A?R.setFocusData(f):Q.ss(f))))},_34o:function(V,R){var Q=this.list;0<=(V=Q.lp(V).x)&&V<=Q._indent?Q.checkData(R):Q.setFocusData(R)},_33o:function(V,R){var Q=this.list,X=Q.dm(),b=Q.sm(),A=b.ld();if(Q.canHandleSelectMode(V,R)){if(X.beginTransaction(),Ds(V))Q.isSelected(R)?b.rs(R):b.as(R);else if(Fs(V))if(A)for(var c=Q.getRowIndex(A),f=Q.getRowIndex(R);c!==f;)b.as(Q._rows.get(c+=c<f?1:-1));else b.ss(R);else bs(V)?(b.contains(R)?Q.handleDataDoubleSelect&&(this._handleDataDoubleSelect(V,R),Ss(V)&&this._cancelDataDoubleSelect()):this._cancelDataDoubleSelect(),b.ss(R)):b.contains(R)||b.ss(R);X.endTransaction()}else this._cancelDataDoubleSelect()},_handleDataDoubleSelect:function(V,R){this._cancelDataDoubleSelect(),this._doubleSelectTimer=W8(function(){this.list.handleDataDoubleSelect(V,R),this._doubleSelectTimer=N8}.bind(this),L8.doubleClickSpeed)},_cancelDataDoubleSelect:function(){this._doubleSelectTimer&&(U8(this._doubleSelectTimer),this._doubleSelectTimer=N8)}}),kG.TreeView=function(V){this._35o(),this._5o(V),new Xm(this)},R("TreeView",v,{ms_ac:[WR,UR,TR,"rootVisible",lA,"rootData",HA,eA,fA,SA,cA,FA,DA,LA,NA,JA,sA,AA,h8,"loader","doubleClickToToggle"],ms_v:1,ms_bnb:1,ms_tip:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,_48o:1,_14Q:1,_45o:1,_checkMode:q8,_indent:Of,_rowHeight:h4,_rowLineVisible:L8.treeViewRowLineVisible,_rowLineColor:L8.treeViewRowLineColor,_scrollBarColor:T4,_scrollBarSize:N,_autoHideScrollBar:yf,_expandIcon:L8.treeViewExpandIcon,_collapseIcon:L8.treeViewCollapseIcon,_autoMakeVisible:p4,_selectBackground:L8.treeViewSelectBackground,_labelColor:L8.treeViewLabelColor,_labelSelectColor:L8.treeViewLabelSelectColor,_labelFont:L8.treeViewLabelFont,_doubleClickToToggle:L8.treeViewDoubleClickToToggle,drawRow:function(V,R,Q,X,b,A,c){this.drawRowBackground(V,R,Q,X,b,A,c),this.drawTree(V,R,Q,0,b,A,c)},isOnToggleIcon:function(V){var R=this.getDataAt(V);if(R){var Q=this.getIndent(),V=this.lp(V).x;if(U(this.getToggleIcon(R))&&(R=Q*this.getLevel(R))<=V&&V<=R+Q)return!0}return!1}}),function(V){oJ(Xm,this,[V])}),bm=(Os(Xm,Qm,{toggle:function(V,R,Q,X){var b=this.list,A=b.lp(V).x;return U(b.getToggleIcon(R))&&(X*=Q)<=A&&A<=X+Q?(b.toggle(R),!0):!(!b.isDoubleClickToToggle()||!Ss(V)||(b.toggle(R),0))},_34o:function(V,R){var Q=this.list,X=Q.lp(V).x,b=Q._levelMap[R._id],A=Q._indent,c=A*(b+1);c<=X&&X<=c+A?Q.checkData(R):this.toggle(V,R,A,b)||Q.setFocusData(R)},_33o:function(V,R){var Q=this.list;if(!this.toggle(V,R,Q._indent,Q.getLevel(R)))if(Fs(V)){var X=Q.dm(),b=(X.beginTransaction(),Q.sm());if(0<b.size()){for(var A=Q._rows,c=null,f=0,S=A.size();f<S;f++)if(Q.isSelected(A.get(f))){c=f;break}for(var F=null,f=A.size()-1;0<=f;f--)if(Q.isSelected(A.get(f))){F=f;break}for(var D,P=Q.getRowIndex(R),N=P<c?(D=P-1,c):F<P?(D=F,P):(D=c,F);D!==N;)b.as(Q._rows.get(++D))}else b.ss(R);X.endTransaction()}else Xm.superClass._33o.call(this,V,R)},handle_keydown:function(V){var R,Q,X,b,A;i2(V)||M2(V)?(Q=(R=this.list)._rows,X=R.isCheckMode(),b=R.sm(),(A=X?R.getFocusData():b.ld())?A.hasChildren()&&(i2(V)?R.collapse(A):R.expand(A)):0<Q.size()&&(A=Q.get(0),X?R.setFocusData(A):b.ss(A))):Xm.superClass.handle_keydown.call(this,V)}}),kG.TableView=function(V){this._98I(),this._5o(V),new Am(this)}),Am=(R("TableView",v,{ms_ac:[WR,UR,TR,"sortMode",KA,yA,DA,LA,NA,qA,PA,"sortColumn",HA,eA,fA,SA,cA,AA,h8],ms_v:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,ms_tip:1,_50o:1,_45o:1,_47o:1,_sortMode:tA,_editable:!0,_batchEditable:!1,_rowHeight:h4,_rowLineVisible:L8.tableViewRowLineVisible,_rowLineColor:L8.tableViewRowLineColor,_columnLineVisible:L8.tableViewColumnLineVisible,_columnLineColor:L8.tableViewColumnLineColor,_scrollBarColor:T4,_scrollBarSize:N,_autoHideScrollBar:yf,_autoMakeVisible:p4,_selectBackground:L8.tableViewSelectBackground,_labelColor:L8.tableViewLabelColor,_labelSelectColor:L8.tableViewLabelSelectColor,_labelFont:L8.tableViewLabelFont,getCheckColumn:function(){var V;return this._31o||((V=this._31o=new BG).setEditable(!0),V.setWidth(40),V.getValue=this.getCheckColumValue,V.drawCell=this.drawCheckColumnCell),this._31o},isCheckMode:function(){return this._39o.contains(this._31o)},setCheckMode:function(V){var R=this._39o,Q=this.getCheckColumn();V!==this.isCheckMode()&&(V?R.add(Q,0):R.remove(Q),this.fp(lA,!V,V))},getCheckColumValue:function(V,R,Q){return Q.isSelected(V)},drawCheckColumnCell:function(V,R,Q,X,b,A,c,f,S){Uf(V,S.getCheckIcon(R),b+c/2,A+f/2,R,S)}}),function(V){oJ(Am,this,[V])}),cm=(Os(Am,Qm,{_34o:function(V,R){var Q=this.list,X=Q._31o;if(Q.isCellEditable(R,X,V)){var b=Q._3Q(X),A=Q.lp(V).x;if(b&&A>=b.startX&&A<b.startX+X.getWidth())return void Q.checkData(R)}Q._37O(R,V),Q.setFocusData(R)},_33o:function(V,R){this.list._37O(R,V),Am.superClass._33o.apply(this,arguments)}}),kG.TreeTableView=function(V){var R=this._4o=new BG;this._35o(),this._98I(),this._5o(V),R.setDisplayName("Name"),R.setEditable(!0),R.setWidth(180),R.drawCell=fm,R.getValue=Sm,this._39o.add(R),new Fm(this)}),fm=function(V,R,Q,X,b,A,c,f,S){S.drawTree(V,R,Q,b,A,c,f)},Sm=function(V,R,Q){return Q.getLabel(V)},Fm=(R("TreeTableView",v,{ms_ac:[WR,UR,TR,"sortMode",KA,yA,FA,lA,"rootData","rootVisible",HA,eA,"sortColumn",JA,sA,fA,SA,cA,AA,NA,DA,LA,qA,PA,h8,"loader"],ms_v:1,ms_bnb:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,ms_tip:1,_50o:1,_48o:1,_14Q:1,_45o:1,_47o:1,_sortMode:tA,_checkMode:q8,_editable:!0,_batchEditable:!1,_indent:Of,_rowHeight:h4,_rowLineVisible:L8.treeTableViewRowLineVisible,_rowLineColor:L8.treeTableViewRowLineColor,_columnLineVisible:L8.treeTableViewColumnLineVisible,_columnLineColor:L8.treeTableViewColumnLineColor,_expandIcon:L8.treeTableViewExpandIcon,_collapseIcon:L8.treeTableViewCollapseIcon,_scrollBarColor:T4,_scrollBarSize:N,_autoHideScrollBar:yf,_autoMakeVisible:p4,_selectBackground:L8.treeTableViewSelectBackground,_labelColor:L8.treeTableViewLabelColor,_labelSelectColor:L8.treeTableViewLabelSelectColor,_labelFont:L8.treeTableViewLabelFont,getTreeColumn:function(){return this._4o}}),function(V){oJ(Fm,this,[V])}),Dm=(Os(Fm,Qm,{_34o:function(V,R){var Q=this.list,X=Q._4o,b=Q._3Q(X),A=Q.lp(V).x;if(b){var c=Q._indent,b=b.startX+c*Q.getLevel(R);if(U(Q.getToggleIcon(R))&&b<=A&&A<=b+c)return void Q.toggle(R);if(Q.isCellEditable(R,X)&&(b+=c)<=A&&A<=b+c)return void Q.checkData(R)}Q._37O(R,V),Q.setFocusData(R)},_33o:function(V,R){var Q=this.list,X=Q.lp(V).x;if(U(Q.getToggleIcon(R))&&(b=Q._3Q(Q._4o))){var b,A=Q._indent;if((b=b.startX+A*Q.getLevel(R))<=X&&X<=b+A)return void Q.toggle(R)}Q._37O(R,V),Fm.superClass._33o.apply(this,arguments)}}),kG.TableHeader=function(V){var R=this,Q=R._view=UJ(1,R),X=R._39o=V.getColumnModel(),b=R.iv;R.tv=R._tableView=V,R._60I=new Z,R._canvas=IJ(Q),Q.style.background=L8.tableHeaderBackground||"",Q.style.height=wf+JR,X.mm(b,R),X.md(b,R),X.mh(b,R),V.mp(function(V){CG[V.property]&&R.iv()},R),new Pm(R),R.iv()}),Pm=(R("TableHeader",v,{ms_v:1,ms_lp:1,ms_fire:1,ms_ac:["checkIcon","sortDescIcon","sortAscIcon",WR,TR,FA,"moveBackground","insertColor",qA,PA,"resizable","movable"],_checkIcon:wR,_movable:!0,_resizable:!0,_labelColor:L8.tableHeaderLabelColor,_labelFont:L8.tableHeaderLabelFont,_columnLineColor:L8.tableHeaderColumnLineColor,_columnLineVisible:L8.tableHeaderColumnLineVisible,_sortDescIcon:L8.tableHeaderSortDescIcon,_sortAscIcon:L8.tableHeaderSortAscIcon,_moveBackground:L8.tableHeaderMoveBackground,_insertColor:L8.tableHeaderInsertColor,_indent:Of,getCheckIcon:function(){return this._checkIcon},getTableView:function(){return this.tv},getLabel:function(V){return V.toLabel()},getLabelFont:function(V){return this._labelFont},getLabelColor:function(V){return V.getColor()||this._labelColor},getLabelAlign:function(V){return V._align},onPropertyChanged:function(V){this.iv()},_5Q:function(V){this._61I=V,this.iv()},getLogicalPoint:function(V){return ts(V,this._canvas,this.tv.tx())},validateImpl:function(){var V,X=this,R=X._canvas,Q=X.getWidth(),b=X.getHeight(),A=X.tv,c=X._60I,f=X._61I,S=-A.tx(),F=0,D=(Q===R.clientWidth&&b===R.clientHeight||xJ(R,Q,b),c.clear(),X._39o._roots.each(function(V){var R;V.isVisible()&&(R=F+V.getWidth(),F<=S+Q&&S<=R&&c.add({column:V,startX:F}),F=R)}),S2(R));F2(D,-S,0,1),D.beginPath(),D.rect(S,0,Q,b),D.clip(),D.clearRect(S,0,Q,b),c.each(function(V){var R=V.column,V=V.startX,Q=R.getWidth();0<Q&&(D.save(),D.beginPath(),D.rect(V,0,Q,b),D.clip(),f&&f.column===R||X.drawColumn(D,R,V,0,Q,b),X._columnLineVisible&&Q4(D,V+Q-1,0,1,b,X._columnLineColor),D.restore())}),f&&(A=f.column,F=f.startX,R=f.position,V=A.getWidth(),D.save(),D.beginPath(),D.rect(F,0,V,b),D.clip(),D.fillStyle=X._moveBackground,D.fill(),X.drawColumn(D,A,F,0,V,b),D.restore(),jJ(D,X._insertColor,R,0,b)),D.restore()},_6Q:function(V){var R=this.tv;return R._31o===V&&R.sm().getSelectionMode()===QR},drawColumn:function(V,R,Q,X,b,A){var c,f,S,F,D,P=this,N=P.tv,q=U(R.getIcon()),L=P.getLabelAlign(R);P._6Q(R)?(D=U(P._checkIcon),Uf(V,D,Q+b/2,X+A/2,R,P)):(D=P.getLabel(R),c=P.getLabelFont(R),f=P.getLabelColor(R),S=Xs(c,D).width,F=q?P._indent:0,L===AR?(q&&pf(V,q,TA,Q,X,F,A),Qs(V,D,c,f,Q+F,X,b,A,AR)):L===cR?(q&&pf(V,q,TA,Q+b-S-F,X,F,A),Qs(V,D,c,f,Q,X,b,A,cR)):(q&&pf(V,q,TA,Q+(b-S-F)/2,X,F,A),Qs(V,D,c,f,Q+(b-S+F)/2,X,0,A,AR))),R.isSortable()&&N.getSortColumn()===R&&(q=U(R.getSortOrder()===gA?P._sortAscIcon:P._sortDescIcon))&&(D=s_(q,R)/2+2,Uf(V,q,L===cR?Q+D:Q+b-D,X+A/2,R,N))},isColumnMovable:function(V){return!0},canColumnInsertBefore:function(V){return!0}}),function(V){this.th=V,this.tv=V._tableView,this.addListeners()}),Nm=(Os(Pm,v,{ms_listener:1,getView:function(){return this.th.getView()},setCursor:function(V){this.getView().style.cursor=V},handle_mousemove:function(V){if(!K2){delete this._29o,this.setCursor(VR);for(var R=this.th,Q=R._60I,X=R.lp(V).x,b=Q.size()-1;0<=b;b--){var A=Q.get(b),c=A.column,f=A.startX+c.getWidth();if(R.isResizable()&&w8(f-X)<=(d8?10:3))return this._29o=A,void this.setCursor(GA);X>A.startX&&X<f&&(this._29o=A),(c.isClickable()||c.isSortable()||R.isMovable()&&R.isColumnMovable(c)||this.tv.getCheckColumn&&c===this.tv.getCheckColumn())&&X>A.startX&&X<f&&this.setCursor(Ve)}}},handle_mousedown:function(V){this.handle_touchstart(V)},handle_touchstart:function(V){Tf(V),this.tv.endEditing(),this.handle_mousemove(V),this._29o&&(this.x=Ps(V).x,this.lx=this.th.lp(V).x,this.w=this._29o.column.getWidth(),ms(this,V))},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)},handleWindowTouchMove:function(V){var X,R=this,b=R.th,Q=R.getView().style.cursor,A=R._29o,c=Ps(V).x-R.x;R.resizing||R.moving||(Q===GA?R.resizing=1:b.isMovable()&&Q===Ve&&2<w8(c)&&(R.moving=1)),R.resizing?A.column.setWidth(R.w+c):R.moving&&(X=R.lx+c,b._60I.each(function(V){var R=V.startX,Q=R+V.column.getWidth();R<=X&&X<=Q&&((V={column:A.column,startX:A.startX+c,front:b.canColumnInsertBefore(V.column)&&X-R<Q-X,insertColumn:V.column}).front?V.position=R:V.position=Q,b._5Q(V))}))},_16Q:function(V,R){var Q=this.tv,X=this.th,b=X._checkIcon;if(X._6Q(V)){var A=U(b),c=this.lx,f=V.getWidth();if(R+f/2-(A=s_(A,V))<=c&&c<=R+f/2+A)return X.setCheckIcon(b===OR?wR:OR),c=Q.sm(),R=Q._rows,b===OR?c.rs(R):c.ss(R),Q.onCheckColumnClicked(V),!0}return!1},handleWindowMouseUp:function(V){this.handleWindowTouchEnd(V)},handleWindowTouchEnd:function(V){var R,Q,X,b,A,c=this,f=c.tv,S=c.th,F=c._29o;c.moving?((Q=S._61I)&&Q.insertColumn!==Q.column&&(R=Q.column,b=(X=f.getColumnModel()._roots).remove(R),0<=(A=X.indexOf(Q.insertColumn))&&(Q.front||A++,A<=X.size()&&(X.add(R,A),f.getColumnModel()._38I(R,b,A)))),S._5Q(q8),delete c.moving):!c.resizing&&F&&(R=F.column,Q=S.lp(V).x,X=F.startX,b=!0,(b=(!S.onColumnClicked||!1!==S.onColumnClicked(R,V,X))&&b)&&X<=Q&&Q<=X+R.getWidth()&&(c._16Q(R,X)||(R.isSortable()&&(A=f.getSortMode(),F=R.getSortOrder(),A===tA?f.getSortColumn()===R?(F===mA&&f.setSortColumn(q8),R.setSortOrder(F===gA?mA:gA)):f.setSortColumn(R):"bistate"===A&&(f.getSortColumn()===R?R.setSortOrder(F===gA?mA:gA):f.setSortColumn(R))),f.onColumnClicked(R,V,X)))),c._29o=c.resizing=c.x=c.lx=c.w=q8}}),kG.TablePane=function(V){this.init(new bm(V))},R("TablePane",v,{ms_v:1,ms_fire:1,_44o:1}),kG.TreeTablePane=function(V){this.init(new cm(V))},R("TreeTablePane",v,{ms_v:1,_44o:1}),kG.Toolbar=function(V){var X=this,R=X._view=UJ(1,X),Q=R.style;Q.background=L8.toolbarBackground||"",Q.height=af+JR,X._canvas=IJ(R),X._30o=new Z,X._90I=new Z,X.setItems(V||[]),R.handleGroupSelectedChanged=function(R){var Q;R.isSelected()&&null!=(Q=R.getGroupId())&&X._items.forEach(function(V){(V=V.element)&&V!==R&&V.setSelected&&V.getGroupId&&V.getGroupId()===Q&&V.setSelected(!1)})},new Nm(X)},R("Toolbar",v,{ms_v:1,ms_fire:1,ms_tx:1,ms_lp:1,ms_tip:1,ms_value:1,ms_ac:[gR,WR,TR,UR,h8,"itemGap","separatorColor","currentItem","stickToRight"],_labelColor:L8.toolbarLabelColor,_labelSelectColor:L8.toolbarLabelSelectColor,_labelFont:L8.toolbarLabelFont,_selectBackground:L8.toolbarSelectBackground,_itemGap:L8.toolbarItemGap,_separatorColor:L8.toolbarSeparatorColor,_stickToRight:!1,getSumWidth:function(V){return this._64I},getToolTip:function(V){return(V=this.getItemInfoAt(V))?V.item.toolTip:q8},getLabelColor:function(V){return V&&V.selected&&V.type!==OR&&"radio"!==V.type?this._labelSelectColor:this._labelColor},onPropertyChanged:function(V){this.iv(),V.property===gR&&this._items.forEach(function(V){WJ(V)})},redraw:function(){this.iv()},addItem:function(V,R){var Q=this._items;R==q8?Q.push(V):Q.splice(R,0,V),this.fp(gR,q8,Q)},removeItem:function(V){if(V)for(var R=this._items,Q=0;Q<R.length;Q++)V===R[Q]&&(R.splice(Q,1),this.fp(gR,q8,R))},removeItemById:function(V){if(V!=q8)for(var R,Q=this._items,X=0;X<Q.length;X++)if(V===Q[X].id)return R=Q.splice(X,1)[0],this.fp(gR,q8,Q),R},getItemById:function(V){if(V!=q8)for(var R=this._items,Q=0;Q<R.length;Q++){var X=R[Q];if(V===X.id)return X}},setItemVisible:function(V,R){(V=this.getItemById(V))&&(V.visible=R)},getItemInfos:function(){return this._30o},getItemInfoAt:function(V){var R=0,Q=this._30o,X=(V=this.lp(V)).x;if(0<=(V=V.y)&&V<=this.getHeight())for(;R<Q.size();R++){var b=Q.get(R);if(b.startX<=X&&X<=b.endX)return b}return q8},drawItem:function(V,R,Q,X,b){if(!1===R.visible)return 0;if(LJ(R.visible)&&!R.visible())return 0;var A=R.disabled,b=(A&&(V.globalAlpha=lf),this.drawItemImpl(V,R,Q,X,b)),c=this._itemGap;return A&&(V.globalAlpha=1),this._currentItem!==R||"separator"===R||!0===R.separator||R.unfocusable||P4(V,this._separatorColor,Q-c/2,0,b+c,X),b},drawItemImpl:function(V,R,Q,X,b){var A,c,f=this,S=f._view,F=f._itemGap,D=X/2,P=R.type,N=R.element,q=R.label,L=(l8(N)&&(q=N,N=q8),f.getLabelFont(R)),e=f.getLabelColor(R),J=R.selected,s=U(R.icon),l=s_(s,R),H=l+(q?Xs(L,q).width:0);return"separator"===R||!0===R.separator?(jJ(V,f._separatorColor,Q,X/4,D),1):N?(s&&Uf(V,s,Q+l/2,D,R,f),Qs(V,q,L,e,Q+l,0,0,X),c=J2(N),b||f._90I.add(c),c.parentNode!==S&&BJ(S,c),N.iv&&N.iv(),N.validate&&N.validate(),S=(b=c.getBoundingClientRect()).width,N=c.style,kJ(c),N.left=f.tx()+Q+H+JR,N.top=(X-b.height)/2+JR,H+S):("radio"===P?A=U(J?aR:iR):P===OR&&(A=U(J?OR:wR)),A?(c=s_(A,R),Uf(V,A,Q+c/2,D,R,f),Q+=c,H+=c):J&&Q4(V,Q-F/2,0,H+F,X,f.getSelectBackground(R)),s&&Uf(V,s,Q+l/2,D,R,f),Qs(V,q,L,e,Q+l,0,0,X),H)},validateImpl:function(){var Q=this,V=Q._canvas,R=Q.getWidth(),X=Q.getHeight(),b=Q._30o,A=Q._items,c=(xJ(V,R,X),S2(V)),f=Q._itemGap,S=f/2,F=(F2(c,Q.tx(),0,1),c.clearRect(0,0,R,X),Q._90I),F=(Q._90I=new Z,b.clear(),A.forEach(function(V){var R=Q.drawItem(c,V,S,X);b.add({item:V,startX:S,endX:S+R,width:R}),R&&(S+=R+f)}),F.each(function(V){Q._90I.contains(V)||zs(V)}),Q._64I);Q._64I=Q8(0,S-f/2),c.restore(),Q._stickToRight?(Q._65O=0,c=S2(V),S=R-Q._64I+f/2,F2(c,0,0,1),c.clearRect(0,0,R,X),b.clear(),A.forEach(function(V){var R=Q.drawItem(c,V,S,X,!0);b.add({item:V,startX:S,endX:S+R,width:R}),R&&(S+=R+f)}),c.restore()):Q.tx(Q.tx()),F!==Q._64I&&Q.onSumWidthChanged(F,Q._64I)},onSumWidthChanged:function(V,R){},handleClick:function(R,V){var Q=R.type,X=R.action,b=R.groupId,A=R.selected;R.disabled||(b!=q8?A||(R.selected=!0,this._items.forEach(function(V){V.groupId===b&&R!==V&&(V.selected=!1)}),X&&R.action(R,this,V)):(Q!==OR&&"toggle"!==Q||(R.selected=!A),X&&R.action(R,this,V))),mf(),this.iv()}}),function(V){this.tb=V,this.addListeners()});Os(Nm,v,{ms_listener:1,getView:function(){return this.tb._view},handle_mousewheel:function(V){this.handleScroll(V,V.wheelDelta/40*10)},handle_DOMMouseScroll:function(V){this.handleScroll(V,10*-V.detail)},handleScroll:function(V,R){Tf(V),(V=this.tb).isScrollable()&&!V._stickToRight&&(V.tx(V.tx()+R),H2())},handle_mousemove:function(V){K2||this.setItem(V)},handle_mouseout:function(V){V.target===this.getView()?this.tb.setCurrentItem(q8):this.handle_mousemove(V)},handle_mousedown:function(V){this.handle_mousemove(V),this.handle_touchstart(V)},handle_touchstart:function(V){var R=this.tb,Q=V.target;!bs(V)||Q!==this.getView()&&Q!==R._canvas||(Tf(V),R.setFocus(V)&&(this.setItem(V,!0),(R.isScrollable()||this.info&&!this.info.item.disabled)&&(this.x=Ps(V).x,this.tx=R.tx(),ms(this,V))))},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)},handleWindowTouchMove:function(V){var R=this.tb;R._stickToRight||(V=Ps(V).x-this.x,!this._25o&&2<w8(V)&&R.isScrollable()&&(this._25o=1),this._25o&&R.tx(this.tx+V))},handleWindowMouseUp:function(V){this.handleWindowTouchEnd(V)},handleWindowTouchEnd:function(V){var R=this.tb,Q=this.info,X=this.tb.getItemInfoAt(V);!this._25o&&Q&&(Q=Q.item,X&&X.item===Q&&R.handleClick(Q,V)),this._25o=this.x=this.tx=q8,this.setItem()},setItem:function(V,R){var Q=this.tb,X=(X=this.info=V?Q.getItemInfoAt(V):q8)?X.item:q8;Q.setCurrentItem(X),R&&X&&LJ(X.onDown)&&X.onDown(V)}}),kG.BorderPane=function(){this._view=UJ(1,this),this.iv()},R("BorderPane",v,{ms_v:1,ms_ac:["topHeight","bottomHeight","leftWidth","rightWidth"],ms_fire:1,getLeftView:function(){return this._leftView},setLeftView:function(V,R){this._12o("leftView",V),R!=q8&&this.setLeftWidth(R)},getRightView:function(){return this._rightView},setRightView:function(V,R){this._12o("rightView",V),R!=q8&&this.setRightWidth(R)},getTopView:function(){return this._topView},setTopView:function(V,R){this._12o("topView",V),R!=q8&&this.setTopHeight(R)},getBottomView:function(){return this._bottomView},setBottomView:function(V,R){this._12o("bottomView",V),R!=q8&&this.setBottomHeight(R)},getCenterView:function(){return this._centerView},setCenterView:function(V){this._12o("centerView",V)},_12o:function(V,R){var Q="_"+V,X=this._view,b=this[Q];b!==R&&(b&&(b.getView?zs(b.getView()):zs(b)),(this[Q]=R)&&(R.getView?BJ(X,R.getView(),1):BJ(X,R,1)),this.fp(V,b,R))},onPropertyChanged:function(V){this.iv()},validateImpl:function(){var V=(e=this)._topView,R=e._bottomView,Q=e._leftView,X=e._rightView,b=e._centerView,A=e.getWidth(),c=0,f=0,S=A,F=L=e.getHeight(),D=0,P=0,N=0,q=0,L=(V&&(f=D=e._topHeight==q8?A2(V):e._topHeight),R&&(F=L-(P=e._bottomHeight==q8?A2(R):e._bottomHeight)),Q&&(c=N=e._leftWidth==q8?b2(Q):e._leftWidth),X&&(S=A-(q=e._rightWidth==q8?b2(X):e._rightWidth)),Q8(0,S-c)),e=Q8(0,F-f);V&&_(V,0,0,A,D),R&&_(R,0,F,A,P),Q&&_(Q,0,f,N,e),X&&_(X,S,f,q,e),b&&_(b,c,f,L,e)}})}function qm(V){Tf(V),V.stopPropagation()}function Lm(V){Tf(V)}function em(V,R){var Q=V.length,X=V[0];if(l8(V)||X&&1!==X.length)return V;for(var b=new Array(Q),A=0;A<Q;A++)b[A]=V[A];var c=b[X="L"===b[0]?5:7],f=b[1+X],S=b[2+X],F=b[3+X],D=b[4+X],P=b[5+X],N=R[0],q=R[1],L=R[2],e=R[3],J=R[4],R=R[5];return b[X]=N*c+L*f,b[1+X]=q*c+e*f,b[2+X]=N*S+L*F,b[3+X]=q*S+e*F,b[4+X]=N*D+L*P+J,b[5+X]=q*D+e*P+R,b}function Jm(V,R){return R===V.substring(0,R.length)}function sm(V){return parseFloat(V)||0}function lm(V,R){R==N8&&(R=new K8),V=(V=V.split(/\s+/)).map(sm),R.set(V[0]||0,V[1]||0,V[2]||0)}function Hm(V){try{var R=V.zoom;return R==N8?1:+R}catch(V){return 1}}function Km(){Lf.apply(this,arguments)}function ym(){Lf.apply(this,arguments)}function tm(){Lf.apply(this,arguments)}function gm(){Lf.apply(this,arguments),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:"ZeroCurvature",endingEnd:"ZeroCurvature"}}function mm(){Lf.apply(this,arguments)}function zm(V){var R=V.substr(V.lastIndexOf(".")+1).toLowerCase(),Q=(V=L8.beforeLoadURL(V),GT[R]||R);return{postfix:R,url:"url("+V+') format("'+Q+'")'}}function Ym(V,R){return dT[V.postfix]-dT[R.postfix]}function um(V,R,Q){V.x=R.x,V.y=R.e||Q,V.z=R.y}function om(V){V.duration&&(V.startTime=XJ()),V.timeId=Zf(V.tick,q8,q8,V.interval)}function _m(V){V.details=0,V.timeout=null,V.lastPoint=null}function Om(Q,X){Q.getValue&&Q.getValue.compType===X||(Q.getValue=function(V){var R=T(Q,V);return R===N8&&X.properties&&(V=X.properties[V])?V.defaultValue:R},Q.getColor=function(V,R){return wm(!0===R?V:Q.getValue(V))},Q.getValue.compType=X)}function wm(V,R){return R=R?T(V,R):V,h&&h.compGray&&R?L8.toGrayColor(R):zj&&R?p2(R,zj,Yj):R}function am(V){if(H8(V)){for(var R=new Z,Q=V.length,X=0;X<Q;X+=2)R.add({x:V[X],y:V[X+1]});V=R}return V}function im(V,R,Q){if(R){var X,b,A,c={x:R.x,y:R.y,width:R.width,height:R.height},f=oj(V),S=T(V,"layoutH"),F=T(V,"layoutV"),D=1,P=1,N=0,q=0,L=1,e=1,J=c.x+f.x*c.width,s=c.y+f.y*c.height;switch(S){case"left":break;case"right":J+=Q.width-Q.rw;break;case"center":J+=.5*(Q.width-Q.rw);break;default:(X=T(V,BR)||0)&&(N=Math.abs(q=Math.sin(X)),L=Math.abs(e=Math.cos(X))),"leftright"!==S?(D+=L*(Q.widthScale-1),P+=N*(Q.widthScale-1),J*=Q.widthScale):(b=T(V,"scaleX")||1,A=T(V,"scaleY")||1,D+=c.width?L*(Q.width-Q.rw)/c.width/b:0,P+=c.height?N*(Q.width-Q.rw)/c.height/A:0,J+=(Q.rw-Q.width)*Math.min(-f.x*e+f.y*q,-f.x*e-(1-f.y)*q,(1-f.x)*e+f.y*q,(1-f.x)*e-(1-f.y)*q))}switch(F){case"top":break;case"bottom":s+=Q.height-Q.rh;break;case"center":s+=.5*(Q.height-Q.rh);break;default:X==q8&&(X=T(V,BR))&&(N=Math.abs(q=Math.sin(X)),L=Math.abs(e=Math.cos(X))),"topbottom"!==F?(D+=N*(Q.heightScale-1),P+=L*(Q.heightScale-1),s*=Q.heightScale):(b==q8&&(b=T(V,"scaleX")||1,A=T(V,"scaleY")||1),D+=c.width?N*(Q.height-Q.rh)/c.width/b:0,P+=c.height?L*(Q.height-Q.rh)/c.height/A:0,s+=(Q.rh-Q.height)*Math.min(-f.x*q-f.y*e,-f.x*q+(1-f.y)*e,(1-f.x)*q-f.y*e,(1-f.x)*q+(1-f.y)*e))}return 1===D&&1===P||(c.width*=D,c.height*=P,c.width<0&&(c.width=0),c.height<0&&(c.height=0)),c.x=J-f.x*c.width,c.y=s-f.y*c.height,c}}function nm(V){return H8(V)?new Z(V):V}function Mm(V,R,Q,X,b,A,c){var f=h.interactiveInfo,S=V.transform,F=uj();if(S)return h.save(),h.setTransform(S.a,S.b,S.c,S.d,S.tx,S.ty),f&&_j(f,{comp:V,rect:R,matrix:S.clone(),prefix:F_,refRect:f.refRect,exData:F}),!0;if(b===N8&&(b=1),A===N8&&(A=1),S=T(V,"clipPercentage"),wJ(Q,R)&&!X&&1===b&&1===A&&S==N8)return f&&_j(f,{comp:V,rect:R,matrix:f.matrix.clone(),prefix:F_,refRect:f.refRect,exData:F}),!1;var D=R.x+R.width*(c=c||e_).x,P=R.y+R.height*c.y,N=Q.x+Q.width*c.x,c=Q.y+Q.height*c.y,b=Q.width?b*(R.width/Q.width):1,A=Q.height?A*(R.height/Q.height):1;return h.save(),f&&(f.matrix.appendTranslate(D,P).appendRotate(X).appendScale(b,A).appendTranslate(-N,-c),_j(f,{comp:V,rect:R,matrix:f.matrix.clone(),prefix:F_,refRect:f.refRect,exData:F})),D2(h,D,P),P2(h,X||0),N2(h,b,A),D2(h,-N,-c),S!=N8&&(R=$J(Q,T(V,"clipDirection"),S),h.beginPath(),h.rect(R.x,R.y,R.width,R.height),h.clip()),!0}function rm(){h.restore()}function Em(V,R,Q,X){var b,A,c,f,S,F,D,P,N,q,L,e,J,s,l,H,K,y,r,E,t,g,m,z,Y,u,$,o,_,O=T(V,nR,am),w=T(V,BR),a=oj(V),X=(O&&X.fitSize&&(b=new Z,X=im(V,i=Ls(O),X),A=i.x+a.x*i.width,c=i.y+a.y*i.height,f=X.x+a.x*X.width,S=X.y+a.y*X.height,F=i.width?X.width/i.width:1,D=i.height?X.height/i.height:1,O.each(function(V){b.add({x:f+(V.x-A)*F,y:S+(V.y-c)*D})}),O=b,V.unionRect=null),T(V,"scaleX")),i=T(V,"scaleY"),n=R===tR,M=q8;!Q&&n&&((Q=V.unionRect)||(Q=Ls(O),V.points.func||(V.unionRect=Q)),M=Q),Q&&(n?(M=M||V.unionRect)||(M=Ls(O),V.points.func||(V.unionRect=M)):M=Q,Q=Mm(V,Q,M,w,X,i,a),w=T(V,"borderPattern"),X=R_(h,w),i=wm(V,"background"),a=U(T(V,"repeatImage"),zj,Yj),P=T(V,"gradientPack"),N=T(V,"borderGradientPack"),q=wm(V,"borderColor"),L=T(V,"borderWidth"),e=U(T(V,"borderRepeatImage"),zj,Yj),J=T(V,"segments",nm),o=T(V,"gradient"),_=wm(V,"gradientColor"),s=T(V,"border3d"),l=wm(V,"border3dColor"),H=T(V,"border3dAccuracy"),K=T(V,"closePath"),y=T(V,"fillRule")||"nonzero",r=h.lineJoin,E=h.lineCap,h.lineJoin=T(V,"borderJoin")||uf,h.lineCap=T(V,"borderCap")||Yf,n?i||a||P?((Y=T(V,"fillClipPercentage"))!=N8&&(u=$J(M,T(V,"fillClipDirection"),Y),h.save(),h.beginPath(),h.rect(u.x,u.y,u.width,u.height),h.clip()),G2(h,O,J,K),P?x2(h,P,wm,!1,M):a?A4(h,a,zj,Yj,tj,gj,T(V,"repeatImageStretch"),M,T(V,"repeatImageRotation")):b4(h,i,o,_,M),h.fill(y),P&&h.restore(),Y!=N8&&h.restore(),X!==h&&G2(X,O,J,K)):G2(X,O,J,K):("roundRect"===R?t=T(V,"cornerRadius"):"polygon"===R?(t=T(V,"polygonSide"),g=T(V,"cornerRadius"),m=T(V,"regular")):"nStar"===R?(t=T(V,"starSide"),g=T(V,"cornerRadius"),m=T(V,"starRatio"),z=T(V,"regular")):"arc"===R&&(t=T(V,"arcFrom"),g=T(V,"arcTo"),m=T(V,"arcClose"),z=T(V,"arcOval")),i||a||P?((Y=T(V,"fillClipPercentage"))!=N8&&(u=$J(M,T(V,"fillClipDirection"),Y),h.save(),h.beginPath(),h.rect(u.x,u.y,u.width,u.height),h.clip()),X4(h,R,M,t,g,m,z),P?x2(h,P,wm,!1,M):a?A4(h,a,zj,Yj,tj,gj,T(V,"repeatImageStretch"),M,T(V,"repeatImageRotation")):b4(h,i,o,_,M),h.fill(y),P&&h.restore(),Y!=N8&&h.restore(),h!==X&&X4(X,R,M,t,g,m,z)):X4(X,R,M,t,g,m,z)),(u=T(V,"borderWidthAbsolute"))&&(a=h.getTransform(),($=Rf.TEMP_MATRIX).set(a.a,a.b,a.c,a.d,a.e,a.f),h.save(),h.setTransform(1,0,0,1,0,0)),L&&(q||e||N)&&(h.lineWidth=L,N?x2(h,N,wm,!0,M,$):e?c4(h,e,zj,Yj,tj,gj,T(V,"borderRepeatImageStretch"),M,T(V,"borderRepeatImageRotation")):h.strokeStyle=q,h.stroke(),N&&h.restore(),s&&V4(h,q,l,L,mj,H)),Q_(h,w),T(V,"dash")&&0<(o=T(V,"dashWidth")||L)&&(w=T(V,"dashPattern")||zf,X=R_(h,w,T(V,"dashOffset")),_=wm(V,"dashColor")||wm(w4),X!==h&&(n?G2(X,O,J,K):X4(X,R,M,t,g,m,z)),h.strokeStyle=_,h.lineWidth=o,h.stroke(),T(V,"dash3d")&&V4(h,_,wm(V,"dash3dColor"),o,mj,T(V,"dash3dAccuracy")),Q_(h,w)),u&&h.restore(),R===C&&N4(h,i,T(V,"depth"),M),h.lineJoin=r,h.lineCap=E,Q&&rm())}function $m(V){h=V[0],tj=V[1],gj=V[2],mj=V[3],zj=V[4],Yj=V[5]}function jm(V,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");V.prototype=v.create(R&&R.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),R&&K_(V,R)}function Cm(V){return"Array]"===(V=v.prototype.toString.call(V)).substring(V.length-6)}function vm(V,R,Q,X,b,A){R=R||[],Q=Q||[],X=X||[];try{R.push(V);var c=Function.apply(0,R);return Q[Q.length]="return "+c,Function.apply(0,Q).apply(0,X)}catch(V){return A&&A(V),b}}function hm(V){return V}function Tm(V,R){return R}function Wm(V,R,Q,X){var b=V?V.path.slice(0):[];R&&b.push(R),this.desc=Q,this.name=R,this.path=t_(b),this.getter=(Q=b)&&Q.length?new Function("o",["return o['",Q.join("']['"),"'];"].join("")):hm,this.setter=(R=b)&&R.length?new Function("o","v",["return o['",R.join("']['"),"'] = v;"].join("")):Tm,this.isLeaf=X,this.parent=V,this.children=[],this.childMap={}}function Um(V){var R=[];return V.forEach(function(V){R.push({x:V.x,y:V.y}),R.push({x:V.x+V.width,y:V.y+V.height}),R.push({x:V.x+V.width,y:V.y}),R.push({x:V.x,y:V.y+V.height})}),R}function pm(V,R){return 0<V.dot(R)}function Im(){this._vertexMap={},this._lineMap={},this._lineList=[]}function Zm(V,R,Q,X,b,A,c){Q=[Q,b],V[0]===X&&Q.reverse(),b=[Q[0]._key,Q[1]._key].join("|"),(X=V._triangles[b])||(V._triangles[b]=X={}),X[Q=[A._key,c._key].join("|")]||(X[Q]=[A,c])}function km(V,R,Q){var X=V._planes[Q._key];if(!X)for(var b in V._planes)if((b=V._planes[b])._normal.angleTo(Q)<.001){X=b;break}X?X._vertices.indexOf(R)<0&&X._vertices.push(R):V._planes[Q._key]={_normal:Q,_vertices:[R]}}function xm(V,R){return 0===R?"0|0|0":(Math.abs(R)===1/0?[V.x,V.y,V.z]:[Math.round(Uj.angleTo(V)*R),Math.round(pj.angleTo(V)*R),Math.round(Ij.angleTo(V)*R)]).join("|")}function Bm(V){for(var R=V.length,Q=0,X=R-1,b=0;b<R;X=b++)Q+=V[X].x*V[b].y-V[b].x*V[X].y;return.5*Q}function Gm(V,R,Q,X,b,A){R=new W(R.get(Q)),A=A.apply(R),V.push({local:R,world:A,type:b,index:Q,realIndex:X})}function dm(V,R){var Q=V.x-R.x;return Q*Q+(V=V.y-R.y)*V}function Vn(R,Q,V){return{def:R,getter:V?function(V){return 1<C1.for(V).version?V.getParameter(Q):R}:function(V){return V.getParameter(Q)},setter:V?function(V,R){1<C1.for(V).version&&V.pixelStorei(Q,R)}:function(V,R){V.pixelStorei(Q,R)}}}function Rn(V){return"string"==typeof V?I2(V):V.r!==N8?(EI[0]=V.r,EI[1]=V.g,EI[2]=V.b,EI[3]=V.a,EI):V.red!==N8?(EI[0]=V.red,EI[1]=V.green,EI[2]=V.blue,EI[3]=V.alpha,EI):V}function Qn(V){return Cm(V)?Array.prototype.slice.call(V,0):V}function Xn(V,R,Q){this.gl=R,this._record=Q||{},this._branches={},this._leafSync={};for(var X=(this._struct=V).children,b=X.length;b--;){var A=X[b],c=A.name;A.isLeaf?(this._leafSync[c]=!1,this._record[c]=Qn(A.desc.def)):this._record[c]={}}}function bn(V,R){var Q=V.duration,X=R.start,b=R.duration;X&&Q<X||b&&Q<b+(X||0)||(X&&(V.start=X),Q!==(b=b||Q-(X||0))&&(V.duration=b,V.rawDuration=Q),R.default&&(V.default=!0),R.speed!==N8&&(V.speed=R.speed),R.loop&&(V.loop=R.loop))}function An(V,R,Q){var X,b,A,c=R.name;if(jI[c]){do{if(CI=R.sourceShortName+"#"+c,!jI[CI])break;if(R.sources&&R.sources.length&&(CI+=R.sources.join("#")),!jI[CI])break;for(var c=CI,f=1;CI=c+"$"+f++,jI[CI];);}while(0);jI[CI]=!0,c=R.name=CI}else jI[c]=!0;if(Q)for(X in(A=Q[c])&&(A.invalid?R._toBeRemoved=!0:(A.name&&(R.rawName=c,R.name=A.name),bn(R,A))),Q)(A=Q[X]).source!==c||jI[X]||(jI[X]=!0,(b=v.assign({},R)).name=X,b.source=c,b.rawDuration&&(b.duration=b.rawDuration,delete b.rawDuration),bn(b,A),V.push(b))}function cn(V,R){return V&&(V[0]!==(R=R?1:0)||V[1]!==R||V[2]!==R)}function fn(V,R,Q){if(Q){var X=R.mesh,b=R.matrix;Av.multiplyMatrices(Q.mi,b);for(var A=0,c=Q.data,f=Q.m,S=c.length;A<S;A+=16){var F=(new y8).fromArray(c,A);F.premultiply(f).multiply(Av),V.push({matrix:F,mesh:X})}}else V.push(R)}function Sn(V,R){R&&(R.isRenderTarget?R.release():x1(R)&&V.deleteTexture(R))}function Fn(V,R,Q,X,b,A,c,f,S,F,D,P){c=c||0;for(var N=[],q=f?new K8:q8,L=0;L<=b;L++){var e=sv(V,R,Q,L,D,P,X);N.push(e),A!=q8&&(e.uv=[A,1-L/b+c])}if(f){for(L=0;L<b;L++)q.subVectors(N[L],N[L+1]),0==q.lengthSq()&&q.copy(R),F&&(S=N[L].clone().sub(F[L])),q.cross(S).normalize(),N[L].ns=q.toArray();N[L].ns=N[L-1].ns}return N}function Dn(V,R,Q,X,b,A,c,f,S,F,D,P,N,q){if(!(P.length<3||0==S)){var L=R?V.top_vs:V.bottom_vs;if(L){var e,J,s,l,H=R?V.top_uv:V.bottom_uv,K=vq.triangulateShape(P,q),y=Fn(Q,X,b,F,D,A,c,!1,f,null,P,N),t=q.length;for(H&&(J=P.slice(0)),u=0;u<t;u++)if(e=Fn(Q,X,b,F,q[u].length-1,A,c,!1,f,null,q[u],N))for(s=e.length,l=0;l<s;l++)y.push(e[l]),H&&J.push(q[u][l]);for(var g,m,z,Y=K.length,u=0;u<Y;u++)z=K[u],z=R?(g=z[2],m=z[1],z[0]):(g=z[0],m=z[1],z[2]),Gy(L,y[g],y[m],y[z]),H&&H.push(.5+J[g].x/S,.5+J[g].y/S,.5+J[m].x/S,.5+J[m].y/S,.5+J[z].x/S,.5+J[z].y/S)}}}function Pn(V,R){return V?(0!==R&&(R=R%1||1)<0&&(R+=1),.5-Uy(V,R).point.x):1}function Nn(Q){var X={};return{get:function(V){if(X[V]!==N8)return X[V];var R;switch(V){case"WEBGL_depth_texture":R=Q.getExtension("WEBGL_depth_texture")||Q.getExtension("MOZ_WEBGL_depth_texture")||Q.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":R=Q.getExtension("EXT_texture_filter_anisotropic")||Q.getExtension("MOZ_EXT_texture_filter_anisotropic")||Q.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":R=Q.getExtension("WEBGL_compressed_texture_s3tc")||Q.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||Q.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":R=Q.getExtension("WEBGL_compressed_texture_pvrtc")||Q.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":R=Q.getExtension("WEBGL_compressed_texture_etc1");break;default:R=Q.getExtension(V)}return X[V]=R}}}function qn(R,Q,V){var X;function b(V){if("highp"===V){if(0<R.getShaderPrecisionFormat(35633,36338).precision&&0<R.getShaderPrecisionFormat(35632,36338).precision)return"highp";V="mediump"}return"mediump"===V&&0<R.getShaderPrecisionFormat(35633,36337).precision&&0<R.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}V=V||{};var A,c="undefined"!=typeof WebGL2RenderingContext&&R instanceof WebGL2RenderingContext,f=V.precision!==N8?V.precision:"highp",S=((S=b(f))!==f&&(console.warn("WebGL:",f,"not supported, using",S,"instead."),f=S),!0===V.logarithmicDepthBuffer),V=R.getParameter(34930),F=R.getParameter(35660),D=R.getParameter(3379),P=R.getParameter(34076),N=R.getParameter(34921),q=R.getParameter(36347),L=R.getParameter(36348),e=R.getParameter(36349),J=0<F,s=c||!!Q.get("OES_texture_float"),l=(c||!!Q.get("OES_element_index_uint"))&&"undefined"!=typeof Uint32Array,H=J&&s,K=c?R.getParameter(36183):0,y=c||!!Q.get("EXT_shader_texture_lod"),t=!1;return c?t=!0:(A=Q.get("ANGLE_instanced_arrays"))&&(t=!0,R.vertexAttribDivisor=function(V,R){return A.vertexAttribDivisorANGLE(V,R)},R.drawElementsInstanced=function(V,R,Q,X,b){return A.drawElementsInstancedANGLE(V,R,Q,X,b)},R.drawArraysInstanced=function(V,R,Q,X){return A.drawArraysInstancedANGLE(V,R,Q,X)}),c?Q.get("EXT_color_buffer_float"):(Q.get("WEBGL_depth_texture"),Q.get("OES_texture_half_float"),Q.get("OES_texture_half_float_linear"),Q.get("OES_standard_derivatives"),Q.get("OES_vertex_array_object")),Q.get("OES_texture_float_linear"),Q.get("EXT_color_buffer_half_float"),Q.get("WEBGL_multisampled_render_to_texture"),{isWebGL2:c,getMaxAnisotropy:function(){if(X!==N8)return X;var V=Q.get("EXT_texture_filter_anisotropic");return X=null!==V?R.getParameter(V.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:b,precision:f,precisionString:"precision "+f+" float;\nprecision "+f+" int;\n",logarithmicDepthBuffer:S,maxTextures:V,maxVertexTextures:F,maxTextureSize:D,maxCubemapSize:P,maxAttributes:N,maxVertexUniforms:q,maxVaryings:L,maxFragmentUniforms:e,vertexTextures:J,floatFragmentTextures:s,elementTypeUint:l,floatVertexTextures:H,maxSamples:K,shaderTextureLod:y,instancedArray:t}}function Ln(R,b,V,Q){if(Q||!V.isWebGL2||"undefined"==typeof WeakMap)return{supportsUbo:!1,setCurrentFrameRenderId:l};var X,A={},Q=b.getParameter(35375),c=new WeakMap;return(X=A.scene=new Np(b,0,"scene","Scene")).addUniform("uProjectMatrix",16),X.addUniform("uViewMatrix",16),X.addUniform("uCameraPosition",3),X.addUniform("uTime",1),X.addUniform("toneMappingExposure",1),X.addUniform("uFogColor",4),X.addUniform("uFogDensity",1),X.addUniform("uFogNear",1),X.addUniform("uFogFar",1),X.attachSource(),["pbr","phong"].forEach(function(V){(X=A[V]=new Np(b,1,V,"Material")).addUniform("aoMapIntensity",1),X.addUniform("lightMapIntensity",1),X.addUniform("displacementScale",1),X.addUniform("displacementBias",1),X.addUniform("diffuse",3),X.addUniform("emissive",3),X.addUniform("normalScale",2),X.addUniform("opacity",1),X.addUniform("alphaTest",1),X.addUniform("fresnelIntensity",1),X.addUniform("uUvMatrix",12),X.addUniform("uUv2Matrix",12),"pbr"===V?(X.addUniform("roughness",1),X.addUniform("metalness",1),X.addUniform("transmission",1),X.addUniform("thickness",1),X.addUniform("ior",1),X.addUniform("specularIntensity",1),X.addUniform("rimPower",1),X.addUniform("rimColor",3),X.addUniform("specularColor",3)):(X.addUniform("shininess",1),X.addUniform("refractionRatio",1),X.addUniform("specular",3))}),{supportsUbo:!0,maxBindingPoints:Q,setCurrentFrameRenderId:function(V){(V=A.scene).attachSource(),V.uProjectMatrix=R._projectMatrix,V.uViewMatrix=R._viewMatrix,V.uCameraPosition=R._camera?R._camera.p3():R.getEye(),V.uTime=R.__uptime,V.toneMappingExposure=R.getToneMappingExposure(),V.uFogColor=I2(R._fogColor),V.uFogDensity=R._fogDensity,V.uFogNear=R._fogNear,V.uFogFar=R._fogFar},updateAndBind:function(V,R){var Q,V=A[V],X=c.get(R);X===N8&&(X=new WeakMap,c.set(R,X)),X.get(V)===N8&&(Q=b.getUniformBlockIndex(R,V.name),b.uniformBlockBinding(R,Q,V.bindingPointIndex),X.set(V,Q))},attachUbo:function(V,R,Q){return A[V].attachSource(R,Q)}}}function en(){return $v.length?$v.pop():new y8}function Jn(V){$v.push(V)}function sn(V,R,Q,X,b){var A;return(A=(A=b?b[iv+R]:A)===N8?V[R]:A)&&A.func&&(b=!1,X instanceof Xu&&(R=A.func,q_.test(R)?(A=X.a(iv+R.slice(5)),b=!0):N_.test(R)&&(A=X.s(iv+R.slice(6)),b=!0)),b||(A=p(A,X,Q))),A}function ln(V,R){if(V)return(V=V.s("matDef"))&&(V[iv+R]||V[R])}function Hn(V){var R=L8.getShape3dModel(V);return R||"string"!=typeof V?R:L8.getModelMap()[V]}function Kn(V,R,Q){var X=en();if(A=V.composedMatrix)return X.copy(A),X;var b,A=!1,c=(R&&(f=V.name)&&(c=R._animationId)&&(c=gG.getAnimationMap()[c])&&(b=c.clip)&&(c=gG.getAnimationTracks()[c.animation][0][f])&&(f=b.datas,A=!0,(b=c[0])!==N8&&(S=f[b]),(b=c[1])!==N8&&(D=f[b]),(b=c[2])!==N8&&(F=f[b])),V.transformData);if(A&&c)return lE(X,c,S,D,F);var f=Ov&&L8.getDataModel3dBindings(R),S=S||sn(V,"position",Q,R,f),F=F||sn(V,"scale",Q,R,f),D=(D=D||sn(V,"quaternion",Q,R,f))||(D=sn(V,"euler",Q,R,f))&&B.eulerArrayToQuaternionArray(D,Cv);return X.composeFromArray(S,D,F),X}function yn(V,R){return _v=V,ov=R instanceof r_?(uv=R,null):(uv=null,R),[_v,uv,ov]}function tn(V){_v=V[0],uv=V[1],ov=V[2]}function gn(V,R){return[V[0]*R,V[1]*R,V[2]*R]}function mn(V,R,Q){return(R=R[V])!==N8?R:Q?Q[V]:null}function zn(V){var R=((R=V.s("light.intensity"))==q8?1:R)*Math.PI;return[(V=I2(V.s(T1)))[0]*R,V[1]*R,V[2]*R]}function Yn(V,R,Q,X){if(X!==V._lastHeadlightAmbientIntensity&&(V.hemisphereLight.skyColor=gn(pv.color,1-X),V.ambientLightColor=gn(pv.color,X),V._lastHeadlightAmbientIntensity=X),Q!==V._lastLightMask&&(V._lastLightMask=Q,X=R._lastLightUploadInfo)){for(var b,A=X.g,c=A.length,f=new Array(c),S=0;S<c;S++)b=A[S],f[S]=!(b<0||32<=b||!(Q&1<<b));V.hemisphereLight.enabled=f[0];var X=R._59O,F=R._spots,D=R._dirs,R=R._87I,P=1;if(c=X.length)for(S=0;S<c;S++)V.pointLights[S].enabled=f[P++];if(c=F.length)for(S=0;S<c;S++)V.spotLights[S].enabled=f[P++];if(c=D.length)for(S=0;S<c;S++)V.directionalLights[S].enabled=f[P++];if(c=R.length)for(S=0;S<c;S++)V.rectAreaLights[S].enabled=f[P++]}}function un(V,R,Q){var X=V.instances;if(!X)return!1;if(G8){var b,A=!1;for(b in X){var c=X[b];if(c&&c.length){A=!0;break}}if(!A)return!1}return av=X,Mv.fromArray(R||Q.getElements()),rv.getInverse(Mv),!0}function on(V,R,Q,X){var b=!0===R.internalDefines,A={type:Q,internalDefines:b};return(R=R.defines)&&(A.defines=R),b||V._oitEnabled&&V._programDefines&&V._programDefines.OIT&&(A.defines=v.assign({},A.defines,{OIT:!0})),b||A.defines||(A.cacheKey=Q),V.acquireProgram(A,X)}function _n(V,R,Q){if(Q instanceof I.Node){var X=I.Default.getShape3dModel(Q.s("shape3d")),b=[-.5,-.5,-.5],A=[.5,.5,.5],c=(X&&X.boundingBox&&(b=X.boundingBox.min,A=X.boundingBox.max),[b[0],b[1],b[2],b[0],b[1],A[2],b[0],A[1],b[2],b[0],A[1],A[2],A[0],b[1],b[2],A[0],b[1],A[2],A[0],A[1],b[2],A[0],A[1],A[2]]),f=(bi.fromArray(xs(Q,R.getMat(Q))),Q.getAnchor3d());f.x=f.x-.5,f.y=f.y-.5,f.z=f.z-.5;for(var S=0;S<24;S+=3)V.push((new K8).set(c[S]-f.x,c[S+1]-f.y,c[S+2]-f.z).applyMatrix4(bi))}}function On(V,R){if(zi(R))return V.deleteTexture(R)}function wn(V,R,Q){var X=V[R];X&&X.releaseTexture(),Q?V[R]=Q:delete V[R]}function an(V,R){return V.z!==R.z?R.z-V.z:V.id-R.id}function nn(V,R){var Q=R>>24&255;if(Q<128){var X=V._outside;if(X)return X(R>>16&255,R>>8&255,255&R,Q)}return V[2147483647&R]}function Mn(V,R,Q,X,b,A,c,f,S,F,D){return!(V<0||A<=V||R<0||b<=R)&&(!(S=nn(F,b=(S[A=4*(V*b+R)]<<16)+(S[1+A]<<8)+S[2+A]+(S[3+A]<<24)))||D&&!1===D(S,Math.round((Q+R)/f),Math.round(c-1-(X+V))/f)?void 0:S)}function rn(V,R,Q,X,b,A,c,f){return c||(c=V._cacheIdx=V._cacheIdx+1&3,V._cacheQuery[c]=[R,Q,X,b,A,f],V._cacheLength=Math.min(V._cacheLength+1,4)),f}function En(){var V=new K8;return V.subVectors(Bi,xi),R1.subVectors(ki,xi),V.cross(R1).normalize(),V}function $n(V,R){R._reflecting=!1,V.getRenderState().useProgram(V._prg)}function jn(V,R){var Q,X;R=B.roundFloat(R,3),V.speed=R,"once"===V.loop&&(Q=V.duration,X=V.start,V.end=0===R?X:(R<0?Math.floor((X-1e-8)/Q):Math.ceil((X+1e-8)/Q))*Q)}function Cn(V,R,Q){V&&(qJ(V)?R.push(V):je.test(V)&&(Q[V]=1))}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//animation
!function(N){"use strict";var Q=N.ht,i=Q.Default,d="prototype",m=Q.DataModel[d],g=Q.Data[d],Q=Q.Node[d],u=null,E=(i.getEasing=function(Q){var N=u,N=0<=Q.indexOf(".")?(Q=Q.split("."),z[Q[0]][Q[1]]):z[Q];return function(Q){return N(Q,0,1,1)}},i.getCommonEasing=function(Q){return 0<=Q.indexOf(".")?(Q=Q.split("."),z[Q[0]][Q[1]]):z[Q]},g.setAnimation=function(Q){var N=this._animation;N!==(this._animation=Q)&&(this._animationprocess=u,this._animationstatus=u),this.fp("animation",N,Q)},g.getAnimation=function(){return this._animation},g.pauseAnimation=function(){this._pauseAnimation||(this._pauseAnimation=!0,this._pauseTime=Date.now())},g.resumeAnimation=function(){delete this._pauseAnimation},Q.getAnimation),W=(Q.getAnimation=function(Q){return Q?E.call(this,Q):g.getAnimation.call(this)},Q.pauseAnimation),O=(Q.pauseAnimation=function(){W.call(this),g.pauseAnimation.call(this)},Q.resumeAnimation),A=(Q.resumeAnimation=function(){O.call(this),g.resumeAnimation.call(this)},N.requestAnimFrame=N.requestAnimationFrame||N.webkitRequestAnimationFrame||N.mozRequestAnimationFrame||function(Q){N.setTimeout(Q,1e3/60)},N.requestAnimFrame),K=N.setInterval,z=(m.setAnimationInterval=function(Q){var N=this;N.$2a=Q,N.$1a!=u&&(clearInterval(N.$1a),delete N.$1a,N.enableAnimation(Q))},m.getAnimationInterval=function(){return this.$2a||"animationFrame"},m.getDataAnimation=function(Q){return Q.getAnimation()},m.enableAnimation=function(Q){var N,f=this,d=f.getDatas();f.$1a==u&&(Q&&f.setAnimationInterval(Q),Q=f.getAnimationInterval(),N=function(){var p=f.getAnimationInterval();d.each(function(d){var Q=f.getDataAnimation(d);if(d.setAnimation(Q),Q&&!d._pauseAnimation)for(var N=Q.start,m=(d._animationstatus=d._animationstatus||{},d._animationprocess=d._animationprocess||N.slice(0),d._animationstatus),g=d._animationprocess,E=0;E<g.length;E++)if(null!=g[E]){var W=m[E]||(m[E]={$5a:0,$6a:0,$7a:0,$8a:0}),O=Q[g[E]],A=O.property,K=O.accessType,z=O.from,U=O.to,D=O.easing||"Quad.easeOut",J=W.$5a,I=O.frames||60,q=O.repeat||0,o=O.duration,R=O.delay||0,X=O.interval,$=W.$6a,t=O.onUpdate,_=O.onComplete,Y=!1,k=function(){var Q,N=o!=u?i.getCommonEasing(D)(Date.now()-W._startTime,z,U-z,o):i.getCommonEasing(D)(J,z,U-z,I);t?t.call(d,N):K?"style"===K?d.s(A,N):"attr"===K?d.a(A,N):"field"===K&&(d[A]=N):d["set"+(Q=A).charAt(0).toUpperCase()+Q.slice(1)](N),Y=!0},P=function(){W._startTime==u&&(W._startTime=Date.now());var Q=d._pauseTime;Q!=u&&(W._startTime+=Date.now()-Q),E==g.length-1&&delete d._pauseTime,X!=u?W.$7a>=X?(W.$7a=0,k()):W.$7a+=isNaN(p)?16.6666:p:k()};if(!R||W.$8a>=R?P():W.$8a+=isNaN(p)?16.6666:p,Y)if(o!=u){if(Date.now()-W._startTime>o)if(!0===q)W._startTime=Date.now();else if(W._startTime=Date.now(),q<=($=W.$6a=$+1))if(_&&_.call(d),O.next)m[E]=u,g[E]=O.next;else{m[E]=u;for(var l=!(g[E]=u),j=0;j<g.length;j++)null!=g[j]&&(l=!1);l&&(d.setAnimation(u),d._animationstatus=u,d._animationprocess=u,d._pauseTime=u)}}else if(J=W.$5a=J+1,I<J)if(!0===q)J=W.$5a=0;else if(J=W.$5a=0,q<=($=W.$6a=$+1))if(_&&_.call(d),O.next)m[E]=u,g[E]=O.next;else{m[E]=u;for(l=!(g[E]=u),j=0;j<g.length;j++)null!=g[j]&&(l=!1);l&&(d.setAnimation(u),d._animationstatus=u,d._animationprocess=u)}}}),"animationFrame"===p&&f.$1a!=u&&(f.$1a=A(N))},f.$1a="animationFrame"===Q?A(N):K(N,Q))},m.disableAnimation=function(){"animationFrame"!==this.getAnimationInterval()&&clearInterval(this.$1a),delete this.$1a},{Linear:function(Q,N,d,m){return d*Q/m+N},Quad:{easeIn:function(Q,N,d,m){return d*(Q/=m)*Q+N},easeOut:function(Q,N,d,m){return-d*(Q/=m)*(Q-2)+N},easeInOut:function(Q,N,d,m){return(Q/=m/2)<1?d/2*Q*Q+N:-d/2*(--Q*(Q-2)-1)+N}},Cubic:{easeIn:function(Q,N,d,m){return d*(Q/=m)*Q*Q+N},easeOut:function(Q,N,d,m){return d*((Q=Q/m-1)*Q*Q+1)+N},easeInOut:function(Q,N,d,m){return(Q/=m/2)<1?d/2*Q*Q*Q+N:d/2*((Q-=2)*Q*Q+2)+N}},Quart:{easeIn:function(Q,N,d,m){return d*(Q/=m)*Q*Q*Q+N},easeOut:function(Q,N,d,m){return-d*((Q=Q/m-1)*Q*Q*Q-1)+N},easeInOut:function(Q,N,d,m){return(Q/=m/2)<1?d/2*Q*Q*Q*Q+N:-d/2*((Q-=2)*Q*Q*Q-2)+N}},Quint:{easeIn:function(Q,N,d,m){return d*(Q/=m)*Q*Q*Q*Q+N},easeOut:function(Q,N,d,m){return d*((Q=Q/m-1)*Q*Q*Q*Q+1)+N},easeInOut:function(Q,N,d,m){return(Q/=m/2)<1?d/2*Q*Q*Q*Q*Q+N:d/2*((Q-=2)*Q*Q*Q*Q+2)+N}},Sine:{easeIn:function(Q,N,d,m){return-d*Math.cos(Q/m*(Math.PI/2))+d+N},easeOut:function(Q,N,d,m){return d*Math.sin(Q/m*(Math.PI/2))+N},easeInOut:function(Q,N,d,m){return-d/2*(Math.cos(Math.PI*Q/m)-1)+N}},Expo:{easeIn:function(Q,N,d,m){return 0==Q?N:d*Math.pow(2,10*(Q/m-1))+N},easeOut:function(Q,N,d,m){return Q==m?N+d:d*(1-Math.pow(2,-10*Q/m))+N},easeInOut:function(Q,N,d,m){return 0==Q?N:Q==m?N+d:(Q/=m/2)<1?d/2*Math.pow(2,10*(Q-1))+N:d/2*(2-Math.pow(2,-10*--Q))+N}},Circ:{easeIn:function(Q,N,d,m){return-d*(Math.sqrt(1-(Q/=m)*Q)-1)+N},easeOut:function(Q,N,d,m){return d*Math.sqrt(1-(Q=Q/m-1)*Q)+N},easeInOut:function(Q,N,d,m){return(Q/=m/2)<1?-d/2*(Math.sqrt(1-Q*Q)-1)+N:d/2*(Math.sqrt(1-(Q-=2)*Q)+1)+N}},Elastic:{easeIn:function(Q,N,d,m,g,E){var W;return 0==Q?N:1==(Q/=m)?N+d:(void 0===E&&(E=.3*m),!g||g<Math.abs(d)?(W=E/4,g=d):W=E/(2*Math.PI)*Math.asin(d/g),-(g*Math.pow(2,10*--Q)*Math.sin((Q*m-W)*(2*Math.PI)/E))+N)},easeOut:function(Q,N,d,m,g,E){var W;return 0==Q?N:1==(Q/=m)?N+d:(void 0===E&&(E=.3*m),W=!g||g<Math.abs(d)?(g=d,E/4):E/(2*Math.PI)*Math.asin(d/g),g*Math.pow(2,-10*Q)*Math.sin((Q*m-W)*(2*Math.PI)/E)+d+N)},easeInOut:function(Q,N,d,m,g,E){var W;return 0==Q?N:2==(Q/=m/2)?N+d:(void 0===E&&(E=m*(.3*1.5)),W=!g||g<Math.abs(d)?(g=d,E/4):E/(2*Math.PI)*Math.asin(d/g),Q<1?g*Math.pow(2,10*--Q)*Math.sin((Q*m-W)*(2*Math.PI)/E)*-.5+N:g*Math.pow(2,-10*--Q)*Math.sin((Q*m-W)*(2*Math.PI)/E)*.5+d+N)}},Back:{easeIn:function(Q,N,d,m,g){return d*(Q/=m)*Q*(((g=void 0===g?1.70158:g)+1)*Q-g)+N},easeOut:function(Q,N,d,m,g){return d*((Q=Q/m-1)*Q*(((g=void 0===g?1.70158:g)+1)*Q+g)+1)+N},easeInOut:function(Q,N,d,m,g){return void 0===g&&(g=1.70158),(Q/=m/2)<1?d/2*(Q*Q*((1+(g*=1.525))*Q-g))+N:d/2*((Q-=2)*Q*((1+(g*=1.525))*Q+g)+2)+N}},Bounce:{easeIn:function(Q,N,d,m){return d-z.Bounce.easeOut(m-Q,0,d,m)+N},easeOut:function(Q,N,d,m){return(Q/=m)<1/2.75?d*(7.5625*Q*Q)+N:Q<2/2.75?d*(7.5625*(Q-=1.5/2.75)*Q+.75)+N:Q<2.5/2.75?d*(7.5625*(Q-=2.25/2.75)*Q+.9375)+N:d*(7.5625*(Q-=2.625/2.75)*Q+.984375)+N},easeInOut:function(Q,N,d,m){return Q<m/2?.5*z.Bounce.easeIn(2*Q,0,d,m)+N:.5*z.Bounce.easeOut(2*Q-m,0,d,m)+.5*d+N}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//edgetype
!function(O){"use strict";var A="ht",V=O[A],a=Math,I=a.max,x=a.min,i=a.abs,u=a.atan2,H=(a.cos,a.sin,a.ceil),m=V.Default,Z=m.getInternal(),S=V.List,R=Z.Mat,v=Z.getNodeRect,L=Z.intersectionLineRect,E=m.getDistance,K=m.setEdgeType,o="left",J="right",G="top",F="bottom",g="edge.type",d="edge.gap",z="edge.center",p="edge.extend",n=function(z,W){return v(z,W).width},e=function(Y,l){return v(Y,l).height},Y=function(V,o){return Z.getEdgeHostPosition(V,o,"source")},M=function(S,e){return Z.getEdgeHostPosition(S,e,"target")},q=function(L,u){var $=L.s(g),b=L.getEdgeGroup();if(b){var c=0;if(b.eachSiblingEdge(function(n){u.isVisible(n)&&n.s(g)==$&&c++}),c>1)return L.s(d)*(c-1)/2}return 0},l=function(J,C){var W=J.s(g),w=J.isLooped();if(!J.getEdgeGroup())return w?J.s(d):0;var L,p=0,o=0,O=0;return J.getEdgeGroup().getSiblings().each(function(h){h.each(function(R){if(R._40I===J._40I&&R.s(g)==W&&C.isVisible(R)){var v=R.s(d);L?(o+=O/2+v/2,O=v):(L=R,O=v),R===J&&(p=o)}})}),w?o-p+O:p-o/2},X=function(j,P){var F=P.s("edge.corner.radius");return m.toRoundedCorner(j,F)};Z.addMethod(V.Style,{"edge.ripple.elevation":-20,"edge.ripple.size":1,"edge.ripple.both":!1,"edge.ripple.straight":!1,"edge.ripple.length":-1,"edge.corner.radius":-1,"edge.ortho":.5,"edge.flex":20,"edge.extend":20},!0),K("boundary",function(f,o,n,h){h||(o=-o);var K,B=Y(n,f),t=M(n,f),A=v(n,f._40I),H=v(n,f._41I),x=new R(u(t.y-B.y,t.x-B.x)),z=E(B,t),T=B.x,i=B.y;return K=x.tf(0,o),B={x:K.x+T,y:K.y+i},K=x.tf(z,o),t={x:K.x+T,y:K.y+i},K=L(B,t,A),K&&(B={x:K[0],y:K[1]}),K=L(B,t,H),K&&(t={x:K[0],y:K[1]}),{points:new S([B,t])}}),K("ripple",function(o,X,y,p){p||(X=-X);var f=Y(y,o),w=M(y,o),$=E(f,w),C=x(o.s("edge.offset"),$/2),G=o.s("edge.ripple.size"),P=o.s("edge.ripple.length"),q=o.s("edge.ripple.both"),O=o.s(z),Z=o.s("edge.ripple.elevation"),i=new S,K=o.s("edge.ripple.straight")?null:new S,U=new R(u(w.y-f.y,w.x-f.x));p||(Z=-Z),$-=2*C,P>0&&(G=H($/P));var v=$/G;K&&K.add(1);for(var A=0;G>A;A++)K&&K.add(3),0===A?i.add({x:C+v*A,y:O?0:X}):i.add({x:C+v*A,y:X}),i.add({x:C+v*A+v/2,y:Z+X}),q&&(Z=-Z);for(i.add({x:C+$,y:O?0:X}),A=0;A<i.size();A++){var k=U.tf(i.get(A));k.x+=f.x,k.y+=f.y,i.set(A,k)}return{points:i,segments:K}}),K("h.v",function($,q,K){q=l($,K);var H=new S,_=$.s(z),x=Y(K,$),s=x.x,p=x.y,k=M(K,$),b=k.x,O=k.y,t=$._40I instanceof V.Edge,w=$._41I instanceof V.Edge,Q=0,Z=0,y=b-s,v=O-p;return _||(Q=t?0:n(K,$._40I)/2,Z=w?0:e(K,$._41I)/2),y>=0&&0>=v?(H.add({x:s+Q,y:p+q}),H.add({x:b+q,y:p+q}),H.add({x:b+q,y:O+Z})):0>=y&&v>=0?(H.add({x:s-Q,y:p+q}),H.add({x:b+q,y:p+q}),H.add({x:b+q,y:O-Z})):y>=0&&v>=0?(H.add({x:s+Q,y:p+q}),H.add({x:b-q,y:p+q}),H.add({x:b-q,y:O-Z})):(H.add({x:s-Q,y:p+q}),H.add({x:b-q,y:p+q}),H.add({x:b-q,y:O+Z})),X(H,$)}),K("v.h",function(g,C,L){C=l(g,L);var k=new S,W=g.s(z),r=Y(L,g),Z=r.x,p=r.y,i=M(L,g),A=i.x,y=i.y,t=g._40I instanceof V.Edge,U=g._41I instanceof V.Edge,d=0,w=0,u=A-Z,K=y-p;return W||(d=U?0:n(L,g._41I)/2,w=t?0:e(L,g._40I)/2),u>=0&&0>=K?(k.add({x:Z+C,y:p-w}),k.add({x:Z+C,y:y+C}),k.add({x:A-d,y:y+C})):0>=u&&K>=0?(k.add({x:Z+C,y:p+w}),k.add({x:Z+C,y:y+C}),k.add({x:A+d,y:y+C})):u>=0&&K>=0?(k.add({x:Z-C,y:p+w}),k.add({x:Z-C,y:y+C}),k.add({x:A-d,y:y+C})):(k.add({x:Z-C,y:p-w}),k.add({x:Z-C,y:y+C}),k.add({x:A+d,y:y+C})),X(k,g)}),K("ortho",function(C,J,k){var H=new S,Z=C.s(z),o=C.s("edge.ortho"),$=C._40I,N=C._41I,f=Y(k,C),K=f.x,m=f.y,L=M(k,C),h=L.x,E=L.y,t=h-K,D=E-m,j=$ instanceof V.Edge,b=N instanceof V.Edge,s=Z||j?0:n(k,$)/2,g=Z||j?0:e(k,$)/2,_=Z||b?0:n(k,N)/2,Q=Z||b?0:e(k,N)/2,R=(t-(s+_)*(t>0?1:-1))*o,x=(D-(g+Q)*(D>0?1:-1))*o;return i(t)<i(D)?t>=0&&0>=D?(H.add({x:K+J,y:m-g}),H.add({x:K+J,y:m+x+J-g}),H.add({x:h+J,y:m+x+J-g}),H.add({x:h+J,y:E+Q})):0>=t&&D>=0?(H.add({x:K+J,y:m+g}),H.add({x:K+J,y:m+x+J+g}),H.add({x:h+J,y:m+x+J+g}),H.add({x:h+J,y:E-Q})):t>=0&&D>=0?(H.add({x:K+J,y:m+g}),H.add({x:K+J,y:m+x-J+g}),H.add({x:h+J,y:m+x-J+g}),H.add({x:h+J,y:E-Q})):(H.add({x:K+J,y:m-g}),H.add({x:K+J,y:m+x-J-g}),H.add({x:h+J,y:m+x-J-g}),H.add({x:h+J,y:E+Q})):t>=0&&0>=D?(H.add({x:K+s,y:m+J}),H.add({x:K+R+J+s,y:m+J}),H.add({x:K+R+J+s,y:E+J}),H.add({x:h-_,y:E+J})):0>=t&&D>=0?(H.add({x:K-s,y:m+J}),H.add({x:K+R+J-s,y:m+J}),H.add({x:K+R+J-s,y:E+J}),H.add({x:h+_,y:E+J})):t>=0&&D>=0?(H.add({x:K+s,y:m+J}),H.add({x:K+R-J+s,y:m+J}),H.add({x:K+R-J+s,y:E+J}),H.add({x:h-_,y:E+J})):(H.add({x:K-s,y:m+J}),H.add({x:K+R-J-s,y:m+J}),H.add({x:K+R-J-s,y:E+J}),H.add({x:h+_,y:E+J})),X(H,C)}),K("flex",function(w,r,c){var K=new S,l=w.s("edge.flex")+q(w,c),N=w.s(z),D=w._40I,F=w._41I,p=Y(c,w),B=p.x,G=p.y,E=M(c,w),x=E.x,T=E.y,v=D instanceof V.Edge,P=F instanceof V.Edge,k=x-B,Q=T-G,W=N||v?0:n(c,D)/2,m=N||v?0:e(c,D)/2,O=N||P?0:n(c,F)/2,s=N||P?0:e(c,F)/2,C=k>0?l:-l,J=Q>0?l:-l;return i(k)<i(Q)?k>=0&&0>=Q?(K.add({x:B+r,y:G-m}),K.add({x:B+r,y:G+J+r-m}),K.add({x:x+r,y:T-J+r+s}),K.add({x:x+r,y:T+s})):0>=k&&Q>=0?(K.add({x:B+r,y:G+m}),K.add({x:B+r,y:G+J+r+m}),K.add({x:x+r,y:T-J+r-s}),K.add({x:x+r,y:T-s})):k>=0&&Q>=0?(K.add({x:B+r,y:G+m}),K.add({x:B+r,y:G+J-r+m}),K.add({x:x+r,y:T-J-r-s}),K.add({x:x+r,y:T-s})):(K.add({x:B+r,y:G-m}),K.add({x:B+r,y:G+J-r-m}),K.add({x:x+r,y:T-J-r+s}),K.add({x:x+r,y:T+s})):k>=0&&0>=Q?(K.add({x:B+W,y:G+r}),K.add({x:B+C+r+W,y:G+r}),K.add({x:x-C+r-O,y:T+r}),K.add({x:x-O,y:T+r})):0>=k&&Q>=0?(K.add({x:B-W,y:G+r}),K.add({x:B+C+r-W,y:G+r}),K.add({x:x-C+r+O,y:T+r}),K.add({x:x+O,y:T+r})):k>=0&&Q>=0?(K.add({x:B+W,y:G+r}),K.add({x:B+C-r+W,y:G+r}),K.add({x:x-C-r-O,y:T+r}),K.add({x:x-O,y:T+r})):(K.add({x:B-W,y:G+r}),K.add({x:B+C-r-W,y:G+r}),K.add({x:x-C-r+O,y:T+r}),K.add({x:x+O,y:T+r})),X(K,w)}),K("extend.east",function(j,D,N){var g=new S,L=j.s(p)+q(j,N),B=j.s(z),F=Y(N,j),a=j._40I instanceof V.Edge,A=j._41I instanceof V.Edge,e=F.x+(B||a?0:n(N,j._40I)/2),R=F.y,_=M(N,j),Q=_.x+(B||A?0:n(N,j._41I)/2),H=_.y,c=I(e,Q)+L;return R>H?(g.add({x:e,y:R+D}),g.add({x:c+D,y:R+D}),g.add({x:c+D,y:H-D}),g.add({x:Q,y:H-D})):(g.add({x:e,y:R-D}),g.add({x:c+D,y:R-D}),g.add({x:c+D,y:H+D}),g.add({x:Q,y:H+D})),X(g,j)}),K("extend.west",function(H,h,I){var i=new S,y=H.s(p)+q(H,I),C=H.s(z),k=H._40I instanceof V.Edge,R=H._41I instanceof V.Edge,s=Y(I,H),Q=s.x-(C||k?0:n(I,H._40I)/2),w=s.y,E=M(I,H),m=E.x-(C||R?0:n(I,H._41I)/2),K=E.y,O=x(Q,m)-y;return w>K?(i.add({x:Q,y:w+h}),i.add({x:O-h,y:w+h}),i.add({x:O-h,y:K-h}),i.add({x:m,y:K-h})):(i.add({x:Q,y:w-h}),i.add({x:O-h,y:w-h}),i.add({x:O-h,y:K+h}),i.add({x:m,y:K+h})),X(i,H)}),K("extend.north",function(Z,s,y){var H=new S,u=Z.s(p)+q(Z,y),w=Z.s(z),I=Z._40I instanceof V.Edge,O=Z._41I instanceof V.Edge,k=Y(y,Z),l=k.x,W=k.y-(w||I?0:e(y,Z._40I)/2),E=M(y,Z),g=E.x,d=E.y-(w||O?0:e(y,Z._41I)/2),B=x(W,d)-u;return l>g?(H.add({y:W,x:l+s}),H.add({y:B-s,x:l+s}),H.add({y:B-s,x:g-s}),H.add({y:d,x:g-s})):(H.add({y:W,x:l-s}),H.add({y:B-s,x:l-s}),H.add({y:B-s,x:g+s}),H.add({y:d,x:g+s})),X(H,Z)}),K("extend.south",function(t,A,d){var b=new S,F=t.s(p)+q(t,d),P=t.s(z),Z=t._40I instanceof V.Edge,U=t._41I instanceof V.Edge,_=Y(d,t),L=_.x,i=_.y+(P||Z?0:e(d,t._40I)/2),R=M(d,t),$=R.x,D=R.y+(P||U?0:e(d,t._41I)/2),N=I(i,D)+F;return L>$?(b.add({y:i,x:L+A}),b.add({y:N+A,x:L+A}),b.add({y:N+A,x:$-A}),b.add({y:D,x:$-A})):(b.add({y:i,x:L-A}),b.add({y:N+A,x:L-A}),b.add({y:N+A,x:$+A}),b.add({y:D,x:$+A})),X(b,t)});var T=function(Y,u,s,N,T){if(N.sort(function(I,M){var a=I.getSourceAgent()===u?I.getTargetAgent():I.getSourceAgent(),L=M.getSourceAgent()===u?M.getTargetAgent():M.getSourceAgent(),G=a.p(),P=L.p();if(s===o||s===J){if(G.y>P.y)return 1;if(G.y<P.y)return-1}else{if(G.x>P.x)return 1;if(G.x<P.x)return-1}return m.sortFunc(I.getId(),M.getId())}),T){for(var X,R,C,n=Y.getSourceAgent(),c=Y.getTargetAgent(),j=0;j<N.size();j++){var k=N.get(j);k.getSourceAgent()===n&&k.getTargetAgent()===c||k.getTargetAgent()===n&&k.getSourceAgent()===c?(R||(R=new S),R.add(k,0)):R?(C||(C=new S),C.add(k)):(X||(X=new S),X.add(k))}N.clear(),X&&N.addAll(X),R&&N.addAll(R),C&&N.addAll(C)}var E=N.indexOf(Y),F=N.size(),i=Y.s(d);return{side:s,index:E,size:F,offset:-i*(F-1)/2+i*E}},P=function(t,q,x,l,A){var P=q.s(g);return T(q,x,l,x.getAgentEdges().toList(function(D){return t.isVisible(D)&&D.s(g)===P}),A)},D=function(N,s){var S=N.getSourceAgent()===s?N.getTargetAgent():N.getSourceAgent(),m=s.p(),v=S.p(),$=v.x-m.x,l=v.y-m.y;return $>0&&i(l)<=$?J:0>$&&i(l)<=-$?o:l>0&&i($)<=l?F:G},k=function(I,u,w){var Y=u.s(g),N=D(u,w);return T(u,w,N,w.getAgentEdges().toList(function(q){return I.isVisible(q)&&q.s(g)===Y&&D(q,w)===N}))},s=function(C,t){var V=C.getSourceAgent()===t,D=V?C.getTargetAgent():C.getSourceAgent(),a=t.p(),L=D.p();return V?a.y>L.y?G:F:a.x<L.x?J:o},f=function(M,$,P){var b=$.s(g),W=s($,P);return T($,P,W,P.getAgentEdges().toList(function($){return M.isVisible($)&&$.s(g)===b&&s($,P)===W}),W===J||W===F)},w=function(C,H){var U=C.getSourceAgent()===H,S=U?C.getTargetAgent():C.getSourceAgent(),i=H.p(),q=S.p();return U?i.x<q.x?J:o:i.y>q.y?G:F},B=function(Y,G,e){var v=G.s(g),W=w(G,e);return T(G,e,W,e.getAgentEdges().toList(function(O){return Y.isVisible(O)&&O.s(g)===v&&w(O,e)===W}),W===J||W===F)},r=function(C,m,W){var K=C.getSourceAgent(),x=C.getTargetAgent(),q=K.getId()>x.getId(),$=q?x:K,B=q?K:x,f=$.p(),Z=B.p(),A=W(m,C,$),j=W(m,C,B),L=C.s(z),R=L?0:n(m,$)/2,i=L?0:n(m,B)/2,s=L?0:e(m,$)/2,u=L?0:e(m,B)/2,d=A.offset,l=j.offset,b=A.side,p=j.side,r=new S;return b===G?(r.add({x:f.x+d,y:f.y-s}),r.add({x:f.x+d,y:Z.y+l}),p===o?r.add({x:Z.x-i,y:Z.y+l}):r.add({x:Z.x+i,y:Z.y+l})):b===F?(r.add({x:f.x+d,y:f.y+s}),r.add({x:f.x+d,y:Z.y+l}),p===o?r.add({x:Z.x-i,y:Z.y+l}):r.add({x:Z.x+i,y:Z.y+l})):b===o?(r.add({x:f.x-R,y:f.y+d}),r.add({x:Z.x+l,y:f.y+d}),p===F?r.add({x:Z.x+l,y:Z.y+u}):r.add({x:Z.x+l,y:Z.y-u})):b===J&&(r.add({x:f.x+R,y:f.y+d}),r.add({x:Z.x+l,y:f.y+d}),p===F?r.add({x:Z.x+l,y:Z.y+u}):r.add({x:Z.x+l,y:Z.y-u})),q&&r.reverse(),X(r,C)};K("ortho2",function(d,I,U){var l,v,u=d.s(z),V=d.s("edge.ortho"),D=d.getSourceAgent(),A=d.getTargetAgent(),Y=D.getId()>A.getId(),x=Y?A:D,i=Y?D:A,K=x.p(),r=i.p(),w=k(U,d,x),b=k(U,d,i),M=u?0:n(U,x)/2,p=u?0:e(U,x)/2,W=u?0:n(U,i)/2,L=u?0:e(U,i)/2,g=new S,$=w.offset,t=b.offset,Z=w.side;return Z===J?(l=r.y>K.y?-$:$,v=K.x+M+(r.x-W-K.x-M)*V,g.add({x:K.x+M,y:K.y+$}),g.add({x:v+l,y:K.y+$}),g.add({x:v+l,y:r.y+t}),g.add({x:r.x-W,y:r.y+t})):Z===o?(l=r.y>K.y?-$:$,v=K.x-M-(K.x-M-r.x-W)*V,g.add({x:K.x-M,y:K.y+$}),g.add({x:v-l,y:K.y+$}),g.add({x:v-l,y:r.y+t}),g.add({x:r.x+W,y:r.y+t})):Z===F?(l=r.x>K.x?-$:$,v=K.y+p+(r.y-L-K.y-p)*V,g.add({x:K.x+$,y:K.y+p}),g.add({x:K.x+$,y:v+l}),g.add({x:r.x+t,y:v+l}),g.add({x:r.x+t,y:r.y-L})):Z===G&&(l=r.x>K.x?-$:$,v=K.y-p-(K.y-p-r.y-L)*V,g.add({x:K.x+$,y:K.y-p}),g.add({x:K.x+$,y:v-l}),g.add({x:r.x+t,y:v-l}),g.add({x:r.x+t,y:r.y+L})),Y&&g.reverse(),X(g,d)},!0),K("flex2",function(s,a,i){var _,M=s.getSourceAgent(),r=s.getTargetAgent(),Y=M.getId()>r.getId(),t=Y?r:M,g=Y?M:r,A=t.p(),v=g.p(),j=k(i,s,t),D=k(i,s,g),U=s.s(z),N=s.s("edge.flex")+(j.size-1)/2*s.s(d),u=U?0:n(i,t)/2,L=U?0:e(i,t)/2,c=U?0:n(i,g)/2,Z=U?0:e(i,g)/2,K=new S,I=j.offset,Q=D.offset,y=j.side;return y===J?(_=v.y>A.y?-I:I,K.add({x:A.x+u,y:A.y+I}),K.add({x:A.x+u+N+_,y:A.y+I}),K.add({x:v.x-c-N+_,y:v.y+Q}),K.add({x:v.x-c,y:v.y+Q})):y===o?(_=v.y>A.y?-I:I,K.add({x:A.x-u,y:A.y+I}),K.add({x:A.x-u-N-_,y:A.y+I}),K.add({x:v.x+c+N-_,y:v.y+Q}),K.add({x:v.x+c,y:v.y+Q})):y===F?(_=v.x>A.x?-I:I,K.add({x:A.x+I,y:A.y+L}),K.add({x:A.x+I,y:A.y+L+N+_}),K.add({x:v.x+Q,y:v.y-Z-N+_}),K.add({x:v.x+Q,y:v.y-Z})):y===G&&(_=v.x>A.x?-I:I,K.add({x:A.x+I,y:A.y-L}),K.add({x:A.x+I,y:A.y-L-N-_}),K.add({x:v.x+Q,y:v.y+Z+N-_}),K.add({x:v.x+Q,y:v.y+Z})),Y&&K.reverse(),X(K,s)},!0),K("extend.north2",function(M,R,W){var I=M.getSourceAgent(),y=M.getTargetAgent(),O=I.getId()>y.getId(),Z=O?y:I,i=O?I:y,v=Z.p(),$=i.p(),q=P(W,M,Z,G),u=P(W,M,i,G,!0),F=M.s(z),b=F?0:e(W,Z)/2,J=F?0:e(W,i)/2,K=q.offset,j=u.offset,l=M.s(p)+(q.size-1)/2*M.s(d),C=x(v.y-b,$.y-J)-l+(v.x<$.x?K:-K),o=new S;return o.add({x:v.x+K,y:v.y-b}),o.add({x:v.x+K,y:C}),o.add({x:$.x+j,y:C}),o.add({x:$.x+j,y:$.y-J}),O&&o.reverse(),X(o,M)},!0),K("extend.south2",function(Z,c,u){var Y=Z.getSourceAgent(),b=Z.getTargetAgent(),M=Y.getId()>b.getId(),Q=M?b:Y,l=M?Y:b,y=Q.p(),f=l.p(),$=P(u,Z,Q,F),C=P(u,Z,l,F,!0),T=Z.s(z),m=T?0:e(u,Q)/2,H=T?0:e(u,l)/2,a=$.offset,r=C.offset,E=Z.s(p)+($.size-1)/2*Z.s(d),R=I(y.y+m,f.y+H)+E+(y.x>f.x?a:-a),o=new S;return o.add({x:y.x+a,y:y.y+m}),o.add({x:y.x+a,y:R}),o.add({x:f.x+r,y:R}),o.add({x:f.x+r,y:f.y+H}),M&&o.reverse(),X(o,Z)},!0),K("extend.west2",function(g,B,A){var O=g.getSourceAgent(),f=g.getTargetAgent(),Q=O.getId()>f.getId(),J=Q?f:O,b=Q?O:f,i=J.p(),a=b.p(),q=P(A,g,J,G),w=P(A,g,b,G,!0),N=g.s(z),U=N?0:n(A,J)/2,V=N?0:n(A,b)/2,E=q.offset,R=w.offset,j=g.s(p)+(q.size-1)/2*g.s(d),c=x(i.x-U,a.x-V)-j+(i.y<a.y?E:-E),H=new S;return H.add({x:i.x-U,y:i.y+E}),H.add({x:c,y:i.y+E}),H.add({x:c,y:a.y+R}),H.add({x:a.x-V,y:a.y+R}),Q&&H.reverse(),X(H,g)},!0),K("extend.east2",function(W,g,Q){var t=W.getSourceAgent(),N=W.getTargetAgent(),D=t.getId()>N.getId(),q=D?N:t,a=D?t:N,K=q.p(),f=a.p(),l=P(Q,W,q,G),J=P(Q,W,a,G,!0),x=W.s(z),F=x?0:n(Q,q)/2,B=x?0:n(Q,a)/2,e=l.offset,E=J.offset,U=W.s(p)+(l.size-1)/2*W.s(d),c=I(K.x+F,f.x+B)+U+(K.y>f.y?e:-e),O=new S;return O.add({x:K.x+F,y:K.y+e}),O.add({x:c,y:K.y+e}),O.add({x:c,y:f.y+E}),O.add({x:f.x+B,y:f.y+E}),D&&O.reverse(),X(O,W)},!0),K("v.h2",function(j,P,C){return r(j,C,f)},!0),K("h.v2",function(p,v,b){return r(p,b,B)},!0)}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//obj
!function(y,q,Y){"use strict";var b="ht",L=y[b],F=null,i=Math,c=i.abs,s=i.max,u=Number.MAX_VALUE,t=L.Default,B=t.getInternal(),V=t.clone,T=B.vec3TransformMat4,N=[0,0],Q=B.appendArray,k=function(){function M(b,y,C,z){if(b){var E=b[z];if(E){C.ignoreColor||(y.color=E.kd),!C.ignoreTransparent&&E.d>0&&E.d<1&&(y.transparent=!0,y.opacity=E.d);var d;if(!C.ignoreImage&&(d=E.map_kd)){d=d.split(" ");for(var Q=-1,W=0;W<d.length;W++)"-o"===d[W]?(y.uvOffset=[parseFloat(d[W+1]),parseFloat(d[W+2])],W+=3,Q=W):"-s"===d[W]&&(y.uvScale=[parseFloat(d[W+1]),parseFloat(d[W+2])],W+=3,Q=W);y.image=(C.prefix||"")+d.splice(Q+1).join(" ")}}}}var g=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,r=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,$=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,i=/^[og]\s*(.+)?/,X=function(T,P){return P=parseInt(P),P>=0?T[P-1]:T[P+T.length]},f=function(b,i,j,n,O){if(b.lvs){var P=X(i,n),g=X(i,O),z=j.matrix,k=b.lvs;z?(Q(k,T(V(P),z)),Q(k,T(V(g),z))):(Q(k,P),Q(k,g))}},D=function(Z,j,R,p,Y,d){if(Z.vs){var G=X(j,p),k=X(j,Y),w=X(j,d),P=R.matrix,i=Z.vs;if(R.flipFace){var O=k;k=w,w=O}P?(Q(i,T(V(G),P)),Q(i,T(V(k),P)),Q(i,T(V(w),P))):(Q(i,G),Q(i,k),Q(i,w))}},R=function(V,r,P,x,C,S){if(V.vs){var w=P.flipY,F=x===Y?N:X(r,x),R=C===Y?N:X(r,C),J=S===Y?N:X(r,S);if(P.flipFace){var $=R;R=J,J=$}V.uv.push(F[0],w?1-F[1]:F[1],R[0],w?1-R[1]:R[1],J[0],w?1-J[1]:J[1])}},_=function(a,r,I,j,F,R){if(a.vs){var $=X(r,j),n=X(r,F),K=X(r,R),q=I.normalMatrix,w=a.ns;if(I.flipFace){var i=n;n=K,K=i}q?(Q(w,T(V($),q)),Q(w,T(V(n),q)),Q(w,T(V(K),q))):(Q(w,$),Q(w,n),Q(w,K))}},H=function(j,e,d,_){for(var G=_.length-1,l=0;G>l;++l)f(j,e,d,_[l],_[l+1]);f(j,e,d,_[G],_[0])},K=function(u,z,r,t,W,s,E,T){var N=t&&t.length&&T;s[3]===Y?(D(u,z,W,s[0],s[1],s[2]),E?R(u,r,W,E[0],E[1],E[2]):u.uv&&u.uv.length&&R(u,r,W),N&&_(u,t,W,T[0],T[1],T[2])):(D(u,z,W,s[0],s[1],s[3]),D(u,z,W,s[1],s[2],s[3]),E?(R(u,r,W,E[0],E[1],E[3]),R(u,r,W,E[1],E[2],E[3])):u.uv&&u.uv.length&&(R(u,r,W),R(u,r,W)),N&&(_(u,t,W,T[0],T[1],T[3]),_(u,t,W,T[1],T[2],T[3])))},h=function(T,r,U,o){var m,V,n,y,e,B,t,x,W=u,q=u,b=u,M=-u,X=-u,G=-u;for(m in T)for(B=T[m].vs,x=B.length,V=0;x>V;V+=3)n=B[V+0],y=B[V+1],e=B[V+2],W>n&&(W=n),q>y&&(q=y),b>e&&(b=e),n>M&&(M=n),y>X&&(X=y),e>G&&(G=e);if(U){var g=W+(M-W)/2,w=q+(X-q)/2,D=b+(G-b)/2;for(m in T){for(B=T[m].vs,x=B.length,V=0;x>V;V+=3)B[V+0]-=g,B[V+1]-=w,B[V+2]-=D;if(t=T[m].lvs)for(x=t.length,V=0;x>V;V+=3)t[V+0]-=g,t[V+1]-=w,t[V+2]-=D}}var J,j,z;U?(J=M-W,j=X-q,z=G-b):(J=2*s(c(W),c(M)),j=2*s(c(q),c(X)),z=2*s(c(b),c(G))),0===J&&(J=Math.min(j,z)/1e3||.001),0===j&&(j=Math.min(J,z)/1e3||.001),0===z&&(z=Math.min(J,j)/1e3||.001),o.rawS3=[J,j,z];for(m in T){if(B=T[m].vs,t=T[m].lvs,r){for(x=B.length,V=0;x>V;V+=3)J&&(B[V+0]/=J),j&&(B[V+1]/=j),z&&(B[V+2]/=z);if(t)for(x=t.length,V=0;x>V;V+=3)J&&(t[V+0]/=J),j&&(t[V+1]/=j),z&&(t[V+2]/=z);var F=T[m].ns;if(F){x=F.length;var R=new L.Math.Vector3;for(V=0;x>V;V+=3)R.set(F[V+0]*J,F[V+1]*j,F[V+2]*z).normalize(),F[V+0]=R.x,F[V+1]=R.y,F[V+2]=R.z}}T[m].rawS3=o.rawS3}};return function(y,w,a){if(!y)return F;(B.isString(w)||w instanceof ArrayBuffer)&&(w=C(w)),a||(a={}),a.flipY==F&&(a.flipY=!0),(a.s3||a.r3||a.t3||a.mat)&&(a.matrix=B.createWorldMatrix(a.mat,a.s3,a.r3,a.rotationMode,a.t3));var n,j,z,x,q,f=L.Style["wf.loadQuadWireframe"],u=[],V=[],s=a.ignoreNormal?F:[],l=a.reverseFlipMtls,N={vs:[],uv:[],ns:s?[]:F},E={htdefault:N},W=new v(y),G={},U="";for(s&&a.matrix&&(a.normalMatrix=B.createNormalMatrix(a.matrix));null!=(j=W.stepNext());)if(j=j.trim(),0!==j.length&&"#"!==j.charAt(0))if(j.indexOf("\\")!==j.length-1)if(U&&(j=U+j,U=""),j.indexOf("#QNAN0")>=0&&(j=j.replace(/#QNAN0/gi,"0")),z=g.exec(j))u.push([parseFloat(z[1]),parseFloat(z[2]),parseFloat(z[3])]);else if(z=r.exec(j))V.push([parseFloat(z[1]),parseFloat(z[2])]);else if(s&&(z=$.exec(j)))a.flipFace?s.push([parseFloat(-z[1]),parseFloat(-z[2]),parseFloat(-z[3])]):s.push([parseFloat(z[1]),parseFloat(z[2]),parseFloat(z[3])]);else if("f"===j[0]){var S=j.split(/\s+/);if(S.length<4)continue;var X,n,Q,R=[],O=[],Z=[];for(n=1,Q=S.length;Q>n;n++)X=S[n].split("/"),R.push(parseInt(X[0],10)),X.length>1&&X[1].length>0&&Z.push(parseInt(X[1],10)),X.length>2&&X[2].length>0&&O.push(parseInt(X[2],10));for(n=0,Q=R.length-2;Q>n;n++)K(N,u,V,s,a,[R[0],R[n+1],R[n+2]],Z.length?[Z[0],Z[n+1],Z[n+2]]:F,O.length?[O[0],O[n+1],O[n+2]]:F);f&&H(N,u,a,R)}else if(a.part&&null!==(z=i.exec(j))){N.vs&&0!==N.vs.length||(delete E[N.name],G[N.name]--);var x=(" "+z[0].substr(1).trim()).substr(1),c=G[x]||0;G[x]=c+1,q=x+(c?c:""),N=E[q]={name:q,vs:[],uv:[],ns:s?[]:F,lvs:f?[]:F}}else/^usemtl /.test(j)&&(x=j.substring(7).trim(),a.part?M(w,N,a,x):(N=E[x])||(N=E[x]={name:x,vs:[],uv:[],ns:s?[]:F,lvs:f?[]:F},a.ignoreMtls&&a.ignoreMtls.indexOf(x)>=0&&delete N.vs,(a.reverseFlip||"*"===l||l&&l.indexOf(x)>=0)&&(N.reverseFlip=!0),M(w,N,a,x)));else U+=j.substring(0,j.length-1);var o=[];for(var Y in E){var p=E[Y].vs;if(p&&0!==p.length){var m=E[Y].uv;if(m)for(var k=2*p.length/3-m.length;k-->0;)m.push(0)}else o.push(Y)}o.forEach(function(z){delete E[z]}),h(E,a.cube,a.center,a);var I=a.shape3d;if(I){var P=[];for(var x in E){var N=E[x];P.rawS3=N.rawS3,P.push(N)}t.setShape3dModel(I,P)}return E}}(),C=function(T){var j={};if(T)for(var w,m,Q,H,Z,C,W=new v(T),M=/\s+/;null!=(m=W.stepNext());)m=m.trim(),0!==m.length&&"#"!==m.charAt(0)&&(Q=m.indexOf(" "),H=(Q?m.substring(0,Q):m).toLowerCase(),Z=(Q?m.substring(Q+1):"").trim(),"newmtl"===H?j[Z]=w={name:Z}:w&&("ka"===H||"kd"===H||"ks"===H?(C=Z.split(M,3),w[H]=[parseFloat(C[0]),parseFloat(C[1]),parseFloat(C[2]),1]):w[H]="ns"===H||"d"===H?parseFloat(Z):Z));return j},v=function(a){var j=this;if(a instanceof ArrayBuffer){j.isBuffer=!0;var g=0,A=new Uint8Array(a),s=A.length,D=A.length;j.stepNext=function(){for(var N,Z,v=g;s>g;)if(N=A[g],Z=N>>4,12===Z||13==Z)g+=2;else if(14===Z)g+=3;else if(g++,10===N)return String.fromCharCode.apply(null,A.subarray(v,g));return g>v?String.fromCharCode.apply(null,A.subarray(v,g)):null}}else{j.isBuffer=!1;var u=a.split("\n"),K=0,D=u.length;j.stepNext=function(){return D>K?u[K++]:null}}};v.prototype={},v.prototype.constructor=v,B.addMethod(t,{loadObj:function(O,L,r){r=r||{};var e=!1;/(MSIE |Trident\/|Edge\/)/.test(y.navigator.userAgent)&&(e=!0);var n=function(e){var i,u=r.finishFunc,W=r.shape3d,b=e?k(e[0],e[1],r):null;if(b){if(W)i=t.getShape3dModel(W);else{i=[];for(var E in b){var p=b[E];i.rawS3=p.rawS3,i.push(p)}}u&&u(b,i,i.rawS3)}else u&&u(null)};if(e){var f=function(U){r.responseType="arraybuffer",t.xhrLoad(O,function(_){n([_,U])},r)};L?t.xhrLoad(L,function(m){f(m)},r):f()}else t.xhrLoad(L?[O,L]:[O],n,r)},parseObj:function(q,s,b){return k(q,s,b)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//ui
!function(U,A,C){"use strict";!function(){var k=Element.prototype.setAttribute;Element.prototype.setAttribute=function(N,S){try{k.call(this,N,S)}catch(w){}}}();var S="ht",u=U.document,y=null,z=U[S],H=z.ui={},M=H.uiTheme={},I=z.List,j=z.DataModel,b=z.Notifier,O=z.Default,Z=Math,N=Z.min,s=Z.max,D=Z.abs,X=Z.cos,Q=Z.acos,P=Z.sin,n=Z.asin,L=Z.pow,T=Z.round,w=Z.floor,i=Z.ceil,Y=Z.sqrt,g=Z.PI,f=g/2,d=2*g,J=Z.tan,m=0,t=Z.atan2,r=Z.random,p=!1,l=y,a=function(k){return k*k},K={x:0,y:0,width:0,height:0},c="pointer",F="ew-resize",R="ns-resize",$=/.json$/,x="boolean",o="int",v="number",B="color",G="uncheck",V="check",E="radioOn",q="radioOff",k="tristate",_="labelFont",h="labelColor",W="selectLabelColor",tk="rowHeight",Qp="columnLineColor",Pd="rowLineColor",ys="columnLineVisible",sb="rowLineVisible",hg="visibleFunc",Km="sortFunc",cr="editable",gq="autoMakeVisible",fd="batchEditable",cc="checkMode",Cc="indent",om="top",dn="left",Rb="bottom",es="center",mo="right",rr="middle",oo="match_parent",rj="wrap_content",vl="px",Po="asc",qc="desc",Ff="rect",np="border",Gj="shape",Yb="circle",Fe="visible",bd="width",$o="height",nc="remove",Lp="clear",Bq="default",gn="children",$j="centerUniform",Te="multiple",Le="dataModel",Kp="none",jq="block",dd="preferredSize",Qc="minSize",Zm="maxSize",$m="layoutParams",th="normal",gm="hover",yr="active",Qk="zoom",_f="style",Sj="parent",eh=O.getInternal(),ih=eh.getPropertyValue,uh=eh.fillRect,vr=eh.drawBorder,Nf=eh.addMethod,us=eh.addMSMap,pk=eh.getDragger,vd=eh.createAnim,Em=eh.setPropertyValue,Rg=O.createObject,Ym=O.sortFunc,no=O.callLater,sr=O.startDragging,Ve=O.checkLoadingImage,Vg=O.checkLoadingCompType,Fb=O.clone,db=O.isLeftButton,dc=O.isDoubleClick,qd=O.preventDefault,Tm=O.isSelectAll,il=O.isTouchable,Hf=O.getClientPoint,Uo=O.getPagePoint,fl=O.getDistance,hf=O.disabledOpacity,Sp=O.isString,Oi=O.isNumber,Ah=O.isBoolean,Jr=O.isArray,Uj=O.isFunction,Sl=O.createDiv,Hi=O.createCanvas,Cd=O.createDisabledDiv,Ch=O.unionRect,Nl=function(s){return O.getTarget(s)},sf=O.def,Ee=O.getClass,Aj=O.setImage,fp=O.getImage,Yh=function(j,c,i,H){O.setCanvas(j,c,i,H),delete j.$93u},Lf=O.initContext,Xl=O.translateAndScale,Zf=O.appendChild,tg=O.drawRoundRect,ql=O.drawStretchImage,gl=O.drawImage,Yl=O.drawText,xm=O.removeHTML,wp=O.containsPoint,hi=O.getWindowInfo,zq=O.isEnter,Ih=O.isEsc,bi=O.isSpace,ob=O.isLeft,qb=O.isUp,Hg=O.isRight,hc=O.isDown,Il=O.isDelete,lg=O.isCtrlDown,Nr=O.isShiftDown,aj=U.parseInt||global.parseInt,_i=U[S+"config"],Di=[],fc=[],Ui=[],up=[],Br=[],ei,Mm=_i&&_i.IsGetter||{},ig=["aqua","black","blue","fuchsia","gray","green","lime","orange","maroon","navy","olive","purple","red","silver","teal","white","yellow","pink"],zo=function(s){return s instanceof MouseEvent||0===s.type.indexOf("mouse")},xo=function(W,Y,R){W.translate(Y,R)},kk=function(F,p){p&&F.rotate(p)},ai=function(T){if(T)for(;T.firstChild;)T.removeChild(T.firstChild)},ii=O.getUIViewsMap=function(){var d=z.ui._uiRendererLoadedMap;return d||(d=z.ui._uiRendererLoadedMap={}),d},kg=O.loadUIView=function(i,A,c){H._uiRendererLoadedMap||(H._uiRendererLoadedMap={}),c&&delete H._uiRendererLoadedMap[i];var f=H._uiRendererLoadedMap[i];if(f)return f;if(A)H._uiRendererLoadingMap||(H._uiRendererLoadingMap={}),H._uiRendererLoadingMap[i]||(H._uiRendererLoadingMap[i]=!0,O.xhrLoad(i,function(q){H._uiRendererLoadedMap[i]=q,H._uiRendererLoadingMap[i]=null,A(q)}));else if(f=O.xhrLoad(i,null,{sync:!0}))return H._uiRendererLoadedMap[i]=f,f},fe=O.isUISameValue=function(O,r){if(O===r)return!0;if(O instanceof Date||r instanceof Date)return O===r;if(O&&O.getSerializableProperties&&O!==r||r&&r.getSerializableProperties&&O!==r)return!1;if(O&&r&&"object"==typeof O&&"object"==typeof r){var t=A.keys(O),K=t.length,y=A.keys(r),G=y.length;if(K!==G)return!1;var M=!0;for(var g in O)if(O[g]!==r[g]){M=!1;break}if(M)for(var g in r)if(O[g]!==r[g]){M=!1;break}return M}if(O instanceof z.List&&r instanceof z.List&&(O=O._as,r=r._as),Jr(O)&&Jr(r)){for(var M=!0,B=0,f=O.length;f>B;B++)if(O[B]!==r[B]){M=!1;break}if(M)for(var B=0,f=r.length;f>B;B++)if(O[B]!==r[B]){M=!1;break}return M}return!1},Yl=function(Z,P,a,Q,J,h,o,p,s,g){if(P!=y){var d=go(a,P),U={};U.y=g&&g!==rr?g===om?h+d.height/2:h+p-d.height/2:h+p/2,U.x=s&&s!==dn?s===mo?J+o-d.width/2:J+o/2:J+d.width/2,sn(Z,P,U,a,Q)}},sn=function(I,F,h,n,O){I.font=n,I.fillStyle=O,I.textAlign=es,I.textBaseline=rr;var j,r;h?h.width===C?(j=h.x,r=h.y):(j=h.x+h.width/2,r=h.y+h.height/2):(j=0,r=0),I.fillText(F,T(j),T(r))},go=function(){var R={},f={},x=0,T=u?Hi().getContext("2d"):y;return function(i,V){T.font=i?i:M.font;var U=f[V+i];if(U)return{width:U.width,height:U.height};var v=R[T.font];return v||(v=2*T.measureText("e").width+4,R[T.font]=v),f[V+i]=U={width:T.measureText(V).width+(O.textExtraWidth||4),height:v},x++,x>=9e4&&(x=0,f={}),{width:U.width,height:U.height}}}(),Ne=O.getBreakableTextSize=function(h,O){for(var Z,_=O.split("\n"),Y=0,B=_.length,t=0;B>t;t++){var R=go(h,_[t]);R.width>Y&&(Y=R.width),Z||(Z=R.height)}return{width:Y,height:Z*B}},sj=function(E,l){var Q,t,D;try{Q=E.toString().split(".")[1].length}catch(u){Q=0}try{t=l.toString().split(".")[1].length}catch(u){t=0}return D=Math.pow(10,Math.max(Q,t)),(E*D+l*D)/D},_b=function(l,a){var D,E,z,G;try{D=l.toString().split(".")[1].length}catch(s){D=0}try{E=a.toString().split(".")[1].length}catch(s){E=0}return z=Math.pow(10,Math.max(D,E)),G=D>=E?D:E,((l*z-a*z)/z).toFixed(G)},Je=function(n,k){for(var _=Nl(n);_;){if(_.htComp&&(k?k(_.htComp):!0))return _.htComp;_=_.parentNode}},Im=function(u){return!u||"dragEnter"!==u.kind&&"dragMove"!==u.kind&&"dragExit"!==u.kind&&"dragCompleted"!==u.kind&&"dragCanceled"!==u.kind?void 0:!0},mp=function(E,i,I){i===C&&(i=1),I===C&&(I=1),(1!==i||1!==I)&&E.scale(i,I)},po=function(O,A,F){return{width:O,height:A,comps:Jr(F)?F:[F]}},ck=O.checkTouch=function(B){if(!zo(B)){var g=B.touches[0];if(g)return g;if(g=B.changedTouches,g&&g[0])return g[0]}return B},mi=function(m){return"set"+m.charAt(0).toUpperCase()+m.slice(1)},_q=function(A,N){return N||(N=/ble$/.test(A)||/ed$/.test(A)||Mm[A]?"is":"get"),N+A.charAt(0).toUpperCase()+A.slice(1)},kh=O.prefixSetter=function(D){return 0===D.indexOf("is:")&&(D=D.substr(D.indexOf(":")+1)),mi(D)},jm=O.prefixGetter=function(f){var Z;return 0===f.indexOf("is:")?(f=f.substr(f.indexOf(":")+1),Z="is"):0===f.indexOf("get:")?(f=f.substr(f.indexOf(":")+1),Z="get"):f.indexOf("Drawable")>=0&&(Z="get"),_q(f,Z)},xe=function(E,W){var v=[E].concat(W);return E.bind.apply(E,v)},ng=[function(v){return v&&Sp(v)&&(0===v.indexOf("#")||0===v.indexOf("rgb")||0===v.indexOf("rgba")||ig.indexOf(v)>=0)?new H.drawable.ColorDrawable(v):void 0},function(Y){return Y&&Sp(Y)&&Y.indexOf(".9.")>=0?new H.drawable.NinePatchImageDrawable(Y):void 0},function(p){if(p&&Jr(p)){var Z=p[0],h=p.slice(1),I=new(xe(O.getClass(Z),h));return I}}],lj=O.toDrawable=function(j){if(j){if(j instanceof H.drawable.Drawable)return j;for(var F=0,A=ng.length;A>F;F++){var w=ng[F](j);if(w)return w}return new H.drawable.ImageDrawable(j)}},Oj=O.endsWith=function(Z,t){if(Z){var q=Z.length;return Z.substring(q-t.length,q)===t}},Ur=function(D,O,o,U){var l=U[O],a=l===C,J=z._uiSerializing;if(a&&!J)U.getStyleValue&&U.isStyleProperty(D)&&(l=U.getStyleValue(D),l===C&&(l=U[o]));else if(a&&J&&U.hasOwnProperty(o))return U[o];return l},Fm=function(R,x,o,p){if(z._uiSerializing)return Ur(R,x,o,p);var E=p,J="___styleConvert"+R,s=E[x];if(s===C){var B=E.__styleConvertBorderMap;if(B||(B=E.__styleConvertBorderMap={}),s=B[J],s===C){var q=E instanceof df;if(s=E.getStyleValue(R),s===C){if(s=E[o],s===C);else if(Array.isArray(s)){var K=s[0],H=s.slice(1);s=E[o]=new(xe(O.getClass(K),H))}}else if(s&&Array.isArray(s)&&q){var K=s[0],H=s.slice(1);s=B[J]=new(xe(O.getClass(K),H))}}}return s},ps=function($,N,A,k){if(z._uiSerializing)return Ur($,N,A,k);var W=k,a="___styleConvert"+$,g="___convert"+$,w=W[N],P=W.$353u;if(P||(P=W.$353u={}),w===C){var p=$.substr(0,$.length-8),x=W["_"+p];if(w=W[N]=O.toDrawable(x),x===C&&w===C){var d=W instanceof df;d&&W.isStyleProperty($)&&(w=W.getStyleValue($)),w===C?(w=W[A],w===C?(x=C,w=P[a],w===C&&d&&W.isStyleProperty(p)&&(x=W.getStyleValue(p),w=O.toDrawable(x)),w?(P[a]=w,W[g]=C):P[a]=C,x===C&&w===C&&(w=W[g],w===C&&(w=O.toDrawable(W["__"+p])),W[g]=w?w:C)):P[a]=W[g]=C):P[a]=W[g]=C}else P[a]=W[g]=C}else P[a]=W[g]=C;return w},ue=function(O,y){return-1!==O.indexOf("Drawable",O.length-8)?ps(O,"_"+O,"__"+O,y):Ur(O,"_"+O,"__"+O,y)},So=function(w,x){for(;w;){if(w===x)return!0;var D=Ee(w);D?(D=D.superClass,w=D&&D.getClassName?D.getClassName():y):w=y}},xh=function(C,M){var N="_"+M;C[_q(M)]=function(){return this[N]},C[mi(M)]=function(e){var r=this[N];this[N]=e,this.fp(M,r,e)}},Ie=function(p,P){var V,_,t;0===P.indexOf("drawable:")?V=!0:(0===P.indexOf("border:")||"border"===P||-1!==P.indexOf("Border",P.length-6))&&(_=!0),0===P.indexOf("get:")?t="get":0===P.indexOf("is:")&&(t="is"),P=P.substr(P.indexOf(":")+1);var e=p.hasOwnProperty("_styleProps")&&p._styleProps;if(!e){var f=p.getSuperClass().prototype._styleProps;e=f?Fb(f):{},p._styleProps=e}e[P]=!0;var b="_"+P,y="__"+P;p[_q(P,t)]="get"===t&&-1!==P.indexOf("Drawable",P.length-8)?function(){return ps(P,b,y,this)}:_?function(){return Fm(P,b,y,this)}:function(){return Ur(P,b,y,this)},p[mi(P)]=V?function(S){var w=Ur(P,b,y,this);this[b]=S,this[b+"Drawable"]=C,this.fp(P,w,S)}:function(W){var F=Ur(P,b,y,this);this[b]=W,this.fp(P,F,W)},V&&Ie(p,"get:"+P+"Drawable")},Rp=function($,Y){for(var V=$[0],L=$[1],X=!1,i=0,A=Y.length-1;i<Y.length;A=i++){var O=Y[i][0],T=Y[i][1],u=Y[A][0],g=Y[A][1],j=T>L!=g>L&&(u-O)*(L-T)/(g-T)+O>V;j&&(X=!X)}return X},mh=function(j,Z,D,l,F){arguments.length<=3&&(D=Z.y,l=Z.width,F=Z.height,Z=Z.x);var X=j&&j.getView?j.getView():j,H=X.style;Z=T(Z),D=T(D),l=T(l),F=T(F),Z!=y&&(H.left=Z+vl),D!=y&&(H.top=D+vl),l!=y&&(0>l&&(l=0),j.tagName&&(H.width=l+vl)),F!=y&&(0>F&&(F=0),j.tagName&&(H.height=F+vl))};H.border={},H.drawable={},H.editor={};var $h=_i&&_i.uiTheme||{},qh=O.moveThreshold==y?2:O.moveThreshold;M.baseColor=$h.baseColor===C?"#3399ff":$h.baseColor,M.hoverColor=$h.hoverColor===C?O.darker(M.baseColor,11):$h.hoverColor,M.activeColor=$h.activeColor?$h.activeColor:O.darker($h.hoverColor,15),M.font=$h.font===C?"12px Arial":$h.font,M.textColor=$h.textColor===C?"#737373":$h.textColor,M.borderColor=$h.borderColor===C?"#E6E6E6":$h.borderColor,M.iconColor=$h.iconColor===C?"#8A8A8A":$h.iconColor,M.borderRadius=$h.borderRadius||0,M.normalBackground=$h.normalBackground===C?"#979797":$h.normalBackground,M.layoutToggleBackground=$h.layoutToggleBackground===C?"#f7f7f7":$h.layoutToggleBackground,M.barBackground=$h.barBackground===C?"#EBEBEB":$h.barBackground,M.headerBackground=$h.headerBackground===C?"#F7F7F7":$h.headerBackground,M.lineColor=$h.lineColor===C?"#EBEBEB":$h.lineColor,M.insertColor=$h.insertColor===C?"#12bc00":$h.insertColor,M.hoverBackground=$h.hoverBackground===C?"#F7F7F7":$h.hoverBackground,M.activeBackground=$h.activeBackground===C?"#EBEBEB":$h.activeBackground,M.rowSelectBackground=$h.rowSelectBackground===C?"#E0E0E0":$h.rowSelectBackground,M.dimColor=$h.dimColor===C?"#EBEBEB":$h.dimColor,M.textDimColor=$h.textDimColor===C?"#BEBEBE":$h.textDimColor,M.viewGroupBackground=$h.viewGroupBackground,M.popupBackground=$h.popupBackground===C?"#fff":$h.popupBackground,M.popupBoxShadow=$h.popupBoxShadow===C?"0px 8px 22px rgba(0,0,0,0.3)":$h.popupBoxShadow,M.inputBackground=$h.inputBackground===C?"#fff":$h.inputBackground,M.placeholderTextColor=$h.placeholderTextColor===C?"#BEBEBE":$h.placeholderTextColor,M.okFirst=$h.okFirst===C?!1:$h.okFirst,us({ui_ac:function(q,I){q.$108u==y&&(xh(q,_f),q._styleProps||(q._styleProps=[]),q.isStyleProperty=function(K){return this._styleProps[K]},q.getStyleProperties=function(){return this._styleProps},q.addStyleProperty=function(H){var p=Fb(this._styleProps);this._styleProps=p,p[H]=!0},q.removeStyleProperty=function(b){var y=Fb(this._styleProps);this._styleProps=y,delete y[b]},q.$108u=function(I,q,D,p){var X=I.indexOf(":nth-child(");if(X>0){var b=I.substring(X+11,I.length-1);if(I=I.substring(0,X),!this._matchIndex(p,b))return!1}var T=!1;if("*"===I)T=!0;else if(0===I.indexOf("&")){if(q&&q.length>0)for(var v=I.split("&").slice(1),J=0;J<q.length;J++){var r=v.indexOf(q[J]);if(r>-1&&(v.splice(r,1),0===v.length)){T=!0;break}}}else if(I===D)T=!0;else if(-1!==I.indexOf("*",I.length-1))for(I=I.substr(0,I.length-1);D;){if(D===I){T=!0;break}var h=Ee(D);h?(h=h.superClass,D=h&&h.getClassName?h.getClassName():y):D=y}else if(I.indexOf("&")>0&&q&&q.length>0){var M=I.split("&"),e=M[0],v=M.slice(1);if(e===D)for(var J=0;J<q.length;J++){var r=v.indexOf(q[J]);if(r>-1&&(v.splice(r,1),0===v.length)){T=!0;break}}}return T},q._matchIndex=function(Q,K){var A=Q._parent;if(!A)return!1;var d=A._children,q=d.indexOf(Q);return"odd"===K?0!==(q+1)%2?!0:!1:"even"===K?0===(q+1)%2?!0:!1:"last"===K?q===d.size()-1?!0:!1:q===K-1?!0:!1},q.$109u=function(d){var K=this,q=d.split(/\s+/),A=!1;q.reverse();for(var V=K,v=0,Q=!0;V;){var P=q[v];if(P.indexOf(">")>0){for(var Z=V,a=V,z=P.split(">"),I=!0,X=z.length-1;X>=0;X--){if(!Z){I=!1;break}var D=Z.getStyle(),M=y,n=Z.getClassName(),e=z[X];if(D&&(M=D.split(/\s+/)),!K.$108u(e,M,n,Z)){I=!1;break}X>0&&(Z=Z.getStyleParent())}I?(v++,V=Z):V=a}else{var l=V.getClassName(),S=V.getStyle(),g=y;S&&(g=S.split(/\s+/)),K.$108u(P,g,l,V)&&v++}if(Q&&0===v){A=!1;break}if(v===q.length){A=!0;break}Q=!1,V=V.getStyleParent()}return A},q.getStyleValue=function(A){var e=this,S=e.getMatchedStyles();return S[A]},q.getStyleParent=function(){return this._parent},q.getMatchedStyles=function(){var M=this,a=M.$199u;if(!a){var G=O.uiStyles,t=[],j=O.loadedUIStyles;if(j){G=G.slice(0);for(var K in j){var $=j[K].style;G.push($)}}for(var U=0;U<G.length;U++){var u=G[U];for(var X in u)if(X.indexOf(",")>0)for(var k=X.split(","),l=0;l<k.length;l++){var C=k[l].trim();if(M.$109u(C)){var L=tc(C);A.defineProperty(u[X],"_priority",{value:L,enumerable:!1,configurable:!0}),-1===t.indexOf(u[X])&&t.push(u[X])}}else M.$109u(X)&&t.push(u[X])}t.sort(function(u,c){return u._priority>c._priority?1:u._priority===c._priority?0:-1}),a={};for(var U=0;U<t.length;U++){var $=t[U];for(var h in $){var _=$[h];if(Uj(_)){var p=$["_@"+h];p||(p=$["_@"+h]=_()),a[h]=p}else 0!=h.indexOf("_@")&&(a[h]=_)}}M.$199u=a}return a});for(var m=I.ui_ac,D=0;D<m.length;D++)Ie(q,m[D])}}),us({ui_field:function(c){c.f=function(I,L){var Y=this;if(2===arguments.length)Y.setField(I,L);else{if(!O.isObject(I))return Y.getField(I);for(var s in I)Y.setField(s,I[s])}return Y},c.getField=function(M){return this._fieldObject&&M in this._fieldObject?this._fieldObject[M]:C},c.setField=function(p,I){var X=this;X._fieldObject||(X._fieldObject={});var N=X._fieldObject[p];I===C?delete X._fieldObject[p]:X._fieldObject[p]=I,X.firePropertyChange("f:"+p,N,I)},c.getSerializableFields=function(){var a,d={};for(a in this._fieldObject)d[a]=1;return d}}}),us({ui_attr:function(t){t.a=function(D,$){var S=this;if(2===arguments.length)S.setAttr(D,$);else{if(!O.isObject(D))return S.getAttr(D);for(var P in D)S.setAttr(P,D[P])}return S},t.getAttr=function(u){return this._attrObject&&u in this._attrObject?this._attrObject[u]:C},t.setAttr=function(K,F){var Y=this;Y._attrObject||(Y._attrObject={});var d=Y._attrObject[K];F===C?delete Y._attrObject[K]:Y._attrObject[K]=F,Y.firePropertyChange("a:"+K,d,F)},t.getSerializableAttrs=function(){var H,P={};for(H in this._attrObject)P[H]=1;return P}}}),us({ui_txy:function(c){Ie(c,"autoScrollSize"),Ie(c,"scrollBarColor"),Ie(c,"scrollBarSize"),Ie(c,"scrollBarTimeout"),Ie(c,"scrollBarMinLength"),Ie(c,"scrollBarActiveSize"),Ie(c,"scrollBarMode"),Ie(c,"overScrollLeft"),Ie(c,"overScrollRight"),Ie(c,"overScrollTop"),Ie(c,"overScrollBottom"),Ie(c,"overScrollEffect"),c.$118u=K,c.$188u=0,c.$189u=0,c.$191u=0,c.$192u=0,c._overScrollLeft=0,c._overScrollRight=0,c._overScrollTop=0,c._overScrollBottom=0,c.flingH=function(r,a){var V=this;a=a||2e3;var k=V.getTranslateX(),_=k+r*a/1e3;V._flingAnim&&(V._flingAnim.stop(),delete V._flingAnim),V._flingAnim=O.startAnim({duration:a,easing:function(z){return 1- --z*z*z*z},finishFunc:function(){delete V._flingAnim},action:function(W){V.setTranslateX(k+(_-k)*W)}})},c.getMinTy=function(){var m,T=this.getContentHeight(),A=this.$188u;return m=T>A?0:T-A},c.getMinTx=function(){var E,q=this.getContentWidth(),f=this.$189u;return E=q>f?0:q-f},c.flingV=function(x,h){var t=this;h=h||2e3;var H=t.getTranslateY(),y=H+x*h/1e3;t._flingAnim&&(t._flingAnim.stop(),delete t._flingAnim),t._flingAnim=O.startAnim({duration:h,easing:function(F){return 1- --F*F*F*F},finishFunc:function(){delete t._flingAnim},action:function(b){var W=H+(y-H)*b;t.setTranslateY(W),t.validate()}})},c.showScrollBar=function(){this.showVScrollBar(),this.showHScrollBar()},c.getVScrollBar=function(){var D=this.$260u;return D||(D=this.$260u=Sl(!1,this.getScrollBarDiv())),D},c.getHScrollBar=function(){var l=this.$259u;return l||(l=this.$259u=Sl(!1,this.getScrollBarDiv())),l},c.getScrollBarDiv=function(){var W=this.$365;return W||(W=this.$365=Sl(!1,this._view),W.setAttribute(S,"ht-scrollBar"),W.style.setProperty("-webkit-transform","translateZ(0)")),W},c.$127u=function(){var J=this,j=J.getScrollBarMode();if("off"===j||"hidden"===j||"completelyOff"===j)J.$365&&(xm(J.$365),delete J.$365,delete J.$260u,delete J.$259u);else{var Y=this.getScrollRect();this.$118u.height<Y.height?this.$128u():J.$260u&&(J.$260u.parentNode&&J.$260u.parentNode.removeChild(J.$260u),delete J.$260u),this.$118u.width<Y.width?this.$129u():J.$259u&&(J.$259u.parentNode&&J.$259u.parentNode.removeChild(J.$259u),delete J.$259u)}},c.tx=function(u){return u===C?this.getTranslateX():(this.setTranslateX(u),void 0)},c.ty=function(n){return n===C?this.getTranslateY():(this.setTranslateY(n),void 0)},c.autoScroll=function(V,x){if("completelyOff"!==this.getScrollBarMode()){var g=this,z=g.getAutoScrollSize(),Y=z,P=z/4,I=g.$118u,R=g.lp(V),A={x:g.getTranslateX(),y:g.getTranslateY()};return z>0&&(R.x-I.x<Y?g.translate(P,0):I.x+I.width-R.x<Y&&g.translate(-P,0),R.y-I.y<Y?g.translate(0,P):I.y+I.height-R.y<Y&&g.translate(0,-P)),A.x=g.getTranslateX()-A.x,A.y=g.getTranslateY()-A.y,x&&(x.x+=A.x,x.y+=A.y),A}},c.isCloseToHScrollBar=function(Z){var A=this,h=A.$118u;return A.isHScrollable()&&h.y+h.height-A.lp(Z).y+A.getPaddingBottom()<A.getScrollBarActiveSize()},c.isCloseToVScrollBar=function(e){var j=this,I=j.$118u;return j.isVScrollable()&&I.x+I.width-j.lp(e).x+j.getPaddingRight()<j.getScrollBarActiveSize()},c.showVScrollBar=function(){var y=this;y.isVScrollable()&&"on"!==y.getScrollBarMode()&&(y.$157u||(setTimeout(function(){y.$246u()},y.getScrollBarTimeout()),y.iv()),y.$157u=new Date)},c.$246u=function(){var m=this;m.$157u&&(!m._scrolling&&(new Date).getTime()-m.$157u.getTime()>=m.getScrollBarTimeout()?(delete m.$157u,m.iv()):setTimeout(function(){m.$246u()},m.getScrollBarTimeout()))},c.$128u=function(){var P=this,k=P.getBorder(),N=k&&k.isCSSBorder(),O=N?0:P.getBorderLeft(),G=N?0:P.getBorderTop();if("auto"===P.getScrollBarMode()&&!P.$157u)return P.$260u&&(P.$260u.style.visibility="hidden"),void 0;var o=1,i=P.getPaddingLeft()+O,D=P.getPaddingTop()+G,u=P.getScrollBarSize(),J=P.getScrollBarMinLength(),V=P.getViewRect(),e=P.getScrollRect(),K=V.height*o,E=e.height*o,S=i+V.width*o+P.getPaddingRight()-u-2,d=D+K*((V.y-e.y)*o/E),C=K*(K/E);if(E>K){J>C&&(d=d+C/2-J/2,D>d&&(d=D),d+J>K+D&&(d=K+D-J),C=J);var f=P.getVScrollBar(),j=f.style;mh(f,S,d,u,C),j.visibility=Fe,j.background=P.getScrollBarColor(),j.borderRadius=u/2+vl}},c.showHScrollBar=function(){var M=this;M.isHScrollable()&&"on"!==M.getScrollBarMode()&&(M.$155u||(setTimeout(function(){M.$247u()},M.getScrollBarTimeout()),M.iv()),M.$155u=new Date)},c.$247u=function(){var O=this;O.$155u&&(!O._scrolling&&(new Date).getTime()-O.$155u.getTime()>=O.getScrollBarTimeout()?(delete O.$155u,O.iv()):setTimeout(function(){O.$247u()},O.getScrollBarTimeout()))},c.$129u=function(){var T=this,r=T.getBorder(),x=r&&r.isCSSBorder(),C=x?0:T.getBorderLeft(),z=x?0:T.getBorderTop();if("auto"===T.getScrollBarMode()&&!T.$155u)return T.$259u&&(T.$259u.style.visibility="hidden"),void 0;var b=T.getScrollBarIndent?T.getScrollBarIndent()||0:0,y=T.getRightScrollBarIndent?T.getRightScrollBarIndent()||0:0,o=T.getPaddingLeft()+C+b,m=T.getPaddingTop()+z,N=T.getScrollBarSize(),j=T.getScrollBarMinLength(),R=T.getViewRect(),S=T.getScrollRect(),V=R.width-b-y,u=S.width-b-y,X=m+R.height+T.getPaddingBottom()-N-2,a=o+V*((R.x-S.x)/u),W=V*(V/u);if(u>V){j>W&&(a=a+W/2-j/2,o>a&&(a=o),a+j>V+o&&(a=V+o-j),W=j);var t=T.getHScrollBar(),$=t.style;mh(t,a,X,W,N),$.visibility=Fe,$.background=T.getScrollBarColor(),$.borderRadius=N/2+vl}},c.setTranslate=function(U,m,N){var p=this;if(N=vd(N)){p.$156u&&p.$156u.stop(!0);var P=p.getTranslateX(),W=p.getTranslateY();N.action=function(a){p.setTranslate(P+(U-P)*a,W+(m-W)*a)},N.innerFunc=function(){delete p.$130u,delete p.$156u},p.$130u=!0,p.$156u=O.startAnim(N)}else p.setTranslateX(U),p.setTranslateY(m)},c.adjustTranslateX=function(W){var p=this.getContentWidth(),V=this.$189u,B=p-V;return B>W&&(W=B),W>0&&(W=0),T(W)},c.adjustTranslateY=function(U){var n=this.getContentHeight(),Z=this.$188u,F=n-Z;return F>U&&(U=F),U>0&&(U=0),T(U)},c.translate=function(h,T,u){this.setTranslate(this.getTranslateX()+h,this.getTranslateY()+T,u)},c.getTranslateX=function(){return this.$191u},c.setTranslateX=function(h){var v=this,i=v.$191u;h=v.adjustTranslateX(h),v.$191u=h,v.fp("translateX",i,h)},c.getTranslateY=function(){return this.$192u},c.setTranslateY=function(z){var f=this,g=f.$192u;z=f.adjustTranslateY(z),f.$192u=z,f.fp("translateY",g,z)},c.getViewRect=function(){return this.$118u},c.getScrollRect=function(){var E,B=this,O=B.$118u;return E=B.getContentRect?Ch(B.getContentRect(),O):{x:0,y:0,width:s(O.width,B.$189u),height:s(O.height,B.$188u)}},c.isVScrollable=function(){var r=this.getScrollBarMode();return"off"!==r&&"completelyOff"!==r&&this.$118u.height<this.getScrollRect().height},c.isHScrollable=function(){var i=this.getScrollBarMode();return"off"!==i&&"completelyOff"!==i&&this.$118u.width<this.getScrollRect().width}}}),us({ui_monitor:function(n){n.onOnce=function($,p,e,H){this.on($,p,e,H,!0)},n.on=function(W,a,H,M,G,N,g,f){var Q,x=this;H=H||x;var X=x.$352u;X||(X=x.$352u=[]),0===W.indexOf("p:")?(Q="p:*"===W?function(l){a.call(this,l),G&&x.off(W,a,H)}:function(h){h.property===W.substr(2)&&(a.call(this,h),G&&x.off(W,a,H))},x.addPropertyChangeListener(Q,H,M)):0===W.indexOf("f:")?(Q="f:*"===W?function(n){0===n.property.indexOf("f:")&&(a.call(this,n),G&&x.off(W,a,H))}:function(N){N.property===W&&(a.call(this,N),G&&x.off(W,a,H))},x.addPropertyChangeListener(Q,H,M)):0===W.indexOf("a:")?(Q="a:*"===W?function(S){0===S.property.indexOf("a:")&&(a.call(this,S),G&&x.off(W,a,H))}:function(y){y.property===W&&(a.call(this,y),G&&x.off(W,a,H))},x.addPropertyChangeListener(Q,H,M)):0===W.indexOf("d:")?(Q=function(B){a.call(H,B),G&&x.off(W,a,H,M)},x.getView().addEventListener(W.substr(2),Q,M)):(Q=function(y){y.kind===W&&(a.call(this,y),G&&x.off(W,a,H))},x.addViewListener(Q,H,M)),g!=y?X.splice(g,0,{name:W,listener:a,proxy:Q,scope:H,ahead:M,once:G,core:N,beforeEvent:f}):X.push({name:W,listener:a,proxy:Q,scope:H,ahead:M,once:G,core:N,beforeEvent:f})},n.getListeners=function(){return this.$352u},n.off=function(b,$,S,k){var g=this,u=g.$352u;if(u&&0!==u.length)if(S=S||g,0===b.indexOf("p:"))for(var y=0;y<u.length;y++){var r=u[y];if(r.name===b&&r.listener===$&&r.scope==S){g.removePropertyChangeListener(r.proxy,S),u.splice(y,1);break}}else if(0===b.indexOf("f:"))for(var y=0;y<u.length;y++){var r=u[y];if(r.name===b&&r.listener===$&&r.scope==S){g.removePropertyChangeListener(r.proxy,S),u.splice(y,1);break}}else if(0===b.indexOf("a:"))for(var y=0;y<u.length;y++){var r=u[y];if(r.name===b&&r.listener===$&&r.scope==S){g.removePropertyChangeListener(r.proxy,S),u.splice(y,1);break}}else if(0===b.indexOf("d:"))for(var y=0;y<u.length;y++){var r=u[y];if(r.name===b&&r.listener===$&&r.scope==S&&r.ahead===k){g.getView().removeEventListener(b.substr(2),r.proxy,k),u.splice(y,1);break}}else for(var y=0;y<u.length;y++){var r=u[y];if(r.name===b&&r.listener===$&&r.scope==S){g.removeViewListener(r.proxy,S),u.splice(y,1);break}}}}});var yo=function(){for(var D=10,m=0,b=fc.length;b>m;m++){var I=fc[m];I.setY(D),D+=I.getHeight()+10}},Tn=function(){for(var x=10,B=0,j=Di.length;j>B;B++){var E=Di[B];E.setY(x),x+=E.getHeight()+10}},ym=function(){for(var Y=10,V=0,q=Br.length;q>V;V++){var x=Br[V];x.setY(Y),Y+=x.getHeight()+10}},$f=function(){for(var U=10,E=O.getWindowInfo(),b=E.top+E.height,N=0,Z=up.length;Z>N;N++){var W=up[N];W.setY(b-U-W.getPreferredSize().height),U+=W.getHeight()+10}},Uq=function(){for(var s=10,h=O.getWindowInfo(),Y=h.top+h.height,q=0,o=Ui.length;o>q;q++){var P=Ui[q];P.setY(Y-s-P.getPreferredSize().height),s+=P.getHeight()+10}};Nf(O,{getUIVersion:function(){return"4.6.1.5"},getViewAt:Je,isDragDropEvent:Im,isSubClassOf:So,createUIEditor:function(t,f){var E="",c=[],l=!1;if(Uj(t))E=t;else for(var Z=0;Z<t.length;Z++){var B=t[Z];"&"===B?(l=!0,c.push("")):l?c[c.length-1]+=B:E+=B}var n=Ee(E);if(n){var o=new n;if(f)for(var m in f)o.setPropertyValue(m,f[m]);return o.__style=c.join(" "),o}},warnMessage:function(r,e,E,N,a){return O.showMessage(r,e,"warn",E,N,a)},successMessage:function(_,T,c,N,v){return O.showMessage(_,T,"success",c,N,v)},errorMessage:function(q,b,z,p,G){return O.showMessage(q,b,"error",z,p,G)},infoMessage:function(z,p,r,k,t){return O.showMessage(z,p,"info",r,k,t)},messageMarginTop:10,messageMarginBottom:10,showMessage:function(r,R,o,i,M,L){var v,t=new H.Message;if(1===arguments.length&&"object"==typeof r&&(v=O.clone(r),R=r.title,o=r.icon,i=r.region,M=r.fixedWidth,L=r.duration,r=r.content,delete v.title,delete v.icon,delete v.region,delete v.fixedWidth,delete v.duration,delete v.content),t.setContent(r),t.setTitle(R),M!==C&&t.setFixedWidth(M),L=L===C?4e3:L,i=i==y?"topRight":i,"success"===o?t.setIcon("ui_success"):"warn"===o?t.setIcon("ui_warn"):"error"===o?t.setIcon("ui_error"):"info"===o?t.setIcon("ui_info"):t.setIcon(o),v)for(var W in v)t[mi(W)](v[W]);var _=t.getPreferredSize(),A=hi(),P=O.messageMarginTop,z=O.messageMarginBottom;if(i===om){for(var f=0,Q=Br.length;Q>f;f++){var x=Br[f];P+=x.getHeight()+10}t.addToDOM(U,{x:A.left+(A.width-_.width)/2,y:A.top+P,width:_.width,height:_.height}),t.getView().style.opacity="0",Br.push(t),O.startAnim({duration:200,action:function(e){t.getView().style.opacity=T(100*e)/100+""}});var $=function(){t.$366||(t.$366=!0,O.startAnim({duration:200,finishFunc:function(){t.removeFromDOM(),Br.splice(Br.indexOf(t),1),ym()},action:function(I){t.getView().style.opacity=T(100*(1-I))/100+""}}))};L&&setTimeout(function(){$()},L),t.on("clickCloseIcon",function(){$()})}else if("topLeft"===i){for(var f=0,Q=Di.length;Q>f;f++){var x=Di[f];P+=x.getHeight()+10}t.addToDOM(U,{x:A.left-_.width,y:A.top+P,width:_.width,height:_.height}),Di.push(t),O.startAnim({duration:200,action:function(B){t.setX(A.left-_.width+(_.width+10)*B)}});var $=function(){if(!t.$366){t.$366=!0;var d=A.left+10;O.startAnim({duration:200,finishFunc:function(){t.removeFromDOM(),Di.splice(Di.indexOf(t),1),Tn()},action:function(f){t.setX(d-(_.width+10)*f)}})}};L&&setTimeout(function(){$()},L),t.on("clickCloseIcon",function(){$()})}else if("topRight"===i){for(var f=0,Q=fc.length;Q>f;f++){var x=fc[f];P+=x.getHeight()+10}var e=u.body.style.overflow;u.body.style.overflow="hidden",t.addToDOM(U,{x:A.left+A.width,y:A.top+P,width:_.width,height:_.height}),fc.push(t),O.startAnim({duration:200,finishFunc:function(){u.body.style.overflow=e},action:function(s){t.setX(A.left+A.width-(_.width+10)*s)}});var $=function(){if(!t.$366){t.$366=!0;var c=A.left+A.width-(_.width+10),B=u.body.style.overflow;u.body.style.overflow="hidden",O.startAnim({duration:200,finishFunc:function(){u.body.style.overflow=B,t.removeFromDOM(),fc.splice(fc.indexOf(t),1),yo()},action:function(Q){t.setX(c+(_.width+10)*Q)}})}};L&&setTimeout(function(){$()},L),t.on("clickCloseIcon",function(){$()})}else if("bottomLeft"===i){for(var j=A.top+A.height,f=0,Q=Ui.length;Q>f;f++){var x=Ui[f];z+=x.getHeight()+10}t.addToDOM(U,{x:A.left-_.width,y:j-z-_.height,width:_.width,height:_.height}),Ui.push(t),O.startAnim({duration:200,action:function(l){t.setX(A.left-_.width+(_.width+10)*l)}});var $=function(){if(!t.$366){t.$366=!0;var J=A.left+10;O.startAnim({duration:200,finishFunc:function(){t.removeFromDOM(),Ui.splice(Ui.indexOf(t),1),Uq()},action:function(j){t.setX(J-(_.width+10)*j)}})}};L&&setTimeout(function(){$()},L),t.on("clickCloseIcon",function(){$()})}else if("bottomRight"===i){for(var j=A.top+A.height,f=0,Q=up.length;Q>f;f++){var x=up[f];z+=x.getHeight()+10}var e=u.body.style.overflow;u.body.style.overflow="hidden",t.addToDOM(U,{x:A.left+A.width,y:j-z-_.height,width:_.width,height:_.height}),up.push(t),O.startAnim({duration:200,finishFunc:function(){u.body.style.overflow=e},action:function(W){t.setX(A.left+A.width-(_.width+10)*W)}});var $=function(){if(!t.$366){t.$366=!0;var x=A.left+A.width-(_.width+10),D=u.body.style.overflow;u.body.style.overflow="hidden",O.startAnim({duration:200,finishFunc:function(){u.body.style.overflow=D,t.removeFromDOM(),up.splice(up.indexOf(t),1),$f()},action:function(f){t.setX(x+(_.width+10)*f)}})}};L&&setTimeout(function(){$()},L),t.on("clickCloseIcon",function(){$()})}else if(i===es){ei&&(ei.removeFromDOM(),ei=y),t.addToDOM(U,{x:A.left+(A.width-_.width)/2,y:A.top+(A.height-_.height)/2,width:_.width,height:_.height}),t.getView().style.opacity="0",ei=t,O.startAnim({duration:200,action:function(k){t.getView().style.opacity=T(100*k)/100+""}});var $=function(){!t.$366&&t.isInDOM()&&(t.$366=!0,O.startAnim({duration:200,finishFunc:function(){t===ei&&(t.removeFromDOM(),ei=y)},action:function($){t.getView().style.opacity=T(100*(1-$))/100+""}}))};L&&setTimeout(function(){$()},L),t.on("clickCloseIcon",function(){$()})}return t},alert:function(L,K,V,W,j,U){var z=new H.Alert;return 1!==arguments.length||Sp(L)?(z.setContentText(L),z.setTitle(K),z.setButtons(V),z.setContentIcon(W),z.setContentInput(j),U!=y&&z.setFixedWidth(U)):z.set(L),z.show(),z}}),function(C,r){function J(b,p,x){return b.addEventListener?(b.addEventListener(p,x,!1),void 0):void 0}function R(m,n,h){return m.removeEventListener?(m.removeEventListener(n,h,!1),void 0):void 0}function Q(X){if("keypress"==X.type){var W=String.fromCharCode(X.which);return X.shiftKey||(W=W.toLowerCase()),W}return k[X.which]?k[X.which]:U[X.which]?U[X.which]:String.fromCharCode(X.which).toLowerCase()}function $(F,P){return F.sort().join(",")===P.sort().join(",")}function L(a){var h=[];return a.shiftKey&&h.push("shift"),a.altKey&&h.push("alt"),a.ctrlKey&&h.push("ctrl"),a.metaKey&&h.push("meta"),h}function G(I){return I.preventDefault?(I.preventDefault(),void 0):(I.returnValue=!1,void 0)}function g(G){return G.stopPropagation?(G.stopPropagation(),void 0):(G.cancelBubble=!0,void 0)}function y(S){return"shift"==S||"ctrl"==S||"alt"==S||"meta"==S}function i(){if(!Z){Z={};for(var U in k)U>95&&112>U||k.hasOwnProperty(U)&&(Z[k[U]]=U)}return Z}function d(P,R,S){return S||(S=i()[P]?"keydown":"keypress"),"keypress"==S&&R.length&&(S="keydown"),S}function A(Z){return"+"===Z?["+"]:(Z=Z.replace(/\+{2}/g,"+plus"),Z.split("+"))}function X(Z,o){var U,F,x,_=[];for(U=A(Z),x=0;x<U.length;++x)F=U[x],u[F]&&(F=u[F]),o&&"keypress"!=o&&O[F]&&(F=O[F],_.push("shift")),y(F)&&_.push(F);return o=d(F,_,o),{key:F,modifiers:_,action:o}}function P(x,s){return x&&x!==r?x===s?!0:P(x.parentNode,s):!1}function F(x){function b(c){c=c||{};var M,J=!1;for(M in a)c[M]?J=!0:a[M]=0;J||(V=!1)}function P(f,G,V,g,B,L){var x,c,b=[],m=V.type;if(!S.$361u[f])return[];for("keyup"==m&&y(f)&&(G=[f]),x=0;x<S.$361u[f].length;++x)if(c=S.$361u[f][x],(g||!c.seq||a[c.seq]==c.level)&&m==c.action&&("keypress"==m&&!V.metaKey&&!V.ctrlKey||$(G,c.modifiers))){var A=!g&&c.combo==B,F=g&&c.seq==g&&c.level==L;(A||F)&&S.$361u[f].splice(x,1),b.push(c)}return b}function s(w,V,p,P){S.stopCallback(V,V.target||V.srcElement,p,P)||w(V,p)===!1&&(G(V),g(V))}function l(Y){"number"!=typeof Y.which&&(Y.which=Y.keyCode);var W=Q(Y);if(W)return"keyup"==Y.type&&w===W?(w=!1,void 0):(S.handleKey(W,L(Y),Y),void 0)
}function f(){clearTimeout(h),h=setTimeout(b,1e3)}function H(D,m,E,o){function r(H){return function(){V=H,++a[D],f()}}function F(p){s(E,p,D),"keyup"!==o&&(w=Q(p)),setTimeout(b,10)}a[D]=0;for(var P=0;P<m.length;++P){var n=P+1===m.length,S=n?F:r(o||X(m[P+1]).action);T(m[P],S,o,D,P)}}function T(F,o,U,Z,L){S._directMap[F+":"+U]=o,F=F.replace(/\s+/g," ");var f,$=F.split(" ");return $.length>1?(H(F,$,o,U),void 0):(f=X(F,U),S.$361u[f.key]=S.$361u[f.key]||[],P(f.key,f.modifiers,{type:f.action},Z,F,L),S.$361u[f.key][Z?"unshift":"push"]({callback:o,modifiers:f.modifiers,action:f.action,seq:Z,level:L,combo:F}),void 0)}var S=this;if(x=x||r,!(S instanceof F))return new F(x);S.target=x,S.$361u={},S._directMap={};var h,a={},w=!1,Z=!1,V=!1;S._handleKey=function(l,v,f){var R,i=P(l,v,f),t={},C=0,a=!1;for(R=0;R<i.length;++R)i[R].seq&&(C=Math.max(C,i[R].level));for(R=0;R<i.length;++R)if(i[R].seq){if(i[R].level!=C)continue;a=!0,t[i[R].seq]=1,s(i[R].callback,f,i[R].combo,i[R].seq)}else a||s(i[R].callback,f,i[R].combo);var j="keypress"==f.type&&Z;f.type!=V||y(l)||j||b(t),Z=a&&"keydown"==f.type},S.$367=function(x,e,J){for(var q=0;q<x.length;++q)T(x[q],e,J)},J(x,"keypress",l),J(x,"keydown",l),J(x,"keyup",l),S.dispose=function(){R(x,"keypress",l),R(x,"keydown",l),R(x,"keyup",l)}}if(C.navigator){for(var Z,k={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},U={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},O={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(C.navigator.platform)?"meta":"ctrl"},f=1;20>f;++f)k[111+f]="f"+f;for(f=0;9>=f;++f)k[f+96]=f;F.prototype.bind=function(s,Y,T){var S=this;return s=s instanceof Array?s:[s],S.$367.call(S,s,Y,T),S},F.prototype.unbind=function(t,h){var N=this;return N.bind.call(N,t,function(){},h)},F.prototype.trigger=function(L,h){var F=this;return F._directMap[L+":"+h]&&F._directMap[L+":"+h]({},L),F},F.prototype.reset=function(){var j=this;return j.$361u={},j._directMap={},j},F.prototype.stopCallback=function(o,h,A){var J=this;return(" "+h.className+" ").indexOf(" mousetrap ")>-1?!1:P(h,J.target)?!1:("INPUT"==h.tagName||"SELECT"==h.tagName||"TEXTAREA"==h.tagName||h.isContentEditable)&&A&&1===A.length?!0:void 0},F.prototype.handleKey=function(){var i=this;return i._handleKey.apply(i,arguments)},F.init=function(){var M=F(r);for(var Q in M)"_"!==Q.charAt(0)&&(F[Q]=function(A){return function(){return M[A].apply(M,arguments)}}(Q))},F.init(),z.Mousetrap=F}}(U,u),function(){function v(N,I){for(var w=[],m=0,$=N.length;$>m;m++)w.push(N[m].substr(0,I));return w}function u(z){return function(t,s,x){var i=x[z].indexOf(s.charAt(0).toUpperCase()+s.substr(1).toLowerCase());~i&&(t.month=i)}}function F(J,a){for(J=String(J),a=a||2;J.length<a;)J="0"+J;return J}var f=z.Default,d=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,t=/\d\d?/,e=/\d{3}/,H=/\d{4}/,I=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,w=/\[([^]*?)\]/gm,i=function(){},$=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=["January","February","March","April","May","June","July","August","September","October","November","December"],n=v(y,3),K=v($,3),O={dayNamesShort:K,dayNames:$,monthNamesShort:n,monthNames:y,amPm:["am","pm"],DoFn:function(f){return f+["th","st","nd","rd"][f%10>3?0:(10!==f-f%10)*f%10]}},L={D:function(j){return j.getDate()},DD:function(x){return F(x.getDate())},Do:function(D,v){return v.DoFn(D.getDate())},d:function(y){return y.getDay()},dd:function(x){return F(x.getDay())},ddd:function(E,l){return l.dayNamesShort[E.getDay()]},dddd:function(Q,z){return z.dayNames[Q.getDay()]},M:function(b){return b.getMonth()+1},MM:function($){return F($.getMonth()+1)},MMM:function(B,Y){return Y.monthNamesShort[B.getMonth()]},MMMM:function(R,H){return H.monthNames[R.getMonth()]},YY:function(S){return String(S.getFullYear()).substr(2)},YYYY:function(b){return b.getFullYear()},h:function(c){return c.getHours()%12||12},hh:function(r){return F(r.getHours()%12||12)},H:function(z){return z.getHours()},HH:function(U){return F(U.getHours())},m:function(U){return U.getMinutes()},mm:function(I){return F(I.getMinutes())},s:function(c){return c.getSeconds()},ss:function(x){return F(x.getSeconds())},S:function(m){return Math.round(m.getMilliseconds()/100)},SS:function(G){return F(Math.round(G.getMilliseconds()/10),2)},SSS:function(q){return F(q.getMilliseconds(),3)},a:function(s,N){return s.getHours()<12?N.amPm[0]:N.amPm[1]},A:function(f,m){return f.getHours()<12?m.amPm[0].toUpperCase():m.amPm[1].toUpperCase()},ZZ:function(X){var M=X.getTimezoneOffset();return(M>0?"-":"+")+F(100*Math.floor(Math.abs(M)/60)+Math.abs(M)%60,4)}},m={D:[t,function(i,s){i.day=s}],Do:[new RegExp(t.source+I.source),function(f,c){f.day=aj(c,10)}],M:[t,function(f,u){f.month=u-1}],YY:[t,function(U,r){var E=new Date,e=+(""+E.getFullYear()).substr(0,2);U.year=""+(r>68?e-1:e)+r}],h:[t,function(q,m){q.hour=m}],m:[t,function(c,Y){c.minute=Y}],s:[t,function(E,Q){E.second=Q}],YYYY:[H,function(y,h){y.year=h}],S:[/\d/,function($,v){$.millisecond=100*v}],SS:[/\d{2}/,function(o,H){o.millisecond=10*H}],SSS:[e,function(j,m){j.millisecond=m}],d:[t,i],ddd:[I,i],MMM:[I,u("monthNamesShort")],MMMM:[I,u("monthNames")],a:[I,function(h,m,s){var V=m.toLowerCase();V===s.amPm[0]?h.isPm=!1:V===s.amPm[1]&&(h.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(i,L){"Z"===L&&(L="+00:00");var s,d=(L+"").match(/([\+\-]|\d\d)/gi);d&&(s=+(60*d[1])+aj(d[2],10),i.timezoneOffset="+"===d[0]?s:-s)}]};m.dd=m.d,m.dddd=m.ddd,m.DD=m.D,m.mm=m.m,m.hh=m.H=m.HH=m.h,m.MM=m.M,m.ss=m.s,m.A=m.a;var Y={"default":"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"};f.formatDate=function(B,g,i){if("ISO"===g)return B.toISOString();var u=i||O;if("number"==typeof B&&(B=new Date(B)),"[object Date]"!==A.prototype.toString.call(B)||isNaN(B.getTime()))throw new Error("Invalid Date in formatDate");g=Y[g]||g||Y["default"];var D=[];return g=g.replace(w,function($,F){return D.push(F),"??"}),g=g.replace(d,function(i){return i in L?L[i](B,u):i.slice(1,i.length-1)}),g.replace(/\?\?/g,function(){return D.shift()})},f.parseDate=function(G,T,b){if("ISO"===T)return new Date(G);var p=b||O;if("string"!=typeof T)throw new Error("Invalid format in parseDate");if(T=Y[T]||T,G.length>1e3)return!1;var l=!0,y={};if(T.replace(d,function(H){if(m[H]){var B=m[H],R=G.search(B[0]);~R?G.replace(B[0],function(k){return B[1](y,k,p),G=G.substr(R+k.length),k}):l=!1}return m[H]?"":H.slice(1,H.length-1)}),!l)return!1;var S=new Date;y.isPm===!0&&null!=y.hour&&12!==+y.hour?y.hour=+y.hour+12:y.isPm===!1&&12===+y.hour&&(y.hour=0);var H;return null!=y.timezoneOffset?(y.minute=+(y.minute||0)-+y.timezoneOffset,H=new Date(Date.UTC(y.year||S.getFullYear(),y.month||0,y.day||1,y.hour||0,y.minute||0,y.second||0,y.millisecond||0))):H=new Date(y.year||S.getFullYear(),y.month||0,y.day||1,y.hour||0,y.minute||0,y.second||0,y.millisecond||0),H}}(),H.NinePatch=function(b){var E=this;E.setImage(b);var y,N;N=u.createElement("canvas"),N.width=b.width,N.height=b.height,y=N.getContext("2d"),y.imageSmoothingEnabled=!1,y.drawImage(b,0,0);var z=y.getImageData(0,0,b.width,1).data,c=z[0]+","+z[1]+","+z[2]+","+z[3];E.setHorizontalPieces(E.$207u(z,c)),z=y.getImageData(0,0,1,b.height).data,E.setVerticalPieces(E.$207u(z,c)),z=y.getImageData(b.width-1,0,1,b.height).data,E.setPixelRatio(E.$206u(z,c))},sf("ht.ui.NinePatch",A,{ms_ac:["horizontalPieces","verticalPieces","image","pixelRatio"],ms_fire:!0,$206u:function(t,A){var j=t[4]+","+t[5]+","+t[6]+","+t[7];if(j==A)return 1;for(var e=1,n=8,E=t.length-4;E>n&&(j=t[n]+","+t[n+1]+","+t[n+2]+","+t[n+3],j!==A);n+=4)e++;return e},$207u:function(V,T){var F,M,N,D,Z,d=new Array;D=V[4]+","+V[5]+","+V[6]+","+V[7],F=D==T?"s":"d",M=1;for(var h=8,t=V.length-4;t>h;h+=4)D=V[h]+","+V[h+1]+","+V[h+2]+","+V[h+3],Z=D==T?"s":"d",F!=Z&&(N=h/4-M,d.push(new Array(F,M,N)),F=Z,M=h/4);return N=h/4-M,d.push(new Array(F,M,N)),d},draw:function(P,Q,d,R,N){var O=this,r=P.imageSmoothingEnabled;P.imageSmoothingEnabled=!1,P.beginPath();for(var a,e,A=O.getPixelRatio(),C=O.getHorizontalPieces(),Y=O.getVerticalPieces(),K=0,T=0,n=0,D=C.length;D>n;n++)"s"==C[n][0]?K+=C[n][2]/A:T++;a=(R-K)/T;var W=0;T=0;for(var n=0,D=Y.length;D>n;n++)"s"==Y[n][0]?W+=Y[n][2]/A:T++;e=(N-W)/T;for(var n=0,y=Y.length;y>n;n++){for(var o=0,D=C.length;D>o;o++){var t,s;t="d"==C[o][0]?a:C[o][2]/A,s="d"==Y[n][0]?e:Y[n][2]/A,P.drawImage(O.getImage(),C[o][1],Y[n][1],C[o][2],Y[n][2],Q,d,t,s),P.translate(t,0)}P.translate(-R,"s"==Y[n][0]?Y[n][2]/A:e)}P.translate(0,-N),P.imageSmoothingEnabled=r}}),H.Interactor=function(w){this.$280u=w},sf("ht.ui.Interactor",A,{ms_listener:1,getView:function(){return this.$280u._view},getComponent:function(){return this.$280u},addToTouchScrollClearQuene:function(H){var R=this;il&&(H.$362?H.$362.indexOf(R)<0&&H.$362.push(R):H.$362=[R])}}),A.defineProperties(H.Interactor.prototype,{disabled:{get:function(){return this.$280u.isDisabled()}}}),H.drawable.Drawable=function(){},sf("ht.ui.drawable.Drawable",A,{ms_fire:!0,draw:function(){},getSerializableProperties:function(){return{}}}),H.drawable.ColorDrawable=function(m,l){H.drawable.ColorDrawable.superClass.constructor.call(this),this.setColor(m),this.setRadius(l)},sf("ht.ui.drawable.ColorDrawable",H.drawable.Drawable,{ms_ac:[B,"radius"],_color:"black",_radius:0,draw:function(Y,t,R,x,_,V,z){var w,P,U,h,o=this,I=V.getRootContext(z),G=o.getRadius(),S=o.getColor();Jr(G)?(w=G[0],P=G[1],U=G[2],h=G[3]):w=P=U=h=G,I.beginPath(),G!=y?(I.fillStyle=S,tg(I,Y,t,R,x,w,P,U,h),I.fill()):(I.fillStyle=S,I.rect(Y,t,R,x),I.fill())},getSerializableProperties:function(){var C=H.drawable.ColorDrawable.superClass.getSerializableProperties.call(this);return Nf(C,{color:1,radius:1})}}),H.drawable.GradientColorDrawable=function(T,G,v,r){H.drawable.GradientColorDrawable.superClass.constructor.call(this),T!=y&&this.setStartColor(T),v&&this.setGradientType(v),G!=y&&this.setEndColor(G),r!=y&&this.setRadius(r)},sf("ht.ui.drawable.GradientColorDrawable",H.drawable.Drawable,{ms_ac:["startColor","gradientType","endColor","radius"],_startColor:"#fff",_endColor:"#000",_gradientType:"linear.southwest",_radius:0,draw:function(M,$,p,J,s,E,h){var f,o,l,N,W=this,i=E.getRootContext(h),d=W.getRadius(),e=O.createGradient(i,W.getGradientType(),W.getStartColor(),W.getEndColor(),M,$,p,J);Jr(d)?(f=d[0],o=d[1],l=d[2],N=d[3]):f=o=l=N=d,i.beginPath(),d!=y?(i.fillStyle=e,tg(i,M,$,p,J,f,o,l,N),i.fill()):(i.fillStyle=e,i.rect(M,$,p,J),i.fill())},getSerializableProperties:function(){var u=H.drawable.GradientColorDrawable.superClass.getSerializableProperties.call(this);return Nf(u,{startColor:1,gradientType:1,endColor:1,radius:1})}}),H.drawable.GradientPackDrawable=function(s){H.drawable.GradientPackDrawable.superClass.constructor.call(this),this.setPack(s)},sf("ht.ui.drawable.GradientPackDrawable",H.drawable.Drawable,{ms_ac:["pack"],draw:function(C,s,a,w,f,z,T){var U=this,y=z.getRootContext(T),c=U.getPack();if("string"==typeof c&&(c=JSON.parse(c)),Jr(c)){var H={width:a,height:w,comps:[{type:"rect",rect:[0,0,a,w],gradientPack:c}]};O.drawImage(y,H,C,s,a,w)}},getSerializableProperties:function(){var u=H.drawable.GradientPackDrawable.superClass.getSerializableProperties.call(this);return Nf(u,{pack:1})}}),H.drawable.ImageDrawable=function(d,m,Y,w){H.drawable.ImageDrawable.superClass.constructor.call(this),this.setImage(d),m&&this.setStretch(m),Y!=y&&this.setColorTint(Y),w!=y&&this.setRect(w)},sf("ht.ui.drawable.ImageDrawable",H.drawable.Drawable,{ms_ac:["image","stretch","colorTint","rect"],_stretch:"centerUniform",draw:function(V,s,k,X,z,f,d){var q=this,J=f.getRootContext(d),w=q.getColorTint(),H=fp(q.getImage(),w),M=q.getRect();if(H){M||(M={x:V,y:s,width:k,height:X});var t=M.x,N=M.y,x=M.width,Y=M.height;x==oo?x=k-(isNaN(t)?0:t):x===rj&&(x=H?H.width:k),Y==oo?Y=X-(isNaN(N)?0:N):Y===rj&&(Y=H?H.height:X),t===dn?t=0:t===mo?t=k-x:t===es&&(t=(k-x)/2),N===om?N=0:N===Rb?N=X-Y:N===rr&&(N=(X-Y)/2),J.beginPath(),ql(J,H,q.getStretch(),t,N,x,Y,z,f,w)}},getSerializableProperties:function(){var F=H.drawable.ImageDrawable.superClass.getSerializableProperties.call(this);return Nf(F,{image:1,stretch:1,colorTint:1,rect:1})}}),H.drawable.NinePatchImageDrawable=function(e,r){H.drawable.NinePatchImageDrawable.superClass.constructor.call(this),e!==C&&this.setImage(e),r!==C&&this.setColorTing(r)},sf("ht.ui.drawable.NinePatchImageDrawable",H.drawable.Drawable,{ms_ac:["image","colorTint"],onPropertyChanged:function(){this.ninePatch=y},draw:function(e,R,T,a,N,L,x){var Q=this,K=Q.ninePatch;if(!K){var h=fp(Q.getImage(),Q.getColorTint());h&&(K=Q.ninePatch=new H.NinePatch(h))}if(K){var g=L.getRootContext(x);g.beginPath(),K.draw(g,e,R,T,a)}},getSerializableProperties:function(){var c=H.drawable.NinePatchImageDrawable.superClass.getSerializableProperties.call(this);return Nf(c,{image:1,colorTint:1})}}),H.drawable.TabBackgroundDrawable=function(s,O,o){var q=this;H.drawable.TabBackgroundDrawable.superClass.constructor.call(q),s!=y&&q.setBorderWidth(s),O!=y&&q.setBorderColor(O),o!=y&&q.setBackground(o)},sf("ht.ui.drawable.TabBackgroundDrawable",H.drawable.Drawable,{ms_ac:["borderWidth","borderColor","background"],draw:function(w,I,Y,S,v,n,d){var b=this,$=n.getRootContext(d),L=b.getBorderWidth(),Q=L/2,F=b.getBackground(),u=b.getBorderColor(),t=n.getTabPosition(),E=n.getVisibleChildren(),K=0===E.indexOf(v);E.indexOf(v)===E.size()-1,F!=y&&($.beginPath(),$.rect(w,I,Y,S),$.fillStyle=F,$.fill()),u!=y&&($.beginPath(),t===om||t===Rb||"top-right"===t||"top-center"==t?K?($.rect(w+Q,I+Q,Y-L,S-L),$.strokeStyle=u,$.lineWidth=L,$.stroke()):($.rect(w,I,Y,L),$.fillStyle=u,$.fill(),$.beginPath(),$.rect(w+Y-L,I,L,S),$.fillStyle=u,$.fill(),$.beginPath(),$.rect(w,I+S-L,Y,L),$.fillStyle=u,$.fill()):t===dn||t===mo?K?($.rect(w+Q,I+Q,Y-L,S-L),$.strokeStyle=u,$.lineWidth=L,$.stroke()):($.rect(w,I,L,S),$.fillStyle=u,$.fill(),$.beginPath(),$.rect(w+Y-L,I,L,S),$.fillStyle=u,$.fill(),$.beginPath(),$.rect(w,I+S-L,Y,L),$.fillStyle=u,$.fill()):"left-vertical"===t?K?($.rect(w+Q,I+Q,Y-L,S-L),$.strokeStyle=u,$.lineWidth=L,$.stroke()):($.rect(w,I,L,S),$.fillStyle=u,$.fill(),$.beginPath(),$.rect(w,I,Y,L),$.fillStyle=u,$.fill(),$.beginPath(),$.rect(w,I+S-L,Y,L),$.fillStyle=u,$.fill()):"right-vertical"===t&&(K?($.rect(w+Q,I+Q,Y-L,S-L),$.strokeStyle=u,$.lineWidth=L,$.stroke()):($.rect(w,I,Y,L),$.fillStyle=u,$.fill(),$.beginPath(),$.rect(w+Y-L,I,L,S),$.fillStyle=u,$.fill(),$.beginPath(),$.rect(w,I+S-L,Y,L),$.fillStyle=u,$.fill())))},getSerializableProperties:function(){var _=H.drawable.TabBackgroundDrawable.superClass.getSerializableProperties.call(this);return Nf(_,{borderWidth:1,borderColor:1,background:1})}}),H.drawable.TabBackgroundLineDrawable=function(C,G,T,f){var u=this;H.drawable.TabBackgroundLineDrawable.superClass.constructor.call(u),G!=y&&u.setColor(G),C!=y&&u.setLineWidth(C),T!=y&&u.setPosition(T),f!=y&&u.setBackground(f)},sf("ht.ui.drawable.TabBackgroundLineDrawable",H.drawable.Drawable,{ms_ac:[B,"lineWidth","position","background"],draw:function(n,d,T,R,Q,$,K){var H=this,X=$.getRootContext(K),j=H.getColor(),D=H.getPosition(),q=H.getLineWidth(),o=H.getBackground(),S=$.getTabPosition(),D=H.getPosition();o!=y&&(X.beginPath(),X.rect(n,d,T,R),X.fillStyle=o,X.fill()),j!=y&&(X.beginPath(),S===om||"top-right"===S||"top-center"===S?"outside"===D?(X.rect(n,d,T,q),X.fillStyle=j,X.fill()):(X.rect(n,d+R-q,T,q),X.fillStyle=j,X.fill()):S===Rb?"outside"===D?(X.rect(n,d+R-q,T,q),X.fillStyle=j,X.fill()):(X.rect(n,d,T,q),X.fillStyle=j,X.fill()):S===dn?"outside"===D?(X.rect(n,d,q,R),X.fillStyle=j,X.fill()):(X.rect(n+T-q,d,q,R),X.fillStyle=j,X.fill()):S===mo?"outside"===D?(X.rect(n+T-q,d,q,R),X.fillStyle=j,X.fill()):(X.rect(n,d,q,R),X.fillStyle=j,X.fill()):"left-vertical"===S?"outside"===D?(X.rect(n,d,T,q),X.fillStyle=j,X.fill()):(X.rect(n,d+R-q,T,q),X.fillStyle=j,X.fill()):"right-vertical"===S&&("outside"===D?(X.rect(n,d,T,q),X.fillStyle=j,X.fill()):(X.rect(n,d+R-q,T,q),X.fillStyle=j,X.fill())))},getSerializableProperties:function(){var i=H.drawable.TabBackgroundLineDrawable.superClass.getSerializableProperties.call(this);return Nf(i,{lineWidth:1,color:1,position:1,background:1})}}),H.drawable.PanelHeaderBackgroundDrawable=function(b,g,i,P){H.drawable.PanelHeaderBackgroundDrawable.superClass.constructor.call(this),b!=y&&this.setBorderSize(b),g!=y&&this.setBorderColor(g),i!=y&&this.setStartColor(i),P!=y&&this.setEndColor(P)},sf("ht.ui.drawable.PanelHeaderBackgroundDrawable",H.drawable.Drawable,{ms_ac:["borderColor","borderSize","startColor","endColor"],draw:function(X,n,B,V,m,x,$){var M=this,R=x.getRootContext($),N=M.getBorderColor(),G=M.getBorderSize(),k=M.getStartColor(),s=M.getEndColor();if(R.beginPath(),R.rect(X,n,B,V),s!=y){var Q=R.createLinearGradient(X,n,X+B,n);Q.addColorStop(0,k),Q.addColorStop(1,s),R.fillStyle=Q}else R.fillStyle=k;R.fill(),R.beginPath(),R.rect(X,n+V-G,B,G),R.fillStyle=N,R.fill()},getSerializableProperties:function(){var P=H.drawable.PanelHeaderBackgroundDrawable.superClass.getSerializableProperties.call(this);return Nf(P,{borderColor:1,borderSize:1,startColor:1,endColor:1})}}),H.drawable.SliderBarDrawable=function(_,f,L){H.drawable.SliderBarDrawable.superClass.constructor.call(this),_!=y&&this.setStartColor(_),f!=y&&this.setEndColor(f),L!=y&&this.setRadius(L)},sf("ht.ui.drawable.SliderBarDrawable",H.drawable.Drawable,{ms_ac:["startColor","endColor","radius"],_radius:4,draw:function(t,N,l,r,A,O,a){var x=this,K=O.getRootContext(a),q=O.getOrientation(),E=x.getStartColor(),C=x.getEndColor(),X=x.getRadius();if(K.beginPath(),0>l&&(l=0),0>r&&(r=0),tg(K,t,N,l,r,X),"h"===q||"horizontal"===q){if(C!=y){var L=K.createLinearGradient(t,N,t+l,N);L.addColorStop(0,E),L.addColorStop(1,C),K.fillStyle=L}else K.fillStyle=E;K.fill()}else if("v"===q||"vertical"===q){if(C!=y){var L=K.createLinearGradient(t,N,t,N+r);L.addColorStop(0,C),L.addColorStop(1,E),K.fillStyle=L}else K.fillStyle=E;K.fill()}},getSerializableProperties:function(){var V=H.drawable.SliderBarDrawable.superClass.getSerializableProperties.call(this);return Nf(V,{startColor:1,endColor:1,radius:1})}}),H.drawable.DateTimePaneSelectGridDrawable=function($,i,A){H.drawable.DateTimePaneSelectGridDrawable.superClass.constructor.call(this),this.setBorderColor($),this.setRadius(A),this.setBackground(i)},sf("ht.ui.drawable.DateTimePaneSelectGridDrawable",H.drawable.Drawable,{ms_ac:["borderColor","radius","background"],draw:function(c,h,o,Q,X,Y,I){var f=this,p=Y.getRootContext(I),B=f.getRadius(),t=f.getBorderColor(),l=f.getBackground();p.beginPath(),B!=y&&0!==B?(B===!0?p.arc(c+o/2,h+Q/2,N(o/2,Q/2),0,2*Math.PI):tg(p,c,h,o,Q,B,B,B,B),t!=y&&""!==t&&(p.strokeStyle=t,p.stroke()),l!=y&&(p.fillStyle=l,p.fill())):(p.rect(c,h,o,Q),l!=y&&(p.fillStyle=l,p.fill()),t!==y&&(p.beginPath(),O.drawBorder(p,t,c,h,o,Q,1)))},getSerializableProperties:function(){var a=H.drawable.DateTimePaneSelectGridDrawable.superClass.getSerializableProperties.call(this);return Nf(a,{borderColor:1,background:1,radius:1})}}),H.drawable.GroupButtonBackgroundDrawable=function(w,I){H.drawable.GroupButtonBackgroundDrawable.superClass.constructor.call(this),null!=w&&this.setColor(w),null!=I&&this.setBackground(I)},sf("ht.ui.drawable.GroupButtonBackgroundDrawable",H.drawable.Drawable,{ms_ac:[B,"background"],draw:function(O,J,P,u,R,s,Y){var v=this,n=s.getRootContext(Y),m=v.getBackground(),S=v.getColor(),p=s.getBorderRadius(),Q=s._parent;if(Q){var D=Q.getVisibleChildren(),A=D.indexOf(s),K=D.size(),f=0===A,o=A===K-1;null!=m&&(n.beginPath(),n.rect(O,J,P,u),n.fillStyle=m,n.fill()),null!=S&&(n.beginPath(),Q instanceof H.HBoxLayout?f?(n.strokeStyle=S,n.lineWidth=1,p==y?n.rect(O+.5,J+.5,P-1,u-1):Jr(p)?tg(n,O+.5,J+.5,P-1,u-1,p[0],p[1],p[3],p[2]):tg(n,O+.5,J+.5,P-1,u-1,p,0,p,0),n.stroke()):o?(n.strokeStyle=S,n.lineWidth=1,p==y?n.rect(O+.5,J+.5,P-1,u-1):Jr(p)?tg(n,O+.5,J+.5,P-1,u-1,p[0],p[1],p[3],p[2]):tg(n,O+.5,J+.5,P-1,u-1,0,p,0,p),n.stroke()):(n.rect(O,J,P,1),n.fillStyle=S,n.fill(),K-2>A&&(n.beginPath(),n.rect(O+P-1,J,1,u),n.fillStyle=S,n.fill()),n.beginPath(),n.rect(O,J+u-1,P,1),n.fillStyle=S,n.fill()):f?(n.strokeStyle=S,n.lineWidth=1,p==y?n.rect(O+.5,J+.5,P-1,u-1):Jr(p)?tg(n,O+.5,J+.5,P-1,u-1,p[0],p[1],p[3],p[2]):tg(n,O+.5,J+.5,P-1,u-1,p,p,0,0),n.stroke()):o?(n.strokeStyle=S,n.lineWidth=1,p==y?n.rect(O+.5,J+.5,P-1,u-1):Jr(p)?tg(n,O+.5,J+.5,P-1,u-1,p[0],p[1],p[3],p[2]):tg(n,O+.5,J+.5,P-1,u-1,0,0,p,p),n.stroke()):(n.rect(O,J,1,u),n.fillStyle=S,n.fill(),n.beginPath(),n.rect(O+P-1,J,1,u),n.fillStyle=S,n.fill(),K-2>A&&(n.beginPath(),n.rect(O,J+u-1,P,1),n.fillStyle=S,n.fill())))}},getSerializableProperties:function(){var A=H.drawable.GroupButtonBackgroundDrawable.superClass.getSerializableProperties.call(this);return Nf(A,{color:1,background:1})}}),H.drawable.BreadcrumbItemBackgroundDrawable=function(j,W,G){H.drawable.BreadcrumbItemBackgroundDrawable.superClass.constructor.call(this),this.setBorderWidth(j),this.setBorderColor(W),this.setBackground(G)},sf("ht.ui.drawable.BreadcrumbItemBackgroundDrawable",H.drawable.Drawable,{ms_ac:["borderWidth","borderColor","background"],drawPath:function(r,c,x,C,G,U,m){r.beginPath(),0===U?(r.moveTo(c,x),r.lineTo(c,x+G),r.lineTo(c+C-10,x+G),r.lineTo(c+C,x+G/2),r.lineTo(c+C-10,x),r.closePath()):U===m-1?(r.moveTo(c,x),r.lineTo(c+10,x+G/2),r.lineTo(c,x+G),r.lineTo(c+C,x+G),r.lineTo(c+C,x),r.closePath()):(r.moveTo(c,x),r.lineTo(c+10,x+G/2),r.lineTo(c,x+G),r.lineTo(c+C-10,x+G),r.lineTo(c+C,x+G/2),r.lineTo(c+C-10,x),r.closePath())},draw:function(L,F,q,$,B,t,u){var i=this,f=t.getRootContext(u),v=i.getBorderColor(),I=t.getItems(),G=I.indexOf(B);i.drawPath(f,L,F,q,$,G,I.length);var E=i.getBackground();E!=y&&(f.fillStyle=E,f.fill());var j=i.getBorderWidth(),U=j/2;i.drawPath(f,L+U,F+U,q-j,$-j,G,I.length),f.strokeStyle=v,f.stroke()},getSerializableProperties:function(){var B=H.drawable.BreadcrumbItemBackgroundDrawable.superClass.getSerializableProperties.call(this);return Nf(B,{borderWidth:1,borderColor:1,background:1})}}),H.drawable.ContextMenuScrollIndicatorDrawable=function(l,d,R){H.drawable.ContextMenuScrollIndicatorDrawable.superClass.constructor.call(this),l!=y&&this.setDirection(l),d!=y&&this.setBackgroundColor(d),R!=y&&this.setForegroundColor(R)},sf("ht.ui.drawable.ContextMenuScrollIndicatorDrawable",H.drawable.Drawable,{ms_ac:["direction","backgroundColor","foregroundColor"],draw:function(K,T,M,C,f,G,A){var R=this,e=G.getRootContext(A),g=R.getBackgroundColor(),c=R.getForegroundColor(),s=R.getDirection();if(e.beginPath(),e.rect(K,T,M,C),e.fillStyle=g,e.fill(),"up"===s){var w={width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:c}]};ql(e,w,"centerUniform",K,T,M,C,y,R)}else{var w={width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:c,rotation:3.14}]};ql(e,w,"centerUniform",K,T,M,C,y,R)}},getSerializableProperties:function(){var h=H.drawable.ContextMenuScrollIndicatorDrawable.superClass.getSerializableProperties.call(this);return Nf(h,{direction:1,backgroundColor:1,foregroundColor:1})}}),H.drawable.StripedRowBackgroundDrawable=function(X){H.drawable.StripedRowBackgroundDrawable.superClass.constructor.call(this),X!=y&&this.setColors(X)},sf("ht.ui.drawable.StripedRowBackgroundDrawable",H.drawable.Drawable,{ms_ac:["colors"],draw:function(n,G,x,t,w,m,Q){var s=this,P=m.getRootContext(Q),k=s.getColors(),z=m.getRowDatas().indexOf(w);P.beginPath(),P.rect(n,G,x,t),P.fillStyle=k[z%k.length],P.fill()},getSerializableProperties:function(){var f=H.drawable.StripedRowBackgroundDrawable.superClass.getSerializableProperties.call(this);return Nf(f,{colors:1})}}),H.border.Border=function(){},sf("ht.ui.border.Border",A,{ms_fire:!0,isCSSBorder:function(){return!1},getLeft:function(){return 0},getRight:function(){return 0},getTop:function(){return 0},getBottom:function(){return 0},drawBorder:function(){},tearDownBorder:function(){},getSerializableProperties:function(){return{}}}),H.border.LineBorder=function(m,s,x){H.border.LineBorder.superClass.constructor.call(this),m!=y&&this.setWidth(m),s!=y&&this.setColor(s),x!=y&&this.setRadius(x)},sf("ht.ui.border.LineBorder",H.border.Border,{ms_ac:[bd,B,"radius"],_width:1,_color:"black",getLeft:function(){return this.getWidth()},getRight:function(){return this.getWidth()},getTop:function(){return this.getWidth()},getBottom:function(){return this.getWidth()},drawBorder:function(j,v,q,G,i,l){var F=this,e=F.getWidth(),N=F.getColor(),I=F.getRadius();if(e&&N){var W=i.getRootContext(l);if(I!==C&&""!==I||!i.getBorderRadius||(I=i.getBorderRadius()),I){var k,d,O,o;Jr(I)?(k=aj(I[0]),d=aj(I[1]),o=aj(I[2]),O=aj(I[3])):k=d=o=O=aj(I),W.beginPath();var X=q-e,w=G-e;0>X&&(X=0),0>w&&(w=0),tg(W,j+e/2,v+e/2,X,w,k,d,O,o),W.strokeStyle=N,W.lineWidth=e,W.stroke()}else vr(W,N,j,v,q,G,e)}},getSerializableProperties:function(){var D=H.border.LineBorder.superClass.getSerializableProperties.call(this);return Nf(D,{width:1,color:1,radius:1})}}),H.border.FocusLineBorder=function(c,K,B,U){H.border.FocusLineBorder.superClass.constructor.call(this),c!=y&&this.setWidth(c),K!=y&&this.setColor(K),B!=y&&this.setFocusColor(B),U!=y&&this.setRadius(U)},sf("ht.ui.border.FocusLineBorder",H.border.Border,{ms_ac:[bd,B,"focusColor","radius"],_width:1,_color:"black",getLeft:function(){var L=this.getWidth();return Jr(L)?L[3]:L},getRight:function(){var r=this.getWidth();return Jr(r)?r[1]:r},getTop:function(){var Y=this.getWidth();return Jr(Y)?Y[0]:Y},getBottom:function(){var c=this.getWidth();return Jr(c)?c[2]:c},drawBorder:function(d,X,G,p,s,Z){if(!(0>=G||0>=p)){var I=this,Y=I.getWidth(),b=I.getColor(),D=I.getFocusColor(),t=I.getRadius(),o=s.hasFocus()?D:b;if(Y){var R=s.getRootContext(Z);if(t===C&&s.getBorderRadius&&(t=s.getBorderRadius(),Array.isArray(t)||(t=aj(t))),Jr(Y)){var A=I.getLeft(),E=I.getRight(),c=I.getTop(),i=I.getBottom();A&&(R.beginPath(),R.rect(d,X,A,p),R.fillStyle=o,R.fill()),E&&(R.beginPath(),R.rect(d+G-E,X,E,p),R.fillStyle=o,R.fill()),c&&(R.beginPath(),R.rect(d,X,G,c),R.fillStyle=o,R.fill()),i&&(R.beginPath(),R.rect(d,X+p-i,G,i),R.fillStyle=o,R.fill())}else if(t){var l,q,k,y;Jr(t)?(l=aj(t[0]),q=aj(t[1]),y=aj(t[2]),k=aj(t[3])):l=q=y=k=aj(t),R.beginPath(),tg(R,d+Y/2,X+Y/2,G-Y,p-Y,l,q,k,y),R.strokeStyle=o,R.lineWidth=Y,R.stroke()}else vr(R,o,d,X,G,p,Y)}}},getSerializableProperties:function(){var P=H.border.FocusLineBorder.superClass.getSerializableProperties.call(this);return Nf(P,{width:1,color:1,focusColor:1,radius:1})}}),H.border.IndividualLineBorder=function(v,s,I,e,F){H.border.IndividualLineBorder.superClass.constructor.call(this),v!=y&&this.setTop(v),s!=y&&this.setRight(s),I!=y&&this.setBottom(I),e!=y&&this.setLeft(e),F!=y&&this.setColor(F)},sf("ht.ui.border.IndividualLineBorder",H.border.Border,{ms_ac:[dn,mo,om,Rb,B],_top:1,_right:1,_bottom:1,_left:1,_color:"black",drawBorder:function(R,F,T,Y,q,M){var f=this,r=f.getLeft(),e=f.getRight(),J=f.getTop(),m=f.getBottom(),D=f.getColor(),I=q.getRootContext(M);r&&(I.beginPath(),I.rect(R,F,r,Y),I.fillStyle=D,I.fill()),e&&(I.beginPath(),I.rect(R+T-e,F,e,Y),I.fillStyle=D,I.fill()),J&&(I.beginPath(),I.rect(R,F,T,J),I.fillStyle=D,I.fill()),m&&(I.beginPath(),I.rect(R,F+Y-m,T,m),I.fillStyle=D,I.fill())},getSerializableProperties:function(){var $=H.border.IndividualLineBorder.superClass.getSerializableProperties.call(this);return Nf($,{left:1,right:1,top:1,bottom:1,color:1})}}),H.border.PopoverBorder=function(P,B){H.border.LineBorder.superClass.constructor.call(this),null!=P&&this.setWidth(P),null!=B&&this.setColor(B)},sf("ht.ui.border.PopoverBorder",H.border.Border,{ms_ac:[bd,B],_width:1,_color:M.borderColor,getLeft:function(){return 10},getRight:function(){return 10},getTop:function(){return 10},getBottom:function(){return 10},drawBorder:function(S,g,s,f,D,P){var w=this,_=w.getWidth(),l=w.getColor(),U=D.getBorderRadius()||0,p=D.getPlacement();if(S+=10,g+=10,s-=20,f-=20,_&&l){var T=D.getRootContext(P);T.save();var G=D.getBoxShadow();if(G){var B=G.split(/\s+/);if(B.length>2){var $=aj(B[0]),C=aj(B[1]),e=aj(B[2]),F=B[3];T.shadowOffsetX=$,T.shadowOffsetY=C,T.shadowBlur=e,T.shadowColor=F}}T.beginPath(),tg(T,S-_/2,g-_/2,s+_,f+_,U,U,U,U),T.strokeStyle=l,T.lineWidth=_,T.stroke(),T.restore(),T.strokeStyle=l,T.lineWidth=_,T.beginPath(),p===Rb?(T.clearRect(S+s/2-6,g-_,12,_),T.moveTo(S+s/2-6,g),T.lineTo(S+s/2,g-8),T.lineTo(S+s/2+6,g)):"bottomLeft"===p?(T.clearRect(S+10,g-_,12,_),T.moveTo(S+10,g),T.lineTo(S+10+6,g-8),T.lineTo(S+10+12,g)):"bottomRight"===p?(T.clearRect(S+s-10-12,g-_,12,_),T.moveTo(S+s-10-12,g),T.lineTo(S+s-10-6,g-8),T.lineTo(S+s-10,g)):p===om?(T.clearRect(S+s/2-6,g+f,12,_),T.moveTo(S+s/2-6,g+f),T.lineTo(S+s/2,g+f+8),T.lineTo(S+s/2+6,g+f)):"topLeft"===p?(T.clearRect(S+10,g+f,12,_),T.moveTo(S+10,g+f),T.lineTo(S+10+6,g+f+8),T.lineTo(S+10+12,g+f)):"topRight"===p?(T.clearRect(S+s-10-12,g+f,12,_),T.moveTo(S+s-10-12,g+f),T.lineTo(S+s-10-6,g+f+8),T.lineTo(S+s-10,g+f)):p===dn?(T.clearRect(S+s,g+f/2-6,_,12),T.moveTo(S+s,g+f/2-6),T.lineTo(S+s+8,g+f/2),T.lineTo(S+s,g+f/2+6)):"leftTop"===p?(T.clearRect(S+s,g+10,_,12),T.moveTo(S+s,g+10),T.lineTo(S+s+8,g+10+6),T.lineTo(S+s,g+10+12)):"leftBottom"===p?(T.clearRect(S+s,g+f-10-12,_,12),T.moveTo(S+s,g+f-10-12),T.lineTo(S+s+8,g+f-10-6),T.lineTo(S+s,g+f-10)):p===mo?(T.clearRect(S-_,g+f/2-6,_,12),T.moveTo(S,g+f/2-6),T.lineTo(S-8,g+f/2),T.lineTo(S,g+f/2+6)):"rightTop"===p?(T.clearRect(S-_,g+10,_,12),T.moveTo(S,g+10),T.lineTo(S-8,g+10+6),T.lineTo(S,g+10+12)):"rightBottom"===p&&(T.clearRect(S-_,g+f-10-12,_,12),T.moveTo(S,g+f-10-12),T.lineTo(S-8,g+f-10-6),T.lineTo(S,g+f-10)),T.fillStyle=D.getArrowBackgroundColor(),T.strokeStyle=l,T.lineWidth=_,T.fill(),T.stroke()}},getSerializableProperties:function(){var r=H.border.LineBorder.superClass.getSerializableProperties.call(this);return Nf(r,{width:1,color:1})}}),H.border.CSSBorder=function(J,T,F){H.border.CSSBorder.superClass.constructor.call(this);var i=this;J!=y&&i.setWidth(J),T!=y&&i.setColor(T),F!=y&&i.setStyle(F)},sf("ht.ui.border.CSSBorder",H.border.Border,{ms_ac:[bd,B,_f],_style:"solid",_color:"black",_width:1,isCSSBorder:function(){return!0},getLeft:function(){var x=this.getWidth();return Jr(x)?x[3]:x},getRight:function(){var a=this.getWidth();return Jr(a)?a[1]:a},getTop:function(){var s=this.getWidth();return Jr(s)?s[0]:s},getBottom:function(){var G=this.getWidth();return Jr(G)?G[2]:G},getLeftColor:function(){var n=this.getColor();return Jr(n)?n[3]:n},getRightColor:function(){var b=this.getColor();return Jr(b)?b[1]:b},getTopColor:function(){var _=this.getColor();return Jr(_)?_[0]:_},getBottomColor:function(){var u=this.getColor();return Jr(u)?u[2]:u},getLeftStyle:function(){var E=this.getStyle();return Jr(E)?E[3]:E},getRightStyle:function(){var $=this.getStyle();return Jr($)?$[1]:$},getTopStyle:function(){var c=this.getStyle();return Jr(c)?c[0]:c},getBottomStyle:function(){var c=this.getStyle();return Jr(c)?c[2]:c},drawBorder:function(e,s,H,F,K,W){var V=this;W=W?W:K._view;var z=W.style;z.borderLeft=V.getLeft()+vl+" "+V.getLeftStyle()+" "+V.getLeftColor(),z.borderRight=V.getRight()+vl+" "+V.getRightStyle()+" "+V.getRightColor(),z.borderTop=V.getTop()+vl+" "+V.getTopStyle()+" "+V.getTopColor(),z.borderBottom=V.getBottom()+vl+" "+V.getBottomStyle()+" "+V.getBottomColor()},tearDownBorder:function(p,L,j,P,D,J){J=J?J:D._view;var Y=J.style;Y.borderLeft="",Y.borderRight="",Y.borderTop="",Y.borderBottom=""},getSerializableProperties:function(){var v=H.border.CSSBorder.superClass.getSerializableProperties.call(this);return Nf(v,{width:1,color:1,style:1})}}),H.OverScrollEffect=function(){H.OverScrollEffect.superClass.constructor.call(this)
},sf("ht.ui.OverScrollEffect",A,{ms_fire:!0,beginPan:function(){},betweenPan:function(){},endPan:function(){},handleOverScroll:function(){},getSerializableProperties:function(){return{}}}),H.IconOverScrollEffect=function(Q){H.IconOverScrollEffect.superClass.constructor.call(this,Q)},sf("ht.ui.IconOverScrollEffect",H.OverScrollEffect,{ui_ac:["drawable:pulldown"],__pulldown:"ui_pulldown",beginPan:function(K){var g=this;K._temporaryLoadingDiv&&g.endTransient(K),K.validateImpl=function(r,l,m,Q){this.getClass().prototype.validateImpl.call(this,r,l,m,Q);var b=K._pulldownCanvas;b||(b=K._pulldownCanvas=Hi(y,!0),b.style.pointerEvents="none",K.getView().appendChild(b));var N=K.getZoom(),L=K.getCurrentBorder();L&&L.isCSSBorder()?Yh(b,(K.getWidth()-K.getBorderLeft()-K.getBorderRight())*N,(K.getHeight()-K.getBorderTop()-K.getBorderBottom())*N):Yh(b,K.getWidth()*N,K.getHeight()*N);var S=g.getPulldownDrawable();if("y"===this._overScrollDirection){var q=this._overScrollTranslate.ty,k=this.getMinTy();q>0?g.drawPulldown(S,r,l,m,2*q,K,b):k>q&&g.drawPulldown(S,r,l+this.getContentHeight()-2*(k-q),m,2*(k-q),K,b)}else if("x"===this._overScrollDirection){var Z=this._overScrollTranslate.tx,o=this.getMinTx();Z>0?g.drawPulldown(S,r,l,2*Z,Q,K,b):o>Z&&g.drawPulldown(S,r+this.getContentWidth()-2*(o-Z),l,2*(o-Z),Q,K,b)}}},betweenPan:function(d,a){var q=a.translateOffsetX,x=a.translateOffsetY;d._overScrollDirection||(D(x)-D(q)>5?(d._overScrollDirection="y",d.setTranslateX=function(){}):D(q)-D(x)>5&&(d._overScrollDirection="x",d.setTranslateY=function(){}));var U=d.getMinTy(),y=d.getMinTx(),k=a.translateY,B=a.translateX;k>0?k=N(k,d.getOverScrollTop()):U>k&&(k=s(k,U-d.getOverScrollBottom())),B>0?B=N(B,d.getOverScrollLeft()):y>B&&(B=s(B,y-d.getOverScrollRight())),d._overScrollTranslate={tx:B,ty:k},d.iv()},getOverScrollDirecrtion:function(C){return C._overScrollDirection},endPan:function(o,m,B,F){var l=function(){o.validateImpl=o.getClass().prototype.validateImpl,o.setTranslateY=o.getClass().prototype.setTranslateY,o.setTranslateX=o.getClass().prototype.setTranslateX,o._pulldownCanvas&&o._pulldownCanvas.parentNode.removeChild(o._pulldownCanvas),delete o._overScrollDirection,delete o._overScrollTranslate,delete o._pulldownCanvas,F&&F(),o.iv()};if("y"===o._overScrollDirection){var x=o._overScrollTranslate.ty,r=o.getMinTy();x>0?B===!1?l():O.startAnim({duration:400,finishFunc:l,action:function(M){o._overScrollTranslate.ty=o._overScrollTranslate.ty*(1-M),o.iv()}}):r>x?B===!1?l():O.startAnim({duration:400,finishFunc:l,action:function(U){o._overScrollTranslate.ty=r+(o._overScrollTranslate.ty-r)*(1-U),o.iv()}}):l()}else if("x"===o._overScrollDirection){var E=o._overScrollTranslate.tx,U=o.getMinTx();E>0?B===!1?l():O.startAnim({duration:100,finishFunc:l,action:function(R){o._overScrollTranslate.tx=o._overScrollTranslate.tx*(1-R),o.iv()}}):U>E?B===!1?l():O.startAnim({duration:100,finishFunc:l,action:function(V){o._overScrollTranslate.tx=U+(o._overScrollTranslate.tx-U)*(1-V),o.iv()}}):l()}else l()},beginTransient:function(E,S,y,b,J){if(J=J||E._overScrollDirection,H.IconOverScrollEffect.prototype.endPan(E,null,!1),"y"===J){var o=E.getMinTy(),C=0;if(y>C){var f;if(S instanceof HTMLElement)f=S;else if(f=O.createDiv(),f.style.backgroundImage="url("+S+")",f.style.backgroundRepeat="no-repeat",f.style.backgroundPosition="center",f.style.pointerEvents="none",f.style.width="100%",f.style.top=E.getContentTop()+"px",f.style.height=y+"px",b)for(var M in b)f.style[M]=b[M];E.getView().appendChild(f),E._temporaryLoadingDiv=f}else if(o>y){var f;if(S instanceof HTMLElement)f=S;else if(f=O.createDiv(),f.style.backgroundImage="url("+S+")",f.style.backgroundRepeat="no-repeat",f.style.backgroundPosition="center",f.style.pointerEvents="none",f.style.width="100%",f.style.height=o-y+"px",f.style.bottom=E.getContentBottom()+"px",b)for(var M in b)f.style[M]=b[M];E.getView().appendChild(f),E._temporaryLoadingDiv=f}}else if("x"===J){var m=E.getMinTx(),I=0;if(y>I){var f;if(S instanceof HTMLElement)f=S;else if(f=O.createDiv(),f.style.backgroundImage="url("+S+")",f.style.backgroundRepeat="no-repeat",f.style.backgroundPosition="center",f.style.pointerEvents="none",f.style.width=y+"px",f.style.height="100%",f.style.left=E.getContentLeft()+"px",b)for(var M in b)f.style[M]=b[M];E.getView().appendChild(f),E._temporaryLoadingDiv=f}else if(m>y){var f;if(S instanceof HTMLElement)f=S;else if(f=O.createDiv(),f.style.backgroundImage="url("+S+")",f.style.backgroundRepeat="no-repeat",f.style.backgroundPosition="center",f.style.pointerEvents="none",f.style.width=m-y+"px",f.style.height="100%",f.style.right=E.getContentRight()+"px",b)for(var M in b)f.style[M]=b[M];E.getView().appendChild(f),E._temporaryLoadingDiv=f}}},endTransient:function(o){o._temporaryLoadingDiv&&(o.getView().removeChild(o._temporaryLoadingDiv),delete o._temporaryLoadingDiv)},drawPulldown:function(P,w,Y,L,r,f,g){P.draw(w,Y,L,r,new z.Node,f,g)},getSerializableProperties:function(){return{pulldown:1,pulldownDrawable:1}}});var ag={translateX:1,sortColumn:1},Ed={sortable:1,sortOrder:1,sortFunc:1},El={focusData:1},Jp={dataModel:1,sortColumn:1,sortFunc:1,visibleFunc:1,rootData:1,rootVisible:1},$c={propertyModel:1,dataModel:1,sortFunc:1,visibleFunc:1,categorizable:1},rm=function(x,T){T.add(x),x.hasChildren()&&x.eachChild(function(W){rm(W,T)})},eg=function(h,p,D,t,R,V,I,k,a,J,C){var X=D.getValueType(J),s=C instanceof H.PropertyView?C.getValueAlign(D):D.getAlign();if(p=D.formatValue(p,J),p!=y){if(X===B&&p){var W=k,T=a;return W>36&&(W=36),T>18&&(T=18),s===es?uh(h,V+(k-W)/2,I+(a-T)/2,W,T,p):s===dn?uh(h,V,I+(a-T)/2,W,T,p):uh(h,V+k-W,I+(a-T)/2,W,T,p),void 0}if(X===x||!X&&Ah(p)){var Q=p?C.getCheckIconDrawable(J,D):C.getUncheckIconDrawable(J,D),u=C.getIconWidth(),r=C.getIconHeight();return s===es?Q.draw(V+(k-u)/2,I+(a-r)/2,u,r,J,C):s===dn?Q.draw(V,I+(a-r)/2,u,r,J,C):Q.draw(V+k-u,I+(a-r)/2,u,r,J,C),void 0}p&&p.toString().indexOf("\n")>=0?O.drawBreakableText(h,p.split("\n"),{x:V,y:I,width:k,height:a},t,R,s):Yl(h,p,t,R,V,I,k,a,s)}};us({$148u:function(Z){Z.addElement=function(y,s,J,d,R,Y,V){var D,O=this,F=O.getDataModel(),n=F.getDataById(s),S=O.getColumnModel?O.getColumnModel().getDataById(J):null,r=O.$126u;O.$126u||(r=O.$126u={});var $=r[s];$||($=r[s]={});var e=!1;if($[J]){if(!y){var H=$[J];if(xm(H),delete $[J],H.firstChild&&H.firstChild.htComp){var c=H.firstChild.htComp.renderParent;H.firstChild.htComp.renderParent=null,H.firstChild.htComp.firePropertyChange("renderParent",c,null)}return}D=$[J];var _=D.firstChild;y.getView?_!==y.getView()&&(ai(D),e=!0):_!==y&&(ai(D),e=!0),il&&(D.style.opacity="1")}else{if(!y)return;D=Sl(!0),D.setAttribute("render_rowId",s),D.setAttribute("render_columnId",J),O.$261u.appendChild(D),e=!0,$[J]=D}if(O.isColumnLineVisible&&O.isColumnLineVisible(n,S)&&(Y-=1),O.isRowLineVisible(n)&&(V-=1),!(0>=Y||0>=V)){Y=T(Y),V=T(V),e&&(y instanceof df?(y.setX(0),y.setY(0),y.setWidth(Y),y.setHeight(V),y.getStyleParent=function(){return O},D.appendChild(y.getView()),y.renderParent=O,y.firePropertyChange("renderParent",null,O),y.__$$uiStyleVersion!==m&&(y.refreshStyles(),y.redraw(!0),y.__$$uiStyleVersion=m)):D.appendChild(y),y.onParentAdded&&y.onParentAdded(D));var v=D.style;if(v.left=T(O.getTranslateX()+d)+vl,v.top=T(O.getTranslateY()+R)+vl,v.width=Y+vl,v.height=V+vl,y instanceof df){var I=y.getLayoutParams("marginTop")||0,b=y.getLayoutParams("marginTop")||0,X=y.getLayoutParams("marginLeft")||0,a=y.getLayoutParams("marginRight")||0;y.setX(X),y.setY(I),y.setWidth(Y-X-a),y.setHeight(V-I-b),y.fireViewEvent({kind:"render",renderer:y,data:n,column:S,property:O.getPropertyModel?O.getPropertyModel().getDataById(J):null,master:O})}}},Z.$340u=function(){var O=this,c=O.$126u,I=pk();if(c){var g=O.$268u||O._dataModel,t=O.getStartRowIndex(),X=O.getEndRowIndex();for(var L in c){var D,C=g.getDataById(L);if(C&&(D=O.getRowIndex(C)),!C||D==y||t>D||D>=X){var p=c[L];for(var s in p){var z=p[s];if(il&&I&&O._interactors[1]===I&&"p"===I.state)z.style.opacity="0";else{var $;if(u.activeElement&&u.activeElement.contains(z)&&($=!0),xm(z),z.firstChild&&z.firstChild.htComp){var x=z.firstChild.htComp.renderParent;z.firstChild.htComp.renderParent=null,z.firstChild.htComp.firePropertyChange("renderParent",x,null)}$&&O.requestFocus()}}delete c[L]}else if(O.getColumnInfo){var e=O.$117u,p=c[L],l=[];for(var s in p){var Z=O.getColumnInfo(e.getDataById(s));Z&&O.isColumnShowing(Z)||l.push(s)}l.forEach(function(E){xm(p[E]);var u=p[E];if(u.firstChild&&u.firstChild.htComp){var H=u.firstChild.htComp.renderParent;u.firstChild.htComp.renderParent=null,u.firstChild.htComp.firePropertyChange("renderParent",H,null)}delete p[E]})}}}}},$149u:function(k){k.getValue=function(w,r){return r.getValue?r.getValue(w,r,this):ih(w,r.getAccessType(),r.getName())},k.isEditing=function(V,X){var z=this;return V||X?z.$231u===V&&z.$277u===X?!0:void 0:!!z.$270u}},$147u:function(y){y.setDatas=function($){if($){Sp($)&&($=JSON.parse($));var E=this.getDataModel();E.clear();var r=function(o,x){var m=new z.Data;for(var T in o){var a=o[T];if("children"===T)for(var j=0,J=a.length;J>j;j++)r(a[j],m);else{var C;0===T.indexOf("a:")?(T=T.substr(2),C="attr"):0===T.indexOf("s:")&&(T=T.substr(2),C="style"),Em(m,C,T,a)}}x&&m.setParent(x),E.add(m)};if(Jr($))for(var y=0,k=$.length;k>y;y++){var p=$[y];r(p)}else r($)}},y.init=function(r){var f=this,J=new vj(r),Q=new Qm(r);f.setTableView(r),f.setTableHeader(J),f.setTableFooter(Q)},y.getColumnDatas=function(){return this.getTableView().getColumnDatas()},y.setColumnDatas=function(W){return this.getTableView().setColumnDatas(W)},y.getListDatas=function(){return this.getTableView().getListDatas()},y.setListDatas=function(L){return this.getTableView().setListDatas(L)},y.setUpInteractors=function(){},y.setTableHeader=function(y){var a=this,O=a._tableHeader;O&&a.removeView(O),a.addView(y),a.setPropertyValue("tableHeader",y)},y.setTableFooter=function(M){var r=this,V=r._tableFooter;V&&r.removeView(V),r.addView(M),r.setPropertyValue("tableFooter",M)},y.setTableView=function(Z){var G=this,z=G._tableView;z&&G.removeView(z),G.addView(Z),G.setPropertyValue("tableView",Z)},y.getTableHeader=function(){return this._tableHeader},y.getTableFooter=function(){return this._tableFooter},y.getTableView=function(){return this._tableView},y.getDataModel=function(){return this.getTableView().dm()},y.dm=function(Y){return Y?(this.getTableView().setDataModel(Y),void 0):this.getTableView().dm()},y.getSelectionModel=function(){return this.getTableView().sm()},y.sm=function(){return this.getTableView().sm()},y.getColumnModel=function(){return this.getTableView().getColumnModel()},y.setColumns=function($){this.getTableView().setColumns($)},y.addColumns=function(f){this.getTableView().addColumns(f)},y.validateImpl=function(A,B,q,J){var f=this,m=f.getTableHeader(),l=f.getTableFooter(),G=f.getTableView(),p=m&&m.isVisible(),d=l&&l.isVisible();B=0;var D=0;p&&(D=m.getPreferredSize().height);var O=0;d&&(O=l.getPreferredSize().height),G&&G.isVisible()&&f.layoutChild(G,0,B+D,q,J-D-O),p&&f.layoutChild(m,0,B,q,D),d&&f.layoutChild(l,0,B+J-O,q,O)}}}),Aj("ui_loading",{width:20,height:20,comps:[{type:"oval",background:"",borderWidth:1,borderColor:"#4e9af7",rect:[.5,.5,19,19]},{type:"rect",background:"#4e9af7",borderColor:"#979797",anchorY:1,rotation:{func:function(J,B){return B._loadingAngle}},rect:[9.5,0,1,10]}]}),Aj("ui_textareaResize",{width:12,height:12,fitSize:!0,blendMode:"override_rgb",comps:[{type:"shape",borderWidth:1,borderColor:"#979797",borderCap:"round",points:[2.22789,9.658,9.54388,2.342]},{type:"shape",borderWidth:1,borderColor:"#979797",borderCap:"round",points:[6.55574,9.658,9.77211,6.44162]}]}),Aj("ui_pulldown",{width:30,height:30,comps:[{type:"shape",background:"#ffffff",pixelPerfect:!0,opacity:0,points:[-.2,-.24,30,-.24,30,-.24,30,-.24,30,30,30,30,30,30,-.2,30,-.2,30,-.2,30,-.2,-.24,-.2,-.24,-.2,-.24],segments:[1,2,3,2,3,2,3,2,3,5]},{type:"shape",background:"#ffffff",pixelPerfect:!0,shadow:!0,shadowColor:"rgba(0,0,0,0.8)",shadowBlur:2,shadowOffsetX:0,shadowOffsetY:0,points:[27.48333,14.88,27.48333,7.96784,21.80301,2.28,14.9,2.28,7.99699,2.28,2.31667,7.96784,2.31667,14.88,2.31667,21.79216,7.99699,27.48,14.9,27.48,21.80301,27.48,27.48333,21.79216,27.48333,14.88],segments:[1,4,4,4,4]},{type:"shape",background:"#000000",pixelPerfect:!0,rotation:{func:function(d,g){var r=g.getMinTx();if("y"===g._overScrollDirection){var K=g._overScrollTranslate.ty,k=g.getMinTy();if(K>0){var p=g.getOverScrollTop();return 4*K/p*Math.PI}if(k>K){var B=g.getOverScrollBottom();return 4*(k-K)/B*Math.PI}return 0}if("x"===g._overScrollDirection){var X=g._overScrollTranslate.tx,r=g.getMinTx();if(X>0){var M=g.getOverScrollLeft();return 4*X/M*Math.PI}if(r>X){var P=g.getOverScrollRight();return 4*(r-X)/P*Math.PI}return 0}}},points:[8.42168,20.3085,8.42168,18.9708,8.42168,17.4147,8.43217,16.077,8.43217,15.972,8.4091,15.9951,8.68174,15.9951,10.08897,15.9804,11.49411,15.9804,12.90135,15.9804,12.46722,16.4004,12.06246,16.8477,11.60526,17.2404,11.26132,17.5428,11.31794,17.7612,11.60526,18.0657,12.73782,19.31187,14.4605,19.84956,16.09961,19.4685,17.72701,19.18025,19.05197,17.98032,19.50131,16.3878,20.17661,14.2479,19.50131,12.2571,17.82353,11.0811,17.19951,10.63475,16.47167,10.35566,15.70953,10.2705,13.43614,10.0164,11.87581,10.9761,10.85236,12.9312,10.62376,13.3659,9.17458,12.6792,9.41786,12.1962,10.16898,10.62488,11.53579,9.4319,13.19286,8.9013,14.63234,8.42701,16.1987,8.51252,17.57815,9.1407,19.39015,9.9135,20.54153,11.2869,21.11617,13.1181,21.54236,14.49115,21.45434,15.97378,20.86869,17.2866,20.17653,19.03084,18.72207,20.36405,16.92592,20.9007,16.0367,21.1826,15.09197,21.24244,14.17436,21.075,12.64339,20.8209,11.44797,20.0901,10.3679,19.0527,10.13931,18.8427,10.03864,18.8427,9.84569,19.0527,9.44093,19.5168,9.00681,19.9599,8.58736,20.4114,8.4049,20.592,8.41958,20.5752,8.41958,20.5752],segments:[1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5]}]}),Aj("ui_hoverTabScrollController",{width:100,height:100,fitSize:!0,comps:[{type:"rect",background:M.hoverBackground,rect:[0,0,100,100]},{type:"shape",borderWidth:1,rotation:3.14159,borderColor:M.baseColor,points:[38.44028,26.10692,62.72304,49.44106,37.27696,73.89308]}]}),Aj("ui_activeTabScrollController",{width:100,height:100,fitSize:!0,comps:[{type:"rect",background:M.activeBackground,rect:[0,0,100,100]},{type:"shape",borderWidth:1,rotation:3.14159,borderColor:M.baseColor,points:[38.44028,26.10692,62.72304,49.44106,37.27696,73.89308]}]}),Aj("ui_disabledTabScrollController",{width:100,height:100,fitSize:!0,comps:[{type:"rect",background:"rgba(0,0,0,0)",rect:[0,0,100,100]},{type:"shape",borderWidth:1,rotation:3.14159,borderColor:M.textDimColor,points:[38.44028,26.10692,62.72304,49.44106,37.27696,73.89308]}]}),Aj("ui_prevYear",{width:20,height:20,comps:[{type:"shape",borderWidth:1,borderColor:{func:function(S,J){return"prevYear"===J.getHitArea()?"hover"===J.getHitState()?M.baseColor:M.hoverColor:M.iconColor}},points:[14.64231,4.62974,10.00002,10.00002,14.64231,15.37026]},{type:"shape",borderWidth:1,borderColor:{func:function(P,x){return"prevYear"===x.getHitArea()?"hover"===x.getHitState()?M.baseColor:M.hoverColor:M.iconColor}},points:[9.99998,4.62974,5.35769,10.00002,9.99998,15.37026]}]}),Aj("ui_prevMonth",{width:20,height:20,comps:[{type:"shape",borderWidth:1,borderColor:{func:function(D,l){return"prevMonth"===l.getHitArea()?"hover"===l.getHitState()?M.baseColor:M.hoverColor:M.iconColor}},fillClipPercentage:0,rotation:6.28319,points:[12.32115,4.62974,7.67886,10.00002,12.32115,15.37026]}]}),Aj("ui_nextMonth",{width:20,height:20,comps:[{type:"shape",borderWidth:1,borderColor:{func:function(h,x){return"nextMonth"===x.getHitArea()?"hover"===x.getHitState()?M.baseColor:M.hoverColor:M.iconColor}},rotation:-3.14159,points:[12.32115,4.62974,7.67886,10.00002,12.32115,15.37026]}]}),Aj("ui_nextYear",{width:20,height:20,comps:[{type:"shape",borderWidth:1,borderColor:{func:function(z,c){return"nextYear"===c.getHitArea()?"hover"===c.getHitState()?M.baseColor:M.hoverColor:M.iconColor}},rotation:-3.14159,points:[9.99998,4.63482,5.36209,10.00002,9.99998,15.36518]},{type:"shape",borderWidth:1,borderColor:{func:function(Z,V){return"nextYear"===V.getHitArea()?"hover"===V.getHitState()?M.baseColor:M.hoverColor:M.iconColor}},rotation:-3.14159,points:[14.63791,4.63482,10.00002,10.00002,14.63791,15.36518]}]}),Aj("ui_"+V,{width:16,height:16,comps:[{type:"rect",background:M.baseColor,rect:[0,0,16,16]},{type:"border",color:M.baseColor,width:1},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3,9,6,12,13,5]}]}),Aj("ui_hoverCheck",{width:16,height:16,comps:[{type:"rect",background:M.hoverColor,rect:[0,0,16,16]},{type:"border",color:M.hoverColor,width:1},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3,9,6,12,13,5]}]}),Aj("ui_activeCheck",{width:16,height:16,comps:[{type:"rect",background:M.activeColor,rect:[0,0,16,16]},{type:"border",color:M.activeColor,width:1},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3,9,6,12,13,5]}]}),Aj("ui_checkDisabled",{width:16,height:16,comps:[{type:"rect",background:"rgb(255,255,255)",rect:[0,0,16,16]},{type:"border",color:M.dimColor,width:1},{type:"shape",borderWidth:1,borderColor:M.dimColor,borderCap:"round",points:[3,9,6,12,13,5]}]}),Aj("ui_"+G,{width:16,height:16,comps:[{type:"rect",background:"rgb(255, 255, 255)",rect:[0,0,16,16]},{type:"border",color:M.iconColor,width:1}]}),Aj("ui_hoverUncheck",{width:16,height:16,comps:[{type:"rect",background:M.hoverBackground,rect:[0,0,16,16]},{type:"border",color:M.iconColor,width:1}]}),Aj("ui_activeUncheck",{width:16,height:16,comps:[{type:"rect",background:M.activeBackground,rect:[0,0,16,16]},{type:"border",color:M.iconColor,width:1}]}),Aj("ui_uncheckDisabled",{width:16,height:16,comps:[{type:"rect",background:"rgb(255,255,255)",rect:[0,0,16,16]},{type:"border",color:M.dimColor,width:1}]}),Aj("ui_indeterminate",{width:16,height:16,fitSize:!1,comps:[{type:"roundRect",background:"#fff",borderWidth:1,borderColor:M.baseColor,cornerRadius:aj(M.borderRadius),rect:[1,1,14,14]},{type:"roundRect",background:M.baseColor,cornerRadius:aj(M.borderRadius),rect:[4,4,8,8]}]}),Aj("ui_"+E,{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:M.baseColor,rect:[1,1,14,14]},{type:"oval",background:M.baseColor,rect:[4.70588,4.70588,6.58824,6.58824]}]}),Aj("ui_hoverRadioOn",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:M.hoverColor,rect:[1,1,14,14]},{type:"oval",background:M.hoverColor,rect:[4.70588,4.70588,6.58824,6.58824]}]}),Aj("ui_activeRadioOn",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:M.activeColor,rect:[1,1,14,14]},{type:"oval",background:M.activeColor,rect:[4.70588,4.70588,6.58824,6.58824]}]}),Aj("ui_radioOnDisabled",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:M.dimColor,rect:[1,1,14,14]},{type:"oval",background:M.dimColor,rect:[4.70588,4.70588,6.58824,6.58824]}]}),Aj("ui_"+q,{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:M.iconColor,rect:[1,1,14,14]}]}),Aj("ui_hoverRadioOff",{width:16,height:16,comps:[{type:"oval",background:M.hoverBackground,borderWidth:1,borderColor:M.iconColor,rect:[1,1,14,14]}]}),Aj("ui_activeRadioOff",{width:16,height:16,comps:[{type:"oval",background:M.activeBackground,borderWidth:1,borderColor:M.iconColor,rect:[1,1,14,14]}]}),Aj("ui_radioOffDisabled",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:M.dimColor,rect:[1,1,14,14]}]}),Aj("ui_slider_thumb",{width:14,height:14,comps:[{type:"circle",background:"rgb(255,255,255)",borderWidth:2,borderColor:M.baseColor,rect:[1.5,1.5,11,11]}]}),Aj("ui_slider_hoverThumb",{width:14,height:14,comps:[{type:"circle",background:M.hoverBackground,borderWidth:2,borderColor:M.hoverColor,rect:[1.5,1.5,11,11]}]}),Aj("ui_slider_activeThumb",{width:14,height:14,comps:[{type:"circle",background:M.activeBackground,borderWidth:2,borderColor:M.activeColor,rect:[1.5,1.5,11,11]}]}),Aj("ui_borderlayoutToggle",{width:{value:40,func:function(g,E){return E.getToggleSize()}},height:{value:9,func:function(Z,d){return d.getSplitterSize()}},fitSize:!1,comps:[{type:"roundRect",cornerRadius:aj(M.borderRadius),background:M.layoutToggleBackground,borderWidth:0,rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",points:{value:[16.94352,3.65393,16.94352,9.80693,23.05648,9.80693],func:function(l,j){var H=j.getToggleSize(),Z=j.getSplitterSize();return[(H-10)/2,(Z-5)/2+5,H/2,(Z-5)/2,(H-10)/2+10,(Z-5)/2+5]}}}]}),Aj("ui_splitlayoutToggle",fp("ui_borderlayoutToggle")),Aj("ui_expandIcon",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,2.66248,4.94352,8.81548,11.05648,8.81548]}]}),Aj("ui_collapseIcon",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:3.92699,points:[2.82411,4.9235,2.82411,11.0765,8.93707,11.0765]}]}),Aj("ui_toggleOff",{width:26,height:16,comps:[{type:"roundRect",background:M.normalBackground,cornerRadius:aj(M.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:"rgb(255,255,255)",cornerRadius:aj(M.borderRadius),rect:[1.9355,2,12,12]}]}),Aj("ui_hoverToggleOff",{width:26,height:16,comps:[{type:"roundRect",background:M.normalBackground,cornerRadius:aj(M.borderRadius),shadowColor:"#1ABC9C",rect:[0,0,26,16]},{type:"roundRect",background:M.hoverBackground,borderColor:"#979797",cornerRadius:aj(M.borderRadius),rect:[1.9355,2,12,12]}]}),Aj("ui_activeToggleOff",{width:26,height:16,comps:[{type:"roundRect",background:M.normalBackground,cornerRadius:aj(M.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:M.activeBackground,cornerRadius:aj(M.borderRadius),rect:[1.9355,2,12,12]}]}),Aj("ui_toggleOffDisabled",{width:26,height:16,comps:[{type:"roundRect",background:M.dimColor,cornerRadius:aj(M.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:"rgb(255,255,255)",cornerRadius:aj(M.borderRadius),rect:[1.9355,2,12,12]}]}),Aj("ui_toggleOn",{width:26,height:16,comps:[{type:"roundRect",background:M.baseColor,cornerRadius:aj(M.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:"rgb(255,255,255)",cornerRadius:aj(M.borderRadius),rect:[12.23171,2,12,12]}]}),Aj("ui_hoverToggleOn",{width:26,height:16,comps:[{type:"roundRect",background:M.baseColor,cornerRadius:aj(M.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:M.hoverBackground,cornerRadius:aj(M.borderRadius),rect:[12.23171,2,12,12]}]}),Aj("ui_activeToggleOn",{width:26,height:16,comps:[{type:"roundRect",background:M.baseColor,cornerRadius:aj(M.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:M.activeBackground,cornerRadius:aj(M.borderRadius),rect:[12.23171,2,12,12]}]}),Aj("ui_toggleOnDisabled",{width:26,height:16,comps:[{type:"roundRect",background:M.dimColor,cornerRadius:aj(M.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:"rgb(255,255,255)",cornerRadius:aj(M.borderRadius),rect:[12.23171,2,12,12]}]}),Aj("contextmenu_indicator",{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:{func:function(h,N){return N.isHoverMenuItem(h)?N.getHoverIndicatorColor(h)||N.getHoverLabelColor(h):N.getIndicatorColor(h)||N.getLabelColor(h)}},rotation:1.57}]}),Aj("colorpane_slider",{width:28,height:8,comps:[{type:"shape",borderColor:{func:function(M,T){return T.getSliderColor()}},borderWidth:1,join:"miter",points:[0,0,0,8,5,4,28,0,28,8,23,4],segments:[1,2,2,5,1,2,2,5]}]}),Aj("ui_dialogCollapse",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",points:[2,8.5,14,8.5]}]}),Aj("ui_dialogExpand",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",points:[2,7.46941,14,7.46941,8,3,8,13],segments:[1,2,1,2]}]}),Aj("ui_panelExpand",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,2.66248,4.94352,8.81548,11.05648,8.81548]}]}),Aj("ui_panelCollapse",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",shadowColor:"#1ABC9C",rotation:2.35619,points:[4.94352,7.07148,4.94352,13.22448,11.05648,13.22448]}]}),Aj("ui_dialogClose",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:"#FF0033",borderCap:"round",shadowColor:"#1ABC9C",rotation:5.49779,points:[4.94352,.58683,4.94352,6.73983,11.05648,6.73983]},{type:"shape",borderWidth:1,borderColor:"#FF0033",borderCap:"round",shadowColor:"#1ABC9C",rotation:2.35619,points:[4.94352,9.26017,4.94352,15.41317,11.05648,15.41317]}]}),Aj("ui_multiSelectClose",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,.58683,4.94352,6.73983,11.05648,6.73983]},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",shadowColor:"#1ABC9C",rotation:2.35619,points:[4.94352,9.26017,4.94352,15.41317,11.05648,15.41317]}]}),Aj("ui_dialogMaximize",{width:16,height:16,comps:[{type:"rect",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rect:[1.39129,6.51482,13.3037,6.95402]},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",points:[1.53721,3.47701,14.53025,3.47701]}]}),Aj("ui_dialogRestore",{width:16,height:16,comps:[{type:"rect",background:"rgba(255,255,255,0)",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rect:[1.50555,6.46203,9.9927,6.73558]},{type:"shape",borderWidth:1,borderColor:M.iconColor,points:[4.39729,5,4.39729,3.36114,14.60908,3.36114,14.60908,9.82982,13,9.82982]}]}),Aj("ui_decreaseIcon",{width:{func:function(Y,S){return S.getIconWidth()}},height:{func:function(B,p){var t=p.getIconHeight();return"number"!=typeof t?(p.getContentHeight()+p.getPaddingTop()+p.getPaddingBottom())/2:t/2}},comps:[{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[44,5,5]}]}),Aj("ui_hoverDecreaseIcon",{width:{func:function(U,l){return l.getIconWidth()}},height:{func:function(D,x){var O=x.getIconHeight();return"number"!=typeof O?(x.getContentHeight()+x.getPaddingTop()+x.getPaddingBottom())/2:O/2}},comps:[{type:"roundRect",background:M.hoverBackground,cornerRadius:aj(M.borderRadius),rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[44,5,5]}]}),Aj("ui_activeDecreaseIcon",{width:{func:function(l,B){return B.getIconWidth()}},height:{func:function(I,n){var $=n.getIconHeight();return"number"!=typeof $?(n.getContentHeight()+n.getPaddingTop()+n.getPaddingBottom())/2:$/2}},comps:[{type:"roundRect",background:M.activeBackground,cornerRadius:aj(M.borderRadius),rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[44,5,5]}]}),Aj("ui_increaseIcon",{width:{func:function(t,c){return c.getIconWidth()}},height:{func:function(f,Z){var v=Z.getIconHeight();return"number"!=typeof v?(Z.getContentHeight()+Z.getPaddingTop()+Z.getPaddingBottom())/2:v/2}},comps:[{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:5.49779+g,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[49,5,5]}]}),Aj("ui_hoverIncreaseIcon",{width:{func:function(R,s){return s.getIconWidth()}},height:{func:function(L,C){var I=C.getIconHeight();return"number"!=typeof I?(C.getContentHeight()+C.getPaddingTop()+C.getPaddingBottom())/2:I/2}},comps:[{type:"roundRect",background:M.hoverBackground,cornerRadius:aj(M.borderRadius),rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:5.49779+g,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[49,5,5]}]}),Aj("ui_activeIncreaseIcon",{width:{func:function(C,S){return S.getIconWidth()}},height:{func:function(z,v){var S=v.getIconHeight();return"number"!=typeof S?(v.getContentHeight()+v.getPaddingTop()+v.getPaddingBottom())/2:S/2}},comps:[{type:"roundRect",background:M.activeBackground,cornerRadius:aj(M.borderRadius),rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:5.49779+g,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[49,5,5]}]}),Aj("ui_menubutton_dropdown",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,2.57354,4.94352,8.72654,11.05648,8.72654]}]}),Aj("ui_dropDownIcon",{width:{func:function(r,h){return h.getIconWidth()}},height:{func:function(c,H){var l=H.getIconHeight();return"number"!=typeof l?H.getContentHeight()+H.getPaddingTop()+H.getPaddingBottom():l}},comps:[{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[44,7,7]}]}),Aj("ui_hoverDropDownIcon",{width:{func:function(c,H){return H.getIconWidth()}},height:{func:function(v,Y){var T=Y.getIconHeight();return"number"!=typeof T?Y.getContentHeight()+Y.getPaddingTop()+Y.getPaddingBottom():T}},comps:[{type:"roundRect",background:M.hoverBackground,cornerRadius:aj(M.borderRadius),rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[44,7,7]}]}),Aj("ui_activeDropDownIcon",{width:{func:function(C,u){return u.getIconWidth()}},height:{func:function(I,K){var T=K.getIconHeight();return"number"!=typeof T?K.getContentHeight()+K.getPaddingTop()+K.getPaddingBottom():T}},comps:[{type:"roundRect",background:M.activeBackground,cornerRadius:aj(M.borderRadius),rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[44,7,7]}]}),Aj("table_sortAsc",{width:16,height:16,comps:[{type:"triangle",rect:[4,4,8,7],background:M.iconColor,rotation:0}]}),Aj("table_sortDesc",{width:16,height:16,comps:[{type:"triangle",rect:[4,4,8,7],background:M.iconColor,rotation:3.14}]}),Aj("ui_tablayoutClose",{width:16,height:16,comps:[{type:"oval",background:"#FF0033",borderColor:"#FF0033",shadowColor:"#1ABC9C",rect:[5.5,5.5,5,5]}]}),Aj("ui_tablayoutHoverClose",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:"#FF0033",borderCap:"round",shadowColor:"#1ABC9C",rotation:5.49779,points:[4.94352,.58683,4.94352,6.73983,11.05648,6.73983]},{type:"shape",borderWidth:1,borderColor:"#FF0033",borderCap:"round",shadowColor:"#1ABC9C",rotation:2.35619,points:[4.94352,9.26017,4.94352,15.41317,11.05648,15.41317]}]}),Aj("ui_tablayoutActiveClose",{width:16,height:16,comps:[{type:"roundRect",background:M.activeBackground,cornerRadius:aj(M.borderRadius),rect:[0,0,16,16]},{type:"shape",borderWidth:1,borderColor:"#FF0033",borderCap:"round",shadowColor:"#1ABC9C",rotation:5.49779,points:[4.94352,.58683,4.94352,6.73983,11.05648,6.73983]},{type:"shape",borderWidth:1,borderColor:"#FF0033",borderCap:"round",shadowColor:"#1ABC9C",rotation:2.35619,points:[4.94352,9.26017,4.94352,15.41317,11.05648,15.41317]}]}),Aj("drag_add",{width:20,height:20,comps:[{type:"rect",rect:[17,14,4],background:M.insertColor},{type:"rect",rect:[17,4,14],background:M.insertColor}]}),Aj("propertypane_activeCategory",{width:16,height:16,comps:[{type:"rect",borderWidth:1,borderColor:M.baseColor,rect:[1.52,2.53604,12.96,12]},{type:"rect",background:M.baseColor,borderColor:M.baseColor,rect:[1.52,2.53604,12.96,3]},{type:"rect",background:M.baseColor,borderColor:M.baseColor,rotation:3.14159,rect:[4,11,8,1]},{type:"rect",background:M.baseColor,borderColor:M.baseColor,rotation:3.14159,rect:[4,8.03604,8,1]}]}),Aj("propertypane_category",{width:16,height:16,comps:[{type:"rect",borderWidth:1,borderColor:M.iconColor,rect:[1.52,2.53604,12.96,12]},{type:"rect",background:M.iconColor,borderColor:M.iconColor,rect:[1.52,2.53604,12.96,3]},{type:"rect",background:M.iconColor,borderColor:M.iconColor,rotation:3.14159,rect:[4,11,8,1]},{type:"rect",background:M.iconColor,borderColor:M.iconColor,rotation:3.14159,rect:[4,8.03604,8,1]}]}),Aj("propertypane_activeSort",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:M.baseColor,borderCap:"round",points:[1.5,13.22742,5.0325,3.22742,8.5,13.22742,7.1903,9.51313,3.05085,9.51313]},{type:"triangle",background:M.baseColor,borderColor:M.baseColor,rotation:6.28319,rect:[9.5,4,5,3]},{type:"triangle",background:M.baseColor,borderColor:M.baseColor,rotation:3.14159,rect:[9.5,10,5,3]}]}),Aj("propertypane_sort",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",points:[1.5,13.22742,5.0325,3.22742,8.5,13.22742,7.1903,9.51313,3.05085,9.51313]},{type:"triangle",background:M.iconColor,borderColor:M.iconColor,rotation:6.28319,rect:[9.5,4,5,3]},{type:"triangle",background:M.iconColor,borderColor:M.iconColor,rotation:3.14159,rect:[9.5,10,5,3]}]}),Aj("colorpicker_previewbackground",{width:10,height:10,comps:[{type:"rect",rect:[0,0,5,5],background:"white"},{type:"rect",rect:[5,0,5,5],background:"rgb(204, 204, 204)"},{type:"rect",rect:[0,5,5,5],background:"rgb(204, 204, 204)"},{type:"rect",rect:[5,5,5,5],background:"white"}]}),Aj("datetimepicker_dropDownIconSource",{width:16,height:16,comps:[{type:"roundRect",borderColor:M.iconColor,cornerRadius:aj(M.borderRadius),shadowColor:"#1ABC9C",rect:[2.78779,7.06837,10.42442,6.08268]},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",shadowColor:"#1ABC9C",closePath:!0,points:[2.78779,3.95319,13.21221,3.95319,13.21221,3.95319,13.21221,3.95319,13.21221,13.15105,13.21221,13.15105,13.21221,13.15105,2.78779,13.15105,2.78779,13.15105,2.78779,13.15105,2.78779,3.95319,2.78779,3.95319,2.78779,3.95319,2.78779,3.95319],segments:[1,2,3,2,3,2,3,2,3,2]},{type:"shape",background:"rgb(255,255,255)",borderWidth:1,borderColor:M.iconColor,borderCap:"round",shadowColor:"#1ABC9C",closePath:!0,points:[2.78779,3.95319,13.21221,3.95319,13.21221,3.95319,13.21221,3.95319,13.21221,7.03755,13.21221,7.03755,13.21221,7.03755,2.78779,7.03755,2.78779,7.03755,2.78779,7.03755,2.78779,3.95319,2.78779,3.95319,2.78779,3.95319,2.78779,3.95319],segments:[1,2,3,2,3,2,3,2,3,2]},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",points:[5.17236,2.84895,5.17236,5.12996]},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",points:[10.84376,2.84895,10.84376,5.12996]},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",points:[4.4151,10.07213,7.21857,10.07213,8.82976,10.07213,11.65534,10.07213],segments:[1,2,1,2]},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",points:[4.4151,11.5928,11.65544,11.5928]},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",points:[4.4151,8.55212,7.21857,8.55212,8.82976,8.55212,11.65534,8.55212],segments:[1,2,1,2]}]}),Aj("ui_datetimepicker_dropDownIcon",{width:{func:function(b,Z){return Z.getIconWidth()
}},height:{value:16,func:function(l,z){var n=z.getIconHeight();return"number"!=typeof n?z.getContentHeight()+z.getPaddingTop()+z.getPaddingBottom():n}},comps:[{type:"image",name:"datetimepicker_dropDownIconSource",rect:[17,16,16],fill:"centerUniform"}]}),Aj("ui_datetimepicker_hoverDropDownIcon",{width:{func:function(N,r){return r.getIconWidth()}},height:{value:16,func:function(k,b){var d=b.getIconHeight();return"number"!=typeof d?b.getContentHeight()+b.getPaddingTop()+b.getPaddingBottom():d}},comps:[{type:"roundRect",background:M.hoverBackground,cornerRadius:aj(M.borderRadius),rect:[17,1,1],relative:!0},{type:"image",name:"datetimepicker_dropDownIconSource",rect:[17,16,16],fill:"centerUniform"}]}),Aj("ui_datetimepicker_activeDropDownIcon",{width:{func:function(P,e){return e.getIconWidth()}},height:{value:16,func:function(x,M){var g=M.getIconHeight();return"number"!=typeof g?M.getContentHeight()+M.getPaddingTop()+M.getPaddingBottom():g}},comps:[{type:"roundRect",background:M.activeBackground,cornerRadius:aj(M.borderRadius),rect:[17,1,1],relative:!0},{type:"image",name:"datetimepicker_dropDownIconSource",rect:[17,16,16],fill:"centerUniform"}]}),Aj("propertypane_search",{background:"rgb(255,255,255)",width:16,height:16,comps:[{type:"arc",borderWidth:1,borderColor:M.iconColor,borderCap:"round",arcFrom:2.00713,arcTo:3.22886,arcClose:!1,shadowColor:"#1ABC9C",rect:[3.43716,3.6278,6,5.89981]},{type:"circle",borderWidth:1,borderColor:M.iconColor,shadowColor:"#1ABC9C",displayName:"节点",rect:[1.43716,1.6612,10,9.83302]},{type:"shape",borderWidth:1,borderColor:M.iconColor,borderCap:"round",shadowColor:"#1ABC9C",points:[11,11,14,14]}]}),Aj("ui_info",{width:30,height:30,comps:[{type:"circle",background:"#3399FF",borderColor:"#979797",rect:[0,0,30,30]},{type:"circle",background:"rgb(255,255,255)",borderColor:"#979797",rect:[12.97989,6,4.02011,4.59441]},{type:"shape",background:"rgb(255,255,255)",borderColor:"#979797",points:[12,13,17,13,17,24,18,24,18,25,12,25,12,24,13,24,13,14,12,14,12,13]}]}),Aj("ui_success",{width:30,height:30,comps:[{type:"circle",background:"#7ED321",borderColor:"#979797",rect:[0,0,30,30]},{type:"shape",borderWidth:4,borderColor:"rgb(255,255,255)",borderJoin:"miter",shadowColor:"#1ABC9C",points:[7.39215,16,13.36055,20.9547,22.60785,9.0453]}]}),Aj("ui_warn",{width:36,height:36,comps:[{type:"triangle",background:"#F6A623",borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",rect:[0,3,36,30]},{type:"shape",background:"rgb(255,255,255)",borderColor:"rgb(255,255,255)",gradientColor:null,shadowColor:"#1ABC9C",anchorY:.5384,closePath:!0,points:[15.95697,13,20,13,20,24,15.95697,24,15.95697,13]},{type:"shape",background:"rgb(255,255,255)",borderColor:"rgb(255,255,255)",gradientColor:null,shadowColor:"#1ABC9C",anchorY:.5384,closePath:!0,points:[15.95697,26,20,26,20,30,15.95697,30,15.95697,26]}]}),Aj("ui_error",{width:36,height:36,comps:[{type:"triangle",background:"rgb(255,64,64)",borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",rect:[0,3,36,30]},{type:"shape",borderWidth:4,borderColor:"rgb(255,255,255)",borderJoin:"miter",shadowColor:"#1ABC9C",scaleX:-1,points:[13,19,23,29,13,29,23,19],segments:[1,2,1,2]}]}),Aj("ui_breadcrumb_separator",{width:6,height:10,comps:[{type:"shape",borderWidth:1,borderColor:M.iconColor,rotation:3.92699,points:[-1.99529,2,-1.99529,8,4.00471,8]}]});var df=H.View=function(l){var U=this;U.initView(),U.setUpInteractors();var B=U.getView();B.addEventListener("focusin",function(){U.isRedrawOnFocus()&&U.redraw()}),B.addEventListener("focusout",function(){U.isRedrawOnFocus()&&U.redraw()}),U.set(l)};sf("ht.ui.View",A,{ms_fire:!0,ui_monitor:!0,ms_tip:!0,ui_attr:!0,ui_field:!0,_styleProps:{preferredSize:!0,minSize:!0,maxSize:!0},ui_ac:["x","y",bd,$o,np,"errorBorder","drawable:background","cursor","padding","disabled","disabledBackground",$m,"zIndex","boxShadow","borderRadius","is:redrawOnFocus",Fe,"margin","popoverPlacements","drawableState","badgeParams"],ms_ac:["id","focusable",Sj,"popover","popoverTrigger","zoom","zoomAnchor","formDataName","formDataValue","attrObject","fieldObject"],_formDataValueProps:{},$284u:{x:!0,y:!0,width:!0,height:!0,padding:!0,border:!0,style:!0,parent:!0,boxShadow:!0,borderRadius:!0,overflow:!0},_preferredSizeProps:{padding:!0,border:!0,style:!0,parent:!0,"*":!0},_minSizeProps:{padding:!0,border:!0,style:!0,parent:!0,"*":!0},_maxSizeProps:{"*":!0},_focusable:!0,_zoom:1,__padding:0,__scrollBarMode:"auto",__scrollBarColor:"rgba(0,0,0,0.35)",__scrollBarSize:7,__scrollBarTimeout:1e3,__scrollBarMinLength:20,__scrollBarActiveSize:12,__autoScrollSize:16,__disabledBackground:"rgba(255, 255, 255, 0.65)",__visible:!0,__errorBorder:new H.border.LineBorder(1,"#FF0033"),getInteractorClasses:function(){},setUpInteractors:function(){var z=this,B=z._interactors=[],x=z.getInteractorClasses();if(x)for(var W=0,F=x.length;F>W;W++){var U=O.getClass(x[W]),$=new U(z);$.addListeners(),B.push($)}},setBindings:function(_){var G=this._bindings;if(!fe(_,G)){if(this._inSetBinding=!0,this._bindings=[],_)for(var Q=0;Q<_.length;Q++)this.addBinding(_[Q].property,_[Q].targetProperty);this._inSetBinding=!1,this.firePropertyChange("bindings",G,_)}},getBinding:function(Q,j){var R=this._bindings;if(R)for(var V=0,B=R.length;B>V;V++){var A=R[V],m=A.property;if("string"==typeof m){if(m===Q){if(j===C)return A;if(j===A.targetProperty)return A}}else if("object"==typeof m&&m.name===Q){if(j===C)return A;if(j===A.targetProperty)return A}}},getBindings:function(){return this._bindings},findBindingAncestor:function(){for(var h=this,u=h._parent;u;){if(u instanceof H.RefViewGroup)return u;u=u._parent}},checkBindings:function($){var z=this;if(z._bindings){var D=z.findBindingAncestor(),Q=D&&D.getBindingData();Q=Q||{};for(var Y=z._bindings,i=0;i<Y.length;i++){var h=Y[i],j=h.targetProperty,G=h.property;if(Q[j]!==C){if($&&(!$||j!==$))continue;var F=Q[j];if("string"==typeof G){var v="_bindingOld"+G;0===G.indexOf("a:")?(z.hasOwnProperty(v)||(z[v]=z.a(G.substr(2))),z.a(G.substr(2),F)):(z.hasOwnProperty(v)||(z[v]=z[jm(G)](F)),z[kh(G)](F))}else if(O.isObject(G)){var K=G.name,v="_bindingOld"+K;G.setValue?(z.hasOwnProperty(v)||(z[v]=G.getValue(z,G)),G.setValue(z,F,G)):G._getValue?(z.hasOwnProperty(v)||(z[v]=G._getValue(z,G)),G._setValue(z,F,G)):0===K.indexOf("a:")?(z.hasOwnProperty(v)||(z[v]=z.a(K.substr(2))),z.a(K.substr(2),F)):(z.hasOwnProperty(v)||(z[v]=z[O.prefixGetter(K.substr(K.indexOf(".")+1))]()),z[O.prefixSetter(K.substr(K.indexOf(".")+1))](F))}}else if("string"==typeof G){if(z.hasOwnProperty("_bindingOld"+G)){var F=z["_bindingOld"+G];0===G.indexOf("a:")?z.a(G.substr(2),F):z[kh(G)](F)}}else if(O.isObject(G)){var K=G.name;if(z.hasOwnProperty("_bindingOld"+K)){var F=z["_bindingOld"+K];G._isBinding&&(F=C),G.setValue?G.setValue(z,F,G):G._setValue?G._setValue(z,F,G):0===K.indexOf("a:")?z.a(K.substr(2),F):z[O.prefixSetter(K.substr(K.indexOf(".")+1))](F)}}}}},addBinding:function(G,p){var j=this;j._bindings||(j._bindings=[]);var T=j._bindings.slice(0);j._bindings.push({property:G,targetProperty:p}),j._inSetBinding||j.firePropertyChange("bindings",T,j._bindings)},removeBinding:function(k,$){var a=this;if(a._bindings){for(var E=a._bindings.slice(0),c=Sp(k)?k:k.name,d=0;d<a._bindings.length;d++){var Y=a._bindings[d],b=Y.property;$===Y.targetProperty&&c===(Sp(b)?b:b.name)&&a._bindings.splice(d,1)}a._inSetBinding||a.firePropertyChange("bindings",E,a._bindings)}},getZoom:function(){for(var u=this,W=u._zoom;1===W;){if(u=u._parent||u.getStyleParent(),!u)return W;W=u._zoom}return W},getFormDataProperties:function(){return this._formDataValueProps},setZoom:function(U){var z=this;z.setPropertyValue("zoom",U);var N=z._view.style;N.transform="scale("+U+")"},setZoomAnchor:function(K,p){var I=this;if("number"==typeof K&&"number"==typeof p&&(K=[K,p]),I.setPropertyValue("zoomAnchor",K),K){var Q=I._view.style;Q.transformOrigin=100*K[0]+"% "+100*K[1]+"% "}},tearDownInteractors:function(){var B=this,F=B._interactor;F&&(F.removeListeners(),B._interactor=y);var p=B._interactors;if(p){for(var j=0,H=p.length;H>j;j++)F=p[j],F.removeListeners();B._interactors=[]}},setBadgeParams:function(F,J){var U=this;if(J!==C){var Q=U.getBadgeParams();if(Q){var l=Fb(Q);Q[F]!==J&&(Q[F]=J,U.firePropertyChange("badgeParams",l,Q))}else Q={},Q[F]=J,U.setPropertyValue("badgeParams",Q)}else U.setPropertyValue("badgeParams",F)},getBadgeParams:function(k){var F=this,B=F.getPropertyValue("badgeParams");return k?B?B[k]:void 0:B},setLayoutParams:function(d,T){var Y=this;if(T!==C){var F=Y.getLayoutParams();if(F){var v=Fb(F);F[d]!==T&&(F[d]=T,Y.firePropertyChange($m,v,F))}else F={},F[d]=T,Y.setPropertyValue($m,F)}else Y.setPropertyValue($m,d)},getLayoutParams:function(K){var B=this,$=B.getPropertyValue($m);return K?$?$[K]:void 0:$},isSelfViewEvent:function(S){var x=this,L=Nl(S);return L===x._view||L===x.$198u||L===x.$244u||L===x._canvas||x.$365&&x.$365.contains(L)?!0:void 0},isContentEvent:function(C){var a=this,j=Nl(C),Q=C;return j&&(Q=a.lp(C)),a.tx&&(Q.x+=a.getTranslateX(),Q.y+=a.getTranslateY()),Q.x>0&&Q.y>0&&Q.x<a.getContentWidth()&&Q.y<a.getContentHeight()?!0:void 0},fixWebkitBorderOverflow:function(C){if(C!==!1){var G="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC)";this._view.style.webkitMaskImage=G}else this._view.style.webkitMaskImage=""},getDOMProperties:function(){return this.$284u},getPreferredSizeProperties:function(){return this._preferredSizeProps},getMinSizeProperties:function(){return this._minSizeProps},getMaxSizeProperties:function(){return this._maxSizeProps},set:function(g){var x=this;if(g)for(var Z in g){var J=g[Z],y=mi(Z);x[y]?x[y](J):x[Z]=J}},isDescendantOf:function(A){if(!A)return!1;for(var r=this;r;){if(r===A)return!0;r=r._parent}},setFocusable:function(l){var H=this,b=H._view,Q=H.$198u,S=H.hasFocus();l?(b.setAttribute("tabIndex",-1),Q&&Q.setAttribute("tabIndex",-1)):(b.removeAttribute("tabIndex"),Q&&Q.removeAttribute("tabIndex"),S&&u.body.focus()),H.setPropertyValue("focusable",!!l)},hasFocus:function(){for(var o=this,W=u.activeElement;W;){var s=W.htComp;if(s)return s===o?!0:!1;W=W.parentNode}return!1},hasContentCanvas:function(){return!!this._canvas},getContentCanvas:function(){var V=this._canvas;return V||(V=this._canvas=Hi(this.getContentDiv()),V.setAttribute(S,"ht-canvas")),V},getContentContext:function(){var r=this;return r.getRootContext(r.getContentCanvas())},initView:function(){var L=this,U=L._view=Sl();U.htComp=L,U._ht=L,U.className="ht_ui_view ht-ui-view",U.setAttribute(S,"ht-view "+L.getClassName()),U.style.overflow="hidden"},createContentDiv:function(){var F=this,U=Sl(!0,F._view);return U.style.zIndex="0",U.setAttribute(S,"ht-content"),U},getContentDiv:function(){var e=this.$198u;return e||(e=this.$198u=this.createContentDiv(),this.invalidateDOM()),e},getBorderLeft:function(){var $=this.getCurrentBorder();return $?$.getLeft():0},getBorderTop:function(){var Z=this.getCurrentBorder();return Z?Z.getTop():0},getBorderRight:function(){var l=this.getCurrentBorder();return l?l.getRight():0},getBorderBottom:function(){var P=this.getCurrentBorder();return P?P.getBottom():0},getPaddingLeft:function(){var v=this.getPadding();return Jr(v)?v[3]:v},getPaddingTop:function(){var B=this.getPadding();return Jr(B)?B[0]:B},getPaddingRight:function(){var Q=this.getPadding();return Jr(Q)?Q[1]:Q},getPaddingBottom:function(){var a=this.getPadding();return Jr(a)?a[2]:a},getMarginLeft:function(){var H=this.getMargin();return Jr(H)?H[3]:H},getMarginTop:function(){var U=this.getMargin();return Jr(U)?U[0]:U},getMarginRight:function(){var Y=this.getMargin();return Jr(Y)?Y[1]:Y},getMarginBottom:function(){var Z=this.getMargin();return Jr(Z)?Z[2]:Z},getContentWidth:function(){var $=this,Q=$.getWidth();return Q-=$.getBorderLeft()+$.getBorderRight(),Q-=$.getPaddingLeft()+$.getPaddingRight()},getContentHeight:function(){var s=this,c=s.getHeight();return c-=s.getBorderTop()+s.getBorderBottom(),c-=s.getPaddingTop()+s.getPaddingBottom()},getContentLeft:function(){var u,s=this,v=s.getCurrentBorder();return u=v&&v.isCSSBorder()?s.getPaddingLeft():s.getBorderLeft()+s.getPaddingLeft()},getContentRight:function(){var T,t=this,I=t.getCurrentBorder();return T=I&&I.isCSSBorder()?t.getPaddingRight():t.getBorderRight()+t.getPaddingRight()},getContentTop:function(){var O,Y=this,k=Y.getCurrentBorder();return O=k&&k.isCSSBorder()?Y.getPaddingTop():Y.getBorderTop()+Y.getPaddingTop()},getContentBottom:function(){var C,Z=this,d=Z.getCurrentBorder();return C=d&&d.isCSSBorder()?Z.getPaddingBottom():Z.getBorderBottom()+Z.getPaddingBottom()},setPropertyValue:function(_,R){var B=ue(_,this);this["_"+_]=R,this.fp(_,B,R)},getPropertyValue:function(I){return ue(I,this)},getView:function(){return this._view},figurePreferredSize:function(){var N=this;return{width:i(N.getPaddingLeft()+N.getPaddingRight()+N.getBorderLeft()+N.getBorderRight()),height:i(N.getPaddingTop()+N.getPaddingBottom()+N.getBorderTop()+N.getBorderBottom())}},getPreferredSizeImpl:function(){var I,d=this,m=d._preferredSize,l=d.__preferredSize,n=d.getStyleValue(dd);return m?I=m:n?I=n:l&&(I=l),I||(I=d.figurePreferredSize()),I},getPreferredSize:function(){var H=this;if(z._uiSerializing)return H._preferredSize;if(H._preferredSizeCache)return H._preferredSizeCache;var x=H.getPreferredSizeImpl();return H._preferredSizeCache=x,x},figureMinSize:function(){var g=this;return{width:i(g.getPaddingLeft()+g.getPaddingRight()+g.getBorderLeft()+g.getBorderRight()),height:i(g.getPaddingTop()+g.getPaddingBottom()+g.getBorderTop()+g.getBorderBottom())}},getMinSizeImpl:function(){var q,k=this,H=k._minSize,Q=k.__minSize,c=k.getStyleValue(Qc);return H?q=H:c?q=c:Q&&(q=Q),q||(q=k.figureMinSize()),q},getMinSize:function(){var v=this;if(z._uiSerializing)return v._minSize;if(v._minSizeCache)return v._minSizeCache;var a=v.getMinSizeImpl();return v._minSizeCache=a,a},figureMaxSize:function(){return{width:1/0,height:1/0}},getMaxSizeImpl:function(){var i,u=this,t=u._maxSize,A=u.__maxSize,C=u.getStyleValue(Zm);return t?i=t:C?i=C:A&&(i=A),i||(i=u.figureMaxSize()),i},getMaxSize:function(){var w=this;if(z._uiSerializing)return w._maxSize;if(w._maxSizeCache)return w._maxSizeCache;var A=w.getMaxSizeImpl();return w._maxSizeCache=A,A},$100u:function(S,L){var M;return M=O.isObject(S)?S:S!=y||L!=y?{width:S,height:L}:S},isPreferredSizeSet:function(){return this._preferredSizeCache?this._preferredSize===this._preferredSizeCache:!1},isMinSizeSet:function(){return this._minSizeCache?this._minSize===this._minSizeCache:!1},isMaxSizeSet:function(){return this._maxSizeCache?this._maxSize===this._maxSizeCache:!1},setMinSize:function(w,I){var i=this.$100u(w,I);this._minSizeCache=i,this.setPropertyValue(Qc,i)},setMaxSize:function(Y,T){var _=this.$100u(Y,T);this._maxSizeCache=_,this.setPropertyValue(Zm,_)},setPreferredSize:function(S,R){var f=this.$100u(S,R);this._preferredSizeCache=f,this.setPropertyValue(dd,f)},removeFromDOM:function(){var D=this,L=D.getView(),q=D.$285u,i=L.parentNode;i&&(i.removeChild(L),U.removeEventListener("orientationchange",q,!1),U.removeEventListener("resize",q,!1),D.closePopup(),D.fireViewEvent("unmounted"))},refreshStyles:function(){this.$106u(),this.$105u(),this.iv(!0)},addToDOM:function(q,i){var H=this,r=H.getView();if(q=q||U,q===U){if(Zf(q.document.body,r),i)H.setX(i.x),H.setY(i.y),H.setWidth(i.width),H.setHeight(i.height);else{var R=H.$285u=function(){var n=hi(q),I=H.getLayoutParams()||{},Y=I.marginLeft||0,y=I.marginRight||0,T=I.marginTop||0,N=I.marginBottom||0;H.setX(Y),H.setY(T),H.setWidth(n.width-Y-y),H.setHeight(n.height-T-N)};q.addEventListener("orientationchange",R,!1),q.addEventListener("resize",R,!1),R()}H.fireViewEvent("mounted")}else Zf(q,r),i||(i={x:0,y:0,width:q.clientWidth,height:q.clientHeight}),H.setX(i.x),H.setY(i.y),H.setWidth(i.width),H.setHeight(i.height);H.refreshStyles()},requestFocus:function(){var X=this;if(X.isFocusable()){var I=X._view;if(u.activeElement!==I){for(var M=[],h=I.parentNode;h;)M.push([h,h.scrollLeft,h.scrollTop]),h=h.parentNode;if(!p){var F=[];try{for(var c=U.parent,$=U;c!==$;)F.push([c,c.scrollX,c.scrollY]),$=c,c=U.parent}catch(T){p=!0}}if(il)I.focus();else{var z=hi(),d=z.target;I.focus(),d.scrollLeft=z.left,d.scrollTop=z.top}M.forEach(function(n){n[0].scrollLeft=n[1],n[0].scrollTop=n[2]}),p||F.forEach(function(r){r[0].scrollTo(r[1],r[2])}),X.iv()}}},getLogicalPoint:function(_){return this.getContentPoint(_)},getContentPoint:function(v){var e=this,W=e._view.getBoundingClientRect(),L=e.tx?e.tx():0,H=e.ty?e.ty():0,h=e.getZoom();return v=ck(v),{x:(v.clientX-W.left-e.getPaddingLeft()-e.getBorderLeft())/h-L,y:(v.clientY-W.top-e.getPaddingTop()-e.getBorderTop())/h-H}},getViewPoint:function(L){var X=this,B=X._view.getBoundingClientRect(),A=X.tx?X.tx():0,T=X.ty?X.ty():0,C=X.getZoom();return L=ck(L),{x:(L.clientX-B.left)/C-A,y:(L.clientY-B.top)/C-T}},lp:function(J){return this.getLogicalPoint(J)},redraw:function(F){var q=this;q.$103u=!0,q.$104u=!0,q.$113u=!0,q.iv(F)},iv:function(B){this.invalidate(B)},invalidateDOM:function(){var e=this;e.$113u||(e.$113u=!0,e.iv())},invalidate:function(Q){var l=this;Q&&(l.$102u=!0),l.$112u||(l.$112u=!0,no(l.validate,l),l.onInvalidated&&l.onInvalidated(),l.fireViewEvent("invalidate"))},$101u:function(W,G){return W==G?!0:W&&G?W.width===G.width&&W.height===G.height:void 0},checkPreferredSize:function(x){var U=this,B=U.getPreferredSizeProperties();B[x]&&(U._figuredPreferredSizeCache=C,U.isPreferredSizeSet()||(U._preferredSizeCache=C,U.fireViewEvent("invalidatePreferredSize")))},checkMinSize:function(H){var G=this,K=G.getMinSizeProperties();K[H]&&(G._figuredMinSizeCache=C,G.isMinSizeSet()||(G._minSizeCache=C,G.fireViewEvent("invalidateMinSize")))},checkMaxSize:function(K){var H=this,$=H.getMaxSizeProperties();$[K]&&(H._figuredMaxSizeCache=C,H.isMaxSizeSet()||(H._maxSizeCache=C,H.fireViewEvent("invalidateMaxSize")))},getCurrentBorder:function(){var W=this,U=W.$346u,H=W.getBorder(),Q=H;return U&&(Q=W.getErrorBorder()||H),Q},$343u:function(g){var D=this,d=D.$344u,_=g.property;if("translateX"===_||"translateY"===_||"x"===_||"y"===_||_===bd||_===$o)setTimeout(function(){D.isInDOM()&&(D.$344u.isInDOM()?D.$344u.resetPosition():D.$344u.show())},100);else if(_===Fe)g.newValue?D.onOnce("endValidate",function(){d.isInDOM()?d.resetPosition():d.show()}):d.hide();else if(_===Sj||"renderParent"===_){for(var H=g.oldValue,n=g.newValue;H;)H.removePropertyChangeListener(D.$343u,D),H=H._parent||H.renderParent;for(;n;)n.addPropertyChangeListener(D.$343u,D),n=n._parent||n.renderParent;g.newValue?D.onOnce("endValidate",function(){d.isInDOM()?d.resetPosition():d.show()}):d.hide()}},$349u:function(K){"render"===K.kind&&K.view.$344u&&K.view.$344u.resetPosition()},setErrorBorder:function(U){var P=this,g=P.getErrorBorder();P.setPropertyValue("errorBorder",U),g!==U&&P.getErrorMessage()!=y&&P.$240u()},setErrorMessage:function(L,W){var o=this,g=o.$344u;if(L!=y){if(g==y){g=o.$344u=new H.ErrorMessagePopover(W);for(var s=o;s;)s.addPropertyChangeListener(o.$343u,o),s=s._parent||s.renderParent;o.addViewListener(o.$349u,o)}else g.set(W);o.$346u||(o.$346u=!0,o.$240u()),g.setContentView(new H.HtmlView('<div style="color: '+g.getColor()+"; font: "+g.getFont()+'">'+L+"</div>")),g.setMaster(o),o.isInDOM()&&o.onOnce("endValidate",function(){o.isInDOM()&&(g.isInDOM()?g.resetPosition():g.show())})}else if(o.$346u&&(delete o.$346u,o.$240u()),g){g.hide();for(var s=o;s;)s.removePropertyChangeListener(o.$343u,o),s=s._parent||s.renderParent;o.removeViewListener(o.$349u),delete o.$344u}return o.setPropertyValue("errorMessage",L),o.$344u},getErrorMessage:function(){return this.getPropertyValue("errorMessage")},showPopover:function(){var B=this,_=B.getPopover();if(_&&!_.isInDOM()){var M=B.getPopoverPlacements();M&&_.setPlacements(M),_.show(),_.refreshStyles(),"hover"!==B.getPopoverTrigger()||il?U.addEventListener(il?"touchstart":"mousedown",B.$241u):(U.addEventListener("mousemove",B.$287u),l!==_&&(l&&l.getMaster().hidePopover(),l=_))}},hidePopover:function(){var t=this,G=t.getPopover();G&&G.isInDOM()&&(G.hide(),"hover"!==t.getPopoverTrigger()||il?U.removeEventListener(il?"touchstart":"mousedown",t.$241u):(U.removeEventListener("mousemove",t.$287u),delete t.$359u,l=y))},setPopoverTrigger:function(e,Q){var K=this,g=K._view,q=K.getPopover();if(K.hidePopover(),e=e||"hover",this.setPropertyValue("popoverTrigger",e),K.$242u&&(g.removeEventListener("mouseenter",K.$242u),q&&q.getView().removeEventListener("mouseenter",K.$242u)),K._popoverMouseLeaveHandler&&(g.removeEventListener("mouseleave",K._popoverMouseLeaveHandler),q&&q.getView().removeEventListener("mouseleave",K._popoverMouseLeaveHandler)),K.$286u&&g.removeEventListener(il?"touchstart":"mousedown",K.$286u),q)if("hover"!==e||il){if("click"===e){var n=K.$286u,l=K.$241u;n||(n=K.$286u=function(){var I=K.getPopover();I.isInDOM()?K.hidePopover():K.showPopover()}),l||(l=K.$241u=function(g){K.containsEvent(g)||K.hidePopover()}),g.addEventListener(il?"touchstart":"mousedown",n)}}else{var s=K.$242u,j=K._popoverMouseLeaveHandler;s||(s=K.$242u=function(){K.$359u!=y&&(clearTimeout(K.$359u),delete K.$359u),K.showPopover()}),j||(j=K._popoverMouseLeaveHandler=function(){K.$359u=setTimeout(function(){K.hidePopover()},null==Q?O.toolTipDelay:Q)}),g.addEventListener("mouseenter",s),g.addEventListener("mouseleave",j),q.getView().addEventListener("mouseenter",s),q.getView().addEventListener("mouseleave",j)}},containsEvent:function(Z){for(var i=this,V=Nl(Z);V&&!V.htComp;)V=V.parentNode;var f;V&&(f=V.htComp);for(var C;f;){if(f===i){C=!0;break}f=f.getParent()||f.getStyleParent()}return C},setPopover:function(V,u,K){var n=this;if(n.hidePopover(),V&&!(V instanceof H.View)){var L=new H.HtmlView(V);V=new H.Popover,V.setContentView(L)}V&&(V.setMaster(n),V.getStyleParent=function(){return n}),n.setPropertyValue("popover",V),n.setPopoverTrigger(u,K)},getContextMenu:function(){return z._uiSerializing?this._contextMenu:this._contextMenu||this._contextMenuCache},setContextMenu:function(O){var d=this,t=d._contextMenu;if(t!==O){d.setPropertyValue("contextMenu",O);var P=d.$243u;if(O&&!P){var P=d.$243u=new H.ViewContextMenuInteractor(d,O);P.addListeners()}else!O&&P&&(P.removeListeners(),d.$243u=y)}},getContextMenuUrl:function(){return this._contextMenuUrl},setContextMenuUrl:function(Z){var I=this,V=I._contextMenuUrl,N=I._contextMenuCache;if(V!==Z)if(I.setPropertyValue("contextMenuUrl",Z),Z){H._uiRendererLoadedMap||(H._uiRendererLoadedMap={});var q=H._uiRendererLoadedMap[Z];if(q||(q=O.xhrLoad(Z,null,{sync:!0}),q&&(H._uiRendererLoadedMap[Z]=q)),q){var A=new H.UIJSONSerializer;N=A.deserialize(q)}}else Z=C;if(N!=I._contextMenuCache){I._contextMenuCache=N;var u=I.$243u;if(u&&(u.removeListeners(),I.$243u=y),N){var u=I.$243u=new H.ViewContextMenuInteractor(I,N);u.addListeners()}}},$105u:function(){var _=this;if(_.getChildren)for(var r=_._children,d=0,C=r.size();C>d;d++){var w=r.get(d);w.$106u(),w.$105u()}var J=_.$230u;J&&(J.$106u(),J.$105u())},$106u:function(){var $=this;$.$199u=y,$.checkPreferredSize("*"),$.checkMaxSize("*"),$.checkMinSize("*"),$.$353u=y,$.__styleConvertBorderMap=y,$.hasContentCanvas()&&($.$103u=!0),$.$104u=!0,$.$113u=!0},$305u:function(d,n){var O=this.getView(),o=O.style;return o.left=d+vl,o.top=n+vl,this.resetBadgeDOM(),!0},syncToAncestorBindingData:function(k){var $=this,X=$._bindings;if(X)for(var H=0;H<X.length;H++){var n=X[H];if(Sp(n.property))var l=n.property;else var l=n.property.name;if(l&&(l.indexOf("is:")>=0&&(l=l.substr(l.indexOf(":")+1)),l===k.property)){var v=n.targetProperty,L=$.findBindingAncestor();L&&L._bindingData&&(L._bindingData[v]=k.newValue,L.syncToAncestorBindingData(k));break}}},onPropertyChanged:function(A){var _=this,X=A.property;if(X===Sj&&!_.isInDOM()){_.closePopup();var T=function(Q){var $=Q.$244u;$&&($.width=0,$.height=0),Q.getChildren&&Q.getChildren().each(function(C){T(C)})};T(_)}if("layoutParams"!==X&&("x"!==X&&"y"!==X||!_.$305u(_.getX(),_.getY())))if(X===_f)_.$106u(),_.$105u(),_.iv(!0);else if("zoom"===X)_.iv(!0);else if(X===Sj);else{var S=_.getDOMProperties();if(S[X]&&(_.$113u=!0),_.checkPreferredSize(X),_.checkMinSize(X),_.checkMaxSize(X),X===np)_.hasContentCanvas()&&(_.$103u=!0),_.$104u=!0;else if(X===bd||X===$o){if(_.endEdit&&_.endEdit(),_.hasContentCanvas()){_.$103u=!0;var K=_.getCurrentBorder();K&&!K.isCSSBorder()&&(_.$104u=!0)}}else"selected"===X&&_ instanceof H.ToggleButton?_.$104u=!0:("backgroundDrawable"===X||"background"===X)&&_.hasContentCanvas()&&(_.$103u=!0);_.iv()}},$240u:function(){var V=this;V.checkPreferredSize(np),V.checkMinSize(np),V.checkMaxSize(np),V.hasContentCanvas()&&(V.$103u=!0),V.$104u=!0,V.$113u=!0,V.iv()},isInDOM:function(){for(var c=this.getView();c;){if(c===u.body)return!0;c=c.parentNode}return!1},drawBackground:function(R,Y,k,u,P,U){if(R){var X=this;if(Y==y){Y=X.getContentLeft()-X.getPaddingLeft(),k=X.getContentTop()-X.getPaddingTop();var h=X.getWidth(),A=X.getHeight(),D=X.getBorderLeft(),$=X.getBorderRight(),S=X.getBorderTop(),o=X.getBorderBottom();u=h-D-$,P=A-S-o}R.draw(Y,k,u,P,y,X,U)}},drawBorder:function(j,o,L,q,K,R){if(j){var N=this;o==y&&(o=0,L=0,q=N.getWidth(),K=N.getHeight()),j.drawBorder(o,L,q,K,N,R)}},tearDownBorder:function(f,U,b,G,h,l){if(f){var s=this;1===arguments.length&&(U=0,b=0,G=s.getWidth(),h=s.getHeight()),f.tearDownBorder(U,b,G,h,s,l)}},$176u:function(Q,C,W,R){var X=this;if(X.$244u){var Z=X.getRootContext();Z.clearRect(Q,C,W,R)}},getRootCanvas:function(){return this.$244u},addRootCanvasDOM:function(s,u){var v=s.children;v.length>0?s.insertBefore(u,v[0]):s.appendChild(u)},getRootContext:function(Z,$){var V,k=this,i=Z||k.$244u,L=k.getZoom();if($||(V=i&&i.$93u),!V){var s=k.getCurrentBorder();if(!i){var G=k._view;i=k.$244u=Hi(),i.setAttribute(S,"ht-rootCanvas"),s&&s.isCSSBorder()?Yh(i,(k.getWidth()-k.getBorderLeft()-k.getBorderRight())*L,k.getHeight()-k.getBorderTop()-k.getBorderBottom())*L:Yh(i,k.getWidth()*L,k.getHeight()*L),k.addRootCanvasDOM(G,i)}if(i===k.$244u)if(s&&s.isCSSBorder()){var c=(k.getWidth()-k.getBorderLeft()-k.getBorderRight())*L,Q=(k.getHeight()-k.getBorderTop()-k.getBorderBottom())*L;(w(c*O.devicePixelRatio)!=i.width||w(Q*O.devicePixelRatio)!=i.height)&&Yh(i,c,Q)}else{var c=k.getWidth()*L,Q=k.getHeight()*L;(w(c*O.devicePixelRatio)!=i.width||w(Q*O.devicePixelRatio)!=i.height)&&Yh(i,c,Q)}V=i.$93u=Lf(i),V[Zm]=0,Xl(V,0,0,L),i.style.transform="scale("+1/L+")",i.style.transformOrigin="left top"}return V},processValidateImpl:function(){var N=this,r=N.getCurrentBorder(),$=N.getContentWidth(),o=N.getContentHeight(),T=N.getContentLeft(),u=N.getContentTop(),e=!1,l=N.getId();null!=l&&(N._view.id=l);var f=N.$279u;f!==r&&(f&&(f.removePropertyChangeListener(N.$240u,N),N.tearDownBorder(f)),r&&r.addPropertyChangeListener(N.$240u,N),N.$279u=r),r&&r.isCSSBorder()&&(e=!0),N.hasContentCanvas()&&N.$103u===!1?N.validateImpl(T,u,$,o):(N.$176u(0,0,N.getWidth(),N.getHeight()),N.drawBackground(N.getBackgroundDrawable()),N.validateImpl(T,u,$,o),(!N.hasContentCanvas()&&!e||N.$104u!==!1)&&N.drawBorder(r),N.$103u=!1,N.$104u=!1);var q=N.$244u;q&&q.$93u&&(q.$93u.restore(),q.$93u=y);var E=N._canvas;E&&E.$93u&&(E.$93u.restore(),E.$93u=y),N.resetBadgeDOM()},resetBadgeDOM:function(){var S=this,G=S.getBadgeParams(),l=S._badgeDiv,_=S._view;if(G){l||(l=S._badgeDiv=u.createElement("div"),l.className="ht-ui-view-badge");var J=G.value;G.max<J&&(J=G.max+"+");var X=G.dot;if(X?(l.innerHTML="",l.style.width="6px",l.style.height="6px",l.style.position="absolute",l.style.background="rgb(245, 108, 108)",l.style.padding="0",l.style.border="1px solid #fff",l.style.borderRadius="50%"):(l.innerHTML=J,l.style.width=y,l.style.height=y,l.style.padding=".25em .625em",l.style.font=G.font||M.font,l.style.position="absolute",l.style.background="rgb(245, 108, 108)",l.style.color="#fff",l.style.border=y,l.style.borderRadius="10000px"),G.css)for(var e in G.css)l.style[e]=G.css[e];!l.parentNode&&_.parentNode&&_.parentNode.appendChild(l),G.type&&("success"===G.type?l.style.background="rgb(103, 194, 58)":"warn"===G.type?l.style.background="rgb(230, 162, 60)":"error"===G.type?l.style.background="rgb(245, 108, 108)":"info"===G.type&&(l.style.background="rgb(64, 158, 255)"));var p=G.visible===!1?!1:!0;l.style.display=p?"inline-block":Kp;var O=l.getBoundingClientRect(),g=S.getX(),U=S.getY(),H=S.getWidth();if(l.style.top=U-O.height/2+"px",l.style.left=g+H-O.width/2+"px",G.css)for(var e in G.css)l.style[e]=G.css[e]}else l&&xm(l)},toBorderRadiusCss:function(o){if(Jr(o)){for(var q=o.slice(0),I=0;I<q.length;I++){var _=q[I];Oi(_)&&(q[I]=_+vl)}o=q.join(" ")}else o=aj(o)+vl;return o},layoutDOM:function(b,T,x,F){var a=this,P=a._view,E=a.getCurrentBorder(),j=a.$244u,K=a._canvas,t=a.getBorderLeft(),m=a.getBorderRight(),r=a.getBorderTop(),u=a.getBorderBottom(),p=a.getPaddingLeft(),R=a.getPaddingTop(),i=a.getBoxShadow(),k=a.getBorderRadius(),Y=a.$198u;mh(P,b,T,x,F);var B,q,Q,U;E&&E.isCSSBorder()?(B=p,q=R):(B=p+t,q=R+r),Q=a.getContentWidth(),U=a.getContentHeight(),Y&&mh(Y,B,q,Q,U),j&&(E&&E.isCSSBorder()?Yh(j,x-t-m,F-r-u):Yh(j,x,F)),K&&Yh(K,Q,U),i!=y&&a.setBoxShadowStyle(i),k!=y?(k=a.toBorderRadiusCss(k),a._view.style.borderRadius=k,a.$289u&&(a.$289u.style.borderRadius=k)):(a._view.style.borderRadius="",a.$289u&&(a.$289u.style.borderRadius=""))},setBoxShadowStyle:function(d){var h=this.getView();h.style.boxShadow=d},$306u:function(B,K){B.display=K?jq:Kp},validate:function(){var v=this;if(v.$112u){delete v.$112u;var h=v.getView(),t=v.getX(),F=v.getY(),L=v.getWidth(),X=v.getHeight();if(L!=y&&X!=y){v.$113u&&(v.layoutDOM(t,F,L,X),v.$113u=y);var J=h.style;if(!il){var s=v.getCursor();s==y&&(s=""),J.cursor=s}var A=v.getZIndex();J.zIndex=A!=y?A+"":"";var w=v._parent,c=w?w.isChildVisible?w.isChildVisible(v):!0:!0;v.$306u(J,c&&v.isVisible()),v.fireViewEvent("beginValidate"),v.processValidateImpl(),v.fireViewEvent("endValidate"),v.$127u&&v.$127u();var g=v.isDisabled(),Z=v.$289u;if(g&&!Z){Z=v.$289u=Cd(C,!1);var M=u.createElement("canvas");Z.className="ht-ui-disabled",Z.setAttribute(S,"ht-disabled"),Z.style.width="100%",Z.style.height="100%",Z.appendChild(M)}v.makeDisabled(g,Z),Ve(v),Vg(v),delete v.$102u}}},makeDisabled:function(A,P){var H=this,f=function(){if(H._loadingInterval){clearInterval(H._loadingInterval),delete H._loadingInterval;var K=P.firstChild,A=Lf(K);A.clearRect(0,0,K.width,K.height)}};if(A)if(Zf(H._view,P),P.style.background=H.getDisabledBackground(),Sp(A)){var g=P.className;if(g?g.indexOf(A)<0&&(P.className=g+" "+A):P.className=A,"loading"===A){var F=P.firstChild,r=P.clientWidth,$=P.clientHeight;F.style.width=r,F.style.height=$,Yh(F,r,$);var h=Lf(F),I=H.getZoom();Xl(h,0,0,I),F.style.transform="scale("+1/I+")",F.style.transformOrigin="left top",H._loadingInterval==y&&(H._loadingInterval=setInterval(function(){h.clearRect(0,0,F.width,F.height),H._loadingAngle==y?H._loadingAngle=0:H._loadingAngle+=Math.PI/18,z.Default.drawImage(h,z.Default.getImage("ui_loading"),(F.clientWidth-30)/2,(F.clientHeight-30)/2,30,30,y,H)},30))}else f()}else f();else P&&(xm(P),H.$289u=y),f()},validateImpl:function(){},addViewListener:function(u,R,m){var H=this;H.$107u||(H.$107u=new z.Notifier),H.$107u.add(u,R,m)},removeViewListener:function(b,Y){this.$107u.remove(b,Y)},fireViewEvent:function(Y){var b=this;b.$107u&&(Sp(Y)&&(Y={kind:Y,source:b}),b.$107u.fire(Y)),O.viewListener&&O.viewListener(b,Y)},getInteractiveComp:function(_){var w=this,J=w.getContentPoint(_);J.x+=w.getPaddingLeft(),J.y+=w.getPaddingTop(),w.tx&&(J.x+=w.tx()),w.ty&&(J.y+=w.ty());var B=w.getCurrentBorder();B&&!B.isCSSBorder()&&(J.x+=w.getBorderLeft(),J.y+=w.getBorderTop());var f=w._vectorCompInfo;if(f)for(var U=O.devicePixelRatio,u=0;u<f.length;u++){var Z=f[u],N=Z.transform,o=O.clone(Z.rect);if(o.x=o.x*N.a/U+N.e/U,o.y=o.y*N.d/U+N.f/U,o.width*=N.a/U,o.height*=N.d/U,O.containsPoint(o,J))return Z}},closePopup:function(){var x=this.getContextMenu();x&&x.hide(),this.hidePopover()},getSerializableProperties:function(){return{x:1,y:1,width:1,height:1,border:1,background:1,backgroundDrawable:1,cursor:1,padding:1,margin:1,disabled:1,toolTipEnabled:1,disabledBackground:1,layoutParams:1,zIndex:1,minSize:1,maxSize:1,preferredSize:1,id:1,focusable:1,style:1,boxShadow:1,borderRadius:1,contextMenu:1,contextMenuUrl:1,"is:redrawOnFocus":1,visible:1,popover:1,popoverTrigger:1,errorMessage:1,errorBorder:1,bindings:1,drawableState:1,formDataName:1,badgeParams:1}
}});var qf=df.prototype;H.ViewContextMenuInteractor=function($,K){var d=this;H.ViewContextMenuInteractor.superClass.constructor.call(d,$),d.$336u=d.$338u.bind(d),d.$131u=d.$337u.bind(d),d._contextMenu=K},sf("ht.ui.ViewContextMenuInteractor",H.Interactor,{addListeners:function(){var p=this,w=p.getView();w.addEventListener("contextmenu",p.$336u)},removeListeners:function(){var C=this,Z=C.getView();Z.removeEventListener("contextmenu",C.$336u)},$338u:function(L){il&&(L=ck(L)),L.preventDefault();var G=this._contextMenu;G.$226u=this.getComponent(),G.show(L),u.addEventListener(il?"touchstart":"mousedown",this.$131u,!0)},$337u:function(K){var N=this._contextMenu;N.getView().contains(Nl(K))||(N.hide(),N.$226u=y,u.removeEventListener(il?"touchstart":"mousedown",this.$131u,!0))}});var pf=H.ViewGroup=function(g){var S=this;S._children=new z.List,pf.superClass.constructor.call(S,g)};sf("ht.ui.ViewGroup",df,{ui_ac:["overflow","is:autoCloseChildrenPopup"],ui_txy:1,__overflow:"hidden",__autoCloseChildrenPopup:!0,_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{children:!0,childPreferredSize:!0,childStyle:!0,childLayoutParams:!0,childVisible:!0,childMinSize:!0,childMaxSize:!0}),_minSizeProps:Nf(Fb(qf._minSizeProps),{children:!0,childMinSize:!0,childStyle:!0,childLayoutParams:!0,childVisible:!0}),_maxSizeProps:Nf(Fb(qf._maxSizeProps),{children:!0,childMaxSize:!0,childStyle:!0,childLayoutParams:!0,childVisible:!0}),$284u:Nf(Fb(qf.$284u),{overflow:!0}),_focusable:!1,__background:H.uiTheme.viewGroupBackground,setBindingData:function(k,d){var W=this,p=W._bindingData;if(p){var $={};for(var L in W._bindingData)$[L]=W._bindingData[L];W._bindingData=$}else W._bindingData={};if(O.isObject(k))W._bindingData=k;else{var M=W._bindingData;M[k]=d}W.fp("bindingData",p,W._bindingData);var h=function($){$.forEach(function(d){d.checkBindings&&d.checkBindings(Sp(k)?k:y),!d.getChildren||d instanceof H.RefViewGroup||h(d.getChildren())})};h(W.getChildren())},removeBindingData:function(F){var f=this,O=f._bindingData;if(f._bindingData={},O)for(var W in O)f._bindingData[W]=O[W];delete f._bindingData[F],f.fp("bindingData",O,f._bindingData);var w=function(U){if(U.checkBindings(F),U.getChildren){var c=U.getChildren();c.forEach(function(O){w(O)})}};w(f)},getBindingData:function(c){var S=this._bindingData;return S?c?S[c]:S:void 0},fixWebkitBorderOverflow:function(){var X,t=this,m=t.getOverflow();"hidden"===m||(X=!1),H.ViewGroup.superClass.fixWebkitBorderOverflow.call(t,X)},layoutDOM:function(E,j,o,T){var l=this,v=l.getOverflow();H.ViewGroup.superClass.layoutDOM.call(l,E,j,o,T),l._view.style.overflow=v,l.getContentDiv().style.overflow=v},closeChildrenPopup:function(v){var m=this;v==y&&(v=m._children);for(var _=v.size(),a=0;_>a;a++){var S=v.get(a);S.closeChildrenPopup&&m.closeChildrenPopup(S._children),S.closePopup()}},onPropertyChanged:function(c){var Y=this,h=c.property;!Y.isAutoCloseChildrenPopup()||"translateX"!==h&&"translateY"!==h&&h!==bd&&h!==$o||(Y.$350u==y?Y.closeChildrenPopup():Y.$351u==y&&(Y.$351u=setTimeout(function(){Y.closeChildrenPopup(),delete Y.$351u},200)),Y.$350u!=y&&(clearTimeout(Y.$350u),delete Y.$350u),Y.$350u=setTimeout(function(){delete Y.$350u},1e3)),h===Fe&&c.newValue&&Y.redraw(!0),pf.superClass.onPropertyChanged.call(Y,c)},initView:function(T){var g=this;H.ViewGroup.superClass.initView.call(g,T),g.getContentDiv().style.zIndex="0"},getInteractorClasses:function(){return[H.ViewGroupScrollInteractor]},adjustChildHeight:function(t,S){var G=this.getChildMaxSize(t),P=this.getChildMinSize(t);return S=N(G.height,S),S=s(P.height,S)},adjustChildWidth:function(o,i){var u=this.getChildMaxSize(o),b=this.getChildMinSize(o);return i=N(u.width,i),i=s(b.width,i)},getExpressionValue:function(G,_){for(var t=/(\d+(\.\d+){0,1})%/g,q=_,b;null!=(b=t.exec(_));){var V=parseFloat(b[1]),n=G*V/100;q=q.replace(b[1]+"%",n)}return eval(q)},isSelfViewEvent:function(e){var $=this,X=pf.superClass.isSelfViewEvent.call($,e);if(!X){var G=Nl(e);(G===$.$40u||G===$.$41u)&&(X=!0)}return X},createHMarginDiv:function(){var E=this,p=E.getContentDiv(),I=E.$40u=Sl();return I.setAttribute(S,"ht-rightMargin"),I.style.top="0",I.style.height=1+vl,I.style.width=1+vl,p.appendChild(I),I},createVMarginDiv:function(){var b=this,q=b.getContentDiv(),P=b.$41u=Sl();return P.setAttribute(S,"ht-bottomMargin"),P.style.left="0",P.style.width=1+vl,P.style.height=1+vl,q.appendChild(P),P},setChildren:function(M){if(this.clear(),M instanceof z.List&&(M=M._as),Jr(M))for(var U=0,m=M.length;m>U;U++)this.addView(M[U])},getChildren:function(){return this._children},toChildren:function(){return this._children.toList()},getVisibleChildren:function(){var O=this._children,$=new z.List;return O.each(function(U){U.isVisible()&&$.add(U)}),$},getChildMaxSize:function(m){var U=m.getMaxSize(),u={width:U.width,height:U.height};if(u.width==y){var N=m._figuredMaxSizeCache;N||(N=m._figuredMaxSizeCache=m.figureMaxSize()),u.width=N.width}else if(u.height==y){var N=m._figuredMaxSizeCache;N||(N=m._figuredMaxSizeCache=m.figureMaxSize()),u.height=N.height}return u},getChildMinSize:function(_){var m=_.getMinSize(),E={width:m.width,height:m.height};if(E.width==y){var b=_._figuredMinSizeCache;b||(b=_._figuredMinSizeCache=_.figureMinSize()),E.width=b.width}else if(E.height==y){var b=_._figuredMinSizeCache;b||(b=_._figuredMinSizeCache=_.figureMinSize()),E.height=b.height}return E},getChildPreferredSize:function(K){var l=K.getPreferredSize(),h={width:l.width,height:l.height};if(h.width==y){var i=K._figuredPreferredSizeCache;i||(i=K._figuredPreferredSizeCache=K.figurePreferredSize()),h.width=i.width}else if(h.height==y){var i=K._figuredPreferredSizeCache;i||(i=K._figuredPreferredSizeCache=K.figurePreferredSize()),h.height=i.height}return h},getChildLayoutParams:function(X){var V=X.getMarginLeft(),S=X.getMarginRight(),P=X.getMarginTop(),f=X.getMarginBottom(),L=X.getLayoutParams();if(L){var Y=!1;L.marginLeft==y&&V!=y&&(Y=!0,L=Fb(L),L.marginLeft=V),L.marginRight==y&&S!=y&&(Y||(Y=!0,L=Fb(L)),L.marginRight=S),L.marginTop==y&&P!=y&&(Y||(Y=!0,L=Fb(L)),L.marginTop=P),L.marginBottom==y&&f!=y&&(Y||(Y=!0,L=Fb(L)),L.marginBottom=f)}else L={},V!=y&&(L.marginLeft=V),S!=y&&(L.marginRight=S),P!=y&&(L.marginTop=P),f!=y&&(L.marginBottom=f);return L},addView:function(V,$,K){var Z=this;$!=y&&V.setLayoutParams($),Z.addViewImpl(V,K)},clear:function(){var Q=this,W=Q._children;if(W.size()>0){for(var v=W._as.slice(0),D=0;D<v.length;D++){var t=v[D];t.removePropertyChangeListener(Q.$174u,Q),t.removeViewListener(Q.$173u,Q),Q.removeChildDOM(t),t.setParent(y)}Q._children=new z.List,Q.fp(gn,y,Q._children),Q.$105u(),Q.iv(!0)}},removeView:function(m){var Y=this;if(m&&m._parent===Y){Y.fireViewEvent({kind:"beforeRemoveView",source:Y,child:m});var X=Y._children;m.removePropertyChangeListener(Y.$174u,Y),m.removeViewListener(Y.$173u,Y),m.getView().parentNode===Y.getContentDiv()&&Y.removeChildDOM(m),X.remove(m),m.setParent(y),Y.fireViewEvent({kind:"removeView",source:Y,child:m}),Y.fp(gn,y,X),Y.$105u(),Y.iv(!0)}},removeViewAt:function(m){var Z=this._children.get(m);this.removeView(Z)},findViewById:function(M,l,d){return l===C&&(l=!0),d===C&&(d=!0),this.$225u(M,this._children,l,d)},$225u:function(k,r,$,O){if(r)for(var z=0,J=r.size();J>z;z++){var t=r.get(z);if(t.getId()===k)return O&&t instanceof H.RefViewGroup?t.getChildren().get(0):t;if($){var E=this.$225u(k,t._children,$,O);if(E)return E}}},layoutChild:function(l,W,N,g,s){l._fullscreen||(l.setX(w(W)),l.setY(w(N)),l.setWidth(w(g)),l.setHeight(w(s)),this.$102u&&l.iv(!0),l.validate())},getChildAt:function(T,v){var c=this,y=Nl(T),C=T,I=c._children._as.slice(0);y&&(C=c.lp(T)),I.sort(function(O,N){var T=O.getZIndex()||0,k=N.getZIndex()||0;return T>k?1:T==k?0:-1});for(var $=I.length-1;$>=0;$--){var A=I[$];if((!v||v(A))&&wp({x:A.getX(),y:A.getY(),width:A.getWidth(),height:A.getHeight()},C))return A}},$174u:function(B){var G=this,H=B.property,j=B.source;H===Fe?(G.checkPreferredSize("childVisible"),G.checkMinSize("childVisible"),G.checkMaxSize("childVisible"),G.iv()):H===dd?j.isVisible()&&(G.checkPreferredSize("childPreferredSize"),G.iv()):H===Qc?j.isVisible()&&(G.checkMinSize("childMinSize"),G.checkPreferredSize("childMinSize"),G.iv()):H===Zm?j.isVisible()&&(G.checkMaxSize("childMaxSize"),G.checkPreferredSize("childMaxSize"),G.iv()):H===_f?j.isVisible()&&(G.checkPreferredSize("childStyle"),G.checkMinSize("childStyle"),G.checkMaxSize("childStyle"),G.iv()):H===$m&&j.isVisible()&&(G.checkPreferredSize("childLayoutParams"),G.checkMinSize("childLayoutParams"),G.checkMaxSize("childLayoutParams"),G.iv())},$173u:function(v){var s=this,w=v.kind,N=v.source;if("invalidatePreferredSize"===w){if(N.isVisible()){var M=s.getChildLayoutParams(N);M&&M.width!=y&&M.width!==rj&&M.width!==oo&&M.height!=y&&M.height!==rj&&M.height!==oo||(s.checkPreferredSize("childPreferredSize"),s.iv())}}else"invalidateMinSize"===w?N.isVisible()&&(s.checkMinSize("childMinSize"),s.iv()):"invalidateMaxSize"===w&&N.isVisible()&&(s.checkMaxSize("childMaxSize"),s.iv())},addViewImpl:function(Z,o){var C=this,_=C._children,N=Z._parent;(N!==C||o!=y)&&(C.fireViewEvent({kind:"beforeAddView",source:C,child:Z}),N&&(N instanceof H.Panel?N.setContentView(y):N.removeView(Z)),_.add(Z,o),Z.addPropertyChangeListener(C.$174u,C),Z.addViewListener(C.$173u,C),C.appendChildDOM(Z),Z.setParent(C),C.fireViewEvent({kind:"addView",source:C,child:Z}),C.fp(gn,y,_),C.$105u(),C.iv(!0))},appendChildDOM:function(n){var m=this;m.getContentDiv().appendChild(n.getView())},removeChildDOM:function(Q){var r=this;Q.getView().parentNode===r.getContentDiv()&&r.getContentDiv().removeChild(Q.getView())},updateScrollBar:function(M,F,V,a){var J=this;if("completelyOff"!=J.getScrollBarMode()){V=T(V),a=T(a);var c=J.$40u;V>M?(c||(c=J.createHMarginDiv()),c.style.left=V-1+vl):c&&(c.parentNode&&c.parentNode.removeChild(c),delete J.$40u);var G=J.$41u;a>F?(G||(G=J.createVMarginDiv()),G.style.top=a-1+vl):G&&(G.parentNode&&G.parentNode.removeChild(G),delete J.$41u);var y=J.getTranslateX(),g=J.getTranslateY();J.$118u={x:-y,y:-g,width:M,height:F},J.$189u=V,J.$188u=a,J._oldTy!==g&&(J.getContentDiv().scrollTop=-g,J._oldTy=g),J._oldTx!==y&&(J.getContentDiv().scrollLeft=-y,J._oldTx=y),J.tx(y),J.ty(g)}},getSerializableProperties:function(){var C={"is:autoCloseChildrenPopup":1},n=pf.superClass.getSerializableProperties.call(this);for(var x in n)C[x]=n[x];return Nf(C,{scrollBarMode:1,scrollBarColor:1,scrollBarSize:1,scrollBarTimeout:1,scrollBarMinLength:1,scrollBarActiveSize:1,autoScrollSize:1,children:1,translateX:1,translateY:1,overflow:1,bindingData:1})}});var Ap=pf.prototype;H.Popover=function(w){var a=this;H.Popover.superClass.constructor.call(a),a.set(w)},sf("ht.ui.Popover",H.ViewGroup,{ui_ac:["placements","arrowBackgroundColor"],ms_ac:["contentView","master"],__background:M.popupBackground,__arrowBackgroundColor:M.popupBackground,__borderRadius:M.borderRadius,__boxShadow:"0 1px 8px rgba(0,0,0,0.3)",__padding:10,__placements:["topLeft","top","topRight","rightTop","right","rightBottom","bottomRight","bottom","bottomLeft","leftBottom","left","leftTop"],__border:new H.border.PopoverBorder,setBoxShadowStyle:function(J){var E=this,Q=E.getBorder();Q&&Q instanceof H.border.PopoverBorder||H.Popover.superClass.setBoxShadowStyle.call(E,J)},onPropertyChanged:function(_){var P=this,n=_.property;H.Popover.superClass.onPropertyChanged.call(P,_),"master"===n&&P.isInDOM()&&P.resetPosition()},$309u:function(P,k){var j=P.x,D=P.y,w=k.width,e=k.height,p=hi();return j<p.left?!0:D<p.top?!0:j+w>p.left+p.width?!0:D+e>p.top+p.height?!0:void 0},_getBottomPosition:function(w,L){return{x:w.left+w.width/2-L.width/2,y:w.top+w.height}},_getBottomLeftPosition:function(J){var x=this;return{x:J.left-x.getBorderLeft(),y:J.top+J.height}},_getBottomRightPosition:function(t,Q){var W=this;return{x:t.left+t.width-Q.width+W.getBorderRight(),y:t.top+t.height}},_getTopPosition:function(M,f){return{x:M.left+M.width/2-f.width/2,y:M.top-f.height}},_getTopLeftPosition:function(Q,c){var m=this;return{x:Q.left-m.getBorderLeft(),y:Q.top-c.height}},_getTopRightPosition:function(P,z){var A=this;return{x:P.left+P.width-z.width+A.getBorderRight(),y:P.top-z.height}},_getLeftPosition:function(O,l){return{x:O.left-l.width,y:O.top+O.height/2-l.height/2}},_getLeftTopPosition:function(G,s){var O=this;return{x:G.left-s.width,y:G.top-O.getBorderTop()}},_getLeftBottomPosition:function(x,J){var t=this;return{x:x.left-J.width,y:x.top+x.height-J.height+t.getBorderBottom()}},_getRightPosition:function(n,s){return{x:n.left+n.width,y:n.top+n.height/2-s.height/2}},_getRightTopPosition:function(w){var e=this;return{x:w.left+w.width,y:w.top-e.getBorderTop()}},_getRightBottomPosition:function(U,q){var l=this;return{x:U.left+U.width,y:U.top+U.height-q.height+l.getBorderBottom()}},getPlacement:function(){return this._placement},resetPosition:function(){var J=this,$=(J.getView(),J.getPlacements()),V=J.getMaster(),G=V instanceof H.View?V.getView().getBoundingClientRect():V,z=J.getPreferredSize();if(V instanceof H.View){var t=O.getWindowInfo();G={left:G.left,top:G.top,width:G.width,height:G.height},G.left+=t.left,G.top+=t.top}else G.x!=y&&G.left==y&&(G.left=G.x),G.y!=y&&G.top==y&&(G.top=G.y);$&&0!==$.length||($=["topLeft","top","topRight","rightTop","right","rightBottom","bottomRight","bottom","bottomLeft","leftBottom","left","leftTop"]);for(var d,f=0,Y=$.length;Y>f;f++){var W=$[f],d=J["_get"+W.charAt(0).toUpperCase()+W.slice(1)+"Position"](G,z);if(J._placement=W,!J.$309u(d,z))break}J.setX(d.x),J.setY(d.y)},$305u:function(R,X){return H.Popover.superClass.$305u.call(this,R,X),!1},show:function(){var t=this,m=t.getView(),g=t.getPreferredSize();t.resetPosition(),t.setWidth(g.width),t.setHeight(g.height),m.parentNode||(O.appendToScreen(m),t.iv(),t.fireViewEvent({kind:"show"}),t.fireViewEvent("mounted"))},hide:function(){var c=this;xm(c.getView()),c.fireViewEvent({kind:"hide"}),c.fireViewEvent("unmounted")},setContentView:function(L,D){var K=this;K.clear(),K.addView(L,D,C,!0),K.setPropertyValue("contentView",L)},addView:function(Z,s,M,x){if(!x)throw"Panel: Use setContentView instead of addView.";H.Popover.superClass.addView.call(this,Z,s,M)},$4u:function(z){var S=this,Z=S.getContentView(),E={width:S.getPaddingLeft()+S.getPaddingRight()+S.getBorderLeft()+S.getBorderRight(),height:S.getPaddingTop()+S.getPaddingBottom()+S.getBorderTop()+S.getBorderBottom()},N=Z[_q(z+"Size")]();return E.width+=N.width,E.height+=N.height,E.width=i(E.width),E.height=i(E.height),E},figurePreferredSize:function(){return this.$4u("preferred")},figureMinSize:function(){return this.$4u("min")},drawBackground:function(e,G,h,z,d,_){var x=this;if(G==y){G=x.getContentLeft()-x.getPaddingLeft(),h=x.getContentTop()-x.getPaddingTop();var o=x.getWidth(),t=x.getHeight(),K=x.getBorderLeft(),n=x.getBorderRight(),O=x.getBorderTop(),D=x.getBorderBottom();z=o-K-n,d=t-O-D}var g=aj(x.getBorderRadius()),J=x.getRootContext(_);J.save(),g&&(J.beginPath(),tg(J,G,h,z,d,g,g,g,g),J.clip()),x.getBorder()&&x.getBorder()instanceof H.border.PopoverBorder&&x.$176u(G,h,z,d),H.Popover.superClass.drawBackground.call(x,e,G,h,z,d,_),J.restore()},drawBorder:function(F,d,l,D,R,J){H.Popover.superClass.drawBorder.call(this,F,d,l,D,R,J),this.drawBackground(this.getBackgroundDrawable())},validateImpl:function(B,X,M,V){var x=this;H.Popover.superClass.validateImpl.call(x,B,X,M,V);var G=x.getContentView();if(G&&G.isVisible()){var W=x.getChildLayoutParams(G),k=W.marginLeft||0,D=W.marginRight||0,U=W.marginTop||0,w=W.marginBottom||0,K=M-k-D,i=V-U-w;x.layoutChild(G,k,U,K,i)}},getSerializableProperties:function(){var P=H.Popover.superClass.getSerializableProperties.call(this);return delete P.children,Nf(P,{contentView:1,placements:1,arrowBackgroundColor:1})}}),H.ErrorMessagePopover=function(r){H.ErrorMessagePopover.superClass.constructor.call(this),r&&r.getView?this.setContentView(r):this.set(r)},sf("ht.ui.ErrorMessagePopover",H.Popover,{ui_ac:["font",B],__padding:5,__font:M.font,__color:"#fff",__zIndex:"10000000",__background:"#FF0033",__arrowBackgroundColor:"#FF0033",__border:new H.border.PopoverBorder(1,"#FF0033"),__boxShadow:C,__placements:[mo]}),H.RelativeLayout=function(v){H.RelativeLayout.superClass.constructor.call(this),this.set(v)},sf("ht.ui.RelativeLayout",pf,{$32u:["toTopOf","toRightOf","toBottomOf","toLeftOf","alignTopOf","alignRightOf","alignBottomOf","alignLeftOf"],$310u:function(s){for(var r=this.getChildLayoutParams(s),v=this.$32u,m=!1,A=0,q=v.length;q>A;A++)if(r[v[A]]!=y){m=!0;break}return m},figurePreferredSize:function(){for(var $=this,o=$.getVisibleChildren(),d=o.size(),j={x:0,y:0,width:0,height:0},F={},e=0;d>e;e++){var b=o.get(e);if(!$.$310u(b)){var Q,x,g=$.getChildLayoutParams(b),W=g.width,D=g.height,C=g.marginLeft||0,h=g.marginRight||0,I=g.marginTop||0,G=g.marginBottom||0,S=g.align||dn,Z=g.vAlign||om,K=$.getChildPreferredSize(b);Q=W===oo?K.width:W===rj||W==y?K.width:Sp(W)?K.width:W,Q=$.adjustChildWidth(b,Q),x=D===oo?K.height:D===rj||D==y?K.height:Sp(D)?K.height:D,x=$.adjustChildHeight(b,x);var q=C,H=I,P=Q+h,p=x+G;S===es&&(q=(C+h)/2),Z===rr&&(H=(I+G)/2);var c={x:q,y:H,width:P,height:p,marginLeft:C,marginRight:h,marginTop:I,marginBottom:G};F[e]=c,j=Ch(j,c)}}for(var k=A.keys(F).length;A.keys(F).length<d;){for(var e=0;d>e;e++)if(F[e]==y){var b=o.get(e);if($.$310u(b)){var Q,x,g=$.getChildLayoutParams(b),W=g.width,D=g.height,C=g.marginLeft||0,h=g.marginRight||0,I=g.marginTop||0,G=g.marginBottom||0,S=g.align||dn,Z=g.vAlign||om,K=$.getChildPreferredSize(b);Q=W===oo?K.width:W===rj||W==y?K.width:Sp(W)?K.width:W,Q=$.adjustChildWidth(b,Q),x=D===oo?K.height:D===rj||D==y?K.height:Sp(D)?K.height:D,x=$.adjustChildHeight(b,x);var U,E,q=C,H=I,P=Q+h,p=x+G;if(g.toTopOf){var v=g.toTopOf;if(U=Sp(v)?$.findViewById(v):v,E=F[o.indexOf(U)],!E)continue;H=E.y-E.marginTop-x-G}else if(g.toBottomOf){var Y=g.toBottomOf;if(U=Sp(Y)?$.findViewById(Y):Y,E=F[o.indexOf(U)],!E)continue;H=E.y+E.height+I}else if(g.alignTopOf){var t=g.alignTopOf;if(U=Sp(t)?$.findViewById(t):t,E=F[o.indexOf(U)],!E)continue;H=E.y+I}else if(g.alignBottomOf){var s=g.alignBottomOf;if(U=Sp(s)?$.findViewById(s):s,E=F[o.indexOf(U)],!E)continue;H=E.y+E.height-E.marginBottom-x-G}else Z===rr&&(H=(I+G)/2);if(g.toLeftOf){var R=g.toLeftOf;if(U=Sp(R)?$.findViewById(R):R,E=F[o.indexOf(U)],!E)continue;q=E.x-E.marginLeft-Q-h}else if(g.toRightOf){var l=g.toRightOf;if(U=Sp(l)?$.findViewById(l):l,E=F[o.indexOf(U)],!E)continue;q=E.x+E.width+C}else if(g.alignLeftOf){var O=g.alignLeftOf;if(U=Sp(O)?$.findViewById(O):O,E=F[o.indexOf(U)],!E)continue;q=E.x+C}else if(g.alignRightOf){var m=g.alignRightOf;if(U=Sp(m)?$.findViewById(m):m,E=F[o.indexOf(U)],!E)continue;q=E.x+E.width-E.marginRight-Q-h}else S===es&&(q=(C+h)/2);var c={x:q,y:H,width:P,height:p,marginLeft:C,marginRight:h,marginTop:I,marginBottom:G};F[e]=c,j=Ch(j,c)}}var L=A.keys(F).length;if(L===k)throw new Error("Circular dependencies may exist in RelativeLayout : "+this.getId());k=L}return{width:i($.getPaddingLeft()+$.getPaddingRight()+$.getBorderLeft()+$.getBorderRight()+j.width),height:i($.getPaddingTop()+$.getPaddingBottom()+$.getBorderTop()+$.getBorderBottom()+j.height)}},validateImpl:function(t,J,U,h){for(var K=this,B=K.getVisibleChildren(),c=B.size(),P={x:0,y:0,width:U,height:h},u={},m=0;c>m;m++){var H=B.get(m);if(!K.$310u(H)){var x,j,T=K.getChildLayoutParams(H),G=T.width,g=T.height,N=T.marginLeft||0,w=T.marginRight||0,M=T.marginTop||0,z=T.marginBottom||0,Q=T.align||dn,o=T.vAlign||om,W=K.getChildPreferredSize(H);x=G===oo?P.width-N-w:G===rj||G==y?W.width:Sp(G)?K.getExpressionValue(U,G):G,x=K.adjustChildWidth(H,x),j=g===oo?P.height-M-z:g===rj||g==y?W.height:Sp(g)?K.getExpressionValue(h,g):g,j=K.adjustChildHeight(H,j);var O=N,L=M,v=x+w,R=j+z;Q===es?O=(P.width-x)/2:Q===mo&&(O=P.width-x-w),o===rr?L=(P.height-j)/2:o===Rb&&(L=P.height-j-z);var S={x:O,y:L,width:v,height:R,marginLeft:N,marginRight:w,marginTop:M,marginBottom:z};u[m]=S,P=Ch(P,S),P.y<0&&(P.height+=P.y,P.y=0),P.x<0&&(P.width+=P.x,P.x=0),K.layoutChild(H,S.x,S.y,S.width-S.marginRight,S.height-S.marginBottom)}}for(var l=A.keys(u).length;A.keys(u).length<c;){for(var m=0;c>m;m++)if(u[m]==y){var H=B.get(m);if(K.$310u(H)){var x,j,T=K.getChildLayoutParams(H),G=T.width,g=T.height,N=T.marginLeft||0,w=T.marginRight||0,M=T.marginTop||0,z=T.marginBottom||0,Q=T.align||dn,o=T.vAlign||om,W=K.getChildPreferredSize(H);x=G===oo?P.width-N-w:G===rj||G==y?W.width:Sp(G)?K.getExpressionValue(U,G):G,x=K.adjustChildWidth(H,x),j=g===oo?P.height-M-z:g===rj||g==y?W.height:Sp(g)?K.getExpressionValue(h,g):g,j=K.adjustChildHeight(H,j);var b,F,O=N,L=M,v=x+w,R=j+z;if(T.toTopOf){var s=T.toTopOf;if(b=Sp(s)?K.findViewById(s):s,F=u[B.indexOf(b)],!F)continue;g===oo&&(j=F.y-F.marginTop-M-z,j=K.adjustChildHeight(H,j),R=j+z),L=F.y-F.marginTop-j-z}else if(T.toBottomOf){var d=T.toBottomOf;if(b=Sp(d)?K.findViewById(d):d,F=u[B.indexOf(b)],!F)continue;g===oo&&(j=P.height-(F.y+F.height)-M-z,j=K.adjustChildHeight(H,j),R=j+z),L=F.y+F.height+M}else if(T.alignTopOf){var e=T.alignTopOf;if(b=Sp(e)?K.findViewById(e):e,F=u[B.indexOf(b)],!F)continue;g===oo&&(j=P.height-F.y-M-z,j=K.adjustChildHeight(H,j),R=j+z),L=F.y+M}else if(T.alignBottomOf){var D=T.alignBottomOf;if(b=Sp(D)?K.findViewById(D):D,F=u[B.indexOf(b)],!F)continue;g===oo&&(j=F.y+F.height-F.marginBottom-M-z,j=K.adjustChildHeight(H,j),R=j+z),L=F.y+F.height-F.marginBottom-j-z}else o===rr?L=(P.height-j)/2:o===Rb&&(L=P.height-j-z);if(T.toLeftOf){var Y=T.toLeftOf;if(b=Sp(Y)?K.findViewById(Y):Y,F=u[B.indexOf(b)],!F)continue;G===oo&&(x=F.x-F.marginLeft-N-w,x=K.adjustChildWidth(H,x),v=x+w),O=F.x-F.marginLeft-x-w}else if(T.toRightOf){var Z=T.toRightOf;if(b=Sp(Z)?K.findViewById(Z):Z,F=u[B.indexOf(b)],!F)continue;G===oo&&(x=P.width-(F.x+F.width)-N-w,x=K.adjustChildWidth(H,x),v=x+w),O=F.x+F.width+N}else if(T.alignLeftOf){var X=T.alignLeftOf;if(b=Sp(X)?K.findViewById(X):X,F=u[B.indexOf(b)],!F)continue;G===oo&&(x=P.width-F.x-N-w,x=K.adjustChildWidth(H,x),v=x+w),O=F.x+N}else if(T.alignRightOf){var $=T.alignRightOf;if(b=Sp($)?K.findViewById($):$,F=u[B.indexOf(b)],!F)continue;G===oo&&(x=F.x+F.width-F.marginRight-N-w,x=K.adjustChildWidth(H,x),v=x+w),O=F.x+F.width-F.marginRight-x-w}else Q===es?O=(P.width-x)/2:Q===mo&&(O=P.width-x-w);var S={x:O,y:L,width:v,height:R,marginLeft:N,marginRight:w,marginTop:M,marginBottom:z};u[m]=S,P=Ch(P,S),K.layoutChild(H,S.x,S.y,S.width-S.marginRight,S.height-S.marginBottom)}}var V=A.keys(u).length;if(V===l)throw new Error("Circular dependencies may exist in RelativeLayout : "+K.getId());l=V}var k=P.width+P.x,a=P.height+P.y;K.updateScrollBar(U,h,k,a)}}),H.TableRow=function(J){var P=this;H.TableRow.superClass.constructor.call(P),P._children=new z.List,P.set(J)},sf("ht.ui.TableRow",A,{ui_ac:["weight"],ms_ac:["id",Sj],ms_fire:!0,$208u:{children:!0,childPreferredSize:!0,childStyle:!0,childLayoutParams:!0,childVisible:!0,"*":!0},__weight:.1,_zoom:1,_styleProps:{preferredHeight:!0,weight:!0,visible:!0},__visible:!0,setPropertyValue:qf.setPropertyValue,getPropertyValue:qf.getPropertyValue,set:qf.set,getPreferredHeightProperties:function(){return this.$208u},getChildren:function(){return this._children},getVisibleChildren:Ap.getVisibleChildren,setChildren:Ap.setChildren,figurePreferredHeight:function(){for(var Q,B=this,p=B.getVisibleChildren(),H=0,w=p.size();w>H;H++){var M=p.get(H),C=B.getChildLayoutParams(M),t=C.height,V=C.marginTop||0,r=C.marginBottom||0,a=C.rowspan||1;if(!(a>1)){var j;j=isNaN(t)?B.getChildPreferredSize(M).height:aj(t),j+=V+r,Q=Q==y?j:s(Q,j)}}return Q},isPreferredHeightSet:function(){return!!this.$196u},setVisible:function(L){this.setPropertyValue(Fe,L)},isVisible:function(){return this.getPropertyValue(Fe)},setPreferredHeight:function(l){this.$196u=l===C?!1:!0,this.setPropertyValue("preferredHeight",l)},getPreferredHeight:function(){if(z._uiSerializing)return this.$196u?this._preferredHeight:C;var q=this,j=q._preferredHeight;return q.isPreferredHeightSet()||j==y&&(j=q.getStyleValue("preferredHeight"),j==y&&(j=q.__preferredHeight,j==y&&(j=q._preferredHeight=q.figurePreferredHeight()))),j},$106u:function(){var U=this;U.$199u=y,U.$200u("*")},closePopup:function(){},closeChildrenPopup:Ap.closeChildrenPopup,setParent:qf.setParent,getChildLayoutParams:Ap.getChildLayoutParams,getChildPreferredSize:Ap.getChildPreferredSize,getChildMinSize:Ap.getChildMinSize,getChildMaxSize:Ap.getChildMaxSize,addView:Ap.addView,clear:function(){for(var T=this,k=T._parent,V=T._children,s=V._as.slice(0),N=0;N<s.length;N++){var H=s[N];k&&(H.removePropertyChangeListener(k.$174u,k),H.removeViewListener(k.$173u,k),H.getView().parentNode===k.getContentDiv()&&k.getContentDiv().removeChild(H.getView())),V.remove(H),H.setParent(y),H.$306u=H.$360u,H.$360u=y}T.fp(gn,y,V),T.$105u(),k&&k.iv(!0)},removeView:function(D){var x=this;if(D&&D._parent===x){var k=x._parent,N=x._children;k&&(D.removePropertyChangeListener(k.$174u,k),D.removeViewListener(k.$173u,k),D.getView().parentNode===k.getContentDiv()&&k.getContentDiv().removeChild(D.getView())),N.remove(D),D.$306u=D.$360u,D.$360u=y,D.setParent(y),x.fp(gn,y,N),x.$105u(),k&&k.iv(!0)}},removeViewAt:Ap.removeViewAt,$200u:function(_){var l=this,u=l.getPreferredHeightProperties();l._preferredHeight!==C&&u[_]&&!l.isPreferredHeightSet()&&(l.fireViewEvent("invalidatePreferredHeight"),l._preferredHeight=C)},addViewListener:qf.addViewListener,removeViewListener:qf.removeViewListener,fireViewEvent:qf.fireViewEvent,findViewById:Ap.findViewById,$225u:Ap.$225u,$105u:qf.$105u,addViewImpl:function(F,i){var m=this,B=m._parent,D=F._parent,e=m._children;D&&D.removeView(F),B&&(F.addPropertyChangeListener(B.$174u,B),F.addViewListener(B.$173u,B),F.getView().parentNode!==B.getContentDiv()&&B.getContentDiv().appendChild(F.getView())),F.setParent(m),F.$360u=F.$306u,F.$306u=function(q,l){q.display=l&&m.isVisible()?jq:Kp},e.add(F,i),m.fp(gn,y,e),m.$105u(),B&&B.iv(!0)},getSerializableProperties:function(){return{id:1,preferredHeight:1,weight:1,children:1}}}),H.TableLayout=function(V){var Z=this;H.TableLayout.superClass.constructor.call(Z),Z.$92u={},Z.set(V)},sf("ht.ui.TableLayout",pf,{ui_ac:["columnGap","rowGap"],__padding:16,__rowGap:8,__columnGap:16,_preferredSizeProps:Nf(Fb(Ap._preferredSizeProps),{columnGap:!0,rowGap:!0,columnWidthMap:!0}),figurePreferredSize:function(){for(var A=this,w=A.getColumnSize(),M=0,z=0,R=A.getColumnGap()||0,f=A.getRowGap()||0,c=0;w>c;c++){var h=A.getColumnPreferredWidth(c);M+=h||0,M+=R}M-=R;for(var Z=A.getVisibleChildren(),c=0,O=Z.size();O>c;c++){var I=Z.get(c);z+=I.getPreferredHeight()||0,z+=f}return z-=f,{width:i(A.getPaddingLeft()+A.getPaddingRight()+A.getBorderLeft()+A.getBorderRight()+M),height:i(A.getPaddingTop()+A.getPaddingBottom()+A.getBorderTop()+A.getBorderBottom()+z)}},clear:function(){for(var Q=this,v=Q._children,s=v._as.slice(0),l=0,R=s.length;R>l;l++){var f=s[l];f.removePropertyChangeListener(Q.$174u,Q),f.removeViewListener(Q.$173u,Q);for(var i=f._children,L=0,_=i.size();_>L;L++){var I=i.get(L);I.getView().parentNode===Q.getContentDiv()&&Q.getContentDiv().removeChild(I.getView()),I.removePropertyChangeListener(Q.$174u,Q),I.removeViewListener(Q.$173u,Q)}v.remove(f),f.setParent(y)}Q.fp(gn,y,v),Q.$105u(),Q.iv(!0)},getChildAt:function(O,k){var p=this,v=Nl(O),X=O,q=p.getVisibleChildren();v&&(X=p.lp(O));for(var z=0,P=q.size();P>z;z++)for(var D=q.get(z),S=D.getVisibleChildren(),E=0,a=S.size();a>E;E++){var J=S.get(E);if((!k||k(J))&&wp({x:J.getX(),y:J.getY(),width:J.getWidth(),height:J.getHeight()},X))return J}},removeView:function(o){var v=this;if(o&&o._parent===v){var s=v._children;s.remove(o),o.removePropertyChangeListener(v.$174u,v),o.removeViewListener(v.$173u,v),o.setParent(y);for(var O=o._children,x=0,m=O.size();m>x;x++){var c=O.get(x);c.getView().parentNode===v.getContentDiv()&&v.getContentDiv().removeChild(c.getView()),c.removePropertyChangeListener(v.$174u,v),c.removeViewListener(v.$173u,v)}v.fp(gn,y,s),v.$105u(),v.iv(!0)}},addViewImpl:function(b,z){var L=this,f=b._parent,$=L._children;f&&f.removeView(b),$.add(b,z),b.addPropertyChangeListener(L.$174u,L),b.addViewListener(L.$173u,L);for(var O=b._children,K=0,V=O.size();V>K;K++){var P=O.get(K);L.getContentDiv().appendChild(P.getView()),P.addPropertyChangeListener(L.$174u,L),P.addViewListener(L.$173u,L)}b.setParent(L),L.fp(gn,y,$),L.$105u(),L.iv(!0)},$174u:function(C){var n=this,N=C.property,V=C.source,K=V&&V.isVisible();if(V instanceof H.TableRow&&n.getChildren().contains(V))N===Fe?(n.$290u(),n.checkPreferredSize("childVisible"),n.checkMinSize("childVisible"),n.checkMaxSize("childVisible"),n.iv()):K&&("preferredHeight"===N||"weight"===N?(n.checkPreferredSize("childPreferredSize"),n.iv()):N===_f?(V.$106u(),V.$105u(),n.iv(!0)):(V.$200u(N),N!==Sj&&n.iv()));else if(N===Fe){var $=V._parent;n.$290u(),$.$200u("childVisible"),n.checkMinSize("childVisible"),n.checkMaxSize("childVisible"),n.iv()}else if(K)if(N===dd){var $=V._parent,p=n.getChildLayoutParams(V);p&&p.height!=y&&p.height!==rj&&p.height!==oo||$.$200u("childPreferredSize"),p&&p.width!=y&&p.width!==rj&&p.width!==oo||(n.$290u(),n.iv())}else if(N===Qc)n.checkMinSize("childMinSize"),n.iv();else if(N===Zm)n.checkMaxSize("childMaxSize"),n.iv();else if(N===$m){var $=V._parent;n.$290u(),$.$200u("childLayoutParams"),n.checkMinSize("childLayoutParams"),n.checkMaxSize("childLayoutParams"),n.iv()}else if(N===_f){var $=V._parent;n.$290u(),$.$200u("childStyle"),n.checkMinSize("childStyle"),n.checkMaxSize("childStyle"),n.iv()}},$173u:function(Z){var Q=this,J=Z.kind,l=Z.source;if(l instanceof H.TableRow&&Q.getChildren().contains(l))l.isVisible()&&"invalidatePreferredHeight"===J&&(Q.checkPreferredSize("childPreferredSize"),Q.iv());else if("invalidatePreferredSize"===J){if(l.isVisible()){var s=l._parent;s.$200u("childPreferredSize")}}else"invalidateMinSize"===J?l.isVisible()&&(Q.checkMinSize("childMinSize"),Q.iv()):"invalidateMaxSize"===J&&l.isVisible()&&(Q.checkMaxSize("childMaxSize"),Q.iv())},$290u:function(){var M=this,g=M.$92u;for(var J in g){var v=g[J].prefWidthSet,Q=g[J].weightSet;v||Q?v?Q||delete g[J].weight:delete g[J].preferredWidth:delete g[J]}},$106u:function(){var K=this;K.$290u(),H.TableLayout.superClass.$106u.call(K)},setColumnWidthMap:function(b){var v=this,$=v.$92u;v.$92u=b,v.firePropertyChange("columnWidthMap",$,b)},getColumnWidthMap:function(){return this.$92u},setColumnPreferredWidth:function(f,u){var E=this,d=E.$92u[f];d||(d=E.$92u[f]={}),d.prefWidthSet=u===C?!1:!0,d.preferredWidth=u,E.firePropertyChange("columnWidthMap",y,E.$92u)},setColumnWeight:function(D,n){var T=this,_=T.$92u[D];_||(_=T.$92u[D]={}),_.weightSet=n===C?!1:!0,_.weight=n,T.firePropertyChange("columnWidthMap",y,T.$92u)},$99u:function(e){for(var W,G=this,q={},I=0,w=G.getVisibleChildren(),K=0,A=w.size();A>K;K++){for(var O=w.get(K),x=O.getVisibleChildren(),m=-1,v=0,Y=x.size();Y>v;v++){m++;var u=x.get(v);if(u){for(var V=G.getChildLayoutParams(u),X=V.colspan||1,C=V.rowspan||1;q[I]&&q[I].indexOf(m)>=0;)m++;if(1===X){if(m===e){var f,M=V.marginLeft||0,z=V.marginRight||0,k=V.width;f=isNaN(k)?G.getChildPreferredSize(u).width:aj(k),f+=M+z,W=W==y?f:s(W,f)}}else m+=X-1;for(var B=1;C>B;B++){q[I+B]||(q[I+B]=[]);for(var E=0;X>E;E++)q[I+B].indexOf(m+E)<0&&q[I+B].push(m+E)}}}I++}return W},getColumnPreferredWidth:function(X){var u=this,I=u.$92u[X];I==y&&(I=u.$92u[X]={});var E=I.preferredWidth;return I.prefWidthSet||E==y&&(E=I.preferredWidth=u.$99u(X)),E},getColumnWeight:function(G){var w=this,b=w.$92u[G];b==y&&(b=w.$92u[G]={});var v=b.weight;return b.weightSet||v==y&&(v=b.weight=.1),v},getColumnSize:function(){for(var y=this.getVisibleChildren(),V=0,Y=0,P=y.size();P>Y;Y++){for(var e=y.get(Y),X=e.getVisibleChildren(),L=0,D=0,h=X.size();h>D;D++){var Z=X.get(D);if(Z){var W=this.getChildLayoutParams(Z),b=W.colspan||1;L+=b}}V=s(L,V)}return V},validateImpl:function(v,P,Y,J){for(var t=this,G=t.getColumnGap()||0,Q=t.getRowGap()||0,m=t.getVisibleChildren(),q=0,A=0,$=J,Z=Y,e=t.getColumnSize(),H=m.size(),i=[],R=[],o=t._children,x=o.size(),O=0;x>O;O++){var E=o.get(O),n=E._children,b=n.size();if(m.contains(E))for(var _=0;b>_;_++){var l=n.get(_);l.isVisible()&&(l.getView().style.display=jq)}else for(var _=0;b>_;_++){var l=n.get(_);
l.getView().style.display=Kp}}for(var O=0;H>O;O++){var u=m.get(O),T=u.getPreferredHeight(),j=u.getWeight();H-1>O&&($-=Q),T!=y&&($-=T),j!=y&&(q+=j)}for(var O=0;e>O;O++){var M=t.getColumnPreferredWidth(O),D=t.getColumnWeight(O);e-1>O&&(Z-=G),M!=y&&(Z-=M),D!=y&&(A+=D)}0>$&&($=0),0>Z&&(Z=0);for(var _=0;H>_;_++){var u=m.get(_),T=u.getPreferredHeight(),j=u.getWeight();T==y&&(T=0),j!=y&&j>0&&(T+=j*$/q),R.push(T)}for(var _=0;e>_;_++){var M=t.getColumnPreferredWidth(_),D=t.getColumnWeight(_);M==y&&(M=0),D!=y&&D>0&&(M+=D*Z/A),i.push(M)}for(var d={},I=0,k=0,O=0;H>O;O++){for(var u=m.get(O),K=u.getVisibleChildren(),a=-1,_=0,c=K.size();c>_;_++){var r=K.get(_);for(a++;d[I]&&d[I].indexOf(a)>=0;)a++;if(r){var V=t.getChildLayoutParams(r),U=V.colspan||1,X=V.rowspan||1,g=V.marginTop||0,p=V.marginRight||0,h=V.marginBottom||0,F=V.marginLeft||0,C=V.align,L=V.vAlign,z=V.width,w=V.height;z=z==y?oo:z,w=w==y?oo:w;for(var f,S,B=0,W=0,s=0,ai=0,Dk=0,Yc=0;a>Yc;Yc++)Dk+=i[Yc],Dk+=G;for(var Yc=0;U>Yc;Yc++)s+=i[a+Yc],Yc>0&&(s+=G);for(var Yc=0;X>Yc;Yc++)ai+=R[I+Yc],Yc>0&&(ai+=Q);s-=F+p,ai-=g+h;var xs=t.getChildPreferredSize(r),jn=r.getMaxSize();B=z===rj?xs.width:z===oo?s:z,B=N(B,jn.width),B=N(B,s),f=Dk,s>B&&(C===es?f=Dk+s/2-B/2:C===mo&&(f=Dk+s-B)),W=w===rj?xs.height:w===oo?ai:w,W=N(W,jn.height),W=N(W,ai),S=k,ai>W&&(L===rr?S=k+ai/2-W/2:L===Rb&&(S=k+ai-W)),f+=F,S+=g,t.layoutChild(r,f,S,B,W)}for(var Yc=1;X>Yc;Yc++){d[I+Yc]||(d[I+Yc]=[]);for(var Dm=0;U>Dm;Dm++)d[I+Yc].indexOf(a+Dm)<0&&d[I+Yc].push(a+Dm)}a+=U-1}k+=R[I]+Q,I++}var up=0,Qr=0,ng=!0;i.forEach(function(l){up+=l,ng?ng=!1:up+=G}),ng=!0,R.forEach(function(v){Qr+=v,ng?ng=!1:Qr+=Q}),t.updateScrollBar(Y,J,up,Qr)},getSerializableProperties:function(){var D=H.TableLayout.superClass.getSerializableProperties.call(this);return Nf(D,{columnGap:1,rowGap:1,columnWidthMap:1})}}),H.ViewGroupScrollInteractor=function(f){this._view=f},sf("ht.ui.ViewGroupScrollInteractor",A,{ms_listener:1,getView:function(){return this._view._view},clear:function(){var U=this;U._state=U.$44u=U.$45u=U.$46u=U._view._scrolling=U.$362=U._touchMoveDate=U._touchMoveCp=U._velocityY=U._velocityX=y},handle_mousedown:function(N){this.handle_touchstart(N)},handle_touchstart:function(u){var U=this,I=U._view;if(I.isSelfViewEvent(u)&&(z.Default.isTouchEvent(u)||qd(u),I.requestFocus()),!u._htScroll){I._flingAnim&&(I._flingAnim.stop(),delete I._flingAnim);var F=I.isCloseToVScrollBar(u),q=I.isCloseToHScrollBar(u),R=Hf(u);F||q?(F?U._state="vScroll":q&&(U._state="hScroll"),U.$44u=R,U.$45u=I.tx(),U.$46u=I.ty(),sr(U,u),u._htScroll=!0,I._scrolling=!0,I.showScrollBar(),il&&(U.$362=u.$362)):il&&(U.$362=u.$362,(I.isVScrollable()||I.isHScrollable()||I.getOverScrollEffect())&&(U.$44u=R,U.$45u=I.tx(),U.$46u=I.ty()))}},handleWindowMouseUp:function(W){this.handleWindowTouchEnd(W)},handleWindowTouchEnd:function(G){if("p"===this._state){var m=this.$45u,s=this.$46u,y=this.$44u,A=Hf(G),p=this._view.getOverScrollEffect();p&&p.endPan(this._view,{kind:"endPan",nativeEvent:G,translateX:m+A.x-y.x,translateY:s+A.y-y.y}),this._velocityY&&D(this._velocityY)>50?this._view.flingV(this._velocityY):self._velocityX&&D(this._velocityX)>50&&this._view.flingH(this._velocityX)}this.clear(G)},handle_mouseup:function(a){this.handle_touchend(a)},handle_touchend:function(d){var D=this;O.getDragger()!==D&&D.clear(d)},handleWindowMouseMove:function(j){this.handleWindowTouchMove(j)},handleWindowTouchMove:function(v){if(!v._htScroll){var W=this,G=W._view,g=W._state,C=W.$45u,P=W.$46u,R=W.$44u,L=Hf(v),o=G.getZoom(),b=G.$118u;if("vScroll"===g)G.setTranslateY(P+(R.y-L.y)/o*G.$188u/b.height);else if("hScroll"===g)G.setTranslateX(C+(R.x-L.x)/o*G.$189u/b.width);else if("p"===g){var f=W._touchMoveDate,H=W._touchMoveCp;if(W._touchMoveDate=new Date,W._touchMoveCp=L,W._velocityX=W._velocityY=null,f&&H){var u=(W._touchMoveDate.getTime()-f.getTime())/1e3,j=(W._touchMoveCp.x-H.x)/4,N=(W._touchMoveCp.y-H.y)/4;D(j)>D(N)?W._velocityX=j/u:W._velocityY=N/u}var B=G.getOverScrollEffect();B&&B.betweenPan(G,{kind:"betweenPan",nativeEvent:v,translateX:C+L.x-R.x,translateY:P+L.y-R.y,translateOffsetX:L.x-R.x,translateOffsetY:L.y-R.y}),G.setTranslate(C+(L.x-R.x)/o,P+(L.y-R.y)/o),G.showScrollBar()}if(il&&W.$362&&W.$362.length>0)for(var I=W.$362.slice(0),Y=0,E=I.length;E>Y;Y++)I[Y].clearTouchState(),W.$362.splice(Y,1);v._htScroll=!0}},handle_mousemove:function(M){if(!M._htScroll&&!pk()&&db(M)){var H=this,k=H._view,L=k.isCloseToVScrollBar(M),g=k.isCloseToHScrollBar(M);(L||g)&&k.showScrollBar()}},handle_touchmove:function(T){var o=pk();if(!(T._htScroll||o&&(this.$362||[]).indexOf(o)<0)&&db(T)){var R=this,f=R.$44u;if(f){var a=Hf(T);if(fl(a,f)<qh)return;if(!R._state){T._htScroll=!0,R._view.scrolling=!0,R._state="p";var H=R._view.getOverScrollEffect();H&&H.beginPan(R._view,{kind:"beginPan",nativeEvent:T}),sr(R,T,!1)}}}},handle_wheel:function(A){var i=A.deltaX,t=A.deltaY;D(i)>D(t)?this.handleScroll(A,-i,!1):this.handleScroll(A,-t,!0)},handleScroll:function(S,g,d){if("TEXTAREA"===z.Default.getTarget(S).tagName||S.preventDefault(),!S._htScroll){var w=this._view,J=w.$118u,p=w.getScrollRect();w.showScrollBar(),d&&w.isVScrollable()?g>0?J.y<=0||(w.translate(0,g),S._htScroll=!0):0>g&&(p.height-J.height<=J.y||(w.translate(0,g),S._htScroll=!0)):w.isHScrollable()&&(g>0?J.x<=0||(w.translate(g,0),S._htScroll=!0):0>g&&(p.width-J.width<=J.x||(w.translate(g,0),S._htScroll=!0)))}}}),A.defineProperties(H.ViewGroupScrollInteractor.prototype,{disabled:{get:function(){return this._view.isDisabled()}}}),H.BorderLayout=function(f){H.BorderLayout.superClass.constructor.call(this,f)},sf("ht.ui.BorderLayout",pf,{ui_ac:["drawable:splitter","drawable:hoverSplitter","drawable:activeSplitter","splitterVisible","splitterSize","splitterHitSize","resizable","resizeHintBackground","drawable:toggle","drawable:hoverToggle","drawable:activeToggle","is:useSplitterStateForToggle","toggleVisible","toggleSize","togglePosition","leftWidth","rightWidth","topHeight","bottomHeight","leftExpanded","rightExpanded","topExpanded","bottomExpanded","is:continuous"],ms_ac:["currentSplitter","currentSplitterState","currentToggle","currentToggleState"],_preferredSizeProps:Nf(Fb(Ap._preferredSizeProps),{leftExpanded:!0,rightExpanded:!0,topExpanded:!0,bottomExpanded:!0,splitterVisible:!0,leftWidth:!0,rightWidth:!0,topHeight:!0,bottomHeight:!0}),_minSizeProps:Nf(Fb(Ap._minSizeProps),{leftExpanded:!0,rightExpanded:!0,topExpanded:!0,bottomExpanded:!0,splitterVisible:!0,leftWidth:!0,rightWidth:!0,topHeight:!0,bottomHeight:!0}),__resizable:!0,__splitterVisible:!0,__toggleVisible:!0,__togglePosition:.5,__toggle:["ht.ui.drawable.ImageDrawable","ui_borderlayoutToggle","fill"],__splitterSize:9,__splitterHitSize:9,__toggleSize:40,__resizeHintBackground:"rgba(0,0,0,0.3)",getInteractorClasses:function(){return[H.BorderLayoutInteractor].concat(H.BorderLayout.superClass.getInteractorClasses.call(this))},initView:function(){var Y=this;H.BorderLayout.superClass.initView.call(Y);var D=Y.getContentDiv(),W=Y._view,C=Y.$365;D.style.zIndex="0";var M=Y._topSplitterCanvas=Hi();M.style.pointerEvents="",M.setAttribute(S,"ht-topSplitter"),C?W.insertBefore(M,C):W.appendChild(M);var O=Y._bottomSplitterCanvas=Hi();O.style.pointerEvents="",O.setAttribute(S,"ht-bottomSplitter"),C?W.insertBefore(O,C):W.appendChild(O);var Q=Y._leftSplitterCanvas=Hi();Q.style.pointerEvents="",Q.setAttribute(S,"ht-leftSplitter"),C?W.insertBefore(Q,C):W.appendChild(Q);var y=Y._rightSplitterCanvas=Hi();y.style.pointerEvents="",y.setAttribute(S,"ht-rightSplitter"),C?W.insertBefore(y,C):W.appendChild(y)},isSelfViewEvent:function(E){var t=this,p=H.BorderLayout.superClass.isSelfViewEvent.call(t,E);if(!p){var b=Nl(E);(b===t._topSplitterCanvas||b===t._bottomSplitterCanvas||b===t._leftSplitterCanvas||b===t._rightSplitterCanvas)&&(p=!0)}return p},getCursor:function(){var j=this,Y=j.getPropertyValue("cursor"),y=j.getCurrentSplitter(),N=j.getCurrentToggle();if(N)Y=c;else if(y){var A=j[_q(y+"Resizable")](),v=j[_q(y+"Expanded")]();A&&v&&(Y=y===dn||y===mo?F:R)}return Y},getLeftView:function(){return this.getChildByRegion(dn)},getRightView:function(){return this.getChildByRegion(mo)},getTopView:function(){return this.getChildByRegion(om)},getBottomView:function(){return this.getChildByRegion(Rb)},getCenterView:function(){return this.getChildByRegion(es)},setCenterView:function(E,n){var I=this;I.removeView(I.getCenterView()),n||(n=E.getLayoutParams()||{}),n.region="center",I.addView(E,n)},setLeftView:function(m,D){var c=this;c.removeView(c.getLeftView()),D||(D=m.getLayoutParams()||{}),D.region="left",c.addView(m,D)},setRightView:function(W,V){var m=this;m.removeView(m.getRightView()),V||(V=W.getLayoutParams()||{}),V.region="right",m.addView(W,V)},setTopView:function(H,n){var Z=this;Z.removeView(Z.getTopView()),n||(n=H.getLayoutParams()||{}),n.region="top",Z.addView(H,n)},setBottomView:function(U,l){var F=this;F.removeView(F.getBottomView()),l||(l=U.getLayoutParams()||{}),l.region="bottom",F.addView(U,l)},getLeftSplitterSize:function(){var C=this.getSplitterSize();return Jr(C)?C[3]:C},getRightSplitterSize:function(){var E=this.getSplitterSize();return Jr(E)?E[1]:E},getTopSplitterSize:function(){var a=this.getSplitterSize();return Jr(a)?a[0]:a},getBottomSplitterSize:function(){var k=this.getSplitterSize();return Jr(k)?k[2]:k},getCurrentSplitterDrawable:function(C){var u=this,W=u.getCurrentSplitter(),A=u.getSplitterDrawable(),P=u.getCurrentSplitterState();return W===C?P===gm?u.getHoverSplitterDrawable()||A:u.getActiveSplitterDrawable()||A:A},getCurrentToggleDrawable:function(G){var N=this,J=N.isUseSplitterStateForToggle(),q=N.getToggleDrawable(),s=N.getCurrentToggle(),m=N.getCurrentToggleState();return!s&&J&&(s=N.getCurrentSplitter(),m=N.getCurrentSplitterState()),s===G?m===gm?N.getHoverToggleDrawable()||q:N.getActiveToggleDrawable()||q:q},getLeftSplitterHitSize:function(){var W=this.getSplitterHitSize();return Jr(W)?W[3]:W},getRightSplitterHitSize:function(){var b=this.getSplitterHitSize();return Jr(b)?b[1]:b},getTopSplitterHitSize:function(){var k=this.getSplitterHitSize();return Jr(k)?k[0]:k},getBottomSplitterHitSize:function(){var D=this.getSplitterHitSize();return Jr(D)?D[2]:D},getLeftToggleSize:function(){var N=this.getToggleSize();return Jr(N)?N[3]:N},getRightToggleSize:function(){var N=this.getToggleSize();return Jr(N)?N[1]:N},getTopToggleSize:function(){var F=this.getToggleSize();return Jr(F)?F[0]:F},getBottomToggleSize:function(){var a=this.getToggleSize();return Jr(a)?a[2]:a},getLeftTogglePosition:function(){var q=this.getTogglePosition();return Jr(q)?q[3]:q},getRightTogglePosition:function(){var y=this.getTogglePosition();return Jr(y)?y[1]:y},getTopTogglePosition:function(){var o=this.getTogglePosition();return Jr(o)?o[0]:o},getBottomTogglePosition:function(){var A=this.getTogglePosition();return Jr(A)?A[2]:A},isExpanded:function(p){var _=this,X=_["_"+p+"Expanded"];if(X!=y)return X;var c=_[_q(p+"View")]();if(c&&c.isVisible()){var V=_.getChildLayoutParams(c);return X=V&&V.expanded!=y?V.expanded:!0,_["_"+p+"Expanded"]=X,X}},isLeftExpanded:function(){return this.isExpanded(dn)},isRightExpanded:function(){return this.isExpanded(mo)},isTopExpanded:function(){return this.isExpanded(om)},isBottomExpanded:function(){return this.isExpanded(Rb)},getLeftWidth:function(){if(z._uiSerializing)return this._leftWidth;var H=this,p=H.getPropertyValue("leftWidth");return p==y&&(p=H.$2u(dn)),p},getRightWidth:function(){if(z._uiSerializing)return this._rightWidth;var l=this,d=l.getPropertyValue("rightWidth");return d==y&&(d=l.$2u(mo)),d},getTopHeight:function(){if(z._uiSerializing)return this._topHeight;var M=this,$=M.getPropertyValue("topHeight");return $==y&&($=M.$3u(om)),$},getBottomHeight:function(){if(z._uiSerializing)return this._bottomHeight;var h=this,K=h.getPropertyValue("bottomHeight");return K==y&&(K=h.$3u(Rb)),K},$2u:function(k){var Y,E=this,o=E[_q(k+"View")]();if(o&&o.isVisible()){var G=E.getChildLayoutParams(o);return Y=G&&G.width!=y&&G.width!==oo&&G.width!==rj?G.width:E.getChildPreferredSize(o).width,Y=E.adjustChildWidth(o,Y),G&&G.marginLeft&&(Y+=G.marginLeft),G&&G.marginRight&&(Y+=G.marginRight),Y}},$3u:function(w){var F,T=this,Y=T[_q(w+"View")]();if(Y&&Y.isVisible()){var X=T.getChildLayoutParams(Y);return F=X&&X.height!=y&&X.height!==oo&&X.height!==rj?X.height:T.getChildPreferredSize(Y).height,F=T.adjustChildHeight(Y,F),X&&X.marginTop&&(F+=X.marginTop),X&&X.marginBottom&&(F+=X.marginBottom),F}},isLeftSplitterVisible:function(){var V=this.isSplitterVisible();return Jr(V)?V[3]:V},isRightSplitterVisible:function(){var I=this.isSplitterVisible();return Jr(I)?I[1]:I},isTopSplitterVisible:function(){var Z=this.isSplitterVisible();return Jr(Z)?Z[0]:Z},isBottomSplitterVisible:function(){var u=this.isSplitterVisible();return Jr(u)?u[2]:u},isLeftToggleVisible:function(){var N=this.isToggleVisible();return Jr(N)?N[3]:N},isRightToggleVisible:function(){var F=this.isToggleVisible();return Jr(F)?F[1]:F},isTopToggleVisible:function(){var v=this.isToggleVisible();return Jr(v)?v[0]:v},isBottomToggleVisible:function(){var b=this.isToggleVisible();return Jr(b)?b[2]:b},isLeftResizable:function(){var h=this.isResizable();return Jr(h)?h[3]:h},isRightResizable:function(){var $=this.isResizable();return Jr($)?$[1]:$},isTopResizable:function(){var r=this.isResizable();return Jr(r)?r[0]:r},isBottomResizable:function(){var l=this.isResizable();return Jr(l)?l[2]:l},getChildByRegion:function(C){for(var u=this,J=u._children,p=0,O=J.size();O>p;p++){var d=J.get(p);if(u.getChildLayoutParams(d).region===C)return d}},$4u:function(g){var S,C,Z,P,V,J,x,G,r,o,j=this,a=j.getLeftView(),f=j.getRightView(),O=j.getTopView(),Y=j.getBottomView(),z=j.getCenterView(),H=z?j.getChildLayoutParams(z):{},u=H.marginLeft||0,F=H.marginTop||0,Q=H.marginRight||0,W=H.marginBottom||0,q=a?j.getChildLayoutParams(a):{},d=q.marginLeft||0,L=q.marginTop||0,v=q.marginRight||0,B=q.marginBottom||0,n=j.isLeftExpanded(),M=f?j.getChildLayoutParams(f):{},w=M.marginLeft||0,D=M.marginTop||0,R=M.marginRight||0,p=M.marginBottom||0,X=j.isRightExpanded(),U=O?j.getChildLayoutParams(O):{},$=U.marginLeft||0,e=U.marginTop||0,b=U.marginRight||0,l=U.marginBottom||0,t=j.isTopExpanded(),_=Y?j.getChildLayoutParams(Y):{},N=_.marginLeft||0,A=_.marginTop||0,E=_.marginRight||0,h=_.marginBottom||0,m=j.isBottomExpanded(),k=function(t,p,f,K,l){var c,h=Fb(t[_q(g+"Size")]());return c&&c.width!=y&&c.width!==oo&&c.width!==rj&&(h.width=q.width),c&&c.height!==y&&c.height!==oo&&c.height!==rj&&(h.height=c.height),h.width+=l+f,h.height+=p+K,h};if(a&&a.isVisible()?(n?(S=j.getLeftWidth(),C=k(a,L,v,B,d).height):(S=0,C=0),S+=j.isLeftSplitterVisible()?j.getLeftSplitterSize():0):(S=0,C=0),f&&f.isVisible()?(X?(Z=j.getRightWidth(),P=k(f,D,R,p,w).height):Z=P=0,Z+=j.isRightSplitterVisible()?j.getRightSplitterSize():0):Z=P=0,O&&O.isVisible()?(t?(J=j.getTopHeight(),V=k(O,e,b,l,$).width):V=J=0,J+=j.isTopSplitterVisible()?j.getTopSplitterSize():0):V=J=0,Y&&Y.isVisible()?(m?(G=j.getBottomHeight(),x=k(Y,A,E,h,N).width):x=G=0,G+=j.isBottomSplitterVisible()?j.getBottomSplitterSize():0):x=G=0,z&&z.isVisible()){var T=k(z,F,Q,W,u);r=T.width,o=T.height}else r=o=0;o=s(o,C),o=s(o,P);var I={width:S+Z+r,height:J+o+G};return I.width=s(I.width,V),I.width=s(I.width,x),I.width+=j.getBorderLeft()+j.getBorderRight()+j.getPaddingLeft()+j.getPaddingRight(),I.height+=j.getBorderTop()+j.getBorderBottom()+j.getPaddingTop()+j.getPaddingBottom(),I.width=i(I.width),I.height=i(I.height),I},figurePreferredSize:function(){return this.$4u("preferred")},figureMinSize:function(){return this.$4u("min")},getToggleAt:function(w){var W,o=this;W=w instanceof Event?o.lp(w):w;for(var X=[dn,mo,om,Rb],J=0,t=X.length;t>J;J++){var k=X[J],D=o["_"+k+"ToggleRect"];if(D&&(D={x:D.x,y:D.y,width:D.width-1,height:D.height-1},D&&wp(D,W)))return k}},getSplitterAt:function(g){var K,N=this;K=g instanceof Event?N.lp(g):g;for(var j=[dn,mo,om,Rb],k=0,r=j.length;r>k;k++){var h=j[k],e=N["_"+h+"SplitterRect"];if(e&&(e={x:e.x,y:e.y,width:e.width-1,height:e.height-1},e&&wp(e,K)))return h}},getSplitterCanvas:function(W){return this.getSplitterDiv(W)},getSplitterDiv:function(H){return H===dn?this._leftSplitterCanvas:H===om?this._topSplitterCanvas:H===Rb?this._bottomSplitterCanvas:H===mo?this._rightSplitterCanvas:void 0},drawSplitter:function(Z,l,G,q,T,X){Z&&Z.draw(l,G,q,T,X,this,this.getSplitterCanvas(X))},drawToggle:function(W,p,d,X,F,m){if(W){var V=this,N=V.getSplitterCanvas(m),u=V.getRootContext(N),G=X/2,z=F/2,o=p+G,M=d+z;u.save(),m===om?(u.translate(o,M),V.isTopExpanded()||u.rotate(g),W.draw(-G,-z,X,F,y,V,N)):m===dn?(u.translate(o,M),V.isLeftExpanded()?u.rotate(-g/2):u.rotate(g/2),W.draw(-z,-G,F,X,y,V,N)):m===mo?(u.translate(o,M),V.isRightExpanded()?u.rotate(g/2):u.rotate(-g/2),W.draw(-z,-G,F,X,y,V,N)):m===Rb&&(u.translate(o,M),V.isBottomExpanded()&&u.rotate(g),W.draw(-G,-z,X,F,y,V,N)),u.restore()}},$5u:function(V,T,Y,O){var G,c,C,h,k=dn,E=om,J=0,o=0,L=0,W=0;return T&&(G=T.width,c=T.height,k=T.align||dn,E=T.vAlign||mo,J=T.marginLeft||0,o=T.marginRight||0,L=T.marginTop||0,W=T.marginBottom||0),G=G==y?oo:G,c=c==y?oo:c,G===oo?(G=Y,G-=J+o):G===rj&&(G=this.getChildPreferredSize(V).width),G=this.adjustChildWidth(V,G),c===oo?(c=O,c-=L+W):c===rj&&(c=this.getChildPreferredSize(V).height),c=this.adjustChildHeight(V,c),C=k===es?(Y-G)/2:k===mo?Y-o-G:J,h=E===rr?(O-c)/2:E===Rb?O-W-c:L,{x:C,y:h,width:G,height:c}},layoutSplitterCanvas:function(c,V,O,H,S,Y){this.layoutSplitterDiv(c,V,O,H,S,Y)},layoutSplitterDiv:function(y,I,E,c,C){y.style.display=jq;var Z=this.getZoom();Yh(y,c*Z,C*Z),y.style.left=this.getContentLeft()+this.tx()+I+vl,y.style.top=this.getContentTop()+this.ty()+E+vl},validateImpl:function(Y,r,h,T){var t,z,S,F,Z,N,l,V,I,g=this,u=g.getLeftWidth(),$=g.getRightWidth(),D=g.getTopHeight(),d=g.getBottomHeight(),x=g.getMinSize(),L=x.width>g.getWidth(),A=x.height>g.getHeight(),o=g.getChildByRegion(dn),Q=o&&o.isVisible(),B=g.getChildByRegion(mo),c=B&&B.isVisible(),K=g.getChildByRegion(om),k=K&&K.isVisible(),J=g.getChildByRegion(Rb),m=J&&J.isVisible(),w=g.getChildByRegion(es),H=w&&w.isVisible(),E=g.isLeftSplitterVisible(),P=g.isRightSplitterVisible(),e=g.isTopSplitterVisible(),C=g.isBottomSplitterVisible(),M=E?g.getLeftSplitterSize():0,R=P?g.getRightSplitterSize():0,s=e?g.getTopSplitterSize():0,X=C?g.getBottomSplitterSize():0,b=E?g.getLeftSplitterHitSize():0,O=P?g.getRightSplitterHitSize():0,p=e?g.getTopSplitterHitSize():0,j=C?g.getBottomSplitterHitSize():0,f=g.getLeftToggleSize(),W=g.getRightToggleSize(),G=g.getTopToggleSize(),v=g.getBottomToggleSize(),_=g.getLeftTogglePosition(),n=g.getRightTogglePosition(),i=g.getTopTogglePosition(),q=g.getBottomTogglePosition(),a=g._leftSplitterCanvas,U=g._rightSplitterCanvas,bq=g._topSplitterCanvas,Tp=g._bottomSplitterCanvas,ug=L?x.width-g.getBorderLeft()-g.getBorderRight()-g.getPaddingLeft()-g.getPaddingRight():h,Vo=A?x.height-g.getBorderTop()-g.getBorderBottom()-g.getPaddingTop()-g.getPaddingBottom():T,Pj=0,$b=0,Rm=ug,Oi=Vo,Pr=0,Cm=0,Tr=0,xm=0;k&&(t=g.getChildLayoutParams(K),N=g.isTopExpanded(),N?(Pr=D,$b=Pr+s):(Pr=0,$b=s)),m&&(z=g.getChildLayoutParams(J),l=g.isBottomExpanded(),l?(Cm=d,Oi=Vo-Cm-X):(Cm=0,Oi=Vo-X)),Q&&(S=g.getChildLayoutParams(o),V=g.isLeftExpanded(),V?(Tr=u,Pj=Tr+M):(Tr=0,Pj=M)),c&&(F=g.getChildLayoutParams(B),I=g.isRightExpanded(),I?(xm=$,Rm=ug-xm-R):(xm=0,Rm=ug-R));var ss=Rm-Pj,mg=Oi-$b;if(H&&(Z=g.getChildLayoutParams(w)),g._topSplitterRect=y,g._topToggleRect=y,bq.style.display=Kp,k){var Bk=g.$5u(K,t,ug,Pr);if(N||(Bk.height=0),g.layoutChild(K,Bk.x,Bk.y,Bk.width,Bk.height),e){var pj=(p-s)/2,Eg=g._topSplitterRect={x:0,y:Pr-pj,width:ug,height:p};g.layoutSplitterCanvas(bq,Eg.x,Eg.y,Eg.width,Eg.height,om),g.drawSplitter(g.getCurrentSplitterDrawable(om),0,pj,Eg.width,s,om);var Dd=g.getCurrentToggleDrawable(om);if(Dd&&g.isTopToggleVisible()){var Eg=g._topToggleRect={x:0,y:Pr-pj,width:G,height:p};Eg.x=0>i?ug-G+i:i>0&&1>i?ug*i-G/2:i,g.drawToggle(Dd,Eg.x,pj,Eg.width,s,om)}bq.$93u&&(bq.$93u.restore(),bq.$93u=y)}}if(g._bottomSplitterRect=y,g._bottomToggleRect=y,Tp.style.display=Kp,m){var Bk=g.$5u(J,z,ug,Cm);if(l||(Bk.height=0),g.layoutChild(J,Bk.x,Bk.y+Oi+X,Bk.width,Bk.height),C){var pj=(j-X)/2,Eg=g._bottomSplitterRect={x:0,y:Oi-pj,width:ug,height:j};g.layoutSplitterCanvas(Tp,Eg.x,Eg.y,Eg.width,Eg.height,Rb),g.drawSplitter(g.getCurrentSplitterDrawable(Rb),0,pj,Eg.width,X,Rb);var yn=g.getCurrentToggleDrawable(Rb);if(yn&&g.isBottomToggleVisible()){var Eg=g._bottomToggleRect={x:0,y:Oi-pj,width:v,height:j};Eg.x=0>q?ug-v+q:q>0&&1>q?ug*q-v/2:q,g.drawToggle(yn,Eg.x,pj,Eg.width,X,Rb)}Tp.$93u&&(Tp.$93u.restore(),Tp.$93u=y)}}if(g._leftSplitterRect=y,g._leftToggleRect=y,a.style.display=Kp,Q){var Bk=g.$5u(o,S,Tr,mg);if(V||(Bk.width=0),g.layoutChild(o,Bk.x,Bk.y+$b,Bk.width,Bk.height),E){var tn=(b-M)/2,Eg=g._leftSplitterRect={x:Tr-tn,y:$b,width:b,height:mg};g.layoutSplitterCanvas(a,Eg.x,Eg.y,Eg.width,Eg.height,dn),g.drawSplitter(g.getCurrentSplitterDrawable(dn),tn,0,M,Eg.height,dn);var dr=g.getCurrentToggleDrawable(dn);if(dr&&g.isLeftToggleVisible()){var Eg=g._leftToggleRect={x:Tr-tn,y:0,width:b,height:f};Eg.y=0>_?$b+mg-f+_:_>0&&1>_?$b+mg*_-f/2:$b+_,g.drawToggle(dr,tn,Eg.y-$b,M,Eg.height,dn)}a.$93u&&(a.$93u.restore(),a.$93u=y)}}if(g._rightSplitterRect=y,g._rightToggleRect=y,U.style.display=Kp,c){var Bk=g.$5u(B,F,xm,mg);if(I||(Bk.width=0),g.layoutChild(B,Bk.x+Rm+R,Bk.y+$b,Bk.width,Bk.height),P){var tn=(O-R)/2,Eg=g._rightSplitterRect={x:Rm-tn,y:$b,width:O,height:mg};g.layoutSplitterCanvas(U,Eg.x,Eg.y,Eg.width,Eg.height,mo),g.drawSplitter(g.getCurrentSplitterDrawable(mo),tn,0,R,Eg.height,mo);var Co=g.getCurrentToggleDrawable(mo);if(Co&&g.isRightToggleVisible()){var Eg=g._rightToggleRect={x:Rm-tn,y:0,width:O,height:W};Eg.y=0>n?$b+mg-W+n:n>0&&1>n?$b+mg*n-W/2:$b+n,g.drawToggle(Co,tn,Eg.y-$b,R,Eg.height,mo)}U.$93u&&(U.$93u.restore(),U.$93u=y)}}if(H&&ss>0&&mg>0){var Bk=g.$5u(w,Z,ss,mg);g.layoutChild(w,Bk.x+Pj,Bk.y+$b,Bk.width,Bk.height)}g.updateScrollBar(h,T,ug,Vo)},getSerializableProperties:function(){var I=H.BorderLayout.superClass.getSerializableProperties.call(this);return Nf(I,{splitter:1,splitterDrawable:1,hoverSplitter:1,hoverSplitterDrawable:1,activeSplitter:1,activeSplitterDrawable:1,splitterVisible:1,splitterSize:1,splitterHitSize:1,resizable:1,toggle:1,toggleDrawable:1,hoverToggle:1,hoverToggleDrawable:1,activeToggle:1,activeToggleDrawable:1,"is:useSplitterStateForToggle":1,resizeHintBackground:1,toggleVisible:1,toggleSize:1,togglePosition:1,leftWidth:1,rightWidth:1,topHeight:1,bottomHeight:1,leftExpanded:1,rightExpanded:1,topExpanded:1,bottomExpanded:1,"is:continuous":1})}}),H.BorderLayoutInteractor=function(J){this._view=J},sf("ht.ui.BorderLayoutInteractor",A,{ms_listener:1,getView:function(){return this._view._view},clear:function(){var $=this;$._view,$.$12u&&xm($.$12u),$.$12u=$.$36u=$.$115u=$._layoutSize=$.$13u=y,[dn,mo,om,Rb,es].forEach(function(E){var w=$["_"+E+"Mask"];w&&(delete $["_"+E+"Mask"],xm(w))})},checkCurrentSplitter:function(E,l){var U=this,K=U._view,A=K.getSplitterAt(E);if((!il||!l)&&A){var I=K[_q(A+"Resizable")](),t=K[_q(A+"Expanded")]();if(I&&t)return K.setCurrentSplitter(A),A}K.setCurrentSplitter(y)},checkCurrentToggle:function(r,u){var n=this,b=n._view,o=b.getToggleAt(r);return u&&il||!o?(b.setCurrentToggle(y),void 0):(b.setCurrentToggle(o),o)},handle_mousedown:function(x){this.handle_touchstart(x)},handle_touchstart:function(i){var m=this,w=m._view;if(w.isSelfViewEvent(i))if(qd(i),m.checkCurrentToggle(i))m.$13u=Hf(i),w.setCurrentToggleState(yr),m.checkCurrentSplitter(i)?w.setCurrentSplitterState(yr):w.setCurrentSplitterState(th),sr(m,i);else{w.setCurrentToggleState(th);var E=m.checkCurrentSplitter(i);if(E){w.setCurrentSplitterState(yr);var n=m.$13u=Hf(i),x=m.$115u=w["_"+E+"SplitterRect"],G=w.isContinuous();if(!G){var B=m.$12u=Sl(),t=B.style;E===dn?(t.left=w.tx()+w.getContentLeft()+x.x+(w.getLeftSplitterHitSize()-w.getLeftSplitterSize())/2+vl,t.top=w.ty()+w.getContentTop()+x.y+vl,t.width=w.getLeftSplitterSize()+vl,t.height=x.height+vl):E===mo&&(t.left=w.tx()+w.getContentLeft()+x.x+(w.getRightSplitterHitSize()-w.getRightSplitterSize())/2+vl,t.top=w.ty()+w.getContentTop()+x.y+vl,t.width=w.getRightSplitterSize()+vl,t.height=x.height+vl),E===om?(t.left=w.tx()+w.getContentLeft()+x.x+vl,t.top=w.ty()+w.getContentTop()+x.y+(w.getTopSplitterHitSize()-w.getTopSplitterSize())/2+vl,t.width=x.width+vl,t.height=w.getTopSplitterSize()+vl):E===Rb&&(t.left=w.tx()+w.getContentLeft()+x.x+vl,t.top=w.ty()+w.getContentTop()+x.y+(w.getBottomSplitterHitSize()-w.getBottomSplitterSize())/2+vl,t.width=x.width+vl,t.height=w.getBottomSplitterSize()+vl),t.background=w.getResizeHintBackground()}m.$36u=E===dn||E===mo?n.x:n.y,m._layoutSize=[w.getTopHeight(),w.getRightWidth(),w.getBottomHeight(),w.getLeftWidth()];var X=w.$365,J=w._view;[dn,mo,om,Rb,es].forEach(function(W){var j=w.getChildByRegion(W),p=w[_q(E+"Expanded")]();if(j&&(W===es||p)){var o=Sl();o.style.left=j.getX()+w.getContentLeft()+w.tx()+vl,o.style.top=j.getY()+w.getContentTop()+w.ty()+vl,o.style.width=j.getWidth()+vl,o.style.height=j.getHeight()+vl,X?J.insertBefore(o,X):J.appendChild(o),m["_"+W+"Mask"]=o}}),G||(X?J.insertBefore(B,X):J.appendChild(B)),sr(m,i)}else w.setCurrentSplitterState(th)}},handleWindowMouseUp:function(r){this.handleWindowTouchEnd(r)},setLayoutRegionSize:function(Y){var a=this,o=a._view,X=a._layoutSize,O=o.getCurrentSplitter();O===dn||O===mo?O===dn?o.setLeftWidth(X[3]+Y):o.setRightWidth(X[1]-Y):O===om?o.setTopHeight(X[0]+Y):o.setBottomHeight(X[2]-Y)},handleWindowTouchEnd:function(_){var i=this,u=i._view,y=u.getCurrentSplitter();u.isSelfViewEvent(_)&&qd(_);var n=i.$115u;if(n&&!u.isContinuous())if(y===dn||y===mo){var C=n.x+u.getContentLeft()+u.tx(),Y=aj(i.$12u.style.left);C+=y===dn?(u.getLeftSplitterHitSize()-u.getLeftSplitterSize())/2:(u.getRightSplitterHitSize()-u.getRightSplitterSize())/2,i.setLayoutRegionSize(Y-C)}else{var h=n.y+u.getContentTop()+u.ty(),P=aj(i.$12u.style.top);h+=y===om?(u.getTopSplitterHitSize()-u.getTopSplitterSize())/2:(u.getBottomSplitterHitSize()-u.getBottomSplitterSize())/2,i.setLayoutRegionSize(P-h)}no(function(){i.checkRegionAndState(_,!0)}),i.clear(_)},handle_mouseup:function(m){this.handle_touchend(m)},handle_touchend:function(l){var o=this,S=o._view,$=S.getCurrentToggle(),M=o.$13u;$&&fl(M,Hf(l))<qh&&(S[_q($+"Expanded")]()===!0?S[mi($+"Expanded")](!1):S[mi($+"Expanded")](!0),no(function(){o.checkRegionAndState(l,!0)}))},handleWindowMouseMove:function(E){this.handleWindowTouchMove(E)},handleWindowTouchMove:function(X){var r=this,J=r._view,c=r.$115u;if(c){var o,M=J.isContinuous(),U=J.$189u,V=J.$188u,L=J.getLeftSplitterSize(),S=J.getRightSplitterSize(),n=J.getTopSplitterSize(),e=J.getBottomSplitterSize(),w=J.getCurrentSplitter(),a=J.getChildByRegion(mo),Q=J.getChildByRegion(dn),l=J.getChildByRegion(om),K=J.getChildByRegion(Rb),_=J.getChildByRegion(es),j=_?J.getChildLayoutParams(_):{},d=j.marginLeft||0,G=j.marginTop||0,H=j.marginRight||0,O=j.marginBottom||0,t=Q?J.getChildLayoutParams(Q):{},y=t.marginLeft||0,P=t.marginTop||0,Y=t.marginRight||0,$=t.marginBottom||0,f=a?J.getChildLayoutParams(a):{},B=f.marginLeft||0,h=f.marginTop||0,T=f.marginRight||0,m=f.marginBottom||0,g=l?J.getChildLayoutParams(l):{},u=g.marginTop||0,i=g.marginBottom||0,p=K?J.getChildLayoutParams(K):{},I=p.marginTop||0,W=p.marginBottom||0,Z=J.getZoom(),b=Hf(X);if(M||(o=r.$12u.style),w===dn||w===mo){var D=c.x;D+=w===dn?(J.getLeftSplitterHitSize()-J.getLeftSplitterSize())/2:(J.getRightSplitterHitSize()-J.getRightSplitterSize())/2;var N=_?_.getMinSize().width:0;N+=d+H;var k=(b.x-r.$36u)/Z+D;if(w===dn){var C=0;J.isRightExpanded()&&(C=J.getRightWidth());var x=Q.getMinSize().width+y+Y;a?k>U-L-S-C-N&&(k=U-L-S-C-N):k>U-L-N&&(k=U-L-N),x>k&&(k=x),o?o.left=k+J.getContentLeft()+J.tx()+vl:r.setLayoutRegionSize(k-D)}else{var v=0;J.isLeftExpanded()&&(v=J.getLeftWidth());var F=a.getMinSize().width+B+T;k>U-S-F&&(k=U-S-F),Q?v+L+N>k&&(k=v+L+N):N>k&&(k=N),o?o.left=k+J.getContentLeft()+J.tx()+vl:r.setLayoutRegionSize(k-D)}}else{var A=c.y;A+=w===om?(J.getTopSplitterHitSize()-J.getTopSplitterSize())/2:(J.getBottomSplitterHitSize()-J.getBottomSplitterSize())/2;var z=_?_.getMinSize().height:0;z+=G+O;var q=Q?Q.getMinSize().height:0;q+=P+$;var E=a?a.getMinSize().height:0;E+=h+m,z=s(z,q),z=s(z,E);var k=(b.y-r.$36u)/Z+A;if(w===om){var R=0;J.isBottomExpanded()&&(R=J.getBottomHeight());var wb=l.getMinSize().height+u+i;K?k>V-n-e-R-z&&(k=V-n-e-R-z):k>V-n-z&&(k=V-n-z),wb>k&&(k=wb),o?o.top=k+J.getContentTop()+J.ty()+vl:r.setLayoutRegionSize(k-A)}else{var ce=0;J.isTopExpanded()&&(ce=J.getTopHeight());var no=K.getMinSize().height+I+W;k>V-e-no&&(k=V-e-no),l?ce+n+z>k&&(k=ce+n+z):z>k&&(k=z),o?o.top=k+J.getContentTop()+J.ty()+vl:r.setLayoutRegionSize(k-A)}}}},checkRegionAndState:function(Y,V){var C=this,e=C._view;!C.checkCurrentToggle(Y,V)||V&&il?e.setCurrentToggleState(th):e.setCurrentToggleState(gm),!C.checkCurrentSplitter(Y,V)||V&&il?e.setCurrentSplitterState(th):e.setCurrentSplitterState(gm)},handle_mousemove:function(h){var k=this;pk()||k.checkRegionAndState(h)},handle_mouseleave:function(){var C=this,j=C._view;C.$13u||(j.setCurrentToggle(y),j.setCurrentToggleState(th),j.setCurrentSplitter(y),j.setCurrentSplitterState(th))}}),A.defineProperties(H.BorderLayoutInteractor.prototype,{disabled:{get:function(){return this._view.isDisabled()}}});var Zj=z.ui.GridLayout=function(i){var W=this;Zj.superClass.constructor.call(W,i)};sf("ht.ui.GridLayout",pf,{ui_ac:["columnCount","gridHeight","gridGap","is:autoFlow"],__gridHeight:50,__columnCount:10,__gridGap:5,$5u:function(P,t,w,r){var E=this,u=E.getChildLayoutParams(P),n=u.gridX,k=u.gridY,U=u.colspan,e=u.rowspan;return{x:n*(t+r),y:k*(w+r),width:U*(t+r)-r,height:e*(w+r)-r}},figureGridInfo:function(W){if(W){var X=this,Q=X.figureGridXY(W),M=Q.gridX,E=Q.gridY;if(M!=y&&E!=y){var H=X.figureGridWidth(),F=X.getGridHeight(),x=X.getGridGap(),t=i(W.width/(H+x)),C=i(W.height/(F+x));return{gridX:M,gridY:E,colspan:t,rowspan:C}}}},figureGridXY:function(Q){Q=Q instanceof Event?this.getContentPoint(Q):Q;var h,T,s=this,x=s.figureGridWidth(),F=s.getGridHeight(),v=s.getGridGap(),R=x+v,q=F+v,a=Q.x,u=Q.y;return h=a>=R?w(a/R):0,T=u>=q?w(u/q):0,{gridX:h,gridY:T}},figureGridWidth:function(e,m){m==y&&(m=this.getContentWidth()),e==y&&(e=this.getColumnCount());var d=this.getGridGap()||0;return(m-(e-1)*d)/e},layoutFlow:function(H){H=H._as;var E=this;H.sort(function(U,d){var z=E.getChildLayoutParams(U),Z=E.getChildLayoutParams(d);if(z.gridY<Z.gridY)return-1;if(z.gridY===Z.gridY){if(z.detached&&!Z.detached){var H=U._rawLayoutParams;return H.gridY<z.gridY?1:-1}if(!z.detached&&Z.detached){var H=d._rawLayoutParams;return H.gridY<Z.gridY?-1:1}return 0}return 1});var $={};H.forEach(function(w){var P=E.getChildLayoutParams(w);P={gridX:P.gridX,gridY:P.gridY,colspan:P.colspan,rowspan:P.rowspan};for(var L=0;;){var g=!0;a:for(var M=P.gridX;M<P.gridX+P.colspan;M++)for(var x=L;x<L+P.rowspan;x++)if($[M+"-"+x]){g=!1;break a}a:for(var M=P.gridX;M<P.gridX+P.colspan;M++)for(var x=L;x<P.gridY+P.rowspan;x++)if($[M+"-"+x]){g=!1;break a}if(g){P.gridY=L,w.getLayoutParams().gridY=L;for(var M=P.gridX;M<P.gridX+P.colspan;M++)for(var x=P.gridY;x<P.gridY+P.rowspan;x++)$[M+"-"+x]=!0;break}L++}})},validateImpl:function(L,k,I,G){var H,Q=this,v=Q.getVisibleChildren(),Z=Q.getGridGap(),x=Q.getGridHeight(),t=Q.figureGridWidth(null,I);Q.isAutoFlow()&&Q.layoutFlow(v,I,G);for(var z={x:0,y:0,width:0,height:0},M=0,_=v.size();_>M;M++){var m,b=v.get(M),U=Q.getChildLayoutParams(b),V=U.detached;m=V?{x:U.marginLeft,y:U.marginTop,width:U.width,height:U.height}:Q.$5u(b,t,x,Z,I,G),Q.layoutChild(b,m.x,m.y,m.width,m.height),z=O.unionRect(m,z)}H=z.height,Q.updateScrollBar(I,G,I,H)},getSerializableProperties:function(){var _=Zj.superClass.getSerializableProperties.call(this);return Nf(_,{columnCount:!0,gridHeight:!0,gridGap:!0,"is:autoFlow":!0})}});var gr=function(y){var q=this;gr.superClass.constructor.call(q,y)};sf(gr,H.Interactor,{}),H.HBoxLayout=function(q){H.HBoxLayout.superClass.constructor.call(this),this.set(q)},sf("ht.ui.HBoxLayout",pf,{ui_ac:["align","vAlign","equalMode","gap"],__align:"left",__vAlign:"top",_preferredSizeProps:Nf(Fb(Ap._preferredSizeProps),{equalMode:!0,gap:!0}),processChildLayoutParams:function(h,L,q,z){if(q==y)return z;
z=Fb(z);var R=h.indexOf(L);return z.marginRight==y&&(z.marginRight=R<h.length-1?q:0),z},figurePreferredSize:function(){for(var d=this,A=d.getVisibleChildren(),n=A.size(),v=d.getVAlign(),T=d.getGap(),b=d.getEqualMode(),R={x:0,y:0,width:0,height:0},B={},Z=0;n>Z;Z++){var u,J,h=A.get(Z),F=b?d.getChildLayoutParams(h):d.processChildLayoutParams(A,h,T,d.getChildLayoutParams(h)),l=F.width==y?rj:F.width,p=F.height==y?rj:F.height,e=F.marginLeft||0,g=F.marginRight||0,M=F.marginTop||0,W=F.marginBottom||0,z=F.vAlign||v,L=d.getChildPreferredSize(h);u=l===oo?L.width:l===rj?L.width:Sp(l)?L.width:l,u=d.adjustChildWidth(h,u),J=p===oo?L.height:p===rj?L.height:Sp(p)?L.height:p;var C,O,N,I,J=d.adjustChildHeight(h,J);if(C=e,O=M,N=u+g,I=J+W,Z>0){var D=B[Z-1];C+=D.x+D.width}z===rr&&(O=(M+W)/2);var X={x:C,y:O,width:N,height:I,marginLeft:e,marginRight:g,marginTop:M,marginBottom:W};B[Z]=X,R=Ch(R,X)}return{width:i(d.getPaddingLeft()+d.getPaddingRight()+d.getBorderLeft()+d.getBorderRight()+R.width),height:i(d.getPaddingTop()+d.getPaddingBottom()+d.getBorderTop()+d.getBorderBottom()+R.height)}},$5u:function(M,N,K,g,o,$){var q,a,E=this,v=o?E.processChildLayoutParams(o,M,$,E.getChildLayoutParams(M)):E.getChildLayoutParams(M),l=v.width==y?rj:v.width,x=v.height==y?rj:v.height,Y=v.marginLeft||0,U=v.marginRight||0,R=v.marginTop||0,O=v.marginBottom||0,p=v.vAlign||E.getVAlign(),B=E.getChildPreferredSize(M);return q=l===oo?g:l===rj?B.width:Sp(l)?E.getExpressionValue(N,l):l,q=E.adjustChildWidth(M,q),a=x===oo?K-R-O:x===rj?B.height:Sp(x)?E.getExpressionValue(K,x):x,a=E.adjustChildHeight(M,a),{marginLeft:Y,marginTop:R,marginRight:U,marginBottom:O,width:q,height:a,vAlign:p}},$29u:function(e,T,P,_){0>e&&(e=0);var q=this,r=q.getEqualMode(),Z=_.size(),f=0,H={x:0,y:0,width:0,height:0};if("space-between"===r)for(var u=e/(Z-1),d=0;Z>d;d++){var m=_.get(d),J=q.$5u(m,T,P),b=J.vAlign,S=f,U=J.marginTop;b===rr?U=(P-J.height)/2:b===Rb&&(U=P-J.height-J.marginBottom),f+=J.width,d===Z-1?H=Ch(H,{x:S,y:U,width:J.width,height:J.height+J.marginBottom}):(f+=u,H=Ch(H,{x:S,y:U,width:J.width+u,height:J.height+J.marginBottom})),q.layoutChild(m,S,U,J.width,J.height)}else if("space-around"===r){var u=e/(2*Z);f=u;for(var d=0;Z>d;d++){var m=_.get(d),J=q.$5u(m,T,P),b=J.vAlign,S=f,U=J.marginTop;b===rr?U=(P-J.height)/2:b===Rb&&(U=P-J.height-J.marginBottom),H=Ch(H,{x:S,y:U,width:J.width+u,height:J.height+J.marginBottom}),q.layoutChild(m,S,U,J.width,J.height),f+=J.width,f+=2*u}}else{var u=e/(Z+1);f=u;for(var d=0;Z>d;d++){var m=_.get(d),J=q.$5u(m,T,P),b=J.vAlign,S=f,U=J.marginTop;b===rr?U=(P-J.height)/2:b===Rb&&(U=P-J.height-J.marginBottom),H=Ch(H,{x:S,y:U,width:J.width+u,height:J.height+J.marginBottom}),q.layoutChild(m,S,U,J.width,J.height),f+=J.width,f+=u}}return H},$30u:function(s,C,A,G,N){for(var i=this,k=i.getVisibleChildren(),X=k.size(),b=i.getGap(),w={x:0,y:0,width:0,height:0},R=0;X>R;R++){var g=k.get(R),I=i.$5u(g,C,A,G,k,b),z=I.vAlign,T=0,v=I.marginTop;0===R&&N||(s+=I.marginLeft),T+=s,z===rr?v=(A-I.height)/2:z===Rb&&(v=A-I.height-I.marginBottom),s+=I.width,R===X-1&&N?w=Ch(w,{x:T,y:v,width:I.width,height:I.height}):(s+=I.marginRight,w=Ch(w,{x:T,y:v,width:I.width+I.marginRight,height:I.height+I.marginBottom})),i.layoutChild(g,T,v,I.width,I.height)}return w},validateImpl:function(Y,k,S,g){for(var K=this,c=K.getAlign(),L=K.getGap(),V=K.getVisibleChildren(),n=V.size(),f={x:0,y:0,width:0,height:0},M=0,G=K.getEqualMode(),i=0,P=0;n>P;P++){var l,v=V.get(P),w=G?K.getChildLayoutParams(v):K.processChildLayoutParams(V,v,L,K.getChildLayoutParams(v)),Z=w.width==y?rj:w.width,A=w.marginLeft||0,T=w.marginRight||0;Z!==oo?(l=Z===rj?K.getChildPreferredSize(v).width:Sp(Z)?K.getExpressionValue(S,Z):Z,l=K.adjustChildWidth(v,l),G||(l+=A+T),M+=l,i++):G||(M+=A+T)}if(G)f=K.$29u(S-M,S,g,V);else{var E=(S-M)/(n-i);if(c===dn)f=K.$30u(0,S,g,E);else if(c===mo){for(var N=0,P=0;n>P;P++){var v=V.get(P),u=K.$5u(v,S,g,E,V,L);N+=u.width+u.marginLeft+u.marginRight}if(S>N){N=S;for(var P=n-1;P>=0;P--){var v=V.get(P),u=K.$5u(v,S,g,E,V,L),z=u.vAlign,B=N-u.marginRight-u.width,r=u.marginTop;N-=u.marginLeft+u.width+u.marginRight,z===rr?r=(g-u.height)/2:z===Rb&&(r=g-u.height-u.marginBottom),f=Ch(f,{x:B,y:r,width:u.width+u.marginRight,height:u.height+u.marginBottom}),K.layoutChild(v,B,r,u.width,u.height)}}else f=K.$30u(0,S,g,E)}else if(c===es){for(var N=0,P=0;n>P;P++){var v=V.get(P),u=K.$5u(v,S,g,E,V,L);N+=u.width,P>0&&(N+=u.marginLeft),n-1>P&&(N+=u.marginRight)}S>N?(N=(S-N)/2,f=K.$30u(N,S,g,E,!0)):f=K.$30u(0,S,g,E)}}var C=f.width+f.x,s=f.height+f.y;K.updateScrollBar(S,g,C,s)},getSerializableProperties:function(){var M=H.HBoxLayout.superClass.getSerializableProperties.call(this);return Nf(M,{align:!0,gap:!0,equalMode:!0,vAlign:!0})}}),H.HButtonGroup=function(x){var U=this;H.HButtonGroup.superClass.constructor.call(U);var i=U._radios=new H.Radios;U.set(x),i.on("p:selectedButton",function(H){U.fp("selectedButton",H.oldValue,H.newValue)})},sf("ht.ui.HButtonGroup",H.HBoxLayout,{__gap:-1,addViewImpl:function(p,j){H.HButtonGroup.superClass.addViewImpl.call(this,p,j),p instanceof H.RefViewGroup&&(p=p.getChildren().get(0)),p instanceof H.ToggleButton&&this._radios.add(p)},removeView:function(U){H.HButtonGroup.superClass.removeView.call(this,U),this._radios.remove(U)},getRadios:function(){return this._radios},select:function(V){var z=this,r=z._children.get(V);r&&r.setSelected(!0)},layoutChild:function(L,a,Q,v,T){var y=this,J=y.getChildLayoutParams(L),s=J.marginTop||0,k=J.marginBottom||0,T=y.getContentHeight()-s-k;H.HButtonGroup.superClass.layoutChild.call(y,L,a,Q,v,T)}}),H.VBoxLayout=function(h){H.VBoxLayout.superClass.constructor.call(this),this.set(h)},sf("ht.ui.VBoxLayout",pf,{ui_ac:["align","vAlign","equalMode","gap"],__vAlign:"top",__align:"left",_preferredSizeProps:Nf(Fb(Ap._preferredSizeProps),{equalMode:!0,gap:!0}),processChildLayoutParams:function(F,J,K,p){if(K==y)return p;p=Fb(p);var I=F.indexOf(J);return null==p.marginBottom&&(p.marginBottom=I<F.length-1?K:0),p},figurePreferredSize:function(){for(var l=this,j=l.getVisibleChildren(),H=j.size(),d=l.getAlign(),K=l.getGap(),_=l.getEqualMode(),V={x:0,y:0,width:0,height:0},e={},B=0;H>B;B++){var n,s,P=j.get(B),o=_?l.getChildLayoutParams(P):l.processChildLayoutParams(j,P,K,l.getChildLayoutParams(P)),G=o.width==y?rj:o.width,E=o.height==y?rj:o.height,v=o.marginLeft||0,C=o.marginRight||0,L=o.marginTop||0,b=o.marginBottom||0,U=o.align||d,c=l.getChildPreferredSize(P);n=G===oo?c.width:G===rj?c.width:Sp(G)?c.width:G,n=l.adjustChildWidth(P,n),s=E===oo?c.height:E===rj?c.height:Sp(E)?c.height:E,s=l.adjustChildHeight(P,s);var r,O,X,M;if(r=v,O=L,X=n+C,M=s+b,B>0){var N=e[B-1];O+=N.y+N.height}U===es&&(r=(v+C)/2);var D={x:r,y:O,width:X,height:M,marginLeft:v,marginRight:C,marginTop:L,marginBottom:b};e[B]=D,V=Ch(V,D)}return{width:i(l.getPaddingLeft()+l.getPaddingRight()+l.getBorderLeft()+l.getBorderRight()+V.width),height:i(l.getPaddingTop()+l.getPaddingBottom()+l.getBorderTop()+l.getBorderBottom()+V.height)}},$5u:function(A,H,L,O,Z,Y){var M,s,k=this,q=Z?k.processChildLayoutParams(Z,A,Y,k.getChildLayoutParams(A)):k.getChildLayoutParams(A),a=q.width==y?rj:q.width,w=q.height==y?rj:q.height,G=q.marginLeft||0,E=q.marginRight||0,l=q.marginTop||0,x=q.marginBottom||0,v=q.align||k.getAlign(),N=k.getChildPreferredSize(A);return s=w===oo?O:w===rj?N.height:Sp(w)?k.getExpressionValue(L,w):w,s=k.adjustChildHeight(A,s),M=a===oo?H-G-E:a===rj?N.width:Sp(a)?k.getExpressionValue(H,a):a,M=k.adjustChildWidth(A,M),{marginLeft:G,marginTop:l,marginRight:E,marginBottom:x,width:M,height:s,align:v}},$29u:function(Z,G,B,c){0>Z&&(Z=0);var m=this,o=m.getEqualMode(),E=c.size(),q=0,y={x:0,y:0,width:0,height:0};if("space-between"===o)for(var H=Z/(E-1),a=0;E>a;a++){var g=c.get(a),u=m.$5u(g,G,B),F=u.align,R=q,i=u.marginLeft;F===es?i=(G-u.width)/2:F===mo&&(i=G-u.width-u.marginRight),q+=u.height,a===E-1?y=Ch(y,{x:i,y:R,width:u.width+u.marginRight,height:u.height}):(q+=H,y=Ch(y,{x:i,y:R,width:u.width+u.marginRight,height:u.height+H})),m.layoutChild(g,i,R,u.width,u.height)}else if("space-around"===o){var H=Z/(2*E);q=H;for(var a=0;E>a;a++){var g=c.get(a),u=m.$5u(g,G,B),F=u.align,R=q,i=u.marginLeft;F===es?i=(G-u.width)/2:F===mo&&(i=G-u.width-u.marginRight),y=Ch(y,{x:i,y:R,width:u.width+u.marginRight,height:u.height+H}),m.layoutChild(g,i,R,u.width,u.height),q+=u.height,q+=2*H}}else{var H=Z/(E+1);q=H;for(var a=0;E>a;a++){var g=c.get(a),u=m.$5u(g,G,B),F=u.align,R=q,i=u.marginLeft;F===es?i=(G-u.width)/2:F===mo&&(i=G-u.width-u.marginRight),y=Ch(y,{x:i,y:R,width:u.width+u.marginRight,height:u.height+H}),m.layoutChild(g,i,R,u.width,u.height),q+=u.height,q+=H}}return y},$30u:function(F,n,D,B,f){for(var I=this,O=I.getVisibleChildren(),g=O.size(),x=I.getGap(),U={x:0,y:0,width:0,height:0},z=0;g>z;z++){var E=O.get(z),d=I.$5u(E,n,D,B,O,x),J=d.align,Z=0,L=d.marginLeft;0===z&&f||(F+=d.marginTop),Z+=F,J===es?L=(n-d.width)/2:J===mo&&(L=n-d.width-d.marginRight),F+=d.height,z===g-1&&f?U=Ch(U,{x:L,y:Z,width:d.width,height:d.height}):(F+=d.marginBottom,U=Ch(U,{x:L,y:Z,width:d.width+d.marginRight,height:d.height+d.marginBottom})),I.layoutChild(E,L,Z,d.width,d.height)}return U},validateImpl:function(r,G,T,A){for(var j=this,h=j.getVAlign(),F=j.getVisibleChildren(),P=j.getGap(),J=F.size(),H={x:0,y:0,width:0,height:0},_=0,U=j.getEqualMode(),Q=0,N=0;J>N;N++){var s,b=F.get(N),a=U?j.getChildLayoutParams(b):j.processChildLayoutParams(F,b,P,j.getChildLayoutParams(b)),M=a.height==y?rj:a.height,k=a.marginTop||0,n=a.marginBottom||0;M!==oo?(s=M===rj?j.getChildPreferredSize(b).height:Sp(M)?j.getExpressionValue(A,M):M,s=j.adjustChildHeight(b,s),U||(s+=k+n),_+=s,Q++):U||(_+=k+n)}if(U)H=j.$29u(A-_,T,A,F);else{var m=(A-_)/(J-Q);if(h===om)H=j.$30u(0,T,A,m);else if(h===Rb){for(var Y=0,N=0;J>N;N++){var b=F.get(N),Z=j.$5u(b,T,A,m,F,P);Y+=Z.height+Z.marginTop+Z.marginBottom}if(A>Y){Y=A;for(var N=J-1;N>=0;N--){var b=F.get(N),Z=j.$5u(b,T,A,m,F,P),W=Z.align,L=Y-Z.marginBottom-Z.height,f=Z.marginLeft;Y-=Z.marginTop+Z.height+Z.marginBottom,W===es?f=(T-Z.width)/2:W===mo&&(f=T-Z.width-Z.marginRight),H=Ch(H,{x:f,y:L,width:Z.width+Z.marginRight,height:Z.height+Z.marginBottom}),j.layoutChild(b,f,L,Z.width,Z.height)}}else H=j.$30u(0,T,A,m)}else if(h===rr){for(var Y=0,N=0;J>N;N++){var b=F.get(N),Z=j.$5u(b,T,A,m,F,P);Y+=Z.height,N>0&&(Y+=Z.marginTop),J-1>N&&(Y+=Z.marginBottom)}A>Y?(Y=(A-Y)/2,H=j.$30u(Y,T,A,m,!0)):H=j.$30u(0,T,A,m)}}var l=H.width+H.x,e=H.height+H.y;j.updateScrollBar(T,A,l,e)},getSerializableProperties:function(){var Q=H.HBoxLayout.superClass.getSerializableProperties.call(this);return Nf(Q,{align:!0,vAlign:!0,equalMode:!0,gap:!0})}}),H.VButtonGroup=function(n){var N=this;H.VButtonGroup.superClass.constructor.call(N);var U=N._radios=new H.Radios;N.set(n),U.on("p:selectedButton",function(I){N.fp("selectedButton",I.oldValue,I.newValue)})},sf("ht.ui.VButtonGroup",H.VBoxLayout,{__gap:-1,addViewImpl:function(B,e){B instanceof H.RefViewGroup&&(B=B.getChildren().get(0)),H.VButtonGroup.superClass.addViewImpl.call(this,B,e),B instanceof H.ToggleButton&&this._radios.add(B)},removeView:function(K){H.VButtonGroup.superClass.removeView.call(this,K),this._radios.remove(K)},getRadios:function(){return this._radios},select:function(X){var Z=this,L=Z._children.get(X);L&&L.setSelected(!0)},layoutChild:function(w,z,i,b,v){var a=this,F=a.getChildLayoutParams(w),_=F.marginLeft||0,A=F.marginRight||0,b=a.getContentWidth()-_-A;H.VButtonGroup.superClass.layoutChild.call(a,w,z,i,b,v)}}),H.SplitLayout=function(C,Q,j){var I=this;H.SplitLayout.superClass.constructor.call(I),C&&C.getView&&I.addView(C,{region:"first"}),Q&&Q.getView&&I.addView(Q,{region:"second"}),j!=y&&I.setOrientation(j),C&&!C.getView&&Q==y&&j==y&&I.set(C)},sf("ht.ui.SplitLayout",pf,{ui_ac:["positionType","position","orientation","drawable:toggle","drawable:hoverToggle","drawable:activeToggle","is:useSplitterStateForToggle","resizeHintBackground","toggleVisible","toggleSize","toggleGap","togglePosition","drawable:splitter","drawable:hoverSplitter","drawable:activeSplitter","splitterSize","splitterHitSize","splitterVisible","resizable","collapseRegion","is:continuous"],ms_ac:["splitterState","currentToggle","currentToggleState","dockManager"],_preferredSizeProps:Nf(Fb(Ap._preferredSizeProps),{collapseRegion:!0,positionType:!0,position:!0,splitterVisible:!0,orientation:!0,splitterSize:!0}),_minSizeProps:Nf(Fb(Ap._minSizeProps),{collapseRegion:!0,positionType:!0,position:!0,splitterVisible:!0,orientation:!0,splitterSize:!0}),__positionType:"percentage",__orientation:"h",__toggleGap:10,__togglePosition:.5,__toggleVisible:!0,__resizable:!0,__splitterVisible:!0,__toggle:["ht.ui.drawable.ImageDrawable","ui_splitlayoutToggle","fill"],__splitterSize:9,__splitterHitSize:9,__toggleSize:40,__resizeHintBackground:"rgba(0,0,0,0.3)",initView:function(){var z=this;H.SplitLayout.superClass.initView.call(z);var B=z.getContentDiv(),r=z._view,o=z.$365;B.style.zIndex="0";var R=z.$33u=Sl();R.style.pointerEvents="",R.setAttribute(S,"ht-splitter"),o?r.insertBefore(R,o):r.appendChild(R)},isSelfViewEvent:function($){var R=this,u=H.SplitLayout.superClass.isSelfViewEvent.call(R,$);if(!u){var _=Nl($);_===R.$33u&&(u=!0)}return u},setDockManager:function(Z){var S=this,J=S.getDockManager();J!==Z&&(S.setPropertyValue("dockManager",Z),J&&J.setViewGroup(y),Z&&Z.setViewGroup(S))},getInteractorClasses:function(){return[H.SplitLayoutInteractor].concat(H.SplitLayout.superClass.getInteractorClasses.call(this))},getCursor:function(){var W=this,A=W.getPropertyValue("cursor"),g=W.getCollapseRegion(),_=W.getSplitterState(),l=W.getCurrentToggle();if(l)"second"===g&&"expand"===l||"first"===g&&"collapse"===l||(A=c);else if(_===gm||_===yr){var y=W.isResizable(),G=W.getOrientation();y&&!g&&(A="h"===G||"horizontal"===G?F:R)}return A},getCurrentSplitterDrawable:function(){var d=this,c=d.getSplitterDrawable(),t=d.getSplitterState();return t===gm?d.getHoverSplitterDrawable()||c:t===yr?d.getActiveSplitterDrawable()||c:c},getCurrentToggleDrawable:function(W){var c=this,n=c.isUseSplitterStateForToggle(),G=c.getSplitterState(),Y=c.getCurrentToggle(),o=c.getCurrentToggleState(),g=c.getToggleDrawable();if(Y)return Y===W?o===gm?c.getHoverToggleDrawable()||g:c.getActiveToggleDrawable()||g:g;if(n){if(G===gm)return c.getHoverToggleDrawable()||g;if(G===yr)return c.getActiveToggleDrawable()||g}return g},getChildByRegion:function(K){for(var I=this,e=I._children,v=0,u=e.size();u>v;v++){var o=e.get(v);if(I.getChildLayoutParams(o).region===K)return o}},getFirstView:function(){return this.getChildByRegion("first")},getSecondView:function(){return this.getChildByRegion("second")},$4u:function(F){var Q,I,b,K,p=this,k=p.getCollapseRegion(),x=p.getOrientation(),z=p.getPositionType(),T=p.getPosition(),e=p.getFirstView(),V=p.getSecondView(),J=e&&e.isVisible(),j=V&&V.isVisible(),C=e?p.getChildLayoutParams(e):{},q=C.marginLeft||0,h=C.marginTop||0,l=C.marginRight||0,Y=C.marginBottom||0,G="first"!==k,S=V?p.getChildLayoutParams(V):{},g=S.marginLeft||0,_=S.marginTop||0,P=S.marginRight||0,m=S.marginBottom||0,a="second"!==k,X=function(m,O,C,W,R,w){var n,F=Fb(m[_q(O+"Size")]());return n&&n.width!=y&&n.width!==oo&&n.width!==rj&&(F.width=leftLayoutParams.width),n&&n.height!==y&&n.height!==oo&&n.height!==rj&&(F.height=n.height),F.width+=w+W,F.height+=C+R,F};if(J&&G){var U=X(e,F,h,l,Y,q),B="preferred"===F?U:X(e,"preferred",h,l,Y,q);"absoluteFirst"===z?T!=y?"h"===x||"horizontal"===x?(Q=T,I=U.height):(Q=U.width,I=T):(Q=B.width,I=U.height):(Q=U.width,I=U.height)}else Q=I=0;if(j&&a){var t=X(V,F,_,P,m,g),f="preferred"===F?t:X(V,"preferred",_,P,m,g);"absoluteSecond"===z?T!=y?"h"===x||"horizontal"===x?(b=T,K=t.height):(b=t.width,K=T):(b=f.width,K=t.height):(b=t.width,K=t.height)}else b=K=0;var L;return"h"===x||"horizontal"===x?(L={width:Q+b,height:s(I,K)},J&&j&&(L.width+=p.isSplitterVisible()?p.getSplitterSize():0)):(L={width:s(Q,b),height:I+K},J&&j&&(L.height+=p.isSplitterVisible()?p.getSplitterSize():0)),L.width+=p.getBorderLeft()+p.getBorderRight()+p.getPaddingLeft()+p.getPaddingRight(),L.height+=p.getBorderTop()+p.getBorderBottom()+p.getPaddingTop()+p.getPaddingBottom(),L.width=i(L.width),L.height=i(L.height),L},figurePreferredSize:function(){return this.$4u("preferred")},figureMinSize:function(){return this.$4u("min")},$34u:function(h){var f=this,w=f.getPositionType(),L=f.getPosition(),p=f[_q(h+"View")]();if(p)if("percentage"===w){if("first"===h)return L!=y?L:.5}else if("absoluteFirst"===w){if("first"===h)return L!=y?L:f.$35u(h)}else if("absoluteSecond"===w&&"second"===h)return L!=y?L:f.$35u(h)},$35u:function(G){var U=this,C=U.getOrientation(),T=U[_q(G+"View")](),B=U.getChildLayoutParams(T);if("h"===C||"horizontal"===C){var g;return g=B&&B.width!=y&&B.width!==oo&&B.width!==rj?B.width:U.getChildPreferredSize(T).width,g=U.adjustChildWidth(T,g),B&&B.marginLeft&&(g+=B.marginLeft),B&&B.marginRight&&(g+=B.marginRight),g}var p;return p=B&&B.height!=y&&B.height!==oo&&B.height!==rj?B.height:U.getChildPreferredSize(T).height,p=U.adjustChildHeight(T,p),B&&B.marginTop&&(p+=B.marginTop),B&&B.marginBottom&&(p+=B.marginBottom),p},getToggleAt:function(_){var r,u=this;r=_ instanceof Event?u.lp(_):_;for(var H=[u.$97u,u.$96u],D=0,L=H.length;L>D;D++){var Y=0===D?"expand":"collapse",d=H[D];if(d&&(d={x:d.x,y:d.y,width:d.width-1,height:d.height-1},d&&wp(d,r)))return Y}},splitterHitTest:function(c){var h,R=this;h=c instanceof Event?R.lp(c):c;var p=R.$115u;return p&&(p={x:p.x,y:p.y,width:p.width-1,height:p.height-1},p&&wp(p,h))?!0:void 0},drawSplitter:function(M,s,W,b,a){s+=this.tx(),W+=this.ty(),M&&M.draw(s,W,b,a,y,this)},drawToggle:function(R,Z,W,f,v,d){if(Z+=this.tx(),W+=this.ty(),R){var q=this,r=q.getOrientation(),c=q.getRootContext(),C=f/2,s=v/2,X=Z+C,e=W+s;c.save(),"h"===r||"horizontal"===r?"collapse"===d?(c.translate(X,e),c.rotate(-g/2),R.draw(-s,-C,v,f,y,q)):"expand"===d&&(c.translate(X,e),c.rotate(g/2),R.draw(-s,-C,v,f,y,q)):"collapse"===d?(c.translate(X,e),R.draw(-C,-s,f,v,y,q)):"expand"===d&&(c.translate(X,e),c.rotate(g),R.draw(-C,-s,f,v,y,q)),c.restore()}},$5u:function(d,h,H,$){var j,L,R,k,t=dn,i=om,w=0,r=0,s=0,c=0,m=this;return h&&(j=h.width,L=h.height,t=h.align||dn,i=h.vAlign||om,w=h.marginLeft||0,r=h.marginRight||0,s=h.marginTop||0,c=h.marginBottom||0),j=j==y?oo:j,L=L==y?oo:L,j===oo?(j=H,j-=w+r):j===rj&&(j=m.getChildPreferredSize(d).width),j=this.adjustChildWidth(d,j),L===oo?(L=$,L-=s+c):L===rj&&(L=m.getChildPreferredSize(d).height),L=this.adjustChildHeight(d,L),R=t===es?(H-j)/2:t===mo?H-r-j:w,k=i===rr?($-L)/2:i===Rb?$-c-L:s,{x:R,y:k,width:j,height:L}},layoutSplitterDiv:function(l,A,o,m,R){l.style.display=jq,l.style.width=m+vl,l.style.height=R+vl,l.style.left=this.getContentLeft()+this.tx()+A+vl,l.style.top=this.getContentTop()+this.ty()+o+vl},validateImpl:function(C,Q,L,S){var f=this,R=f.$33u,W=f.$34u("first"),A=f.$34u("second"),m=f.getMinSize(),N=m.width>f.getWidth(),g=m.height>f.getHeight(),_=f.getOrientation(),I=f.getCollapseRegion(),O=f.getPositionType(),Z=f.getFirstView(),j=f.getSecondView(),X=Z&&Z.isVisible(),b=j&&j.isVisible();if(!X&&!b)return R.style.display=Kp,void 0;if(X)if(b){var d,k,D=f.isSplitterVisible(),p=D?f.getSplitterSize():0,Y=D?f.getSplitterHitSize():0,K=f.getCurrentSplitterDrawable(),z=f.getCurrentToggleDrawable("expand"),B=f.getCurrentToggleDrawable("collapse"),v=f.getToggleSize(),U=f.getTogglePosition(),x=f.getToggleGap(),u=f.isToggleVisible(),q="first"!==I,J="second"!==I,V=N?m.width-f.getBorderLeft()-f.getBorderRight()-f.getPaddingLeft()-f.getPaddingRight():L,c=g?m.height-f.getBorderTop()-f.getBorderBottom()-f.getPaddingTop()-f.getPaddingBottom():S,T=0,r=0,h=0,P=0;if(d=f.getChildLayoutParams(Z),k=f.getChildLayoutParams(j),"h"===_||"horizontal"===_){"first"===I?(W=0,A=V-W-p):"second"===I?(A=0,W=V-A-p):"absoluteFirst"===O?A=V-W-p:"absoluteSecond"===O?W=V-A-p:(W*=V,A=V-W-p,q&&(W=s(W,Z.getMinSize().width+(d.marginLeft||0)+(d.marginRight||0)),A=V-W-p),j&&J&&(A=s(A,j.getMinSize().width+(k.marginLeft||0)+(k.marginRight||0)),W=V-A-p)),h=q?W:0,P=J?A:0,f.$115u=y,R.style.display=Kp;var e=f.$5u(Z,d,h,c);q||(e.width=0),f.layoutChild(Z,e.x,e.y,e.width,e.height);var e=f.$5u(j,k,P,c);if(J||(e.width=0),f.layoutChild(j,e.x+h+p,e.y,e.width,e.height),D){var i=(Y-p)/2,M=f.$115u={x:h-i,y:0,width:Y,height:c};if(f.layoutSplitterDiv(R,M.x,M.y,M.width,M.height),f.drawSplitter(K,C+M.x+i,Q,p,M.height),u){if(B){var F=f.$96u={x:h-i,y:0,width:Y,height:v};F.y=0>U?c-2*v-x+U:U>0&&1>U?c*U-(2*v+x)/2:U,f.drawToggle(B,C+F.x+i,Q+F.y,p,F.height,"collapse")}if(z){var H=f.$97u={x:h-i,y:(c+2*v+x)/2-v,width:Y,height:v};H.y=0>U?c-v+U:U>0&&1>U?c*U-(2*v+x)/2+v+x:v+x+U,f.drawToggle(z,C+F.x+i,Q+H.y,p,H.height,"expand")}}}}else{"first"===I?(W=0,A=c-W-p):"second"===I?(A=0,W=c-A-p):"absoluteFirst"===O?A=c-W-p:"absoluteSecond"===O?W=c-A-p:(W*=c,A=c-W-p,q&&(W=s(W,Z.getMinSize().height+(d.marginTop||0)+(d.marginBottom||0)),A=c-W-p),J&&(A=s(A,j.getMinSize().height+(k.marginTop||0)+(k.marginBottom||0)),W=c-A-p)),T=q?W:0,r=J?A:0,f.$115u=y,R.style.display=Kp;var e=f.$5u(Z,d,V,T);q||(e.height=0),f.layoutChild(Z,e.x,e.y,e.width,e.height);var e=f.$5u(j,k,V,r);if(J||(e.height=0),f.layoutChild(j,e.x,e.y+T+p,e.width,e.height),D){var t=(Y-p)/2,M=f.$115u={x:0,y:T-t,width:V,height:Y};if(f.layoutSplitterDiv(R,M.x,M.y,M.width,M.height),f.drawSplitter(K,C,Q+M.y+t,M.width,p),u){if(B){var F=f.$96u={x:(V-2*v-x)/2,y:T-t,width:v,height:Y};F.x=0>U?V-2*v-x+U:U>0&&1>U?V*U-(2*v+x)/2:U,f.drawToggle(B,F.x,Q+F.y+t,F.width,p,"collapse")}if(z){var H=f.$97u={x:(V+2*v+x)/2-v,y:T-t,width:v,height:Y};H.x=0>U?V-v+U:U>0&&1>U?V*U-(2*v+x)/2+v+x:v+x+U,f.drawToggle(z,H.x,Q+F.y+t,H.width,p,"expand")}}}}}else{R.style.display=Kp;var e=f.$5u(Z,f.getChildLayoutParams(Z),L,S);f.layoutChild(Z,e.x,e.y,e.width,e.height)}else{R.style.display=Kp;var e=f.$5u(j,f.getChildLayoutParams(j),L,S);f.layoutChild(j,e.x,e.y,e.width,e.height)}f.updateScrollBar(L,S,V,c)},getSerializableProperties:function(){var L=H.SplitLayout.superClass.getSerializableProperties.call(this);return Nf(L,{dockManager:1,positionType:1,position:1,orientation:1,toggle:1,toggleDrawable:1,hoverToggle:1,hoverToggleDrawable:1,activeToggle:1,activeToggleDrawable:1,"is:useSplitterStateForToggle":1,resizeHintBackground:1,toggleVisible:1,toggleSize:1,toggleGap:1,togglePosition:1,splitter:1,splitterDrawable:1,hoverSplitter:1,hoverSplitterDrawable:1,activeSplitter:1,activeSplitterDrawable:1,splitterSize:1,splitterHitSize:1,splitterVisible:1,resizable:1,collapseRegion:1,"is:continuous":1})}}),H.SplitLayoutInteractor=function(Y){this._view=Y},sf("ht.ui.SplitLayoutInteractor",A,{ms_listener:1,getView:function(){return this._view._view},clear:function(){var l=this;l.$12u&&xm(l.$12u),l.$12u=l.$36u=l.$115u=l.$13u=y,["first","second"].forEach(function(O){var M=l["_"+O+"Mask"];M&&(delete l["_"+O+"Mask"],xm(M))})},checkCurrentToggle:function(p,O){var m=this,M=m._view,l=M.getToggleAt(p),I=M.getCollapseRegion();return O&&il||!l||"second"===I&&"expand"===l||"first"===I&&"collapse"===l?(M.setCurrentToggle(y),void 0):(M.setCurrentToggle(l),l)},checkSplitter:function(V,p){var I=this,Z=I._view,A=Z.splitterHitTest(V),W=Z.isResizable(),x=Z.getCollapseRegion();return p&&il||!A||!W||x?void 0:!0},handle_mousedown:function(N){this.handle_touchstart(N)},handle_touchstart:function(j){var M=this,K=M._view;if(K.isSelfViewEvent(j))if(qd(j),M.checkCurrentToggle(j))M.$13u=Hf(j),K.setCurrentToggleState(yr),M.checkSplitter(j)?K.setSplitterState(yr):K.setSplitterState(th),sr(M,j);else{K.setCurrentToggleState(th);var p=M.checkSplitter(j);if(p){K.setSplitterState(yr);var u=K.isContinuous(),b=K.getOrientation(),y=M.$115u=K.$115u,T=M.$13u=Hf(j);if(!u){var S=M.$12u=Sl(),i=S.style;"h"===b||"horizontal"===b?(i.left=K.tx()+K.getContentLeft()+y.x+(K.getSplitterHitSize()-K.getSplitterSize())/2+vl,i.top=K.ty()+K.getContentTop()+y.y+vl,i.width=K.getSplitterSize()+vl,i.height=y.height+vl):(i.left=K.tx()+K.getContentLeft()+y.x+vl,i.top=K.ty()+K.getContentTop()+y.y+(K.getSplitterHitSize()-K.getSplitterSize())/2+vl,i.width=y.width+vl,i.height=K.getSplitterSize()+vl),i.background=K.getResizeHintBackground()}M.$36u="h"===b||"horizontal"===b?T.x:T.y;var N=K.$365,m=K._view;["first","second"].forEach(function(u){var w=K.getChildByRegion(u);if(w){var h=Sl();h.style.left=w.getX()+K.getContentLeft()+K.tx()+vl,h.style.top=w.getY()+K.getContentTop()+K.ty()+vl,h.style.width=w.getWidth()+vl,h.style.height=w.getHeight()+vl,N?m.insertBefore(h,N):m.appendChild(h),M["_"+u+"Mask"]=h}}),u||(N?m.insertBefore(S,N):m.appendChild(S)),sr(M,j)}else K.setSplitterState(th)}},handleWindowMouseUp:function(Y){this.handleWindowTouchEnd(Y)},setLayoutPosition:function(Z){var T=this,X=T._view,s=X.getOrientation(),H=X.getPositionType();"h"===s||"horizontal"===s?"absoluteFirst"===H?X.setPosition(Z):"absoluteSecond"===H?X.setPosition(X.$189u-Z-X.getSplitterSize()):"percentage"===H&&X.setPosition(Z/X.$189u):"absoluteFirst"===H?X.setPosition(Z):"absoluteSecond"===H?X.setPosition(X.$188u-Z-X.getSplitterSize()):"percentage"===H&&X.setPosition(Z/X.$188u)},handleWindowTouchEnd:function(s){var l=this,L=l._view,Z=L.getOrientation();if(L.getPositionType(),L.isSelfViewEvent(s)&&qd(s),l.$115u&&!L.isContinuous())if("h"===Z||"horizontal"===Z){var x=aj(l.$12u.style.left),q=x-L.getContentLeft()-L.tx();l.setLayoutPosition(q)}else{var E=aj(l.$12u.style.top),q=E-L.getContentTop()-L.ty();l.setLayoutPosition(q)}no(function(){l.checkRegionAndState(s,!0)}),l.clear()},handle_mouseup:function(k){this.handle_touchend(k)},handle_touchend:function(o){var r=this,Q=r._view,B=Q.getCurrentToggle(),W=Q.getCollapseRegion(),H=r.$13u;B&&fl(H,Hf(o))<qh&&("collapse"===B?"second"===W?Q.setCollapseRegion(""):Q.setCollapseRegion("first"):"expand"===B&&("first"===W?Q.setCollapseRegion(""):Q.setCollapseRegion("second")),no(function(){r.checkRegionAndState(o,!0)}))},handleWindowMouseMove:function(L){this.handleWindowTouchMove(L)},handleWindowTouchMove:function(u){var Z=this,J=Z.$115u;if(J){var i,Z=this,v=Z._view,$=v.isContinuous(),b=v.$189u,a=v.$188u,w=v.getOrientation(),j=v.getSplitterSize(),y=v.getFirstView(),m=v.getSecondView(),p=Hf(u),Y=y?v.getChildLayoutParams(y):{},d=Y.marginLeft||0,O=Y.marginTop||0,G=Y.marginRight||0,C=Y.marginBottom||0,F=m?v.getChildLayoutParams(m):{},K=F.marginLeft||0,g=F.marginTop||0,W=F.marginRight||0,P=F.marginBottom||0,H=v.getZoom();if($||(i=Z.$12u.style),"h"===w||"horizontal"===w){var t=J.x+(v.getSplitterHitSize()-v.getSplitterSize())/2,I=(p.x-Z.$36u)/H+t,A=0,Q=0;y&&(A=y.getMinSize().width+d+G),m&&(Q=m.getMinSize().width+K+W),I>b-j-Q&&(I=b-j-Q),A>I&&(I=A),i?i.left=I+v.getContentLeft()+v.tx()+vl:Z.setLayoutPosition(I)}else{var R=J.y+(v.getSplitterHitSize()-v.getSplitterSize())/2,I=(p.y-Z.$36u)/H+R,n=0,z=0;y&&(n=y.getMinSize().height+O+C),m&&(z=m.getMinSize().height+g+P),I>a-j-z&&(I=a-j-z),n>I&&(I=n),i?i.top=I+v.getContentTop()+v.ty()+vl:Z.setLayoutPosition(I)}}},checkRegionAndState:function(n,m){var v=this,q=v._view;!v.checkCurrentToggle(n,m)||m&&il?q.setCurrentToggleState(th):q.setCurrentToggleState(gm),!v.checkSplitter(n,m)||m&&il?q.setSplitterState(th):q.setSplitterState(gm)},handle_mousemove:function(P){var $=this;pk()||$.checkRegionAndState(P)},handle_mouseleave:function(){var v=this,p=v._view;v.$13u||(p.setCurrentToggle(y),p.setCurrentToggleState(th),p.setSplitterState(th))}}),A.defineProperties(H.SplitLayoutInteractor.prototype,{disabled:{get:function(){return this._view.isDisabled()}}}),H.TabLayout=function(t){var X=this;H.TabLayout.superClass.constructor.call(X),X._tabInfos=new I,X.set(t)},sf("ht.ui.TabLayout",pf,{ui_ac:["movable","tabHeight","tabGap","tabGapTop","tabGapBottom","tabPosition","titleFont","tabPadding","titleColor","hoverTitleColor","activeTitleColor","moveTitleColor","iconWidth","iconHeight","iconTitleGap","is:tabWidthInfluencedByCloseIcon","tabWidth","toolWidth","toolHeight","toolGap","toolMarginLeft","closeIconMarginLeft","drawable:closeIcon","drawable:hoverCloseIcon","drawable:activeCloseIcon","closeIconSize","closeIconX","closeIconY","drawable:tabHeaderBackground","tabHeaderLineColor","tabHeaderLineSize","drawable:tabBackground","drawable:hoverTabBackground","drawable:activeTabBackground","drawable:moveTabBackground","drawable:insertLine",gq,"is:autoHideCloseIcon","drawable:scrollController","drawable:hoverScrollController","drawable:activeScrollController","drawable:disabledScrollController","scrollControllerWidth","scrollControllerHeight","is:scrollControllerVisible","scrollStep","tabHeaderPaddingRight","tabHeaderPaddingLeft"],ms_ac:["activeViewIndex","hoverViewIndex","moveTabInfo","currentCloseViewIndex","currentCloseState","currentTool","currentToolState","currentScrollController","currentScrollControllerState"],_preferredSizeProps:Nf(Fb(Ap._preferredSizeProps),{tabPosition:!0,iconWidth:!0,iconHeight:!0,iconTitleGap:!0,tabHeight:!0,titleFont:!0,toolWidth:!0,toolHeight:!0,toolGap:!0}),_minSizeProps:Nf(Fb(Ap._minSizeProps),{tabPosition:!0,iconWidth:!0,iconHeight:!0,iconTitleGap:!0,tabHeight:!0,titleFont:!0,toolWidth:!0,toolHeight:!0,toolGap:!0}),__tabPosition:"top",__tabHeight:30,__tabHeaderPaddingRight:0,__tabHeaderPaddingLeft:0,__tabHeaderLineColor:M.lineColor,__moveTitleColor:M.textColor,__titleFont:M.font,__movable:!0,__iconWidth:16,__iconHeight:16,__iconTitleGap:4,__closeIconMarginLeft:20,__closeIconSize:14,__scrollBarMode:"off",__closeIcon:"ui_tablayoutClose",__hoverCloseIcon:"ui_tablayoutHoverClose",__activeCloseIcon:"ui_tablayoutActiveClose",__insertLine:M.insertColor,__autoMakeVisible:!0,__autoHideCloseIcon:!0,__scrollControllerWidth:30,__scrollControllerHeight:30,__scrollControllerVisible:!1,__scrollController:"ui_tabScrollController",__hoverScrollController:"ui_hoverTabScrollController",__activeScrollController:"ui_activeTabScrollController",__disabledScrollController:"ui_disabledTabScrollController",__scrollStep:10,__tabHeaderLineSize:1,__tabGap:0,__tabGapTop:0,__tabGapBottom:0,__closeIconY:.4,__closeIconX:-10,__tabPadding:20,__tabWidthInfluencedByCloseIcon:!1,__toolWidth:16,__toolHeight:16,__toolGap:8,__toolMarginLeft:16,__titleColor:M.textColor,__activeTitleColor:M.baseColor,__tabBackground:y,__hoverTabBackground:["ht.ui.drawable.ColorDrawable",M.hoverBackground],__activeTabBackground:["ht.ui.drawable.TabBackgroundLineDrawable",2,M.baseColor,"inside"],__moveTabBackground:["ht.ui.drawable.TabBackgroundLineDrawable",2,M.baseColor,"inside"],getInteractorClasses:function(){return[H.TabLayoutInteractor]},getChildByTitle:function(U){for(var f=this,m=f._children,b=0,Q=m.size();Q>b;b++){var N=m.get(b),E=f.getChildLayoutParams(N);if(U===E.title)return N}},getCurrentCloseView:function(){var e=this,y=e.getCurrentCloseViewIndex(),v=e._children;return y>=0?v.get(y):void 0},getHoverView:function(){var L=this,z=L.getHoverViewIndex(),I=L._children;return z>=0?I.get(z):void 0},adjustTranslateX:function(s){var c=this,m=c.getContentWidth(),p=c.getTabHeaderPaddingRight(),o=c.getTabHeaderPaddingLeft(),E=c._sumWidth;p>0&&(m-=p),o>0&&(m-=o),E>m&&c.isScrollControllerVisible()&&(m-=2*c.getScrollControllerWidth());var g=m-E;return g>s&&(s=g),s>0?0:T(s)},adjustTranslateY:function(d){var g=this.getContentHeight()-this.$134u;return g>d&&(d=g),d>0?0:T(d)},$4u:function(T){var u=this,R=u.getTabPosition(),f=u.getActiveView(),p=u.getVisibleChildren(),Z=p.size(),b={width:0,height:0};if(f&&("min"===T?b=u.getChildMinSize(f):"max"===T?b=u.getChildMaxSize(f):"preferred"===T&&(b=u.getChildPreferredSize(f),b.width=u.adjustChildWidth(f,b.width),b.height=u.adjustChildHeight(f,b.height))),R===dn||R===mo){var L=0,a=0;if("min"!==T)for(var P=0;Z>P;P++){var $=p.get(P);L=s(u.getTabWidth($),L),a+=u.getTabHeight(),Z-1>P&&(a+=u.getTabGap())}b.width+=L,b.height=s(a,b.height)}else if(R===om||R===Rb){var d=0;if("min"!==T)for(var P=0;Z>P;P++){var $=p.get(P);d+=u.getTabWidth($),Z-1>P&&(d+=u.getTabGap())}b.width=s(d,b.width),b.height+=u.getTabHeight()}else{var a=0;if("min"!==T)for(var P=0;Z>P;P++){var $=p.get(P);a+=u.getTabWidth($),Z-1>P&&(a+=u.getTabGap())}b.width+=u.getTabHeight(),b.height=s(a,b.height)}return b.width+=u.getBorderLeft()+u.getBorderRight()+u.getPaddingLeft()+u.getPaddingRight(),b.height+=u.getBorderTop()+u.getBorderBottom()+u.getPaddingTop()+u.getPaddingBottom(),b.width=i(b.width),b.height=i(b.height),b
},figurePreferredSize:function(){return this.$4u("preferred")},figureMinSize:function(){return this.$4u("min")},getTitle:function(C){var g=this.getChildLayoutParams(C);return g.title||""},getTextWidth:function(O,L){return go(this.getTitleFont(L),O).width},getTabWidth:function(I){var o=this.getPropertyValue("tabWidth");if(!I||o)return o;var O=this,R=0,Q=O.getChildLayoutParams(I),Y=Q.tools,l=Q.closable!=y?Q.closable:!1,c=Q.icon||Q.iconDrawable,j=O.getIconTitleGap(),e=O.getToolMarginLeft(),G=O.isTabWidthInfluencedByCloseIcon();Y&&Y._as&&(Y=Y._as),c&&(R+=O.getIconWidth());var N=O.getTitle(I);if(N&&(R+=O.getTextWidth(N,I),c&&(R+=j)),Y){(c||N)&&(R+=e);for(var p=O.getToolGap(),W=O.getToolWidth(),d=0;d<Y.length;d++)R+=W,d<Y.length-1&&(R+=p)}else l&&G&&(R+=O.getCloseIconSize(),(c||N||Y&&Y.length>0)&&(R+=O.getCloseIconMarginLeft()));return R+=2*O.getTabPadding(),w(R)},getCurrentTabBackgroundDrawable:function(o){var c=this,F=c.getActiveView(),S=c.getHoverView(),N=c.getTabBackgroundDrawable(o),X=c._moveTabInfo;return o?X&&o===X.view?c.getMoveTabBackgroundDrawable(o)||N:o===F?c.getActiveTabBackgroundDrawable(o)||N:o===S?c.getHoverTabBackgroundDrawable(o)||N:N:y},getCurrentCloseIconDrawable:function(z){if(!z)return y;var h=this,R=h.getHoverView(),t=h.isAutoHideCloseIcon(),U=h.getCurrentCloseView(),x=h.getCurrentCloseState(),T=h.getCloseIconDrawable();if(il)return h.getActiveCloseIconDrawable()||T;if(z===U){if(x===gm)return h.getHoverCloseIconDrawable()||T;if(x===yr)return h.getActiveCloseIconDrawable()||T}else{if(!t)return T;if(z===R)return T}},getCurrentTitleColor:function(p){var e=this,u=e.getHoverView(),K=e.getActiveView(),h=e.getTitleColor(),i=e._moveTabInfo;return p?i&&p===i.view?e.getMoveTitleColor()||h:p===K?e.getActiveTitleColor()||h:p===u?e.getHoverTitleColor()||h:h:y},isClosable:function(M){return M?this.getChildLayoutParams(M).closable:void 0},makeVisible:function(m){m&&(this.$292u=m,this.iv())},$312u:function(p,Q){var P=this,S=P.getChildLayoutParams(p.child).tools,d=S[p.index];d.onClick&&d.onClick.call(P,p.child,p.index,d,Q),P.fireViewEvent({kind:"clickTool",child:p.child,toolIndex:p.index,tool:d,nativeEvent:Q})},closeTab:function(Z){var N=this,I=N._children,B=I.size(),S=I.indexOf(Z),W=!1;if(!(0>S)){var F=N.getActiveView();if(Z===F){if(B)for(var s=S-1;s>=0;s++){var l=I.get(s);if(l.isVisible()&&!N.getChildLayoutParams(l).disabled){W=!0;break}}F=W?N.getPrevious(Z):N.getNext(Z),N.removeView(Z),N.setActiveView(F)}else N.removeView(Z),F?N.setActiveView(F):N.setActiveViewIndex(y)}},getActiveView:function(){return this.getPropertyValue("activeView")},setActiveView:function(z){var j=this,o=j.getPropertyValue("activeView");if(z!==o){var r=j.getActiveViewIndex();j.setPropertyValue("activeView",z),z&&(j.isAutoMakeVisible()&&j.makeVisible(z),z.redraw(!0));var y=j.getActiveViewIndex();j.fp("activeViewIndex",r,y)}},setActiveViewIndex:function(d){var W=this;if(d!=y){var i=W._children.get(d);W.setActiveView(i)}else W.setActiveView(y)},getActiveViewIndex:function(){var T=this,m=T.getActiveView();return m?T._children.indexOf(m):void 0},selectNext:function(D){var m=this,G=m._children,n=G.size(),M=G.indexOf(D);if(!(0>M)){if(n){M===n-1&&(M=-1);for(var z=M+1;n>z;z++){var q=G.get(z);if(q.isVisible()&&!m.getChildLayoutParams(q).disabled)return m.setActiveViewIndex(z),q}}m.getActiveView()&&m.setActiveViewIndex(y)}},getNext:function(k){var s=this,$=s._children,G=$.size(),W=$.indexOf(k);if(!(0>W)&&G){W===G-1&&(W=-1);for(var m=W+1;G>m;m++){var p=$.get(m);if(p.isVisible()&&!s.getChildLayoutParams(p).disabled)return p}}},getPrevious:function(I){var i=this,j=i._children,L=j.size(),S=j.indexOf(I);if(!(0>S)&&L){0===S&&(S=L);for(var Q=S-1;Q>=0;Q--){var p=j.get(Q);if(p.isVisible()&&!i.getChildLayoutParams(p).disabled)return p}}},selectPrevious:function(S){var e=this,j=e._children,I=j.size(),O=j.indexOf(S);if(!(0>O)){if(I){0===O&&(O=I);for(var K=O-1;K>=0;K--){var A=j.get(K);if(A.isVisible()&&!e.getChildLayoutParams(A).disabled)return e.setActiveViewIndex(K),A}}e.getActiveView()&&e.setActiveViewIndex(y)}},getToolDrawable:function(H,E,W,y,G){var x=H.iconDrawable;if(x||(x=H.iconDrawble=O.toDrawable(H.icon)),W&&W.index==E&&W.child===G)if("hover"===y){var b=H.hoverIconDrawable;b||(b=H.hoverIconDrawable=O.toDrawable(H.hoverIcon)),x=b||x}else if("active"===y){var M=H.activeIconDrawable;M||(M=H.activeIconDrawable=O.toDrawable(H.activeIcon)),x=M||x}return x},getIconDrawable:function(F){var h=this.getChildLayoutParams(F);if(h){var y=h.iconDrawable;if(!y&&h.icon&&(y=h.iconDrawable=O.toDrawable(h.icon)),F===this.getActiveView()){var z=h.activeIconDrawable;return!z&&h.activeIcon&&(z=h.activeIconDrawable=O.toDrawable(h.activeIcon)),z||y}if(F===this.getHoverView()){var C=h.hoverIconDrawable;return!C&&h.hoverIcon&&(C=h.hoverIconDrawable=O.toDrawable(h.hoverIcon)),C||y}if(y)return y}},getTabInfoAt:function(n){var j,u=this,m=u._tabInfos,x=u.getActiveView(),z=m.size();if(j=n instanceof Event?u.lp(n):n,"top-right"===u.getTabPosition())j={x:j.x,y:j.y},j.x=j.x+2*u.tx()+u.getContentLeft();else{var Z=u._sumWidth,d=u.getContentWidth(),P=u.getTabHeaderPaddingRight();if(d-=P,Z>d){var N=j.x+u.tx();if(N>d)return;if(u.isScrollControllerVisible()){var g=u.getScrollControllerWidth();if(g>N||N>d-g)return}}}for(var I,A=0;z>A;A++){var r=m.get(A);if(wp(r.rect,j)&&(I=r,r.view===x))break}return I},toolHitTest:function(d,e,I){var K,C=this,l=C.getTabPosition();K=I instanceof Event?C.lp(I):I;var G=e.rect,$=e.view,S=C.getToolWidth(),s=C.getToolHeight(),B=C.getToolGap(),N=C.getTabPadding();if("left-vertical"===l)for(var n=G.y+N,h=d.length-1;h>=0;h--){var j={y:n,x:G.x+(G.width-s)/2,width:s,height:S};if(wp(j,K))return{child:$,index:h};n+=S+B}else if("right-vertical"===l)for(var P=G.y+G.height-N,h=d.length-1;h>=0;h--){var j={y:P-S,x:G.x+(G.width-s)/2,width:s,height:S};if(wp(j,K))return{child:$,index:h};P-=S+B}else for(var R=G.x+G.width-N,h=d.length-1;h>=0;h--){var j={x:R-S,y:G.y+(G.height-s)/2,width:S,height:s};if(wp(j,K))return{child:$,index:h};R-=S+B}},closeIconHitTest:function(U,s){var A,C=this;return A=s instanceof Event?C.lp(s):s,"top-right"===C.getTabPosition()&&(A={x:A.x,y:A.y},A.x=A.x+2*C.tx()),wp(U.closeRect,A)},getCloseRect:function(n,k,B,X,R,t,W){var _=this,w=_.getCloseIconSize();if("left-vertical"===W||"right-vertical"===W){var V=R;R=t,t=V}return"right-vertical"===W?0>R?n-=R:R>1?n=n+B-R:n+=B*(1-R):0>R?n=n+B+R:n+=R>1?R:B*R,"left-vertical"===W?0>t?k-=t:t>1?k=k+X-t:k+=X*(1-t):0>t?k=k+X+t:k+=t>1?t:X*t,{x:n-w/2,y:k-w/2,width:w,height:w}},drawTabHeaderBackground:function(i,F,t,R,T){i&&i.draw(F,t,R,T,y,this)},drawTabBackground:function(P,a,B,M,$,t){P&&P.draw(a,B,M,$,t,this)},drawToolIcon:function(C,w,j,g,X,M){C&&C.draw(w,j,g,X,M,this)},drawTabIcon:function(G,c,O,V,z,C){G&&G.draw(c,O,V,z,C,this)},drawVerticalTabIcon:function(B,Y,k,w,e,u,P,i,Z,x,O){var D=k+e/2,c=x===dn+"-vertical";c&&(xo(B,D,w+u/2),kk(B,g),xo(B,-D,-w-u/2));var A=k+(e-i)/2,E=Z,X=A+i/2,p=E+P/2;xo(B,X,p),kk(B,f),xo(B,-X,-p),this.drawTabIcon(Y,k+(e-P)/2,Z+P/2-i/2,P,i,O),xo(B,X,p),kk(B,-f),xo(B,-X,-p),c&&(xo(B,D,w+u/2),kk(B,-g),xo(B,-D,-w-u/2))},drawVerticalToolIcon:function(u,X,Q,t,j,$,k,p,K,h,C){var Z=Q+j/2,B=h===dn+"-vertical";B&&(xo(u,Z,t+$/2),kk(u,g),xo(u,-Z,-t-$/2));var P=Q+(j-p)/2,A=K,x=P+p/2,N=A+k/2;xo(u,x,N),kk(u,f),xo(u,-x,-N),this.drawToolIcon(X,Q+(j-k)/2,K+k/2-p/2,k,p,C),xo(u,x,N),kk(u,-f),xo(u,-x,-N),B&&(xo(u,Z,t+$/2),kk(u,-g),xo(u,-Z,-t-$/2))},drawTabTitle:function(F,E,n,g,H,Y,W,L){Yl(F,E,n,g,H,Y,W,L)},drawVerticalTabTitle:function(N,H,E,y,L,a,k,V,$,e,x,Z){var K=L+k/2,w=x===dn+"-vertical";w&&(xo(N,K,a+V/2),kk(N,g),xo(N,-K,-a-V/2));var b=k;xo(N,L+k/2,e+$/2),kk(N,f),xo(N,-L-k/2,-e-$/2),this.drawTabTitle(N,H,E,y,L+k/2-$/2,e+$/2-b/2,$,b,Z),xo(N,L+k/2,e+$/2),kk(N,-f),xo(N,-L-k/2,-e-$/2),w&&(xo(N,K,a+V/2),kk(N,-g),xo(N,-K,-a-V/2))},drawInsertLine:function(J,I,$,S,q){J&&J.draw(I,$,S,q,y,this)},drawCloseIcon:function(n,M,w,Z,P,g){n&&n.draw(M,w,Z,P,g,this)},isHTabScrollable:function(){var M=this,v=M.getTabPosition();return v===om||v===Rb||"top-right"===v?this._sumWidth>M.getContentWidth()-M.getTabHeaderPaddingRight():void 0},isVTabScrollable:function(){var n=this,u=n.getTabPosition();return u===dn||u===mo||u===dn+"-vertical"||u===mo+"-vertical"?this.$134u>n.getContentHeight():void 0},drawTab:function(J,m,C,u,U,W){var R,K=this,P=K.getTabPosition(),o=K.getChildLayoutParams(m),I=o.tools,_=K.isClosable(m),G=P===dn+"-vertical",q=P===mo+"-vertical",i=C,n=u,d=K.getIconDrawable(m),g=o.disabled,T=K.getIconTitleGap(),p=K.getCurrentTitleColor(m),j=K.getTitleFont(m),w=K.getTitle(m),F=K.getTabPadding(),r=K.getCurrentTabBackgroundDrawable(m),s=K.getIconWidth(m)||0,c=K.getIconHeight(m)||0,X=K.getToolWidth(),B=K.getToolHeight(),D=K.getToolGap(),M=K.getCurrentTool(),k=K.getCurrentToolState();if(g&&(J.globalAlpha=hf),G||q?(xo(J,C+U/2,u+W/2),G?kk(J,-f):kk(J,f),xo(J,-C-U/2,-u-W/2),K.drawTabBackground(r,C+U/2-W/2,u+W/2-U/2,W,U,m),xo(J,C+U/2,u+W/2),G?kk(J,f):kk(J,-f),xo(J,-C-U/2,-u-W/2)):K.drawTabBackground(r,i,u,U,W,m),i+=F,n+=F,d&&(G||q?K.drawVerticalTabIcon(J,d,C,u,U,W,s,c,n,P,m):K.drawTabIcon(d,i,u+(W-c)/2,s,c,m),i+=s+T,n+=s+T),G||q){var y=W-2*F-T-s;K.drawVerticalTabTitle(J,w,j,p,C,u,U,W,y,n,P,m)}else K.drawTabTitle(J,w,j,p,i,u,U,W,m);if(I)if(G||q)for(var e=u+W-F-X,E=I.length-1;E>=0;E--){var Q=I[E],v=K.getToolDrawable(Q,E,M,k,m);K.drawVerticalTabIcon(J,v,C,u,U,W,X,B,e,P,m),e-=D+X}else for(var e=C+U-F,E=I.length-1;E>=0;E--){var Q=I[E],v=K.getToolDrawable(Q,E,M,k,m);K.drawToolIcon(v,e-X,u+(W-B)/2,X,B,m),e-=D+X}else if(_){var H=K.getCurrentCloseIconDrawable(m);R=G||q?K.getCloseRect(C,u,U,W,K.getCloseIconX(),K.getCloseIconY(),P,m):K.getCloseRect(C,u,U,W,K.getCloseIconX(),K.getCloseIconY(),P,m),K.drawCloseIcon(H,R.x,R.y,R.width,R.height,m)}return g&&(J.globalAlpha=1),R},hideView:function(r){r.getView().style.display=Kp},showView:function(j){j.getView().style.display=jq},isChildVisible:function(t){return t===this.getActiveView()},isPrevScrollControllerAvailable:function(){var L=this,H=L._sumWidth,f=L.getContentWidth();if(H>f){var z=L.getTranslateX();if(0>z)return!0}},isNextScrollControllerAvailable:function(){var r=this,R=r._sumWidth,z=r.getContentWidth();if(R>z){var n=r.getTranslateX();if(z-n-2*r.getScrollControllerWidth()<R)return!0}},isScrollControllerAvailable:function(l){return"prev"===l?this.isPrevScrollControllerAvailable():"next"===l?this.isNextScrollControllerAvailable():void 0},scrollControllerHitTest:function(l){var d,A=this,$=A._nextScrollControllerRect,S=A._prevScrollControllerRect;if($||S){if(d=l instanceof Event?A.lp(l):l,d={x:d.x+A.tx()+A.getContentLeft(),y:d.y+A.getContentTop()},S&&wp(S,d))return"prev";if($&&wp($,d))return"next"}},drawScrollController:function(f,X,e,n){var J=this,H=J._sumWidth,O=J.getScrollControllerDrawable(),c=J.getCurrentScrollController(),M=J.getCurrentScrollControllerState(),P=J.getScrollControllerWidth(),m=J.getScrollControllerHeight();if(delete J._prevScrollControllerRect,delete J._nextScrollControllerRect,J.isScrollControllerVisible()&&H>n){var U=J.isPrevScrollControllerAvailable()?O:J.getDisabledScrollControllerDrawable()||O,I=J.isNextScrollControllerAvailable()?O:J.getDisabledScrollControllerDrawable()||O;"prev"===c?J.isPrevScrollControllerAvailable()&&(U="hover"===M?J.getHoverScrollControllerDrawable()||O:"active"===M?J.getActiveScrollControllerDrawable()||O:O):"next"===c&&J.isNextScrollControllerAvailable()&&(I="hover"===M?J.getHoverScrollControllerDrawable()||O:"active"===M?J.getActiveScrollControllerDrawable()||O:O);var T=J._prevScrollControllerRect={x:X,y:e,width:P,height:m};U.draw(T.x,T.y,T.width,T.height,y,J),f.save(),f.translate(X+n-P/2,e+m/2),f.rotate(Math.PI),f.translate(-(X+n-P/2),-(e+m/2));var Q=J._nextScrollControllerRect={x:X+n-P,y:e,width:P,height:m};I.draw(Q.x,Q.y,Q.width,Q.height,y,J),f.restore()}},validateImpl:function(u,Y,o,F){var M,B=this,b=B.getVisibleChildren(),j=b.size(),I=B.getTabPosition(),w=B.getActiveView(),$=B.getTabHeight(),c=B.getTabHeaderBackgroundDrawable(),v=B.getTabHeaderLineColor(),P=B.getTabHeaderLineSize(),J=B.getTabGap(),d=B.getTabGapTop(),Q=B.getTabGapBottom(),H=B._tabInfos,V=I===om,T="top-right"===I,n="top-center"===I,K=I===dn,U=I===mo,i=I===dn+"-vertical",z=I===mo+"-vertical",t=B._moveTabInfo,l=0,m=B.$292u,N=B.getRootContext();if(N.save(),N.beginPath(),N.rect(u,Y,o,F),N.clip(),K||U)for(var h=0;j>h;h++){var f=b.get(h);l=s(B.getTabWidth(f),l)}M=V||T||n?{x:0,y:$,width:o,height:s(0,F-$)}:K?{x:l+d,y:0,width:s(0,o-l-d),height:F}:U?{x:0,y:0,width:s(0,o-l-d),height:F}:i?{x:$,y:0,width:s(0,o-$),height:F}:z?{x:0,y:0,width:s(0,o-$),height:F}:{x:0,y:0,width:o,height:s(0,F-$)};for(var E=w&&w.isVisible(),h=0;j>h;h++){var f=b.get(h);f===w||B.hideView(f)}if(E&&(B.showView(w),B.layoutChild(w,M.x,M.y,M.width,M.height)),H.clear(),$-d-Q>0)if(i||z){var r=i?u:u+M.width;B.drawTabHeaderBackground(c,r,Y,o-M.width,F),N.translate(0,B.ty());for(var R,C,e=Y+J,h=0;j>h;h++){var q,f=b.get(h),a=B.getTabWidth(f);f!==w?(t&&t.view===f||(q=B.drawTab(N,f,i?r+d:r,e,$-d,a),q&&(q.x-=u,q.y-=Y)),H.add({closeRect:q,view:f,rect:{x:i?r+d-u:r-u,y:e-Y,width:$-d,height:a}})):R=e,e+=a+J}if(E){var k=b.indexOf(w);C=a=B.getTabWidth(w),t&&t.view===w||(q=B.drawTab(N,w,i?r+d:r,R,$-d,a),q&&(q.x-=u,q.y-=Y)),H.add({closeRect:q,view:w,rect:{x:i?r+d-u:r-u,y:R-Y,width:$-d,height:a}},k)}if(P>0&&v){var W=Y-B.ty(),X=i?r+$-P:u+M.width;R!=y?(N.beginPath(),N.rect(X,W,P,R-W),N.rect(X,R+C,P,W+F-(R+C)),N.fillStyle=v,N.fill()):(N.beginPath(),N.rect(X,W,P,F),N.fillStyle=v,N.fill())}if(B.$134u=s(0,e-Y),t){var Z=t.insertPosition,G=t.rect;B.drawTab(N,t.view,u+G.x,Y+G.y,G.width,G.height),B.drawInsertLine(B.getInsertLineDrawable(),u+G.x,Y+Z,G.width,1)}if(m){for(var L=null,h=0,A=H.size();A>h;h++){var x=H.get(h);x.view===m&&(L=x)}if(L){var S=L.rect,g=-B.getTranslateY();S.y+S.height>g+F?B.ty(F-S.y-S.height):S.y<g&&B.ty(-S.y)}delete B.$292u}B.ty(B.ty())}else if(K||U){B.drawTabHeaderBackground(c,K?u:u+M.width,Y,o-M.width,F),N.translate(0,B.ty());for(var R,C,e=Y+J,h=0;j>h;h++){var q,f=b.get(h),a=B.getTabWidth(f);f!==w?(t&&t.view===f||(q=B.drawTab(N,f,K?u+l+d-a:u+M.width,e,a,$),q&&(q.x-=u,q.y-=Y)),H.add({closeRect:q,view:f,rect:{x:K?l+d-a:M.width,y:e-Y,width:a,height:$}})):(R=e,C=$),e+=$+J}if(E){var k=b.indexOf(w);a=B.getTabWidth(w),t&&t.view===w||(q=B.drawTab(N,w,K?u+l+d-a:u+M.width,R,a,$),q&&(q.x-=u,q.y-=Y)),H.add({closeRect:q,view:w,rect:{x:K?l+d-a:M.width,y:R-Y,width:a,height:$}},k)}if(P>0&&v){var X=K?u+l+d-P:u+M.width,W=Y-B.ty();R!=y?(N.beginPath(),N.rect(X,W,P,R-W),N.rect(X,R+C,P,W+F-(R+C)),N.fillStyle=v,N.fill()):(N.beginPath(),N.rect(X,W,P,F),N.fillStyle=v,N.fill())}if(B.$134u=s(0,e-Y),t){var Z=t.insertPosition,G=t.rect;B.drawTab(N,t.view,u+G.x,Y+G.y,G.width,G.height),B.drawInsertLine(B.getInsertLineDrawable(),u+G.x,Y+Z,G.width,1)}if(m){for(var L=null,h=0,A=H.size();A>h;h++){var x=H.get(h);x.view===m&&(L=x)}if(L){var S=L.rect,g=-B.getTranslateY();S.y+S.height>g+F?B.ty(F-S.y-S.height):S.y<g&&B.ty(-S.y)}delete B.$292u}B.ty(B.ty())}else if(T){var _=Y,p=-B.tx();B.drawTabHeaderBackground(c,u,_,o,F-M.height),N.translate(p,0);for(var O,D,hk=u+o-J,h=0;j>h;h++){var q,f=b.get(h),a=B.getTabWidth(f);f!==w?(t&&t.view===f||(q=B.drawTab(N,f,hk-a,_+d,a,$-d-Q),q&&(q.x-=u,q.y-=Y)),H.add({closeRect:q,view:f,rect:{x:hk-a,y:_+d-Y,width:a,height:$-d-Q}})):O=hk,hk-=a+J}if(E){var k=b.indexOf(w);D=a=B.getTabWidth(w),O-=a,t&&t.view===w||(q=B.drawTab(N,w,O,_+d,a,$-d-Q),q&&(q.x-=u,q.y-=Y)),H.add({closeRect:q,view:w,rect:{x:O,y:_+d-Y,width:a,height:$-d-Q}},k)}if(P>0&&v){var W=_+$-P,X=u-p;O!=y?(N.beginPath(),N.rect(X,W,O-X,P),N.rect(O+D,W,X+o-(O+D),P),N.fillStyle=v,N.fill()):(N.beginPath(),N.rect(X,W,X+o-X,P),N.fillStyle=v,N.fill())}if(B._sumWidth=s(0,o-(hk-u)),t){var Z=t.insertPosition,G=t.rect;B.drawTab(N,t.view,G.x,Y+G.y,G.width,G.height),B.drawInsertLine(B.getInsertLineDrawable(),Z,Y+G.y,1,G.height)}if(m){for(var L=null,h=0,A=H.size();A>h;h++){var x=H.get(h);x.view===m&&(L=x)}if(L){var S=L.rect;p=-p,S.x+S.width>p+o+u?B.tx(-(o-S.x-S.width+u)):S.x<p+u&&B.tx(S.x-u)}delete B.$292u}B.tx(B.tx())}else if(n){var _=Y;B.drawTabHeaderBackground(c,u,_,o,F-M.height);for(var ni=0,h=0;j>h;h++){var f=b.get(h),a=B.getTabWidth(f);ni+=a+J}ni-=J;for(var O,D,hk=u+(o-ni)/2,h=0;j>h;h++){var q,f=b.get(h),a=B.getTabWidth(f);f!==w?(t&&t.view===f||(q=B.drawTab(N,f,hk,_+d,a,$-d-Q),q&&(q.x-=u,q.y-=Y)),H.add({closeRect:q,view:f,rect:{x:hk-u,y:_+d-Y,width:a,height:$-d-Q}})):O=hk,hk+=a+J}if(E){var k=b.indexOf(w);D=a=B.getTabWidth(w),t&&t.view===w||(q=B.drawTab(N,w,O,_+d,a,$-d-Q),q&&(q.x-=u,q.y-=Y)),H.add({closeRect:q,view:w,rect:{x:O-u,y:_+d-Y,width:a,height:$-d-Q}},k)}if(P>0&&v){var W=_+$-P,X=u;O!=y?(N.beginPath(),N.rect(X,W,O-X,P),N.rect(O+D,W,X+o-(O+D),P),N.fillStyle=v,N.fill()):(N.beginPath(),N.rect(X,W,X+o-X,P),N.fillStyle=v,N.fill())}if(t){var Z=t.insertPosition,G=t.rect;B.drawTab(N,t.view,u+G.x,Y+G.y,G.width,G.height),B.drawInsertLine(B.getInsertLineDrawable(),u+Z,Y+G.y,1,G.height)}}else{var Xd=B.getTabHeaderPaddingRight(),zp=B.getTabHeaderPaddingLeft(),_=V?Y:Y+M.height;B.drawTabHeaderBackground(c,u,_,o,F-M.height);var p=B.tx();N.translate(p,0);for(var O,D,hk=u+J+zp,ni=u+J,h=0;j>h;h++){var f=b.get(h),a=B.getTabWidth(f);ni+=a+J}ni-=u,ni=B._sumWidth=s(0,ni);var Vq=B.getScrollControllerWidth(),rc=ni>o&&B.isScrollControllerVisible(),gl=Xd+zp;rc&&(hk+=Vq,gl+=2*Vq),0!==gl&&(N.save(),N.beginPath(),N.rect(hk-p,Y,o-gl,F),N.clip());for(var h=0;j>h;h++){var q,f=b.get(h),a=B.getTabWidth(f);f!==w?(t&&t.view===f||(q=B.drawTab(N,f,hk,_+d,a,$-d-Q),q&&(q.x-=u,q.y-=Y)),H.add({closeRect:q,view:f,rect:{x:hk-u,y:_+d-Y,width:a,height:$-d-Q}})):O=hk,hk+=a+J}if(E){var k=b.indexOf(w);D=a=B.getTabWidth(w),t&&t.view===w||(q=B.drawTab(N,w,O,_+d,a,$-d-Q),q&&(q.x-=u,q.y-=Y)),H.add({closeRect:q,view:w,rect:{x:O-u,y:_+d-Y,width:a,height:$-d-Q}},k)}if(P>0&&v){0!==gl&&(N.restore(),gl=0);var W=V?_+$-P:_,X=u-B.tx();O!=y?(N.beginPath(),N.rect(X,W,O-X,P),N.rect(O+D,W,X+o-(O+D),P),N.fillStyle=v,N.fill()):(N.beginPath(),N.rect(X,W,X+o-X,P),N.fillStyle=v,N.fill())}if(t){var Z=t.insertPosition,G=t.rect;B.drawTab(N,t.view,u+G.x,Y+G.y,G.width,G.height),B.drawInsertLine(B.getInsertLineDrawable(),u+Z,Y+G.y,1,G.height)}if(0!==gl&&N.restore(),N.translate(-p,0),B.drawScrollController(N,u,_,o,F-M.height,I),N.translate(p,0),m){for(var L=null,h=0,A=H.size();A>h;h++){var x=H.get(h);x.view===m&&(L=x)}if(L){var S=L.rect,p=-B.getTranslateX();S.x+S.width>p+o-Xd?B.tx(o-S.x-S.width-Xd-(rc?Vq:0)):S.x<p+zp&&B.tx(-S.x+zp+(rc?Vq:0))}delete B.$292u}B.tx(B.tx())}N.restore()},serializeChildProperty:function(l,I,L,s){return"layoutParams"===I?(l&&(l=O.clone(l),delete l.iconDrawable,delete l.hoverIconDrawable,delete l.activeIconDrawable),l):s.serializeProperty(l,I,L)},getSerializableProperties:function(){var R=H.TabLayout.superClass.getSerializableProperties.call(this);return Nf(R,{movable:1,tabHeight:1,tabGap:1,tabGapTop:1,tabGapBottom:1,tabPosition:1,titleFont:1,tabPadding:1,titleColor:1,hoverTitleColor:1,activeTitleColor:1,moveTitleColor:1,iconWidth:1,iconHeight:1,iconTitleGap:1,closeIcon:1,closeIconDrawable:1,hoverCloseIcon:1,hoverCloseIconDrawable:1,activeCloseIcon:1,activeCloseIconDrawable:1,closeIconSize:1,closeIconX:1,closeIconY:1,tabHeaderBackground:1,tabHeaderBackgroundDrawable:1,tabHeaderLineColor:1,tabHeaderLineSize:1,tabBackground:1,tabBackgroundDrawable:1,hoverTabBackground:1,hoverTabBackgroundDrawable:1,activeTabBackground:1,activeTabBackgroundDrawable:1,moveTabBackground:1,moveTabBackgroundDrawable:1,insertLine:1,insertLineDrawable:1,autoMakeVisible:1,"is:autoHideCloseIcon":1,activeViewIndex:1,tabWidth:1,"is:tabWidthInfluencedByCloseIcon":1,toolWidth:1,toolHeight:1,toolGap:1,toolMarginLeft:1,closeIconMarginLeft:1,scrollController:1,scrollControllerDrawable:1,hoverScrollController:1,hoverScrollControllerDrawable:1,activeScrollController:1,activeScrollControllerDrawable:1,disabledScrollController:1,disabledScrollControllerDrawable:1,scrollControllerWidth:1,scrollControllerHeight:1,"is:scrollControllerVisible":1,scrollStep:1,tabHeaderPaddingRight:1,tabHeaderPaddingLeft:1})}}),H.TabLayoutInteractor=function(y){this._view=y},sf("ht.ui.TabLayoutInteractor",A,{ms_listener:1,addToTouchScrollClearQuene:H.Interactor.prototype.addToTouchScrollClearQuene,getView:function(){return this._view.getView()},handle_mousewheel:function(l){this.handleScroll(l,10*(l.wheelDelta/40))},handle_DOMMouseScroll:function(f){this.handleScroll(f,10*-f.detail)},handleScroll:function(p,V){var D=this._view,A=D.getTabPosition();D.isSelfViewEvent(p)&&(qd(p),!D.isHTabScrollable()||A!==om&&A!==Rb&&"top-center"!==A&&"top-right"!==A||(p._htScroll=!0,D.tx(D.tx()+V)),!D.isVTabScrollable()||A!==dn&&A!==mo&&A!==dn+"-vertical"&&A!==mo+"-vertical"||(p._htScroll=!0,D.ty(D.ty()+V)))},isClickable:function(_,O){var Z=this._view,I=Z.getTabPosition();return _&&Z.isHTabScrollable()&&(I===om||I===Rb||"top-center"===I||"top-right"===I)?!0:_&&Z.isVScrollable()&&(I===dn||I===mo||I===dn+"-vertical"||I===mo+"-vertical")?!0:O?_&&Z.isMovable():_&&(!Z.getChildLayoutParams(_.view).disabled||Z.isMovable())},handle_mousemove:function(V){var x=this,U=x._view,W=U.scrollControllerHitTest(V);if(W&&U.isScrollControllerAvailable(W))pk()||(U.setCurrentScrollController(W),U.setCurrentScrollControllerState(gm));else{x._scrollController||(U.setCurrentScrollController(y),U.setCurrentScrollControllerState(y));var C=U.getTabInfoAt(V);if(C&&!pk()&&(U.setCursor(x.isClickable(C)?c:""),U.setHoverViewIndex(U.getChildren().indexOf(C.view)),!x._onToolOrClose)){var m=U.getChildLayoutParams(C.view).tools;if(m&&m.length>0){var h=U.toolHitTest(m,C,V);U.setCurrentTool(h),h?U.setCurrentToolState(gm):U.setCurrentToolState(y)}else U.closeIconHitTest(C,V)?(U.setCurrentCloseViewIndex(U.getChildren().indexOf(C.view)),U.setCurrentCloseState(gm)):(U.setCurrentCloseViewIndex(y),U.setCurrentCloseState(y))}}C||(U.setCursor(y),U.setHoverViewIndex(y),x._onToolOrClose||(U.setCurrentCloseViewIndex(y),U.setCurrentCloseState(y),U.setCurrentTool(y),U.setCurrentToolState(y)))},handle_mouseleave:function(){var o=this,c=o._view;c.setHoverViewIndex(y),o._scrollController||(c.setCurrentScrollControllerState(th),c.setCurrentScrollController(y))},handle_mousedown:function(L){this.handle_mousemove(L),this.handle_touchstart(L)},clearTouchState:function(){var Y=this,h=Y._view;Y.$44u=y,Y.$45u=y,Y.$46u=y,Y.lp=y,Y.tabInfo=y,Y._onToolOrClose=y,h.setCurrentCloseState(y),h.setCurrentCloseViewIndex(y),h.setCurrentTool(y),h.setCurrentToolState(y),h.iv()},handle_touchstart:function(B){var r=this,w=r._view,K=w.getTabPosition();if(w.isSelfViewEvent(B)){qd(B);var G=w.scrollControllerHitTest(B);if(G)"prev"===G?w.isPrevScrollControllerAvailable()&&(w.setCurrentScrollController("prev"),w.setCurrentScrollControllerState("active"),r._scrollController="prev",sr(r,B),r.$355u=setTimeout(function(){r.$356u=setInterval(function(){w.tx(w.tx()+w.getScrollStep())},80)},500)):"next"===G&&w.isNextScrollControllerAvailable()&&(w.setCurrentScrollController("next"),w.setCurrentScrollControllerState("active"),r._scrollController="next",sr(r,B),r.$355u=setTimeout(function(){r.$356u=setInterval(function(){w.tx(w.tx()-w.getScrollStep())},80)},500));else if(z.Default.isLeftButton(B)){var g=w.getTabInfoAt(B);if(r.isClickable(g)){r.tabInfo=g;var o=w.getChildLayoutParams(g.view).tools;if(o&&o.length>0){var M=w.getCurrentToolState();(M!=y||il&&w.toolHitTest(g,B))&&(w.setCurrentToolState(yr),r._onToolOrClose=!0)}r._onToolOrClose||(w.getCurrentCloseState()!=y||il&&w.closeIconHitTest(g,B)?(w.setCurrentCloseState(yr),r._onToolOrClose=!0):(r.$44u=Hf(B),r.lp=w.lp(B),K===om||K===Rb||"top-center"===K||"top-right"===K?r.$45u=w.tx():r.$46u=w.ty())),sr(r,B),r.isClickable(g,!0)||r.addToTouchScrollClearQuene(B)}}}},handleWindowMouseMove:function(M){this.handleWindowTouchMove(M)},handleWindowTouchMove:function(c){if(!this._onToolOrClose){var g,W=this,H=W._view,h=H.getTabPosition(),r=W.tabInfo,A=W.lp;if(!W._scrollController)if(h===om||h===Rb||"top-center"===h||"top-right"===h){if(g=Hf(c).x-W.$44u.x,!W.$130u&&!W.$202u&&D(g)>2&&(H.isHTabScrollable()&&!lg(c)&&il?W.$130u=1:r&&H.isMovable()&&(W.$202u=1)),W.$130u)"top-right"===h?H.tx(W.$45u-g):H.tx(W.$45u+g);else if(W.$202u){var _=A.x+g,a=H.getTabGap()/2;"top-right"===H.getTabPosition()&&(_+=2*H.tx(),_+=H.getContentLeft()),H._tabInfos.each(function(E){var Z=E.rect,p=Z.x+Z.width,x=_-Z.x<p-_;_>=Z.x&&p>=_&&H.setMoveTabInfo({view:r.view,rect:{x:r.rect.x+g,y:r.rect.y,width:r.rect.width,height:r.rect.height},front:x,insertView:E.view,insertPosition:x?Z.x-a:p+a})})}}else if(g=Hf(c).y-W.$44u.y,!W.$130u&&!W.$202u&&D(g)>2&&(H.isVTabScrollable()&&!lg(c)&&il?W.$130u=1:r&&H.isMovable()&&(W.$202u=1)),W.$130u)H.ty(W.$46u+g);else if(W.$202u){var u=A.y+g,a=H.getTabGap()/2;H._tabInfos.each(function(d){var G=d.rect,F=G.y+G.height,W=u-G.y<F-u;u>=G.y&&F>=u&&H.setMoveTabInfo({view:r.view,rect:{x:r.rect.x,y:r.rect.y+g,width:r.rect.width,height:r.rect.height},front:W,insertView:d.view,insertPosition:W?s(0,G.y-a):N(H.$134u,F+a)})})}}},handleWindowMouseUp:function(X){this.handleWindowTouchEnd(X)},handleWindowTouchEnd:function(D){var X=this,i=X._view,E=i._children,L=X.tabInfo,P=i.scrollControllerHitTest(D);if(X._scrollController==P&&P&&i.isScrollControllerAvailable(P))il?i.setCurrentScrollControllerState(th):i.setCurrentScrollControllerState(gm),"prev"===P?X.$356u==y&&i.tx(i.tx()+2*i.getScrollStep()):"next"===P&&X.$356u==y&&i.tx(i.tx()-2*i.getScrollStep());else if(X._scrollController&&(i.setCurrentScrollControllerState(th),i.setCurrentScrollController(y)),X._onToolOrClose){if(i.closeIconHitTest(L,D))i.closeTab(L.view);else{var R=i.getChildLayoutParams(L.view).tools;if(R&&R.length>0){var u=i.toolHitTest(R,L,D),O=i.getCurrentTool();u&&O&&u.child===O.child&&u.index===O.index&&i.$312u(u,D)}}i.setCurrentCloseViewIndex(y),i.setCurrentCloseState(y),i.setCurrentTool(y),i.setCurrentToolState(y),delete X._onToolOrClose}else if(X.$202u){var Z=i.getMoveTabInfo();if(Z&&Z.insertView!==Z.view){var N=Z.view;E.remove(N);var $=E.indexOf(Z.insertView);$>=0&&("top-right"===i.getTabPosition()?Z.front&&$++:Z.front||$++,$<=E.size()&&(E.add(N,$),i.fp(gn,y,E),i.setActiveViewIndex($)))}i.setMoveTabInfo(y),i.setHoverViewIndex(y),delete X.$202u}else!X.$130u&&L&&(N=L.view,i.getChildLayoutParams(N).disabled||i.getActiveView()===N||i.setActiveViewIndex(i._children.indexOf(N)));X.$130u=X.tabInfo=X.$44u=X.lp=X.$45u=X.$46u=X._scrollController=y,clearTimeout(X.$355u),clearInterval(X.$356u),delete X.$355u,delete X.$356u}}),A.defineProperties(H.TabLayoutInteractor.prototype,{disabled:{get:function(){return this._view.isDisabled()}}}),H.Panel=function(i){H.Panel.superClass.constructor.call(this,i)},sf("ht.ui.Panel",pf,{ui_ac:["title","titleFont","titleColor","hoverTitleColor","activeTitleColor","drawable:icon","iconWidth","iconHeight","iconTitleGap","tools","toolsPosition","toolWidth","toolHeight","toolGap","expanded","collapsable","collapseToolIndex","drawable:expandIcon","drawable:hoverExpandIcon","drawable:activeExpandIcon","drawable:collapseIcon","drawable:hoverCollapseIcon","drawable:activeCollapseIcon","headerVisible","headerHeight","headerPaddingLeft","headerPaddingRight","drawable:headerBackground","drawable:hoverHeaderBackground","drawable:activeHeaderBackground","contentPadding"],ms_ac:["currentToolIndex","currentToolState","contentView","headerState"],_preferredSizeProps:Nf(Fb(Ap._preferredSizeProps),{iconWidth:!0,iconHeight:!0,icon:!0,iconTitleGap:!0,title:!0,titleFont:!0,tools:!0,toolWidth:!0,toolHeight:!0,toolGap:!0,expanded:!0,contentView:!0,collapsable:!0,headerVisible:!0,headerHeight:!0,headerPaddingLeft:!0,headerPaddingRight:!0}),_minSizeProps:Nf(Fb(Ap._minSizeProps),{iconWidth:!0,iconHeight:!0,icon:!0,iconTitleGap:!0,title:!0,titleFont:!0,tools:!0,toolWidth:!0,toolHeight:!0,toolGap:!0,expanded:!0,contentView:!0,collapsable:!0,headerVisible:!0,headerHeight:!0,headerPaddingLeft:!0,headerPaddingRight:!0}),$284u:Nf(Fb(qf.$284u),{expanded:!0}),_headerState:th,__headerHeight:30,__iconTitleGap:5,__toolGap:8,__expanded:!0,__collapsable:!0,__headerVisible:!0,__titleFont:M.font,__expandIcon:"ui_panelExpand",__collapseIcon:"ui_panelCollapse",__headerPaddingRight:16,__headerPaddingLeft:16,__toolsPosition:"right",__toolWidth:16,__toolHeight:16,__iconWidth:16,__iconHeight:16,__titleColor:M.baseColor,__headerBackground:M.headerBackground,__border:new H.border.LineBorder(1,M.borderColor),__borderRadius:M.borderRadius,__contentPadding:0,getInteractorClasses:function(){return[H.PanelInteractor]},handleHeaderClick:function(G){var u=this;O.isDoubleClick(G)&&u.isCollapsable()&&(u.isExpanded()?u.setExpanded(!1):u.setExpanded(!0))},$4u:function(J){var W=this,P=W.getContentView(),u=W.getContentPadding(),n=W.isHeaderVisible(),O=W.isExpanded(),l=W.getHeaderHeight(),Y={width:0,height:0};if(u==y?u=[0,0,0,0]:isNaN(u)||(u=[u,u,u,u]),P&&P.isVisible()){"min"===J?Y=W.getChildMinSize(P):"max"===J?Y=W.getChildMaxSize(P):"preferred"===J&&(Y=W.getChildPreferredSize(P),Y.width=W.adjustChildWidth(P,Y.width),Y.height=W.adjustChildHeight(P,Y.height)),O||(Y.height=0);var X=W.getChildLayoutParams(P);X&&(Y.width+=(X.marginLeft||0)+(X.marginRight||0)+u[1]+u[3],Y.height+=(X.marginTop||0)+(X.marginBottom||0)+u[0]+u[2])}if(n){Y.height+=l;var F=0,M=W.getIcon()||W.getIconDrawable(),V=W.getIconWidth(),E=W.getHeaderPaddingLeft(),G=W.getHeaderPaddingRight(),U=W.getIconTitleGap(),Q="min"===J?0:30,$=W.getToolGap(),b=W.getTitle(),R=W.getTitleFont(),B=W.getTools();if(F+=E,M&&(F+=V+U),b&&(F+=go(R,b).width),(M||b)&&B&&(F+=Q),B){B._as&&(B=B._as);for(var Z=0;Z<B.length;Z++){var m=B[Z];F+=W.getToolWidth(m),Z<B.length-1&&(F+=$)}}F+=G,Y.width=s(F,Y.width)}return Y.width+=W.getBorderLeft()+W.getBorderRight()+W.getPaddingLeft()+W.getPaddingRight(),Y.height+=W.getBorderTop()+W.getBorderBottom()+W.getPaddingTop()+W.getPaddingBottom(),Y.width=i(Y.width),Y.height=i(Y.height),Y},figurePreferredSize:function(){return this.$4u("preferred")},figureMinSize:function(){return this.$4u("min")},getCursor:function(){var k=this,u=k.getPropertyValue("cursor"),J=k.getCurrentToolIndex();return J!=y?"pointer":u},setContentView:function(h,l){var U=this;U.clear(),h&&U.addView(h,l,C,!0),U.setPropertyValue("contentView",h)},addView:function(a,p,u,A){if(!A)throw"ht.ui.Panel#addView: Use setContentView instead of addView.";H.Panel.superClass.addView.call(this,a,p,u)},setChildren:function(F){if(this.clear(),F instanceof z.List&&(F=F._as),Jr(F)){var m=F[F.length-1];this.setContentView(m)}},getContentView:function(){return this._contentView},getTools:function(){var I=this,P=I._tools,p=I.isExpanded(),K=I.isCollapsable();if(z._uiSerializing){if(P){P._as&&(P=P._as),P=P.slice(0);var k;return P.forEach(function(N){N.$203u||(k||(k=[]),k.push(N))}),k}return y}P||(P=I.getStyleValue("tools"),P&&(P._as&&(P=P._as),P=P.slice(0))),P?P._as&&(P=P._as):P=[];for(var x,l=0;l<P.length;l++){var E=P[l];if(E.$203u){x=E;break}}if(K){var R=I.getCollapseToolIndex();x?P.splice(P.indexOf(x),1):(x=I._collapseTool,x||(x=I._collapseTool={$203u:!0,onClick:function(){var D=I.isExpanded();D?I.setExpanded(!1):I.setExpanded(!0)}})),R==y?P.push(x):P.splice(R,0,x),p?(x.iconDrawable=I.getCollapseIconDrawable(),x.hoverIconDrawable=I.getHoverCollapseIconDrawable(),x.activeIconDrawable=I.getActiveCollapseIconDrawable()):(x.iconDrawable=I.getExpandIconDrawable(),x.hoverIconDrawable=I.getHoverExpandIconDrawable(),x.activeIconDrawable=I.getActiveExpandIconDrawable())}else x&&P.splice(P.indexOf(x),1);return P},getCurrentTitleColor:function(t){var f=this,$=f.getTitleColor();return t||(t=f.getHeaderState()),t===gm?f.getHoverTitleColor()||$:t===yr?f.getActiveTitleColor()||$:$},getCurrentHeaderBackgroundDrawable:function(j){var F=this,t=F.getHeaderBackgroundDrawable();return j||(j=F.getHeaderState()),j===gm?F.getHoverHeaderBackgroundDrawable()||t:j===yr?F.getActiveHeaderBackgroundDrawable()||t:t},getCurrentToolIconDrawable:function(C,M){var X=this,w=X.getCurrentToolIndex(),v=X.getCurrentToolState();if(M===w){var N;return!C.iconDrawable&&C.icon&&(C.iconDrawable=O.toDrawable(C.icon)),N=C.iconDrawable,v===th?N:v===gm?(!C.hoverIconDrawable&&C.hoverIcon&&(C.hoverIconDrawable=O.toDrawable(C.hoverIcon)),C.hoverIconDrawable||N):(!C.activeIconDrawable&&C.activeIcon&&(C.activeIconDrawable=O.toDrawable(C.activeIcon)),C.activeIconDrawable||N)
}return C.disabled?(!C.disabledIconDrawable&&C.disabledIcon&&(C.disabledIconDrawable=O.toDrawable(C.disabledIcon)),C.disabledIconDrawable||N):(!C.iconDrawable&&C.icon&&(C.iconDrawable=lj(C.icon)),C.iconDrawable)},drawTool:function(k,p,j,J,_,E){var u=this,D=u.getCurrentToolIconDrawable(k,p);D&&D.draw(j,J,_,E,k,u)},drawIcon:function(I,r,d,o,N){I&&I.draw(r,d,o,N,y,this)},drawTitle:function(V,F,s,D,u,t,S,X){Yl(this.getRootContext(),F,s,D,u,t,S,X,dn,rr)},headerHitTest:function(K){var c,o=this,Z=o.$193u;return Z?(c=K instanceof Event?o.lp(K):K,wp(Z,c)):void 0},iconHitTest:function(D){var A,b=this,y=b.$177u;return y?(A=D instanceof Event?b.lp(D):D,wp(y,A)):void 0},getToolIndex:function(K){var d=this,R=d.getTools();return R._as&&(R=R._as),R.indexOf(K)},getToolAt:function(b){var i,M=this,I=M.getTools();if(M.isHeaderVisible()){i=b instanceof Event?M.lp(b):b;var L=M.getToolsPosition(),k=M.getToolGap(),o=M.getHeaderHeight(),l=M.getHeaderPaddingRight(),E=M.getHeaderPaddingLeft();if(I._as&&(I=I._as),L===dn)for(var W=M.getContentLeft(),A=W,B=0;B<I.length;B++){var p=M.getToolWidth(I[B]),O=M.getToolHeight(I[B]),P={x:A-W+E,y:(o-O)/2,width:p,height:O};if(wp(P,i))return I[B];A+=k,A+=p}else for(var A,B=I.length-1;B>=0;B--){var p=M.getToolWidth(I[B]),O=M.getToolHeight(I[B]);A==y&&(A=M.getContentWidth()-l-p);var P={x:A,y:(o-O)/2,width:p,height:O};if(wp(P,i))return I[B];A-=k,A-=p}}},addTool:function(z,Q){var N=this,p=N._tools=N.getTools();p._as&&(p=p._as),Q!=y?p.splice(Q,0,z):p.push(z),N.fp("tools",y,N.getTools())},removeToolAt:function(O){var g=this,P=g._tools=g.getTools();P._as&&(P=P._as),P.splice(O,1),g.fp("tools",y,g.getTools())},$312u:function(f,K){var A=this,G=A.getTools();G._as&&(G=G._as);var U=G[f];U.onClick&&U.onClick.call(A,K),A.fireViewEvent({kind:"clickTool",tool:U,toolIndex:f,nativeEvent:K})},drawHeaderBackground:function(K,i,G,u,l){K&&K.draw(i,G,u,l,y,this)},drawHeader:function(Y,$,d,O){var i=this,g=i.getCurrentHeaderBackgroundDrawable(),z=i.getRootContext(),j=i.getIconDrawable(),P=i.getIconWidth(),p=i.getIconHeight(),C=i.getTitle(),V=i.getTitleFont(),E=i.getCurrentTitleColor(),c=i.getTools(),A=i.getHeaderPaddingLeft(),W=i.getHeaderPaddingRight(),M=i.getIconTitleGap(),s=i.getCurrentToolIndex(),q=i.getCurrentToolState(),K=i.getToolGap();i.drawHeaderBackground(g,Y,$,d,O);var e=Y+A;if(c){var R=i.getToolsPosition();if(c._as&&(c=c._as),R===dn)for(var x=0;x<c.length;x++){var B=c[x],h=i.getToolWidth(B),f=i.getToolHeight(B),S=$+(O-f)/2;B._state=x===s?q||"normal":"normal",i.drawTool(B,x,e,S,h,f),e+=h,e+=K}else for(var N,x=c.length-1;x>=0;x--){var B=c[x],h=i.getToolWidth(B),f=i.getToolHeight(B),S=$+(O-f)/2;N==y&&(N=Y+d-W-h),B._state=x===s?q||"normal":"normal",i.drawTool(B,x,N,S,h,f),N-=h,N-=K}}j&&(i.$177u={x:e-Y,y:(O-p)/2,width:P,height:p},i.drawIcon(j,e,$+(O-p)/2,P,p),e+=P+M),C&&i.drawTitle(z,C,V,E,e,$,d,O)},getHeight:function(){var I,b=this,d=b.isExpanded();return z._uiSerializing?b.getPropertyValue($o):I=d?b.getPropertyValue($o):b.$4u("min").height},$5u:function(d){var F,v=this,t=v.getContentPadding();t==y?t=[0,0,0,0]:isNaN(t)||(t=[t,t,t,t]);var z=v.isHeaderVisible(),B=v.getHeaderHeight(),V=v.isExpanded(),X=v.getContentWidth(),p=v.getContentHeight(),h=(d.marginLeft||0)+t[3],A=(d.marginRight||0)+t[1],e=(d.marginTop||0)+t[0],I=(d.marginBottom||0)+t[2];return F=V?{x:h,y:(z?B:0)+e,width:X-h-A,height:p-(z?B:0)-e-I}:{x:h,y:(z?B:0)+e,width:X-h-A,height:0}},validateImpl:function(g,x,M){var c=this,n=c.isHeaderVisible(),u=c.getHeaderHeight(),X=c.getContentView();if(c.$193u=y,c.$177u=y,n&&(c.$193u={x:0,y:0,width:M,height:u},c.drawHeader(g,x,M,u)),X&&X.isVisible()){X.getPreferredSize();var T=c.getChildLayoutParams(X),h=c.$5u(T);c.layoutChild(X,h.x,h.y,h.width,h.height)}},serializeProperty:function(T,i,L){var f=this;if("tools"===i){var g;if(T){g=[];for(var j=0,X=T.length;X>j;j++){var k=O.clone(T[j]);k.$203u||(delete k.iconDrawable,delete k.hoverIconDrawable,delete k.activeIconDrawable,delete k.disabledIconDrawable,g.push(k))}}return g}return L.serializeProperty(T,i,f)},getSerializableProperties:function(){var U=H.Panel.superClass.getSerializableProperties.call(this);return delete U.children,Nf(U,{title:1,titleFont:1,titleColor:1,hoverTitleColor:1,activeTitleColor:1,icon:1,iconDrawable:1,iconWidth:1,iconHeight:1,iconTitleGap:1,tools:1,toolsPosition:1,toolWidth:1,toolHeight:1,toolGap:1,expanded:1,collapsable:1,collapseToolIndex:1,expandIcon:1,expandIconDrawable:1,hoverExpandIcon:1,hoverExpandIconDrawable:1,activeExpandIcon:1,activeExpandIconDrawable:1,collapseIcon:1,collapseIconDrawable:1,hoverCollapseIcon:1,hoverCollapseIconDrawable:1,activeCollapseIcon:1,activeCollapseIconDrawable:1,headerVisible:1,headerHeight:1,headerPaddingLeft:1,headerPaddingRight:1,headerBackground:1,headerBackgroundDrawable:1,hoverHeaderBackground:1,hoverHeaderBackgroundDrawable:1,activeHeaderBackground:1,activeHeaderBackgroundDrawable:1,contentView:1,contentPadding:1})}}),H.PanelInteractor=function(O){this._view=O},sf("ht.ui.PanelInteractor",A,{ms_listener:1,addToTouchScrollClearQuene:H.Interactor.prototype.addToTouchScrollClearQuene,getView:function(){return this._view._view},handle_mousedown:function(b){this.handle_touchstart(b)},clearTouchState:function(){var q=this,D=q._view;D.setCurrentToolState(th),D.setHeaderState(th),q.$31u=y,q.$47u=y},handle_touchstart:function(Z){var g=this,H=g._view;g.handle_mousemove(Z);var K=H.getCurrentToolIndex();if(H.isSelfViewEvent(Z)&&qd(Z),typeof K===v&&K>=0)g.$31u=Hf(Z),H.setCurrentToolState(yr),sr(g,Z),g.addToTouchScrollClearQuene(Z);else{var n=H.headerHitTest(Z);n&&(H.setHeaderState(yr),sr(g,Z),g.addToTouchScrollClearQuene(Z),H.handleHeaderClick(Z))}},handleWindowMouseUp:function(I){this.handleWindowTouchEnd(I)},handleWindowTouchEnd:function(f){var O=this,t=O._view,g=t.getToolAt(f),W=t.getToolIndex(g);if(delete O.$31u,g&&g.disabled)t.setCurrentToolIndex(y),t.setCurrentToolState(th);else if(!il&&typeof W===v&&W>=0)t.setCurrentToolIndex(W),t.setCurrentToolState(gm);else{t.setCurrentToolIndex(y),t.setCurrentToolState(th);var i=t.headerHitTest(f);i&&!il?t.setHeaderState(gm):t.setHeaderState(th)}},handle_mouseup:function(e){this.handle_touchend(e)},handle_touchend:function(L){var k=this,V=k._view,n=V.getCurrentToolIndex(),g=k.$31u,r=Hf(L);g&&typeof n===v&&n>=0&&fl(g,r)<qh&&V.$312u(n,L)},handleWindowMouseMove:function($){this.handleWindowTouchMove($)},handleWindowTouchMove:function(){},handle_mousemove:function(B){var o=this,f=o._view;if(!pk()){var q=f.getToolAt(B),L=f.getToolIndex(q);if(q&&q.disabled)f.setCurrentToolState(th),f.setCurrentToolIndex(y);else if(typeof L===v&&L>=0)f.setCurrentToolIndex(L),f.setCurrentToolState(gm);else{f.setCurrentToolState(th),f.setCurrentToolIndex(y);var c=f.headerHitTest(B);c?f.setHeaderState(gm):f.setHeaderState(th)}}},handle_touchmove:function(){},handle_mouseleave:function(){var v=this,i=v._view,Y=i.getCurrentToolState(),D=i.getHeaderState();Y!==yr&&(i.setCurrentToolState(th),i.setCurrentToolIndex(y)),D!==yr&&i.setHeaderState(th)}}),A.defineProperties(H.PanelInteractor.prototype,{disabled:{get:function(){return this._view.isDisabled()}}}),H.Dialog=function(d){var r=this;r.$201u=function(){r.isMaximized()&&r.invalidateDOM(),r.isFixToCenter()&&r.updateBounds()},r._preferredSizeChangeHandler=function(){r._preferredSizeId==C&&(r._preferredSizeId=no(function(){var t=r.getPreferredSize(),W=r.getMinSize();r.setWidth(s(t.width,W.width)),r.setHeight(s(t.height,W.height)),delete r._preferredSizeId}))},H.Dialog.superClass.constructor.call(r,d)},sf("ht.ui.Dialog",H.Panel,{ui_ac:["is:modal","resizable","maskBackground","resizeBorderColor","drawable:closeIcon","drawable:hoverCloseIcon","drawable:activeCloseIcon","closable","closeToolIndex","maximizable","maximized","maximizeToolIndex","drawable:maximizeIcon","drawable:hoverMaximizeIcon","drawable:activeMaximizeIcon","drawable:restoreIcon","drawable:hoverRestoreIcon","drawable:activeRestoreIcon","footerHeight","drawable:footerBackground","buttonGap","buttonAlign","buttonVAlign","buttonPrefHeight","buttonPrefWidth","footerPaddingLeft","footerPaddingRight","is:fixToCenter"],ms_ac:[Fe,"buttons"],_preferredSizeProps:Nf(Fb(H.Panel.prototype._preferredSizeProps),{buttons:!0,buttonGap:!0,closable:!0,maximized:!0,footerHeight:!0,footerPaddingLeft:!0,footerPaddingRight:!0}),_minSizeProps:Nf(Fb(H.Panel.prototype._minSizeProps),{buttons:!0,buttonGap:!0,closable:!0,maximized:!0,footerHeight:!0,footerPaddingLeft:!0,footerPaddingRight:!0}),$284u:Nf(Fb(H.Panel.prototype.$284u),{maximized:!0}),__fixToCenter:!1,__overflow:"visible",__modal:!0,__closable:!0,__footerHeight:60,__footerPaddingLeft:16,__footerPaddingRight:16,__buttonGap:16,__buttonAlign:mo,__buttonVAlign:rr,__expandIcon:"ui_dialogExpand",__hoverExpandIcon:"ui_dialogExpand",__activeExpandIcon:"ui_dialogExpand",__collapseIcon:"ui_dialogCollapse",__hoverCollapseIcon:"ui_dialogCollapse",__activeCollapseIcon:"ui_dialogCollapse",__maximizeIcon:"ui_dialogMaximize",__hoverMaximizeIcon:"ui_dialogMaximize",__activeMaximizeIcon:"ui_dialogMaximize",__restoreIcon:"ui_dialogRestore",__hoverRestoreIcon:"ui_dialogRestore",__activeRestoreIcon:"ui_dialogRestore",__closeIcon:"ui_dialogClose",__hoverCloseIcon:"ui_dialogClose",__activeCloseIcon:"ui_dialogClose",__maximizable:!0,__buttonViews:y,__maskBackground:"rgba(0, 0, 0, 0.2)",__resizable:!0,__boxShadow:M.popupBoxShadow,__background:M.popupBackground,__resizeBorderColor:"#000",setUpInteractors:function(){var M=this._interactor;M||(M=this._interactor=new H.DialogInteractor(this),M.addListeners())},getX:function(){var q,W=this,h=W.isMaximized();return z._uiSerializing?H.Dialog.superClass.getX.call(W):q=h?hi().left:H.Dialog.superClass.getX.call(W)},getY:function(){var n,b=this,v=b.isMaximized();return z._uiSerializing?H.Dialog.superClass.getY.call(b):n=v?hi().top:H.Dialog.superClass.getY.call(b)},getWidth:function(){var t,X=this,y=X.isMaximized();if(z._uiSerializing)return X.getPropertyValue(bd);if(y){var e=hi();t=e.width}else t=H.Dialog.superClass.getWidth.call(X);return t},getHeight:function(){var d,c=this,W=c.isExpanded(),P=c.isMaximized();if(z._uiSerializing)return c.getPropertyValue($o);if(W&&P){var A=hi();d=A.height}else d=H.Dialog.superClass.getHeight.call(c);return d},initView:function(q){var d=this;H.Dialog.superClass.initView.call(d,q);var W=d.$19u=Sl(!1),s=W.style;s.position="fixed",s.width="100%",s.height="100%",s.left="0",s.top="0",s.cursor=Bq,il?(d.$14u=d.$172u("18px","100%",y,-10,0,y),d.$15u=d.$172u("18px","100%",-10,y,0,y),d.$16u=d.$172u("100%","18px",0,y,y,-10),d.$17u=d.$172u("18px","18px",-10,y,y,-10),d.$18u=d.$172u("18px","18px",y,-10,y,-10)):(d.$14u=d.$172u("9px","100%",y,-5,0,y),d.$15u=d.$172u("9px","100%",-5,y,0,y),d.$16u=d.$172u("100%","9px",0,y,y,-5),d.$17u=d.$172u("9px","9px",-5,y,y,-5),d.$18u=d.$172u("9px","9px",y,-5,y,-5))},getCursor:function(){var e=this,h=e.getPropertyValue("cursor"),N=e.getCurrentToolIndex(),l=e.$26u;return N!=y?"pointer":"east"===l?"e-resize":"west"===l?"w-resize":"south"===l?"s-resize":"southwest"===l?"sw-resize":"southeast"===l?"se-resize":h},isSelfViewEvent:function(_){var A=this,O=H.Dialog.superClass.isSelfViewEvent.call(A,_);if(!O){var S=Nl(_);(S===A.$14u||S===A.$15u||S===A.$16u||S===A.$17u||S===A.$18u||S===A.$19u)&&(O=!0)}return O},getResizeDivAt:function(W){var A=this,J=A.$14u,l=A.$15u,n=A.$16u,D=A.$17u,k=A.$18u,B=Nl(W);return J.contains(B)?"east":l.contains(B)?"west":n.contains(B)?"south":D.contains(B)?"southwest":k.contains(B)?"southeast":void 0},getTools:function(){var i=this,Y=H.Dialog.superClass.getTools.call(i),_=i.isClosable(),f=i.isMaximizable();if(Y&&Y._as&&(Y=Y._as),z._uiSerializing){if(Y){var q;return Y.forEach(function(D){D.$203u||D.$204u||D.$205u||(q||(q=[]),q.push(D))}),q}return y}for(var o,w,h=0;h<Y.length;h++){var K=Y[h];K.$204u?o=K:K.$205u&&(w=K)}if(f){var I=i.getMaximizeToolIndex();w?Y.splice(Y.indexOf(w),1):(w=i._maximizeTool,w||(w=i._maximizeTool={$205u:!0,onClick:function(){i.setMaximized(!i.isMaximized())}})),I==y?Y.push(w):Y.splice(I,0,w),i.isMaximized()?(w.iconDrawable=i.getRestoreIconDrawable(),w.hoverIconDrawable=i.getHoverRestoreIconDrawable(),w.activeIconDrawable=i.getActiveRestoreIconDrawable()):(w.iconDrawable=i.getMaximizeIconDrawable(),w.hoverIconDrawable=i.getHoverMaximizeIconDrawable(),w.activeIconDrawable=i.getActiveMaximizeIconDrawable())}else w&&Y.splice(Y.indexOf(w),1);if(_){var U=i.getCloseToolIndex();o?Y.splice(Y.indexOf(o),1):(o=i._closeTool,o||(o=i._closeTool={$204u:!0,onClick:function(){this.hide()}})),U==y?Y.push(o):Y.splice(U,0,o),o.iconDrawable=i.getCloseIconDrawable(),o.hoverIconDrawable=i.getHoverCloseIconDrawable(),o.activeIconDrawable=i.getActiveCloseIconDrawable()}else o&&Y.splice(Y.indexOf(o),1);return Y},getButtonViews:function(){var Z=this,E=Z.$138u,Y=Z.getContentDiv();if(!E){E=Z.$138u=[];var g=Z.getButtons();if(g){g._as&&(g=g._as);for(var S=0;S<g.length;S++){var i=g[S],C=i.clazz?new(O.getClass(i.clazz)):new H.Button;Z.onCreatingButton&&Z.onCreatingButton(C,i);for(var x in i){var X=mi(x);X&&C[X]&&C[X](i[x])}C.on("click",function(h){Z.$313u(h)}),E.push(C),Z.addView(C,y,y,!0),Y.appendChild(C.getView())}}}return E},onPropertyChanged:function(V){var f=this,n=V.property;H.Dialog.superClass.onPropertyChanged.call(f,V),n===Fe?V.newValue?(f._oldBodyOverflow=u.body.style.overflow,u.body.style.overflow="hidden",U.addEventListener("resize",f.$201u),f.iv(!0)):(u.body.style.overflow=f._oldBodyOverflow,delete f._oldBodyOverflow,U.removeEventListener("resize",f.$201u)):"fixToCenter"===n&&V.newValue&&f.isVisible()?f.updateBounds():"autoResizeAsPreferredSize"===n&&(V.newValue?f.on("invalidatePreferredSize",f._preferredSizeChangeHandler):f.off("invalidatePreferredSize",f._preferredSizeChangeHandler))},setAutoResize:function(f){var c=this,P=c._autoResizeAsPreferredSize;c._autoResizeAsPreferredSize=f,c.fp("autoResizeAsPreferredSize",P,f)},isAutoResize:function(){return this._autoResizeAsPreferredSize},setResizeMode:function(Y){var S=this,F=S.$26u;Y!==F&&(S.$26u=Y,S.iv())},$172u:function(X,Y,W,p,n,i){var w=this,G=Sl(!0,w._view),D=G.style;return D.width=X,D.height=Y,D.background="red",D.opacity="0",W!=y&&(G.$20u=W),p!=y&&(G.$21u=p),n!=y&&(G.$22u=n),i!=y&&(G.$23u=i),G},$313u:function(R){var K=this,y=R.source,H=K.getButtonViews().indexOf(y),Z=K.getButtons()[H];Z.onClick&&Z.onClick.call(K,y,R),K.fireViewEvent({kind:"clickButton",button:y,source:K,buttonEvent:R})},$24u:function(G){var j=this,C=j.getButtonGap(),U=0;if(G||(G=j.getButtonViews()),G){G._as&&(G=G._as);for(var I=G.length,X=0;I>X;X++)U+=j.getButtonWidth(G[X]),I-1>X&&(U+=C)}return U},$4u:function(m){var d=this,W=d.getFooterHeight(),U=d.getFooterPaddingLeft(),e=d.getFooterPaddingRight(),A=d.getButtons();if(A){var V=U+e;V+=d.$24u(),V+=d.getBorderLeft()+d.getBorderRight()+d.getPaddingLeft()+d.getPaddingRight();var t=H.Dialog.superClass.$4u.call(d,m);return t.height+=W,t.width=s(t.width,V),t}return H.Dialog.superClass.$4u.call(d,m)},getButtonWidth:function(c){var z=this.getButtonPrefWidth();return z==y?this.getChildPreferredSize(c).width:z},getButtonHeight:function(A){var M=this.getButtonPrefHeight();return M==y?this.getChildPreferredSize(A).height:M},setButtons:function(w){var U=this,v=U._buttons;if(w!==v){var r=U.$138u;if(r)for(var D=0,G=r.length;G>D;D++){var $=r[D];U.removeView($)}U.$138u=y}U.setPropertyValue("buttons",w)},addButton:function(x,b){var H=this,L=H.getButtons();L||(L=H._buttons=[]),L._as&&(L=L._as),b!=y?L.splice(b,0,x):L.push(x),H.$138u=y,H.fp("buttons",y,H.getButtons())},removeButtonAt:function(P){var J=this,V=J.getButtons();V&&(V._as&&(V=V._as),V.splice(P,1),J.$138u=y,J.fp("buttons",y,J.getButtons()))},drawFooterBackground:function(X,G,U,m,H){X&&X.draw(G,U,m,H,y,this)},updateBounds:function(k,E){var S=this;if(k==y&&E==y){var s=S.getCenterPosition();k=s.x,E=s.y}k!=y&&S.setX(k),E!=y&&S.setY(E),S.getWidth()==y&&S.setWidth(S.getPreferredSize().width),S.getHeight()==y&&S.setHeight(S.getPreferredSize().height)},addToDOM:function(V,w){w?(w.width!=y&&this.setWidth(w.width),w.height!=y&&this.setHeight(w.height),this.show(w.x,w.y)):this.show()},show:function(C,R){var _=this,Z=_.isVisible();C&&R==y&&(R=C.y,C=C.x),Z||_.refreshStyles(),_.updateBounds(C,R),_.setVisible(!0);var v=_.getView();v.parentNode||O.appendToScreen(v)},hide:function(){var r=this,n=r.isVisible();n&&r.setVisible(!1),xm(r.getView())},getCenterPosition:function(){var N=this,n=hi(),I=N.getWidth()||N.getPreferredSize().width,K=N.getHeight()||N.getPreferredSize().height;return{x:T((n.width-I)/2),y:T((n.height-K)/2)}},$5u:function(i){var c,v=this,r=v.isExpanded(),e=v.getFooterHeight(),O=v.getButtons();return c=H.Dialog.superClass.$5u.call(v,i),r&&O&&(O._as&&(O=O._as),O.length>0&&(c.height-=e)),c},$25u:function(){var h=this,n=h.$14u,R=h.$15u,F=h.$16u,p=h.$17u,Y=h.$18u,y=h.getBorder(),z=0,B=0,N=0,I=0;y&&y.isCSSBorder()&&(z=h.getBorderLeft(),B=h.getBorderRight(),N=h.getBorderTop(),I=h.getBorderBottom()),[n,R,F,p,Y].forEach(function(g){g.$20u&&(g.style.left=g.$20u-z+vl),g.$21u&&(g.style.right=g.$21u-B+vl),g.$22u&&(g.style.top=g.$22u-N+vl),g.$23u&&(g.style.bottom=g.$23u-I+vl)})},makeModal:function(D){var l=this,v=l.getView();D.parentNode||v.insertBefore(D,v.children[0]),D.style.background=l.getMaskBackground()},validateImpl:function(Z,$,w,G){var N=this,K=(N.getView(),N.isVisible()),d=N.getFooterHeight(),r=N.getButtonAlign(),V=N.getButtonVAlign(),X=N.getButtonGap(),o=N.getButtonViews(),_=N.$19u;if(K){if(N.isAutoResize()&&N.getPreferredSize(),H.Dialog.superClass.validateImpl.call(N,Z,$,w,G),N.isModal()?N.makeModal(_):xm(_),o&&o.length>0){var m=$+G-d;N.drawFooterBackground(N.getFooterBackgroundDrawable(),Z,m,w,d);for(var F=[],E=[],Q=[],D=0;D<o.length;D++){var f=o[D],M=N.getChildLayoutParams(f);M.align===dn||r==dn&&M.align==y?F.push(f):M.align===mo||r==mo&&M.align==y?Q.push(f):E.push(f)}for(var A=N.getFooterPaddingLeft(),D=0,B=F.length;B>D;D++){var b,f=F[D],L=N.getButtonWidth(f),e=N.getButtonHeight(f);b=V===om?G-d:V===Rb?G-e:G-d+(d-e)/2,N.layoutChild(f,A,b,L,e),A+=L+X}for(var I=N.$24u(E),A=(w-I)/2,D=0;D<E.length;D++){var b,f=E[D],L=N.getButtonWidth(f),e=N.getButtonHeight(f);b=V===om?G-d:V===Rb?G-e:G-d+(d-e)/2,N.layoutChild(f,A,b,L,e),A+=L+X}A=w-N.getFooterPaddingRight();for(var D=Q.length-1;D>=0;D--){var b,f=Q[D],L=N.getButtonWidth(f),e=N.getButtonHeight(f);b=V===om?G-d:V===Rb?G-e:G-d+(d-e)/2,A-=L,N.layoutChild(f,A,b,L,e),A-=X}}N.$25u()}},getSerializableProperties:function(){var T=H.Dialog.superClass.getSerializableProperties.call(this);return Nf(T,{"is:modal":1,resizable:1,maskBackground:1,resizeBorderColor:1,closeIcon:1,closeIconDrawable:1,hoverCloseIcon:1,hoverCloseIconDrawable:1,activeCloseIcon:1,activeCloseIconDrawable:1,closable:1,closeToolIndex:1,maximizable:1,maximized:1,maximizeToolIndex:1,maximizeIcon:1,maximizeIconDrawable:1,hoverMaximizeIcon:1,hoverMaximizeIconDrawable:1,activeMaximizeIcon:1,activeMaximizeIconDrawable:1,restoreIcon:1,restoreIconDrawable:1,hoverRestoreIcon:1,hoverRestoreIconDrawable:1,activeRestoreIcon:1,activeRestoreIconDrawable:1,footerHeight:1,footerBackground:1,footerBackgroundDrawable:1,buttonGap:1,buttonAlign:1,buttonVAlign:1,footerPaddingLeft:1,footerPaddingRight:1,buttonPrefWidth:1,buttonPrefHeight:1,buttons:1,"is:fixToCenter":1})}}),H.DialogInteractor=function(Q){this._view=Q},sf("ht.ui.DialogInteractor",H.PanelInteractor,{ms_listener:1,getView:function(){return this._view._view},handle_mousedown:function(T){this.handle_touchstart(T)},handle_touchstart:function(Z){var z=this,F=z._view,K=F.isMaximized(),I=F.$26u;if(O.isDoubleClick(Z)&&F.headerHitTest(Z)&&F.getCurrentToolIndex()==C&&F.isMaximizable())F.isMaximized()?F.setMaximized(!1):F.setMaximized(!0);else if(I||H.DialogInteractor.superClass.handle_touchstart.call(z,Z),!K)if(F.getHeaderState()===yr)F.isFixToCenter()||F.getParent()||(z.$27u=Uo(Z),F.fireViewEvent("beginMove"));else if(I){F.isSelfViewEvent(Z)&&qd(Z),z.$28u=Uo(Z),sr(z,Z);var g=z.$19u=Sl(),D=F._view;g.style.width=D.style.width,g.style.height=D.style.height,g.style.left=D.style.left,g.style.top=D.style.top,g.style.zIndex="1000000",u.body.appendChild(g),F.fireViewEvent("beginResize")}},handleWindowMouseUp:function(Y){this.handleWindowTouchEnd(Y)},handleWindowTouchEnd:function(A){var w=this,S=w._view,w=this,K=S.$26u,J=w.$12u;if(K){if(xm(w.$19u),w.$19u=y,J){var P=J.style.left,l=J.style.width,D=J.style.height;S.setX(aj(P)),S.setWidth(aj(l)),S.setHeight(aj(D)),xm(J)}S.setResizeMode(),S.fireViewEvent("endResize")}else w.$27u&&S.fireViewEvent("endMove"),H.DialogInteractor.superClass.handleWindowTouchEnd.call(w,A);w.$12u=w.$28u=w.$27u=y},handle_mouseup:function(h){this.handle_touchend(h)},handle_touchend:function(I){var A=this;H.DialogInteractor.superClass.handle_touchend.call(A,I)},handleWindowMouseMove:function(Z){this.handleWindowTouchMove(Z)},handleWindowTouchMove:function(O){var b=this,E=b._view,U=E.$26u;if(E.isSelfViewEvent(O)&&!il&&qd(O),b.$27u){var X=b.$27u,G=Uo(O),J=E.getHeaderHeight()+E.getBorderTop()+E.getPaddingTop(),P=G.x-X.x,W=G.y-X.y,C=E.getX(),Q=E.getY(),$=C+P,q=Q+W,D=hi();0>q&&(q=0),q+J>D.height&&(q=D.height-J),$+E.getWidth()<30&&($=30-E.getWidth()),$+30>D.width&&($=D.width-30),$=T($),q=T(q),E.setX($),E.setY(q),X.x+=$-C,X.y+=q-Q}else if(U){var s=b.$28u,G=Uo(O),v=E.getWidth(),M=E.getHeight(),B=b.$12u;if(!B){B=b.$12u=Sl(!1,u.body);var o=B.style,k=E._view;o.width=k.style.width,o.height=k.style.height,o.left=k.style.left,o.top=k.style.top,o.zIndex="1000000",o.border="1px dashed "+E.getResizeBorderColor()}var P=G.x-s.x,W=G.y-s.y,A=E.getMinSize().width,H=E.getMinSize().height,j=E.getMaxSize().width,S=E.getMaxSize().height;/east/.test(U)?(A>v+P&&(P=A-v),v+P>j&&(P=j-v),B.style.width=v+P+vl):/west/.test(U)&&(A>v-P&&(P=v-A),v-P>j&&(P=v-j),B.style.width=v-P+vl,B.style.left=G.x+vl),/south/.test(U)&&(H>M+W&&(W=H-M),M+W>S&&(W=S-M),B.style.height=M+W+vl)}},handle_mousemove:function(X){var P,J=this,W=J._view,N=W.isResizable(),u=W.isExpanded(),U=W.isMaximized();pk()||(!U&&u&&N&&(P=W.getResizeDivAt(X)),W.setResizeMode(P)),P||H.DialogInteractor.superClass.handle_mousemove.call(J,X)},handle_touchmove:function(){},handle_mouseleave:function(M){var F=this,e=F._view,u=e.$26u;u&&pk()!==F&&e.setResizeMode(),H.DialogInteractor.superClass.handle_mouseleave.call(F,M)}}),H.FlowLayout=function(O){H.FlowLayout.superClass.constructor.call(this),this.set(O)},sf("ht.ui.FlowLayout",H.ViewGroup,{ui_ac:["direction"],__direction:"leftToRight",getChildWidth:function(o){var m=this.getChildLayoutParams(o),P=m.width;return(P===oo||P===rj||P==y)&&(P=this.getChildPreferredSize(o).width),this.adjustChildWidth(o,P)},getChildHeight:function(k){var I=this.getChildLayoutParams(k),a=I.height;return(a===oo||a===rj||a==y)&&(a=this.getChildPreferredSize(k).height),this.adjustChildHeight(k,a)},figurePreferredSizeImpl:function(G,b){var L=this,V=L.getDirection();if((V===dn+"ToRight"||V===mo+"ToLeft")&&L.getWidth()==y||(V===Rb+"ToUp"||"topToDown"===V)&&L.getHeight()==y)return{width:100,height:100};var d=L.getVisibleChildren(),Z=d.size();if(V===dn+"ToRight"||V===mo+"ToLeft"){for(var n=0,u=0,o=0,f=0;Z>f;f++){var Y=d.get(f),T=L.getChildLayoutParams(Y),E=T.flowBreak,I=T.marginLeft||0,D=T.marginRight||0,H=T.marginTop||0,_=T.marginBottom||0,g=L.getChildWidth(Y),l=L.getChildHeight(Y);if(u=s(u,l+H+_),n+=I+g+D,Z-1>f){var w=E;if(!w){var t=d.get(f+1),M=L.getChildLayoutParams(t),K=M.marginLeft||0,q=M.marginRight||0,p=L.getChildWidth(t);n+p+K+q>G&&(w=!0)}w&&(o+=u,n=0,u=0)}else o+=u}return{width:L.getWidth(),height:i(L.getPaddingTop()+L.getPaddingBottom()+L.getBorderTop()+L.getBorderBottom()+o)}}for(var O=0,U=0,R=0,f=0;Z>f;f++){var Y=d.get(f),T=L.getChildLayoutParams(Y),E=T.flowBreak,I=T.marginLeft||0,D=T.marginRight||0,H=T.marginTop||0,_=T.marginBottom||0,g=L.getChildWidth(Y),l=L.getChildHeight(Y);if(U=s(U,g+I+D),O+=H+l+_,Z-1>f){var w=E;if(!w){var t=d.get(f+1),M=L.getChildLayoutParams(t),v=M.marginTop||0,h=M.marginBottom||0,j=L.getChildHeight(t);O+j+v+h>b&&(w=!0)}w&&(R+=U,O=0,U=0)}else R+=U}return{width:i(L.getPaddingLeft()+L.getPaddingRight()+L.getBorderLeft()+L.getBorderRight()+R),height:L.getHeight()}},figurePreferredSize:function(){var F=this,i=F.getContentWidth(),J=F.getContentHeight();return F.figurePreferredSizeImpl(i,J)},onPropertyChanged:function(Q){var I=this,M=I.getDirection(),K=Q.property;((M===dn+"ToRight"||M===mo+"ToLeft")&&K==bd||(M===Rb+"ToUp"||"topToDown"===M)&&K==$o)&&I.checkPreferredSize("*"),H.FlowLayout.superClass.onPropertyChanged.call(I,Q)},setBreakFlag:function(M,J){M.__pos=J},validateImpl:function(_,C,Y,G){var e=this;H.FlowLayout.superClass.validateImpl.call(e,_,C,Y,G);var J=e.getDirection(),u=e.getVisibleChildren(),p=u.size(),E=[];if(J===dn+"ToRight"){for(var k,v=0,t=0,g=0,b=0,f=!0,B=0;p>B;B++){var m=u.get(B),n=e.getChildLayoutParams(m),P=n.flowBreak,A=n.marginLeft||0,Z=n.marginRight||0,N=n.marginTop||0,S=n.marginBottom||0,z=e.getChildWidth(m),w=e.getChildHeight(m);e.setBreakFlag(m,y);var I=!1;f&&(e.setBreakFlag(m,"first"),I=!0,f=!1,k={children:[]}),g=s(g,w+N+S);var W;if(p-1>B){if(W=P,!W){var X=u.get(B+1),d=e.getChildLayoutParams(X),M=d.marginLeft||0,h=d.marginRight||0,x=e.getChildWidth(X);v+A+z+Z+x+M+h>Y&&(W=!0)}W&&!I&&e.setBreakFlag(m,"last")}else W=!0,I||e.setBreakFlag(m,"last");f=W,e.layoutChild(m,v+A,t+N,z,w),v+=A+z+Z,k.children.push(m),W&&(v=0,t+=g,b+=g,k.height=g,E.push(k),g=0)}e.updateScrollBar(Y,G,Y,b)}else if(J===mo+"ToLeft"){for(var k,v=Y,t=0,g=0,b=0,f=!0,B=0;p>B;B++){var m=u.get(B),n=e.getChildLayoutParams(m),P=n.flowBreak,A=n.marginLeft||0,Z=n.marginRight||0,N=n.marginTop||0,S=n.marginBottom||0,z=e.getChildWidth(m),w=e.getChildHeight(m);e.setBreakFlag(m,y);var I=!1;f&&(e.setBreakFlag(m,"first"),I=!0,f=!1,k={children:[]}),g=s(g,w+N+S);var W;if(p-1>B){if(W=P,!W){var X=u.get(B+1),d=e.getChildLayoutParams(X),M=d.marginLeft||0,h=d.marginRight||0,x=e.getChildWidth(X);0>v-A-z-Z-x-M-h&&(W=!0)}W&&!I&&e.setBreakFlag(m,"last")}else W=!0,I||e.setBreakFlag(m,"last");f=W,e.layoutChild(m,v-Z-z,t+N,z,w),v-=A+z+Z,k.children.push(m),W&&(v=Y,t+=g,b+=g,k.height=g,E.push(k),g=0)}e.updateScrollBar(Y,G,Y,b)}else if(J===es){for(var R=0,t=0,g=0,b=0,L=[],B=0;p>B;B++){var m=u.get(B),n=e.getChildLayoutParams(m),P=n.flowBreak,A=n.marginLeft||0,Z=n.marginRight||0,N=n.marginTop||0,S=n.marginBottom||0,z=e.getChildWidth(m),w=e.getChildHeight(m);if(g=s(g,w+N+S),R+=(0==L.length?0:A)+z+Z,L.push(m),p-1>B){var W=P;if(!W){var X=u.get(B+1),d=e.getChildLayoutParams(X),M=d.marginLeft||0,h=d.marginRight||0,x=e.getChildWidth(X);R+x+M>Y&&(W=!0)}}else W=!0;if(W){R-=Z;for(var O=(Y-R)/2,c=0,a=L.length;a>c;c++){var m=L[c];e.layoutChild(m,O+(0===c?0:A),t+N,z,w),O+=0===c?z+Z:A+z+Z}L=[],R=0,t+=g,b+=g,g=0}}e.updateScrollBar(Y,G,Y,b)}else if("topToDown"===J){for(var v=0,t=0,q=0,r=0,B=0;p>B;B++){var m=u.get(B),n=e.getChildLayoutParams(m),P=n.flowBreak,A=n.marginLeft||0,Z=n.marginRight||0,N=n.marginTop||0,S=n.marginBottom||0,z=e.getChildWidth(m),w=e.getChildHeight(m);if(q=s(q,z+A+Z),e.layoutChild(m,v+A,t+N,z,w),t+=N+w+S,p-1>B){var W=P;if(!W){var X=u.get(B+1),d=e.getChildLayoutParams(X),o=d.marginTop||0,l=d.marginBottom||0,F=e.getChildHeight(X);t+F+o+l>G&&(W=!0)}W&&(t=0,v+=q,r+=q,q=0)}else r+=q}e.updateScrollBar(Y,G,r,G)}else if(J===Rb+"ToUp"){for(var v=0,t=G,q=0,r=0,B=0;p>B;B++){var m=u.get(B),n=e.getChildLayoutParams(m),P=n.flowBreak,A=n.marginLeft||0,Z=n.marginRight||0,N=n.marginTop||0,S=n.marginBottom||0,z=e.getChildWidth(m),w=e.getChildHeight(m);if(q=s(q,z+A+Z),e.layoutChild(m,v+A,t-S-w,z,w),t-=N+w+S,p-1>B){var W=P;if(!W){var X=u.get(B+1),d=e.getChildLayoutParams(X),o=d.marginTop||0,l=d.marginBottom||0,F=e.getChildHeight(X);0>t-F-o-l&&(W=!0)}W&&(t=G,v+=q,r+=q,q=0)}else r+=q}e.updateScrollBar(Y,G,r,G)}e._lines=E},getSerializableProperties:function(){var B=H.FlowLayout.superClass.getSerializableProperties.call(this);return Nf(B,{direction:!0})}});var Tf=H.DockManager=function(d){var y=this;y.setViewGroup(d);var O=y.$19u=u.createElement("div");O.style.position="absolute",O.style.zIndex="100000",O.style.pointerEvents="none"};sf("ht.ui.DockManager",A,{ms_ac:["viewGroup","maskBackground","rootMaskBackground","insertLineColor","rootHitSize"],_maskBackground:"rgba(135,206,235,0.3)",_rootMaskBackground:"rgba(135,206,235,0.8)",_insertLineColor:"rgb(135,206,235)",_rootHitSize:15,ms_fire:!0,setChildrenMovable:function(K){if(K)for(var o=0,l=K.size();l>o;o++){var L=K.get(o);L instanceof H.TabLayout&&L.setMovable(!1),this.setChildrenMovable(L.getChildren?L.getChildren():y)}},setViewGroup:function(h){var n=this,Q=n._viewGroup;Q!==h&&(n._viewGroup=h,n.fp("viewGroup",Q,h),Q&&(Q.setDockManager(y),Q.off("d:mousedown",n.startDrag,n),Q.removeViewListener(n.handleDragEvents,n)),h&&(n.setChildrenMovable(h.getChildren()),h.setDockManager(n),h.on("d:mousedown",n.startDrag,n),h.addViewListener(n.handleDragEvents,n)))},getCanvasG:function(f,e,$){O.setCanvas(f,e,$);var F=O.initContext(f);return O.translateAndScale(F,0,0,1),F.clearRect(0,0,e,$),F},createSplitLayout:function(Y){var P=new H.SplitLayout;return P.setOrientation(Y),P.setPosition(.5),P},createTabLayout:function(){var x=new H.TabLayout;return x.setMovable(!1),x},startDrag:function(E){var M=this,J=Je(E);if(J instanceof z.ui.TabLayout){var t=J.getTabInfoAt(E);if(t){var K=t.view,i=J.getChildLayoutParams(K)||{},x=i.tools||[];if(!(J.closeIconHitTest(t,E)||x&&J.toolHitTest(x,t,E))){var $=u.createElement("canvas"),S=t.rect.width,C=t.rect.height,a=M.getCanvasG($,S,C),F=O.devicePixelRatio;a.drawImage(J.$244u,(J.getContentLeft()+J.tx()+t.rect.x)*F,(J.getContentTop()+J.ty()+t.rect.y+J.getTabGapTop())*F,S*F,C*F,0,0,S,C),vq.doDrag(M.getViewGroup(),{tabLayout:J,tabInfo:t},$,-S/2,-C/2)}}}},handleDragEvents:function(o){var i=this,v=i.getViewGroup(),f=v.getContentWidth(),m=v.getContentHeight();if("sourceDragEnter"===o.kind){var j=o.target;j instanceof H.TabLayout&&vq.acceptDragDrop(j)}else if("sourceDragMove"===o.kind){var h,G=v.lp(o.nativeEvent),z=i.getRootHitSize();if(G.y<z?h="rootTop":m-G.y<z?h="rootBottom":G.x<z?h="rootLeft":f-G.x<z&&(h="rootRight"),!h){var Y=o.target,r=Y.getTabHeight(),e=Y.getContentWidth(),F=Y.getContentHeight(),Q=Y.getContentPoint(o.nativeEvent);if(Q.y<Y.getTabHeight()){var x=Y._tabInfos,t=x.size(),M=tabLayout.getTabGap(),n=M/2;if(t>0){for(var D=0;t>D;D++){var L=x.get(D),s=L.rect,d=s.x+s.width,w=Q.x-s.x<d-Q.x;Q.x>=s.x&&Q.x<=d&&(h={refType:w?"up":"down",refView:L.view,insertPosition:w?s.x-n:d+n})}h||(h={refType:"append",insertPosition:d})}else h={refType:"append",insertPosition:0}}else h=Q.x/e<=.3?"left":Q.x/e>=.7?"right":Q.y/F<=.3?"top":Q.y/F>=.7?"bottom":"append"}var A=i.$19u,V=i.getMaskBackground(),W=i.getRootMaskBackground(),X=i.getInsertLineColor();if("rootLeft"===h)v.getContentDiv().appendChild(A),A.style.background=W,A.style.bottom=y,A.style.right=y,A.style.left=0,A.style.top=0,A.style.width=z+"px",A.style.height=m+"px";else if("rootRight"===h)v.getContentDiv().appendChild(A),A.style.background=W,A.style.left=y,A.style.bottom=y,A.style.right=0,A.style.top=0,A.style.width=z+"px",A.style.height=m+"px";else if("rootTop"===h)v.getContentDiv().appendChild(A),A.style.background=W,A.style.right=y,A.style.bottom=y,A.style.left=0,A.style.top=0,A.style.width=f+"px",A.style.height=z+"px";else if("rootBottom"===h)v.getContentDiv().appendChild(A),A.style.background=W,A.style.right=y,A.style.top=y,A.style.left=0,A.style.bottom=0,A.style.width=f+"px",A.style.height=z+"px";else if("left"===h)Y.getContentDiv().appendChild(A),A.style.background=V,A.style.bottom=y,A.style.right=y,A.style.left=0,A.style.top=r+"px",A.style.width=T(e/2)+"px",A.style.height=T(F)+"px";else if("right"===h)Y.getContentDiv().appendChild(A),A.style.background=V,A.style.left=y,A.style.bottom=y,A.style.right=0,A.style.top=r+"px",A.style.width=T(e/2)+"px",A.style.height=T(F)+"px";else if("top"===h)Y.getContentDiv().appendChild(A),A.style.background=V,A.style.right=y,A.style.bottom=y,A.style.left=0,A.style.top=r+"px",A.style.width=T(e)+"px",A.style.height=T(F/2)+"px";else if("bottom"===h)Y.getContentDiv().appendChild(A),A.style.background=V,A.style.right=y,A.style.top=y,A.style.left=0,A.style.bottom=0,A.style.width=T(e)+"px",A.style.height=T(F/2)+"px";else if("append"===h)Y.getContentDiv().appendChild(A),A.style.background=V,A.style.left=0,A.style.bottom=0,A.style.top=r+"px",A.style.right=0,A.style.width=T(e)+"px",A.style.height=T(F)+"px";
else if(O.isObject(h)){Y.getContentDiv().appendChild(A),A.style.background=X;var P=h.insertPosition;A.style.width="2px",A.style.height=r+"px",A.style.left=Y.tx()+P+"px",A.style.right=y,A.style.bottom=y,A.style.top=0}i._attachRegion=h}else if("sourceDragCompleted"===o.kind){var j=o.target,p=o.data,a=p.tabInfo.view,h=i._attachRegion;if("rootLeft"===h||"rootTop"===h){var q=i.createTabLayout();q.addView(a),q.setActiveView(a);var k=v.toChildren();if(2===k.size()){var R=i.createSplitLayout(v.getOrientation());R.setChildren(k),v.addView(q,{region:"first"}),v.addView(R,{region:"second"})}else v.getFirstView()&&v.getFirstView().setLayoutParams("region","second"),v.addView(q,{region:"first"});v.setOrientation("rootLeft"===h?"h":"v"),"percentage"===v.getPositionType()?v.setPosition(.3):"absoluteFirst"===v.getPositionType()?v.setPosition(T(.3*f)):v.setPosition(T(.7*f))}else if("rootRight"===h||"rootBottom"===h){var q=i.createTabLayout();q.addView(a),q.setActiveView(a);var k=v.toChildren();if(2===k.size()){var R=i.createSplitLayout(v.getOrientation());R.setChildren(k),v.addView(q,{region:"second"}),v.addView(R,{region:"first"})}else v.getSecondView()&&v.getSecondView.setLayoutParams("region","first"),v.addView(q,{region:"second"});v.setOrientation("rootRight"===h?"h":"v"),"percentage"===v.getPositionType()?v.setPosition(.7):"absoluteFirst"===v.getPositionType()?v.setPosition(T(.7*f)):v.setPosition(T(.3*f))}else if(j){var S=j.getParent();if("left"===h||"top"===h){var q=i.createTabLayout();if(q.addView(a),q.setActiveView(a),1===S.getChildren().size())"left"===h?S.setOrientation("h"):S.setOrientation("v"),j.setLayoutParams("region","second"),S.addView(q,{region:"first"});else{var u=j.getLayoutParams("region");S.removeView(j);var R=i.createSplitLayout("left"===h?"h":"v");R.addView(j,{region:"second"}),R.addView(q,{region:"first"}),S.addView(R,{region:u})}}else if("right"===h||"bottom"===h){var q=i.createTabLayout();if(q.addView(a),q.setActiveView(a),1===S.getChildren().size())"right"===h?S.setOrientation("h"):S.setOrientation("v"),j.setLayoutParams("region","first"),S.addView(q,{region:"second"});else{var u=j.getLayoutParams("region");S.removeView(j);var R=i.createSplitLayout("right"===h?"h":"v");R.addView(j,{region:"first"}),R.addView(q,{region:"second"}),S.addView(R,{region:u})}}else if("append"===h)j.addView(a);else if(O.isObject(h)){var E=h.refType,c=h.refView;if(p.tabLayout!==j){var B=a.getLayoutParams();if("up"===E){var l=j.getChildren().indexOf(c);j.addView(a,B,l)}else if("append"===E)j.addView(a,B);else{var l=j.getChildren().indexOf(c);l++,j.addView(a,B,l)}j.setActiveView(a)}else{if("up"===E){var K=j.getChildren().indexOf(c);j.getChildren().indexOf(a)<K&&K--,j.addView(a,C,K)}else if("append"===E)j.addView(a);else{var K=j.getChildren().indexOf(c);K++,j.getChildren().indexOf(a)<K&&K--,j.addView(a,C,K)}j.setActiveView(a)}}}for(var I=p.tabLayout;I&&0==I.getChildren().size();){var U=I.getParent();U.removeView(I),I=U}var A=i.$19u;A.parentNode&&A.parentNode.removeChild(A),delete i._attachRegion}else if("sourceDragExit"===o.kind||"sourceDragCanceled"===o.kind){var A=i.$19u;A.parentNode&&A.parentNode.removeChild(A),delete i._attachRegion}},getSerializableProperties:function(){return{maskBackground:1,insertLineColor:1,rootMaskBackground:1,rootHitSize:1}}});var kp=H.ScrollInteractor=function(u){this._view=u};sf("ht.ui.ScrollInteractor",A,{ms_listener:1,getView:function(){return this._view._view},clear:function(){var X=this,k=X.$19u;X._state=X.$44u=X.$45u=X.$46u=X.$19u=X._view._scrolling=y,k&&X.getView().removeChild(k)},handle_mousedown:function(P){this.handle_touchstart(P)},handle_touchstart:function(Z){var u=this,D=u._view;if(D.isSelfViewEvent(Z)){var Y=D.isCloseToVScrollBar(Z),$=D.isCloseToHScrollBar(Z),r=Hf(Z);if(Y||$){if(qd(Z),D._temporaryLoadingDiv)return Z._htScroll=!0,void 0;if(D.isVScrollable()||D.isHScrollable()){Y?u._state="vScroll":$&&(u._state="hScroll"),u.$44u=r,u.$45u=D.tx(),u.$46u=D.ty();var V=u.$19u=Sl();V.style.width="100%",V.style.height="100%",u.getView().insertBefore(V,u._view.getScrollBarDiv()),sr(u,Z),Z._htScroll=!0,D._scrolling=!0,D.showScrollBar()}}}},handleWindowMouseUp:function(U){this.handleWindowTouchEnd(U)},handleWindowTouchEnd:function(j){this.clear(j)},handle_mouseup:function(M){this.handle_touchend(M)},handle_touchend:function(T){this.clear(T)},handleWindowMouseMove:function(M){this.handleWindowTouchMove(M)},handleWindowTouchMove:function(I){var N=this,q=N._view,x=N._state,J=N.$45u,L=N.$46u,G=N.$44u,Z=Hf(I),e=q.getZoom(),o=q.$118u;if("vScroll"===x)q.setTranslateY(L+(G.y-Z.y)/e*q.$188u/o.height),I._htScroll=!0;else if("hScroll"===x){var b=q.getScrollBarIndent?q.getScrollBarIndent()||0:0,p=q.getRightScrollBarIndent?q.getRightScrollBarIndent()||0:0;q.setTranslateX(J+(G.x-Z.x)/e*(q.$189u-b-p)/(o.width-b-p)),I._htScroll=!0}},handle_mousemove:function(w){this.handle_touchmove(w)},handle_touchmove:function(f){if(!pk()&&db(f)){var M=this,H=M._view;if(H.isSelfViewEvent(f)){var s=H.isCloseToVScrollBar(f),P=H.isCloseToHScrollBar(f);(s||P)&&H.showScrollBar()}}},handle_wheel:function(A){var h=A.deltaX,N=A.deltaY;D(h)>D(N)?this.handleScroll(A,-h,!1):this.handleScroll(A,-N,!0)},handleScroll:function(V,C,N){V.preventDefault();var F=this._view,A=F.$118u,g=F.getScrollRect();F._temporaryLoadingDiv||(F instanceof H.HtmlView||F.isSelfViewEvent(V))&&(F.showScrollBar(),N&&F.isVScrollable()?C>0?A.y<=0||(F.translate(0,C),V._htScroll=!0):0>C&&(g.height-A.height<=A.y||(F.translate(0,C),V._htScroll=!0)):F.isHScrollable()&&(C>0?A.x<=0||(F.translate(C,0),V._htScroll=!0):0>C&&(g.width-A.width<=A.x||(F.translate(C,0),V._htScroll=!0))))}}),A.defineProperties(kp.prototype,{disabled:{get:function(){return this._view.isDisabled()}}}),H.HtmlView=function(T){var P=this;H.HtmlView.superClass.constructor.call(P),Sp(T)||T instanceof Node?P.setContent(T):P.set(T),P.getContentDiv().addEventListener("load",function(){P.isAutoRefreshPreferredSize()&&P.iv()},!0)},sf("ht.ui.HtmlView",df,{ui_txy:1,ui_ac:["is:autoRefreshPreferredSize","contentFont","contentColor","overflow","toolTip"],__overflow:"hidden",ms_ac:["content"],_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{content:!0}),$284u:Nf(Fb(qf.$284u),{overflow:!0}),fixWebkitBorderOverflow:function(){var G,Z=this,P=Z.getOverflow();"hidden"===P||(G=!1),H.HtmlView.superClass.fixWebkitBorderOverflow.call(Z,G)},layoutDOM:function($,q,w,k){var G=this,Y=G.getOverflow();H.HtmlView.superClass.layoutDOM.call(G,$,q,w,k),G._view.style.overflow=Y,G.getContentDiv().style.overflow=Y},getInteractorClasses:function(){return[H.ScrollInteractor]},figureDOMSize:function(E){return{width:E.scrollWidth+1,height:E.scrollHeight}},createContentWrapper:function(){return Sl()},figurePreferredSize:function(){var e=this,l=e.getContent(),r=e.getContentFont(),V=e.getContentWidth(),x=e.createContentWrapper();!e.isAutoRefreshPreferredSize()||V==y||x.style.width!=y&&""!=x.style.width||(x.style.width=V+vl),l instanceof HTMLElement?x.appendChild(l):Sp(l)&&(x.innerHTML=l),x.style.visibility="hidden",r!=y&&(x.style.font=r),u.body.appendChild(x);var S=e.figureDOMSize(x),Z={width:e.getPaddingLeft()+e.getPaddingRight()+e.getBorderLeft()+e.getBorderRight()+S.width,height:e.getPaddingTop()+e.getPaddingBottom()+e.getBorderTop()+e.getBorderBottom()+S.height};return l instanceof HTMLElement&&e.getContentDiv().appendChild(l),u.body.removeChild(x),Z.width=i(Z.width),Z.height=i(Z.height),Z},figureScrollSize:function(B){var L=this;if(L.isInDOM())var E=B.scrollWidth,R=B.scrollHeight;else var t=L.figurePreferredSize(),E=t.width,R=t.height;return{width:E,height:R}},onPropertyChanged:function(q){var x=this,h=q.property;if(H.HtmlView.superClass.onPropertyChanged.call(x,q),"content"===h){var v=x.getContent(),A=x.getContentDiv();v&&(v instanceof HTMLElement?x.$315u(A,v):Sp(v)&&x.$314u(A,v))}},validateImpl:function(x,J,D,Z){var X=this,R=X.getContentDiv(),k=X.getContentFont(),F=X.getContentColor();k!=y&&(R.style.font=k),F!=y&&(R.style.color=F),X.isAutoRefreshPreferredSize()?X.$120u!==D&&(X.checkPreferredSize("content"),X.$120u=D):X.$120u=C;var c=X.figureScrollSize(R),t=X.tx(),n=X.ty();X.$118u={x:-t,y:-n,width:D,height:Z},X.$189u=c.width,X.$188u=c.height,R.scrollTop=-n,R.scrollLeft=-t},$315u:function(i,b){ai(i),i.appendChild(b)},$314u:function(m,$){ai(m),m.innerHTML=$},getSerializableProperties:function(){var D=H.HtmlView.superClass.getSerializableProperties.call(this);return Nf(D,{"is:autoRefreshPreferredSize":1,content:1,contentFont:1,contentColor:1,scrollBarMode:1,scrollBarColor:1,scrollBarSize:1,scrollBarTimeout:1,scrollBarMinLength:1,scrollBarActiveSize:1,autoScrollSize:1,translateX:1,translateY:1,overflow:1,toolTip:1})}}),z.ui.EChartView=function(r){var e=this,F=u.createElement("div");if(F.style.width="100%",F.style.height="100%",z.ui.EChartView.superClass.constructor.call(e),e.setContent(F),e._echart=echarts.init(F),r){var C=function(D){"endValidate"===D.kind&&(z.Default.callLater(function(){e.setOption(r)}),e.removeViewListener(C))};e.addViewListener(C)}e.addPropertyChangeListener(function(P){var u=P.property;("width"===u||"height"===u)&&(e._resizeEChart=!0)})},sf("ht.ui.EChartView",H.HtmlView,{setOption:function(_){"string"==typeof _&&(_=_.trim().length>0?eval("("+_+")"):null),this.setPropertyValue("option",_),this._echart.setOption(_)},getOption:function(){return this._option},validateImpl:function(Y,B,J,q){var w=this,r=w._echart;z.ui.EChartView.superClass.validateImpl.call(w,Y,B,J,q),w._resizeEChart&&(r.resize(),delete w._resizeEChart)},getSerializableProperties:function(){var Z=z.ui.EChartView.superClass.getSerializableProperties.call(this);return z.Default.addMethod(Z,{option:!0})}}),H.HTView=function(U){H.HTView.superClass.constructor.call(this),U&&U.getView?this.setContent(U):this.set(U)},sf("ht.ui.HTView",df,{ms_ac:["content"],figurePreferredSize:function(){return{width:200,height:200}},onPropertyChanged:function(i){var F=this,k=i.property;if(H.HTView.superClass.onPropertyChanged.call(F,i),"content"===k){var j=i.oldValue,v=F.getContent(),c=F.getContentDiv();if(j&&c.removeChild(j.getView()),v){var N=v.getView();c.appendChild(N),v.getView().style.left="0",v.getView().style.top="0",v.getView().style.width="100%",v.getView().style.height="100%"}}},validateImpl:function(t,K,U,I){var w=this,l=w.getContent();H.HTView.superClass.validateImpl.call(w,t,K,U,I),l&&(l.iv(),l.validate())},getSerializableProperties:function(){var t=H.HTView.superClass.getSerializableProperties.call(this);return Nf(t,{content:1})}}),H.UIVectorView=function(B){H.UIVectorView.superClass.constructor.call(this,B)},sf("ht.ui.UIVectorView",H.HTView,{ui_ac:["is:gvAutoFitContent","gvPannable","nodeSelectable","gvZoomable","gvScrollBarVisible"],ms_ac:["url"],__gvAutoFitContent:!0,__gvPannable:!1,__nodeSelectable:!1,__gvZoomable:!1,__gvScrollBarVisible:!1,reloadUrl:function(X){var $=this,Q=$.getUrl();if(Q){var o=Q;X&&(Q=Q.indexOf("?")>0?Q+"&ts="+Date.now():Q+"?ts="+Date.now()),$.handleUrlChange({property:"url",oldValue:o,newValue:Q})}},onPropertyChanged:function(k){var _=this;H.UIVectorView.superClass.onPropertyChanged.call(_,k),_.handleUrlChange(k)},handleUrlChange:function(C){var $=this,R=C.property;if("url"===R){var E=C.newValue;if(E){var F=$.getContent();F||(F=new z.graph.GraphView,$.setContent(F)),F.dm().clear();var j=new z.Node;O.xhrLoad(E,function(k){j.setImage(O.parse(k)),F.dm().add(j),F.fitContent(!1,0)});var N=F.invalidateAll;F.invalidateAll=function(G,Y,B){N.call(F,G,Y,B),!$.isGvAutoFitContent()||"imageLoaded"!==Y&&"compTypeLoaded"!==Y||F.fitContent(!1,0)}}else $.setContent(null)}},_falseFunc:function(){return!1},validateImpl:function(U,b,D,e){var r=this,z=r.getContent();if(H.UIVectorView.superClass.validateImpl.call(r,U,b,D,e),z){r.isGvAutoFitContent()&&z.fitContent(!1,0);var t=r.isGvPannable();z.setPannable(t);var I=r.isNodeSelectable();I?z.setSelectableFunc(null):z.setSelectableFunc(r._falseFunc),z.setZoomable(r.isGvZoomable()),z.setScrollBarVisible(r.isGvScrollBarVisible()),z.validate()}},getSerializableProperties:function(){var m=H.UIVectorView.superClass.getSerializableProperties.call(this);return delete m.content,Nf(m,{"is:gvAutoFitContent":!0,gvPannable:!0,nodeSelectable:!0,gvZoomable:!0,gvScrollBarVisible:!0,url:!0})}}),H.UIGraphView=function(b){H.UIGraphView.superClass.constructor.call(this,b)},sf("ht.ui.UIGraphView",H.UIVectorView,{ui_ac:["is:disableInit"],handleUrlChange:function(C){var V=this,J=C.property;if("url"===J||"disableInit"===J){var U;if(U="url"===J?C.newValue:V.getUrl()){var a=V.getContent();a||(a=new z.graph.GraphView,V.setContent(a));var H=V.isDisableInit();a.dm().clear(),O.xhrLoad(U,function(K){a.deserialize(K,{finishFunc:function(){V.isGvAutoFitContent()&&a.fitContent(!1,0)},disableInit:H,disableOnPreDeserialize:H,disableOnPostDeserialize:H})});var D=a.invalidateAll;a.invalidateAll=function(f,H,B){D.call(a,f,H,B),!V.isGvAutoFitContent()||"imageLoaded"!==H&&"compTypeLoaded"!==H||a.fitContent(!1,0)}}else V.setContent(null)}}}),H.UIGraph3dView=function(t){H.UIGraph3dView.superClass.constructor.call(this),t&&t.getView?this.setContent(t):this.set(t)},sf("ht.ui.UIGraph3dView",H.HTView,{ui_ac:["is:disableInit"],ms_ac:["url"],reloadUrl:function(o){var v=this,Y=v.getUrl();if(Y){var M=Y;o&&(Y=Y.indexOf("?")>0?Y+"&ts="+Date.now():Y+"?ts="+Date.now()),v.handleUrlChange({property:"url",oldValue:M,newValue:Y})}},onPropertyChanged:function(Y){var s=this;H.UIGraph3dView.superClass.onPropertyChanged.call(s,Y),s.handleUrlChange(Y)},handleUrlChange:function(y){var k=this,b=y.property;if("url"===b||"disableInit"===b){var x;if(x="url"===b?y.newValue:k.getUrl()){var H=k.getContent();H||(H=new z.graph3d.Graph3dView,k.setContent(H));var d=k.isDisableInit();H.dm().clear(),O.xhrLoad(x,function(A){H.deserialize(A,{disableInit:d,disableOnPreDeserialize:d,disableOnPostDeserialize:d})})}}},validateImpl:function(z,W,x,G){var t=this,T=t.getContent();H.UIGraph3dView.superClass.validateImpl.call(t,z,W,x,G),T&&(T.iv(),T.validate())},getSerializableProperties:function(){var n=H.UIGraph3dView.superClass.getSerializableProperties.call(this);return delete n.content,Nf(n,{url:!0})}}),H.Message=function(e){var L=this;H.Message.superClass.constructor.call(L),L.set(e)},sf("ht.ui.Message",H.ViewGroup,{ui_ac:["title","titleFont","titleColor","content","contentColor","contentFont","drawable:icon","drawable:closeIcon","fixedWidth","iconWidth","iconHeight"],_preferredSizeProps:Nf(Fb(Ap._preferredSizeProps),{titleFont:!0}),__padding:10,__titleFont:"bold 14px Arial",__titleColor:M.textColor,__contentFont:M.font,__contentColor:M.textColor,__boxShadow:"0 2px 10px rgba(0,0,0,0.16)",__fixedWidth:300,__closeIcon:"ui_dialogClose",__background:"#fff",getInteractorClasses:function(){return[H.MessageInteractor]},closeIconHitTest:function(s){var G=this,f=G.$369;if(f){var H=s instanceof Event?G.lp(s):s;return wp(f,H)}},setOnIcon:function(C){var I=this,L=I._onIcon;C!==L&&(I._onIcon=C,I.iv())},getCursor:function(){var L=this,Z=L.getPropertyValue("cursor"),m=L._onIcon;return m?"pointer":Z},onPropertyChanged:function(p){var C=this,M=p.property;if(H.Message.superClass.onPropertyChanged.call(C,p),"content"===M){var O,G=C.getContent();if(Sp(G)){O=new H.HtmlView;var X=O.createContentWrapper;O.createContentWrapper=function(){var x=X.call(O),r=C.getFixedWidth();if(x.style.font=C.getContentFont(),r){var _=C.getTitle(),s=C.getIconDrawable(),N=C.getIconWidth()||(_?30:16),W=(C.getIconHeight()||(_?30:16),C.getCloseIconDrawable());s&&(r-=N+10),W&&(r-=26),x.style.width=r+vl}return x},O.setContent(G)}else G.isSelfViewEvent&&(O=G);var c=C._children.get(0);O!==c&&(c&&C.removeView(c),O&&C.addView(O))}var W=C._children.get(0);if(W instanceof H.HtmlView){var i={contentFont:!0,fixedWidth:!0,title:!0,icon:!0,iconDrawable:!0,closeIcon:!0,closeIconDrawable:!0};i[M]&&W.checkPreferredSize("*")}},figurePreferredSize:function(){var j,n=this,Q=n.getTitle(),e=n._children.get(0),I=e.getPreferredSize(),l=n.getCloseIconDrawable(),F=n.getIconDrawable(),r=n.getIconWidth()||(Q?30:16),A=n.getIconHeight()||(Q?30:16),c=0,Z=0;return Q?(j=go(n.getTitleFont(),Q),c=s(j.width,I.width),Z=j.height+I.height+5):(c=I.width,Z=I.height),F&&(c+=10+r,Z=s(Z,A)),l&&(c+=26,Z=s(Z,16)),{width:i(c+n.getBorderLeft()+n.getBorderRight()+n.getPaddingLeft()+n.getPaddingRight()),height:i(Z+n.getBorderTop()+n.getBorderBottom()+n.getPaddingTop()+n.getPaddingBottom())}},drawIcon:function(G,X,b,I,t){G.draw(X,b,I,t,y,this)},drawTitle:function(r,R,N,B,I,U,D){var k=this.getRootContext();k.beginPath(),Yl(k,r,R,N,B,I,U,D,dn,rr)},validateImpl:function(s,X,r,Q){var T=this,D=T.getTitle(),A=T.getChildren().get(0),x=T.getIconDrawable(),l=T.getIconWidth()||(D?30:16),I=T.getIconHeight()||(D?30:16),J=0,C=0,M=s,R=X,k=T.getCloseIconDrawable();if(x&&(T.drawIcon(x,s,X,l,I),s+=l,J+=l,s+=10,J+=10),D){var Z=T.getTitleFont(),g=go(Z,D);T.drawTitle(D,T.getTitleFont(),T.getTitleColor(),s,X,r,g.height),X+=g.height,C+=g.height+5}if(k){var W=T.$369={x:M+r-16,y:R,width:16,height:16};k.draw(W.x,W.y,W.width,W.height,y,T),W.x-=M,W.y-=R,r-=W.width+10}else T.$369=y;if(A instanceof H.HtmlView){var f=A.getContentDiv();f.style.color=T.getContentColor(),f.style.font=T.getContentFont()}T.layoutChild(A,J,C,r-J,Q-C)},getSerializableProperties:function(){var o=H.Message.superClass.getSerializableProperties.call(this);return Nf(o,{title:!0,titleFont:!0,titleColor:!0,content:!0,contentColor:!0,contentFont:!0,icon:!0,iconDrawable:!0,closeIcon:!0,closeIconDrawable:!0,fixedWidth:!0})}}),H.MessageInteractor=function(P){H.MessageInteractor.superClass.constructor.call(this,P)},sf("ht.ui.MessageInteractor",H.Interactor,{handle_mousedown:function(H){this.handle_touchstart(H)},handle_touchstart:function(r){var B=this,q=B.getComponent();q.isSelfViewEvent(r)&&(qd(r),q.closeIconHitTest(r)&&(B.$47u=!0,sr(B,r)))},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handleWindowMouseUp:function(S){this.handleWindowTouchEnd(S)},handleWindowTouchEnd:function(V){var q=this,w=q.getComponent();q.$47u&&w.closeIconHitTest(V)&&w.fireViewEvent({kind:"clickCloseIcon",source:w}),q.$47u=y},handle_mousemove:function(B){var y=this,F=y.getComponent(),j=F.closeIconHitTest(B);F.setOnIcon(j)}}),H.Alert=function($){var L=this;H.Alert.superClass.constructor.call(L);var A=L._contentLayout=new H.SplitLayout({orientation:"h",resizable:!1,splitter:"rgba(0,0,0,0)",toggleVisible:!1,splitterSize:10,splitterHitSize:10,positionType:"absoluteFirst"}),V=L._rightLayout=new H.VBoxLayout,r=L.$363=new H.HtmlView,t=L.$364=new H.Label({padding:0,border:y,iconWidth:30,iconHeight:30}),D=r.createContentWrapper;r.createContentWrapper=function(){var t=D.call(r),v=L.getFixedWidth();return t.style.font=L.getContentTextFont(),v&&(v-=L.getPaddingLeft()+L.getPaddingRight()+L.getBorderLeft()+L.getBorderRight()+A.getPaddingLeft()+A.getPaddingRight()+(L.getContentIcon()?40:0),t.style.width=v+vl),t},A.addView(t,{region:"first",vAlign:om,align:es,width:30,height:30}),A.addView(V,{region:"second"}),V.getChildLayoutParams=function(i){var M=i.getLayoutParams();return i===r?M||{width:oo}:M||{width:oo,marginTop:5}},V.addView(r),L.setContentView(A),L.on("d:keydown",function(U){if(Ih(U)){var O=L.getEscHandler();O&&O.call(L,U)}else if(zq(U)){var Q=L.getEnterHandler();Q&&Q.call(L,U)}}),L.set($)},sf("ht.ui.Alert",H.Dialog,{ui_ac:["contentText","contentIcon","contentTextColor","contentTextFont","fixedWidth"],ms_ac:["contentInput","escHandler","enterHandler"],_preferredSizeProps:Nf(Fb(H.Dialog.prototype._preferredSizeProps),{contentInput:!0}),__contentTextFont:M.font,__contentTextColor:M.textColor,__contentPadding:16,__maximizable:!1,__closable:!1,__collapsable:!1,__resizable:!1,__footerHeight:44,__buttonVAlign:om,__fixedWidth:300,onPropertyChanged:function(L){var h=this,P=L.property;H.Alert.superClass.onPropertyChanged.call(h,L);var f=h._contentLayout,M=h._rightLayout,W=h.$363,c=h.$364;if("contentText"===P)W.setContent(L.newValue);else{var b={contentTextFont:!0,contentIcon:!0,fixedWidth:!0};if(b[P])W.checkPreferredSize("*");else if("contentInput"===P){var F=L.oldValue,g=L.newValue;F&&M.removeView(F),g&&(M.addView(g),h.onOnce("endValidate",function(){g.requestFocus()}))}"contentIcon"===P&&c.setIcon(L.newValue),c.getIconDrawable()?(f.setSplitterSize(10),f.setSplitterHitSize(10),f.setCollapseRegion(y)):(f.setSplitterSize(0),f.setSplitterHitSize(0),f.setCollapseRegion("first"))}},validateImpl:function(m,i,K,O){var D=this,G=D.$363,f=G.getContentDiv();f.style.color=D.getContentTextColor(),f.style.font=D.getContentTextFont(),H.Alert.superClass.validateImpl.call(D,m,i,K,O)},getSerializableProperties:function(){var d=H.Alert.superClass.getSerializableProperties.call(this);return Nf(d,{contentText:!0,contentIcon:!0,contentTextColor:!0,contentTextFont:!0,fixedWidth:!0,escHandler:!0,enterHandler:!0})}}),H.Breadcrumb=function(x){H.Breadcrumb.superClass.constructor.call(this),this.set(x)},sf("ht.ui.Breadcrumb",H.View,{ui_ac:["items","itemGap","drawable:separator","separatorWidth","separatorHeight","drawable:itemBackground","drawable:hoverItemBackground","drawable:activeItemBackground","drawable:selectItemBackground","itemTextColor","hoverItemTextColor","activeItemTextColor","selectItemTextColor","itemTextFont","itemIconWidth","itemIconHeight","itemIconTextGap","itemPadding"],ms_ac:["currentItemIndex","currentItemState","selectItemIndex"],ui_txy:!0,_preferredSizeProps:Nf(Fb(H.View.prototype._preferredSizeProps),{items:!0,itemGap:!0,separator:!0,itemTextFont:!0,itemIconWidth:!0,itemIconHeight:!0,itemIconTextGap:!0,itemPadding:!0}),__scrollBarMode:"off",__itemIconWidth:16,__itemIconHeight:16,__itemIconTextGap:4,__separator:"ui_breadcrumb_separator",__separatorWidth:6,__separatorHeight:10,__itemBackground:y,__hoverItemBackground:M.hoverBackground,__activeItemBackground:M.activeBackground,__selectItemBackground:y,__itemTextColor:M.textColor,__selectItemTextColor:M.baseColor,__itemTextFont:M.font,__itemPadding:6,__itemGap:10,__padding:2,getItemPaddingLeft:function(){var L=this.getItemPadding();return Jr(L)?L[3]:L},getItemPaddingTop:function(){var m=this.getItemPadding();return Jr(m)?m[0]:m},getItemPaddingRight:function(){var T=this.getItemPadding();return Jr(T)?T[1]:T},getItemPaddingBottom:function(){var $=this.getItemPadding();return Jr($)?$[2]:$},truncate:function(z){var i=this,$=i.getItems();if($){if(z===$.length-1)return;var q=$.slice(0);q=q.splice(0,z+1),i.setItems(q)}},addItem:function(b,Q){if(b){var l=this,d=l.getItems();d||(d=[]),Q==y&&(Q=d.length);var x=d.slice(0);x.splice(Q,0,b),l.setItems(x)}},getInteractorClasses:function(){return[H.BreadcrumbInteractor]},getItemAt:function(u){var h=this,O=u instanceof Event?h.lp(u):u,K=h.getItems();if(K){var w=0,p=0,g=h.getItemGap();if(h.getContentTop(),O.y>=0&&O.y<=h.getContentHeight()){var $=h.getStyle();if($&&$.indexOf("breadcrumb-arrow")>=0)for(var q=0,J=K.length;J>q;q++){var W,F=K[q],L=h.figureItemSize(F),o=L.width,n=L.height;if(W=0===q?[[w,p],[w,p+n],[w+o-10,p+n],[w+o,p+n/2],[w+o-10,p]]:q===J-1?[[w,p],[w+10,p+n/2],[w,p+n],[w+o,p+n],[w+o,p]]:[[w,p],[w+10,p+n/2],[w,p+n],[w+o-10,p+n],[w+o,p+n/2],[w+o-10,p]],Rp([O.x,O.y],W))return F;w+=o+g}else for(var q=0,J=K.length;J>q;q++){var F=K[q],L=h.figureItemSize(F),o=L.width,n=L.height;if(O.x>=w&&O.x<=w+o)return F;w+=o+g}}}},figurePreferredSize:function(){var _=this,a={width:0,height:0},G=_.getItems(),I=_.getBorderLeft(),x=_.getBorderRight(),S=_.getBorderTop(),H=_.getBorderBottom(),f=_.getPaddingTop(),c=_.getPaddingBottom(),A=_.getPaddingLeft(),Q=_.getPaddingRight();if(G)for(var F=(_.getItemIconWidth(),_.getItemIconHeight(),_.getItemGap()),k=0,L=G.length;L>k;k++){var W=G[k],u=_.figureItemSize(W),r=u.width,y=u.height;a.width+=r,L-1>k&&(a.width+=F),a.height=s(y,a.height)}return a.width=i(a.width+I+x+A+Q),a.height=i(a.height+S+H+f+c),a},isHScrollable:function(){var H=this;return H._sumWidth>H.getContentWidth()},adjustTranslateX:function(w){var e=this.getContentWidth()-this._sumWidth;return e>w&&(w=e),w>0?0:T(w)},drawItemBackground:function(v,S,s,W,q,j){v&&v.draw(S,s,W,q,j,this)},drawItemIcon:function(n,b,M,N,u){n&&n.draw(b,M,N,u,y,this)},drawSeparator:function(c,f,v,x,j){c&&c.draw(f,v,x,j,y,this)},drawItemText:function(V,_,n,q,P,X,W,T){var O=this.getRootContext();O.beginPath(),Yl(O,V,_,n,q,P,X,W,T||es,rr)},getItemText:function(T){return T.label||T.text},figureItemSize:function(w){var i=this,v=w.icon||w.iconDrawable,Q=i.getItemIconWidth(),K=i.getItemIconHeight(),U=i.getItemText(w),$=U==y?{width:0,height:0}:go(this.getItemTextFont(),U),D=$.width,j=$.height;return v&&(D+=Q+i.getItemIconTextGap()),j=s($.height,K),{width:D+i.getItemPaddingLeft()+i.getItemPaddingRight(),height:j+i.getItemPaddingTop()+i.getItemPaddingBottom()}},validateImpl:function(m,c,R,b){var u=this,T=u.getItems();if(u._sumWidth=0,T){var M=u.getRootContext();M.save(),M.beginPath(),M.rect(m,c,R,b),M.clip(),M.translate(u.getTranslateX(),0);for(var t=u.getItemBackgroundDrawable(),K=u.getHoverItemBackgroundDrawable(),f=u.getActiveItemBackgroundDrawable(),o=u.getSelectItemBackgroundDrawable(),r=u.getItemPaddingLeft(),j=u.getItemPaddingRight(),a=u.getItemIconWidth(),n=u.getItemIconHeight(),E=u.getItemTextColor(),J=u.getCurrentItemIndex(),W=u.getSelectItemIndex(),D=u.getItemGap(),h=u.getSeparatorDrawable(),B=u.getSeparatorWidth(),P=u.getSeparatorHeight(),A=c+(b-n)/2,N=0,C=T.length;C>N;N++){var x=T[N],Z=u.figureItemSize(x),y=Z.width;x.iconDrawable||(x.iconDrawable=O.toDrawable(x.icon));var q=x.iconDrawable;if(W===N){u.drawItemBackground(o||t,m,c,y,b,x);var l=x.selectIconDrawable;l||(l=x.selectIconDrawable=O.toDrawable(x.selectIcon)),u.drawItemIcon(l||q,m+r,A,a,n),u.drawItemText(u.getItemText(x),u.getItemTextFont(),u.getSelectItemTextColor()||E,m,c,y-j,b,mo)}else if(J===N)if(u.getCurrentItemState()===gm){u.drawItemBackground(K||t,m,c,y,b,x);var v=x.hoverIconDrawable;v||(v=x.hoverIconDrawable=O.toDrawable(x.hoverIcon)),u.drawItemIcon(v||q,m+r,A,a,n),u.drawItemText(u.getItemText(x),u.getItemTextFont(),u.getHoverItemTextColor()||E,m,c,y-j,b,mo)}else{u.drawItemBackground(f||t,m,c,y,b,x);var Q=x.activeIconDrawable;Q||(Q=x.activeIconDrawable=O.toDrawable(x.activeIcon)),u.drawItemIcon(Q||q,m+r,A,a,n),u.drawItemText(u.getItemText(x),u.getItemTextFont(),u.getActiveItemTextColor()||E,m,c,y-j,b,mo)}else u.drawItemBackground(t,m,c,y,b,x),u.drawItemIcon(q,m+r,A,a,n),u.drawItemText(u.getItemText(x),u.getItemTextFont(),E,m,c,y-j,b,mo);h&&C-1>N&&u.drawSeparator(h,m+y+(D-B)/2,c+(b-P)/2,B,P),m+=y+D+B,u._sumWidth+=y,C-1>N&&(u._sumWidth+=D)}M.restore()}u.tx(u.tx())},serializeProperty:function(e,c,U){var x=this;if("items"===c){var n;if(e){n=[];for(var w=0,M=e.length;M>w;w++){var r=O.clone(e[w]);delete r.iconDrawable,delete r.hoverIconDrawable,delete r.activeIconDrawable,delete r.selectIconDrawable,n.push(r)}}return n}return U.serializeProperty(e,c,x)},getSerializableProperties:function(){var V=H.Breadcrumb.superClass.getSerializableProperties.call(this);return Nf(V,{items:!0,itemGap:!0,separator:!0,separatorDrawable:!0,separatorWidth:!0,separatorHeight:!0,itemBackground:!0,itemBackgroundDrawable:!0,hoverItemBackground:!0,hoverItemBackgroundDrawable:!0,activeItemBackground:!0,activeItemBackgroundDrawable:!0,selectItemBackground:!0,selectItemBackgroundDrawable:!0,itemTextColor:!0,hoverItemTextColor:!0,activeItemTextColor:!0,selectItemTextColor:!0,itemTextFont:!0,itemIconWidth:!0,itemIconHeight:!0,itemIconTextGap:!0,itemPadding:!0,selectItemIndex:!0})}}),H.BreadcrumbInteractor=function(D){H.ButtonInteractor.superClass.constructor.call(this,D)},sf("ht.ui.BreadcrumbInteractor",H.Interactor,{handle_mousedown:function(d){this.handle_touchstart(d)},handle_touchstart:function(b){qd(b);var Q=this,q=Q.getComponent(),k=q.getItems(),h=q.getItemAt(b);h&&(q.requestFocus(),q.setCurrentItemIndex(k.indexOf(h)),q.setCurrentItemState(yr),Q.$47u=Uo(b),sr(Q,b))},handleWindowMouseUp:function(X){this.handleWindowTouchEnd(X)},handleWindowTouchEnd:function(C){var D=this;D.$47u=y,D._oldPagePoint=y,D.checkCurrentItem(C,!0)},handle_mouseup:function(B){this.handle_touchend(B)},handle_touchend:function(D){var T=this,Y=T.getComponent();if(T.$47u&&!T._oldPagePoint){var J=Y.getItems(),i=Y.getItemAt(D),s=Y.getCurrentItemIndex();J.indexOf(i)===s&&Y.setSelectItemIndex(s)}},handleWindowMouseMove:function(){},handleWindowTouchMove:function(G){var D=this,k=Uo(G),m=D._oldPagePoint;m||(m=D.$47u),(D._oldPagePoint||fl(k,D.$47u)>2)&&(D.handleScroll(G,k.x-m.x),D._oldPagePoint=k)},handle_mousemove:function(z){var p=this;pk()||p.checkCurrentItem(z)},checkCurrentItem:function(J,I){var P=this,Q=P.getComponent(),U=Q.getItems(),l=Q.getItemAt(J);I&&il||!l?(Q.setCurrentItemIndex(y),Q.setCurrentItemState(th)):(Q.setCurrentItemIndex(U.indexOf(l)),Q.setCurrentItemState(gm))},handle_touchmove:function(){},handle_mousewheel:function(g){this.handleScroll(g,10*(g.wheelDelta/40))},handle_DOMMouseScroll:function(h){this.handleScroll(h,10*-h.detail)},handleScroll:function(L,Q){var S=this,r=S.getComponent();qd(L),r.isHScrollable()&&(L._htScroll=!0,r.tx(r.tx()+Q))},handle_mouseleave:function(){var d=this,b=d.getComponent();d.$47u||(b.setCurrentItemIndex(y),b.setCurrentItemState(th))}}),H.ButtonBase=function(b){H.ButtonBase.superClass.constructor.call(this,b)},sf("ht.ui.ButtonBase",df,{ui_ac:["drawable:icon","iconWidth","iconHeight","iconTextGap","text","textColor","textFont","hTextPosition","vTextPosition","align","vAlign","toolTip","badge","multilineTextAlign","iconStretch"],_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{icon:!0,iconDrawable:!0,iconWidth:!0,iconHeight:!0,iconTextGap:!0,text:!0,textFont:!0,hTextPosition:!0,vTextPosition:!0}),__align:es,__vAlign:rr,__iconWidth:16,__iconHeight:16,__iconTextGap:4,__padding:[2,6,2,6],__textFont:M.font,__textColor:"black",__hTextPosition:mo,__vTextPosition:rr,__multilineTextAlign:dn,figureTextSize:function(){var a=this,o=a.getText(),V=a.getTextFont();return o==y||""===o?{width:0,height:0}:(o=o.toString(),o.indexOf("\n")>=0?Ne(V,o):go(V,o))},getTextSize:function(){return this.figureTextSize()},figurePreferredSize:function(){var b=this,$=b.getTextSize(),E=b.getIconDrawable(),k=b.getIconWidth(),N=b.getIconHeight(),G=b.getHTextPosition(),Y=b.getVTextPosition(),j=b.getIconTextGap(),M=b.getBorderLeft(),x=b.getBorderRight(),u=b.getBorderTop(),v=b.getBorderBottom(),H=b.getPaddingTop(),m=b.getPaddingBottom(),A=b.getPaddingLeft(),K=b.getPaddingRight();return $={width:$.width,height:$.height},E&&k&&N&&(G===es?Y===om||Y===Rb?($.height+=N+(0===$.height?0:j),$.width=s($.width,k)):Y===rr&&($.width=s($.width,k),$.height=s($.height,N)):(G===dn||G===mo)&&($.width+=k+(0===$.width?0:j),$.height=s($.height,N))),$.width=i($.width+M+x+A+K),$.height=i($.height+u+v+H+m),$},onPropertyChanged:function(g){var A=this;H.ButtonBase.superClass.onPropertyChanged.call(A,g)},drawText:function(S,U,k,H,r,m,J,a,Q){var i=this.getRootContext();i.beginPath(),S&&S.toString().indexOf("\n")>=0?O.drawBreakableText(i,S.toString().split("\n"),{x:H,y:r,width:m,height:J},U,k,this.getMultilineTextAlign()):Yl(i,S,U,k,H,r,m,J,a||es,Q||rr)},drawIcon:function(O,D,N,Z,_){if(O){var x=this.getIconStretch();O.getStretch&&x!==C&&(O._stretch=x),O.draw(D,N,Z,_,y,this)}},hitTest:function(V){var f=this,n=f._view;return V instanceof Event?n.contains(Nl(V)):V?V.x>=0&&V.x<=f.getWidth()&&V.y>=0&&V.y<=f.getHeight():void 0},validateImpl:function(G,c,N,e){var O=this,C=O.getAlign(),r=O.getVAlign(),p=O.getIconDrawable(),H=O.getIconWidth(),a=O.getIconHeight(),g=O.getHTextPosition(),z=O.getVTextPosition(),o=(O.getIconTextGap(),O.getTextSize()),K=O.getBorderLeft(),n=O.getBorderRight(),R=O.getBorderTop(),$=O.getBorderBottom(),Q=O.getPaddingTop(),x=O.getPaddingBottom(),Y=O.getPaddingLeft(),i=O.getPaddingRight(),v=O.figurePreferredSize(),A=v.width-K-n-Y-i,l=v.height-R-$-Q-x;A-=O._rightGap||0,N-=O._rightGap||0;var B,q;g===es?z===om?(B={x:(N-o.width)/2,y:(e-l)/2},q=p?{x:(N-H)/2,y:(e+l)/2-a}:y):z===rr?(B={x:(N-o.width)/2,y:(e-o.height)/2},q=p?{x:(N-H)/2,y:(e-a)/2}:y):z===Rb&&(q=p?{x:(N-H)/2,y:(e-l)/2}:y,B={x:(N-o.width)/2,y:(e+l)/2-o.height}):(g===dn?(q=p?{x:(N+A)/2-H}:y,B={x:(N-A)/2}):(B={x:(N+A)/2-o.width},q=p?{x:(N-A)/2}:y),z===om?(q&&(q.y=(e-s(o.height,a))/2),B.y=(e-s(o.height,a))/2):z===rr?(q&&(q.y=(e-a)/2),B.y=(e-o.height)/2):z===Rb&&(q&&(q.y=(e+s(o.height,a))/2-a),B.y=(e+s(o.height,a))/2-o.height));
var P=(N-A)/2,S=(e-l)/2;C===dn?(B&&(B.x-=P),q&&(q.x-=P)):C===mo&&(B&&(B.x+=P),q&&(q.x+=P)),r===om?(B&&(B.y-=S),q&&(q.y-=S)):r===Rb&&(B&&(B.y+=S),q&&(q.y+=S)),q&&(q.x+=G,q.y+=c,q.width=H,q.height=a,O.drawIcon(p,q.x,q.y,q.width,q.height)),B&&(B.x+=G,B.y+=c,B.width=o.width,B.height=o.height,C===es&&B.x<G?O.drawText(O.getText(),O.getTextFont(),O.getTextColor(),G,B.y,B.width,B.height,dn):O.drawText(O.getText(),O.getTextFont(),O.getTextColor(),B.x,B.y,B.width,B.height));var E=O.getBadge(),Z=O._badgeDiv,w=O._view;if(E){if(Z||(Z=O._badgeDiv=u.createElement("div"),Z.className="ht-ui-badge"),Z.innerHTML=Sp(E)?E:E.text,Z.style.borderRadius="10000px",Z.style.padding=".25em .625em",Z.style.display="inline-block",Z.style.font=M.font,Z.style.position="absolute",Z.style.background="#cd5b52",Z.style.color="#fff",E.css)for(var T in E.css)Z.style[T]=E.css[T];Z.parentNode!==w&&w.appendChild(Z);var k=Z.getBoundingClientRect();if(Z.style.top=-k.height/2+"px",Z.style.right=-k.width/2+"px",E.css)for(var T in E.css)Z.style[T]=E.css[T]}else Z&&xm(Z)},getSerializableProperties:function(){var C=H.ButtonBase.superClass.getSerializableProperties.call(this);return Nf(C,{icon:1,iconStretch:1,iconDrawable:1,iconWidth:1,iconHeight:1,iconTextGap:1,text:1,textColor:1,textFont:1,hTextPosition:1,vTextPosition:1,align:1,vAlign:1,multilineTextAlign:1,toolTip:1,badge:1})}}),H.Label=function(V){Sp(V)||Oi(V)?(H.Label.superClass.constructor.call(this),this.setText(V)):H.Label.superClass.constructor.call(this,V)},sf("ht.ui.Label",H.ButtonBase,{__align:dn,__padding:0,__textColor:M.textColor,getInteractorClasses:function(){return[H.LabelInteractor]}}),H.LabelInteractor=function(t){this._label=t},sf("ht.ui.LabelInteractor",A,{ms_listener:1,getView:function(){return this._label._view},handle_mousedown:function(z){this.handle_touchstart(z)},handle_touchstart:function(Q){var Z=this._label;Z.isSelfViewEvent(Q)&&(Z.requestFocus(),qd(Q))}}),H.Button=function(J){H.Button.superClass.constructor.call(this,J)},sf("ht.ui.Button",H.ButtonBase,{ui_ac:["hoverTextColor","activeTextColor","disabledTextColor","drawable:hoverIcon","drawable:activeIcon","drawable:disabledIcon","drawable:hoverBackground","drawable:activeBackground","drawable:disabledBackground","hoverBorder","activeBorder","disabledBorder","is:pixelPerfect"],ms_ac:["state"],_preferredSizeProps:Nf(Fb(H.ButtonBase.prototype._preferredSizeProps),{hoverIconDrawable:!0,activeIconDrawable:!0,disabledIconDrawable:!0,hoverIcon:!0,activeIcon:!0,disabledIcon:!0}),_state:th,__padding:[4,16,4,16],__cursor:"pointer",__borderRadius:M.borderRadius,__border:new H.border.LineBorder(1,M.baseColor),__textColor:M.baseColor,__hoverTextColor:M.baseColor,__activeTextColor:M.baseColor,__background:y,__hoverBackground:M.hoverBackground,__activeBackground:M.activeBackground,__disabledBackground:"#fff",__disabledTextColor:M.textDimColor,__disabledBorder:new H.border.LineBorder(1,M.dimColor),hitTest:function(h){if(!this.isDisabled()){var l=this,R=l.isPixelPerfect();if(!R)return H.Button.superClass.hitTest.call(l,h);var m=h instanceof Event?l.lp(h):h;m.x+=l.getBorderLeft()+l.getPaddingLeft(),m.y+=l.getBorderTop()+l.getPaddingTop();var Y=l.getRootContext(),n=Y.getImageData(m.x*O.devicePixelRatio,m.y*O.devicePixelRatio,1,1).data,x=l.$244u;x&&x.$93u&&(x.$93u.restore(),x.$93u=y);var L=l._canvas;return L&&L.$93u&&(L.$93u.restore(),L.$93u=y),n[3]?!0:void 0}},getInteractorClasses:function(){return["ht.ui.ButtonInteractor"]},setDisabled:function(H){var x=this,U=x.isDisabled();!!H!=!!U&&(x.setPropertyValue("state",th),x.setPropertyValue("disabled",H),x.$240u())},setDisabledBorder:function(A){var L=this,p=L.getDisabledBorder();L.setPropertyValue("disabledBorder",A),p!==A&&L.isDisabled()&&L.$240u()},drawBackground:function(Y,n,o,l,W,U){var g=this;Y=g.getCurrentBackgroundDrawable(),H.Button.superClass.drawBackground.call(g,Y,n,o,l,W,U)},getCursor:function(){var i=this,_=i.isPixelPerfect(),A=i.getPropertyValue("cursor");if(!_)return A;var p=i.getState();return"hover"===p||"active"===p?A:void 0},drawText:function(K,e,z,n,P,J,v){var i=this;z=i.getCurrentTextColor(),H.Button.superClass.drawText.call(i,K,e,z,n,P,J,v)},drawIcon:function(x,J,s,T,X){var L=this;x=L.getCurrentIconDrawable(),H.Button.superClass.drawIcon.call(L,x,J,s,T,X)},getCurrentBackgroundDrawable:function(W){var K=this,A=K.isDisabled(),m=K.getBackgroundDrawable();if(A){var L=K.getDisabledBackgroundDrawable();return L===C?m:L}if(W||(W=K.getState()),W===th)return m;if(W===gm){var T=K.getHoverBackgroundDrawable();return T===C?m:T}if(W===yr){var o=K.getActiveBackgroundDrawable();return o===C?m:o}},getCurrentTextColor:function(w){var W=this,T=W.isDisabled(),P=W.getTextColor();return T?W.getDisabledTextColor()||P:(w||(w=W.getState()),w===th?P:w===gm?W.getHoverTextColor()||P:w===yr?W.getActiveTextColor()||P:void 0)},getCurrentIconDrawable:function(t){var O=this,X=O.isDisabled(),q=O.getIconDrawable();if(X){var H=O.getDisabledIconDrawable();return H===C?q:H}if(t||(t=O.getState()),t===th)return q;if(t===gm){var K=O.getHoverIconDrawable();return K===C?q:K}if(t===yr){var k=O.getActiveIconDrawable();return k===C?q:k}},makeDisabled:function(z,$){var S=this;H.Button.superClass.makeDisabled.call(S,z,$),$&&($.style.background="rgba(0,0,0,0)",$.style.cursor="not-allowed")},setState:function(v){var l=this,T=l._state;l.setPropertyValue("state",v),v!==T&&l.$240u()},getCurrentBorder:function(k){var S=this,R=S.isDisabled(),K=H.Button.superClass.getCurrentBorder.call(S);if(R){var s=S.getDisabledBorder();return s===C?K:s}if(k||(k=S.getState()),k===th)return K;if(k===gm){var z=S.getHoverBorder();return z===C?K:z}if(k===yr){var T=S.getActiveBorder();return T===C?K:T}},getSerializableProperties:function(){var R=H.Button.superClass.getSerializableProperties.call(this);return Nf(R,{hoverTextColor:1,activeTextColor:1,disabledTextColor:1,hoverIcon:1,hoverIconDrawable:1,activeIcon:1,activeIconDrawable:1,disabledIcon:1,disabledIconDrawable:1,hoverBackground:1,hoverBackgroundDrawable:1,activeBackground:1,activeBackgroundDrawable:1,disabledBackground:1,disabledBackgroundDrawable:1,"is:pixelPerfect":1,hoverBorder:1,activeBorder:1,disabledBorder:1})}}),H.ButtonInteractor=function(W){H.ButtonInteractor.superClass.constructor.call(this,W)},sf("ht.ui.ButtonInteractor",H.Interactor,{clearTouchState:function(){var d=this,r=d.getComponent();d.$47u=y,r.setState(th)},handle_mousedown:function($){this.handle_touchstart($)},handle_touchstart:function(T){qd(T);var x=this,A=x.getComponent();!A.isDisabled()&&A.hitTest(T)&&(A.requestFocus(),A.setState(yr),x.$47u=!0,sr(x,T),x.addToTouchScrollClearQuene(T))},handleWindowMouseUp:function(M){this.handleWindowTouchEnd(M)},handleWindowTouchEnd:function(){var O=this;O.$47u=y},handle_mouseup:function(I){this.handle_touchend(I)},handle_touchend:function(N){var y=this,Z=y.getComponent();y.$47u&&(il?Z.setState(th):Z.setState(gm),Z.isSelfViewEvent(N)&&Z.fireViewEvent({kind:"click",nativeEvent:N,source:Z,target:Z}))},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handle_mousemove:function(n){var $=this,B=$.getComponent();B.isDisabled()||(B.hitTest(n)?$.$47u?B.setState(yr):pk()||B.setState(gm):B.setState(th))},handle_touchmove:function(){},handle_mouseleave:function(){var c=this,J=c.getComponent();J.isDisabled()||J.setState(th)},handle_keydown:function(){}}),H.LinkButton=function(z){H.LinkButton.superClass.constructor.call(this,z)},sf("ht.ui.LinkButton",H.Button,{__textColor:"#3399ff",__hoverTextColor:O.darker(M.baseColor,11),__activeTextColor:O.darker(M.baseColor,15),__background:null,__hoverBackground:null,__activeBackground:null,__border:null,drawText:function(b,Q,m,h,R,k,F){var K=this;H.LinkButton.superClass.drawText.call(K,b,Q,m,h,R,k,F);var g=K.getState();if(b&&("hover"===g||"active"===g)){var M,L=K.getRootContext();L.beginPath(),M=b.toString().indexOf("\n")>=0?Ne(Q,b):go(Q,b),L.rect(h,R+M.height,k,1),L.fillStyle=K.getCurrentTextColor(),L.fill()}}}),H.ContextMenu=function(a){var R=this;H.ContextMenu.superClass.constructor.call(R);var S=R._interactor;R.$131u=function(l){S.$337u(l)},R.$132u=function(l){S.handleViewParentContextMenu(l)},R.set(a)},sf("ht.ui.ContextMenu",df,{ui_ac:["items","rowHeight",Fe,"visibleFunc","gapLeft","gapRight","drawable:hoverRowBackground","hoverMenuItem","bottomMargin","shortcutEnabled","separatorColor","separatorSize","prefixWidth","prefixGapRight","iconWidth","iconGapRight",_,h,"disabledLabelColor","hoverLabelColor","labelGapRight","labelLeftAligned","suffixGapRight","childrenOffsetX","childrenOffsetY","drawable:indicatorIcon","indicatorWidth","indicatorColor","hoverIndicatorColor","drawable:radioOnIcon","drawable:radioOffIcon","drawable:checkIcon","drawable:uncheckIcon","drawable:scrollUpIndicator","drawable:scrollDownIndicator","drawable:disabledScrollUpIndicator","drawable:disabledScrollDownIndicator","scrollIndicatorHeight","offset"],_styleProps:{padding:!0,border:!0,background:!0,backgroundDrawable:!0,zIndex:!0,rowHeight:!0,gapLeft:!0,gapRight:!0,hoverRowBackground:!0,hoverRowBackgroundDrawable:!0,bottomMargin:!0,separatorColor:!0,separatorSize:!0,prefixWidth:!0,prefixGapRight:!0,iconWidth:!0,iconGapRight:!0,labelFont:!0,labelColor:!0,disabledLabelColor:!0,hoverLabelColor:!0,labelGapRight:!0,labelLeftAligned:!0,suffixGapRight:!0,childrenOffsetX:!0,childrenOffsetY:!0,indicatorIcon:!0,indicatorWidth:!0,indicatorColor:!0,hoverIndicatorColor:!0,radioOnIcon:!0,radioOffIcon:!0,checkIcon:!0,uncheckIcon:!0,radioOnIconDrawable:!0,radioOffIconDrawable:!0,checkIconDrawable:!0,uncheckIconDrawable:!0,boxShadow:!0,borderRadius:!0,scrollIndicatorHeight:!0,scrollUpIndicator:!0,scrollUpIndicatorDrawable:!0,scrollDownIndicator:!0,scrollDownIndicatorDrawable:!0,disabledScrollUpIndicator:!0,disabledScrollUpIndicatorDrawable:!0,disabledScrollDownIndicator:!0,disabledScrollDownIndicatorDrawable:!0},$284u:{},_idSeq:0,__childrenOffsetX:0,__childrenOffsetY:0,__padding:[5,0,5,0],__position:{x:0,y:0},__bottomMargin:0,__rowHeight:24,__iconWidth:16,__prefixWidth:16,__prefixGapRight:6,__iconGapRight:6,__labelGapRight:30,__suffixGapRight:2,__labelLeftAligned:!0,__background:M.popupBackground,__separatorSize:1,__separatorColor:M.lineColor,__gapLeft:8,__gapRight:8,__labelFont:M.font,__hoverLabelColor:"white",__indicatorIcon:"contextmenu_indicator",__indicatorWidth:16,__radioOnIcon:"ui_"+E,__radioOffIcon:"ui_"+q,__checkIcon:"ui_"+V,__uncheckIcon:"ui_"+G,__scrollUpIndicator:[z.ui.drawable.ContextMenuScrollIndicatorDrawable,"up",M.lineColor,M.textColor],__scrollDownIndicator:[z.ui.drawable.ContextMenuScrollIndicatorDrawable,"down",M.lineColor,M.textColor],__disabledScrollUpIndicator:[z.ui.drawable.ContextMenuScrollIndicatorDrawable,"up",M.dimColor,M.textDimColor],__disabledScrollDownIndicator:[z.ui.drawable.ContextMenuScrollIndicatorDrawable,"down",M.dimColor,M.textDimColor],__scrollIndicatorHeight:20,_width:1,_height:1,__borderRadius:M.borderRadius,__labelColor:M.textColor,__disabledLabelColor:M.textDimColor,__boxShadow:M.popupBoxShadow,__hoverRowBackground:M.baseColor,setUpInteractors:function(){var R=this,X=R._interactor;X||(X=R._interactor=new H.ContextMenuInteractor(R),X.addListeners())},initView:function(){var x=this,D=x._view=Sl();x._view.htComp=x,D.setAttribute(S,"ht-view "+x.getClassName()),D.style.left="0",D.style.top="0"},setShortcutEnabled:function(Q){var U=this;Q?(U.$168u&&U.$168u.dispose(),U.$168u=new z.Mousetrap,U.ivm()):U.$168u&&(U.$168u.dispose(),delete U.$168u),U.setPropertyValue("shortcutEnabled",Q)},isDisabled:function(){return!1},resetVisibleMap:function(){var P=this,Q=P.$209u;Q||(Q=P.$209u={}),P.each(function(A){var d=P.isItemVisible(A);Q[A._id]!==d&&P.ivm(),Q[A._id]=d})},onPropertyChanged:function(c){var B=this,v=c.property;["items","visibleFunc","position",Fe].indexOf(v)>=0&&("items"===v?(B.ivm(),B.validateModel()):B.resetVisibleMap()),B.iv()},figuteItemTextSize:function(F){var x=this,o=x.getLabel(F);return go(x.getLabelFont(),o)},$317u:function(T){for(var q,a,H,x,U,F=this,C=0,N=0,m=F.getLabelFont(),V=0,Z=T.length;Z>V;V++){var K=T[V];if(("check"===K.type||"radio"===K.type)&&(a=!0),(K.suffix||K.shortcut)&&(x=!0),F.$61u[K._id]&&(H=!0),F.getMenuItemIconDrawable(K)&&(U=!0),a&&x&&H&&U)break}for(var V=0,Z=T.length;Z>V;V++){var K=T[V];if(K.width!=y)q=q==y?K.width:s(q,K.width);else{var r=K.suffix||K.shortcut,p=F.getIconWidth(K),d=F.getPrefixWidth(K),L=F.getIndicatorWidth(K),P=F.figuteItemTextSize(K);H&&(P.width+=L),U&&(P.width+=p+F.getIconGapRight(K)),a&&(P.width+=d+F.getPrefixGapRight(K)),x&&(N=go(m,r).width,P.width+=N+F.getSuffixGapRight(K)),(H||x)&&(P.width+=F.getLabelGapRight(K)),q=q==y?P.width:s(q,P.width)}var X=F.getRowHeight(K);C+=X}return q=aj(q),C=aj(C),{itemSize:{width:q,height:C},suffixWidth:N}},getRowHeight:function(Y){var P=this.getPropertyValue("rowHeight");if(Y){if(Y.height)return Y.height;if("-"===Y.type)return P/2}return P},ivm:function(){var K=this;K.$116u||(K.$116u=!0)},validateModel:function(){var v=this;v._itemsMap={},v.$61u={},v.$60u={},v.$63u={},v._idSeq=0,v.each(function(c){c._id=++v._idSeq}),v.resetVisibleMap(),ai(v._view),v.$168u&&v.$168u.reset(),v.$56u()},$56u:function(T){var d=this,e=T?T.items:d.getItems(),K=T?T._id:0,_=d.$61u,r=d.$63u,A=d.$168u;if(e){var g=[];if(e.forEach(function(e){if(e._pid=K,d._itemsMap[e._id]=e,"radio"===e.type){var w=e.groupId;w!=y&&(r[w]||(r[w]=[]),r[w].push(e))}d.$209u[e._id]&&g.push(e)}),g.length>0){var P=d._view,H=Hi(y,!0),V=d.getBoxShadow(),p=d.getBorderRadius(),l=Sl(!1);V!=y&&(H.style.boxShadow=V),p!=y&&(p=d.toBorderRadiusCss(p),H.style.borderRadius=p),l.className="ht-content",l.style.overflow="hidden",l.style.visibility="hidden",H.contentDiv=l;var o=l.$41u=Sl();o.setAttribute(S,"ht-bottomMargin"),o.style.left="0",o.style.width=1+vl,o.style.height=1+vl,l.appendChild(o),H.style.visibility="hidden",P.appendChild(H),P.appendChild(l),H.$59u=K,l.$59u=K,d.$60u[K]=H,_[K]=g,g.forEach(function(x){A&&x.shortcut&&A.bind(x.shortcut,function(c){x.preventDefault!==!1&&c.preventDefault(),d.isItemDisabled(x)||d.clickItem(x,c)}),d.$56u(x)})}}},isItemDisabled:function(F){var T=F.disabled;return Uj(T)?T.call(this,F)?!0:void 0:!!T},isItemVisible:function(P){var R=this.getVisibleFunc();return R?R.call(this,P):!0},each:function(u,g,S){var O=this,E=S?S.items:O.getItems();if(E)for(var o=0,e=E.length;e>o;o++){var M=E[o],$=u.call(g||O,M);if($===!1)break;O.each(u,g,M)}},findItemByLabel:function(G){var l;return this.each(function(n){return n.label===G?(l=n,!1):void 0}),l},selectItem:function(Q){if("radio"===Q.type){var B=Q.groupId;if(B!=y)for(var h=this.$63u[B],S=0,n=h.length;n>S;S++){var H=h[S];H.selected=H===Q?!0:!1}else Q.selected=!Q.selected}else"check"===Q.type&&(Q.selected=!Q.selected)},clickItem:function(m,u,U){var A=this;m.action&&m.action.call(A,m,u),A.fireViewEvent({kind:"action",nativeEvent:u,item:m,source:A}),A.$61u[m._id]||(A.hideOnEvent?A.hideOnEvent({kind:"action",item:m,source:A})&&A.hide(m):U||A.hide(m))},drawRowBackground:function(g,A,$,H,q,G,W){g&&g.draw(A,$,H,q,G,this,W)},isHoverMenuItem:function(Q){for(var o=this,X=o.getHoverMenuItem(),D=o._itemsMap;X;){if(X===Q&&"-"!==X.type)return!0;X=D[X._pid]}},drawSeparator:function(R,o,m,V,i,I){R.beginPath(),R.fillStyle=o,R.rect(m,V,i,I),R.fill()},drawPrefix:function(X,d,C,p,Z,G,t){X&&X.draw(d,C,p,Z,G,this,t)},drawSuffix:function(n,h,q,d,c,w,A,m,K,J){Yl(n,h,q,d,c,w,A,m,K,J)},drawIcon:function(V,w,i,E,P,O,v){V.draw(w,i,E,P,O,this,v)},getLabel:function(r){return r.label},drawLabel:function(z,r,u,b,i,P,d,Y,O,E){Yl(z,r,u,b,i,P,d,Y,O,E)},drawIndicatorIcon:function(W,R,U,Z,k,y,z){W.draw(R,U,Z,k,y,this,z)},drawItem:function(X,S,w,k,j,D,p,J,c){var I=this,$=I.getIconWidth(S),V=I.getPrefixWidth(S),d=I.getIndicatorWidth(S),W=I.getSuffixGapRight(S),e=I.getLabelFont(S),l=I.getGapLeft(),C=I.getGapRight(),M=I.$61u,_=w.x,r=w.y,G=w.width,K=w.height,m=I.getRootContext(X);if(S.renderer){w={x:w.x,y:w.y-c,width:w.width,height:w.height};var A=S.renderer.call(I,m,S,w,j,D,p);if(A&&A.getView){var L=A.getView();L.parentNode!==k&&k.appendChild(L)}else A&&A.parentNode!==k&&k.appendChild(A)}else if("-"===S.type){var B=I.getSeparatorSize(S);I.drawSeparator(m,I.getSeparatorColor(S),_+l,r+(K-B)/2,G,B,S)}else{var F=I.isHoverMenuItem(S);F?I.drawRowBackground(I.getHoverRowBackgroundDrawable(S),_,r,G+l+C,K,S,X):I.drawRowBackground(y,_,r,G+l+C,K,S,X);var u=_+l;if("check"===S.type){var b=S.selected;"function"==typeof b&&(b=b.call(I,S));var Z=b?I.getCheckIconDrawable(S):I.getUncheckIconDrawable(S);I.drawPrefix(Z,u,r,V,K,S,X)}else if("radio"===S.type){var b=S.selected;"function"==typeof b&&(b=b.call(I,S));var o=b?I.getRadioOnIconDrawable(S):I.getRadioOffIconDrawable(S);I.drawPrefix(o,u,r,V,K,S,X)}u+=D?V+I.getPrefixGapRight(S):0;var v=I.getMenuItemIconDrawable(S);v?(I.drawIcon(v,u,r,$,K,S,X),u+=$+I.getIconGapRight(S)):p&&I.isLabelLeftAligned(S)&&(u+=$+I.getIconGapRight(S));var f=F?I.getHoverLabelColor(S):I.getLabelColor(S),x=I.isItemDisabled(S);x&&(f=I.getDisabledLabelColor(S)),I.drawLabel(m,I.getLabel(S),e,f,u,r,G,K,y,y,S);var n=S.suffix||S.shortcut;n&&(u=J?_+l+G-d-j-W:_+l+G-j-W,I.drawSuffix(m,n,e,f,u,r,j,K,mo,y,S)),M[S._id]&&I.drawIndicatorIcon(I.getIndicatorIconDrawable(S),_+l+G-d,r,d,K,S,X)}},indicatorHitTest:function(V){var g=this,O=V.target?g.lp(V):V,a=O.canvas;if(a._scrollFlag){var M=g.getBorderTop(),i=g.getBorderBottom(),Y=g.getScrollIndicatorHeight(),n=O.bound,D=O.lp.y;return D>M&&M+Y>=D?{canvas:a,indicator:"up"}:D>n.height-i-Y&&D<=n.height-i?{canvas:a,indicator:"down"}:void 0}},drawUpIndicator:function(E,T,$){var B=this,s=T.x,G=T.y,X=T.width,U=T.height,r=$?B.getDisabledScrollUpIndicatorDrawable():B.getScrollUpIndicatorDrawable();r&&r.draw(s,G,X,U,y,B,E)},drawDownIndicator:function(i,A,Z){var Y=this,R=A.x,p=A.y,S=A.width,E=A.height,M=Z?Y.getDisabledScrollDownIndicatorDrawable():Y.getScrollDownIndicatorDrawable();M&&M.draw(R,p,S,E,y,Y,i)},processCanvasPos:function(l,K,k){return{x:K,y:k}},$57u:function(h,F,c){var R=this,j=R.$61u,q=R.$60u,C=R.getPaddingTop(),Q=R.getChildrenOffsetX(),v=R.getChildrenOffsetY(),H=R.getPaddingRight(),b=R.getPaddingBottom(),X=R.getPaddingLeft(),K=R.getBorderLeft(),D=R.getBorderRight(),o=R.getBorderTop(),z=R.getBorderBottom(),p=R.getGapLeft(),E=R.getGapRight(),Y=R.getHoverMenuItem(),I=R._itemsMap,g=F?F._id:0,f=j[g],u=R.getScrollIndicatorHeight();if(f){var N=R.$317u(f),B=N.itemSize,t=N.suffixWidth,O=q[g],S=O.contentDiv,k=O.style,T=B.width+X+H+K+D+p+E,V=B.height+C+b+o+z;T>h.width&&(T=h.width);var d,n;V>h.height&&(V=h.height,d=!0,n=B.height),O._scrollFlag=d,O.$188u=n,Yh(O,T,V),S.style.width=T+vl;var e=R.getBottomMargin(),G="hidden";if(0===g){var s=R._avoidView,x=R.getX(),l=R.getY(),L=R.getOffset(),Z=L?L[0]:0,P=L?L[1]:0;x+=Z,l+=P,x+T>h.left+h.width&&(x=h.left+h.width-T+Z,s&&(x>h.left+s.left||x+T>h.left+s.left)&&(x=h.left+s.left-T+Z)),x<h.left&&(x=h.left+Z),l+V+e>h.top+h.height&&(l=h.top+h.height-V-e+P,s&&(l>h.top+s.top||l+V>h.top+s.top)&&(l=h.top+s.top-V+P)),l<h.top&&(l=h.top+P);var m=R.processCanvasPos(f,x,l,O);x=m.x,l=m.y,k.left=x+vl,k.top=l+vl,S.style.left=x+vl,S.style.top=l+vl,G=Fe}else if(Y){if(Y._id===g){var $=q[I[F._id]._pid],x=aj($.style.left)+aj($.style.width)-D+Q,l=aj($.style.top)+(c||0)+v;x+T>h.left+h.width&&(x=aj($.style.left)-T+K-Q),x<h.left&&(x=h.left),l+V+e>h.top+h.height&&(l=h.top+h.height-V-e-v),l<h.top&&(l=h.top);var m=R.processCanvasPos(f,x,l,O);x=m.x,l=m.y,k.left=x+vl,k.top=l+vl,S.style.left=x+vl,S.style.top=l+vl}R.isHoverMenuItem(F)&&(G=Fe)}if(k.visibility=G,S.style.visibility=G,G===Fe){R.drawBackground(R.getBackgroundDrawable(),K,o,T-K-D,V-o-z,O),R.drawBorder(R.getBorder(),0,0,T,V,O);for(var r,J,A,i=0,_=f.length;_>i;i++){var U=f[i];if(("check"===U.type||"radio"===U.type)&&(r=!0),R.getMenuItemIconDrawable(U)&&(J=!0),R.$61u[U._id]&&(A=!0),r&&J&&A)break}var M=C+o,w=V-M-z-b,W=M,a=O._scrollTop||0;if(d){M+=u,W+=u,w-=2*u,R.drawUpIndicator(O,{x:K,y:o,width:T-K-D,height:u},0===a);var _n=R.getRootContext(O);_n.beginPath(),_n.save(),_n.rect(0,M,T,w),_n.clip(),_n.translate(0,a),S.scrollTop=-a,S.$41u.style.top=n-1+"px",O._contentHeight=w}S.style.top=aj(k.top)+W+vl,S.style.height=w+vl;for(var i=0,_=f.length;_>i;i++){var U=f[i],Oo=R.getRowHeight(U),rn={x:X+K,y:M,width:B.width,height:Oo};if(d){if(-a>M-W+Oo){M+=Oo;continue}if(M-W>w-a){M+=Oo;continue}}R.drawItem(O,U,rn,S,t,r,J,A,W),M+=Oo}_n&&_n.restore(),d&&R.drawDownIndicator(O,{x:K,y:V-u,width:T-K-D,height:u},-a+w==n?!0:!1),O.$93u&&(O.$93u.restore(),O.$93u=y)}M=W+a;for(var i=0,_=f.length;_>i;i++){var U=f[i];R.$57u(h,U,M),M+=R.getRowHeight(U)}}},getRootContext:function(c){var b=c.$93u;return b||(b=c.$93u=Lf(c),Xl(b,0,0,1)),b},layoutDOM:function(){},validate:function(){var _=this,E=_._view;E&&H.ContextMenu.superClass.validate.call(_)},processValidateImpl:function(){var m=this,T=m.isVisible();m.$116u&&(m.validateModel(),delete m.$116u),T&&m.$57u(hi())},lp:function(r){var y=this,p=y.$60u,$=Hf(r);for(var Y in p){var W=p[Y],D=Nl(r);if(W.contains(D)||W.contentDiv.contains(D)){var A=W.getBoundingClientRect();return{dom:D,canvas:W,id:Y,bound:A,lp:{x:$.x-A.left,y:$.y-A.top}}}}},getMenuItemAt:function(O){var p,S,j,N,A=this;if(O.target){var L=A.lp(O);if(L==y)return;S=L.id,p=L.lp,j=L.canvas,N=L.bound}else S=O.id,p=O.lp,j=O.canvas,N=O.bound;var t=A.$61u[S],l=A.getPaddingTop(),G=A.getBorderTop(),R=j._scrollTop||0,r=A.getScrollIndicatorHeight(),M=l+G+R;if(j._scrollFlag){if(M+=r,p.y<l+G+r)return;if(p.y>l+G+r+j._contentHeight)return}else{if(p.y<l+G)return;if(p.y>N.height-A.getPaddingBottom()-A.getBorderBottom())return}for(var q=0;q<t.length;q++){var c=t[q],b=A.getRowHeight(c);if(M+=b,p.y<=M&&p.y>M-b)return c}},getMenuItemIconDrawable:function(u){return!u.iconDrawable&&u.icon&&(u.iconDrawable=O.toDrawable(u.icon)),u.iconDrawable},$210u:function(J){u.addEventListener(il?"touchstart":"mousedown",J,!0)},$211u:function(a){u.removeEventListener(il?"touchstart":"mousedown",a,!0)},getInvoker:function(){return this.$226u},addToDOM:function(V){V||(V=U);var K=this;if(K.$226u)throw new Error("ht.ui.ContextMenu#addToDOM: 菜单不能加到多个组件上");V.getView&&(V=V.getView()),K.$226u=V,V.addEventListener("contextmenu",K.$132u)},show:function(h,D,Z){var $,H=this;1===arguments.length&&($=h,$=ck($),h=$.pageX,D=$.pageY),Z&&(Z.getView&&(Z=Z.getView()),Z.getBoundingClientRect&&(Z=Z.getBoundingClientRect()),H._avoidView=Z),H.setX(h),H.setY(D),H.isVisible()!==!0&&(H.fireViewEvent({kind:"beforeShow",nativeEvent:$,source:H}),H.setVisible(!0),H.fireViewEvent({kind:"afterShow",nativeEvent:$,source:H}),H.$210u(H.$131u));for(var u in H.$60u){var v=H.$60u[u];v._scrollTop=0}var e=H.getView();e&&!e.parentNode&&(O.appendToScreen(e),H.refreshStyles())},hide:function(m){var j=this;j.isVisible()!==!1&&(j.fireViewEvent({kind:"beforeHide",item:m,source:j}),j.setVisible(!1),j._hoverMenuItem=y,j.$211u(j.$131u),j.fireViewEvent({kind:"afterHide",item:m,source:j})),xm(j.getView())},dispose:function(){var o=this,z=o.$226u,k=o._view;k&&(xm(k),z&&z.removeEventListener("contextmenu",o.$132u),o.$168u&&o.$168u.dispose(),o._view=o._items=o.$226u=o.$168u=o.$131u=o.$132u=y)},serializeProperty:function(K,N,Y){var D=this;if("items"===N){var G;if(K){var A=function(j){for(var J=0,O=j.length;O>J;J++){var o=j[J];delete o.iconDrawable,delete o._pid,delete o._id,o.items&&A(o.items)}};G=O.parse(O.stringify(K)),A(G)}return G}return Y.serializeProperty(K,N,D)},getSerializableProperties:function(){return{border:1,background:1,backgroundDrawable:1,cursor:1,padding:1,toolTipEnabled:1,zIndex:1,id:1,focusable:1,style:1,boxShadow:1,borderRadius:1,items:1,rowHeight:1,visibleFunc:1,gapLeft:1,gapRight:1,hoverRowBackground:1,hoverRowBackgroundDrawable:1,bottomMargin:1,shortcutEnabled:1,separatorColor:1,separatorSize:1,prefixWidth:1,prefixGapRight:1,iconWidth:1,iconGapRight:1,labelFont:1,labelColor:1,disabledLabelColor:1,hoverLabelColor:1,labelGapRight:1,labelLeftAligned:1,suffixGapRight:1,indicatorIcon:1,indicatorIconDrawable:1,indicatorWidth:1,indicatorColor:1,hoverIndicatorColor:1,radioOnIcon:1,radioOnIconDrawable:1,radioOffIcon:1,radioOffIconDrawable:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,scrollUpIndicator:1,scrollUpIndicatorDrawable:1,scrollDownIndicator:1,scrollDownIndicatorDrawable:1,disabledScrollUpIndicator:1,disabledScrollUpIndicatorDrawable:1,disabledScrollDownIndicator:1,disabledScrollDownIndicatorDrawable:1,scrollIndicatorHeight:1,childrenOffsetX:1,childrenOffsetY:1}}}),H.ContextMenuInteractor=function(a){this._view=a,a.getView().addEventListener("contextmenu",function(o){o.stopPropagation(),o.preventDefault()})},sf("ht.ui.ContextMenuInteractor",A,{ms_listener:1,getView:function(){return this._view.getView()},handle_mousedown:function(w){this.handle_touchstart(w)},handle_touchstart:function(S){var p=this,m=p._view,Q=m.indicatorHitTest(S);if(Q){var C=Q.indicator,y=Q.canvas;"up"===C?(p.$355u=setTimeout(function(){p.$356u=setInterval(function(){var e=y._scrollTop||0;e+=8,e>0&&(e=0),-e+y._contentHeight>y.$188u&&(e=-(y.$188u-y._contentHeight)),y._scrollTop=e,m.iv()},80)},500),sr(p,S)):"down"===C&&(p.$355u=setTimeout(function(){p.$356u=setInterval(function(){var z=y._scrollTop||0;z-=8,z>0&&(z=0),-z+y._contentHeight>y.$188u&&(z=-(y.$188u-y._contentHeight)),y._scrollTop=z,m.iv()},80)},500),sr(p,S))}else p.$58u=Uo(S),il&&p.handle_mousemove(S)},handleWindowMouseUp:function(x){this.handleWindowTouchEnd(x)},handleWindowTouchEnd:function(O){var H=this,t=H._view,f=t.indicatorHitTest(O);if(f&&H.$356u==y){var N=f.indicator,M=f.canvas;if("up"===N){var B=M._scrollTop||0;B+=8,B>0&&(B=0),-B+M._contentHeight>M.$188u&&(B=-(M.$188u-M._contentHeight)),M._scrollTop=B,t.iv()}else if("down"===N&&H.$356u==y){var B=M._scrollTop||0;B-=8,B>0&&(B=0),-B+M._contentHeight>M.$188u&&(B=-(M.$188u-M._contentHeight)),M._scrollTop=B,t.iv(),sr(H,O)}}clearTimeout(H.$355u),clearInterval(H.$356u),delete H.$355u,delete H.$356u},handle_mouseup:function(t){this.handle_touchend(t)},handle_touchend:function(f){var k=this,S=k._view,R=k.$58u;if(R){var V=Uo(f),U=fl(R,V);if(qh>U){var j=S.lp(f),M=S.getMenuItemAt(j);if(M){if(S.isItemDisabled(M))return;S.selectItem(M),S.clickItem(M,f,j.dom instanceof HTMLCanvasElement||j.dom.$41u?!1:!0)}}}},handle_wheel:function(W){W.preventDefault();var N=this,K=N._view,X=K.lp(W);if(X){var n=X.canvas;if(n._scrollFlag){var Q=W.deltaY,u=n._scrollTop||0;u-=Q,u>0&&(u=0),-u+n._contentHeight>n.$188u&&(u=-(n.$188u-n._contentHeight)),n._scrollTop=u,K.iv()}}},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handle_mousemove:function(z){var F=this._view;if(F.isVisible()){var J=F.getMenuItemAt(z);if(!J||J&&F.isItemDisabled(J)){var n=Nl(z);n.$59u!==y&&(J=F._itemsMap[n.$59u])}F.setHoverMenuItem(J)}},handle_touchmove:function(){},handle_mouseout:function(W){var z=this._view;if(z.isVisible()){var I,a=z.lp(W),H=a.canvas;H.$59u!==y&&(I=z._itemsMap[H.$59u]),I&&z.isItemDisabled(I)&&(I=y),z.setHoverMenuItem(I)}},handle_keydown:function(j){var r=this._view;Ih(j)&&(self.hideOnEvent?self.hideOnEvent({kind:"keyboardEvent",event:j})&&r.hide():r.hide())},handleViewParentContextMenu:function(A){il&&(A=ck(A)),A.preventDefault(),this._view.show(A)},$337u:function(u){var N=this._view;N.hideOnEvent?N.hideOnEvent({kind:"mouseEvent",event:u})&&this._view.hide():this.getView().contains(Nl(u))||this._view.hide()}}),H.MenuButton=function(z){var h=this;h.setDropDownMenu(new H.ContextMenu),H.MenuButton.superClass.constructor.call(h),h.set(z)},sf("ht.ui.MenuButton",H.Button,{ui_ac:["drawable:dropDownIcon","drawable:hoverDropDownIcon","drawable:activeDropDownIcon","drawable:disabledDropDownIcon","dropDownIconWidth","dropDownIconHeight","dropDownIconTextGap","items"],__dropDownIcon:"ui_menubutton_dropdown",__hoverDropDownIcon:"ui_menubutton_dropdown",__activeDropDownIcon:"ui_menubutton_dropdown",__dropDownIconWidth:16,__dropDownIconHeight:16,__dropDownIconTextGap:10,_preferredSizeProps:Nf(Fb(H.Button.prototype._preferredSizeProps),{dropDownIcon:!0,hoverDropDownIcon:!0,activeDropDownIcon:!0,disabledDropDownIcon:!0,dropDownIconDrawable:!0,hoverDropDownIconDrawable:!0,activeDropDownIconDrawable:!0,disabledDropDownIconDrawable:!0,dropDownIconWidth:!0,dropDownIconHeight:!0,dropDownIconTextGap:!0}),setDropDownMenu:function(Z){var i=this;if(i.setPropertyValue("dropDownMenu",Z),Z){var c=Z.getSerializableProperties;Z.getSerializableProperties=function(){var O=c.call(this);return delete O.items,O},Z.getStyleParent=function(){return i},Z.setStyle("button_dropDown"),Z.hideOnEvent=function(A){if("mouseEvent"===A.kind){var r=A.event;if(!Z.getView().contains(Nl(r))&&!i.getView().contains(Nl(r)))return i.close(),i.setState(th),!1;if(i.getView().contains(Nl(r)))return!1}else if("action"===A.kind||"keyboardEvent"===A.kind)return i.close(),i.setState(th),!1},Z.addViewListener(function(s){"action"===s.kind&&i.fireViewEvent({kind:"action",item:s.item,nativeEvent:s.nativeEvent,source:i})})}},getDropDownMenu:function(){return this._dropDownMenu},figurePreferredSize:function(){var d=this,x=d.getDropDownIconDrawable(),w=d.getDropDownIconWidth(),m=d.getDropDownIconHeight(),f=d.getDropDownIconTextGap(),P=H.MenuButton.superClass.figurePreferredSize.call(d);return x&&(P.width+=f+w,P.height=s(P.height,m)),P},getInteractorClasses:function(){return[H.MenuButtonInteractor]},closePopup:function(){H.MenuButton.superClass.closePopup.call(this),this.setState(th),this.close()},getCurrentDropDownIconDrawable:function($){var h=this,f=h.isDisabled(),j=h.getDropDownIconDrawable();return f?h.getDisabledDropDownIconDrawable()||j:($||($=h.getState()),$===th?j:$===gm?h.getHoverDropDownIconDrawable()||j:$===yr?h.getActiveDropDownIconDrawable()||j:void 0)},drawDropDownIcon:function(H,v,h,U,Q){H&&H.draw(v,h,U,Q,y,this)},open:function(){this.isOpened()||(this._opened=!0,this.setState(yr),this.iv())},toggle:function(){var X=this;X.isOpened()?X.close():X.open()},isOpened:function(){return this._opened},close:function(){this.isOpened()&&(this._opened=!1,this.setState(th),this.iv())},validateImpl:function(g,B,K,F){var O,W,w=this,t=w.getCurrentDropDownIconDrawable();t?(O=w.getDropDownIconWidth(),W=w.getDropDownIconHeight(),w._rightGap=O+w.getDropDownIconTextGap()):w._rightGap=0,H.MenuButton.superClass.validateImpl.call(w,g,B,K,F),t&&w.drawDropDownIcon(t,g+K-O,B+(F-W)/2,O,W);var r=w._dropDownMenu;if(w._opened){if(!r.isInDOM()){var D=hi(),Y=w._view.getBoundingClientRect();r.setItems(w.getItems()),r.ivm();var b=Y.left+D.left,y=Y.top+Y.height+D.top;r.show(b,y,Y),r.validate()}}else r.isInDOM()&&r.hide()},serializeProperty:H.ContextMenu.prototype.serializeProperty,getSerializableProperties:function(){var J=H.MenuButton.superClass.getSerializableProperties.call(this);return Nf(J,{dropDownIcon:!0,hoverDropDownIcon:!0,activeDropDownIcon:!0,disabledDropDownIcon:!0,dropDownIconDrawable:!0,hoverDropDownIconDrawable:!0,activeDropDownIconDrawable:!0,disabledDropDownIconDrawable:!0,dropDownIconTextGap:!0,dropDownIconWidth:!0,dropDownIconHeight:!0,items:!0,dropDownMenu:!0})}}),H.MenuButtonInteractor=function(t){var l=this;H.MenuButtonInteractor.superClass.constructor.call(l,t)},sf("ht.ui.MenuButtonInteractor",H.Interactor,{handle_mousedown:function(R){this.handle_touchstart(R)},clearTouchState:function(){var U=this,X=U.getComponent();X.setState(th),X.close(),U.$47u=y},handle_touchstart:function(T){qd(T);var h=this,u=h.getComponent();!u.isDisabled()&&u.hitTest(T)&&(u.requestFocus(),u.setState(yr),h.$47u=!0,sr(h,T),h.addToTouchScrollClearQuene(T))},handleWindowMouseUp:function(X){this.handleWindowTouchEnd(X)},handleWindowTouchEnd:function(){var d=this;d.$47u=y},handle_mouseup:function(r){this.handle_touchend(r)},handle_touchend:function(A){var g=this,I=g.getComponent();g.$47u&&(I.toggle(),I.isOpened()||(il?I.setState(th):I.setState(gm)),I.fireViewEvent({kind:"click",nativeEvent:A,source:I,target:I}))},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handle_mousemove:function(f){var W=this,x=W.getComponent();x.isDisabled()||x.getState()===yr||(x.hitTest(ck(f))?pk()||x.setState(gm):x.setState(th))},handle_touchmove:function(){},handle_mouseleave:function(){var e=this,W=e.getComponent();W.isDisabled()||W.getState()===yr&&W.isOpened()||W.setState(th)}}),H.ToggleButton=function(p){H.ToggleButton.superClass.constructor.call(this,p)
},sf("ht.ui.ToggleButton",H.Button,{ui_ac:["selected","drawable:selectIcon","drawable:selectHoverIcon","drawable:selectActiveIcon","drawable:selectDisabledIcon","drawable:selectBackground","drawable:selectHoverBackground","drawable:selectActiveBackground","drawable:selectDisabledBackground","selectTextColor","selectHoverTextColor","selectActiveTextColor","selectDisabledTextColor","selectBorder","selectHoverBorder","selectActiveBorder","selectDisabledBorder","value"],_preferredSizeProps:Nf(Fb(H.Button.prototype._preferredSizeProps),{selectIcon:!0,selectHoverIcon:!0,selectActiveIcon:!0}),_formDataValueProps:{selected:!0,radios:!0,value:!0},ms_ac:["radios"],__textColor:M.textColor,__hoverTextColor:M.textColor,__activeTextColor:M.textColor,__selectTextColor:M.textColor,__border:C,__disabledBorder:C,__background:["ht.ui.drawable.ImageDrawable","ui_toggleOff","fill"],__hoverBackground:["ht.ui.drawable.ImageDrawable","ui_hoverToggleOff","fill"],__activeBackground:["ht.ui.drawable.ImageDrawable","ui_activeToggleOff","fill"],__disabledBackground:["ht.ui.drawable.ImageDrawable","ui_toggleOffDisabled","fill"],__selectBackground:["ht.ui.drawable.ImageDrawable","ui_toggleOn","fill"],__selectDisabledBackground:["ht.ui.drawable.ImageDrawable","ui_toggleOnDisabled","fill"],__selectHoverBackground:["ht.ui.drawable.ImageDrawable","ui_hoverToggleOn","fill"],__selectActiveBackground:["ht.ui.drawable.ImageDrawable","ui_activeToggleOn","fill"],figurePreferredSize:function(){var S=this,V=S.getBackground(),L=S.getIcon(),M=S.getText();return!V||L||M?H.ToggleButton.superClass.figurePreferredSize.call(this):{width:34,height:20}},figureMinSize:function(){var k=this,q=k.getBackground(),e=k.getIcon(),S=k.getText();return!q||e||S?H.ToggleButton.superClass.figureMinSize.call(this):{width:34,height:20}},getInteractorClasses:function(){return[H.ToggleButtonInteractor]},getCurrentTextColor:function(I){var L=this,q=L.isSelected(),N=L.isDisabled(),R=L.getTextColor(),M=L.getSelectTextColor();if(I||(I=L.getState()),q){if(N)return L.getSelectDisabledTextColor()||M;if(I===th)return M;if(I===gm)return L.getSelectHoverTextColor()||M;if(I===yr)return L.getSelectActiveTextColor()||M}else{if(N)return L.getDisabledTextColor()||R;if(I===th)return R;if(I===gm)return L.getHoverTextColor()||R;if(I===yr)return L.getActiveTextColor()||R}},getCurrentBorder:function(G){var h=this,K=h.isSelected(),Z=h.isDisabled(),w=h.getBorder(),c=h.getSelectBorder();if(c===C&&(c=w),G||(G=h.getState()),K){if(Z)return h.getSelectDisabledBorder()||c;if(G===th)return c;if(G===gm)return h.getSelectHoverBorder()||c;if(G===yr)return h.getSelectActiveBorder()||c}else{if(Z)return h.getDisabledBorder()||w;if(G===th)return w;if(G===gm)return h.getHoverBorder()||w;if(G===yr)return h.getActiveBorder()||w}},setFormDataValue:function(z){var $=this,S=$.getValue();Jr(z)?z.indexOf(S)>=0?$.setSelected(!0):$.setSelected(!1):S!=y?S===z?$.setSelected(!0):$.setSelected(!1):$.setSelected(!!z)},getFormDataValue:function(){var P=this,R=P.getValue();return P.isSelected()?R!=y?R:!0:R!=y?C:!1},setRadios:function(y){var D=this,d=D.getRadios();d!==y&&(D.setPropertyValue("radios",y),d&&d.remove(D),y&&y.add(D))},getCurrentBackgroundDrawable:function(Z){var B=this,z=B.isSelected(),h=B.isDisabled(),x=B.getBackgroundDrawable(),L=B.getSelectBackgroundDrawable();if(Z||(Z=B.getState()),z){if(h)return B.getSelectDisabledBackgroundDrawable()||L;if(Z===th)return L;if(Z===gm)return B.getSelectHoverBackgroundDrawable()||L;if(Z===yr)return B.getSelectActiveBackgroundDrawable()||L}else{if(h)return B.getDisabledBackgroundDrawable()||x;if(Z===th)return x;if(Z===gm)return B.getHoverBackgroundDrawable()||x;if(Z===yr)return B.getActiveBackgroundDrawable()||x}},getCurrentIconDrawable:function(k){var f=this,n=f.isSelected(),U=f.isDisabled(),p=f.getIconDrawable(),g=f.getSelectIconDrawable();if(k||(k=f.getState()),n){if(U)return f.getSelectDisabledIconDrawable()||g;if(k===th)return g;if(k===gm)return f.getSelectHoverIconDrawable()||g;if(k===yr)return f.getSelectActiveIconDrawable()||g}else{if(U)return f.getDisabledIconDrawable()||p;if(k===th)return p;if(k===gm)return f.getHoverIconDrawable()||p;if(k===yr)return f.getActiveIconDrawable()||p}},getSerializableProperties:function(){var j=H.ToggleButton.superClass.getSerializableProperties.call(this);return Nf(j,{selected:1,selectIcon:1,selectIconDrawable:1,selectHoverIcon:1,selectHoverIconDrawable:1,selectActiveIcon:1,selectActiveIconDrawable:1,selectBackground:1,selectBackgroundDrawable:1,selectHoverBackground:1,selectHoverBackgroundDrawable:1,selectActiveBackground:1,selectActiveBackgroundDrawable:1,selectTextColor:1,selectHoverTextColor:1,selectActiveTextColor:1,selectDisabledTextColor:1,selectBorder:1,selectHoverBorder:1,selectActiveBorder:1,selectDisabledBorder:1,radios:1,selectDisabledIcon:1,selectDisabledIconDrawable:1,selectDisabledBackground:1,selectDisabledBackgroundDrawable:1,value:1})}}),H.ToggleButtonInteractor=function(l){H.ToggleButtonInteractor.superClass.constructor.call(this,l)},sf("ht.ui.ToggleButtonInteractor",H.ButtonInteractor,{handle_touchend:function(v){var S=this,$=S.getComponent();S.$47u&&($.setSelected(!$.isSelected()),$.setState(gm),$.validate(),$.fireViewEvent({kind:"click",nativeEvent:v,target:$,source:$}))}}),H.CheckBox=function(G){H.CheckBox.superClass.constructor.call(this,G)},sf("ht.ui.CheckBox",H.ToggleButton,{_formDataValueProps:{value:!0,selected:!0,radios:!0},__background:C,__hoverBackground:C,__activeBackground:C,__disabledBackground:C,__selectBackground:C,__selectDisabledBackground:C,__selectHoverBackground:C,__selectActiveBackground:C,__textColor:M.textColor,__hoverTextColor:M.textColor,__activeTextColor:M.textColor,__selectTextColor:M.textColor,__icon:"ui_"+G,__hoverIcon:"ui_hoverUncheck",__activeIcon:"ui_activeUncheck",__selectIcon:"ui_"+V,__selectHoverIcon:"ui_hoverCheck",__selectActiveIcon:"ui_activeCheck",__selectDisabledIcon:"ui_checkDisabled",__disabledIcon:"ui_uncheckDisabled",__padding:2,getSerializableProperties:function(){var M=H.CheckBox.superClass.getSerializableProperties.call(this);return Nf(M,{value:1})}}),H.RadioButton=function(p){H.RadioButton.superClass.constructor.call(this),this.set(p)},sf("ht.ui.RadioButton",H.ToggleButton,{_formDataValueProps:{value:!0,selected:!0,radios:!0},__background:C,__hoverBackground:C,__activeBackground:C,__disabledBackground:C,__selectBackground:C,__selectDisabledBackground:C,__selectHoverBackground:C,__selectActiveBackground:C,__textColor:M.textColor,__hoverTextColor:M.textColor,__activeTextColor:M.textColor,__selectTextColor:M.textColor,__icon:"ui_"+q,__hoverIcon:"ui_hoverRadioOff",__activeIcon:"ui_activeRadioOff",__selectIcon:"ui_"+E,__selectHoverIcon:"ui_hoverRadioOn",__selectActiveIcon:"ui_activeRadioOn",__selectDisabledIcon:"ui_radioOnDisabled",__disabledIcon:"ui_radioOffDisabled",__padding:2,getSerializableProperties:function(){var K=H.RadioButton.superClass.getSerializableProperties.call(this);return Nf(K,{value:1})}}),z.ui.Radios=function(){var s=this;s.$158u=[]},sf("ht.ui.Radios",A,{ms_ac:["emptiable"],ms_fire:!0,ui_monitor:!0,$171u:function(L){if(!this._sync){var Y=this,C=L.source,R=L.property,h=Y.$158u;if("selected"===R){for(var z,X=0;X<h.length;X++){var C=h[X];if(C.isSelected()){z=C;break}}var T=Y.$83u;z!=T&&(Y.$83u=z,Y.firePropertyChange("selectedButton",T,z))}}},getSelectedButton:function(){return this.$83u},getButtons:function(){return this.$158u},getSelectedValue:function(){var u=this,z=u.getSelectedButton();return z?z.getValue():void 0},setSelectedValue:function(O){for(var i=this,m=i.getButtons(),F=0,D=m.length;D>F;F++){var S=m[F];if(S.getValue()===O){S.setSelected(!0);break}}},add:function(r){var L=this,m=L.$158u;if(r.setRadios(L),r&&m.indexOf(r)<0){m.push(r),r.addPropertyChangeListener(L.$171u,L);var Y=r.setSelected;r._oldSetSelected=Y,r.setSelected=function(W){if(L._sync)Y.call(r,W);else{var T=L.$158u;W?(T.forEach(function(U){U!==r&&(L._sync=!0,U.setSelected(!1),delete L._sync)}),Y.call(r,!0)):L.isEmptiable()&&Y.call(r,!1)}}}},remove:function(U){var a=this,e=a.$158u;if(U&&e.indexOf(U)>=0){e.splice(e.indexOf(U),1),U.removePropertyChangeListener(a.$171u,a),U.setSelected=U._oldSetSelected,delete U._oldSetSelected;var l=a.$83u;U==l&&(delete a.$83u,a.firePropertyChange("selectedButton",l,y))}},clear:function(){var O=this,D=O.$158u;D.forEach(function(e){e.removePropertyChangeListener(O.$171u,O)}),D.length=0,O.$83u=y},getSerializableProperties:function(){return{"is:emptiable":!0}}}),H.TextField=function(A){var E=this;H.TextField.superClass.constructor.call(E),E.set(A),E.on("d:focusin",function(){var w=E.getDisplayFunc();w&&(E.getValueObject?E.setInputValue(E.getValueObject()):E.setInputValue(E.getValue()))},C,C,C,!0),E.on("d:focusout",function(){var w=E.getDisplayFunc();w&&(E.getValueObject?E.setInputValue(E.getValueObject()):E.setInputValue(E.getValue()))},C,C,C,!0)},sf("ht.ui.TextField",df,{ui_ac:["drawable:icon","drawable:hoverIcon","drawable:activeIcon","iconWidth","iconHeight","iconTextGap","iconPosition",B,"font","maskRe","placeholder","is:readOnly","maxLength","is:instant","type","displayFunc"],ms_ac:["iconState","value"],_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{font:!0,iconWidth:!0,iconHeight:!0,iconTextGap:!0,icon:!0,iconDrawable:!0}),_formDataValueProps:{value:!0},_iconState:th,__font:M.font,__iconWidth:16,__iconTextGap:4,__iconPosition:"left",__background:M.inputBackground,__redrawOnFocus:!0,__border:new H.border.FocusLineBorder(1,M.borderColor,M.baseColor),__borderRadius:0,__padding:[2,6,2,6],__color:M.textColor,__readOnly:!1,requestFocus:function(){this.isFocusable()&&(this._input.focus(),this.iv())},initView:function(){var A=this;H.TextField.superClass.initView.call(A);var n=A.initInput();A.getContentDiv().appendChild(n);var T=A._view;T.removeAttribute("tabIndex"),A.$198u.removeAttribute("tabIndex")},isSelfViewEvent:function(J){var p=this,t=pf.superClass.isSelfViewEvent.call(p,J);if(!t){var c=Nl(J);c===p._input&&(t=!0)}return t},setValue:function(j,g){var u=this;g&&u.isInstant()||u.setInputValue(j),u.setPropertyValue("value",j)},setFocusable:function(){},setInputValue:function(l){var J=this,R=J._input;if("file"!==J.getType()){var F=J.getDisplayFunc();R.value=!F||J.getView().contains(u.activeElement)&&!J.isReadOnly()?l!=y?l:"":F.call(J,l)}else l==y&&(R.value=y)},initInput:function(){var y=this,P=y._input=y.createInputDOM();return P.style.position="absolute",P.style.boxSizing="border-box",P.style.padding="0",P.style.border="0",P.style.resize=Kp,P.style.outline=Kp,P.setAttribute("spellcheck","false"),P.style.backgroundColor="rgba(0,0,0,0)",P},getInput:function(){return this._input},setFormDataValue:function(h){this.setValue(h)},stopFormEditing:function(){this.getInput().blur()},getFormDataValue:function(){var V=this,I=V.getValue(),p=V.getType();return"file"===p?V.getInput().files:"number"===p?I!=y&&""!==I?parseFloat(I):I:I},getCurrentIconDrawable:function(Q){var o=this,j=o.getIconDrawable();return Q||(Q=o.getIconState()),Q===th?j:Q===gm?o.getHoverIconDrawable()||j:Q===yr?o.getActiveIconDrawable()||j:void 0},createInputDOM:function(){return u.createElement("input")},onPropertyChanged:function(U){var m=this;H.TextField.superClass.onPropertyChanged.call(m,U)},getInteractorClasses:function(){return[H.TextFieldInteractor]},figureTextSize:function(){var u=this,o=u.getFont();return go(o,"AaBbFfgG$PER?#Qixy^O")},getTextSize:function(){return this.figureTextSize()},getToolTip:function(){return this.getValue()},figurePreferredSize:function(){var o=this,N=o.getTextSize(),J=o.getIconDrawable(),a=o.getIconHeight()||16,S=(o.getIconTextGap(),o.getBorderLeft()),F=o.getBorderRight(),D=o.getBorderTop(),h=o.getBorderBottom(),W=o.getPaddingTop(),Q=o.getPaddingBottom(),C=o.getPaddingLeft(),$=o.getPaddingRight();return N={width:N.width,height:N.height},J&&(N.height=s(a,N.height)),N.width=i(N.width+S+F+C+$),N.height=i(N.height+D+h+W+Q),N},drawIcon:function(S,G,e,A,T){S.draw(G,e,A,T,y,this)},setOnIcon:function(n){var e=this,k=e._onIcon;n!==k&&(e._onIcon=n,e.iv())},getCursor:function(){var Y=this,_=Y.getPropertyValue("cursor"),M=Y._onIcon;return M?"pointer":_},iconHitTest:function(Z){var F=this,R=Z,c=F.isReadOnly(),m=F.$177u;return m&&"entire"!==c?(Z instanceof Event&&(R=F.lp(Z)),wp(m,R)):void 0},validateImpl:function(s,R,$,r){var w=this,B=w._input,v=w.getCurrentIconDrawable(),L=w.getMaxLength(),D=w.getPlaceholder();w.getValue(),L!=y?B.setAttribute("maxlength",L):B.removeAttribute("maxlength"),D?B.setAttribute("placeholder",D):B.removeAttribute("placeholder"),w.isReadOnly()?B.setAttribute("readonly","readonly"):B.removeAttribute("readonly"),w.getType()&&(B.type=w.getType()),B.style.font=w.getFont(),B.style.color=w.getColor();var f=$,m=r,I=w.getCursor();if(I==y&&(I=""),il||(B.style.cursor=I),w.$177u=y,v){var b,_,p=w.getPaddingTop(),H=w.getPaddingBottom(),l=w.getIconWidth(),K=w.getIconHeight(),a=K,A=w.getIconTextGap(),O=w.getIconPosition();"number"!=typeof K&&(K=r+p+H),O===dn?(b=s,B.style.left=A+l+vl,f-=A+l):(b=s+$-l,B.style.right=A+l+vl,f-=A+l),_="number"!=typeof a?R-p:R+(r-K)/2,w.$177u={x:b-s,y:_-R,width:l-1,height:K-1},w.drawIcon(v,b,_,l,K)}else B.style.left="",B.style.right="";B.style.width=f+vl,B.style.height=m+vl},getSerializableProperties:function(){var u=H.TextField.superClass.getSerializableProperties.call(this);return Nf(u,{icon:1,iconDrawable:1,hoverIcon:1,hoverIconDrawable:1,activeIcon:1,activeIconDrawable:1,iconWidth:1,iconHeight:1,iconTextGap:1,iconPosition:1,color:1,font:1,maskRe:1,placeholder:1,"is:readOnly":1,maxLength:1,"is:instant":1,type:1,value:1,displayFunc:1})}}),H.TextFieldInteractor=function(J){var h=this;h.$91u=J;var b=J.getInput();b.addEventListener("change",function(e){h.changeHandler(e)}),b.addEventListener("blur",function(){h._compositionstart=!1})},sf("ht.ui.TextFieldInteractor",A,{ms_listener:1,re_uchars:/([\uD800-\uDBFF][\uDC00-\uDFFF]|[\S\s])/g,addToTouchScrollClearQuene:H.Interactor.prototype.addToTouchScrollClearQuene,getView:function(){return this.$91u._view},getComp:function(){return this.$91u},toArray:function(H){return H.match(this.re_uchars)||[]},handle_compositionstart:function(){var D=this;D._compositionstart=!0},handle_compositionend:function(N){var J=this;J._compositionstart=!1,J.handle_input(N)},changeHandler:function(){var E=this,e=E.$91u,J=e.getMaskRe(),R=e.getInput();e.setValue(E.getFilteredValue(R.value,J))},getFilteredValue:function(O,w){if(!w)return O;for(var d=this.toArray(O),z=d.length;z--;)w.test(d[z])||d.splice(z,1);return d.join("")},handle_input:function(){var R=this,S=R.$91u,v=S._input,K=S.getMaskRe(),k=S.isInstant(),c=v.value;R._compositionstart||(c=R.getFilteredValue(c,K),"file"!==S.getType()&&(v.value=c),k&&S.setValue(c,!0))},handle_mousedown:function(y){db(y)&&this.handle_touchstart(y)},clearTouchState:function(){var n=this,o=n.getComp();o.setIconState(th),n.$47u=y},handle_touchstart:function(b){var G=this,r=G.getComp();r.iconHitTest(b)&&(qd(b),G.$47u=!0,r.setIconState(yr),sr(G,b),G.addToTouchScrollClearQuene(b))},handle_mouseup:function(){},handle_touchend:function(){},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handleWindowMouseUp:function(P){this.handleWindowTouchEnd(P)},handleWindowTouchEnd:function(p){var Y=this;Y.$47u=y;var w=Y.getComp();w.iconHitTest(p)?(il?w.setIconState(th):w.setIconState(gm),w.fireViewEvent({kind:"clickIcon",nativeEvent:p,source:w,target:w})):w.setIconState(th)},handle_mouseleave:function(){var k=this,p=k.getComp();k.$47u||(p.setIconState(th),p.setOnIcon(!1))},handle_mousemove:function(X){var d=this,P=d.getComp();P.iconHitTest(X)?P.setOnIcon(!0):P.setOnIcon(!1),d.$47u?P.setIconState(yr):P.iconHitTest(X)?pk()||P.setIconState(gm):P.setIconState(th)},handle_touchmove:function(){}}),A.defineProperties(H.TextFieldInteractor.prototype,{disabled:{get:function(){return this.$91u.isDisabled()}}}),H.InputGroup=function(Y){var m=this;H.InputGroup.superClass.constructor.call(m);var o=new H.TextField;o.__layoutParams={width:"match_parent",height:"match_parent"},m.setInput(o),m.set(Y)},sf("ht.ui.InputGroup",H.HBoxLayout,{_formDataValueProps:{value:!0},__scrollBarMode:"off",setValue:function(I){var A=this,s=A.getValue();s!==I&&(A.setPropertyValue("value",I),A._inputInstance&&A._inputInstance.setValue(I))},getValue:function(){var A=this;return A._value},setPrefix:function(b){var n=this;b instanceof H.View?n._prefixComp=b:null!=b?(n._prefixComp=new H.Label({text:b}),n._prefixComp.__padding=[2,8,2,8]):n._prefixComp=y,n._prefixComp&&(n._prefixComp.__background=M.hoverBackground,n._prefixComp.__layoutParams={width:"wrap_content",height:"match_parent"},n._prefixComp.__border=new z.ui.border.IndividualLineBorder(1,0,1,1,M.borderColor)),n.invalidateComps()},getPrefixView:function(){return this._prefixComp},getSuffixView:function(){return this._suffixComp},setSuffix:function(t){var P=this;t instanceof H.View?P._suffixComp=t:null!=t?(P._suffixComp=new H.Label({text:t}),P._suffixComp.__padding=[2,8,2,8]):P._suffixComp=y,P._suffixComp&&(P._suffixComp.__background=M.hoverBackground,P._suffixComp.__layoutParams={width:"wrap_content",height:"match_parent"},P._suffixComp.__border=new z.ui.border.IndividualLineBorder(1,1,1,0,M.borderColor)),P.invalidateComps()},getInputView:function(){return this._inputInstance},handleInputPropertyChange:function(g){var X=this,z=g.source;z.getFormDataProperties()[g.property]&&X.setValue(z.getFormDataValue())},setInput:function(L){var F=this,$=F._inputInstance;$&&$.removePropertyChangeListener(F.handleInputPropertyChange,F),F._inputInstance=L,L.getFormDataProperties&&L.addPropertyChangeListener(F.handleInputPropertyChange,F),L.getLayoutParams()||(L.__layoutParams={width:"match_parent",height:"match_parent"}),F.invalidateComps()},invalidateComps:function(){var b=this;b._invalidateComps||(b._invalidateComps=!0),b.iv(),b.validate()},validateComps:function(){var a=this,q=a._prefixComp,F=a._suffixComp,K=a._inputInstance;a.clear(),q&&a.addView(q),K&&a.addView(K),F&&a.addView(F)},validate:function(){var f=this;f._invalidateComps&&(f.validateComps(),f._invalidateComps=null),H.InputGroup.superClass.validate.call(f)},setFormDataValue:function(C){this.setValue(C)},getFormDataValue:function(){return this.getValue()},getSerializableProperties:function(){var w=H.InputGroup.superClass.getSerializableProperties.call(this);return Nf(w,{value:!0})}}),H.NumberInput=function(I){var a=this;H.NumberInput.superClass.constructor.call(a),a.set(I)},sf("ht.ui.NumberInput",H.TextField,{ui_ac:["drawable:increaseIcon","drawable:decreaseIcon","drawable:hoverIncreaseIcon","drawable:hoverDecreaseIcon","drawable:activeIncreaseIcon","drawable:activeDecreaseIcon","step","max","min","iconVisible"],ms_ac:["currentIcon","currentIconState"],__step:1,__increaseIcon:"ui_increaseIcon",__decreaseIcon:"ui_decreaseIcon",__hoverIncreaseIcon:"ui_hoverIncreaseIcon",__hoverDecreaseIcon:"ui_hoverDecreaseIcon",__activeIncreaseIcon:"ui_activeIncreaseIcon",__activeDecreaseIcon:"ui_activeDecreaseIcon",__iconPosition:"right",__maskRe:/[\d\-\.]/,__iconVisible:!0,getInteractorClasses:function(){return H.NumberInput.superClass.getInteractorClasses.call(this).concat([H.NumberInputInteractor])},getCursor:function(){var K=this,t=K.getPropertyValue("cursor");return K.getCurrentIcon()?"pointer":t},getCurrentIconDrawable:function(){return this.isIconVisible()?{}:null},iconHitTest:function(){return!1},increaseIconHitTest:function(S){var l=this,$=S,m=l.isReadOnly(),j=l.$357u;return l.isIconVisible()&&j&&"entire"!==m?(S instanceof Event&&($=l.lp(S)),wp(j,$)):void 0},decreaseIconHitTest:function(d){var B=this,m=d,U=B.isReadOnly(),X=B.$358u;return B.isIconVisible()&&X&&"entire"!==U?(d instanceof Event&&(m=B.lp(d)),wp(X,m)):void 0},setValue:function(z){var L=this,B=L.getMax(),Z=L.getMin(),W=z,d=0;if("number"==typeof z&&(z+=""),null!=z&&z.indexOf(".")>=0&&(d=z.length-z.indexOf(".")-1),z=parseFloat(z),B!=y&&z>parseFloat(B)&&(z=B),Z!=y&&z<parseFloat(Z)&&(z=Z),isNaN(z)&&(z=""),W&&"."===W[W.length-1]&&(z+="."),d>0){z+="",z.indexOf(".")>=0?d-=z.length-z.indexOf(".")-1:z+=".";for(var A=0;d>A;A++)z+="0"}H.NumberInput.superClass.setValue.call(L,z)},handleDecrease:function(){if(!this.isReadOnly()){var p=this,C=p.isInstant(),N=p.getInput().value,B=p.getStep();isNaN(N)&&(N=0),N=parseFloat(_b(N,B)),C?p.setValue(N):p.getInput().value=N}},handleIncrease:function(){if(!this.isReadOnly()){var y=this,X=y.isInstant(),H=y.getInput().value,$=y.getStep();isNaN(H)&&(H=0),H=parseFloat(sj(H,$)),X?y.setValue(H):y.getInput().value=H}},getValue:function(){var b=this.getPropertyValue("value");return b!=y&&""!=b?parseFloat(b):b},getCurrentIncreaseIconDrawable:function(){var r=this,C=r.getCurrentIcon(),m=r.getIncreaseIconDrawable();if("increase"===C){var k=r.getCurrentIconState();return k===gm?r.getHoverIncreaseIconDrawable()||m:k===yr?r.getActiveIncreaseIconDrawable()||m:m}return m},getCurrentDecreaseIconDrawable:function(){var i=this,f=i.getCurrentIcon(),c=i.getDecreaseIconDrawable();if("decrease"===f){var l=i.getCurrentIconState();return l===gm?i.getHoverDecreaseIconDrawable()||c:l===yr?i.getActiveDecreaseIconDrawable()||c:c}return c},drawIcon:function(q,g,D,t,e){var v=this,n=v.getCurrentIncreaseIconDrawable(),R=v.getCurrentDecreaseIconDrawable(),l=v.isIconVisible(),d=e/2;if(l){var F=v.getBorder(),E=0;F&&(E=F.isCSSBorder()?F.getLeft()+F.getRight():F.getRight()),g=v.getWidth()-t-E,v.$357u={x:g-v.getContentLeft(),y:D-v.getContentTop(),width:t,height:d},v.$358u={x:g-v.getContentLeft(),y:D+d-v.getContentTop(),width:t,height:d},n.draw(g,D,t,d,y,v),R.draw(g,D+d,t,d,y,v)}},getSerializableProperties:function(){var u=H.NumberInput.superClass.getSerializableProperties.call(this);return Nf(u,{increaseIcon:1,decreaseIcon:1,increaseIconDrawable:1,decreaseIconDrawable:1,hoverIncreaseIcon:1,hoverDecreaseIcon:1,hoverIncreaseIconDrawable:1,hoverDecreaseIconDrawable:1,activeIncreaseIcon:1,activeDecreaseIcon:1,activeIncreaseIconDrawable:1,activeDecreaseIconDrawable:1,step:1,min:1,max:1,iconVisible:!0})}}),H.NumberInputInteractor=function(i){var g=this;H.NumberInputInteractor.superClass.constructor.call(g,i)},sf("ht.ui.NumberInputInteractor",H.Interactor,{handle_mousedown:function(q){this.handle_touchstart(q)},clearTouchState:function(){var C=this,e=C.getComponent();C.$47u=y,e.setCurrentIcon(y),e.setCurrentIconState(th),clearTimeout(C.$355u),clearInterval(C.$356u),delete C.$355u,delete C.$356u},handle_touchstart:function(O){var j=this,G=j.getComponent();G.decreaseIconHitTest(O)?(qd(O),j.$47u=!0,G.setCurrentIcon("decrease"),G.setCurrentIconState(yr),j.addToTouchScrollClearQuene(O),sr(j,O),j.$355u=setTimeout(function(){j.$356u=setInterval(function(){G.handleDecrease()},80)},500)):G.increaseIconHitTest(O)&&(qd(O),j.$47u=!0,G.setCurrentIcon("increase"),G.setCurrentIconState(yr),j.addToTouchScrollClearQuene(O),sr(j,O),j.$355u=setTimeout(function(){j.$356u=setInterval(function(){G.handleIncrease()},80)},500))},handle_mouseup:function(){},handle_touchend:function(){},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handleWindowMouseUp:function(h){this.handleWindowTouchEnd(h)},handleWindowTouchEnd:function(u){var Y=this,A=Y.getComponent();Y.$47u=y,A.decreaseIconHitTest(u)?(il?A.setCurrentIconState(th):A.setCurrentIconState(gm),A.fireViewEvent({kind:"clickDecreaseIcon",nativeEvent:u,source:A,target:A}),Y.$356u==y&&A.handleDecrease()):A.increaseIconHitTest(u)?(A.setCurrentIcon("increase"),il?A.setCurrentIconState(th):A.setCurrentIconState(gm),A.fireViewEvent({kind:"clickIncreaseIcon",nativeEvent:u,source:A,target:A}),Y.$356u==y&&A.handleIncrease()):(A.setCurrentIconState(th),A.setCurrentIcon("")),A.isInstant()||A.setValue(parseFloat(A.getInput().value)),clearTimeout(Y.$355u),clearInterval(Y.$356u),delete Y.$355u,delete Y.$356u},handle_mousemove:function(P){var k=this,d=k.getComponent();k.$47u||pk()||(d.decreaseIconHitTest(P)?(d.setCurrentIcon("decrease"),d.setCurrentIconState(gm)):d.increaseIconHitTest(P)?(d.setCurrentIcon("increase"),d.setCurrentIconState(gm)):(d.setCurrentIcon(""),d.setCurrentIconState(th)))},handle_mouseleave:function(){var m=this,p=m.getComponent();m.$47u||(p.setCurrentIcon(""),p.setCurrentIconState(th))}}),H.TextArea=function(Y){H.TextArea.superClass.constructor.call(this),this.set(Y)},sf("ht.ui.TextArea",H.TextField,{ui_ac:["lineHeight","is:autoRefreshPreferredSize","resizeMode","drawable:resizeIcon","resizeIconWidth","resizeIconHeight"],__resizeIconWidth:12,__resizeIconHeight:12,__resizeIcon:"ui_textareaResize",__borderRadius:M.borderRadius,__border:new H.border.FocusLineBorder(1,M.borderColor,M.baseColor),_preferredSizeProps:Nf(Fb(H.TextField.prototype._preferredSizeProps),{value:!0}),getInteractorClasses:function(){return[H.TextAreaInteractor]},onPropertyChanged:function(M){var C=this;H.TextArea.superClass.onPropertyChanged.call(C,M),("resizeMode"===M.property||"resizeIcon"===M.property||"resizeIconWidth"===M.property||"resizeIconHeight"===M.property)&&C.setResizeCanvasStyle(C._resizeCanvas)},setResizeCanvasStyle:function(G){var c=this,Y=c.getResizeMode();if(!Y)return G.style.display="none",void 0;G.style.display="block","horizontal"===Y||"h"===Y?G.style.cursor="ew-resize":"vertical"===Y||"v"===Y?G.style.cursor="ns-resize":"both"==Y&&(G.style.cursor="nwse-resize"),G.style.right=0,G.style.bottom=0;var C=c.getResizeIconWidth(),t=c.getResizeIconHeight(),W=c._resizeCanvas;Yh(W,C,t);var d=c.getRootContext(W);d.clearRect(0,0,C,t);var b=c.getResizeIconDrawable();b&&b.draw(0,0,C,t,null,c,c._resizeCanvas)},initView:function(z){var k=this;H.TextArea.superClass.initView.call(k,z);var m=k._resizeCanvas=u.createElement("canvas");m.style.position="absolute",k.setResizeCanvasStyle(m),k._view.appendChild(m)},resizeHitTest:function(x){var m=Nl(x);return m===this._resizeCanvas?!0:!1},endResize:function(n,u){var V=this;V.setLayoutParams("width",n),V.setLayoutParams("height",u)},createInputDOM:function(){return u.createElement("textarea")},figureTextSize:function(){return{width:300,height:150}},validateImpl:function(j,Y,N,i){var T=this,u=T._input,$=T.getLineHeight();T.isAutoRefreshPreferredSize()?T.$120u!==N&&(T.checkPreferredSize("value"),T.$120u=N):T.$120u=C,H.TextArea.superClass.validateImpl.call(T,j,Y,N,i),u.style.lineHeight=$!=y?$+vl:""},getSerializableProperties:function(){var y=H.TextArea.superClass.getSerializableProperties.call(this);return Nf(y,{lineHeight:1,"is:autoRefreshPreferredSize":1,resizeMode:1,resizeIcon:1,resizeIconDrawable:1,resizeIconWidth:1,resizeIconHeight:1})}}),H.TextAreaInteractor=function(f){H.TextAreaInteractor.superClass.constructor.call(this,f)},sf("ht.ui.TextAreaInteractor",H.TextFieldInteractor,{handle_touchstart:function(A){var S=this,G=S.getComp();G.resizeHitTest(A)&&G.getResizeMode()?(qd(A),S._resizing=!0,S._resizingRawWidth=G.getWidth(),S._resizingRawHeight=G.getHeight(),S._resizingStartPoint=Hf(A),sr(S,A)):H.TextAreaInteractor.superClass.handle_touchstart.call(S,A)},handleWindowMouseMove:function(O){this.handleWindowTouchMove(O)},handleWindowTouchMove:function(h){var A=this,Q=A.getComp();if(A._resizing){var t=Q.getResizeMode(),i=Hf(h),O=A._resizingRawWidth,o=A._resizingRawHeight;if("h"===t||"horizontal"===t){var F=i.x-A._resizingStartPoint.x;O+=F}else if("v"===t||"vertical"===t){var S=i.y-A._resizingStartPoint.y;o+=S}else if("both"===t){var F=i.x-A._resizingStartPoint.x;O+=F;var S=i.y-A._resizingStartPoint.y;o+=S}Q.endResize(O,o)}},handleWindowTouchEnd:function(){var o=this;delete o._resizing,delete o._resizingRawWidth,delete o._resizingRawHeight,delete o._resizingStartPoint}}),H.Slider=function(Y){H.Slider.superClass.constructor.call(this),this.set(Y)},sf("ht.ui.Slider",df,{ui_ac:["drawable:bar","drawable:selectBar","barThickness","drawable:thumb","drawable:hoverThumb","drawable:activeThumb","thumbWidth","thumbHeight","min","max","step","value","orientation","is:instant"],ms_ac:["thumbState"],_formDataValueProps:{value:!0},_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{orientation:!0}),_thumbState:th,__barThickness:2,__thumbWidth:14,__thumbHeight:14,__step:1,__min:0,__max:100,__value:0,__orientation:"h",__bar:["ht.ui.drawable.SliderBarDrawable",M.barBackground,y,1],__selectBar:["ht.ui.drawable.SliderBarDrawable",M.baseColor,y,1],__thumb:"ui_slider_thumb",__hoverThumb:"ui_slider_hoverThumb",__activeThumb:"ui_slider_activeThumb",getInteractorClasses:function(){return[H.SliderInteractor]},setValue:function(h){this.setPropertyValue("value",this.adjustValue(h))},figurePreferredSize:function(){var O=this,E=O.getThumbWidth(),u=O.getThumbHeight(),Q=O.getBarThickness(),C=O.getOrientation(),I=O.getMax(),d=O.getMin(),H=0,P=0,q=O.getBorderLeft(),o=O.getBorderRight(),Z=O.getBorderTop(),$=O.getBorderBottom(),n=O.getPaddingTop(),S=O.getPaddingBottom(),a=O.getPaddingLeft(),M=O.getPaddingRight();return"h"===C||"horizontal"===C?(H=I-d,H+=a+q+M+o+E,P=n+Z+S+$+s(u,Q)):(P=I-d,P+=n+Z+S+$+u,H=a+q+M+o+s(E,Q)),{width:i(H),height:i(P)}},drawBar:function(i,J,k,l,e){i&&i.draw(J,k,l,e,y,this)},drawThumb:function(U,z,F,m,t){U&&U.draw(z,F,m,t,y,this)},drawSelectBar:function(S,b,I,O,D,_,Y,T,W){if(S){var h=this.getRootContext();h.save(),h.beginPath(),h.rect(_,Y,T,W),h.clip(),S.draw(b,I,O,D,y,this),h.restore()}},setFormDataValue:function(D){D==y&&(D=this.getMin()),this.setValue(D)},getFormDataValue:function(){return this.getValue()},getCurrentThumbDrawable:function(e){var Q=this,f=Q.getThumbDrawable();return e||(e=Q.getThumbState()),e===th?f:e===gm?Q.getHoverThumbDrawable()||f:e===yr?Q.getActiveThumbDrawable()||f:void 0},thumbHitTest:function(g){var Q=this,x=g,u=Q.$84u;return g instanceof Event&&(x=Q.lp(g)),wp(u,x)},validateImpl:function(U,B,d,V){var t=this,z=t.getOrientation(),A=t.getMin(),D=t.getMax(),g=t.$142u!=y?t.$142u:t.getValue(),f=t.getBarThickness(),W=t.getThumbWidth(),J=t.getThumbHeight(),E=0,Z=0;if("vertical"===z||"v"===z){E=(1-(g-A)/(D-A))*(V-J);var s=U+(d-f)/2,j=B+J/2,K=f,_=V-J;t.drawBar(t.getBarDrawable(),s,j,K,_),t.drawSelectBar(t.getSelectBarDrawable(),s,j,K,_,s,E,f,V-E),t.drawThumb(t.getCurrentThumbDrawable(),U+(d-W)/2,B+E,W,J),t.$84u={x:(d-W)/2,y:E,width:W-1,height:J-1}}else{Z=(g-A)/(D-A)*(d-W);var s=U+W/2,j=B+(V-f)/2,K=d-W,_=f;t.drawBar(t.getBarDrawable(),s,j,K,_),t.drawSelectBar(t.getSelectBarDrawable(),s,j,K,_,s,j,Z,f),t.drawThumb(t.getCurrentThumbDrawable(),U+Z,B+(V-J)/2,W,J),t.$84u={x:Z,y:(V-J)/2,width:W-1,height:J-1}}},getThumbRect:function(){return this.$84u},adjustValue:function(s){s==y&&(s=0);var U=this,I=U.getMin(),A=U.getMax(),C=U.getStep();if(I>s&&(s=I),s>A&&(s=A),C>0){s=T((s-I)/C)*C+I;var N=(C+"").split(".")[1];N=N?N.length:0,s=T(s*Math.pow(10,N))/Math.pow(10,N)}return s},getToolTip:function(z){var P,O=this,b=O.getOrientation(),q=O.lp(z),X=O.getMin(),$=O.getMax(),I=O.getThumbWidth(),t=O.getThumbHeight(),i=O.getContentWidth(),N=O.getContentHeight(),f=O.$84u,R=0;return f&&wp(f,q)?O.$142u!=y?O.$142u:O.getValue():("vertical"===b||"v"===b?(P=N-t/2,R=X+(P-q.y)/(N-t)*($-X)):(P=t/2,R=X+(q.x-P)/(i-I)*($-X)),O.adjustValue(R))},getSerializableProperties:function(){var J=H.Slider.superClass.getSerializableProperties.call(this);return Nf(J,{bar:1,barDrawable:1,selectBar:1,selectBarDrawable:1,barThickness:1,thumb:1,thumbDrawable:1,hoverThumb:1,hoverThumbDrawable:1,activeThumb:1,activeThumbDrawable:1,thumbWidth:1,thumbHeight:1,min:1,max:1,value:1,step:1,orientation:1,"is:instant":1})}});var id=H.SliderInteractor=function(R){this.$85u=R};sf("ht.ui.SliderInteractor",A,{ms_listener:1,getView:function(){return this.$85u._view},setValue:function(S,M){var i,B=this.$85u,d=B.getMin(),s=B.getMax(),N=B.getThumbWidth(),C=B.getThumbHeight(),l=B.getContentWidth(),X=B.getContentHeight(),g=B.lp(S),w=B.getOrientation(),y=0;"vertical"===w||"v"===w?(i=X-C/2,y=d+(i-g.y)/(X-C)*(s-d)):(i=N/2,y=d+(g.x-i)/(l-N)*(s-d)),M?B.setValue(y):(B.$142u=B.adjustValue(y),B.iv())},handle_mousedown:function(p){db(p)&&this.handle_touchstart(p)},handle_touchstart:function(M){qd(M);var g=this,m=g.$85u;m.requestFocus(),g.setValue(M,m.isInstant()),g.$47u=!0,m.setThumbState(yr),sr(g,M),m.isToolTipEnabled()&&O.showToolTip(M,m.getToolTip(M))},handle_mouseup:function(i){this.handle_touchend(i)
},handle_touchend:function(N){var O=this,f=O.$85u;f.thumbHitTest(N)?f.setThumbState(gm):f.setThumbState(th)},handleWindowMouseMove:function(B){this.handleWindowTouchMove(B)},handleWindowTouchMove:function(G){var n=this,j=n.$85u;n.setValue(G,j.isInstant()),j.isToolTipEnabled()&&O.showToolTip(G,j.getToolTip(G))},handleWindowMouseUp:function(J){this.handleWindowTouchEnd(J)},handleWindowTouchEnd:function(A){var _=this;_.setValue(A,!0),O.hideToolTip(),_.$85u.$142u=y,_.$47u=y,_.handle_touchend(A)},handle_mouseleave:function(){var l=this,g=l.$85u;l.$47u||g.setThumbState(th)},handle_mousemove:function(s){this.handle_touchmove(s)},handle_touchmove:function(z){var c=this,y=c.$85u;c.$47u?y.setThumbState(yr):y.thumbHitTest(z)?pk()||y.setThumbState(gm):y.setThumbState(th)},handle_keydown:function(A){var M=this.$85u,z=M.getValue(),E=M.getStep()||.001;ob(A)||hc(A)?M.setValue(z-E):(Hg(A)||qb(A))&&M.setValue(z+E)}}),A.defineProperties(id.prototype,{disabled:{get:function(){return this.$85u.isDisabled()}}}),H.ProgressBar=function(S){H.ProgressBar.superClass.constructor.call(this),this.set(S)},sf("ht.ui.ProgressBar",df,{ui_ac:["drawable:bar","drawable:selectBar","min","max","value","orientation","fixedSize","is:indeterminate","is:clipSelectBar","percentTextVisible","percentTextFont","percentTextColor"],_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{orientation:!0,min:!0,max:!0}),__fixedSize:.1,__min:0,__max:100,__value:0,__percentTextFont:M.font,__percentTextColor:M.textColor,__orientation:"h",__clipSelectBar:!0,__bar:["ht.ui.drawable.SliderBarDrawable",M.barBackground,y,1],__selectBar:["ht.ui.drawable.SliderBarDrawable",M.baseColor,y,1],getInteractorClasses:function(){return[H.ProgressBarInteractor]},setValue:function(G){this.setPropertyValue("value",this.adjustValue(G))},figurePreferredSize:function(){var B=this,V=B.getOrientation();return"h"===V||"horizontal"===V?{width:120,height:16}:{width:16,height:120}},drawBar:function(c,x,d,C,M){c.draw(x,d,C,M,y,this)},drawSelectBar:function(q,g,Q,d,H,o,B,L,J){var m=!1;if(o!=y&&(m=!0),m){var T=this.getRootContext();T.save(),T.beginPath(),T.rect(o,B,L,J),T.clip()}q.draw(g,Q,d,H,y,this),m&&T.restore()},figurePercentText:function(){var B=this,u=B.getValue(),V=B.getMin(),d=B.getMax();return T(100*((u-V)/(d-V)))+"%"},drawPercentText:function(P,r,l,H,S,e,Y){var n=this.getRootContext();n.beginPath(),Yl(n,P,r,l,H,S,e,Y,es,rr)},validateImpl:function(u,l,K,W){var A=this,k=A.getOrientation(),J=A.getMin(),g=A.getMax(),n=A.getValue(),L=A.getFixedSize(),O=A.isIndeterminate(),s=A.isClipSelectBar(),U=A.getBarDrawable(),F=A.getSelectBarDrawable(),B=0,w=0,e=u,X=l,S=K,c=W;"vertical"===k||"v"===k?(A.drawBar(U,e,X,S,c),O&&L?(c=1>L?W*L:L,X+=(1-(n-J)/(g-J))*(W+c)-c,s?A.drawSelectBar(F,u,l,K,W,u,X,K,c):A.drawSelectBar(F,u,X,K,c,u,l,K,W)):(B=(n-J)/(g-J)*W,s?A.drawSelectBar(F,u,l,K,W,u,l+W-B,K,B):A.drawSelectBar(F,u,l+W-B,K,B))):("horizontal"===k||"h"===k)&&(A.drawBar(U,e,X,S,c),O&&L?(S=1>L?K*L:L,e+=(n-J)/(g-J)*(K+S)-S,s?A.drawSelectBar(F,u,l,K,W,e,l,S,W):A.drawSelectBar(F,e,l,S,W,u,l,K,W)):(w=(n-J)/(g-J)*K,s?A.drawSelectBar(F,u,l,K,W,u,l,w,W):A.drawSelectBar(F,u,l,w,W))),A.isPercentTextVisible()&&A.drawPercentText(A.figurePercentText(),A.getPercentTextFont(),A.getPercentTextColor(),u,l,K,W)},adjustValue:function(V){V==y&&(V=0);var _=this,m=_.getMin(),Z=_.getMax();return m>V&&(V=m),V>Z&&(V=Z),V},getToolTip:function(){return this.getValue()},getSerializableProperties:function(){var F=H.ProgressBar.superClass.getSerializableProperties.call(this);return Nf(F,{bar:1,barDrawable:1,selectBar:1,selectBarDrawable:1,min:1,max:1,value:1,orientation:1,fixedSize:1,"is:indeterminate":1,"is:clipSelectBar":1,percentTextVisible:1,percentTextFont:1,percentTextColor:1})}}),H.ProgressBarInteractor=function(o){var t=this;t.$77u=o},sf("ht.ui.ProgressBarInteractor",A,{ms_listener:1,getView:function(){return this.$77u._view},handle_mousedown:function(G){this.handle_touchstart(G)},handle_touchstart:function(F){F.preventDefault()}}),A.defineProperties(H.ProgressBarInteractor.prototype,{disabled:{get:function(){return this.$77u.isDisabled()}}}),H.Menu=function(G){var u=this;u.$168u=new z.Mousetrap,u.$73u(),u.setDropDownMenu(new H.ContextMenu),u.$72u={},H.Menu.superClass.constructor.call(u),u.set(G)},sf("ht.ui.Menu",df,{ui_ac:["gap",_,"iconWidth","iconHeight","iconGapRight",h,"hoverLabelColor","activeLabelColor","drawable:hoverItemBackground","drawable:activeItemBackground"],ms_ac:["items"],_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{items:!0,gap:!0,labelFont:!0}),__iconWidth:16,__iconHeight:16,__iconGapRight:6,__padding:2,__background:"white",__labelFont:M.font,__gap:5,__hoverLabelColor:M.textColor,__hoverItemBackground:M.hoverBackground,__labelColor:M.textColor,__activeLabelColor:"#fff",__activeItemBackground:M.baseColor,getInteractorClasses:function(){return[H.MenuInteractor]},closePopup:function(){H.Menu.superClass.closePopup.call(this),this.hide()},figurePreferredSize:function(){var q=this,K=q.getItems(),I=q.getGap(),D=2*I,Z=q.$72u,N={width:0,height:0},b=q.getBorderLeft(),z=q.getBorderRight(),r=(q.getBorderTop(),q.getBorderBottom(),q.getPaddingTop(),q.getPaddingBottom(),q.getPaddingLeft()),G=q.getPaddingRight();if(K&&K.length>0)for(var w=0;w<K.length;w++){var p=Z[w];N.width+=D+p.width}return N.width=T(N.width+b+z+r+G),N.height=30,N.width=i(N.width),N.height=i(N.height),N},$166u:function(){var q=this,N=q.getItems();if(N&&N.length>0){for(var P=q.getGap(),H=2*P,i=N.length,w=q.getContentLeft(),k=q.getContentWidth(),X=w,g=[],V=!1,K=q.$72u.collectionItem.width+H,j=0,O=N.length;O>j;j++){var v=q.getMenuItemSize(N[j]),d=v.width+H;if(X+=d,X-(w+k)>0){i=d-(X-(w+k))>K?j:j-1,V=!0;break}}for(var j=0;i>j;j++)g.push(N[j]);if(V){for(var Y={isCollectionItem:!0,label:">>",items:[]},j=i;j<N.length;j++)Y.items.push(N[j]);g.push(Y)}q.$167u=g}},$240u:function(k){H.Menu.superClass.$240u.call(this,k),this.$166u()},resetItemsSize:function(o){var d=this,t=d.getItems(),E=d.getIconWidth(),G=d.getIconHeight(),Q=d.getIconGapRight();if(d.$72u={},t){for(var g=0;g<t.length;g++){var $=t[g],r=d.$72u[g]=go(d.getLabelFont($),d.getLabel($));d.getMenuItemIconDrawable($)&&(r.width+=E+Q,r.height=s(r.height,G))}d.$72u.collectionItem=go(d.getLabelFont(),">>")}o||d.iv()},onPropertyChanged:function(w){var x=this,O=w.property;if(("items"===O||O===_)&&x.resetItemsSize(!0),("items"===O||O===_||O===bd||"padding"===O||O===np||"gap"===O)&&x.$166u(),"items"===O){var B=w.newValue;B&&(x.$73u(),x.forEach(function(n){n.shortcut&&x.$168u.bind(n.shortcut,function(X){var s;s=Uj(n.preventDefault)?n.preventDefault.call(x):n.preventDefault,s!==!1&&X.preventDefault(),x._dropDownMenu.isItemDisabled(n)||(n.action&&n.action.call(x,n,X),x.fireViewEvent({kind:"action",item:n,nativeEvent:X,source:x}))})}))}H.Menu.superClass.onPropertyChanged.call(x,w)},clickItem:function(f,d){var m=this;f.action&&f.action.call(m,f,d),m.fireViewEvent({kind:"action",nativeEvent:d,item:f,source:m})},setDropDownMenu:function(v){var b=this;if(b.setPropertyValue("dropDownMenu",v),v){var Y=v.getSerializableProperties;v.getSerializableProperties=function(){var Z=Y.call(this);return delete Z.items,Z},v.setStyle("menu_dropDown"),v.getStyleParent=function(){return b};var v=b._dropDownMenu;v.hideOnEvent=function(R){if("mouseEvent"===R.kind){var q=R.event;if(!v.getView().contains(Nl(q))&&!b.getView().contains(Nl(q)))return b.hide(R),!1;if(b.getView().contains(Nl(q)))return!1}else if("action"===R.kind||"keyboardEvent"===R.kind)return b.hide(R),!1},v.addViewListener(function(N){"action"===N.kind&&b.fireViewEvent({kind:"action",item:N.item,nativeEvent:N.nativeEvent,source:b})})}},getDropDownMenu:function(){return this._dropDownMenu},getMenuItemSize:function(S){var N=this,e=N.getItems(),T=N.$72u;return S.isCollectionItem?T.collectionItem:T[e.indexOf(S)]},getMenuItemAt:function(y){for(var m=this,d=m.lp(y),r=m.getVisibleItems(),z=m.getContentHeight(),h=m.getGap(),Z=0,v=0,S=r.length;S>v;v++){var I=r[v],Q=m.getMenuItemSize(I),g={x:Z,y:0,width:Q.width+2*h,height:z};if(wp(g,d))return I;Z+=g.width}},setState:function(W){var Z=this._state;Z!==W&&(this._state=W,this.iv())},setCurrentItem:function(A){var V=this.$154u;V!==A&&(this.$154u=A,this.iv())},getCurrentItem:function(){return this.$154u},$73u:function(){var l=this,m=l.$168u;m.reset()},forEach:function(F,p,t){var v=this,m=t?t.items:v.getItems();if(m)for(var G=m.length,A=0;G>A;A++){var S=m[A],C=F.call(p||v,S);if(C===!1)return C;v.forEach(F,p,S)}},getItemBackgroundDrawable:function(Z){return Z===gm?this.getHoverItemBackgroundDrawable():Z===yr?this.getActiveItemBackgroundDrawable():void 0},drawItemBackground:function(V,q,L,b,H,t){V&&V.draw(q,L,b,H,t,this)},drawLabel:function(g,j,I,R,k,u,B,A){g.beginPath(),Yl(g,j,I,R,k,u,B,A,dn,rr)},drawIcon:function(l,B,m,K,k,D){l.draw(B,m,K,k,D,this)},getVisibleItems:function(){return this.$167u},getMenuItemIconDrawable:function(C){return!C.iconDrawable&&C.icon&&(C.iconDrawable=O.toDrawable(C.icon)),C.iconDrawable},validateImpl:function(C,z,s,S){var m=this,T=m.getGap(),q=m.getVisibleItems();if(q){var i=m._dropDownMenu,G=m._state,W=m._showing,b=m.$154u,F=q.indexOf(b);b&&b.isCollectionItem&&(F=q.length-1),W||i.hide();for(var l=m.getRootContext(),u=m.getIconWidth(),Q=m.getIconHeight(),t=m.getIconGapRight(),h=2*T,f=0,K=q.length;K>f;f++){var U=q[f],L=m.getMenuItemSize(U),$=L.width+h,H=m.getLabelColor(U);if(f===F)if(G===gm)H=m.getHoverLabelColor(U),m.drawItemBackground(m.getItemBackgroundDrawable(gm,U),C,z,$,S,U);else if(G===yr&&(H=m.getActiveLabelColor(U),m.drawItemBackground(m.getItemBackgroundDrawable(yr,U),C,z,$,S,U),W)){var N=hi(),n=m._view.getBoundingClientRect();i.setItems(U.items),i.ivm(),i.show(n.left+N.left+C,n.top+N.top+n.height),i.validate()}var w=C+T,R=m.getMenuItemIconDrawable(U);R&&(m.drawIcon(R,w,z+(S-Q)/2,u,Q,U),w+=u+t),m.drawLabel(l,m.getLabel(U),m.getLabelFont(U),H,w,z,$,S,U),C+=$}}},getLabel:function(Q){return Q.label},$74u:function(c,$){if(c)for(var t=0;t<c.length;t++){var Q=c[t];if(Q.label===$)return Q}},hide:function(){this.setState(th),this.setCurrentItem(y),this._showing&&(this._showing=!1,this.iv())},show:function(Y){var M=this;M.setState(yr),M.setCurrentItem(Y),M._showing||(M._showing=!0,M.iv())},isShowing:function(){return this._showing},deleteItem:function(h){for(var u,q=this,e=q.$75u(h),N=q.getItems()||[],n=0;n<e.length;n++){var B=e[n];if(u=q.$74u(N,B),!u)break;n===e.length-1?N.splice(N.indexOf(u),1):N=u.items||[]}q.fp("items",y,q.getItems())},$75u:function(m){for(var Z=!1,M="",R=[],C=0;C<m.length;C++){var W=m[C];if("/"===W){if(!Z){R.push(M),M="";continue}}else if("`"===W){Z=!Z;continue}M+=W}return R.push(M),R},findItem:function(S){for(var g,V=this,F=V.$75u(S),f=V.getItems(),N=0;N<F.length;N++){var c=F[N];if(!f)return;if(g=V.$74u(f,c),!g)return;f=g.items}return g},addItem:function(x,L){for(var $,N=this,Y=N.$75u(x),c=N.getItems(),e=0;e<Y.length;e++){var C=Y[e];if(c||(c=$?$.items=[]:N._items=[]),$=N.$74u(c,C),!$){if($={label:C},e===Y.length-1&&L)for(var A in L)$[A]=L[A];c.push($)}c=$.items}N.fp("items",y,N.getItems())},findItemByLabel:function(j){var o;return this.forEach(function(r){return r.label===j?(o=r,!1):void 0}),o},findItemById:function(S){var x;return this.forEach(function(W){return W.id===S?(x=W,!1):void 0}),x},selectItem:function(j){if("radio"===j.type){var k=j.groupId;k!=y?this.forEach(function(n){n===j?n.selected=!0:n.groupId===j.groupId&&(n.selected=!1)}):j.selected=!0}else j.selected=!0},selectItemById:function($){var O=this.findItemById($);O&&this.selectItem(O)},addSeparator:function(T){for(var _,l=this,s=T.split("/"),D=l.getItems(),J=0;J<s.length;J++){var j=s[J];if(!D)return;if(_=l.$74u(D,j),!_)return;if(J===s.length-1&&D){var v=D.indexOf(_)+1;D.splice(v,0,{type:"-"})}D=_.items}l.fp("items",y,l.getItems())},dispose:function(){var d=this,X=d._view;X&&(xm(X),d.$168u.dispose(),d._dropDownMenu.dispose(),d._view=d._items=d.$168u=y)},serializeProperty:function(l,y,v){var c=this;if("items"===y){var u;if(l){var e=function(h){for(var U=0,O=h.length;O>U;U++){var j=h[U];delete j.iconDrawable,delete j._pid,delete j._id,j.items&&e(j.items)}};u=O.parse(O.stringify(l)),e(u)}return u}return v.serializeProperty(l,y,c)},getSerializableProperties:function(){var s=H.Menu.superClass.getSerializableProperties.call(this);return Nf(s,{gap:1,labelFont:1,labelColor:1,hoverLabelColor:1,activeLabelColor:1,hoverItemBackground:1,hoverItemBackgroundDrawable:1,activeItemBackground:1,getActiveItemBackgroundDrawable:1,items:1,iconWidth:1,iconHeight:1,iconGapRight:1,dropDownMenu:1})}}),H.MenuInteractor=function(V){var j=this;j.$76u=V},sf("ht.ui.MenuInteractor",A,{ms_listener:1,addToTouchScrollClearQuene:H.Interactor.prototype.addToTouchScrollClearQuene,getView:function(){return this.$76u._view},clearTouchState:function(){var K=this,f=K.$76u;f.hide(),K.$47u=y,K.$58u=y},handle_touchstart:function(O){qd(O);var n=this,G=n.$76u,Z=G.getMenuItemAt(O);G.isSelfViewEvent(O)&&(G.isShowing()&&G.getCurrentItem()!==Z&&G.hide(),Z&&(G.setState(yr),G.setCurrentItem(Z)),n.$47u=!0,n.$58u=Uo(O),sr(n,O),n.addToTouchScrollClearQuene(O))},handle_mousedown:function(m){var l=this;l.handle_touchstart(m)},handle_touchend:function(v){var b=this,H=b.$76u,t=b.$58u;if(qd(v),t){var P=Uo(v),y=fl(t,P);if(qh>y){var I=H.getMenuItemAt(v);I?(H.isShowing()?(H.hide(),il||(H.setState(gm),H.setCurrentItem(I))):H.show(I),H.clickItem(I,v)):H.hide()}}delete b.$58u},handle_mouseup:function(O){this.handle_touchend(O)},handleWindowTouchEnd:function(){this.$47u=!1},handleWindowMouseUp:function(Y){this.handleWindowTouchEnd(Y)},handle_mouseleave:function(){var $=this.$76u;delete this.$58u,$.isShowing()||($.setState(th),$.setCurrentItem(y))},handle_mousemove:function(Q){var p=this,v=p.$76u,T=v.getMenuItemAt(Q);T?(v.isShowing()||v.setState(gm),v.setCurrentItem(T)):v.isShowing()||(v.setCurrentItem(y),v.setState(th))},handle_touchmove:function(){},handleWindowTouchMove:function(){},handleWindowMouseMove:function(A){this.handleWindowTouchMove(A)}}),A.defineProperties(H.MenuInteractor.prototype,{disabled:{get:function(){return this.$76u.isDisabled()}}}),H.editor.Editor=function(){},sf("ht.ui.editor.Editor",A,{ms_fire:!0,addEditorListener:function(n,o,Z){var X=this;X.$165u||(X.$165u=new b),X.$165u.add(n,o,Z)},removeEditorListener:function(T,m,X){var U=this;U.$165u&&U.$165u.remove(T,m,X)},fireEditorChange:function(E){var m=this;m.$165u&&m.$165u.fire({kind:E})},addValueChangeListener:function(O,A,K){var E=this;E.$64u||(E.$64u=new b),E.$64u.add(O,A,K)},removeValueChangeListener:function(n,K,E){var Q=this;Q.$64u&&Q.$64u.remove(n,K,E)},fireValueChange:function(J){var N=this;N.$64u&&N.$64u.fire({value:J})},isEditable:function(b){return!dc(b)||"mousedown"!==b.type&&"touchstart"!==b.type?!1:!0},shouldSelect:function(){return!0},getEditorValue:function(){},initEditorView:function(){},loadEditorViewInstance:function(h){H._uiRendererLoadedMap||(H._uiRendererLoadedMap={});var e=H._uiRendererLoadedMap[h];if(e||(e=O.xhrLoad(h,null,{sync:!0}),e&&(H._uiRendererLoadedMap[h]=e)),e=H._uiRendererLoadedMap[h]){var i=new H.UIJSONSerializer;i.setShipListeners(!0);var K=i.deserialize(e);return K}},createEditorViewInstance:function(N,z,U,Y){if(Y&&Y.getEditorView){var E=Y.getEditorView();if(E)return this.loadEditorViewInstance(E)}},getEditorView:function(){return this.$230u},afterLayout:function(){},beforeRemove:function(){},stopEditing:function(){this.fireEditorChange("stop")},cancelEditing:function(){this.fireEditorChange("cancel")}}),H.editor.StringEditor=function(){H.editor.StringEditor.superClass.constructor.call(this)},sf("ht.ui.editor.StringEditor",H.editor.Editor,{initEditorEvents:function(e,n){var w=this,x=e.getInput();x.onblur=function(){w._inEditing||w.stopEditing()},e.on("p:value",function(R){w.fireValueChange(R.newValue)}),e.on("d:keydown",function(U){Ih(U)?(e.isInstant()&&e.setValue(n),w.cancelEditing()):zq(U)&&w.stopEditing()})},initEditorView:function(Y,J,I,s){var w=this,P=w.createEditorViewInstance(Y,J,I,s);P||(P=new H.TextField);var e=P;return P instanceof H.TextField||null==P.a("editorId")||(P=P.findViewById(P.a("editorId"))),w.$91u=P,P.setValue(I),w.initEditorEvents(P,I),e},getEditorValue:function(){return this.$91u.getValue()}}),H.editor.IntEditor=function(){H.editor.IntEditor.superClass.constructor.call(this)},sf("ht.ui.editor.IntEditor",H.editor.StringEditor,{initEditorView:function(j,Y,I,l){var g=this,c=g.createEditorViewInstance(j,Y,I,l);c||(c=new H.NumberInput);var W=c;return c instanceof H.NumberInput||null==c.a("editorId")||(c=c.findViewById(c.a("editorId"))),g._numberInput=c,c.__maskRe=/[\d\-]/,c.setValue(I),g.initEditorEvents(c,I),W},getEditorValue:function(){var d=aj(this._numberInput.getInput().value);return isNaN(d)?y:d}}),H.editor.NumberEditor=function(){H.editor.NumberEditor.superClass.constructor.call(this)},sf("ht.ui.editor.NumberEditor",H.editor.StringEditor,{initEditorView:function(h,x,D,U){var $=this,s=$.createEditorViewInstance(h,x,D,U);s||(s=new H.NumberInput);var E=s;return s instanceof H.NumberInput||null==s.a("editorId")||(s=s.findViewById(s.a("editorId"))),$._numberInput=s,s.setValue(D),$.initEditorEvents(s,D),E},getEditorValue:function(){var C=parseFloat(this._numberInput.getValue());return isNaN(C)?y:C}}),H.editor.ColorEditor=function(){H.editor.ColorEditor.superClass.constructor.call(this)},sf("ht.ui.editor.ColorEditor",H.editor.Editor,{initEditorView:function(Y,c,V,T){var W=this,k=W.createEditorViewInstance(Y,c,V,T);k||(k=new H.ColorPicker);var o=k;return k instanceof H.ColorPicker||null==k.a("editorId")||(k=k.findViewById(k.a("editorId"))),W._colorPicker=k,k.__instant=!0,k.setValue(V),k.on("close",function(){W.stopEditing()}),k.on("d:keydown",function($){zq($)?W.stopEditing():Ih($)&&W.cancelEditing()}),o},afterLayout:function(){this._colorPicker.open()},beforeRemove:function(){this._colorPicker.close()},getEditorValue:function(){return this._colorPicker.getValue()}});var mn=function(){mn.superClass.constructor.call(this)};z.Default.def(mn,H.editor.Editor,{initEditorView:function(Y,Z,x,O){var _=this,F=_.createEditorViewInstance(Y,Z,x,O);F||(F=new H.ComboBox);var K=F;F instanceof H.ComboBox||null==F.a("editorId")||(F=F.findViewById(F.a("editorId"))),_.$331u=F;var z=O.getDatas(Z);F.setValueField(O.getValueField()),F.setDisplayField(O.getDisplayField()),F.setIconField(O.getIconField()),F.setDatas(z);var M=O.getDropDownConfig();return M&&F.setDropDownConfig(M),F.setFormDataValue(x),F.setReadOnly(O.isReadOnly()),F.on("close",function(){no(function(){_.stopEditing()})}),F.on("d:keydown",function(L){27==L.keyCode&&_.cancelEditing()}),K},afterLayout:function(){this.$331u.open()},beforeRemove:function(){this.$331u.close()},getEditorValue:function(){return this.$331u.getFormDataValue()}}),H.editor.DateTimeEditor=function(){H.editor.DateTimeEditor.superClass.constructor.call(this)},sf("ht.ui.editor.DateTimeEditor",H.editor.Editor,{initEditorView:function(m,y,T,R){var l=this,B=l.createEditorViewInstance(m,y,T,R);B||(B=new H.DateTimePicker);var E=B;return B instanceof H.DateTimePicker||null==B.a("editorId")||(B=B.findViewById(B.a("editorId"))),l._dateTimePicker=B,B.setValue(T),B.on("close",function(){l.stopEditing()}),B.on("d:keydown",function(K){zq(K)?l.stopEditing():Ih(K)&&l.cancelEditing()}),E},afterLayout:function(){this._dateTimePicker.open()},beforeRemove:function(){this._dateTimePicker.close()},getEditorValue:function(){return this._dateTimePicker.getValue()}}),us({$152u:function(R){R.$118u=K,R.$188u=0,R.$189u=0,R.setDatas=function(c){if(c){Sp(c)&&(c=JSON.parse(c));var O=this.dm();O.clear();var k=function(Z,c){var E=new z.Data;for(var n in Z){var M=Z[n];if("children"===n)for(var m=0,u=M.length;u>m;m++)k(M[m],E);else{var b;0===n.indexOf("a:")?(n=n.substr(2),b="attr"):0===n.indexOf("s:")&&(n=n.substr(2),b="style"),Em(E,b,n,M)}}c&&E.setParent(c),O.add(E)};if(Jr(c))for(var N=0,B=c.length;B>N;N++){var h=c[N];k(h)}else k(c)}},R.setListDatas=function(N,R){if(N&&(Sp(N)&&(N=z.Default.parse(N)),Jr(N))){var P=this,q=P.getDataModel(),A=new z.ui.SimpleDMJSONSerializer(q);q.clear(),A.deserialize(N,null,R)}},R.getListDatas=function(){var H=this,a=H.getDataModel(),o=new z.ui.SimpleDMJSONSerializer(a);return o.toJSON()},R.initView=function(X){var D=this;H.ListView.superClass.initView.call(D,X);var M=D.$261u=Sl();M.setAttribute(S,"ht-renderer"),D.getContentDiv().appendChild(M)},R.isSelfViewEvent=function(F){var P=this,d=H.ListView.superClass.isSelfViewEvent.call(P,F);if(!d){var X=Nl(F);P.$261u.contains(X)&&(d=!0)}return d},R.closePopup=function(){H.ListView.superClass.closePopup.call(this),this.endEdit()},R.$105u=function(){for(var b=this,C=b.$261u,S=C.children,g=0;g<S.length;g++){var G=S[g],L=G.htComp;L&&(L.$106u(),L.$105u())}var H=b.$230u;H&&(H.$106u(),H.$105u())},R.figurePreferredSize=function(){var B,_,d=this,x=d.getRowHeightFunc();d.$116u&&(d.validateModel(),d.$116u=y),B=d.$271u;var e=0,p=N(d.getPreferredSizeRowCountLimit(),B.size());if(x)for(var b=0;p>b;b++){var n=B.get(b);e+=x.call(d,n)}else e=p*d.getRowHeight();return _={width:200,height:e},_.width+=d.getBorderLeft()+d.getBorderRight()+d.getPaddingLeft()+d.getPaddingRight(),_.height+=d.getBorderTop()+d.getBorderBottom()+d.getPaddingTop()+d.getPaddingBottom(),_.width=i(_.width),_.height=i(_.height),_},R.$136u=function(){var K=this;K.$271u=new I,K._rowMap={},K.$70u=0,K.$69u=0,K.initView()},R.getViewCheckIconDrawable=function(Y){var p=this,F=p.sm(),w=F.co(Y);return F.sg()?w?p.getRadioOnIconDrawable(Y):p.getRadioOffIconDrawable(Y):w?p.resetIndeterminate&&p.isIndeterminateSelected(Y)?p.getIndeterminateIconDrawable(Y):p.getCheckIconDrawable(Y):p.getUncheckIconDrawable(Y)},R.checkData=function(W){var i=this.sm(),_=i.co(W);i.sg()&&_||(this.$184u=1,_?(i.rs(W),this.fireViewEvent({kind:"uncheckData",data:W})):(i.as(W),this.fireViewEvent({kind:"checkData",data:W})),delete this.$184u)},R.getDataAt=function(t,i){if(i=i==C?!0:i,!i||this.isContentEvent(t)){Nl(t)&&(t=this.lp(t));var N=this.$271u,f=N.size(),o=this.getRowHeightFunc(),j=0,m=-1;if(this.isRowLineVisible()&&(j=this.getRowLineSize()),o)for(var r=0,L=0;f>L;L++){var c=N.get(L);if(r+=o.call(this,c),r-j>t.y){m=L;break}}else{var r=this.getRowHeight();m=w(t.y/r),t.y<r*(m+1)-j||(m=-1)}return 0>m||m>=f?y:N.get(m)}},R.onDataDoubleClicked=function(){},R.onDataClicked=function(){},R.adjustTranslateX=function(){return 0},R.adjustTranslateY=function(W){var U=this.getContentHeight(),C=this.$188u,L=U-C;return L>W&&(W=L),W>0&&(W=0),W},R.onPropertyChanged=function(t){var e=this,q=t.property;H.ListView.superClass.onPropertyChanged.call(e,t),("translateX"===q||"translateY"===q)&&e.closePopup(),"checkMode"===q&&e.resetIndeterminate?e.resetIndeterminate(y,e.getCheckMode()):"width"===q&&e.invalidateColumnInfos?e.invalidateColumnInfos("viewWidth"):"rowRenderer"===q&&(e.dm().each(function(x){delete x.__$uiRendererIns}),e.iv()),"checkMode"===q&&e instanceof H.TreeTableView&&(e.$90u=e.isCheckMode()?e.$123u:y),Jp[q]?e.ivm():El[q]||e.iv()},R.drawCheckIcon=function(k,C,W,x,S,R,E){return k&&k.draw(C,W,x,S,R,this,E),x},R.getLabel=function(b){return b.toLabel()},R.getCurrentLabelColor=function(o,b,g){var Y=this;if(o){if(b&&b.getLabelColor)return Y.isCheckMode()?Y.getFocusData()===o?b.getLabelColor(g,o,"select"):Y.getHoverData()===o?b.getLabelColor(g,o,"hover"):b.getLabelColor(g,o):Y.isSelected(o)?b.getLabelColor(g,o,"select"):Y.getHoverData()===o?b.getLabelColor(g,o,"hover"):b.getLabelColor(g,o);var z=Y.getLabelColor(o),I=Y.getHoverLabelColor(o),G=Y.getSelectLabelColor(o);if(Y.getUnselectableLabelColor&&!Y.isSelectable(o)){var x=Y.getUnselectableLabelColor(o);return x||z}return Y.isCheckMode()?Y.getFocusData()===o?G||z:Y.getHoverData()===o?I||z:z:Y.isSelected(o)?G||z:Y.getHoverData()===o?I||z:z}},R.getStartRowIndex=function(){return this.$70u},R.getEndRowIndex=function(){return this.$69u},R.getRowDatas=function(){return this.$271u},R.getRowIndex=function(C){return this._rowMap[C._id]},R.getRowSize=function(){return this.$271u.size()},R.getViewRect=function(){return Fb(this.$118u)},R.isVisible=function(X){if(X){var P=this.getVisibleFunc();return P?P(X):!0}return this.getPropertyValue(Fe)},R.getCurrentSortFunc=function(){return this.getSortFunc()},R.setDataModel=function(E){var Z=this,R=Z._dataModel,X=Z._selectionModel;R!==E&&(R&&(R.umm(Z.handleDataModelChange,Z),R.umd(Z.handleDataPropertyChange,Z),R.umh(Z.handleHierarchyChange,Z),X||R.sm().ums(Z.handleSelectionChange,Z)),Z._dataModel=E,E.mm(Z.handleDataModelChange,Z),E.md(Z.handleDataPropertyChange,Z),E.mh(Z.handleHierarchyChange,Z),X?X._21I(E):E.sm().ms(Z.handleSelectionChange,Z),Z.fp("dataModel",R,E))},R.validateModel=function(){var c=this;c.$271u.clear(),c._rowMap={},c.$56u(c._dataModel._roots);var v=c.$271u=c.$271u.toList(c.isVisible,c),Z=0,$=c.getCurrentSortFunc(),T=v.size();for($&&v.sort($);T>Z;Z++)c._rowMap[v.get(Z)._id]=Z},R.$56u=function(O){var K=this;O.each(function(s){K.$271u.add(s),K.$56u(s._children)})},R.handleDataModelChange=function(){this.ivm()},R.handleDataPropertyChange=function(K){K.property===Sj?this.ivm():this.iv()},R.handleHierarchyChange=function(){this.ivm()},R.handleSelectionChange=function(T){this.iv(),this.onSelectionChanged(T)},R.handleSelect=function(Y,D){if(this.isSelectable(D)){var F=this,x=F.sm(),y=x.ld();if(lg(Y))F.isSelected(D)?x.rs(D):x.as(D);else if(Nr(Y))if(y)for(var J=F.getRowIndex(y),M=F.getRowIndex(D);J!==M;)J+=M>J?1:-1,x.as(F.$271u.get(J));else x.ss(D);else(db(Y)||!x.contains(D))&&x.ss(D)}},R.onSelectionChanged=function(R){var W=this,T=W.sm();W.resetIndeterminate&&"all"===W.getCheckMode()&&W.resetIndeterminate(y,W.getCheckMode()),!W.isAutoMakeVisible()||1!==T.size()||"set"!==R.kind&&"append"!==R.kind||W.$184u||W.makeVisible(T.ld())},R.makeVisible=function(l,d){l&&(this.$71u=l,this._makeVisibleDataHeight=d,this.iv())},R.scrollToIndex=function(U,V){var B,p=this,T=p.$118u,o=T.height,A=p.getRowHeightFunc(),N=p.$271u,u=N.size(),C=0;if(A){B=A.call(p,N.get(U));for(var d=0;U>d;d++)C+=A.call(p,N.get(d))}else B=p.getRowHeight(),C=B*U;V!=y&&(B=V),U>=0&&u>U&&o>0&&(C+B>T.y+o?p.ty(-C+o-B):C<T.y&&p.ty(-C))},R.ivm=function(){this.invalidateModel()},R.invalidateModel=function(){var Z=this;Z.$116u||(Z.$116u=!0,Z.checkPreferredSize("ivm"),Z.checkMinSize("ivm"),Z.checkMaxSize("ivm"),Z.fireViewEvent("invalidateModel")),Z.iv()},R.createDragImage=function(n,d){var E,N=this,u=N.isSelected(n);E=u?d.size()-1:0;var q,g=N.$271u,H=g.size(),U=N.getRowHeightFunc();if(U){for(var Y=N.getContentTop(),P=0;H>P;P++){var i=g.get(P);if(i===n)break;Y+=U.call(this,i)}Y+=N.ty(),q={x:0,y:Y,width:N.getContentWidth(),height:U.call(this,n)}}else{var W=g.indexOf(n),j=N.getRowHeight();q={x:0,y:W*j+N.ty()+N.getContentTop(),width:N.getContentWidth(),height:j}}var l=Hi(y,!0),e=q.width,J=q.height,A=O.devicePixelRatio;Yh(l,e,J);var r=Lf(l);if(Xl(r,0,0,1),r.beginPath(),r.drawImage(N.$244u,q.x*A,q.y*A,e*A,J*A,0,0,e,J),E>0){var V="(+"+E+")",t=go(M.font,V);r.beginPath();var F=s(J-12,20);tg(r,e-t.width-10,(J-F)/2,t.width+4,F,4,4,4,4),r.fillStyle="rgba(0, 0, 0, 0.5)",r.fill(),r.beginPath(),Yl(r,V,M.font,"white",0,0,e-8,J,"right","middle")}return l},R.getFocusData=function(){return this._focusData},R.setFocusDataById=function(Y){this.setFocusData(this.dm().getDataById(Y))},R.setFocusData=function(C){var Q=this,W=Q._focusData;W!==C&&(Q._focusData=C,Q.fp("focusData",W,C),C&&Q.isAutoMakeVisible()&&Q.makeVisible(C))},R.layoutEditor=function(i,S,O,N,t){i.setX(S),i.setY(O),i.setWidth(N),i.setHeight(t)},R.$228u=O.createUIEditor,R.getEditorViewProperties=function(v){return v.s("editorViewProperties")},R.initEditorView=function(X,U){var v=this,L=U.$230u=U.initEditorView(v,X,X.getName());L.getStyleParent=function(){return v};var Z=v.getEditorViewProperties(X);if(Z)for(var K in Z)L[mi(K)](Z[K]);return L.setStyle&&L.setStyle(U.__style),L},R.isEditing=function(){return!!this.$270u},R.getEditor=function(){return this.$270u},R.beginEdit=function(o,X){if(!this.$270u){var Y,P=this,F=P.$271u,n=F.size(),C=P.getRowHeightFunc(),d=0;if(!(X instanceof H.editor.Editor)){if(X||(X=P.getEditorClassAt(y,o)),Sp(X)&&(X=O.getClass(X)),!X)return;var G=X;X=new G}var r=P.$230u=P.initEditorView(o,X);if(P.$270u=X,P.$231u=o,P._editorValue=X.getEditorValue(),C){Y=C.call(P,o);for(var z=0;n>z;z++){var u=F.get(z);if(u===o)break;d+=C.call(P,u)}}else Y=P.getRowHeight(),d=Y*P.getRowIndex(o);var v=0,L=P.getContentWidth(),R=Y,B=P.isRowLineVisible(o),p=0;B&&(p=P.getRowLineSize()),P.layoutEditor(r,v,d+P.ty(),L,R-p),P.$67u||(P.$67u=P.$318u.bind(this)),P.$68u||(P.$68u=P.$213u.bind(this)),X.addValueChangeListener(P.$67u),X.addEditorListener(P.$68u),P.getContentDiv().appendChild(r.getView()),r.iv(!0),r.validate(),X.shouldSelect()&&(r.a("editorId")?r.findViewById(r.a("editorId")).requestFocus():r.requestFocus()),X.afterLayout(r),P.fireViewEvent({kind:"beginEdit",data:o,editor:X,editorView:r}),P.iv()}},R.setDataValue=function(l,r){var k=r.getName();return r.setName(l),k!==l?!0:void 0},R.$318u=function(h){var w,G=this,x=G.getEditorValidator(),o=G.$231u,r=G.$277u,b=h.value;if(x){var M=r?ih(o,r.getAccessType(),r.getName()):o.getName();w=x.call(G,M,b,o,r,G.$270u,G.$230u)}else w=!0;w&&G.setDataValue(b,o,r)},R.$163u=function(){var N=this;N.$270u=N.$230u=N.$231u=N._editorValue=y},R.endEdit=function(d){var K=this,p=K.$270u;if(p){p._inEditing=!0,K.requestFocus(),p._inEditing=!1;var S=K.$231u,i=K.$277u,Q=p.getEditorValue();if(d){var e=K.getEditorValidator();if(e){var O=i?ih(S,i.getAccessType(),i.getName()):S.getName(),n=e.call(K,O,Q,S,i,p,K.$230u,!0);n===!0?K.endEditImpl(Q,!0,S,i):"end"===n&&K.endEditImpl(Q,!1,S,i)}else K.endEditImpl(Q,!0,S,i)}else K.endEditImpl(Q,!1,S,i)}},R.endEditImpl=function(j,b,A,t){var W,Q=this,K=Q.$270u,X=Q.$230u,C=Q._editorValue;K&&(b&&(Q.setDataValue(j,A,t),W=C!==j),Q.$163u(),K.removeValueChangeListener(Q.$67u),K.removeEditorListener(Q.$68u),K.beforeRemove(X),X.closePopup(),X.setErrorMessage(),xm(X.getView()),Q.iv(),Q.fireViewEvent({kind:"endEdit",valueChanged:W}))},R.$213u=function(j){var $=this,t=$.$270u;if(t){var z=!1;"stop"===j.kind&&(z=!0),$.endEdit(z)}},R.getEditorClassAt=function(J,X){return this.getEditorClass(X)},R.drawRowBackground=function($,A,o,f,K,e){$&&$.draw(A,o,f,K,e,this)},R.drawData=function(O,p,E,z,u,P){var W=this,i=W.$118u,m=i.x,H=i.width,o=W.isRowLineVisible(p),I=0;o&&(I=W.getRowLineSize()),u-=I;var a=W.drawRow(O,p,W.isSelected(p),m,z,H,u,E);a!==!0&&(Array.isArray(a)?W.addElement(a[0],p.getId(),0,a[1],z,a[2]==y?H-a[1]:a[2],u):W.addElement(a,p.getId(),0,m,z,H,u)),P-1>E?o&&W.drawRowLine(O,W.getRowLineColor(),m,z+u,H,I,p):E!==P-1||W.isClipLastRowLine()||W.drawRowLine(O,W.getRowLineColor(),m,z+u,H,I,p)},R.drawRowLine=function($,i,U,s,n,c){uh($,U,s,n,c,i)},R.getCurrentRowBackgroundDrawable=function(A,T,h){var L=this,J=L.isCheckMode();return A===L._focusData&&J?L.getFocusRowBackgroundDrawable():T?L.getSelectRowBackgroundDrawable():A===L.getHoverData()?L.getHoverRowBackgroundDrawable():0!==h%2?L.getStripeRowBackgroundDrawable()||L.getRowBackgroundDrawable():L.getRowBackgroundDrawable()},R.processValidateImpl=function(){var G=this,V=!1;G.$116u&&!V&&(G.validateModel(),G.$116u=y),G._invalidateColumnInfos&&G.$124u&&(G.$124u(),G._invalidateColumnInfos=y),H.ListView.superClass.processValidateImpl.call(G)},R.getTopRowOrderSelection=function(){var n=this.sm().getTopSelection(),E={},B=new I;return n.each(function(p){E[p._id]=p}),this.$271u.each(function(q){E[q._id]&&B.add(q)}),B},R.getRowOrderSelection=function(){var w=new I;return this.$271u.each(function(v){this.isSelected(v)&&w.add(v)},this),w},R.isDraggable=function(){return!0},R.acceptDrop=function(){vq.acceptDragDrop(this,y)},R.isDroppable=function(X,k,u){var L=this,j=L.$271u,C=!0;if("up"===k||"down"===k)for(var D=j.indexOf(u),Z=0,c=X.length;c>Z;Z++){var x=X[Z],_=j.indexOf(x);if(D===_){C=!1;break}if("up"===k&&D===_+1){C=!1;break}if("down"===k&&D===_-1){C=!1;break}}return C},R.handleDrop=function(O,A,l,k){var h=this,J=O.source,Y=O.target,I=h.dm();if(J===Y)if("up"===l)for(var E=0;E<A.length;E++){var z=A[E],i=I.getRoots().indexOf(k);I.getRoots().indexOf(z)<i&&i--,I.moveTo(z,i)}else if("down"===l)for(var E=A.length-1;E>=0;E--){var z=A[E],i=I.getRoots().indexOf(k);
i++,I.getRoots().indexOf(z)<i&&i--,I.moveTo(z,i)}else if(l===Sj){for(var E=0;E<A.length;E++){var z=A[E];z.setParent(k)}h.expand(k)}else for(var E=0;E<A.length;E++){var z=A[E];I.moveToBottom(z)}else if("up"===l)for(var E=0;E<A.length;E++){var z=A[E],i=I.getRoots().indexOf(k);J.dm&&J.dm().remove(z),I.add(z),I.moveTo(z,i)}else if("down"===l)for(var E=A.length-1;E>=0;E--){var z=A[E],i=I.getRoots().indexOf(k);i++,J.dm&&J.dm().remove(z),I.add(z),I.moveTo(z,i)}else if("append"===l)for(var E=0;E<A.length;E++){var z=A[E];J.dm&&J.dm().remove(z),I.add(z)}},R.drawDropLine=function(m,T,E,f,r,H,L,C){var D=this;if(C!=y){if(m.save(),m.beginPath(),m.rect(T,E,f,r),m.clip(),"append"===H)O.drawBorder(m,D.getDropLineColor(),T,E,f,r,2);else{var S=D.getRowIndent?D.getRowIndent()||0:0;T+=S,C+=D.ty()+E;var v=C;m.beginPath(),"up"===H?v+=3:"down"===H&&(v-=3),m.arc(T+4,v,3,0,d,!0),m.moveTo(T+4,C),m.lineTo(T+f,C),m.lineWidth=2,m.strokeStyle=D.getDropLineColor(),m.stroke()}m.restore()}},R.validateImpl=function(E,c,F,R){var s,M,K=this,o=K.getRootContext(),T=K.getRowHeightFunc(),l=K.getRowHeight(),d=K.tx(),r=K.ty(),Y=K.$271u,V=Y.size(),O=0;if(T)for(var $=0;V>$;$++)O+=T.call(K,Y.get($));else O=V*l;var m=K.$118u={x:-d,y:-r,width:F,height:R},x=K.$71u;K.$188u=O-(K.isClipLastRowLine()?K.getRowLineSize():0);var p=0;if(T){for(var $=0;V>$;$++){var g=T.call(K,Y.get($));if(p+g>=m.y){s=$;break}p+=g}s==y&&(s=0)}else s=w(m.y/l);var t=K._startRowIndexOffset,J=s,k=p;if(t&&(J=s-t,0>J&&(J=0),T))for(var $=1;s-J>=$;$++){var g=T.call(K,Y.get(s-$));k-=g}if(0>s&&(s=0),K.$70u=s,T){for(var N=p,$=s;V>$;$++)if(N+=T.call(K,Y.get($)),N>=m.y+m.height){M=$+1;break}M==y&&(M=V)}else M=i((m.y+m.height)/l);M>V&&(M=V),K.$69u=M,o.save(),o.beginPath(),o.rect(E,c,F,R),o.clip(),o.translate(E,c),o.translate(d,r),K.$340u(),K._93db(o),K.figureScrollBarIndent&&(K._scrollBarIndent=K.figureScrollBarIndent("left"),K._rightScrollBarIndent=K.figureScrollBarIndent("right"));for(var $=J;M>$;$++){var S,j=Y.get($);T?(S=T.call(K,j),K.drawData(o,j,$,k,S,M),k+=S):K.drawData(o,j,$,$*l,l,M)}if(K._92db(o),o.translate(-d,-r),o.translate(-E,-c),x){var a=K.getRowIndex(x),q=K._makeVisibleDataHeight;a!=y&&K.scrollToIndex(a,q),delete K.$71u,delete K._makeVisibleDataHeight}o.restore(),K.drawDropLine(o,E,c,F,R,K.$224u,K.$223u,K.$222u),K.tx(K.tx()),K.ty(K.ty())},R.selectNext=function(F,S){var _=this,g=_.isCheckMode(),H=_.$271u,x=H.size(),f=_.sm();if(F){var t=_.getRowIndex(F);t>=0&&t!==x-1&&(F=H.get(t+1),S?_.setHoverData(F):g?_.setFocusData(F):f.ss(F))}else x>0&&(F=H.get(0),S?_.setHoverData(F):g?_.setFocusData(F):f.ss(F))},R.selectPrevious=function(d,m){var K=this,q=K.isCheckMode(),T=K.$271u,M=T.size(),z=K.sm();if(d){var R=K.getRowIndex(d);R>=0&&0!==R&&(d=T.get(R-1),m?K.setHoverData(d):q?K.setFocusData(d):z.ss(d))}else M>0&&(d=T.get(M-1),m&&K.setHoverData(d),q?K.setFocusData(d):z.ss(d))}}});var Nk=function(h,$){var r,i=h.getChildren();return i.each(function(f){$.isVisible(f)&&(r||(r=new z.List),r.add(f))}),r};us({$150u:function(U){U._rootData=y,U.resetIndeterminate=function(X,P){var g,c=this;if(X)g=Nk(X,c);else{g=c.$271u||c.dm().getRoots();var p=g;g=new z.List,p.each(function(R){c.isVisible(R)&&g.add(R)})}if(g)if("all"===P){for(var l=!0,V=!1,h=0,_=g.size();_>h;h++){var v=g.get(h);Nk(v,c)&&c.resetIndeterminate(v,P),c.isSelected(v)&&(V=!0),(!c.isSelected(v)||c.isIndeterminateSelected(v))&&(l=!1)}X&&(X._indeterminateSelected=V?!l:y)}else{for(var h=0,_=g.size();_>h;h++){var v=g.get(h);Nk(v,c)&&c.resetIndeterminate(v,P)}X&&(X._indeterminateSelected=y)}},U.isIndeterminateSelected=function(V){return V._indeterminateSelected},U.$137u=function(){this.$262u={},this.$263u={},this._allRows=new I},U.getAllRowDatas=function(){return this._allRows},U.validateModel=function(){var J=this,z=J._rootData;J.$271u.clear(),J._allRows.clear(),J.$263u={},J._rowMap={},J.$264u=0,z?J.isRootVisible()?J.isVisible(z)&&J.buildData(z):J.$56u(z):J.$56u(),delete J.$264u},U.buildData=function($,r){var u=this,P=$._id,b=u.$271u,E=u._allRows;E.add($),r||(u._rowMap[P]=b.size(),b.add($),u.$263u[P]=u.$264u),u.$264u++,u.$56u($,r||!u.isExpanded($)),u.$264u--},U.$56u=function(q,m){var k=this,O=q?q._children:k._dataModel._roots,Z=k.getCurrentSortFunc();Z&&k.isChildrenSortable(q)?O.toList(k.isVisible,k).sort(Z).each(function(U){k.buildData(U,m)}):O.each(function(T){k.isVisible(T)&&k.buildData(T,m)})},U.getLevel=function(p){return this.$263u[p._id]},U.getToggleIconDrawable=function(I){var M,r=this,j=r.getLoader(),J=r.getCollapseIconDrawable(I);if(r.isCheckMode()?r.getFocusData()===I?M="select":r.getHoverData()===I&&(M="hover"):r.isSelected(I)?M="select":r.getHoverData()===I&&(M="hover"),j&&!j.isLoaded(I))return"select"===M?r.getSelectCollapseIconDrawable(I)||J:"hover"===M?r.getHoverCollapseIconDrawable(I)||J:J;var v=I.getChildren&&I.getChildren(),Y=!1;if(v)for(var t=0;t<v.size();t++)if(r.isVisible(v.get(t))){Y=!0;break}if(Y){if(r.isExpanded(I)){var E=r.getExpandIconDrawable(I);return"select"===M?r.getSelectExpandIconDrawable(I)||E:"hover"===M?r.getHoverExpandIconDrawable(I)||E:E}return"select"===M?r.getSelectCollapseIconDrawable(I)||J:"hover"===M?r.getHoverCollapseIconDrawable(I)||J:J}return y},U.isCheckMode=function(){var U=this.getCheckMode();return U==y&&(U=this.getStyleValue("checkMode")),U!=y},U.isChildrenSortable=function(){return!0},U.handleDataModelChange=function(u){var P=this;u.kind===nc?delete P.$262u[u.data._id]:u.kind===Lp&&(P.$262u={}),P.ivm()},U.toggle=function(s){var u=this;u.isExpanded(s)?u.collapse(s):u.expand(s)},U.isExpanded=function(d){return 1===this.$262u[d._id]},U.expand=function(C){var t=this,T=t._loader;t.isExpanded(C)||(T&&!T.isLoaded(C)&&T.load(C),t.fireViewEvent({kind:"expand",data:C,source:t}),t.$262u[C._id]=1,t.ivm(),t.onExpanded(C),t.fireViewEvent({kind:"expanded",data:C,source:t}))},U.onExpanded=function(){},U.collapse=function(z){var p=this;p.isExpanded(z)&&(p.fireViewEvent({kind:"collapse",data:z,source:p}),delete p.$262u[z._id],p.ivm(),p.onCollapsed(z),p.fireViewEvent({kind:"collapsed",data:z,source:p}))},U.onCollapsed=function(){},U.expandAll=function(Q){var B=this;Q?(B.expand(Q),Q.eachChild(function(_){B.expandAll(_)},B)):(B._dataModel.each(function(u){u.hasChildren()&&(B.$262u[u._id]=1)}),B.fireViewEvent({kind:"expandAll",source:B}),B.ivm())},U.collapseAll=function(){var e=this;e.$262u={},e.fireViewEvent({kind:"collapseAll",source:e}),e.ivm()},U.isDroppable=function(t,f,R){var r=this,X=r.$271u,Q=!0;if("up"===f||"down"===f){X.indexOf(R);a:for(var p=0,P=t.length;P>p;p++){var i=t[p],b=X.indexOf(i),g=i.getParent();if(i===R||R.isDescendantOf(i)){Q=!1;break}if("up"===f&&g==R.getParent())for(var j=b+1,c=X.size();c>j;j++){var q=X.get(j);if(q.getParent()===g){if(q==R){Q=!1;break a}break}}else if("down"===f&&i.getParent()==R.getParent())for(var j=b-1;j>=0;j--){var q=X.get(j);if(q.getParent()===g){if(q==R){Q=!1;break a}break}}}}else if(f===Sj)for(var p=0,P=t.length;P>p;p++){var i=t[p];if(i===R||R.isDescendantOf(i)||i.getParent()===R){Q=!1;break}}return Q},U.handleDrop=function(q,A,a,i){var U=this,m=q.source,t=q.target,n=U.dm();if(m===t){var T=i?i.getParent():y;if("up"===a)for(var j=0,E=A.length;E>j;j++){var $=A[j];$.setParent(T);var S=T?T.getChildren():n.getRoots(),M=S.indexOf(i);S.indexOf($)<M&&M--,n.moveTo($,M)}else if("down"===a)for(var j=A.length-1;j>=0;j--){var $=A[j];$.setParent(T);var S=T?T.getChildren():n.getRoots(),M=S.indexOf(i);M++,S.indexOf($)<M&&M--,n.moveTo($,M)}else if(a===Sj){for(var j=0,E=A.length;E>j;j++){var $=A[j];$.setParent(i)}U.expand(i)}else for(var j=0;j<A.length;j++){var $=A[j];$.setParent(U.getRootData()),n.moveToBottom($)}}else{var g=function(m){if(m&&m.size()>0)for(var j=0,F=m.size();F>j;j++){var Q=m.get(j);n.add(Q),g(Q.getChildren())}};if("up"===a)for(var d=i.getParent(),S=d?d.getChildren():n.getRoots(),j=0,E=A.length;E>j;j++){var $=A[j],M=S.indexOf(i);m.dm&&m.dm().remove($,{keepStructure:!0}),$.setParent(d),n.add($),n.moveTo($,M),g($.getChildren())}else if("down"===a)for(var d=i.getParent(),S=d?d.getChildren():n.getRoots(),j=A.length-1;j>=0;j--){var $=A[j],M=S.indexOf(i);M++,m.dm&&m.dm().remove($,{keepStructure:!0}),$.setParent(d),n.add($),n.moveTo($,M),g($.getChildren())}else if(a===Sj){for(var j=0,E=A.length;E>j;j++){var $=A[j];m.dm&&m.dm().remove($,{keepStructure:!0}),$.setParent(i),n.add($),g($.getChildren())}U.expand(i)}else if("append"===a)for(var j=0,E=A.length;E>j;j++){var $=A[j];m.dm&&m.dm().remove($,{keepStructure:!0}),$.setParent(U.getRootData()),n.add($),g($.getChildren())}}},U.drawDropLine=function(I,e,P,J,V,K,c,Y){var f=this;if(Y!=y){var Z=f.getRowIndent?f.getRowIndent():0;if(I.save(),I.beginPath(),I.rect(e,P,J,V),I.clip(),"append"===K)O.drawBorder(I,f.getDropLineColor(),e,P,J,V,2);else if(K===Sj){var C=f.getIndent(),j=f.$263u[c._id],$=C*j;e+=Z,e+=$,Y+=f.ty()+P;var A,E=f.getRowHeightFunc();A=E?E.call(f,c):f.getRowHeight(),O.drawBorder(I,f.getDropLineColor(),e,Y,J-=$,A,2)}else{var C=f.getIndent(),j=f.$263u[c._id];e+=Z,e+=C*j,f.getToggleIconDrawable(c)||(e+=f.getIconWidth()),Y+=f.ty()+P;var x=Y;I.beginPath(),"up"===K?x+=3:"down"===K&&(x-=3),I.arc(e+4,x,3,0,d,!0),I.moveTo(e+4,Y),I.lineTo(e+J,Y),I.lineWidth=2,I.strokeStyle=f.getDropLineColor(),I.stroke()}I.restore()}},U.makeVisible=function(r){if(r){var f=this;if(!f._rootData||r.isDescendantOf(f._rootData)){for(var V=r._parent;V;)f.expand(V),V=V._parent;f.$71u=r,f.iv()}}},U.checkDatas=function(N){if(N){N._as&&(N=N._as);for(var b=0,F=N.length;F>b;b++)this.checkData(N[b])}},U.checkData=function(U){var G,J=this,R=J.getCheckMode(),F=J.sm(),W=F.co(U);if(!(F.sg()&&W||!J.isSelectable(U))){if(J.$184u=1,R===Bq)W?F.rs(U):F.as(U);else if(R===gn)G=new I(U),G.addAll(U._children);else if("descendant"===R)G=new I,rm(U,G);else if("all"===R){G=new I,rm(U,G);var k=U._parent;if(W)for(;k;){for(var r=k.getChildren(),$=!0,a=0,L=r.size();L>a;a++){var T=r.get(a);if(T!==U&&F.co(T)){$=!1;break}}if(!$)break;F.rs(k),k=k._parent}else for(;k;)G.add(k),k=k._parent}G&&(W?F.rs(G):F.as(G)),delete J.$184u}},U.drawToggleIcon=function(O,c,r,F,L,C){return O&&O.draw(c,r,F,L,C,this),F},U.drawTree=function(K,h,D,l,a,y,X){var M=this,E=M.getIndent(),W=M.$263u[h._id],b=M.getIconWidth(h),V=M.getIconHeight(h),S=M.getIconGap(),x=M instanceof H.TreeTableView,R=x?M.getTreeColumn().getRenderer():M.getRowRenderer(),u=M.getRowIndent?M.getRowIndent()||0:0,T=a+(X-V)/2,e=M.getToggleIconDrawable(h);if(l+=u,l+=E*W,M.isToggleIconVisible()){var v=M.drawToggleIcon(e,l,T,b,V,h);l+=(v==C?b:v)+S}if(M.isCheckMode()){var r=M.drawCheckIcon(M.getViewCheckIconDrawable(h),l,T,b,V,h);l+=(r==C?b:r)+S}if(R){var p,m=0;if(x){p=M.getTreeColumn();var Q=M.getColumnInfo(p);m=Q.startX}H._uiRendererLoadedMap||(H._uiRendererLoadedMap={});var $=H._uiRendererLoadedMap[R];if($){var P=O.parse($);if(!P.comps){if(h.__$uiRendererIns){if(!x)return[h.__$uiRendererIns,l,y-(l-m)];if(h.__$uiRendererIns[p.getId()])return[h.__$uiRendererIns[p.getId()],l,y-(l-m)]}var s=new H.UIJSONSerializer;s.setShipListeners(!0);var q=s.deserialize(H._uiRendererLoadedMap[R]);return x?(h.__$uiRendererIns||(h.__$uiRendererIns={}),h.__$uiRendererIns[p.getId()]=q):h.__$uiRendererIns=q,q.fireViewEvent({kind:"rendererInit",renderer:q,data:h,column:p,master:M}),[q,l,y-(l-m)]}ql(K,P,"fill",l,a,y-(l-m),X,h,M)}else H._uiRendererLoadingMap||(H._uiRendererLoadingMap={}),H._uiRendererLoadingMap[R]?H._uiRendererLoadingMap[R].indexOf(M)<0&&H._uiRendererLoadingMap[R].push(M):(H._uiRendererLoadingMap[R]=[M],O.xhrLoad(R,function(u){H._uiRendererLoadedMap[R]=u,H._uiRendererLoadingMap[R].forEach(function(r){r.iv()}),H._uiRendererLoadingMap[R]=null}))}else{M.getIcon(h)&&(M.drawIcon(K,h,l,T,b,V),l+=b+S);var j=M.drawLabel(K,h,l,a,X);if(j){var L=M instanceof z.ui.TreeTableView?M.getTreeColumn().getId():0;return M.addElement(j,h.getId(),L,l,a,y-l,X),!0}}}}}),us({$162u:function(z){z.getIcon=function(v){return v.getIcon()},z.drawLabel=function(V,m,i,S,Y){var $=this;Yl(V,$.getLabel(m),$.getLabelFont(m),$.getCurrentLabelColor(m),i,S,0,Y)},z.drawIcon=function(E,l,j,w,c,H){if(c){var x=this,n=x.getBodyColor(l),Y=fp(x.getIcon(l),n);if(Y){var Z=x.getIconStretch&&x.getIconStretch();Z==y&&(Z="centerUniform"),ql(E,Y,Z,j,w,c,H,l,x,n),vr(E,x.getBorderColor(l),j,w,c,H)}}}}}),us({$151u:function(A){A.$164u=function(){var e=this,S=e.$117u=new j;e.$86u=new I,S.mm(e.$186u,e),S.md(e.$185u,e),S.mh(e.$187u,e)},A.setColumnModel=function(s){var x=this,Y=x.$117u;Y!==s&&(delete x.$123u,Y&&(Y.umm(x.$186u,x),Y.umd(x.$185u,x),Y.umh(x.$187u,x)),x.$117u=s,s.mm(x.$186u,x),s.md(x.$185u,x),s.mh(x.$187u,x),x.$186u(),s.each(function(Y){Y.s("treeColumn")&&x.addTreeColumn(Y)}),x.fp("columnModel",Y,s),!x.$123u&&x instanceof H.TreeTableView&&x.addTreeColumn())},A.getScrollBarIndent=function(){return this._scrollBarIndent},A.getRightScrollBarIndent=function(){return this._rightScrollBarIndent},A.setColumns=function(e){this.$117u.clear(),this.addColumns(e)},A.setColumnDatas=function(p,l){if(p&&(Sp(p)&&(p=O.parse(p)),Jr(p))){var f=this,k=f.getColumnModel(),d=f.$90u;delete f.$123u;var y=new H.SimpleDMJSONSerializer(k);k.clear(),y.deserialize(p,null,l),d&&f.isCheckMode()&&k.add(d,0),k.each(function(Z){f.addTreeColumn&&Z.s("treeColumn")&&f.addTreeColumn(Z)}),!f.$123u&&f instanceof H.TreeTableView&&f.addTreeColumn()}},A.getColumnDatas=function(){var M=this,n=M.getColumnModel(),T=M.$90u,f=new H.SimpleDMJSONSerializer(n);return f.isSerializable=function(u){return u!==T},f.toJSON()},A.makeColumnVisible=function(L,m){if(L&&!L.getFixed()&&L.getDataModel()===this.getColumnModel()){for(var N=this,Y=N.$86u,O=Y.size(),c=N.$118u,E=c.x,Z=c.width,x=0,h=0;O>h;h++){var o=Y.get(h),F=o.column,e=F.getFixed(),A=F.hasChildren();e&&!A&&(Z-=o.width)}for(var h=0;O>h;h++){var o=Y.get(h),F=o.column,e=F.getFixed(),A=F.hasChildren();if(!e&&!A){var V=o.width;if(F===L){m==y&&(m=V);break}x+=V}}x+m>E+Z?N.tx(-x+Z-m):E>x&&N.tx(-x)}},A.invalidateColumnInfos=function(K,A){var $=this;$._invalidateColumnInfos||($.checkPreferredSize("ivc"),$.checkMinSize("ivc"),$.checkMaxSize("ivc"),$._invalidateColumnInfos=!0,A?$.fireViewEvent({kind:"invalidateColumnInfos",type:K,property:A}):$.fireViewEvent({kind:"invalidateColumnInfos",type:K})),$.iv()},A.addColumns=function(q){var i=this.$117u;q.forEach(function(b){if(!(b instanceof xs)){var Z=Ee(b.className);b=Rg(Z?Z:xs,b);var Q=b.parentId;if(Q!=y){var r=i.getDataById(Q);b.setParent(r)}}i.add(b)})},A.onColumnClicked=function(){},A.onCheckColumnClicked=function(){},A.isColumnShowing=function(q){var W=this,P=W._startColumnIndexOffset,$=0;if(P!=y)for(var L=W.getColumnInfos(),O=L.size(),H=L.indexOf(q),k=1;P>0&&!(H+k>=O);){var z=L.get(H+k),o=z.column;k++,o.hasChildren()||($+=z.width,P--)}var Y=q.column;if(Y.getFixed())return!0;var N=W.$118u,b=q.startX,J=q.width,D=W._scrollBarIndent||0,U=W._rightScrollBarIndent||0;return b<=N.x+N.width-U&&b+J>=N.x-$+D?!0:void 0},A.getColumnInfo=function(H){for(var P,u=0,C=this.$86u,r=C.size();r>u;u++)if(P=C.get(u),P.column===H)return P;return y},A.getColumnsAt=function(p){var W=this.getColumnInfosAt(p),i=[];if(W)for(var K=0,U=W.length;U>K;K++)i.push(W[K].column);return i},A.getColumnAt=function(O){var n=this.getColumnInfoAt(O);return n?n.column:y},A.getColumnDisplayWidth=function(f){var x=this,l=x.getColumnInfo(f);return l?l.width:void 0},A.figureColumnDisplayWidth=H.TableHeader.prototype.figureColumnDisplayWidth,A.getColumnInfosAt=function(n){var K=this,y=Nl(n)?K.lp(n).x:n.x,x=K.$86u,g=[],Z=x.size(),U=K.tx(),t=0;for(t=0;Z>t;t++){var d=x.get(t),S=d.startX,r=y;d.column.getFixed()&&(r+=U,r>=S&&r<S+d.width&&g.push(d))}for(t=0;Z>t;t++){var d=x.get(t),S=d.startX,r=y;d.column.getFixed()||r>=S&&r<S+d.width&&g.push(d)}return g},A.getColumnInfoAt=function(L){var x=this,t=x.getColumnInfosAt(L);if(t)for(var U=0,e=t.length;e>U;U++)if(!t[U].hasChildren)return t[U]},A.getColumnInfos=function(){return this.$86u},A.getToolTip=function(N){var h=this,T=h.getDataAt(N),z=h.getColumnAt(N);return T&&z?z.getToolTip(T,h):y},A.adjustTranslateX=function(j){var q=this.getContentWidth(),Y=this.$189u,X=q-Y;return X>j&&(j=X),j>0&&(j=0),T(j)},A.getEditorClassAt=function(t,C){var N=this,R=t instanceof H.Column?t:N.getColumnAt(t);if(R){var h=R.getEditorClass(C);return h}},A.isDataEditable=function(o,C){var T=this,p=T.getColumnAt(o);return C=C==y?T.getDataAt(o):C,p?p.isEditable(C):void 0},A.getEditorViewProperties=function(O,f){return f.s("editorViewProperties")},A.initEditorView=function(W,x,o){var e=this,Q=o.$230u=o.initEditorView(e,W,e.getValue(W,x),x);Q.getStyleParent=function(){return e};var l=e.getEditorViewProperties(W,x);if(l)for(var L in l)Q[mi(L)](l[L]);return Q.setStyle&&Q.setStyle(o.__style),Q},A.beginEdit=function(C,k,g){var N=this;if(!N.$270u){if(!(g instanceof H.editor.Editor)){if(g||(g=N.getEditorClassAt(k,C)),Sp(g)&&(g=O.getClass(g)),!g)return;var o=g;g=new o}var m;m=k instanceof H.Column?N.getColumnInfo(k):N.getColumnInfoAt(k);var V=N.$230u=N.initEditorView(C,m.column,g);N.$270u=g,N.$231u=C,N.$277u=m.column,N._editorValue=g.getEditorValue();var z=N.getEditorRect(C,m),r=z.x,b=z.y,E=z.width,Y=z.height,M=N.isRowLineVisible(C),A=M?N.getRowLineSize():0;N.layoutEditor(V,r,b,E,Y-A),N.$67u||(N.$67u=N.$318u.bind(this)),N.$68u||(N.$68u=N.$213u.bind(this)),g.addValueChangeListener(N.$67u),g.addEditorListener(N.$68u),N.getContentDiv().appendChild(V.getView()),V.iv(!0),V.validate(),g.shouldSelect()&&(V.a("editorId")?V.findViewById(V.a("editorId")).requestFocus():V.requestFocus()),g.afterLayout(V),N.fireViewEvent({kind:"beginEdit",data:C,column:k,editor:g,editorView:V}),N.iv()}},A.getEditorRect=function(p,c){var S,n=this,b=n.$271u,M=b.size(),e=n.getRowHeightFunc(),W=-n.tx(),J=0;if(e){S=e.call(n,p);for(var o=0;M>o;o++){var x=b.get(o);if(x===p)break;J+=e.call(n,x)}}else S=n.getRowHeight(),J=n.getRowIndex(p)*S;var R=c.startX,X=c.column,L=c.width;if(X!==n.$90u){var B={x:(X.getFixed()?W:0)+R,y:J,width:L,height:S},Z={x:B.x+n.tx(),y:B.y+n.ty(),width:B.width,height:B.height};return Z}},A.setDataValue=function(h,s,P){var F=this;if(F.isBatchEditable()&&P.isBatchEditable()&&F.isSelected(s)){var r;F.sm().each(function(O){if(P.setValue){var D=P.setValue(O,P,h,F);r||(r=D)}else{var b=ih(O,P.getAccessType(),P.getName());Em(O,P.getAccessType(),P.getName(),h),r||(r=b!==h)}})}else{if(P.setValue)return P.setValue(s,P,h,F);var V=ih(s,P.getAccessType(),P.getName());if(Em(s,P.getAccessType(),P.getName(),h),V!==h)return!0}},A.$163u=function(){var e=this;e.$270u=e.$230u=e.$231u=e.$277u=e._editorValue=y},A.figurePreferredSize=function(){var U,R,j=this,K=j.getRowHeightFunc();j.$116u&&(j.validateModel(),j.$116u=y),U=j.$271u;var O=0,k=0,c=N(j.getPreferredSizeRowCountLimit(),U.size());if(j.$117u._roots.each(function(p){if(p.isVisible()){var F=p.getWidth();O+=F>=0?F:80}}),K)for(var t=0;c>t;t++){var o=U.get(t);k+=K.call(j,o)}else k=c*j.getRowHeight();return R={width:O,height:k},R.width+=j.getBorderLeft()+j.getBorderRight()+j.getPaddingLeft()+j.getPaddingRight(),R.height+=j.getBorderTop()+j.getBorderBottom()+j.getPaddingTop()+j.getPaddingBottom(),R.width=i(R.width),R.height=i(R.height),R},A.$214u=function(r,m,e,t){var c=this;if(m){var j=m.size();if("right"!==e||t)for(var k=0;j>k;k++){var u=m.get(k),S=u.getFixed(),b=u._children,q=b.size()>0;if(e==S&&u.isVisible()&&(u instanceof H.GroupColumn?q:!0)){var D=c.figureColumnDisplayWidth(u),w=c.$189u,x=w;r.add({column:u,startX:x,hasChildren:q,width:D}),q?c.$214u(r,b,e,t):c.$189u=w+D}}else for(var k=j-1;k>=0;k--){var u=m.get(k),S=u.getFixed(),b=u._children,q=b.size()>0;if(e==S&&u.isVisible()&&(u instanceof H.GroupColumn?q:!0)){var D=c.figureColumnDisplayWidth(u),x=c.__contentWidth-D;q&&c.$214u(r,b,e,t),r.add({column:u,startX:x,hasChildren:q,width:D},r.size()-c.__rightCount),c.__rightCount++,q||(c.$189u+=D,c.__contentWidth-=D)}}}},A.$124u=function(){var e=this,J=e.$86u;J.clear(),e.$189u=0,e.$214u(J,e.$117u._roots,"left"),e.$214u(J,e.$117u._roots,y);var M=0,W=function(N){for(var X=N.size(),r=X-1;r>=0;r--){var i=N.get(r),R=i.getFixed(),c=i._children,I=c.size()>0;if("right"===R&&i.isVisible()&&(i instanceof H.GroupColumn?I:!0)){var u=e.figureColumnDisplayWidth(i);I?W(c):M+=u}}};W(e.$117u._roots);var a=e.getContentWidth();e.$189u+M>a?(e.__contentWidth=a,e.__rightCount=0,e.$214u(J,e.$117u._roots,"right"),delete e.__contentWidth,delete e.__rightCount):e.$214u(J,e.$117u._roots,"right",!0)},A.isFixedShadowVisible=function(N,f){return N>0&&0!==f},A.drawFixedShadow=function(c,B,U,k,Z,H){c.save(),c.beginPath();var G=c.createLinearGradient(B,U,B+k,U);G.addColorStop(0,H),G.addColorStop(1,"rgba(0,0,0,0)"),c.rect(B,U,k,Z),c.fillStyle=G,c.fill(),c.restore()},A.isRightFixedShadowVisible=function(k,o){var c=this.getScrollRect().width;return c=T(1e3*c)/1e3,k>0&&o+c>this.getContentWidth()?!0:void 0},A.drawRightFixedShadow=function(S,G,r,m,I,Q){S.save(),S.beginPath();var k=S.createLinearGradient(G,r,G+m,r);k.addColorStop(0,"rgba(0,0,0,0)"),k.addColorStop(1,Q),S.rect(G,r,m,I),S.fillStyle=k,S.fill(),S.restore()},A.figureScrollBarIndent=function(w){var Z=this,s=0;return Z.$86u.each(function(c){var u=c.column,N=u.getFixed(),H=c.width;N==w&&H>0&&!c.hasChildren&&Z.isColumnShowing(c)&&(s+=H)}),s},A.drawDataColumn=function(b,o,N,k,c,W,m,s){var v=this,x=-v.tx();v.$86u.each(function(d){var _=d.column,T=_.getFixed(),z=d.startX,A=d.width;if(T==m&&A>0&&!d.hasChildren&&v.isColumnShowing(d)&&!v.isEditing(o,_)){var i=_.getPaddingLeft(),S=_.getPaddingRight(),h=(m?x:0)+z+i,n=_.getCellBackground,J=A-i-S;if(b.save(),n){var r=_.getCellBackground(v.getValue(o,_),o);r=O.toDrawable(r),r&&r instanceof H.drawable.Drawable&&r.draw((m?x:0)+z,k,A,c,o,v)}b.beginPath(),b.rect(h,k,0>J?0:J,c),b.clip();var e=v.drawCell(b,o,W,_,h,k,J,c);if(e!==!0&&(Array.isArray(e)?v.addElement(e[0],o.getId(),_.getId(),e[1],k,e[2]==y?J:e[2],c):v.addElement(e,o.getId(),_.getId(),h,k,J,c)),b.restore(),v.isColumnLineVisible(o,_)){var V=v.isRowLineVisible(o)?v.getRowLineSize():0;N===s-1&&v.isClipLastRowLine()&&(V=0),uh(b,(m?x:0)+z+A-1,k,1,c+V,v.getColumnLineColor())}}})},A.drawData=function(T,J,x,h,C,u){var F=this,M=F.isSelected(J),K=F.$118u,l=K.x,U=F.isRowLineVisible(J),N=U?F.getRowLineSize():0,L=F.getCurrentRowBackgroundDrawable(J,M,x),p=K.width;C-=N,F.drawRowBackground(L,l,h,p,C,J),F.drawDataColumn(T,J,x,h,C,M,"left",u),F.drawDataColumn(T,J,x,h,C,M,"right",u);var S=F._scrollBarIndent,Q=F._rightScrollBarIndent,G=!1;if(S>0||Q>0){var W,w;W=l+S,w=p-S-Q,T.save(),T.beginPath(),T.rect(W,h,w,C),T.clip(),G=!0}F.drawDataColumn(T,J,x,h,C,M,y,u),G&&T.restore(),u-1>x?U&&F.drawRowLine(T,F.getRowLineColor(),l,h+C,p,N,J):x!==u-1||F.isClipLastRowLine()||F.drawRowLine(T,F.getRowLineColor(),l,h+C,p,N,J)},A.drawCell=function(p,Z,E,A,c,l,n,v){var B=this;if(A.drawCell)return A.drawCell(p,Z,E,A,c,l,n,v,B);var X=A.getRenderer();if(X){H._uiRendererLoadedMap||(H._uiRendererLoadedMap={});var w=H._uiRendererLoadedMap[X];if(w){var G=O.parse(w);if(!G.comps){var f=Z.__$uiRendererIns&&Z.__$uiRendererIns[A.getId()];if(f)return[f,c];var K=new H.UIJSONSerializer;K.setShipListeners(!0);var I=K.deserialize(H._uiRendererLoadedMap[X]);return Z.__$uiRendererIns||(Z.__$uiRendererIns={}),Z.__$uiRendererIns[A.getId()]=I,I.fireViewEvent({kind:"rendererInit",renderer:I,data:Z,column:A,master:B}),[I,c]}ql(p,G,"fill",c,l,n,v,Z,B)}else H._uiRendererLoadingMap||(H._uiRendererLoadingMap={}),H._uiRendererLoadingMap[X]?H._uiRendererLoadingMap[X].indexOf(B)<0&&H._uiRendererLoadingMap[X].push(B):(H._uiRendererLoadingMap[X]=[B],O.xhrLoad(X,function(M){H._uiRendererLoadedMap[X]=M,H._uiRendererLoadingMap[X].forEach(function(q){q.iv()}),H._uiRendererLoadingMap[X]=null}))}else{var x,C=B.getValue(Z,A);x=A.getLabelFont?A.getLabelFont(Z):B.getLabelFont(Z,A,C),eg(p,C,A,x,B.getCurrentLabelColor(Z,A,C),c,l,n,v,Z,B)}},A.getColumnModel=function(){return this.$117u},A.$186u=function(){this.invalidateColumnInfos("columnModelChange")},A.$185u=function(y){var k=this,M=y.property;M===bd||M===Fe||"fixed"===M?k.invalidateColumnInfos("columnPropertyChange",M):"renerer"===M&&k._dataModel.each(function(n){delete n.__$uiRendererIns}),y.data===k._sortColumn&&Ed[M]?k.ivm():k.iv()},A.$187u=function(){this.invalidateColumnInfos("columnHierarchyChange")},A.getCurrentSortFunc=function(){var p=this,m=p._sortColumn;if(m&&m.isSortable()){var o=m.getSortFunc(),$=Po===m.getSortOrder()?1:-1;return o||(o=p.getSortFunc()||Ym),function(C,L){return o.call(p,p.getValue(C,m),p.getValue(L,m),C,L)*$}}return p.getSortFunc()}}});var xs=H.Column=function(){xs.superClass.constructor.call(this)};sf("ht.ui.Column",z.Data,{ms_ac:["accessType","valueType",Fe,cr,fd,bd,"sortOrder",Km,"sortable","editorClass","summary","renderer","editorView"],ui_ac:["paddingLeft","paddingRight","align"],_visible:!0,_width:100,_sortFunc:y,_sortable:!0,_summary:"first",__align:dn,__paddingLeft:4,__paddingRight:4,getStyle:function(){return 0===arguments.length?this._style:xs.superClass.getStyle.apply(this,arguments)},setStyle:function(R,t){if(t!=y||!Sp(R))return xs.superClass.setStyle.apply(this,arguments);var j="_style",v=this[j];this[j]=R,this.fp("style",v,R)},getFixed:function(){for(var e=this;e;){var p=e.getParent();if(!p)break;e=p}return e._fixed},isFixed:function(){return this.getFixed()},setFixed:function(K){var d=this._fixed;this._fixed=K,this.fp("fixed",d,K)},setWidth:function(E){16>E&&E>=0&&(E=16);var S=this._width;this._width=E,this.fp(bd,S,E)},getToolTip:function(C,l){return C&&l?this.formatValue(l.getValue(C,this),C):void 0},formatValue:function(G){var r=this,N=r._valueType;if(N===x)return!!G;if(G!=y){if(N===o)return T(G);if(Oi(G))return T(100*G)/100}return G},getSerializableProperties:function(){var L=Fb(xs.superClass.getSerializableProperties.call(this));return delete L.toolTip,L.accessType=1,L.valueType=1,L.visible=1,L.editable=1,L.batchEditable=1,L.width=1,L.align=1,L.sortOrder=1,L.sortable=1,L.editorClass=1,L.paddingLeft=1,L.paddingRight=1,L.summary=1,L.renderer=1,L.fixed=1,L.editorView=1,L}});var yi=H.GroupColumn=function(){yi.superClass.constructor.call(this)};sf("ht.ui.GroupColumn",H.Column,{isSortable:function(){return!1},getSerializableProperties:function(){var R=Fb(yi.superClass.getSerializableProperties.call(this));return delete R.width,R}});var ne=H.EnumColumn=function(){ne.superClass.constructor.call(this)};sf("ht.ui.EnumColumn",H.Column,{ms_ac:["datas","dropDownConfig","valueField","displayField","iconField"],_editorClass:mn,_displayField:"label",_iconField:"icon",_strict:!0,isStrict:function(){return this._strict},setStrict:function(r){var w=this,m=w._strict;m!==r&&(w._strict=r,w.fp("strict",m,r))},isReadOnly:function(){return this._readOnly},setReadOnly:function(Q){var B=this,D=B._readOnly;D!==Q&&(B._readOnly=Q,B.fp("readOnly",D,Q))},getValueData:function(n,Q){var O=this,U=O.getDatas(Q);if(U)for(var o=0,k=U.length;k>o;o++){var Q=U[o];if(O.valueEquals(n,Q))return Q}return n},valueEquals:function(E,I){var M=this,z=M.getValueField(),Z=M.isStrict();if(Z){if(I===E)return!0;if(I!=y&&(z!=y?I[z]===E:I.hasOwnProperty("id")&&I.id===E||I.hasOwnProperty("value")&&I.value===E))return!0}else{if(I==E)return!0;if(I!=y&&(z!=y?I[z]==E:I.hasOwnProperty("id")&&I.id==E||I.hasOwnProperty("value")&&I.value==E))return!0}},drawCell:function(O,C,G,i,d,X,z,p,m){var I=m.getValue(C,i),M=this.getDisplayField(),U=this.getIconField();if(I=i.getValueData(I,C)){var g=fp(I[U]),Y="object"==typeof I?I[M]:I,H=m.getIconWidth(),y=m.getIconHeight(),L=X+(p-y)/2,Q=i.getAlign(),l=m.getLabelFont(C,i,I),A=m.getCurrentLabelColor(C,i,I),h=go(l,Y).width;g||(H=0),Q===dn?(g&&ql(O,g,$j,d,L,H,y),Yl(O,Y,l,A,d+H+2,X,z,p,dn)):Q===mo?(g&&ql(O,g,$j,d+z-h-H,L,H,y),Yl(O,Y,l,A,d+2,X,z,p,mo)):(g&&ql(O,g,$j,d+(z-h-H)/2,L,H,y),Yl(O,Y,l,A,d+(z-h+H)/2+2,X,0,p,dn))}},getSerializableProperties:function(){var o=Fb(ne.superClass.getSerializableProperties.call(this));return o.datas=1,o.dropDownConfig=1,o.readOnly=1,o.valueField=1,o.iconField=1,o.displayField=1,o["is:strict"]=1,o}});var $k=H.Property=function(){$k.superClass.constructor.call(this)};sf("ht.ui.Property",z.Data,{ms_ac:["accessType","valueType",cr,"categoryName",B,"align","editorClass","paddingLeft","paddingRight","valueRenderer"],_categoryName:y,getToolTip:function(X,c,A){var S=this;return c?S.formatValue(A.getValue(X,S),X):A.getPropertyName(S)},formatValue:function(Q){var k=this,s=k._valueType;if(s===x)return!!Q;if(Q!=y){if(s===o)return T(Q);if(Oi(Q))return T(100*Q)/100}return Q},getSerializableProperties:function(){var j=Fb($k.superClass.getSerializableProperties.call(this));return delete j.toolTip,j.accessType=1,j.valueType=1,j.editable=1,j.categoryName=1,j.color=1,j.align=1,j.editorClass=1,j.paddingLeft=1,j.paddingRight=1,j.valueRenderer=1,j}});var Mi=H.EnumProperty=function(){Mi.superClass.constructor.call(this)};sf("ht.ui.EnumProperty",H.Property,{ms_ac:["datas","dropDownConfig","valueField","displayField","iconField"],_editorClass:mn,_displayField:"label",_iconField:"icon",isReadOnly:function(){return this._readOnly},setReadOnly:function(g){var R=this,n=R._readOnly;n!==g&&(R._readOnly=g,R.fp("readOnly",n,g))},getValueData:function(A,Z){var j=this,X=j.getValueField(),Q=j.getDatas(Z);if(Q)for(var T=0,e=Q.length;e>T;T++){var Z=Q[T];if(Z===A)return Z;if(Z!=y&&(X!=y?Z[X]===A:Z.hasOwnProperty("id")&&Z.id===A||Z.hasOwnProperty("value")&&Z.value===A))return Z}return A},drawPropertyValue:function(Q,r,B,y,f,H,n,X,x,$){var B=ih(x,r.getAccessType(),r.getName()),c=this.getDisplayField(),A=this.getIconField();if(B=r.getValueData(B)){var Y=fp(B[A]),g="object"==typeof B?B[c]:B,R=$.getIconWidth(),V=$.getIconHeight(),F=H+(X-V)/2,z=$.getValueAlign(r),u=$.getLabelFont(r),d=$.getCurrentLabelColor(r,B,y),W=go(u,g).width;Y||(R=0),z===dn?(Y&&ql(Q,Y,$j,f,F,R,V),Yl(Q,g,u,d,f+R+2,H,n,X,dn)):z===mo?(Y&&ql(Q,Y,$j,f+n-W-R,F,R,V),Yl(Q,g,u,d,f+2,H,n,X,mo)):(Y&&ql(Q,Y,$j,f+(n-W-R)/2,F,R,V),Yl(Q,g,u,d,f+(n-W+R)/2+2,H,0,X,dn))}},getSerializableProperties:function(){var X=Fb(Mi.superClass.getSerializableProperties.call(this));return X.datas=1,X.dropDownConfig=1,X.readOnly=1,X.valueField=1,X.iconField=1,X.displayField=1,X}}),H.ListView=function(f){var l=this;l.$136u(),l.setUpInteractors(),f instanceof j?l.dm(f):l.set(f),l._dataModel||l.dm(new j)},sf("ht.ui.ListView",df,{ui_ac:[h,W,"hoverLabelColor","unselectableLabelColor",_,"rowRenderer",tk,sb,Pd,"rowLineSize","is:clipLastRowLine",Km,"pannable","iconGap","drawable:focusRowBackground",hg,gq,"drawable:rowBackground","drawable:selectRowBackground","drawable:hoverRowBackground","drawable:stripeRowBackground","iconWidth","iconHeight","iconStretch","drawable:checkIcon","drawable:uncheckIcon","drawable:radioOnIcon","drawable:radioOffIcon","editorClass","editable","rowHeightFunc","is:checkMode","dragEnabled","dropEnabled","dropLineColor","rowIndent","preferredSizeRowCountLimit","editorValidator"],ms_ac:["hoverData"],_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{ivm:!0,preferredSizeRowCountLimit:!0,rowHeight:!0,rowHeightFunc:!0}),ms_bnb:1,ms_sm:1,_49o:1,ui_txy:1,$152u:1,$162u:1,ms_dm:1,$148u:1,__iconWidth:16,__preferredSizeRowCountLimit:10,__iconHeight:16,__rowHeight:26,__rowIndent:4,__radioOnIcon:"ui_"+E,__radioOffIcon:"ui_"+q,__checkIcon:"ui_"+V,__uncheckIcon:"ui_"+G,__rowLineVisible:!1,__clipLastRowLine:!1,__rowLineColor:M.lineColor,__autoMakeVisible:!0,__labelFont:M.font,__dropLineColor:M.insertColor,__checkMode:!1,__pannable:!0,__iconGap:4,__rowLineSize:1,__labelColor:M.textColor,__hoverRowBackground:M.hoverBackground,__selectRowBackground:M.rowSelectBackground,__focusRowBackground:M.rowSelectBackground,__unselectableLabelColor:M.textDimColor,getInteractorClasses:function(){return[H.ScrollInteractor,jc]},checkHitTest:function(n){var V=this;if(V.isCheckMode()){var y=n;n instanceof Event&&(y=V.lp(n));var B=y.x;if(B>=V.getRowIndent()&&B<=V.getRowIndent()+V.getIconWidth())return!0}},isDataEditable:function(X,k){var M=this,$=M.isEditable();return k=k==y?M.getDataAt(X):k,$&&k&&!M.checkHitTest(X)?!0:void 0},drawRow:function(I,g,j,F,c,U,T,z){var _=this,v=_.getRowIndent(),D=_.getIconGap(),f=_.getRowRenderer(),Y=_.getIconWidth(g),m=_.getIconHeight(g),M=_.getCurrentRowBackgroundDrawable(g,j,z);if(_.drawRowBackground(M,F,c,U,T,g),_.isCheckMode()&&(_.drawCheckIcon(_.getViewCheckIconDrawable(g),v,c+(T-m)/2,Y,m,g),v+=Y+D),f){H._uiRendererLoadedMap||(H._uiRendererLoadedMap={});
var B=H._uiRendererLoadedMap[f];if(B){var s=O.parse(B);if(!s.comps){if(g.__$uiRendererIns)return[g.__$uiRendererIns,v];var d=new H.UIJSONSerializer;d.setShipListeners(!0);var A=d.deserialize(H._uiRendererLoadedMap[f]);return g.__$uiRendererIns=A,A.fireViewEvent({kind:"rendererInit",renderer:A,data:g,master:_}),[A,v]}ql(I,s,"fill",v,c,U-v,T,g,_)}else H._uiRendererLoadingMap||(H._uiRendererLoadingMap={}),H._uiRendererLoadingMap[f]?H._uiRendererLoadingMap[f].indexOf(_)<0&&H._uiRendererLoadingMap[f].push(_):(H._uiRendererLoadingMap[f]=[_],O.xhrLoad(f,function(W){H._uiRendererLoadedMap[f]=W,H._uiRendererLoadingMap[f].forEach(function(d){d.iv()}),H._uiRendererLoadingMap[f]=null}))}else _.getIcon(g)&&(_.drawIcon(I,g,v,c+(T-m)/2,Y,m),v+=Y+D),_.drawLabel(I,g,v,c,T)},getSerializableProperties:function(){var b=H.ListView.superClass.getSerializableProperties.call(this);return Nf(b,{scrollBarMode:1,scrollBarColor:1,scrollBarSize:1,scrollBarTimeout:1,scrollBarMinLength:1,scrollBarActiveSize:1,autoScrollSize:1,labelColor:1,selectLabelColor:1,hoverLabelColor:1,unselectableLabelColor:1,labelFont:1,rowHeight:1,rowLineVisible:1,rowLineColor:1,sortFunc:1,pannable:1,iconGap:1,visibleFunc:1,autoMakeVisible:1,rowBackground:1,rowBackgroundDrawable:1,selectRowBackground:1,selectRowBackgroundDrawable:1,hoverRowBackground:1,hoverRowBackgroundDrawable:1,focusRowBackground:1,focusRowBackgroundDrawable:1,stripeRowBackground:1,stripeRowBackgroundDrawable:1,iconWidth:1,iconHeight:1,iconStretch:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,radioOnIcon:!0,radioOnIconDrawable:!0,radioOffIcon:!0,radioOffIconDrawable:!0,editorClass:1,editable:1,rowHeightFunc:1,"is:checkMode":1,dragEnabled:1,dropEnabled:1,dropLineColor:1,dataModel:1,selectionModelShared:1,selectionModel:1,rowIndent:1,preferredSizeRowCountLimit:1,editorValidator:1,rowRenderer:1,rowLineSize:1,"is:clipLastRowLine":1})}});var jc=function($){this.list=$,this.$319u&&this.$319u()};sf(jc,A,{ms_listener:1,$319u:function(){var U=this,H=U.list;H.addViewListener(function(p){var u=p.kind,$=H.isDropEnabled&&H.isDropEnabled();if($)if("dragEnter"===u)H.acceptDrop(p);else if("dragMove"===u){var T=p.target,_=p.source;delete T.$222u,delete T.$223u,delete T.$224u,T.autoScroll(p.nativeEvent);var z,M,v=T.lp(p.nativeEvent),b=T.$118u,o=T.$271u,R=o.size(),F=T.getRowHeightFunc(),J=0,K=v.y;if(F)if(K<b.y||K>=b.y+b.height)M="append";else{for(var a=0;R>a;a++){var B=o.get(a),W=F.call(T,B),q=W/2;if(J+q>K&&J>=b.y){z=B,M="up";break}if(J+W>K){if(J+W<=b.y+b.height){J+=W,z=B,M="down";break}if(J>=b.y){z=B,M="up";break}break}J+=W}M||(M="append")}else{var W=T.getRowHeight(),q=W/2;if(K<b.y||K>=N(b.y+b.height,T.$69u*W))M="append";else{var X=w(K/W);J=W*X,J+q>K&&J>=b.y?(z=o.get(X),M="up"):J+W<=b.y+b.height?(J+=W,z=o.get(X),M="down"):J>=b.y&&(z=o.get(X),M="up")}}var P=!0;if(_===T){var k,m=p.data.data,i=p.data.selection;k=i.contains(m)?i._as:[m],H.isDroppable(k,M,z)||(P=!1)}P&&M!=C&&(T.$222u=J,T.$223u=z,T.$224u=M),T.iv()}else if("dragCompleted"===u&&p.target===H){var _=p.source,T=p.target,o=T.$271u,z=T.$223u,M=T.$224u;if(M!=y){var k,m=p.data.data,i=p.data.selection;k=m&&i?i.contains(m)?i._as:[m]:p.data,_===T?H.isDroppable(k,M,z)&&H.handleDrop(p,k,M,z):H.handleDrop(p,k,M,z)}delete T.$222u,delete T.$223u,delete T.$224u,T.iv()}else if("dragExit"===u||"dragCanceled"===u){var T=p.target;T&&(delete T.$222u,delete T.$223u,delete T.$224u,T.iv())}})},getView:function(){return this.list._view},clear:function(){var v=this;v.state=v.$44u=v.$45u=v.$46u=v._touchstartData=v._touchMoveDate=v._touchMoveCp=v._velocityY=v._velocityX=v.infling=y},handle_mousedown:function(b){this.handle_touchstart(b)},handle_touchstart:function(s){var _=this,R=_.list;if(R.isSelfViewEvent(s)){var r=R.$270u;if(r&&r.stopEditing(),_.infling=!1,R._flingAnim&&(R._flingAnim.stop(),delete R._flingAnim,_.infling=!0),!s._htScroll){var y=_._touchstartData=R.getDataAt(s);if(R.requestFocus(),R.$261u.contains(Nl(s))||qd(s),y){var w=R.isDataEditable(s,y);if(w){var U=R.getEditorClassAt(s,y);if(U){var t=R.$228u(U);t&&t.isEditable(s,R)&&(R instanceof H.TableView||R instanceof H.TreeTableView?R.toggleHitTest&&R.toggleHitTest(s)||R.beginEdit(y,R.getColumnAt(s),t):R.beginEdit(y,t),_.clear(),s.stopPropagation())}}}R.$270u||(_.$44u=Hf(s),_.$45u=R.tx(),_.$46u=R.ty(),db(s)||_.clear())}}},handleWindowMouseUp:function(A){this.handleWindowTouchEnd(A)},handleWindowTouchEnd:function(E){if("p"===this.state){var c=this.$45u,i=this.$46u,p=this.$44u,z=Hf(E),B=this.list.getOverScrollEffect();B&&B.endPan(this.list,{kind:"endPan",nativeEvent:E,translateX:c+z.x-p.x,translateY:i+z.y-p.y}),this._velocityY&&D(this._velocityY)>50?this.list.flingV(this._velocityY):self._velocityX&&D(this._velocityX)>50&&this.list.flingV(this._velocityX)}this.clear(E)},handle_mouseup:function(K){this.handle_touchend(K)},handle_touchend:function(x){var I=this,v=I.list;if(I.infling&&(x.stopUIFling=!0),v.isSelfViewEvent(x)&&I.infling===!1){var T=v.getDataAt(x),L=v.isDataEditable(x,T);if(!I.state&&!vq.isDragging(v)&&L&&I.$44u){var N=Hf(x);if(fl(N,I.$44u)<qh){var b=v.$270u;if(b&&b.stopEditing(),T){var V=v.getEditorClassAt(x,T);if(V){var j=v.$228u(V);j&&j.isEditable(x,v)&&(v instanceof H.TableView||v instanceof H.TreeTableView?v.toggleHitTest&&v.toggleHitTest(x)||v.beginEdit(T,v.getColumnAt(x),j):v.beginEdit(T,j),O.getDragger()!==I&&I.clear(x))}}}}if(!v.$270u&&I.$44u&&!I.state&&!vq.isDragging(v)&&T){var Q=Hf(x);fl(Q,I.$44u)<qh&&(v.isCheckMode()?I.handleCheckMode(x,T):I.handleSelectMode(x,T)),dc(x)?(v.fireViewEvent({kind:"doubleClickData",data:T,nativeEvent:x}),v.onDataDoubleClicked(T,x)):(v.fireViewEvent({kind:"clickData",data:T,nativeEvent:x}),v.onDataClicked(T,x))}}O.getDragger()!==I&&I.clear(x)},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)},handleWindowTouchMove:function(n){if(!n._htScroll){var Y=this,y=Y.list,_=Y.state,A=Y.$45u,W=Y.$46u,E=Y.$44u;if("p"===_){var F=Hf(n);n._htScroll=!0;var Z=y.getOverScrollEffect(),m=Y._touchMoveDate,C=Y._touchMoveCp;if(Y._touchMoveDate=new Date,Y._touchMoveCp=F,Y._velocityX=Y._velocityY=null,m&&C){var w=(Y._touchMoveDate.getTime()-m.getTime())/1e3,q=(Y._touchMoveCp.x-C.x)/4,d=(Y._touchMoveCp.y-C.y)/4;D(q)>D(d)?Y._velocityX=q/w:Y._velocityY=d/w}Z&&Z.betweenPan(y,{kind:"betweenPan",nativeEvent:n,translateX:A+F.x-E.x,translateY:W+F.y-E.y,translateOffsetX:F.x-E.x,translateOffsetY:F.y-E.y}),y.showScrollBar(),y.setTranslate(A+F.x-E.x,W+F.y-E.y)}}},handle_mousemove:function(Q){this.handle_touchmove(Q)},handle_touchmove:function(f){if(!f._htScroll&&!pk()&&db(f)){var F=this,A=F.list,R=F.$44u,m=Hf(f);if(!(fl(m,R)<qh)){var g=A.isContentEvent(f);if(g||A.$224u!=y){if(!vq.isDragging(A)&&A.$224u==y){var t=A.getDataAt(f);A.isSelectable(t)&&!il?A.setHoverData(t):A.setHoverData(y)}}else A.setHoverData(y);if(R&&!F.state){if(g&&F._touchstartData&&A.isDragEnabled&&A.isDragEnabled()&&!vq.isDragging(A)){var O=F._touchstartData,_=A.getRowOrderSelection();(A instanceof H.TreeView||A instanceof H.TreeTableView)&&(_=A.getTopRowOrderSelection()),A.isDraggable(O,_,f)&&(vq.doDrag(A,{data:O,selection:_},A.createDragImage(O,_),10,10),sr(F,f))}if(vq.getDragView()!==A&&A.isPannable()&&(A.isVScrollable()||A.isHScrollable()||A.getOverScrollEffect())){F.state="p";var z=A.getOverScrollEffect();z&&z.beginPan(A,{kind:"beginPan",nativeEvent:f}),sr(F,f)}}}}},handle_mousewheel:function(t){var O=this.list;O.isSelfViewEvent(t)&&this.handleScroll(t,t.wheelDelta/40,t.wheelDelta!==t.wheelDeltaX)},handle_DOMMouseScroll:function(R){var Z=this.list;Z.isSelfViewEvent(R)&&this.handleScroll(R,-R.detail,1)},handleScroll:function(L){var l=this.list;qd(L),l.$270u&&l.$270u.stopEditing()},handle_keydown:function(b){var m,v=this.list,D=v.sm();if(v.isSelfViewEvent(b))if(Tm(b))v.selectAll();else if(Il(b))v.handleDelete&&v.handleDelete(b);else if(bi(b))v.isCheckMode()&&(m=v.getFocusData(),m&&v.checkData(m));else if(qb(b)||hc(b)){var x=v.isCheckMode();m=x?v.getFocusData():D.ld(),qb(b)?v.selectPrevious(m):v.selectNext(m)}},handleCheckMode:function(D,_){var r=this.list;return r.checkHitTest(D)?(r.checkData(_),void 0):(r.setFocusData(_),void 0)},handleSelectMode:function(v,p){var K=this.list;K.handleSelect(v,p)},handle_mouseleave:function(){this.list.setHoverData(y)}}),A.defineProperties(jc.prototype,{disabled:{get:function(){return this.list.isDisabled()}}}),H.DropDownTemplate=function(){},sf("ht.ui.DropDownTemplate",A,{ms_fire:!0,ms_ac:[bd,$o,"filterEnabled","filterFunc","offset"],_filterEnabled:!0,_filterCaseSensitive:!1,isFilterCaseSensitive:function(){return this._filterCaseSensitive},setFilterCaseSensitive:function(o){var C=this._filterCaseSensitive;this._filterCaseSensitive=o,this.fp("filterCaseSensitive",C,o)},addDropDownListener:function(Q,y,T){var e=this;e.$65u||(e.$65u=new b),e.$65u.add(Q,y,T)},removeDropDownListener:function(B,E,H){var C=this;C.$65u&&C.$65u.remove(B,E,H)},fireDropDownChange:function(b){var L=this;L.$65u&&L.$65u.fire({kind:b})},addValueChangeListener:function(Z,Y,J){var R=this;R.$64u||(R.$64u=new b),R.$64u.add(Z,Y,J)},removeValueChangeListener:function(a,r,J){var h=this;h.$64u&&h.$64u.remove(a,r,J)},fireValueChange:function(C){var b=this;b.$64u&&b.$64u.fire({value:C})},handle_keydown:function(){},setPropertyValue:function(n,E){var Y=this,U=n.split("."),J=function(){if(U.length>1){for(var d=0;d<U.length-1;d++)Y=Y[_q(U[d])]();n=U[U.length-1]}var b=Y["_"+n];Em(Y,y,n,E),Y.fp(n,b,E)};J()},beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){},initDropDownView:function(){},getDropDownView:function(){return this._dropDownView},getDropDownValue:function(){},filter:function(){},getWidth:function(){var q=this.getDropDownView(),d=q.getMaxSize(),g=this._width||q.getPreferredSize().width;return d?N(g,d.width):g},getHeight:function(){var I=this.getDropDownView(),h=I.getMaxSize(),D=this._height||I.getPreferredSize().height;return h?N(D,h.height):D},stop:function(){this.fireDropDownChange("stop")},cancel:function(){this.fireDropDownChange("cancel")}}),H.PopupList=function(){H.PopupList.superClass.constructor.call(this),this.setFocusable(!1)},sf("ht.ui.PopupList",H.ListView,{ui_ac:["childRelativeIndent","groupFont"],ms_ac:["selectableFunc"],__childRelativeIndent:10,__groupFont:"bold 12px arial",__borderRadius:M.borderRadius,__boxShadow:M.popupBoxShadow,__background:M.popupBackground,setSelectableFunc:function(F){this.setPropertyValue("selectableFunc",F);var B=this.sm().toSelection();B&&(B=B._as),this.sm().setFilterFunc(F),this.sm().setSelection(B)},drawLabel:function(U,r,b,Q,X){var $=this;$._hasGroupNode&&(r.a("data")&&r.a("data").isGroup||(b+=$.getChildRelativeIndent())),H.PopupList.superClass.drawLabel.call($,U,r,b,Q,X)},drawIcon:function(d,V,O,F,o,g){var K=this;K._hasGroupNode&&(V.a("data")&&V.a("data").isGroup||(O+=K.getChildRelativeIndent())),H.PopupList.superClass.drawIcon.call(K,d,V,O,F,o,g)},getLabelFont:function(A){var t=this.getPropertyValue("labelFont");return A.a("data")&&A.a("data").isGroup&&(t=this.getGroupFont()),t},getSerializableProperties:function(){var Y=H.PopupList.superClass.getSerializableProperties.call(this);return Nf(Y,{childRelativeIndent:1,groupFont:1})}}),H.ListDropDown=function(){},sf("ht.ui.ListDropDown",H.DropDownTemplate,{handle_keydown:function(o){var s=this,q=s.getListView();if(q){var S,G=s._master,U=q.sm(),J=q.isCheckMode();return S=J?q.getFocusData():U.ld(),q.isVisible(S)||(S=y),qb(o)||hc(o)?(qb(o)?q.selectPrevious(S):hc(o)&&q.selectNext(S),G.isInstant()&&s.$170u(),!1):(zq(o)&&(s.$170u(),G.close()),void 0)}},$170u:function(){var A=this,l=A.getDropDownValue();l!==C&&A.fireValueChange(l)},filter:function(E){var k=this,F=k.getListView();if(F){var h=k.isFilterEnabled(),z=k.isFilterCaseSensitive();if(E&&h){var H=k.getFilterFunc(),S=E.toLowerCase();F.setVisibleFunc(function(s){if(!s)return!1;if(H)return H(s,E);var U=s.getName();if(U!=y){if(z){if(U.indexOf(E)>=0)return!0}else if(U.toLowerCase().indexOf(S)>=0)return!0}else if(""==E||E==y)return!0})}else F.setVisibleFunc(y)}},getMaster:function(){return this._master},getSelectedData:function(Q,V){for(var U=this,G=U._master,n=G.getValueField(),x=Q.dm().getDatas(),N=0;N<x.size();N++){var I=x.get(N),M=I.a("data");if(V!==y&&"object"==typeof V){if(M==y);else if(n!=y){if(V[n]===M[n])return I}else if(V.id!=y){if(V.id===M.id)return I}else if(V.value!=y){if(V.value===M.value)return I}else if(G.getValueText(V)!=y){if(G.getValueText(V)===G.getValueText(M))return I}else if(G.getValueIcon(V)===G.getValueIcon(M))return I}else if(V===M)return I}},getWidth:function(){return this._width||this._master.getWidth()||this.getDropDownView().getPreferredSize().width},createDropDownView:function(j,h){var G=this,f=j.getDropDownViewRenderer&&j.getDropDownViewRenderer();if(f){H._uiRendererLoadedMap||(H._uiRendererLoadedMap={});var S=H._uiRendererLoadedMap[f];S||(S=O.xhrLoad(f,null,{sync:!0}),S&&(H._uiRendererLoadedMap[f]=S));var A=new H.UIJSONSerializer;A.setShipListeners(!0);var v=G._dropDownView=A.deserialize(H._uiRendererLoadedMap[f]);return v.fireViewEvent({kind:"rendererInit",renderer:v,datas:h,master:j,dropDownTemplate:G}),v}var J=G._list=new H.PopupList;return il?(J.getView().addEventListener("touchstart",function(Y){G.$58u=Hf(Y)}),J.getView().addEventListener("touchend",function(z){var $=Hf(z);fl(G.$58u,$)<qh&&G.stop(),delete G.$58u})):J.getView().addEventListener("click",function(){G.stop()}),J.setSelectableFunc(function(g){return g.a("data")&&g.a("data").isGroup?!1:!0}),J},initListDataModel:function(S,E){var I=this,Y=I._master,$=S.dm();if($.clear(),E){var F=Y.getDisplayFunc(),R=Y.getDisplayField(),r=Y.getIconField(),h=Y.getValueField(),b=!1;E=E._as?E._as:E;for(var f=0;f<E.length;f++){var K=E[f],Q=new z.Data;if(K!==y&&"object"==typeof K){if(F!=y?I.setDataName(Q,F.call(Y,K),K):R!=y?I.setDataName(Q,K[R],K):I.setDataName(Q,K.label,K),r!=y?Q.setIcon(K[r]):Q.setIcon(K.icon),h!=y&&K[h]!=y?Q.setId(K[h]):K.id!=y?Q.setId(K.id):K.value!=y&&Q.setId(K.value),K.isGroup&&(b=!0),K.listDataProperties&&"object"==typeof K.listDataProperties)for(var s in K.listDataProperties)0===s.indexOf("a:")?Em(Q,"attr",s.substr(2),K.listDataProperties[s]):0===s.indexOf("s:")?Em(Q,"style",s.substr(2),K.listDataProperties[s]):Em(Q,null,s,K.listDataProperties[s])}else I.setDataName(Q,K,K);Q.a("data",K),$.add(Q)}S._hasGroupNode=b?!0:!1}},setDataName:function(w,F){w.setName(F)},initDropDownView:function(I,n,o){var R=this,c=R.createDropDownView(I,n);return c.__zIndex="10000000",R._master=I,I.getDropDownViewRenderer&&I.getDropDownViewRenderer()?c:(R._datasChangeHandler=function(C){R.initListDataModel(c,C.newValue),c.sm().setSelection(R.getSelectedData(c,I.getValueObject()))},I.on("p:datas",R._datasChangeHandler,C,C,C,!0),R.initListDataModel(c,n),c.sm().setSelection(R.getSelectedData(c,o)),c)},afterClose:function(){var d=this,M=d._master;M.off("p:datas",d._datasChangeHandler)},getListView:function(){return this._list},getDropDownValue:function(){var P=this,X=P.getListView();if(X){var W=X.sm().ld();if(W&&X.isVisible(W))return W.a("data")}else{var F=P._dropDownView;if(F&&F.getDropDownValue)return F.getDropDownValue()}}}),H.ComboBox=function(u){var t=this;H.ComboBox.superClass.constructor.call(t),t.$121u=t.handleDocumentClick.bind(t),t.set(u)},sf("ht.ui.ComboBox",H.TextField,{ui_ac:["valueIconWidth","valueIconHeight","dropDownConfig","datas","valueField","displayField","iconField","valueIconTextGap","is:strict","is:acceptInput","drawable:readOnlyBackground","drawable:hoverReadOnlyBackground","drawable:activeReadOnlyBackground","drawable:readOnlyIcon"],ms_ac:["dropDownTemplate","dropDownViewRenderer"],__acceptInput:!0,_dropDownTemplate:"ht.ui.ListDropDown",__padding:[2,0,2,6],__iconPosition:"right",__icon:["ht.ui.drawable.ImageDrawable","ui_dropDownIcon","fill"],__hoverIcon:["ht.ui.drawable.ImageDrawable","ui_hoverDropDownIcon","fill"],__activeIcon:["ht.ui.drawable.ImageDrawable","ui_activeDropDownIcon","fill"],__valueIconWidth:16,__valueIconHeight:16,__iconWidth:20,__displayField:"label",__iconField:"icon",__valueIconTextGap:2,__strict:!0,__hoverReadOnlyBackground:M.hoverBackground,__activeReadOnlyBackground:M.activeBackground,getInteractorClasses:function(){return[H.ComboBoxInteractor]},onPropertyChanged:function(P){var s=this,d=P.property;if(H.ComboBox.superClass.onPropertyChanged.call(s,P),"datas"===d||"valueField"===d||"strict"===d){var Y=s.getValue(),l=s.getObjectByValue(Y);l===C&&s.isAcceptInput()&&(l=Y),H.ComboBox.superClass.setValue.call(s,l)}},drawBackground:function(s,S,U,q,j,G){var P=this;s=P.getCurrentBackgroundDrawable(),H.ComboBox.superClass.drawBackground.call(P,s,S,U,q,j,G)},getCurrentBackgroundDrawable:function(){var A=this,C=A.getBackgroundDrawable(),S=A.getReadOnlyBackgroundDrawable()||C,k=A.getIconState(),B=A.isReadOnly();return B?"hover"===k?A.getHoverReadOnlyBackgroundDrawable()||S:"active"===k?A.getActiveReadOnlyBackgroundDrawable()||S:S:C},getCurrentIconDrawable:function(Q){var M=this,l=M.isReadOnly(),t=H.ComboBox.superClass.getCurrentIconDrawable.call(M,Q),J=M.getReadOnlyIconDrawable()||t;return l?J:t},setInputValue:function(w){var v=this,Z=v._input,i=v.getDisplayFunc();Z.value=!i||v.getView().contains(u.activeElement)&&!v.isReadOnly()?w!=y?"object"==typeof w?v.getValueText(w):w:"":i.call(v,w)},createDropDownInstance:O.createUIEditor,getValue:function(){var I=z._uiSerializing;z._uiSerializing=!1;var H=this,r=H.getValueField(),g=H.getValueObject();return z._uiSerializing=I,r!=y&&g&&"object"==typeof g?g[r]:g},getValueObject:function(){return H.ComboBox.superClass.getValue.call(this)},setValue:function(P,R){var D=this,p=P;P=D.getObjectByValue(P),P===C&&D.isAcceptInput()&&(P=p),H.ComboBox.superClass.setValue.call(D,P,R),D.$227u=!1},getObjectByValue:function(J){var g=this,r=g.getValueField(),A=g.isStrict(),L=g.getDatas();if(r!=y&&L){L._as&&(L=L._as);for(var S=0,Q=L.length;Q>S;S++){var u=L[S];if("object"==typeof J&&J!=y){if(A?u[r]===J[r]:u[r]==J[r])return u}else if(A?u[r]===J:u[r]==J)return u}}else if(L){L._as&&(L=L._as);for(var S=0,Q=L.length;Q>S;S++){var u=L[S];if(A?u===J:u==J)return u}}},getObjectByDisplay:function(S){var v=this,u=v.getDisplayField(),i=v.isStrict(),W=v.getDatas();if(u!=y&&W){W._as&&(W=W._as);for(var z=0,_=W.length;_>z;z++){var p=W[z];if("object"==typeof S&&S!=y){if(i?p[u]===S[u]:p[u]==S[u])return p}else if(i?p[u]===S:p[u]==S)return p}}else if(W){W._as&&(W=W._as);for(var z=0,_=W.length;_>z;z++){var p=W[z];if(i?p===S:p==S)return p}}},layoutDropDown:function(a,Y,Q,T,F){a.setX(Y),a.setY(Q),a.setWidth(T),a.setHeight(F)},getValueText:function(c){var G=this,W=G.getDisplayField();return c?W?c[W]:c.label:void 0},getValueIcon:function(R){var G=this,W=G.getIconField();return R?W?R[W]:R.icon:void 0},setFormDataValue:function(p){var e=this,H=e.isStrict(),L=e.getDatas();if(L){L._as&&(L=L._as);for(var A=!1,X=e.getValueField(),r=0,u=L.length;u>r;r++){var x=L[r];if(H?x===p:x==p){e.setValue(x),A=!0;break}if(x!=y){var a;if(H?a=X!=y?x[X]===p:x.hasOwnProperty("id")&&x.id===p||x.hasOwnProperty("value")&&x.value===p:euqals=X!=y?x[X]==p:x.hasOwnProperty("id")&&x.id==p||x.hasOwnProperty("value")&&x.value==p,a){e.setValue(x),A=!0;break}}}A||e.setValue(p)}else e.setValue(p)},getFormDataValue:function(){var b=this,g=b.getValueObject();if(g!==y&&"object"==typeof g){var E=b.getValueField();if(E!=y)return g[E];if(g.hasOwnProperty("id"))return g.id;if(g.hasOwnProperty("value"))return g.value}return g},selectAt:function(f){var F=this,z=F.getDatas();z&&(z._as&&(z=z._as),F.setValue(z[f]))},initDropDown:function(){var f=this,S=f.getDropDownTemplate();if(S){var o=f.getDropDownConfig(),y=f._dropDown=f.createDropDownInstance(S),z=y._dropDownView=y.initDropDownView(f,f.getDatas(),f.getValueObject()),b=f.getValueObject();if(z.getStyleParent=function(){return f},y.__style){var l=z.getStyle();l?z.setStyle(l+" "+y.__style):z.setStyle(y.__style)}if(f._dropDown=y,f._dropDownView=z,o)for(var M in o)y.setPropertyValue(M,o[M]);y.beforeOpen(b),f.prepareLayoutDropDown(),f.fireViewEvent({kind:"dropDownViewCreated",dropDownView:z});var i=f.getZoom();1!==i&&(z.setZoomAnchor(0,0),z.setZoom(i)),O.appendToScreen(z.getView()),y.addValueChangeListener(f.$328u,f),y.addDropDownListener(f.$321u,f),y.addPropertyChangeListener(f.handleDropDownPropertyChange,f),f.$210u(f.$121u),y.afterOpen(b),z.iv(!0),f.setIconState(yr)}},closePopup:function(){H.ComboBox.superClass.closePopup.call(this),this.close()},prepareLayoutDropDown:function(){var U=this,u=U.getZoom(),l=U._dropDown,k=U._dropDownView,c=l.getWidth(),s=l.getHeight(),C=U.getView().getBoundingClientRect(),h=l.getOffset()||[0,0],Q=hi(),t=U.getHeight(),A=C.left+Q.left+h[0],w=C.top+t*u+Q.top+h[1];A+c>Q.left+Q.width&&(A=Q.left+Q.width-c-2*h[0]),w+s>Q.top+Q.height&&(w-=t*u+s+2*h[1],w<Q.top&&(s-=Q.top-w,w=Q.top)),U.layoutDropDown(k,A,w,c,s)},handleDropDownPropertyChange:function(Y){var n=this,y=Y.property,F=n._dropDownView;!F||y!==bd&&y!==$o||n.prepareLayoutDropDown()},$328u:function(Z){this.setValue(Z.value)},$159u:function(){var m=this;m._dropDown=m._dropDownView=y},$321u:function(x){var i=this,h=i._dropDown,f=i._dropDownView;if(h){if(h.beforeClose(),"stop"===x.kind){var R=h.getDropDownValue();R!==C&&i.setValue(R)}i.$159u(),xm(f.getView()),h.removeValueChangeListener(i.$328u,i),h.removeDropDownListener(i.$321u,i),h.removePropertyChangeListener(i.handleDropDownPropertyChange,i),i.$211u(i.$121u),h.afterClose(),i.fireViewEvent("close"),i.setIconState(th)}},firePropertyChange:function(T,e,v,Y){var U=this;if("value"===T){if(O.stringify(e)!==O.stringify(v)){var h=U.getValueField();if(h!=y){if(Jr(e)){e=e.slice(0);for(var n=0;n<e.length;n++)e[n]==y||Sp(e[n])||(e[n]=e[n][h])}else e==y||Sp(e)||(e=e[h]);if(Jr(v)){v=v.slice(0);for(var n=0;n<v.length;n++)v[n]==y||Sp(v[n])||(v[n]=v[n][h])}else v==y||Sp(v)||Jr(v)||(v=v[h])}H.ComboBox.superClass.firePropertyChange.call(U,T,e,v,Y)}}else H.ComboBox.superClass.firePropertyChange.call(U,T,e,v,Y)},drawIcon:function(V,w,r,W,t){var F=this,X=W,K=t,T=w,h=r;V.draw(T,h,X,K,y,F),F.$177u={x:T-F.getContentLeft(),y:h-F.getContentTop(),width:X,height:K}},drawValueIcon:function(d,C,Q,X,A){d.draw(C,Q,X,A,y,this)},validateImpl:function(Z,o,N,r){var R=this;H.ComboBox.superClass.validateImpl.call(R,Z,o,N,r);var M=R.getInput(),u=R.getValueIcon(R.getValueObject()),L=O.toDrawable(u),h=M.style;if(u&&L){R.$339u===C&&(R.$339u=h.left,R.$354u=h.width);var G,x,A=R.getValueIconWidth(),m=R.getValueIconHeight(),F=R.getValueIconTextGap();G=Z+1,h.left=A+F+vl,h.width=aj(h.width)-A-F+vl,x=o+(r-m)/2,R.drawValueIcon(L,G,x,A,m)}else R.$339u!==C&&(h.left=R.$339u,h.width=R.$354u),R.$339u=C,R.$354u=C},handleDocumentClick:function(s){var $=this;db(s)&&$.isOpened()&&($.containsEvent(s)||$.close())},$210u:function(I){il?u.addEventListener("touchstart",I):u.addEventListener("mousedown",I)},$211u:function(t){il?u.removeEventListener("touchstart",t):u.removeEventListener("mousedown",t)},open:function(){var r=this;r.isOpened()||(r.initDropDown(),r.fireViewEvent({kind:"open",dropDown:r._dropDown,dropDownView:r._dropDownView}))},toggle:function(){var q=this;q.isOpened()?q.close():q.open()},isOpened:function(){return!!this._dropDown},close:function(){var h=this;h._dropDown&&h._dropDown.cancel()},getSerializableProperties:function(){var u=H.ComboBox.superClass.getSerializableProperties.call(this);return Nf(u,{valueIconWidth:1,valueIconHeight:1,dropDownConfig:1,datas:1,dropDownTemplate:1,valueField:1,displayField:1,iconField:1,valueIconTextGap:1,readOnlyBackground:1,readOnlyBackgroundDrawable:1,hoverReadOnlyBackground:1,hoverReadOnlyBackgroundDrawable:1,activeReadOnlyBackground:1,activeReadOnlyBackgroundDrawable:1,"is:acceptInput":1,readOnlyIcon:1,readOnlyIconDrawable:1,"is:strict":1,dropDownViewRenderer:1})}}),H.ComboBoxInteractor=function(W){H.ComboBoxInteractor.superClass.constructor.call(this,W)},sf("ht.ui.ComboBoxInteractor",H.TextFieldInteractor,{addToTouchScrollClearQuene:H.Interactor.prototype.addToTouchScrollClearQuene,handle_keydown:function(z){var D=this,K=D.getComp();if(K.isSelfViewEvent(z)&&K.isOpened()){var E=K._dropDown.handle_keydown(z);E===!1&&z.preventDefault()}},handle_input:function(o){var e=this,x=e.getComp();x.$227u=!0,x.isSelfViewEvent(o)&&(H.ComboBoxInteractor.superClass.handle_input.call(e,o),x.isOpened()&&x._dropDown.filter(o.target.value))},changeHandler:function(){var S=this,X=S.getComp(),G=X.getMaskRe(),o=X.getInput();if(X.$227u){var $=o.value,N=X.getObjectByValue($);N===C&&(N=X.getObjectByDisplay($)),N?X.setValue(N):X.isAcceptInput()?X.setValue(S.getFilteredValue(o.value,G)):X.setValue(N)}},handle_mousedown:function(E){this.handle_touchstart(E)},clearTouchState:function(){var f=this,$=f.getComp();$.setIconState(th),f.$47u=y},handle_touchstart:function(v){var J=this,A=J.getComp();A.isSelfViewEvent(v)&&(Nl(v)!==A._input&&qd(v),db(v)&&(A.isReadOnly()||A.iconHitTest(v))&&(J.$47u=!0,sr(J,v),A.setIconState(yr),J.addToTouchScrollClearQuene(v)))},handle_mouseup:function(Z){il||this.handle_touchend.call(this,Z)},handle_touchend:function(E){var Y=this,b=Y.getComp();Y.$47u&&db(E)&&b.isSelfViewEvent(E)&&(b.isReadOnly()||b.iconHitTest(E))&&(b.toggle(),b.isOpened()||b.setIconState(gm))},handleWindowTouchEnd:function(s){this.$47u=null,this.handle_mousemove(s)},handle_mouseleave:function(){var h=this,G=h.getComp();G.isOpened()||h.$47u||G.setIconState(th),G.setOnIcon(!1)},handle_mousemove:function(D){var E=this,g=E.getComp(),x=g.iconHitTest(D);E.$47u||(g.isReadOnly()?(x=!0,g.isOpened()||(pk()?g.setIconState(th):g.setIconState(gm))):g.isOpened()||(x?pk()||g.setIconState(gm):g.setIconState(th))),g.setOnIcon(x)},handle_touchmove:function(){}}),H.MultiSelectInteractor=function(Z){H.MultiSelectInteractor.superClass.constructor.call(this,Z)},sf("ht.ui.MultiSelectInteractor",H.Interactor,{addToTouchScrollClearQuene:H.Interactor.prototype.addToTouchScrollClearQuene,handle_keydown:function(B){var $=this,F=$.getComponent();if(F.isSelfViewEvent(B)&&F.isOpened()){var j=F._dropDown.handle_keydown(B);j===!1&&B.preventDefault()}},handle_mousedown:function(c){this.handle_touchstart(c)},clearTouchState:function(){var w=this,s=w.getComponent();s.setIconState(th),w.$47u=y},handle_touchstart:function(x){var A=this,f=A.getComponent();qd(x),f.requestFocus(),f.closeHitTest(x)||db(x)&&f.iconHitTest(x)&&(A.$47u=!0,sr(A,x),f.setIconState(yr),A.addToTouchScrollClearQuene(x))},handle_mouseup:function(t){this.handle_touchend.call(this,t)},handle_touchend:function(i){var y=this,p=y.getComponent();y.$47u&&db(i)&&p.isSelfViewEvent(i)&&p.iconHitTest(i)&&(p.toggle(),p.isOpened()||p.setIconState(gm))},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handleWindowMouseUp:function(b){this.handleWindowTouchEnd(b)},handleWindowTouchEnd:function(Y){this.$47u=null,this.handle_mousemove(Y)},handle_mouseleave:function(){var K=this,p=K.getComponent();p.isOpened()||K.$47u||p.setIconState(th),p.setOnIcon(!1)},handle_mousemove:function(D){var N=this,h=N.getComponent(),X=h.iconHitTest(D);N.$47u||h.isOpened()||(X?pk()||h.setIconState(gm):h.setIconState(th)),h.setOnIcon(X)},handle_touchmove:function(r){this.handle_mousemove(r)}}),H.MultiPopupList=function(){H.MultiPopupList.superClass.constructor.call(this),this.setFocusable(!1)},sf("ht.ui.MultiPopupList",H.PopupList,{handleSelect:function(b,$){var F=this,o=F.sm();db(b)&&(F.isSelected($)?o.rs($):o.as($))}}),H.MultiListDropDown=function(){H.MultiListDropDown.superClass.constructor.call(this)},sf("ht.ui.MultiListDropDown",H.ListDropDown,{handle_keydown:function(b){var c=this,k=c.getListView();if(k){var v=k.sm(),K=k.getHoverData();if(!K){var q=k.isCheckMode();K=q?k.getFocusData():v.ld()}if(k.isVisible(K)||(K=y),qb(b)||hc(b))return qb(b)?k.selectPrevious(K,!0):hc(b)&&k.selectNext(K,!0),!1;if(zq(b)){var v=k.sm();k.isSelected(K)?v.rs(K):v.as(K)}}},getSelectedData:function(U,p){for(var K=this,L=K._master,w=L.getValueField(),g=U.dm().getDatas(),F=[],n=0;n<g.size();n++){var E=g.get(n),I=E.a("data");if(Array.isArray(p))for(var t=0,o=p.length;o>t;t++){var C=p[t];C!==y&&"object"==typeof C?I==y||(w!=y?C[w]===I[w]&&F.push(E):C.id!=y?C.id===I.id&&F.push(E):C.value!=y&&C.value===I.value&&F.push(E)):C===I&&F.push(E)}}return F},createDropDownView:function(I,P){var y=this,n=I.getDropDownViewRenderer&&I.getDropDownViewRenderer();if(n){H._uiRendererLoadedMap||(H._uiRendererLoadedMap={});var A=H._uiRendererLoadedMap[n];A||(A=O.xhrLoad(n,null,{sync:!0}),A&&(H._uiRendererLoadedMap[n]=A));var M=new H.UIJSONSerializer;M.setShipListeners(!0);var C=y._dropDownView=M.deserialize(H._uiRendererLoadedMap[n]);return C.fireViewEvent({kind:"rendererInit",renderer:C,datas:P,master:I,dropDownTemplate:y}),C}var q=y._list=new H.MultiPopupList;return q.setSelectableFunc(function(f){return f.a("data")&&f.a("data").isGroup?!1:!0}),q},initListDataModel:function(l,u){var o=this,c=o._master,i=l.dm();if(i.clear(),u){var U=c.getDisplayFunc(),D=c.getDisplayField(),q=c.getIconField(),f=c.getValueField(),p=!1;u=u._as?u._as:u;for(var X=0;X<u.length;X++){var C=u[X],O=new z.Data;C!==y&&"object"==typeof C?(U!=y?o.setDataName(O,U.call(c,C),C):D!=y?o.setDataName(O,C[D],C):o.setDataName(O,C.label,C),q!=y?O.setIcon(C[q]):O.setIcon(C.icon),f!=y&&C[f]!=y?O.setId(C[f]):C.id!=y?O.setId(C.id):C.value!=y&&O.setId(C.value),C.isGroup&&(p=!0)):o.setDataName(O,C,C),O.a("data",C),i.add(O)}l._hasGroupNode=p?!0:!1}},initDropDownView:function(e,H,q){var x=this,k=x.createDropDownView(e,H);return x._master=e,e.getDropDownViewRenderer&&e.getDropDownViewRenderer()?k:(x.initListDataModel(k,H),k.sm().setSelection(x.getSelectedData(k,q)),k.sm().ms(function(){e.isInstant()&&x.$170u()}),k)},getDropDownValue:function(){var $=this,Z=$.getListView();if(Z){var o=Z.sm(),u=[];return o.each(function(i){u.push(i.a("data"))}),u}var X=$._dropDownView;return X&&X.getDropDownValue?X.getDropDownValue():void 0}}),H.MultiSelect=function(x){var L=this;H.MultiSelect.superClass.constructor.call(L),L.$121u=L.handleDocumentClick.bind(L);var Q=new H.Button;Q.setBackground("#f8f8f8"),Q.setHoverBackground("#f8f8f8"),Q.setActiveBackground("#f8f8f8"),Q.setBorder(new H.border.LineBorder(1,M.borderColor)),Q.setPadding([2,20,2,6]),L.setTemplateItem(Q),L.setFocusable(!0),L.set(x),L.invalidateComps()},sf("ht.ui.MultiSelect",H.FlowLayout,{ui_ac:["drawable:icon","drawable:hoverIcon","drawable:activeIcon","iconWidth","iconHeight","is:instant","displayFunc","dropDownConfig","datas","valueField","displayField","iconField","itemMargin","drawable:closeIcon","drawable:hoverCloseIcon","drawable:activeCloseIcon","closeIconWidth","closeIconHeight","closeIconX","closeIconY"],ms_ac:["dropDownTemplate","dropDownViewRenderer","iconState","value","valueObjects","templateItem"],_preferredSizeProps:Nf(Fb(H.FlowLayout.prototype._preferredSizeProps),{iconWidth:!0,iconHeight:!0,icon:!0,iconDrawable:!0}),_formDataValueProps:{value:!0},_dropDownTemplate:"ht.ui.MultiListDropDown",_iconState:th,__icon:["ht.ui.drawable.ImageDrawable","ui_dropDownIcon","fill"],__hoverIcon:["ht.ui.drawable.ImageDrawable","ui_hoverDropDownIcon","fill"],__activeIcon:["ht.ui.drawable.ImageDrawable","ui_activeDropDownIcon","fill"],__iconWidth:20,__background:M.inputBackground,__redrawOnFocus:!0,__border:new H.border.FocusLineBorder(1,M.borderColor,M.baseColor),__borderRadius:0,__padding:[0,0,3,0],__itemMargin:[3,0,0,3],__displayField:"label",__valueField:"id",__iconField:"icon",__closeIcon:"ui_multiSelectClose",__hoverCloseIcon:"ui_multiSelectClose",__activeCloseIcon:"ui_multiSelectClose",__closeIconWidth:12,__closeIconHeight:12,__closeIconX:-10,__closeIconY:.5,_displayFunc:function(G){var A=this,i=A.getDisplayField();return G[i]||G.label},getInteractorClasses:function(){return[H.MultiSelectInteractor]},onPropertyChanged:function(u){var y=this,C=u.property;if(H.MultiSelect.superClass.onPropertyChanged.call(y,u),"datas"===C||"displayField"===C||"iconField"===C||"value"===C||"displayFunc"===C||"itemMargin"===C||"closeIcon"===C||"hoverCloseIcon"===C||"activeCloseIcon"===C||"closeIconWidth"===C||"closeIconHeight"===C||"closeIconX"===C||"closeIconY"===C)y.invalidateComps();else if("width"===C||"height"===C)y._dropDown&&y.prepareLayoutDropDown();
else if("templateItem"===C){y.invalidateComps();var b=u.newValue;b&&!b._propertyChangeHandler&&(b._propertyChangeHandler=function(){y.invalidateComps()},b.addPropertyChangeListener(b._propertyChangeHandler))}},setValue:function(K){var y=this;if(!y.__syncValue2Object){y.setPropertyValue("value",K);var V=[];if(K)for(var p=y.getValueField(),b=y.getDatas(),g=0,s=K.length;s>g;g++)for(var R=K[g],S=0,c=b.length;c>S;S++){var _=b[S];_[p]===R&&V.push(_)}y.__syncValue2Object=!0,y.setValueObjects(V),y.__syncValue2Object=!1}},setValueObjects:function(G){var F=this;if(!F.__syncObject2Value){F.setPropertyValue("valueObjects",G);var U=[];if(G)for(var S=F.getValueField(),r=0,e=G.length;e>r;r++)U.push(G[r][S]);F.__syncObject2Value=!0,F.setValue(U),F.__syncObject2Value=!1}},invalidateComps:function(){var k=this;k._invalidateComps||(k._invalidateComps=!0),k.iv()},createItemComp:function(c,m){var s=this,G=s.getDisplayFunc(),x=s.getIconField(),$=s.getValueField(),f=new H.UIJSONSerializer,v=s.getCloseIconX(),Z=s.getCloseIconY(),P=s.getCloseIconWidth(),r=s.getCloseIconHeight(),w=f.serialize(s.getTemplateItem()),l=new H.RelativeLayout,o=f.deserialize(w);o.setText(G.call(s,c)||m),o.setIcon(c[x]),o.setFocusable(!1),o.setStyle("multiselect-item"),o.setAttr("id",c[$]),l.addView(o,{width:"match_parent",height:"match_parent"});var k=new H.Button;k.setStyle("multiselect-close"),k.setFocusable(!1),k.__icon=s.getCloseIcon(),k.__hoverIcon=s.getHoverCloseIcon(),k.__activeIcon=s.getActiveCloseIcon(),k.__background="rgba(0,0,0,0)",k.__hoverBackground="rgba(0,0,0,0)",k.__activeBackground="rgba(0,0,0,0)",k.__iconWidth=P,k.__iconHeight=r,k.__border=null,k.__host=o,k.__isCloseButton=!0,o.__closeButton=k,k.on("p:state",function(P){"active"!==P.newValue&&P.source.__host.setState(P.newValue)},C,C,C,!0),k.setAttr("id",c[$]),k.setPadding(0);var n={width:"wrap_content",height:"wrap_content"};return v>1?(n.align="left",n.marginLeft=v-P/2):0>v?(n.align="right",n.marginRight=-v-P/2):(n.align="left",n.marginLeft=v*s.getChildPreferredSize(l).width-P/2),Z>1?(n.vAlign="top",n.marginTop=Z-r/2):0>Z?(n.vAlign="bottom",n.marginBottom=-Z-r/2):(n.vAlign="top",n.marginTop=Z*s.getChildPreferredSize(l).height-r/2),l.addView(k,n),k.on("click",function(e){for(var A=e.target.getAttr("id"),H=s.getValue(),N=[],k=0;k<H.length;k++)H[k]!==A&&N.push(H[k]);s.setValue(N)},C,C,C,!0),l},validateComps:function(){var t=this,W=t.getValueObjects();if(t.clear(),W)for(var r=0,k=W.length;k>r;r++){var T=W[r],p=t.createItemComp(T),e=t.getItemMargin();e?t.addView(p,{marginTop:e[0],marginRight:e[1],marginBottom:e[2],marginLeft:e[3]}):t.addView(p)}},validate:function(){var x=this;x._invalidateComps&&(x.validateComps(),x._invalidateComps=null),H.MultiSelect.superClass.validate.call(x)},createDropDownInstance:O.createUIEditor,layoutDropDown:function(I,y,R,Z,_){I.setX(y),I.setY(R),I.setWidth(Z),I.setHeight(_)},getValueText:function(i){var O=this,H=O.getDisplayField();return i?H?i[H]:i.label:void 0},getValueIcon:function(V){var q=this,w=q.getIconField();return V?w?V[w]:V.icon:void 0},stopFormEditing:function(){this.close()},setFormDataValue:function(g){this.setValue(g)},getFormDataValue:function(){return this.getValue()},selectAt:function(B){var r=this,z=r.getDatas();z&&(z._as&&(z=z._as),r.setValueObjects([z[B]]))},initDropDown:function(){var t=this,j=t.getDropDownTemplate();if(j){var W=t.getDropDownConfig(),I=t._dropDown=t.createDropDownInstance(j),C=I._dropDownView=I.initDropDownView(t,t.getDatas(),t.getValueObjects()),e=t.getValueObjects();if(C.getStyleParent=function(){return t},I.__style){var h=C.getStyle();h?C.setStyle(h+" "+I.__style):C.setStyle(I.__style)}if(t._dropDown=I,t._dropDownView=C,W)for(var d in W)I.setPropertyValue(d,W[d]);I.beforeOpen(e),t.prepareLayoutDropDown(),t.fireViewEvent({kind:"dropDownViewCreated",dropDownView:C});var S=t.getZoom();1!==S&&(C.setZoomAnchor(0,0),C.setZoom(S)),O.appendToScreen(C.getView()),I.addValueChangeListener(t.$328u,t),I.addDropDownListener(t.$321u,t),I.addPropertyChangeListener(t.handleDropDownPropertyChange,t),t.$210u(t.$121u),I.afterOpen(e),C.iv(!0),t.setIconState(yr)}},closePopup:function(){H.MultiSelect.superClass.closePopup.call(this),this.close()},prepareLayoutDropDown:function(){var D=this,u=D.getZoom(),x=D._dropDown,V=D._dropDownView,m=x.getWidth(),e=x.getHeight(),P=D.getView().getBoundingClientRect(),T=x.getOffset()||[0,0],Q=hi(),J=D.getHeight(),n=P.left+Q.left+T[0],I=P.top+J*u+Q.top+T[1];n+m>Q.left+Q.width&&(n=Q.left+Q.width-m-2*T[0]),I+e>Q.top+Q.height&&(I-=J*u+e+2*T[1],I<Q.top&&(e-=Q.top-I,I=Q.top)),D.layoutDropDown(V,n,I,m,e)},handleDropDownPropertyChange:function(W){var u=this,F=W.property,t=u._dropDownView;!t||F!==bd&&F!==$o||u.prepareLayoutDropDown()},$328u:function(g){this.setValueObjects(g.value)},$159u:function(){var t=this;t._dropDown=t._dropDownView=y},$321u:function(B){var b=this,Q=b._dropDown,s=b._dropDownView;if(Q){if(Q.beforeClose(),"stop"===B.kind){var K=Q.getDropDownValue();K!==C&&b.setValueObjects(K)}b.$159u(),xm(s.getView()),Q.removeValueChangeListener(b.$328u,b),Q.removeDropDownListener(b.$321u,b),Q.removePropertyChangeListener(b.handleDropDownPropertyChange,b),b.$211u(b.$121u),Q.afterClose(),b.fireViewEvent("close"),b.setIconState(th)}},getCurrentIconDrawable:function(G){var B=this,S=B.getIconDrawable();return G||(G=B.getIconState()),G===th?S:G===gm?B.getHoverIconDrawable()||S:G===yr?B.getActiveIconDrawable()||S:void 0},setOnIcon:function(O){var Y=this,U=Y._onIcon;O!==U&&(Y._onIcon=O,Y.iv())},getCursor:function(){var E=this,n=E.getPropertyValue("cursor"),y=E._onIcon;return y?"pointer":n},iconHitTest:function(X){var I=this,g=X,s=I.$177u;return s?(X instanceof Event&&(g=I.lp(X)),wp(s,g)):void 0},closeHitTest:function(g){var i=O.getViewAt(g);return i.__isCloseButton?!0:void 0},figurePreferredSizeImpl:function(p,C){return"number"==typeof p&&(p-=this.getIconWidth()+2),H.FlowLayout.prototype.figurePreferredSizeImpl.call(this,p,C)},figurePreferredSize:function(){var C=this,E=C.getChildren();if(E&&E.size()>0)return H.FlowLayout.prototype.figurePreferredSize.call(this);var y={width:240},o=C.createItemComp({},"label");y.height=C.getChildPreferredSize(o).height;var s=C.getItemMargin()||[];return y.height+=(s[0]||0)+(s[2]||0),y.height+=C.getPaddingTop(),y.height+=C.getPaddingBottom(),y.height+=C.getBorderTop(),y.height+=C.getBorderBottom(),y},drawIcon:function(N,H,p,W,j){var J=this;N.draw(H,p,W,j,y,J)},validateImpl:function(E,s,o,U){var z,A,Y=this,t=Y.getPaddingTop(),W=Y.getPaddingBottom(),X=Y.getIconWidth(),c=Y.getIconHeight();"number"!=typeof c?(c=U+t+W,A=s-t):A=s+(U-c)/2,z=E+o-X,Y.$177u={x:z-E,y:A-s,width:X-1,height:c-1},Y.drawIcon(Y.getCurrentIconDrawable(),z,A,X,c),H.MultiSelect.superClass.validateImpl.call(Y,E,s,o-X-2,U)},handleDocumentClick:function(z){var f=this;if(db(z)&&f.isOpened()){var P=f._dropDownView;f.iconHitTest(z)||(P?P.containsEvent(z):0)||f.close()}},$210u:function(z){il?u.addEventListener("touchstart",z):u.addEventListener("mousedown",z)},$211u:function(s){il?u.removeEventListener("touchstart",s):u.removeEventListener("mousedown",s)},open:function(){this.isOpened()||(this.initDropDown(),this.fireViewEvent("open"))},toggle:function(){var M=this;M.isOpened()?M.close():M.open()},isOpened:function(){return!!this._dropDown},close:function(){var g=this;g._dropDown&&(g.isInstant()?g._dropDown.cancel():g._dropDown.stop(),g.fireViewEvent("close"))},getSerializableProperties:function(){var A=H.MultiSelect.superClass.getSerializableProperties.call(this);return delete A.children,Nf(A,{icon:1,iconDrawable:1,hoverIcon:1,hoverIconDrawable:1,activeIcon:1,activeIconDrawable:1,iconWidth:1,iconHeight:1,"is:instant":1,displayFunc:1,dropDownConfig:1,datas:1,valueField:1,displayField:1,iconField:1,dropDownTemplate:1,value:1,itemMargin:1,closeIcon:1,closeIconDrawable:1,hoverCloseIcon:1,hoverCloseIconDrawable:1,activeCloseIcon:1,activeCloseIconDrawable:1,closeIconWidth:1,closeIconHeight:1,closeIconX:1,closeIconY:1,dropDownViewRenderer:1,templateItem:1})}}),H.ColorPaneInteractor=function(f){this.$160u=f},sf("ht.ui.ColorPaneInteractor",A,{ms_listener:1,getView:function(){return this.$160u._view},getComp:function(){return this.$160u},clear:function(){delete this._state,delete this._label,delete this.$58u,delete this._color},handle_mousedown:function(o){this.handle_touchstart(o)},handle_touchstart:function(o){qd(o);var C=this,v=C.getComp();if(v.hueHitTest(o))C._state=1,C.$169u(o,1);else if(v.colorsHitTest(o))C._state=2,C.$169u(o,2);else if(v.opacityHitTest(o)&&v.isAlphaEditable())C._state=3,C.$169u(o,3);else if(O.isLeftButton(o)){var R=v.paletteColorHitTest(o);if(R!=y)v.setValue(R.color),v.iv();else{var b=C._label;if(il&&!b&&(b=C._label=v.labelHitTest(o)),b!=y){var $=v._aInput.value,R={r:T(parseFloat(v._rInput.value)||0),g:T(parseFloat(v._gInput.value)||0),b:T(parseFloat(v._bInput.value)||0),a:$==y||""==$?1:parseFloat($)};C.$58u=Hf(o),C._color=R,"red"===b?v._rInput.focus():"green"===b?v._gInput.focus():"blue"===b?v._bInput.focus():"alpha"===b&&v._aInput.focus(),sr(C,o)}}}},handle_mouseup:function(e){this.handle_touchend(e)},handle_touchend:function(u){var D=this;D.clear(u)},handleWindowMouseUp:function(v){this.handleWindowTouchEnd(v)},handleWindowTouchEnd:function(X){var u=this;u.clear(X)},handle_mousemove:function(u){var t=this;if(t.handle_touchmove(u),!t.$58u){var n=t.$160u,R=n.labelHitTest(u);R!=y?n.isAlphaEditable()||"alpha"!==R?(n.setCursor("ns-resize"),t._label=R):(n.setCursor(""),t._label=y):(n.setCursor(""),t._label=y)}},handle_touchmove:function(w){qd(w);var a=this;a.getComp(),a._state&&sr(a,w)},handleWindowMouseMove:function(j){this.handleWindowTouchMove(j)},handleWindowTouchMove:function(N){qd(N);var r=this,U=r.getComp(),d=r._state;if(d)r.$169u(N,d);else{var R=r._label;if(R){var c=r.$58u,$=Hf(N),L={r:r._color.r,g:r._color.g,b:r._color.b,a:r._color.a};if("alpha"===R){var S=($.y-c.y)/100;L.a+=S,L.a<0?L.a=0:L.a>1&&(L.a=1)}else{var S=T($.y-c.y);"red"===R?(L.r+=S,L.r<0?L.r=0:L.r>255&&(L.r=255)):"green"===R?(L.g+=S,L.g<0?L.g=0:L.g>255&&(L.g=255)):"blue"===R&&(L.b+=S,L.b<0?L.b=0:L.b>255&&(L.b=255))}U.setValue(L)}}},handle_input:function(L){var u=this,l=u.getComp(),o=L.target;if(o===l._hexInput){var j=l._hexInput.value;for(0!==j.indexOf("#")&&(j="#"+j);j.length<7;)j+="0";l.setValue(j,{controls:!0,rgbaInput:!0})}else{var n=l._aInput.value,Q={r:T(parseFloat(l._rInput.value)||0),g:T(parseFloat(l._gInput.value)||0),b:T(parseFloat(l._bInput.value)||0),a:n==y||""==n?1:parseFloat(n)};l.setValue(Q,{controls:!0,hexInput:!0})}l.iv()},$169u:function(Q,o){qd(Q);var u=this,$=u.getComp(),V=$.lp(Q),W=$.figureScale(),P=W.scaleX,k=W.scaleY;if(1===o){var v=$.scaleRect($.$50u,P,k),I=V.x;I-=v.x,0>I&&(I=0),I>v.width&&(I=v.width),$.$48u=I/P}else if(2===o){var v=$.scaleRect($.$51u,P,k),I=V.x,b=V.y;I-=v.x,b-=v.y,0>I&&(I=0),I>v.width&&(I=v.width),0>b&&(b=0),b>v.height&&(b=v.height),$.$52u.x=I/P,$.$52u.y=b/k}else if(3===o){var v=$.scaleRect($.$233u,P,k),I=V.x;I-=v.x,0>I&&(I=0),I>v.width&&(I=v.width),$.$234u=I/P}if(o){var i=$.$332u(),J=$.$325u(i.h/360,i.s/100,i.v/100),f={r:T(255*J.r),g:T(255*J.g),b:T(255*J.b),a:$.$234u/$.$233u.width};$.setValue(f,{hexInput:!0,rgbaInput:!0}),$.iv()}}}),A.defineProperties(H.ColorPaneInteractor.prototype,{disabled:{get:function(){return this.$160u.isDisabled()}}}),H.ColorPane=function(f){var L=this;H.ColorPane.superClass.constructor.call(L),L.set(f);var F=new H.ComboBox;L.setPaletteComboBox(F)},sf("ht.ui.ColorPane",df,{ui_ac:[h,_,"sliderColor","paletteComboBoxVisible","inputColor","inputBackground","inputBorderColor","inputFont","previewBorderColor","paletteColors","alphaEditable"],ms_ac:["value","paletteComboBox"],__border:new H.border.LineBorder(1,M.borderColor),__borderRadius:M.borderRadius,_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{paletteColors:!0,paletteComboBoxVisible:!0}),$51u:{x:0,y:0,width:195,height:142},$50u:{x:0,y:147,width:150,height:14},$233u:{x:0,y:166,width:150,height:14},$49u:{x:162,y:147,width:33,height:33},$52u:{x:0,y:0},_hexInputRect:{x:0,y:185,width:55,height:20},_rInputRect:{x:60,y:185,width:30,height:20},_gInputRect:{x:95,y:185,width:30,height:20},_bInputRect:{x:130,y:185,width:30,height:20},_aInputRect:{x:165,y:185,width:30,height:20},_comboBoxRect:{x:0,y:230,width:195,height:20},_paletteColorsWidth:195,_paletteColorHeight:20,$48u:0,$234u:150,_value:"rgb(255, 255, 255, 1)",$178u:{width:10,height:10,comps:[{type:"rect",rect:[0,0,5,5],background:"white"},{type:"rect",rect:[5,0,5,5],background:"rgb(204, 204, 204)"},{type:"rect",rect:[0,5,5,5],background:"rgb(204, 204, 204)"},{type:"rect",rect:[5,5,5,5],background:"white"}]},__padding:8,__alphaEditable:!0,__labelColor:M.textColor,__labelFont:M.font,__inputColor:M.textColor,__inputBackground:M.inputBackground,__inputBorderColor:M.borderColor,__inputFont:M.font,__previewBorderColor:M.lineColor,__sliderColor:M.borderColor,__paletteComboBoxVisible:!0,__paletteColors:{"Eastern Colors":[[null,"#F6D897","#F2BF40","#F8AC19","#986B22","#215D54","#25834C","#24D098"],["#F3C0C9","#BB6765","#B24A5B","#8D384D","#A83A39","#205586","#3DABDD","#A4D9DF"]],"Basic Colors":[[null,"#EF0D0D","#F8F90E","#10F810","#14FFFF","#2712F6","#F89017","#FF00FF"],["#F2F2F2","#E6E6E6","#CCCCCC","#808080","#666666","#4D4D4D","#333333","#1A1A1A"]],"Web Colors":[[null,"#FFFF66","#FFCC66","#F89017","#FF00FF","#FF0066","#FF0000","#990000"],["#00FFCC","#33FF33","#009900","#33CCFF","#3399FF","#3366FF","#6600FF","#330099"]]},setPaletteComboBox:function(m){var c=this,t=c.getPaletteComboBox();c.setPropertyValue("paletteComboBox",m),m.setStyle("colorpane_colorType"),m.setReadOnly(!0),m.getStyleParent=function(){return c},c.initComboBoxDatas(),m.on("p:value",function(B){"value"===B.property&&(c.checkPreferredSize("paletteColors"),c._defaultContentSize=y,c.iv())},C,C,C,!0),t&&t.getView().parentNode===c.getContentDiv()&&c.getContentDiv().removeChild(t.getView())},setValue:function(V,k){var X,t=this;if(V&&V.r!=y&&V.g!=y&&V.b!=y?t.setPropertyValue("value","rgba("+V.r+", "+V.g+", "+V.b+", "+(V.a==y?1:V.a)+")"):t.setPropertyValue("value",V),k===C&&(k={rgbaInput:!0,hexInput:!0,controls:!0}),k)if(V){var K;if(V.r!=y&&V.g!=y&&V.b!=y?(X=[V.r,V.g,V.b,V.a==y?1:V.a],K=T(100*X[3])/100):(X=O.toColorData(V),K=T(100*(X[3]/255))/100),X&&(k.rgbaInput&&(t._rInput.value=X[0],t._gInput.value=X[1],t._bInput.value=X[2],t._aInput.value=K),k.hexInput&&(t._hexInput.value=t.$324u(X[0]/255,X[1]/255,X[2]/255)),k.controls)){var $=t.$323u(X[0]/255,X[1]/255,X[2]/255),i=t.$50u,Q=t.$233u,g=t.$51u;t.$48u=i.width-i.width*$.h,t.$234u=Q.width*K,t.$52u.x=g.width*$.s,t.$52u.y=g.height-g.height*$.v}}else k.rgbaInput&&(t._rInput.value="",t._gInput.value="",t._bInput.value="",t._aInput.value=""),k.hexInput&&(t._hexInput.value=""),k.controls&&(t.$48u=0,t.$234u=150,t.$52u.x=0,t.$52u.y=0)},getInteractorClasses:function(){return[H.ColorPaneInteractor]},closePopup:function(){H.ColorPane.superClass.closePopup.call(this),this.getPaletteComboBox().close()},initView:function(g){var Z=this;H.ColorPane.superClass.initView.call(Z,g),["hex","r","g","b","a"].forEach(function(c){var D=Z["_"+c+"Input"]=u.createElement("input"),W=D.style;D.type="text",W.boxSizing="border-box",W.position="absolute",W.paddingLeft=2+vl,D.addEventListener("focus",function(){D.select()}),D.value="a"===c?1:"hex"===c?"#FFFFFF":255,Z.getContentDiv().appendChild(D)})},initComboBoxDatas:function(){var F,o=this,i=o.getPaletteColors(),V=o.getPaletteComboBox(),B=[];if(i)for(var j in i)B.push(j),F==y&&(F=j);V.setDatas(B),V.setValue(F)},onPropertyChanged:function(X){var G=this,u=X.property;H.ColorPane.superClass.onPropertyChanged.call(G,X),"paletteColors"===u&&G.initComboBoxDatas(),("paletteColors"===u||"paletteComboboxVisible"===u)&&(G._defaultContentSize=y)},$55u:function(x){var M=this,B=M.getPaletteColors();if(B){var r=B[M.getPaletteComboBox().getValue()];if(r&&r.length>0){x==y&&(x=1);var N=M._paletteColorsWidth*x,J=r[0].length,v=(N-5*(J-1))/J;return v}}},calculatePaletteHeight:function(d){var s=this,o=s._paletteColorHeight;return d==y&&(d=1),o*d},figureDefaultContentSize:function(){var h=this;if(h._defaultContentSize)return h._defaultContentSize;var C=h._aInputRect,m=h.isPaletteComboBoxVisible(),d={width:h._paletteColorsWidth,height:C.y+C.height+2+16},F=h.getPaletteColors(),T=h._comboBoxRect;if(F){d.height=T.y+T.height;var X=h.$55u(),p=h.calculatePaletteHeight();if(X>0){var S=F[h.getPaletteComboBox().getValue()];d.height+=S.length*(p+5)-5+10}}return m||(d.height-=T.height+10),h._defaultContentSize=d,d},figurePreferredSize:function(){var d=this,W=Fb(d.figureDefaultContentSize());return W.width+=d.getBorderLeft()+d.getBorderRight()+d.getPaddingLeft()+d.getPaddingRight(),W.height+=d.getBorderTop()+d.getBorderBottom()+d.getPaddingTop()+d.getPaddingBottom(),W.width=i(W.width),W.height=i(W.height),W},figureScale:function(c,k){var H=this;c==y&&(c=H.getContentWidth(),k=H.getContentHeight());var C=H.figureDefaultContentSize(),d=c/C.width,$=k/C.height;return{scaleX:d,scaleY:$}},scaleRect:function(M,u,O){return M=Fb(M),M.x*=u,M.width*=u,M.y*=O,M.height*=O,M},validateImpl:function(S,Z,O,f){var m=this,b=m.getRootContext(),z=m.isPaletteComboBoxVisible(),P=m.figureScale(O,f),U=P.scaleX,A=P.scaleY,G=m.scaleRect(m.$51u,U,A),s=m.scaleRect(m.$50u,U,A),u=m.getPaletteComboBox(),T=m.scaleRect(m.$233u,U,A),M=m.scaleRect(m.$49u,U,A),v=Fb(m.$52u);v.x*=U,v.y*=A;var n=m.$332u(),W=m.$325u(n.h/360,n.s/100,n.v/100);m.drawColors(b,S+G.x,Z+G.y,G.width,G.height),m.drawColorsPointer(b,S+v.x+G.x,Z+v.y+G.y,3),m.drawHueBar(b,S+s.x,Z+s.y,s.width,s.height),m.drawHuePointer(b,S+s.x,Z+s.y,s),m.drawOpacityBar(b,W,S+T.x,Z+T.y,T.width,T.height),m.drawOpacityPointer(b,S+T.x,Z+T.y,T),m.drawPreview(b,W,S+M.x,Z+M.y,M.width,M.height),m.drawLabel(b,S,Z,U,A);var c=u.getDatas(),R=m.scaleRect(m._comboBoxRect,U,A),y=u.getView();if(c&&c.length>0){y.parentNode!==m.getContentDiv()&&m.getContentDiv().appendChild(y),z?u.setVisible(!0):u.setVisible(!1),u.setX(R.x),u.setY(R.y),u.setWidth(R.width),u.setHeight(R.height);var Y=m.getPaletteColors();Y&&(z?m.drawPaletteColors(b,Y[u.getValue()],S+R.x,Z+R.y+R.height+10,U,A):m.drawPaletteColors(b,Y[u.getValue()],S+R.x,Z+R.y,U,A)),u.validate()}else y.parentNode&&m.getContentDiv().removeChild(y);var F=m.getInputColor(),h=m.getInputBackground(),H=m.getInputBorderColor(),w=m.getInputFont();[m._hexInput,m._rInput,m._gInput,m._bInput,m._aInput].forEach(function(C){C.style.color=F,C.style.background=h,C.style.borderWidth="0 0 1px 0",C.style.borderColor=H,C.style.font=w});var E=m.isAlphaEditable();E?m._aInput.removeAttribute("readonly"):m._aInput.setAttribute("readonly",!0)},$332u:function(){var $=this,t=$.figureScale(),r=t.scaleX,G=t.scaleY,U=Fb($.$52u),N=$.scaleRect($.$51u,r,G),V=$.scaleRect($.$50u,r,G),y=$.$48u;U.x*=r,U.y*=G,y*=r;var o={h:T(360-y*(360/V.width)),s:T(100*U.x/N.width),v:T(100-100*U.y/N.height)};return o},drawPaletteColors:function(U,G,w,g,Y,K){var o=this;if(o.$153u=[],G&&G.length>0)for(var W=G.length,r=o.$55u(Y),h=o.calculatePaletteHeight(K),j=o.getContentLeft(),H=o.getContentTop(),M=0;W>M;M++)for(var s=0;s<G[M].length;s++){var A=G[M][s],Q=w+(r+5)*s,V=g+(h+5)*M;o.$153u.push({rect:{x:Q-j,y:V-H,width:r,height:h},color:A}),U.beginPath(),U.rect(Q,V,r,h),U.strokeStyle=o.getPreviewBorderColor(),U.stroke(),A==y?(U.beginPath(),U.rect(Q,V,r,h),U.fillStyle="white",U.fill(),U.beginPath(),U.moveTo(Q+1,V+1),U.lineTo(Q+r-1,V+h-1),U.strokeStyle="red",U.lineWidth=4,U.stroke()):(U.beginPath(),U.rect(Q,V,r,h),U.fillStyle=A,U.fill())}},drawPreview:function(M,n,E,K,w,O){var u=this,h=u.$178u,x=u.getValue(),_=u.$54u;if(!_){_=u.$54u=Hi(),Yh(_,10,10,1);var I=Lf(_);gl(I,h,0,0,10,10)}M.beginPath();var Z=M.createPattern(_,"repeat");M.rect(E,K,w,O),M.fillStyle=Z,M.fill(),x!=y&&(M.beginPath(),M.fillStyle="rgba("+T(255*n.r)+", "+T(255*n.g)+", "+T(255*n.b)+", "+T(100*(u.$234u/u.$233u.width))/100+")",M.rect(E,K,w,O),M.fill()),vr(M,u.getPreviewBorderColor(),E-1,K-1,w+2,O+2)},drawColors:function(g,i,T,r,Q){var U=this,p=U.$332u().h,I=U.$325u(p/360,1,1);g.beginPath(),g.rect(i,T,r,Q),g.fillStyle=U.$324u(I.r,I.g,I.b,!0),g.fill(),g.beginPath();var N=g.createLinearGradient(i,T,i+r,T);N.addColorStop(0,"rgb(255, 255, 255)"),N.addColorStop(1,"rgba(255, 255, 255, 0)"),g.rect(i,T,r,Q),g.fillStyle=N,g.fill(),g.beginPath();var B=g.createLinearGradient(i,T,i,T+Q);B.addColorStop(0,"rgba(0, 0, 0, 0)"),B.addColorStop(1,"rgba(0, 0, 0, 1)"),g.rect(i,T,r,Q),g.fillStyle=B,g.fill(),g.beginPath(),vr(g,this.getPreviewBorderColor(),i-1,T-1,r+2,Q+2)},drawColorsPointer:function(h,r,u,R){h.beginPath(),h.arc(r,u,R,0,2*g),h.strokeStyle="#fff",h.lineWidth=2,h.stroke(),h.arc(r,u,R,0,2*g),h.strokeStyle=this.getSliderColor(),h.lineWidth=1,h.stroke()},drawHueBar:function(H,m,G,o,$){H.beginPath();var L=H.createLinearGradient(m,G,m+o,G),b=["255, 0, 0","255, 0, 255","0, 0 ,255","0, 255, 255","0, 255, 0","255, 255, 0"],j=b.length;b.forEach(function(q,B){L.addColorStop(B/j,"rgb("+q+")")}),L.addColorStop(1,"rgb("+b[0]+")"),H.rect(m,G,o,$),H.fillStyle=L,H.fill(),H.beginPath(),vr(H,this.getPreviewBorderColor(),m-1,G-1,o+2,$+2)},drawHuePointer:function(W,v,q,B){var l=this,e=l.figureScale(),s=l.$48u*e.scaleX;W.beginPath(),W.rect(v+s-2,q,4,B.height),W.fillStyle="white",W.strokeStyle=l.getSliderColor(),W.lineWidth=2,W.stroke(),W.fill()},drawOpacityBar:function(P,$,q,X,D,Q){var s=this,O=s.$178u,F=s.$54u;if(!F){F=s.$54u=Hi(),Yh(F,10,10,1);var C=Lf(F);gl(C,O,0,0,10,10)}P.beginPath();var L=P.createPattern(F,"repeat");P.rect(q,X,D,Q),P.fillStyle=L,P.fill(),P.beginPath();var M=P.createLinearGradient(q,X,q+D,X);M.addColorStop(0,"rgba("+T(255*$.r)+", "+T(255*$.g)+", "+T(255*$.b)+", "+0+")"),M.addColorStop(1,"rgba("+T(255*$.r)+", "+T(255*$.g)+", "+T(255*$.b)+", "+1+")"),P.rect(q,X,D,Q),P.fillStyle=M,P.fill(),P.beginPath(),vr(P,this.getPreviewBorderColor(),q-1,X-1,D+2,Q+2)},drawOpacityPointer:function(w,g,S,c){var X=this,G=X.figureScale(),q=X.$234u*G.scaleX;w.beginPath(),w.rect(g+q-2,S,4,c.height),w.fillStyle="white",w.strokeStyle=X.getSliderColor(),w.lineWidth=2,w.stroke(),w.fill()},drawLabel:function(y,E,o,v,J){var C=this,e=[C._hexInputRect,C._rInputRect,C._gInputRect,C._bInputRect,C._aInputRect];["HEX","R","G","B","A"].forEach(function(Q,f){var T=C.scaleRect(e[f],v,J),W=C["_"+Q.toLowerCase()+"Input"],F=W.style;F.width=T.width+vl,F.height=T.height+vl,F.left=T.x+vl,F.top=T.y+vl;var L={x:T.x,y:T.y+T.height+2,width:T.width,height:16*J};Yl(y,Q,C.getLabelFont(),C.getLabelColor(),E+L.x,o+L.y,L.width,L.height,es,om),"HEX"!==Q&&(C["_"+Q.toLowerCase()+"LabelRect"]=L)})},labelHitTest:function(X){var P=this,K=X;return X instanceof Event&&(K=P.lp(X)),wp(P._rLabelRect,K)?"red":wp(P._gLabelRect,K)?"green":wp(P._bLabelRect,K)?"blue":wp(P._aLabelRect,K)?"alpha":void 0},colorsHitTest:function(f){var s=this,F=s.figureScale(),c=s.scaleRect(s.$51u,F.scaleX,F.scaleY),r=f;return f instanceof Event&&(r=s.lp(f)),wp(c,r)},opacityHitTest:function(X){var C=this,g=C.figureScale(),q=C.scaleRect(C.$233u,g.scaleX,g.scaleY),i=X;return X instanceof Event&&(i=C.lp(X)),wp(q,i)},paletteColorHitTest:function(x){var v=this,m=v.$153u,G=x;if(m&&m.length>0){x instanceof Event&&(G=v.lp(x));for(var t=0,W=m.length;W>t;t++){var R=m[t].rect;if(wp(R,G))return{color:m[t].color}}}},hueHitTest:function(g){var N=this,n=N.figureScale(),P=N.scaleRect(N.$50u,n.scaleX,n.scaleY),w=g;return g instanceof Event&&(w=N.lp(g)),wp(P,w)},$323u:function(P,d,f){var v,m,w=s(s(P,d),f),u=N(N(P,d),f),R=w;if(u==w)v=0,m=0;else{var F=w-u;m=F/w,v=P==w?(d-f)/F:d==w?2+(f-P)/F:4+(P-d)/F,v/=6,0>v&&(v+=1),v>1&&(v-=1)}return{h:v,s:m,v:R}},$324u:function(K,p,Y,n){return K=T(255*K),p=T(255*p),Y=T(255*Y),n==C&&(n=!0),K=K.toString(16),1==K.length&&(K="0"+K),p=p.toString(16),1==p.length&&(p="0"+p),Y=Y.toString(16),1==Y.length&&(Y="0"+Y),((n?"#":"")+K+p+Y).toUpperCase()},$333u:function(X,b,U){U==C&&(U=y),"#"==X.substr(0,1)&&(X=X.substr(1));var T,P,R;if(3==X.length)T=X.substr(0,1),T+=T,P=X.substr(1,1),P+=P,R=X.substr(2,1),R+=R;else{if(6!=X.length)return U;T=X.substr(0,2),P=X.substr(2,2),R=X.substr(4,2)}return T=aj(T,16),P=aj(P,16),R=aj(R,16),isNaN(T)||isNaN(P)||isNaN(R)?U:b?{r:T,g:P,b:R}:{r:T/255,g:P/255,b:R/255}},$325u:function(h,b,L){var R,E,D;if(0==L)R=0,E=0,D=0;else{var t=w(6*h),x=6*h-t,S=L*(1-b),Y=L*(1-b*x),N=L*(1-b*(1-x));switch(t){case 1:R=Y,E=L,D=S;break;case 2:R=S,E=L,D=N;break;case 3:R=S,E=Y,D=L;break;case 4:R=N,E=S,D=L;break;case 5:R=L,E=S,D=Y;break;case 6:case 0:R=L,E=N,D=S}}return{r:R,g:E,b:D}},getSerializableProperties:function(){var f=H.ColorPane.superClass.getSerializableProperties.call(this);return Nf(f,{labelColor:1,labelFont:1,sliderColor:1,inputColor:1,inputBackground:1,inputBorderColor:1,inputFont:1,previewBorderColor:1,value:1,paletteColors:1,paletteComboBoxVisible:1,paletteComboBox:1,alphaEditable:1})}}),H.DateTimePaneInteractor=function(M){H.DateTimePaneInteractor.superClass.constructor.call(this,M)},sf("ht.ui.DateTimePaneInteractor",H.Interactor,{handle_mousedown:function(p){this.handle_touchstart(p)},handleYearClick:function(){var S=this,i=S.getComponent();i.setContentType("yearGrid")},handleMonthClick:function(){var j=this,c=j.getComponent();c.setContentType("monthGrid")},setValue:function(N){var v=this,E=v.getComponent(),Q=E.a("dropdownFunc");if(Q&&Q.indexOf("daterangepane")>=0){var P=E.getDisplayRange();P=P.slice(0),"daterangepane_start"===Q?P[0]=N:P[1]=N,E.setDisplayRange(P)}else E.setValue(N)},getValue:function(){var Y=this,s=Y.getComponent(),p=s.a("dropdownFunc");if(p&&p.indexOf("daterangepane")>=0){var Z,v,z=s.getDisplayRange();return Z=z[0],v=z[1],"daterangepane_start"===p?Z:v}var d=s.getValue();if(!d){d=new Date;var Q=s.getDefaultTime();Q&&(d.setHours(Q.getHours()),d.setMinutes(Q.getMinutes()),d.setSeconds(Q.getSeconds()))}return d},handle_touchstart:function(m){qd(m);var G=this,D=G.getComponent(),s=D.areaHitTest(m);if(s){D.setHitArea(s),D.setHitState("active");var F=D.getContentType(),B=D.getType();if("headerYear"===s)G.handleYearClick();else if("headerMonth"===s)G.handleMonthClick();else if("timeSelector"===s)"timeList"!==F?D.setContentType("timeList"):D.setContentType("dateGrid");else if("prevYear"===s){var w=G.getValue();if("yearGrid"===F)D._startYear-=15,D._startYear<1&&(D._startYear=1),D.iv();else{w=new Date(w.getTime());var e=w.getFullYear(),J=e-1,j=w.getMonth();w.setFullYear(J),w.getMonth()!==j&&(w=new Date(J,j+1,0,w.getHours(),w.getMinutes(),w.getSeconds())),G.setValue(w)}}else if("nextYear"===s){var w=G.getValue();if("yearGrid"===F)D._startYear+=15,D.iv();else{w=new Date(w.getTime());var e=w.getFullYear(),J=e+1,j=w.getMonth();w.setFullYear(J),w.getMonth()!==j&&(w=new Date(J,j+1,0,w.getHours(),w.getMinutes(),w.getSeconds())),G.setValue(w)}}else if("prevMonth"===s){var w=G.getValue();w=new Date(w.getTime());var e=w.getFullYear(),J=e,f=w.getMonth(),j=f-1;-1===j&&(j=11,J-=1),w.setFullYear(J),w.setMonth(j),w.getMonth()!==j&&(w=new Date(J,j+1,0,w.getHours(),w.getMinutes(),w.getSeconds())),G.setValue(w)}else if("nextMonth"===s){var w=G.getValue();w=new Date(w.getTime());var e=w.getFullYear(),J=e,f=w.getMonth(),j=f+1;12===j&&(j=0,J+=1),w.setFullYear(J),w.setMonth(j),w.getMonth()!==j&&(w=new Date(J,j+1,0,w.getHours(),w.getMinutes(),w.getSeconds())),G.setValue(w)}else if(s)if("gridDate"===s.type){var r=D.a("dropdownFunc");if(r&&r.indexOf("daterangepane")>=0){var Z=D.getDateRange(),R=Z[0],h=Z[1],w=new Date(s.year,s.month-1,s.date);if(R&&h)Z=[w,y];else if(R){Z=Z.slice(0);var L=O.formatDate(R,"YYYY-MM-DD"),d=O.formatDate(w,"YYYY-MM-DD");L>d?(Z[0]=w,Z[1]=R):Z[1]=w}else Z=Z.slice(0),Z[0]=w;D.setDateRange(Z)}else w=G.getValue(),w=new Date(s.year,s.month-1,s.date,w.getHours(),w.getMinutes(),w.getSeconds()),D.setValue(w);D.setHitArea(y),D.setHitState(y)}else if("gridYear"===s.type){if(D.a("dropdownFunc")&&D.a("dropdownFunc").indexOf("daterangepane")>=0&&"year"===B){var Z=D.getDateRange(),R=Z[0],h=Z[1],w=new Date(s.year,1,1);if(R&&h)Z=[w,y];else if(R){Z=Z.slice(0);var L=O.formatDate(R,"YYYY"),d=O.formatDate(w,"YYYY");L>d?(Z[0]=w,Z[1]=R):Z[1]=w}else Z=Z.slice(0),Z[0]=w;D.setDateRange(Z)}else{var w=G.getValue();w=new Date(w.getTime());var J=s.year,j=w.getMonth();w.setFullYear(J),w.getMonth()!==j&&(w=new Date(J,j+1,0,w.getHours(),w.getMinutes(),w.getSeconds())),G.setValue(w),"year"!==B&&D.setContentType("dateGrid")}D.setHitArea(y),D.setHitState(y)}else if("gridMonth"===s.type){if(D.a("dropdownFunc")&&D.a("dropdownFunc").indexOf("daterangepane")>=0&&"month"===B){var Z=D.getDateRange(),R=Z[0],h=Z[1],w=new Date(s.year,s.month-1,1);if(R&&h)Z=[w,y];else if(R){Z=Z.slice(0);var L=O.formatDate(R,"YYYY-MM"),d=O.formatDate(w,"YYYY-MM");L>d?(Z[0]=w,Z[1]=R):Z[1]=w}else Z=Z.slice(0),Z[0]=w;D.setDateRange(Z)}else{var w=G.getValue();w=new Date(w.getTime());var j=s.month-1,J=w.getFullYear();w.setMonth(j),w.getMonth()!==j&&(w=new Date(J,j+1,0,w.getHours(),w.getMinutes(),w.getSeconds())),G.setValue(w),"month"!==B&&D.setContentType("dateGrid")}D.setHitArea(y),D.setHitState(y)}}},handle_mouseleave:function(){var J=this.getComponent();J.setHitArea(y),J.setHitState(y)},handle_mouseup:function(i){this.handle_touchend(i)},handle_touchend:function(s){this.handle_mousemove(s)},handle_mousemove:function(w){var k=this,i=k.getComponent(),p=i.areaHitTest(w);p?(i.setHitArea(p),i.setHitState("hover")):(i.setHitArea(y),i.setHitState("normal"))},handle_touchmove:function(W){qd(W);var E=this;E._state&&sr(E,W)},handle_moueleave:function(){var Y=this,$=Y.getComponent();$.setHitArea(y),$.setHitState("normal")}}),H.DateTimePane=function(Z){var T=this;H.DateTimePane.superClass.constructor.call(T);var r=new H.ListView;T.setHoursList(r);var w=new H.ListView;T.setMinutesList(w);var M=new H.ListView;T.setSecondsList(M),Z instanceof Date?T.setValue(Z):T.set(Z)},sf("ht.ui.DateTimePane",df,{ui_ac:["type","weekLabels","timeLabels","yearLabel","monthLabel","yearMonthOrder","labelFont","drawable:prevYear","drawable:nextYear","drawable:prevMonth","drawable:nextMonth","drawable:hoverPrevYear","drawable:hoverNextYear","drawable:hoverPrevMonth","drawable:hoverNextMonth","drawable:activePrevYear","drawable:activeNextYear","drawable:activePrevMonth","drawable:activeNextMonth","headerTitleColor","hoverHeaderTitleColor","headerTitleFont","weekTitleColor","gridColor","otherMonthGridColor","hoverGridColor","selectGridColor","disabledGridColor","timeColor","hoverTimeColor","disabledTimeColor","timeAlign","drawable:hoverGridBackground","drawable:rangeGridBackground","drawable:selectGridBackground","drawable:hoverMonthGridBackground","drawable:rangeMonthGridBackground","drawable:selectMonthGridBackground","drawable:hoverYearGridBackground","drawable:rangeYearGridBackground","drawable:selectYearGridBackground","selectableFunc","defaultTime"],ms_ac:["value","hitArea","hitState","contentType","displayRange","dateRange","timeRange","hoursList","minutesList","secondsList"],_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{type:!0}),__yearMonthOrder:"yearMonth",__type:"datetime",__weekLabels:["日","一","二","三","四","五","六"],__timeLabels:["小时","分钟","秒"],__yearLabel:"YYYY 年",__monthLabel:"MM 月",__labelFont:M.font,__headerTitleFont:M.font,__prevYear:"ui_prevYear",__prevMonth:"ui_prevMonth",__nextYear:"ui_nextYear",__nextMonth:"ui_nextMonth",__disabledTimeColor:M.textDimColor,__border:new H.border.LineBorder(1,M.borderColor),__borderRadius:M.borderRadius,__headerTitleColor:M.textColor,__hoverHeaderTitleColor:M.baseColor,__hoverGridBackground:M.hoverBackground,__rangeGridBackground:M.hoverBackground,__selectGridBackground:["ht.ui.drawable.DateTimePaneSelectGridDrawable",M.baseColor,null,aj(M.borderRadius)],__hoverMonthGridBackground:M.hoverBackground,__rangeMonthGridBackground:M.hoverBackground,__selectMonthGridBackground:["ht.ui.drawable.DateTimePaneSelectGridDrawable",M.baseColor,null,aj(M.borderRadius)],__hoverYearGridBackground:M.hoverBackground,__rangeYearGridBackground:M.hoverBackground,__selectYearGridBackground:["ht.ui.drawable.DateTimePaneSelectGridDrawable",M.baseColor,null,aj(M.borderRadius)],__weekTitleColor:M.textColor,__gridColor:M.textColor,__otherMonthGridColor:M.textDimColor,__hoverGridColor:M.textColor,__selectGridColor:M.baseColor,__disabledGridColor:M.textDimColor,__timeAlign:"left",__timeColor:M.textColor,__hoverTimeColor:M.baseColor,__activeTimeColor:M.baseColor,_prevYearRect:{x:10,y:10,width:30,height:30},_prevMonthRect:{x:45,y:10,width:30,height:30},_nextYearRect:{x:230,y:10,width:30,height:30},_nextMonthRect:{x:195,y:10,width:30,height:30},_yearRect:{x:83,y:10,width:55,height:30},_monthRect:{x:148,y:10,width:55,height:30},_weekRect:{x:9,y:40,width:252,height:30},_timeSelectorRect:{x:20,y:254,width:230,height:30},_dateTimeSize:{width:270,height:290},_dateSize:{width:270,height:260},getContentType:function(){var k=this,M=k.getPropertyValue("contentType");
if(!M){var E=k.getType();"datetime"===E||"date"===E?M="dateGrid":"month"===E?M="monthGrid":"year"===E?M="yearGrid":"time"===E&&(M="timeList")}return M},figureDefaultContentSize:function(){var H=this,L=H.getType();return"datetime"===L&&(!H.a("dropdownFunc")||H.a("dropdownFunc").indexOf("daterangepane")<0)?H._dateTimeSize:H._dateSize},figurePreferredSize:function(){var U=this,w=Fb(U.figureDefaultContentSize());return w.width+=i(U.getPaddingLeft()+U.getPaddingRight()+U.getBorderLeft()+U.getBorderRight()),w.height+=i(U.getPaddingTop()+U.getPaddingBottom()+U.getBorderTop()+U.getBorderBottom()),w},getInteractorClasses:function(){return[H.DateTimePaneInteractor]},setValue:function(p){var m=this,i=m.getSelectableFunc();(!i||i.call(m,p))&&m.setPropertyValue("value",p)},getIconDrawable:function(c){var Z=this,o=Z.getHitState(),i=Z.getHitArea();if("prevYear"===c){var v=Z.getPrevYearDrawable();return"prevYear"===i&&"hover"===o?Z.getHoverPrevYearDrawable()||v:"prevYear"===i&&"active"===o?Z.getActivePrevYearDrawable()||v:v}if("prevMonth"===c){var q=Z.getPrevMonthDrawable();return"prevMonth"===i&&"hover"===o?Z.getHoverPrevMonthDrawable()||q:"prevMonth"===i&&"active"===o?Z.getActivePrevMonthDrawable()||q:q}if("nextYear"===c){var a=Z.getNextYearDrawable();return"nextYear"===i&&"hover"===o?Z.getHoverNextYearDrawable()||a:"nextYear"===i&&"active"===o?Z.getActiveNextYearDrawable()||a:a}if("nextMonth"===c){var H=Z.getNextMonthDrawable();return"nextMonth"===i&&"hover"===o?Z.getHoverNextMonthDrawable()||H:"nextMonth"===i&&"active"===o?Z.getActiveNextMonthDrawable()||H:H}},getTextColor:function(B,O,m,R,$){var H=this,Q=H.getSelectableFunc();if("weekTitle"===B.type)return H.getWeekTitleColor();if("headerYear"===B.type){var p=H.getHitArea();return"headerYear"===p?H.getHoverHeaderTitleColor():H.getHeaderTitleColor()}if("headerMonth"===B.type){var p=H.getHitArea();return"headerMonth"===p?H.getHoverHeaderTitleColor():H.getHeaderTitleColor()}if("timeSelector"===B.type){var p=H.getHitArea(),D=H.getContentType();return"monthGrid"===D||"yearGrid"===D?H.getDisabledTimeColor():"timeSelector"===p?H.getHoverTimeColor():H.getTimeColor()}if("hoursTitle"===B.type||"minutesTitle"===B.type||"secondsTitle"===B.type)return H.getHeaderTitleColor();if("gridYear"===B.type){var d=H.a("dropdownFunc");if(Q&&!Q.call(H,new Date(B.year,0,1)))return H.getDisabledGridColor();if(d&&d.indexOf("daterangepane")>=0)if("year"===H.getType()){if(O&&O.getFullYear()===B.year)return H.getSelectGridColor();if(m&&m.getFullYear()===B.year)return H.getSelectGridColor()}else{var M;if(M="daterangepane_start"===d?R:$,M&&M.getFullYear()===B.year)return H.getSelectGridColor()}else{var g=H.getValue()||new Date;if(g.getFullYear()===B.year)return H.getSelectGridColor()}var p=H.getHitArea();return p&&p.year===B.year?H.getHoverGridColor():H.getGridColor()}if("gridMonth"===B.type){var d=H.a("dropdownFunc");if(Q&&!Q.call(H,new Date(B.year,B.month-1,1)))return H.getDisabledGridColor();if(d&&d.indexOf("daterangepane")>=0)if("month"===H.getType()){if(O&&O.getMonth()+1===B.month&&O.getFullYear()===B.year)return H.getSelectGridColor();if(m&&m.getMonth()+1===B.month&&m.getFullYear()===B.year)return H.getSelectGridColor()}else{var M;if(M="daterangepane_start"===d?R:$,M&&M.getMonth()+1===B.month&&M.getFullYear()===B.year)return H.getSelectGridColor()}else{var g=H.getValue()||new Date;if(g.getMonth()+1===B.month&&g.getFullYear()===B.year)return H.getSelectGridColor()}var p=H.getHitArea();return p&&p.year===B.year&&p.month===B.month?H.getHoverGridColor():H.getGridColor()}if("gridDate"===B.type){var d=H.a("dropdownFunc");if(Q&&!Q.call(H,new Date(B.year,B.month-1,B.date)))return H.getDisabledGridColor();if(d&&d.indexOf("daterangepane")>=0){var M;if(M="daterangepane_start"===d?R:$,O&&O.getDate()===B.date&&O.getMonth()+1===B.month&&O.getFullYear()===B.year){if(B.year===M.getFullYear()&&B.month===M.getMonth()+1)return H.getSelectGridColor()}else if(m&&m.getDate()===B.date&&m.getMonth()+1===B.month&&m.getFullYear()===B.year&&B.year===M.getFullYear()&&B.month===M.getMonth()+1)return H.getSelectGridColor()}else{var g=H.getValue()||new Date;if(g&&g.getDate()===B.date&&g.getMonth()+1===B.month&&g.getFullYear()===B.year)return H.getSelectGridColor()}var p=H.getHitArea();return p&&p.date===B.date&&p.month===B.month?H.getHoverGridColor():B.month===B.currentMonth?H.getGridColor():H.getOtherMonthGridColor()}},getGridBackgroundDrawable:function(T,B,d,m,N){var h=this,s=h.getHitArea(),y=h.a("dropdownFunc"),H=h.getValue()||new Date;if("gridDate"===T.type){if(y&&y.indexOf("daterangepane")>=0){var i;if(i="daterangepane_start"===y?m:N,B&&B.getDate()===T.date&&B.getMonth()+1===T.month&&B.getFullYear()===T.year)return T.year===i.getFullYear()&&T.month===i.getMonth()+1?h.getSelectGridBackgroundDrawable():h.getRangeGridBackgroundDrawable();if(d&&d.getDate()===T.date&&d.getMonth()+1===T.month&&d.getFullYear()===T.year)return T.year===i.getFullYear()&&T.month===i.getMonth()+1?h.getSelectGridBackgroundDrawable():h.getRangeGridBackgroundDrawable();if(B&&d){var u=new Date(T.year,T.month-1,T.date);if(u>B&&d>u)return h.getRangeGridBackgroundDrawable()}}else if(H&&H.getDate()===T.date&&H.getMonth()+1===T.month&&H.getFullYear()===T.year)return h.getSelectGridBackgroundDrawable()}else if("gridYear"===T.type){if(y&&y.indexOf("daterangepane")>=0)if("year"===h.getType()){if(B&&B.getFullYear()===T.year)return h.getSelectYearGridBackgroundDrawable();if(d&&d.getFullYear()===T.year)return h.getSelectYearGridBackgroundDrawable();if(B&&d){var u=new Date(T.year,1,1);if(u>B&&d>u)return h.getRangeYearGridBackgroundDrawable()}}else{var i;if(i="daterangepane_start"===y?m:N,i&&i.getFullYear()===T.year)return h.getSelectYearGridBackgroundDrawable()}else if(H&&H.getFullYear()===T.year)return h.getSelectYearGridBackgroundDrawable()}else if("gridMonth"===T.type)if(y&&y.indexOf("daterangepane")>=0)if("month"===h.getType()){if(B&&B.getMonth()+1===T.month&&B.getFullYear()===T.year)return h.getSelectMonthGridBackgroundDrawable();if(d&&d.getMonth()+1===T.month&&d.getFullYear()===T.year)return h.getSelectMonthGridBackgroundDrawable();if(B&&d){var u=new Date(T.year,T.month-1,1);if(u>B&&d>u)return h.getRangeMonthGridBackgroundDrawable()}}else{var i;if(i="daterangepane_start"===y?m:N,i&&i.getMonth()+1===T.month&&i.getFullYear()===T.year)return h.getSelectMonthGridBackgroundDrawable()}else if(H&&H.getMonth()+1===T.month)return h.getSelectMonthGridBackgroundDrawable();if(s){if("gridDate"===s.type&&s.date===T.date&&s.month===T.month)return h.getHoverGridBackgroundDrawable();if("gridYear"===s.type&&s.year===T.year)return h.getHoverYearGridBackgroundDrawable();if("gridMonth"===s.type&&s.month===T.month)return h.getHoverMonthGridBackgroundDrawable()}},areaHitTest:function(G){var _=this;if(G){var E=_.getContentType(),w=G instanceof Event?_.lp(G):G,t=_.getType(),l=0,v=0,X=_.getContentLeft(),u=_.getContentTop(),A=_.getContentWidth(),n=_.getContentHeight(),O=_.figureDefaultContentSize(),V=A/O.width,o=n/O.height,c=_.getSelectableFunc(),S=_.getYearMonthOrder();if("yearGrid"!==E&&"monthGrid"!==E&&"datetime"===t&&wp(_.scaleRect(_._timeSelectorRect,l,v,V,o),w))return"timeSelector";if("dateGrid"===E){if(wp(_.scaleRect(_._yearRect,l,v,V,o),w))return"yearMonth"===S?"headerYear":"headerMonth";if(wp(_.scaleRect(_._monthRect,l,v,V,o),w))return"yearMonth"===S?"headerMonth":"headerYear";if(wp(_.scaleRect(_._prevYearRect,l,v,V,o),w))return"prevYear";if(wp(_.scaleRect(_._prevMonthRect,l,v,V,o),w))return"prevMonth";if(wp(_.scaleRect(_._nextYearRect,l,v,V,o),w))return"nextYear";if(wp(_.scaleRect(_._nextMonthRect,l,v,V,o),w))return"nextMonth";var F=_._dayRects;if(F)for(var Q=0,D=F.length;D>Q;Q++){var r=Fb(F[Q]);if(r.x-=X,r.y-=u,wp(r,w)&&(!c||c.call(_,new Date(r.year,r.month-1,r.date))))return{type:"gridDate",date:r.date,month:r.month,currentMonth:r.currentMonth,year:r.year}}}else if("yearGrid"===E){if(wp(_.scaleRect(_._prevYearRect,l,v,V,o),w))return"prevYear";if(wp(_.scaleRect(_._nextYearRect,l,v,V,o),w))return"nextYear";var q=_._yearRects;if(q)for(var Q=0,D=q.length;D>Q;Q++){var r=Fb(q[Q]);if(r.x-=X,r.y-=u,wp(r,w)&&(!c||c.call(_,new Date(r.year,0,1))))return{type:"gridYear",year:r.year}}}else if("monthGrid"===E){if("month"===t){if(wp(_.scaleRect(_._prevYearRect,l,v,V,o),w))return"prevYear";if(wp(_.scaleRect(_._nextYearRect,l,v,V,o),w))return"nextYear"}var j=_._monthRects;if(j)for(var Q=0,D=j.length;D>Q;Q++){var r=Fb(j[Q]);if(r.x-=X,r.y-=u,wp(r,w)&&(!c||c.call(_,new Date(r.year,r.month-1,1))))return{type:"gridMonth",year:r.year,month:r.month}}}}},formatYear:function(F){var A=this,G=A.getYearLabel(),R=new Date;return R.setDate(1),R.setFullYear(F),O.formatDate(R,G)},formatMonth:function(K){var i=this,P=i.getMonthLabel(),A=new Date;return A.setDate(1),A.setMonth(K-1),O.formatDate(A,P)},scaleRect:function(Z,n,M,A,R){var h=this;if(n===C){var H=h.figureDefaultContentSize();n=h.getContentLeft(),M=h.getContentTop();var U=h.getContentWidth(),F=h.getContentHeight();A=U/H.width,R=F/H.height}return Z=Fb(Z),Z.x*=A,Z.width*=A,Z.y*=R,Z.height*=R,Z.x+=n,Z.y+=M,Z},drawGridBackground:function(r,j,U,x,Y){var c=this;r&&r.draw(j,U,x,Y,null,c)},drawGridText:function(G,m,Z,S,J,u,w,V,L,c){Yl(G,m.date,Z,S,J,u,w,V,L,c)},validateImpl:function(A,R,H,i){var g,T,K,k,O,m,U,C,Y,D,t,d=this,l=d.getType(),J=d.getContentType(),I=d.figureDefaultContentSize(),S=H/I.width,r=i/I.height,c=d.scaleRect(d._prevYearRect,A,R,S,r),x=d.scaleRect(d._prevMonthRect,A,R,S,r),p=d.scaleRect(d._nextYearRect,A,R,S,r),o=d.scaleRect(d._nextMonthRect,A,R,S,r),v=d.scaleRect(d._yearRect,A,R,S,r),M=d.scaleRect(d._monthRect,A,R,S,r),j=d.scaleRect(d._weekRect,A,R,S,r),b=d.getLabelFont(),u=d.getYearMonthOrder(),W=d.getDisplayRange(),f=d.getDateRange(),X=d.getTimeRange(),Q=d.getHeaderTitleFont(),e=d.a("dropdownFunc"),$=d.getDefaultTime(),w=d.getRootContext(),s=d.getValue();if(s||(s=new Date,$&&(s.setHours($.getHours()),s.setMinutes($.getMinutes()),s.setSeconds($.getSeconds()))),W?(m=W[0],U=W[1],C=f[0],Y=f[1],D=X[0],t=X[1],"daterangepane_start"===e?(g=m.getFullYear(),T=m.getMonth()+1,K=D.getHours(),k=D.getMinutes(),O=D.getSeconds()):(g=U.getFullYear(),T=U.getMonth()+1,K=t.getHours(),k=t.getMinutes(),O=t.getSeconds())):(g=s.getFullYear(),T=s.getMonth()+1,K=s.getHours(),k=s.getMinutes(),O=s.getSeconds()),"monthGrid"===J){"month"===l&&(d.getIconDrawable("prevYear").draw(c.x,c.y,c.width,c.height,null,d),d.getIconDrawable("nextYear").draw(p.x,p.y,p.width,p.height,null,d));var L=j.x,Z=j.y,h=j.width/3,n=7*j.height/4;Yl(w,d.formatYear(g),Q,d.getTextColor({type:"headerYear"}),A,v.y,H,v.height,"center",rr);for(var G=0,F=d._monthRects=[],V=1;12>=V;V++){var P={type:"gridMonth",year:g,month:V},E=d.getTextColor(P),z=d.getGridBackgroundDrawable(P,C,Y,m,U);F.push({x:L,y:Z,width:h,height:n,year:g,month:V}),z&&z.draw(L,Z,h,n,null,d),Yl(w,d.formatMonth(V),b,E,L,Z,h,n,"center",rr),L+=h,0===(G+1)%3&&(L=j.x,Z+=n),G++}}else if("yearGrid"===J){d.getIconDrawable("prevYear").draw(c.x,c.y,c.width,c.height,null,d),d.getIconDrawable("nextYear").draw(p.x,p.y,p.width,p.height,null,d);var a=d._startYear;a==y&&(a=d._startYear=g-7);var B=a+15,L=j.x,Z=j.y,N=j.width/3,_=7*j.height/5;Yl(w,d.formatYear(a)+" - "+d.formatYear(B-1),Q,d.getTextColor({type:"headerMonth"}),A,v.y,H,v.height,"center",rr);for(var G=0,q=d._yearRects=[],V=a;B>V;V++){var ln={type:"gridYear",year:V},E=d.getTextColor(ln),z=d.getGridBackgroundDrawable(ln,C,Y,m,U);q.push({x:L,y:Z,width:N,height:_,year:V}),z&&z.draw(L,Z,N,_,null,d),Yl(w,d.formatYear(V),b,E,L,Z,N,_,"center",rr),L+=N,0===(G+1)%3&&(L=j.x,Z+=_),G++}}else if("dateGrid"===J){d.getIconDrawable("prevYear").draw(c.x,c.y,c.width,c.height,null,d),d.getIconDrawable("prevMonth").draw(x.x,x.y,x.width,x.height,null,d),"yearMonth"===u?(Yl(w,d.formatYear(g),Q,d.getTextColor({type:"headerYear"}),v.x,v.y,v.width,v.height,mo,rr),Yl(w,d.formatMonth(T),Q,d.getTextColor({type:"headerMonth"}),M.x,M.y,M.width,M.height,dn,rr)):(Yl(w,d.formatYear(g),Q,d.getTextColor({type:"headerYear"}),M.x,M.y,M.width,M.height,dn,rr),Yl(w,d.formatMonth(T),Q,d.getTextColor({type:"headerMonth"}),v.x,v.y,v.width,v.height,mo,rr)),d.getIconDrawable("nextYear").draw(p.x,p.y,p.width,p.height,null,d),d.getIconDrawable("nextMonth").draw(o.x,o.y,o.width,o.height,null,d);var L=j.x,Z=j.y,hk=j.width/7;d.getWeekLabels().forEach(function(p){Yl(w,p,b,d.getTextColor({type:"weekTitle",text:p}),L,Z,hk,j.height,"center",rr),L+=hk});var ai=d.getMonthData(g,T),fe=ai.days;L=j.x,Z+=30*r;for(var Ch=d._dayRects=[],V=0,ci=fe.length;ci>V;V++){var en=fe[V],Mb={type:"gridDate",date:en.date,month:en.month,currentMonth:ai.month,year:en.year},E=d.getTextColor(Mb,C,Y,m,U),z=d.getGridBackgroundDrawable(Mb,C,Y,m,U);d.drawGridBackground(z,L,Z,hk,j.height,Mb,V),d.drawGridText(w,en,b,E,L,Z,hk,j.height,"center",rr),Ch.push({x:L,y:Z,width:hk,height:j.height,date:en.date,month:en.month,currentMonth:ai.month,year:en.year}),0===(V+1)%7?(L=j.x,Z+=30*r):L+=hk}}if(10>K&&(K="0"+K),10>k&&(k="0"+k),10>O&&(O="0"+O),"datetime"===l&&(!e||e.indexOf("daterangepane")<0)){var um,ul=d.scaleRect(d._timeSelectorRect,A,R,S,r),vh=d.getTimeAlign();um=d._secondsList?K+":"+k+":"+O:K+":"+k,Yl(w,um,b,d.getTextColor({type:"timeSelector"}),ul.x,ul.y,ul.width,ul.height,d.getTimeAlign(),rr);var ab=go(b,um);w.beginPath(),"left"===vh?w.rect(ul.x,ul.y+ab.height*r+4,ab.width,1):"right"===vh?w.rect(ul.x+ul.width-ab.width,ul.y+ab.height*r+4,ab.width,1):w.rect(ul.x+(ul.width-ab.width)/2,ul.y+ab.height*r+4,ab.width,1),w.fillStyle=d.getTextColor({type:"timeSelector"}),w.fill()}if("timeList"===J){w.beginPath();var ps=d.getTimeLabels(),Tj=d.getContentDiv(),Fl=d._hoursList,ah=d._minutesList,Li=d._secondsList;Li?(Yl(w,ps[0],b,d.getTextColor({type:"hoursTitle"}),10*S+A,10*r+R,82*S,30*r,"center",rr),Fl.setX(10*S),Fl.setY(40*r),Fl.setWidth(82*S),Fl.setHeight(214*r)):(Yl(w,ps[0],b,d.getTextColor({type:"hoursTitle"}),10*S+A,10*r+R,124*S,30*r,"center",rr),Fl.setX(10*S),Fl.setY(40*r),Fl.setWidth(124*S),Fl.setHeight(214*r)),Fl.sm().ss(Fl.dm().getDataById(K)),Tj.appendChild(Fl.getView()),Li?(Yl(w,ps[1],b,d.getTextColor({type:"minutesTitle"}),94*S+A,10*r+R,82*S,30*r,"center",rr),ah.setX(94*S),ah.setY(40*r),ah.setWidth(82*S),ah.setHeight(214*r)):(Yl(w,ps[1],b,d.getTextColor({type:"minutesTitle"}),136*S+A,10*r+R,124*S,30*r,"center",rr),ah.setX(136*S),ah.setY(40*r),ah.setWidth(124*S),ah.setHeight(214*r)),ah.sm().ss(ah.dm().getDataById(k)),Tj.appendChild(ah.getView()),Li&&(Yl(w,ps[2],b,d.getTextColor({type:"secondsTitle"}),178*S+A,10*r+R,82*S,30*r,"center",rr),Li.sm().ss(Li.dm().getDataById(O)),Li.setX(178*S),Li.setY(40*r),Li.setWidth(82*S),Li.setHeight(214*r),Tj.appendChild(Li.getView()))}else xm(d._hoursList.getView()),xm(d._minutesList.getView()),d._secondsList&&xm(d._secondsList.getView())},setHoursList:function(C){var w=this;w.setPropertyValue("hoursList",C);var x=C.getSerializableProperties;C.getSerializableProperties=function(){var D=x.call(this);return delete D.style,delete D.dataModel,delete D.selectionModel,D};var Z=C.dm();C.getStyleParent=function(){return w},C.setStyle("hours-list"),C.sm().addSelectionChangeListener(function(){var S=C.sm().ld();if(S){var X=w.a("dropdownFunc");if(X&&X.indexOf("daterangepane")>=0){var U=w.getTimeRange(),$=U[0],G=U[1];"daterangepane_start"===X?($=new Date($.getTime()),$.setHours(S.getId())):(G=new Date(G.getTime()),G.setHours(S.getId())),U=[$,G],w.setTimeRange(U)}else{var v=w.getValue()||new Date;v.getHours()!==S.getId()&&(v=new Date(v.getTime()),v.setHours(S.getId()),w.setValue(v))}}});for(var K=0;24>K;K++){var X=new z.Data;X.setId(10>K?"0"+K:K),X.setName(10>K?"0"+K:K),Z.add(X)}},setMinutesList:function(k){var G=this;G.setPropertyValue("minutesList",k);var f=k.getSerializableProperties;k.getSerializableProperties=function(){var d=f.call(this);return delete d.style,delete d.dataModel,delete d.selectionModel,d};var R=k.dm();k.getStyleParent=function(){return G},k.setStyle("minutes-list"),k.sm().addSelectionChangeListener(function(){var l=k.sm().ld();if(l){var c=G.a("dropdownFunc");if(c&&c.indexOf("daterangepane")>=0){var h=G.getTimeRange(),v=h[0],S=h[1];"daterangepane_start"===c?(v=new Date(v.getTime()),v.setMinutes(l.getId())):(S=new Date(S.getTime()),S.setMinutes(l.getId())),h=[v,S],G.setTimeRange(h)}else{var x=G.getValue()||new Date;x.getMinutes()!==l.getId()&&(x=new Date(x.getTime()),x.setMinutes(l.getId()),G.setValue(x))}}});for(var U=0;60>U;U++){var F=new z.Data;F.setId(10>U?"0"+U:U),F.setName(10>U?"0"+U:U),R.add(F)}},setSecondsList:function(F){var h=this;if(h.setPropertyValue("secondsList",F),F){var c=F.getSerializableProperties;F.getSerializableProperties=function(){var B=c.call(this);return delete B.dataModel,delete B.selectionModel,delete B.style,B};var n=F.dm();F.getStyleParent=function(){return h},F.setStyle("seconds-list"),F.sm().addSelectionChangeListener(function(){var m=F.sm().ld();if(m){var J=h.a("dropdownFunc");if(J&&J.indexOf("daterangepane")>=0){var N=h.getTimeRange(),V=N[0],q=N[1];"daterangepane_start"===J?(V=new Date(V.getTime()),V.setSeconds(m.getId())):(q=new Date(q.getTime()),q.setSeconds(m.getId())),N=[V,q],h.setTimeRange(N)}else{var r=h.getValue()||new Date;r.getSeconds()!==m.getId()&&(r=new Date(r.getTime()),r.setSeconds(m.getId()),h.setValue(r))}}});for(var X=0;60>X;X++){var e=new z.Data;e.setId(10>X?"0"+X:X),e.setName(10>X?"0"+X:X),n.add(e)}}},getMonthData:function(e,A){var W=[],K=new Date;e==y&&(e=K.getFullYear()),A==y&&(A=K.getMonth()+1);for(var V=new Date(e,A-1,1),u=V.getDay(),o=new Date(e,A,0),p=o.getDate(),s=new Date(e,A-1,0),E=s.getDate(),G=0;u>G;G++){var i=E-u+G+1;W.push({year:s.getFullYear(),date:i,month:s.getMonth()+1})}for(var G=0;p>G;G++){var i=G+1;W.push({year:e,date:i,month:A})}for(var r=W.length,P=new Date(e,A,1),G=0;42-r>G;G++){var i=G+1;W.push({year:P.getFullYear(),date:i,month:P.getMonth()+1})}return{year:V.getFullYear(),month:V.getMonth()+1,days:W}},getSerializableProperties:function(){var q=H.ColorPane.superClass.getSerializableProperties.call(this);return Nf(q,{type:1,weekLabels:1,timeLabels:1,yearLabel:1,monthLabel:1,yearMonthOrder:1,labelFont:1,prevYear:1,prevYearDrawable:1,nextYear:1,nextYearDrawable:1,prevMonth:1,prevMonthDrawable:1,nextMonth:1,nextMonthDrawable:1,hoverPrevYear:1,hoverPrevYearDrawable:1,hoverNextYear:1,hoverNextYearDrawable:1,hoverPrevMonth:1,hoverPrevMonthDrawable:1,hoverNextMonth:1,hoverNextMonthDrawable:1,activePrevYear:1,activePrevYearDrawable:1,activeNextYear:1,activeNextYearDrawable:1,activePrevMonth:1,activePrevMonthDrawable:1,activeNextMonth:1,activeNextMonthDrawable:1,headerTitleFont:1,headerTitleColor:1,hoverHeaderTitleColor:1,weekTitleColor:1,gridColor:1,otherMonthGridColor:1,hoverGridColor:1,selectGridColor:1,disabledGridColor:1,timeColor:1,hoverTimeColor:1,disabledTimeColor:1,timeAlign:1,hoverGridBackground:1,hoverGridBackgroundDrawable:1,rangeGridBackground:1,rangeGridBackgroundDrawable:1,selectGridBackground:1,selectGridBackgroundDrawable:1,hoverMonthGridBackground:1,hoverMonthGridBackgroundDrawable:1,rangeMonthGridBackground:1,rangeMonthGridBackgroundDrawable:1,selectMonthGridBackground:1,selectMonthGridBackgroundDrawable:1,hoverYearGridBackground:1,hoverYearGridBackgroundDrawable:1,rangeYearGridBackground:1,rangeYearGridBackgroundDrawable:1,selectYearGridBackground:1,selectYearGridBackgroundDrawable:1,selectableFunc:1,defaultTime:1,value:1,hoursList:1,minutesList:1,secondsList:1})}}),H.DateTimeDropDownView=function(){var $=this;H.DateTimeDropDownView.superClass.constructor.call($),$.setFocusable(!1);var R=new H.HBoxLayout,L=new H.Button,m=new H.Button;L.setStyle("button-obvious datetimedropdown-ok"),m.setStyle("button-minor datetimedropdown-cancel"),L.a("dropdownFunc","ok"),m.a("dropdownFunc","cancel"),L.__text="确定",m.__text="取消",R.__align=mo,M.okFirst?(R.addView(L,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10}),R.addView(m,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10})):(R.addView(m,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10}),R.addView(L,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10}));var Y=new H.DateTimePane;Y.a("dropdownFunc","datetimepane"),Y.__border=null,Y.__boxShadow=null,Y.setStyle("datetimedropdown-datetimepane"),$.__background=M.popupBackground,$.__boxShadow=M.popupBoxShadow,$.setStyle("datetimedropdown"),$.__zIndex="10000000",$.__borderRadius=M.borderRadius,$.addView(Y,{width:"match_parent"}),$.addView(R,{width:"match_parent"})},sf("ht.ui.DateTimeDropDownView",H.VBoxLayout,{findViewByFunc:function(S){var m=this,E=function(R){for(var O=0;O<R.length;O++){var q=R.get(O);if(q.a("dropdownFunc")===S)return q instanceof H.RefViewGroup?q.getChildren().get(0):q;if(q.getChildren){var F=E(q.getChildren());if(F)return F}}};return E(m.getChildren())}}),H.DateTimeDropDown=function(){},sf("ht.ui.DateTimeDropDown",H.DropDownTemplate,{ms_ac:["buttonTexts"],onPropertyChanged:function(i){var v=this,N=i.property;if("buttonTexts"===N){var H=v._dateTimeDropDownView,c=H.findViewByFunc("ok"),M=H.findViewByFunc("cancel"),w=i.newValue||[];c&&c.setText(w[0]),M&&M.setText(w[1])}},setPropertyValue:function(V,o){var E=this;if(0===V.indexOf("dateTimePane.")){for(var U=E._dateTimePane,D=V.split("."),e=1;e<D.length-1;e++)U=U[_q(D[e])]();V=D[D.length-1];var W=U["_"+V];Em(U,y,V,o),U.fp(V,W,o)}if(0===V.indexOf("hoursList.")){for(var U=E._dateTimePane,D=V.split("."),e=1;e<D.length-1;e++)U=U[_q(D[e])]();V=D[D.length-1];var W=U["_"+V];Em(U,y,V,o),U.fp(V,W,o)}if(0===V.indexOf("minutesList.")){for(var U=E._dateTimePane,D=V.split("."),e=1;e<D.length-1;e++)U=U[_q(D[e])]();V=D[D.length-1];var W=U["_"+V];Em(U,y,V,o),U.fp(V,W,o)}else if(0===V.indexOf("okButton.")){var b=E._dateTimeDropDownView.findViewByFunc("ok"),D=V.split(".");[b].forEach(function(G){for(var X=1;X<D.length-1;X++)G=G[_q(D[X])]();V=D[D.length-1];var i=G["_"+V];Em(G,y,V,o),G.fp(V,i,o)})}else if(0===V.indexOf("cancelButton.")){var K=E._dateTimeDropDownView.findViewByFunc("cancel"),D=V.split(".");[K].forEach(function(K){for(var _=1;_<D.length-1;_++)K=K[_q(D[_])]();V=D[D.length-1];var q=K["_"+V];Em(K,y,V,o),K.fp(V,q,o)})}else H.DateTimeDropDown.superClass.setPropertyValue.call(E,V,o)},initDropDownView:function(Z,D,S){var N=this,w=Z.getDropDownViewRenderer&&Z.getDropDownViewRenderer();if(w){H._uiRendererLoadedMap||(H._uiRendererLoadedMap={});var n=H._uiRendererLoadedMap[w];n||(n=O.xhrLoad(w,null,{sync:!0}),n&&(H._uiRendererLoadedMap[w]=n));var U=new H.UIJSONSerializer;U.setShipListeners(!0);var v=N._dateTimeDropDownView=U.deserialize(H._uiRendererLoadedMap[w]);v.fireViewEvent({kind:"rendererInit",renderer:v,datas:D,master:Z,dropDownTemplate:N});var k=N._dateTimePane=v.findViewByFunc("datetimepane"),_=v.findViewByFunc("ok"),l=v.findViewByFunc("cancel")}else var v=N._dateTimeDropDownView=new H.DateTimeDropDownView,k=N._dateTimePane=v.findViewByFunc("datetimepane"),_=v.findViewByFunc("ok"),l=v.findViewByFunc("cancel");N._master=Z;var V=N.getButtonTexts();if(V&&_&&_.setText(V[0]),V&&l&&l.setText(V[1]),_&&_.addViewListener(function(i){"click"===i.kind&&N.stop()}),l&&l.addViewListener(function(z){"click"===z.kind&&N.cancel()}),Z.isInstant&&Z.isInstant()&&(_&&_.setVisible(!1),l&&l.setVisible(!1)),k){S!=y&&(S=O.parseDate(S,Z.getFormat())),k.setValue(S);var p=Z.getFormat();p.indexOf("s")<0&&k.setSecondsList(y),k.on("d:dblclick",function(g){var a=k.areaHitTest(g);a=a&&a.type,("gridDate"===a||"gridMonth"===a||"gridYear"===a)&&N.stop()}),k.addPropertyChangeListener(function(L){"value"===L.property&&Z.isInstant()&&N.fireValueChange(N.getDropDownValue())}),k.addViewListener(function(m){"validatePreferredSize"===m.kind&&N._preferredSizeId==C&&(N._preferredSizeId=no(function(){var U=v.getPreferredSize();N.setWidth(U.width),N.setHeight(U.height),delete N._preferredSizeId}))})}return v},getDropDownValue:function(){var n=this,x=n._master,o=n._dateTimePane,E=o.getValue();if(!E&&(E=new Date,o.getDefaultTime())){var Q=o.getDefaultTime();E.setHours(Q.getHours()),E.setMinutes(Q.getMinutes()),E.setSeconds(Q.getSeconds())}return O.formatDate(E,x.getFormat())}}),H.DateTimePicker=function(Y){var y=this;H.DateTimePicker.superClass.constructor.call(y),y.set(Y)},sf("ht.ui.DateTimePicker",H.ComboBox,{ui_ac:["format"],__format:"YYYY-MM-DD HH:mm:ss",__icon:["ht.ui.drawable.ImageDrawable","ui_datetimepicker_dropDownIcon","fill"],__hoverIcon:["ht.ui.drawable.ImageDrawable","ui_datetimepicker_hoverDropDownIcon","fill"],__activeIcon:["ht.ui.drawable.ImageDrawable","ui_datetimepicker_activeDropDownIcon","fill"],_dropDownTemplate:"ht.ui.DateTimeDropDown",setValue:function(J){J instanceof Date&&(J=O.formatDate(J,this.getFormat())),H.DateTimePicker.superClass.setValue.call(this,J)},setFormDataValue:function(P){this.setValue(P)},getDateObject:function(){var S=this,a=S.getValue(),I=S.getFormat();return a?O.parseDate(a,I):void 0},getFormDataValue:function(){var Z=this,p=Z.getValue();return p},serializeProperty:function(w,b,h){var T=this;if("dropDownConfig"===b&&w){var $=w.defaultTime;return $&&(w.defaultTime=O.stringify($)),w}return h.serializeProperty(w,b,T)},deserializeProperty:function(K,M,u){var Z=this;if("dropDownConfig"===M&&K){var s=K.defaultTime;return s&&(K.defaultTime=O.parse(s)),K}return u.deserializeProperty(K,M,Z)},getSerializableProperties:function(){var k=H.DateTimePicker.superClass.getSerializableProperties.call(this);return Nf(k,{format:1})}}),H.DateRangeDropDownView=function(){function f(o,u){var l=function(b){var r=b.source;if(!r.__changing){var G,M=b.newValue,P=M[0],d=M[1],y=r.getType();if(G="month"===y?P.getFullYear()>=d.getFullYear():O.formatDate(P,"YYYYMM")>=O.formatDate(d,"YYYYMM"))if("daterangepane_start"===r.a("dropdownFunc")){var v=new Date(d.getTime());"month"===y?v.setFullYear(P.getFullYear()+1):(v.setFullYear(P.getFullYear()),v.setMonth(P.getMonth()+1));var C=M.slice(0);C[1]=v,o.__changing=!0,o.setDisplayRange(C),o.__changing=!1,u.__changing=!0,u.setDisplayRange(C),u.__changing=!1}else{var m=new Date(P.getTime());"month"===y?m.setFullYear(d.getFullYear()-1):(m.setFullYear(d.getFullYear()),m.setMonth(d.getMonth()-1));var C=M.slice(0);C[0]=m,o.__changing=!0,o.setDisplayRange(C),o.__changing=!1,u.__changing=!0,u.setDisplayRange(C),u.__changing=!1}}};o.on("p:displayRange",l,C,C,C,!0),o.on("p:dateRange",function(j){if(!j.source.__changingValue){var G=j.source,N=j.newValue;G===u?(o.__changingValue=!0,o.setDateRange(N),o.__changingValue=!1):(u.__changingValue=!0,u.setDateRange(N),u.__changingValue=!1);var I=b._master;if(I.isInstant()){var R=b._dropDown;R.fireValueChange(R.getDropDownValue())}}},C,C,C,!0),o.on("p:timeRange",function(C){if(!C.source.__changingTime){var M=C.source,N=C.newValue;M===u?(o.__changingTime=!0,o.setTimeRange(N),o.__changingTime=!1):(u.__changingTime=!0,u.setTimeRange(N),u.__changingTime=!1);var Q=N[0],l=N[1],H=b._master;H&&H.getFormat().indexOf("s")<0?s&&s.setText(O.formatDate(Q,"HH:mm")+" ~ "+O.formatDate(l,"HH:mm")):s&&s.setText(O.formatDate(Q,"HH:mm:ss")+" ~ "+O.formatDate(l,"HH:mm:ss"));var H=b._master;if(H.isInstant()){var v=b._dropDown;v.fireValueChange(v.getDropDownValue())}}},C,C,C,!0)}var b=this;H.DateRangeDropDownView.superClass.constructor.call(b),b.setFocusable(!1),b.on("p:children",function(){var I=b.findViewByFunc("shortcuts"),d=b.findViewByFunc("daterangepane_start"),Y=b.findViewByFunc("daterangepane_end"),V=b.findViewByFunc("time");if(I&&!I.__inited){var m=z.ui.ListView.prototype.getSerializableProperties;I.getSerializableProperties=function(){var H=m.call(this);return delete H.dataModel,delete H.selectionModel,H};var i=b.getShortcuts(),U=b.getShortcutLabels();if(i){I.dm().clear();var J=0;for(var h in i){var j=new z.Data;j.setName(h),U?j.setName(U[J]):j.setName(h);var p=i[h];"string"==typeof p&&(p=new Function(p)),j.a("getDate",p),I.dm().add(j),J++}}I.sm().addSelectionChangeListener(function(){var v=I.sm().ld();if(v){var q=v.a("getDate"),T=q(),P=[new Date(T[0].getTime()),new Date(T[1].getTime())],j=[new Date(T[0].getTime()),new Date(T[1].getTime())];Y.setDisplayRange(T),d.setDisplayRange(T),d.setDateRange(j),Y.setDateRange(j),d.setTimeRange(P),Y.setTimeRange(P)}}),I.__inited=!0}if(V&&!V.__inited){if(V.on("click",function(){"timeList"===d.getContentType()?(d.setContentType("dateGrid"),Y.setContentType("dateGrid")):(d.setContentType("timeList"),Y.setContentType("timeList"))},C,C,C,!0),null==V.__text&&d.__inited){var E=b._master;V.__text=E&&E.getFormat().indexOf("s")<0?O.formatDate(d.getTimeRange()[0],"HH:mm")+" ~ "+O.formatDate(d.getTimeRange()[1],"HH:mm"):O.formatDate(d.getTimeRange()[0],"HH:mm:ss")+" ~ "+O.formatDate(d.getTimeRange()[1],"HH:mm:ss")}V.__inited=!0}if(Y&&d&&!d.__inited&&!Y.__inited){d.setDateRange([new Date,new Date(Date.now()+1296e6)]),Y.setDateRange(d.getDateRange()),d.setTimeRange([new Date,new Date]),Y.setTimeRange(d.getTimeRange());var q=new Date;q.setDate(1);var R=new Date(q.getTime());if(R.setMonth(q.getMonth()+1),d.setDisplayRange([q,R]),Y.setDisplayRange(d.getDisplayRange()),f(d,Y),f(Y,d,!0),V&&null==V.__text){var E=b._master;V.__text=E&&E.getFormat().indexOf("s")<0?O.formatDate(d.getTimeRange()[0],"HH:mm")+" ~ "+O.formatDate(d.getTimeRange()[1],"HH:mm"):O.formatDate(d.getTimeRange()[0],"HH:mm:ss")+" ~ "+O.formatDate(d.getTimeRange()[1],"HH:mm:ss")}d.__inited=!0,Y.__inited=!0}},C,C,C,!0),b.on("p:shortcuts",function(){var x=b.findViewByFunc("shortcuts");if(x&&x.__inited){var C=x.dm();C.clear();var G=b.getShortcuts();if(G)for(var I in G){var n=new z.Data;n.setName(I);var U=G[I];"string"==typeof U&&(U=new Function(U)),n.a("getDate",U),C.add(n)}}},C,C,C,!0);var A=new H.HBoxLayout,i=new H.HBoxLayout,U=new H.Button,Z=new H.Button,s=new H.Button;U.setStyle("button-obvious daterangedropdown-ok"),Z.setStyle("button-minor daterangedropdown-cancel"),U.a("dropdownFunc","ok"),Z.a("dropdownFunc","cancel"),U.__text="确定",Z.__text="取消",s.a("dropdownFunc","time"),s.__border=null,i.addView(s,{width:"wrap_content",height:"match_parent"}),A.__align=mo,A.addView(i,{width:"match_parent",height:"wrap_content",vAlign:"top",marginTop:10,marginLeft:10,marginBottom:10}),M.okFirst?(A.addView(U,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10}),A.addView(Z,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10})):(A.addView(Z,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10}),A.addView(U,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10}));var o=new z.ui.HBoxLayout,e=new H.DateTimePane,w=new H.DateTimePane,r=new H.ListView;e.__border=y,w.__border=y,e.__boxShadow=y,w.__boxShadow=y,e.setStyle("daterangedropdown-datetimepane daterangedropdown-datetimepane1"),w.setStyle("daterangedropdown-datetimepane daterangedropdown-datetimepane2"),e.a("dropdownFunc","daterangepane_start"),w.a("dropdownFunc","daterangepane_end"),r.setStyle("daterangedropdown-shortcuts"),r.a("dropdownFunc","shortcuts"),r.__padding=5,r.__preferredSize={width:140},r.__border=new H.border.IndividualLineBorder(0,1,0,0,M.borderColor),o.addView(r,{width:"wrap_content",height:"match_parent"}),o.addView(e,{width:"match_parent",height:"match_parent"}),o.addView(w,{width:"match_parent",height:"match_parent"}),b.__background=M.popupBackground,b.__boxShadow=M.popupBoxShadow,b.setStyle("daterangedropdown"),b.__zIndex="10000000",b.__borderRadius=M.borderRadius,b.addView(o,{width:"match_parent",height:"match_parent"}),b.addView(A,{width:"match_parent"})},sf("ht.ui.DateRangeDropDownView",H.VBoxLayout,{ms_ac:["shortcuts","shortcutLabels"],_shortcuts:{"最近一周":"var startDate = new Date();\nstartDate.setDate(startDate.getDate() - 7);\nreturn [startDate, new Date()];","最近一月":"var startDate = new Date();\nstartDate.setDate(startDate.getDate() - 30);\nreturn [startDate, new Date()];","最近三月":"var startDate = new Date();\nstartDate.setDate(startDate.getDate() - 90);\nreturn [startDate, new Date()];"},findViewByFunc:function(O){var P=this,i=function(S){for(var D=0;D<S.length;D++){var f=S.get(D);
if(f.a("dropdownFunc")===O)return f instanceof H.RefViewGroup?f.getChildren().get(0):f;if(f.getChildren){var k=i(f.getChildren());if(k)return k}}};return i(P.getChildren())},getSerializableProperties:function(){var I=H.DateRangeDropDownView.superClass.getSerializableProperties.call(this);return Nf(I,{shortcuts:!0,shortcutLabels:!0})}}),H.DateRangeDropDown=function(){},sf("ht.ui.DateRangeDropDown",H.DropDownTemplate,{ms_ac:["buttonTexts","secondPaneVisible","shortcutVisible","shortcuts","shortcutLabels"],onPropertyChanged:function(W){var k=this,Z=W.property,I=k._dateRangeDropDownView;if("buttonTexts"===Z){var j=I.findViewByFunc("ok"),H=I.findViewByFunc("cancel"),G=W.newValue||[];j&&j.setText(G[0]),H&&H.setText(G[1])}else if("secondPaneVisible"===Z){var _=I.findViewByFunc("daterangepane_end");_.setVisible(!!W.newValue)}else if("shortcutVisible"===Z){var n=I.findViewByFunc("shortcuts");n.setVisible(!!W.newValue)}else if("shortcuts"===Z||"shortcutLabels"===Z){var n=I.findViewByFunc("shortcuts"),D=n.dm();D.clear();var N=k.getShortcuts()||I.getShortcuts(),B=k.getShortcutLabels();if(N){var M=0;for(var R in N){var p=new z.Data;B?p.setName(B[M]):p.setName(R);var b=N[R];"string"==typeof b&&(b=new Function(b)),p.a("getDate",b),D.add(p),M++}}}},_secondPaneVisible:!0,_shortcutVisible:!0,setPropertyValue:function(z,u){var f=this;if(0===z.indexOf("dateRangePane.")){var D=f._dateRangePane1,i=f._dateRangePane2,k=z.split(".");[D,i].forEach(function(H){for(var b=1;b<k.length-1;b++)H=H[_q(k[b])]();z=k[k.length-1];var a=H["_"+z];Em(H,y,z,u),H.fp(z,a,u)})}else if(0===z.indexOf("okButton.")){var b=f._dateRangeDropDownView.findViewByFunc("ok"),k=z.split(".");[b].forEach(function(g){for(var b=1;b<k.length-1;b++)g=g[_q(k[b])]();z=k[k.length-1];var A=g["_"+z];Em(g,y,z,u),g.fp(z,A,u)})}else if(0===z.indexOf("cancelButton.")){var Z=f._dateRangeDropDownView.findViewByFunc("cancel"),k=z.split(".");[Z].forEach(function(i){for(var x=1;x<k.length-1;x++)i=i[_q(k[x])]();z=k[k.length-1];var X=i["_"+z];Em(i,y,z,u),i.fp(z,X,u)})}else if(0===z.indexOf("timeButton.")){var h=f._timeButton,k=z.split(".");[h].forEach(function(w){for(var n=1;n<k.length-1;n++)w=w[_q(k[n])]();z=k[k.length-1];var x=w["_"+z];Em(w,y,z,u),w.fp(z,x,u)})}else if(0===z.indexOf("shortcutList.")){var m=f._shortcutList,k=z.split(".");[m].forEach(function(N){for(var C=1;C<k.length-1;C++)N=N[_q(k[C])]();z=k[k.length-1];var g=N["_"+z];Em(N,y,z,u),N.fp(z,g,u)})}else H.DateRangeDropDown.superClass.setPropertyValue.call(f,z,u)},initShortcutList:function($){var l=this,d=l.getShortcuts()||l._dateRangeDropDownView.getShortcuts(),T=l.getShortcutLabels(),m=$.dm();if(d){m.clear();var y=0;for(var S in d){var j=new z.Data;T?j.setName(T[y]):j.setName(S);var C=d[S];"string"==typeof C&&(C=new Function(C)),j.a("getDate",C),m.add(j),y++}}},getType:function(_){var q=_.getDropDownConfig()||[],f=q&&q["dateRangePane.type"]||"datetime";return f},initDropDownView:function(f,j,t){var b,q=this,$=f.getDropDownViewRenderer&&f.getDropDownViewRenderer(),w=q.getButtonTexts(),L=q.isSecondPaneVisible(),B=q.getType(f),d=q.isShortcutVisible();if($){H._uiRendererLoadedMap||(H._uiRendererLoadedMap={});var Q=H._uiRendererLoadedMap[$];Q||(Q=O.xhrLoad($,null,{sync:!0}),Q&&(H._uiRendererLoadedMap[$]=Q));var o=new H.UIJSONSerializer;o.setShipListeners(!0);var S=q._dateRangeDropDownView=o.deserialize(H._uiRendererLoadedMap[$]);S.fireViewEvent({kind:"rendererInit",renderer:S,datas:j,master:f,dropDownTemplate:q});var D=q._dateRangePane1=S.findViewByFunc("daterangepane_start"),h=q._dateRangePane2=S.findViewByFunc("daterangepane_end"),z=S.findViewByFunc("ok"),R=S.findViewByFunc("cancel"),G=q._shortcutList=S.findViewByFunc("shortcuts"),F=q._timeButton=S.findViewByFunc("time")}else var S=q._dateRangeDropDownView=new H.DateRangeDropDownView,D=q._dateRangePane1=S.findViewByFunc("daterangepane_start"),h=q._dateRangePane2=S.findViewByFunc("daterangepane_end"),z=S.findViewByFunc("ok"),R=S.findViewByFunc("cancel"),G=q._shortcutList=S.findViewByFunc("shortcuts"),F=q._timeButton=S.findViewByFunc("time");q._master=f,S._dropDown=q,S._master=f;var r=q.getShortcuts(),X=q.getShortcutLabels();r&&S.setShortcuts(r),X&&S.setShortcutLabels(X),G&&q.initShortcutList(G),w&&z&&z.setText(w[0]),w&&R&&R.setText(w[1]),f.isInstant&&f.isInstant()&&(z&&z.setVisible(!1),R&&R.setVisible(!1)),L||h.setVisible(!1),d||G.setVisible(!1),t&&(b=t.split(" ~ "));var A="datetime"===B;A||F&&F.setVisible(!1);var n,U;if(b){var x=f.getFormat();b[0]&&(n=O.parseDate(b[0],x)),b[1]&&(U=O.parseDate(b[1],x))}var C=[n,U];D.setDateRange(C),h.setDateRange(C);var x=f.getFormat();x.indexOf("s")<0&&(D.setSecondsList(y),h.setSecondsList(y));var E,l;n?(E=new Date(n.getTime()),E.setDate(1)):(E=new Date,E.setDate(1)),U?(l=new Date(U.getTime()),l.setDate(1),l.getFullYear()===E.getFullYear()&&l.getMonth()===E.getMonth()&&l.setMonth(E.getMonth()+1)):(l=new Date(E.getTime()),l.setMonth(E.getMonth()+1)),"month"===B&&l.getFullYear()===E.getFullYear()&&l.setFullYear(l.getFullYear()+1);var I=[E,l];D.setDisplayRange(I),h.setDisplayRange(I);var p,Y;p=n?new Date(n.getTime()):new Date,Y=U?new Date(U.getTime()):new Date(p.getTime());var v=[p,Y];return D.setTimeRange(v),h.setTimeRange(v),F&&(f.getFormat().indexOf("s")<0?F.setText(O.formatDate(p,"HH:mm")+" ~ "+O.formatDate(Y,"HH:mm")):F.setText(O.formatDate(p,"HH:mm:ss")+" ~ "+O.formatDate(Y,"HH:mm:ss"))),z&&z.on("click",function(){q.stop()}),R&&R.on("click",function(){q.cancel()}),S},getDropDownValue:function(){var Y=this,c=Y._master,f=Y._dateRangePane1,G=Y.getType(c),z=f.getDateRange()||[],k=f.getTimeRange(),u=z[0],l=z[1],x=k[0],H=k[1],M="";return"time"===G?x&&(M+=O.formatDate(x,c.getFormat()),H&&(M+=" ~ "+O.formatDate(H,c.getFormat()))):u&&(u=new Date(u.getTime()),x&&(u.setHours(x.getHours()),u.setMinutes(x.getMinutes()),u.setSeconds(x.getSeconds())),M+=O.formatDate(u,c.getFormat()),l&&(l=new Date(l.getTime()),H&&(l.setHours(H.getHours()),l.setMinutes(H.getMinutes()),l.setSeconds(H.getSeconds())),M+=" ~ "+O.formatDate(l,c.getFormat()))),M}}),H.DateRangePicker=function(v){var Q=this;H.DateRangePicker.superClass.constructor.call(Q),Q.set(v)},sf("ht.ui.DateRangePicker",H.ComboBox,{ui_ac:["format"],__format:"YYYY-MM-DD HH:mm:ss",__icon:["ht.ui.drawable.ImageDrawable","ui_datetimepicker_dropDownIcon","fill"],__hoverIcon:["ht.ui.drawable.ImageDrawable","ui_datetimepicker_hoverDropDownIcon","fill"],__activeIcon:["ht.ui.drawable.ImageDrawable","ui_datetimepicker_activeDropDownIcon","fill"],_dropDownTemplate:"ht.ui.DateRangeDropDown",setValue:function(K){K instanceof Date?K=O.formatDate(K,this.getFormat()):Array.isArray(K)&&(K=K[0]instanceof Date?O.formatDate(K[0],this.getFormat())+" ~ "+O.formatDate(K[1],this.getFormat()):K[0]+"~ "+K[1]),H.DateRangePicker.superClass.setValue.call(this,K)},getDateValue:function(){var r=this,z=r.getValue();if(!z)return[];var A=z.split("~"),o=[];return A[0]&&(A[0]=A[0].trim(),o.push(O.parseDate(A[0],r.getFormat()))),A[1]&&(A[1]=A[1].trim(),o.push(O.parseDate(A[1],r.getFormat()))),o},setFormDataValue:function(q){this.setValue(q)},getFormDataValue:function(){var o=this,m=o.getValue();return m}}),H.CascadeDropDownView=function(){var Z=this;H.CascadeDropDownView.superClass.constructor.call(Z);var z=new H.TabLayout;Z.setStyle("cascadedropdown"),Z.setBackground(M.popupBackground),Z.setBoxShadow(M.popupBoxShadow),Z.setBorderRadius(M.borderRadius),z.a("dropdownFunc","cascadeTab"),Z.addView(z,{width:"match_parent",height:"match_parent"}),Z.__preferredSize={width:400,height:200};var A=new H.ToggleButton;A.setBackground(y),A.setHoverBackground(y),A.setActiveBackground(y),A.setSelectBackground(y),A.setSelectHoverBackground(y),A.setSelectActiveBackground(y),A.setTextColor(M.textColor),A.setHoverTextColor(M.baseColor),A.setActiveTextColor(M.baseColor),A.setSelectTextColor(M.baseColor),A.setSelectHoverTextColor(M.baseColor),A.setSelectActiveTextColor(M.baseColor),A.setLayoutParams({marginLeft:10,marginTop:5}),A.setAlign(dn),A.setPadding([2,5,2,5]),A.setPreferredSize(y),A.setMinSize(y),Z.setTemplateButton(A),Z.invalidateComps()},sf("ht.ui.CascadeDropDownView",H.RelativeLayout,{ui_ac:["contentPadding"],ms_ac:["templateButton"],__contentPadding:0,getTabLayout:function(){return this.findViewByFunc("cascadeTab")},findViewByFunc:function(d){var a=this,N=function(m){for(var l=0;l<m.length;l++){var P=m.get(l);if(P.a("dropdownFunc")===d)return P instanceof H.RefViewGroup?P.getChildren().get(0):P;if(P.getChildren){var F=N(P.getChildren());if(F)return F}}};return N(a.getChildren())},onPropertyChanged:function(v){var K=this,y=v.property;if(H.CascadeDropDownView.superClass.onPropertyChanged.call(K,v),"templateButton"===y){K.invalidateComps();var X=v.newValue;X&&!X._propertyChangeHandler&&(X._propertyChangeHandler=function(){K.invalidateComps()},X.addPropertyChangeListener(X._propertyChangeHandler))}else"contentPadding"===y&&K.invalidateComps()},invalidateComps:function(){var U=this;U._invalidateComps||(U._invalidateComps=!0),U.validateComps()},validateComps:function(){var B=this,f=B.findViewByFunc("cascadeTab");f.clear();var U={label:"区域",icon:"node_image",children:[{label:"华北",icon:"node_image",children:[{label:"北京"},{label:"天津"}]},{label:"华南",icon:"node_image"},{label:"华东",icon:"shape_icon"}]},D=B.createTab(U);f.addView(D,{title:U.label,icon:U.icon}),D=B.createTab(U.children[0]),f.addView(D,{title:U.children[0].label,icon:U.children[0].icon}),f.setActiveView(D)},createTab:function($,w,D){var V=this,G=new H.Radios;if(w)var f=w.getIconField(),B=w.getDisplayField();else f="icon",B="label";var a,I=new H.FlowLayout,M=V.findViewByFunc("cascadeTab"),n=[];I.setPadding(V.getContentPadding()),I._radios=G;for(var A=new H.UIJSONSerializer,_=A.serialize(V.getTemplateButton()),Y=0,Z=$.children.length;Z>Y;Y++){var h=$.children[Y],o=A.deserialize(_);o.setIcon(h[f]),o.setSelectIcon(h[f]),o.setText(h[B]),o._data=h,o.setRadios(G);var O=o.figurePreferredSize();a==y?a=O:a.width<O.width&&(a=O),n.push(o)}for(var Y=0,Z=n.length;Z>Y;Y++){var o=n[Y];o.__preferredSize=a,I.addView(o)}return G.on("p:selectedButton",function(G){var Y;w&&(Y=w.getLoader());var y=G.newValue;if(y){var C=y._data;if(V.clearChildTabs(M,I),C.children&&C.children.length>0){var J=V.createTab(C,w,D);M.addView(J,{title:C.childrenTitle||C[B],icon:C.titleIcon||C[f]}),M.setActiveView(J)}else Y&&!Y.isLoaded(C)?Y.load(C,function(G){C.children=G;var x=V.createTab(C,w,D);M.addView(x,{title:C.childrenTitle||C[B],icon:C.titleIcon||C[f]}),M.setActiveView(x)}):D&&D.stop()}},C,C,C,!0),I},clearChildTabs:function(j,r){for(var E=j.getChildren(),_=E.indexOf(r);E.size()-1>_;)j.removeViewAt(E.size()-1)},getSerializableProperties:function(){var w=H.CascadeDropDownView.superClass.getSerializableProperties.call(this);return Nf(w,{contentPadding:!0,templateButton:!0})}}),H.CascadeDropDown=function(){},sf("ht.ui.CascadeDropDown",H.DropDownTemplate,{initDropDownView:function(o,A,V){var E=this,N=o.getDropDownViewRenderer&&o.getDropDownViewRenderer();if(N){H._uiRendererLoadedMap||(H._uiRendererLoadedMap={});var f=H._uiRendererLoadedMap[N];f||(f=O.xhrLoad(N,null,{sync:!0}),f&&(H._uiRendererLoadedMap[N]=f));var W=new H.UIJSONSerializer;W.setShipListeners(!0);var X=E._cascadeDropDownView=W.deserialize(H._uiRendererLoadedMap[N]);X.fireViewEvent({kind:"rendererInit",renderer:X,datas:A,master:o,dropDownTemplate:E});var y=X.findViewByFunc("cascadeTab")}else var X=E._cascadeDropDownView=new H.CascadeDropDownView,y=X.findViewByFunc("cascadeTab");var R=A.childrenTitle;E._master=o;var j=X.createTab(A,o,E);return y.clear(),y.addView(j,{title:R||A[o.getDisplayField()],icon:A.titleIcon||A[o.getIconField()]}),y.setActiveView(j),V&&E._setDefaultValue(V,y,0),X},_setDefaultValue:function(n,S,w){var k=this,c=w,X=k._master,a=n[w],m=X.getValueField(),B=X.getDisplayField(),$=S._children.get(w);if($&&null!=a){for(var P=$._children,J=0,K=P.size();K>J;J++){var r=P.get(J),R=r._data;if(m){if(R[m]===a[m]){r.setSelected(!0),w++;break}}else if(B&&R[B]===a[B]){r.setSelected(!0),w++;break}}w!==c&&k._setDefaultValue(n,S,w)}},getWidth:function(){return this._width||this._master.getWidth()||this.getDropDownView().getPreferredSize().width},getDropDownValue:function(){for(var r=this,p=r.getDropDownView().findViewByFunc("cascadeTab"),J=p._children,o=[],z=0,h=J.size();h>z;z++){var E=J.get(z),u=E._radios,e=u.getSelectedButton();e?o.push(e._data):o.push(null)}return o}}),H.CascadeComboBox=function(b){var c=this;H.CascadeComboBox.superClass.constructor.call(c),c.set(b)},sf("ht.ui.CascadeComboBox",H.ComboBox,{ui_ac:["displaySeparator"],ms_ac:["loader"],__readOnly:!0,_dropDownTemplate:"ht.ui.CascadeDropDown",__displayField:"label",__valueField:"id",__iconField:"icon",__displaySeparator:" / ",onPropertyChanged:function(K){var P=this;H.CascadeComboBox.superClass.onPropertyChanged.call(P,K),"displaySeparator"===K.property&&P.setInputValue(P.getValueText(P.getValueObject()))},getObjectByValue:function(z){if(z){var M=this,f=M.getValueField(),d=M.getDisplayField(),_=[],b=0,K=function(e){for(var k=0;k<e.length;k++){var I=z[b];"object"==typeof I&&I!=y&&(f?I=I[f]:d&&(I=I[d]));var t=e[k];f?t[f]!=C&&t[f]===I&&(_.push(t),b++,t.children&&K(t.children)):d&&t[d]!=C&&t[d]===I&&(_.push(t),b++,t.children&&K(t.children))}},D=M.getDatas();return D&&D.children&&K(D.children),_}},getValueText:function(P){var Y,W=this,D=W.getDisplayField();if(P)if(D){Y=[];for(var x=0,K=P.length;K>x;x++)Y.push(P[x][D])}else Y=P;return Y?Y.join(W.getDisplaySeparator()):void 0},setValue:function(L,V){var _,e=this,I=e.getDatas();_=L&&I?e.getObjectByValue(L):L,H.ComboBox.superClass.setValue.call(e,_,V),e.$227u=!1},setFormDataValue:function(W){var U=this;U.setValue(W)},getFormDataValue:function(){var E,o=this,P=o.getValueObject();if(P!=y)for(var S=o.getValueField(),D=o.getDisplayField(),E=[],b=0,u=P.length;u>b;b++){var g=P[b];S!=y?E.push(g[S]):g.hasOwnProperty(D)&&E.push(g[D])}else E=P;return E},getValue:function(){var p=z._uiSerializing;z._uiSerializing=!1;var I,J=this,L=J.getValueField(),A=J.getValueObject();if(z._uiSerializing=p,A)if(L!=y){I=[];for(var n=0,P=A.length;P>n;n++)"object"==typeof A[n]&&A[n]!=y?I.push(A[n][L]):I.push(A[n])}else I=A;return I},getSerializableProperties:function(){var b=H.CascadeComboBox.superClass.getSerializableProperties.call(this);return Nf(b,{displaySeparator:!0,loader:!0})}}),H.ColorDropDownView=function(){var X=this;H.ColorDropDownView.superClass.constructor.call(X),X.setFocusable(!1);var D=new H.HBoxLayout,P=new H.Button,e=new H.Button;P.setStyle("button-obvious colordropdown-ok"),e.setStyle("button-minor colordropdown-cancel"),P.a("dropdownFunc","ok"),e.a("dropdownFunc","cancel"),P.__text="确定",e.__text="取消",D.__align=mo,M.okFirst?(D.addView(P,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10}),D.addView(e,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10})):(D.addView(e,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10}),D.addView(P,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10}));var s=new H.ColorPane;s.a("dropdownFunc","colorpane"),s.__border=null,s.__boxShadow=null,s.setStyle("colordropdown-colorpane"),X.__background=M.popupBackground,X.__boxShadow=M.popupBoxShadow,X.setStyle("colordropdown"),X.__zIndex="10000000",X.__borderRadius=M.borderRadius,X.addView(s,{width:"match_parent"}),X.addView(D,{width:"match_parent"})},sf("ht.ui.ColorDropDownView",H.VBoxLayout,{findViewByFunc:function(U){var T=this,W=function(o){for(var a=0;a<o.length;a++){var r=o.get(a);if(r.a("dropdownFunc")===U)return r instanceof H.RefViewGroup?r.getChildren().get(0):r;if(r.getChildren){var j=W(r.getChildren());if(j)return j}}};return W(T.getChildren())}}),H.ColorDropDown=function(){},sf("ht.ui.ColorDropDown",H.DropDownTemplate,{ms_ac:["buttonTexts"],onPropertyChanged:function(X){var u=this,$=X.property;if("buttonTexts"===$){var A=u._colorDropDownView,U=A.findViewByFunc("ok"),n=A.findViewByFunc("cancel"),y=X.newValue||[];U&&U.setText(y[0]),n&&n.setText(y[1])}},setPropertyValue:function(W,Y){var A=this;if(0===W.indexOf("colorPane.")){for(var m=A.$160u,Z=W.split("."),V=1;V<Z.length-1;V++)m=m[_q(Z[V])]();W=Z[Z.length-1];var t=m["_"+W];Em(m,y,W,Y),m.fp(W,t,Y)}else if(0===W.indexOf("okButton.")){var $=A._colorDropDownView.findViewByFunc("ok"),Z=W.split(".");[$].forEach(function(C){for(var U=1;U<Z.length-1;U++)C=C[_q(Z[U])]();W=Z[Z.length-1];var d=C["_"+W];Em(C,y,W,Y),C.fp(W,d,Y)})}else if(0===W.indexOf("cancelButton.")){var d=A._colorDropDownView.findViewByFunc("cancel"),Z=W.split(".");[d].forEach(function(z){for(var A=1;A<Z.length-1;A++)z=z[_q(Z[A])]();W=Z[Z.length-1];var l=z["_"+W];Em(z,y,W,Y),z.fp(W,l,Y)})}else H.ColorDropDown.superClass.setPropertyValue.call(A,W,Y)},initDropDownView:function(L,z,x){var R=this,Z=L.getDropDownViewRenderer&&L.getDropDownViewRenderer();if(Z){H._uiRendererLoadedMap||(H._uiRendererLoadedMap={});var G=H._uiRendererLoadedMap[Z];G||(G=O.xhrLoad(Z,null,{sync:!0}),G&&(H._uiRendererLoadedMap[Z]=G));var E=new H.UIJSONSerializer;E.setShipListeners(!0);var A=R._colorDropDownView=E.deserialize(H._uiRendererLoadedMap[Z]);A.fireViewEvent({kind:"rendererInit",renderer:A,datas:z,master:L,dropDownTemplate:R});var N=R.$160u=A.findViewByFunc("colorpane"),T=A.findViewByFunc("ok"),P=A.findViewByFunc("cancel")}else var A=R._colorDropDownView=new H.ColorDropDownView,N=R.$160u=A.findViewByFunc("colorpane"),T=A.findViewByFunc("ok"),P=A.findViewByFunc("cancel");R._master=L;var t=R.getButtonTexts();return t&&T&&T.setText(t[0]),t&&P&&P.setText(t[1]),T&&T.addViewListener(function(U){"click"===U.kind&&R.stop()}),P&&P.addViewListener(function(Z){"click"===Z.kind&&R.cancel()}),L.isInstant&&L.isInstant()&&(T&&T.setVisible(!1),P&&P.setVisible(!1)),N&&(N.setValue(x),N.addPropertyChangeListener(function(c){"value"===c.property&&L.isInstant()&&R.fireValueChange(R.getDropDownValue())}),il||N.getView().addEventListener("dblclick",function(p){(N.hueHitTest(p)||N.colorsHitTest(p)||N.paletteColorHitTest(p))&&no(function(){R.stop()})}),N.getView().addEventListener("keydown",function(x){x.target instanceof HTMLInputElement&&zq(x)&&no(function(){R.stop()})}),N.addViewListener(function(L){"validatePreferredSize"===L.kind&&R._preferredSizeId==C&&(R._preferredSizeId=no(function(){var j=A.getPreferredSize();R.setWidth(j.width),R.setHeight(j.height),delete R._preferredSizeId}))})),A},beforeClose:function(){var E=this,h=E.getDropDownView();h.closeChildrenPopup()},getDropDownValue:function(){var Z=this;return Z.$160u.getValue()}}),H.ColorPicker=function(M){var t=this;H.ColorPicker.superClass.constructor.call(t),t.set(M)},sf("ht.ui.ColorPicker",H.ComboBox,{ui_ac:["drawable:previewBackground","valueMode"],__readOnly:!0,_dropDownTemplate:"ht.ui.ColorDropDown",__previewBackground:"colorpicker_previewbackground",__valueMode:"color",requestFocus:function(){this._view.focus(),this.iv()},setFormDataValue:function(J){this.setValue(J)},getFormDataValue:function(){var O=this,C=O.getValue();return C},onPropertyChanged:function(S){H.ColorPicker.superClass.onPropertyChanged.call(this,S),("previewBackground"===S.property||"previewBackgroundDrawable"===S.property)&&(this.$54u=y)},drawBackground:function(D,B,m,g,t,j){var L=this,S=L.getValueMode();if("text"===S)H.ColorPicker.superClass.drawBackground.call(L,D,B,m,g,t,j);else{var F=L.getRootContext(),C=L.getValue();B=L.getContentLeft()-L.getPaddingLeft(),m=L.getContentTop()-L.getPaddingTop(),g=L.getWidth()-L.getBorderLeft()-L.getBorderRight(),t=L.getHeight()-L.getBorderTop()-L.getBorderBottom();var L=this,T=L.getPreviewBackground(),G=L.$54u;if(!G&&T!=y){G=L.$54u=Hi(),Yh(G,10,10,1);var c=Lf(G);gl(c,fp(T),0,0,10,10)}if(G){F.beginPath();var x=F.createPattern(G,"repeat");F.rect(B,m,g,t),F.fillStyle=x,F.fill()}C&&(F.beginPath(),F.rect(B,m,g,t),F.fillStyle=C,F.fill())}},getValueIcon:function(){return"color"!==this.getValueMode()?this.getValue():void 0},validateImpl:function(Y,b,g,Q){var W=this;H.ColorPicker.superClass.validateImpl.call(W,Y,b,g,Q);var x=W.getValueMode(),v=this._input.style;v.visibility="color"===x?"hidden":"visible"},getSerializableProperties:function(){var j=H.ColorPicker.superClass.getSerializableProperties.call(this);return Nf(j,{previewBackground:!0,previewBackgroundDrawable:!0,valueMode:!0})}}),H.PropertyView=function(K){var q=this;H.PropertyView.superClass.constructor.call(q),q.$271u=new I,q.$81u=new I,q.$78u={},q.$79u={},q.setPropertyModel(new j),K instanceof j?q.dm(K):q.set(K),q._dataModel||q.dm(new j)},sf("ht.ui.PropertyView",df,{ui_ac:[h,W,"hoverLabelColor",_,cr,"categorizable",Cc,"columnPosition",Km,hg,"drawable:expandIcon","drawable:collapseIcon","drawable:rowBackground","drawable:selectRowBackground","drawable:indentBackground","iconWidth","iconHeight","drawable:hoverRowBackground","pannable","nameAlign","valueAlign","drawable:checkIcon","drawable:uncheckIcon","rowHeightFunc","cellPaddingLeft","cellPaddingRight",tk,sb,Pd,"rowLineSize","is:clipLastRowLine",ys,Qp,"preferredSizeRowCountLimit","dataModelEditable","editorValidator"],ms_ac:["hoverProperty","selectProperty"],_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{ivm:!0,preferredSizeRowCountLimit:!0,rowHeight:!0,rowHeightFunc:!0}),ms_dm:1,ms_sm:1,_49o:1,ui_txy:1,$148u:1,$149u:1,$118u:K,$188u:0,_columnLineX:0,__iconWidth:16,__iconHeight:16,__rowHeight:26,__preferredSizeRowCountLimit:10,__radioOnIcon:"ui_"+E,__radioOffIcon:"ui_"+q,__checkIcon:"ui_"+V,__uncheckIcon:"ui_"+G,__rowLineColor:M.lineColor,__rowLineSize:1,__clipLastRowLine:!1,__autoMakeVisible:!0,__labelFont:M.font,__editable:!0,__batchEditable:!0,__categorizable:!0,__indent:26,__expandIcon:"ui_expandIcon",__collapseIcon:"ui_collapseIcon",__rowLineVisible:!0,__columnPosition:.5,__columnLineVisible:!0,__columnLineColor:M.lineColor,__pannable:!0,__cellPaddingLeft:4,__cellPaddingRight:4,__nameAlign:dn,__valueAlign:dn,__labelColor:M.textColor,__hoverRowBackground:M.hoverBackground,__selectRowBackground:M.rowSelectBackground,__indentBackground:M.headerBackground,__dataModelEditable:!1,getInteractorClasses:function(){return[H.ScrollInteractor,Dl]},closePopup:function(){H.PropertyView.superClass.closePopup.call(this),this.endEdit()},initView:function(D){var G=this;H.PropertyView.superClass.initView.call(G,D);var e=G.$261u=Sl();e.setAttribute(S,"ht-renderer"),G.getContentDiv().appendChild(e)},isSelfViewEvent:function(D){var n=this,o=H.PropertyView.superClass.isSelfViewEvent.call(n,D);if(!o){var Y=Nl(D);n.$261u.contains(Y)&&(o=!0)}return o},figurePreferredSize:function(){var _,j,z=this,M=z.getRowHeightFunc();z.$116u&&(z.validateModel(),z.$116u=y),_=z.$271u;var v=0,l=N(z.getPreferredSizeRowCountLimit(),_.size());if(M)for(var X=0;l>X;X++){var e=_.get(X);v+=M.call(z,Sp(e)||e instanceof H.Property?e:e.property)}else v=l*z.getRowHeight();return j={width:200,height:v},j.width+=z.getBorderLeft()+z.getBorderRight()+z.getPaddingLeft()+z.getPaddingRight(),j.height+=z.getBorderTop()+z.getBorderBottom()+z.getPaddingTop()+z.getPaddingBottom(),j.width=i(j.width),j.height=i(j.height),j},getRows:function(){return this.$271u},setColumnPosition:function(g){0>g&&(g=0),g>1&&(g=1),this.setPropertyValue("columnPosition",g)},setPropertyDatas:function(j){if(j&&(Sp(j)&&(j=O.parse(j)),Jr(j))){var U=this,h=U.getPropertyModel(),K=new z.ui.SimpleDMJSONSerializer(h);h.clear(),K.deserialize(j)}},getPropertyDatas:function(){var M=this,l=M.getPropertyModel(),U=new z.ui.SimpleDMJSONSerializer(l);return U.toJSON()},getPropertyName:function(k){return k.toLabel()},getCurrentLabelColor:function(B){if(B){var m=this,K=B.getColor(),D=K==y?m.getLabelColor(B):K,J=m.getHoverLabelColor(B),h=m.getSelectLabelColor(B);return B?B===this.getSelectProperty()?h||D:B===this.getHoverProperty()?J||D:D:D}},getPropertyFont:function(P){return this.getLabelFont(P)},getPropertyColor:function(z){if(z){var G=this,a=z.getColor(),n=a==y?G.getLabelColor(z):a,H=G.getHoverLabelColor(z),O=G.getSelectLabelColor(z);return z?z===this.getSelectProperty()?O||n:z===this.getHoverProperty()?H||n:n:n}},getCategoryFont:function(T){return this.getLabelFont(T)},getCategoryColor:function(o){return this.getLabelColor(o)},adjustTranslateX:function(){return 0},adjustTranslateY:function(r){var D=this.getContentHeight()-this.$188u;return D>r&&(r=D),r>0?0:T(r)},toggleHitTest:function(M){var T=this,q=T.getRowIndexAt(M);if(q>=0){var C,u=0,W=T.getRowHeightFunc(),S=T.$271u;if(W){var i=S.get(q);C=W.call(T,Sp(i)||i instanceof H.Property?i:i.property);for(var Y=0;q>Y;Y++)i=S.get(Y),u+=W.call(T,Sp(i)||i instanceof H.Property?i:i.property)}else C=T.getRowHeight(),u=C*q;var L=M,v=S.get(q),o=T.getIndent();if(Sp(v)){L instanceof Event&&(L=T.lp(M));var Z=L.x,N=L.y;if(Z>=0&&o>=Z&&N>=u&&u+C>=N)return!0}}},resizeHitTest:function(P){var r=this,l=P;return l instanceof Event&&(l=r.lp(P)),D(l.x-r._columnLineX)<=(il?8:3)},isExpanded:function(m){if(!m)return!0;var n=this.$78u[m];return n?n.isExpanded:!(this.$79u[m]===!1)},toggle:function(g){var Z=this;Z.isExpanded(g)?Z.collapse(g):Z.expand(g)},expandAll:function(){this.validate();for(var F in this.$78u)this.expand(F)},expand:function(G){if(G&&G!==Kp){var f=this,A=f.$78u[G];A&&!A.isExpanded&&(A.isExpanded=!0,f.onExpanded(G),f.ivm())}},onExpanded:function(){},collapseAll:function(){this.validate();for(var A in this.$78u)this.collapse(A)},collapse:function(a){if(a&&a!==Kp){var _=this,L=_.$78u[a];L&&L.isExpanded&&(L.isExpanded=!1,_.onCollapsed(a),_.ivm())}},onCollapsed:function(){},getCategoryName:function(Y){if(!this.isCategorizable())return Kp;var R=Y.getCategoryName();return R?R:Kp},getPropertyModel:function(){return this.$268u},setPropertyModel:function(W){var p=this,v=p.ivm,s=p.$268u;W!==s&&(s&&(s.umm(p.ivm,p),s.umd(p.ivm,p),s.umh(p.ivm,p)),p.$268u=W,W.mm(v,p),W.md(v,p),W.mh(v,p),p.fp("propertyModel",s,W))},setDataModel:function(S){var M=this,U=M._dataModel;U!==S&&(U&&(U.umd(M.$326u,M),S.removePropertyChangeListener(M.$326u,M),M._selectionModel||U.sm().ums(M.ivm,M)),M._dataModel=S,S.md(M.$326u,M),S.addPropertyChangeListener(M.$326u,M),M._selectionModel?M._selectionModel._21I(S):S.sm().ms(M.ivm,M),M.fp(Le,U,S))},isVisible:function(b){if(b){var O=this.getVisibleFunc();return O?O(b):!0}return this.getPropertyValue(Fe)},onPropertyChanged:function(w){var L=this,A=w.property;H.PropertyView.superClass.onPropertyChanged.call(L,w),"translateY"===A&&L.closePopup(),$c[A]?L.ivm():L.iv()},getCurrentData:function(){return this.$80u},$119u:function(){this.$80u=this.sm().ld(),this.$80u==y&&this.isDataModelEditable()&&(this.$80u=this.getDataModel())},getRawProperties:function(){return this.$80u?this.$268u._roots:new I},$326u:function(E){this.$80u===E.data&&this.iv()},ivm:function(Z){Z&&"valueRenderer"===Z.property&&this.$268u.each(function(b){delete b.__$uiRendererIns}),this.invalidateModel()},invalidateModel:function(){var J=this;J.$116u||(J.checkPreferredSize("ivm"),J.checkMinSize("ivm"),J.checkMaxSize("ivm"),J.setSelectProperty(y),J.setHoverProperty(y),J.$116u=1,J.fireViewEvent("invalidateModel"),J.iv())},validateModel:function(){var Q=this,b=Q.$271u,Y=Q.$81u,l={},H=new I,F=Q.$80u;Q.$119u(),F!==Q.$80u&&Q.$270u&&Q.$270u.stopEditing(),b.clear(),Y.clear(),Q.getRawProperties().each(function(d){if(Q.isVisible(d)){H.add(d);var A=Q.getCategoryName(d);l[A]||(Y.add(A,A===Kp?0:C),l[A]={isExpanded:Q.isExpanded(A),properties:new I})}});var Z=Q.getSortFunc();Z&&H.sort(Z);for(var S in Q.$78u)Q.$79u[S]=Q.isExpanded(S);Q.$78u=l,Y.each(function(P){P!==Kp&&b.add(P);var T=l[P];T.isExpanded&&H.each(function(m){Q.getCategoryName(m)===P&&(T.properties.add(m),b.add({property:m,data:Q.$80u}))},Q)})},layoutEditor:function(J,V,X,L,r){J.setX(V),J.setY(X),J.setWidth(L),J.setHeight(r)},$228u:O.createUIEditor,getEditorViewProperties:function(Z){return Z.s("editorViewProperties")},initEditorView:function($,y,B){var Y=this,D=Y.getValue($,y),V=B.$230u=B.initEditorView(Y,$,D,y);V.getStyleParent=function(){return Y};var E=Y.getEditorViewProperties(y);if(E)for(var b in E)V[mi(b)](E[b]);return V.setStyle&&V.setStyle(B.__style),V},beginEdit:function(V,L,y){if(!this.$270u){var g,b=this,p=b.$271u,E=p.size(),m=b.getRowHeightFunc(),c=0;if(!(y instanceof H.editor.Editor)){if(y||(y=b.getEditorClassAt(L,V)),Sp(y)&&(y=O.getClass(y)),!y)return;var K=y;y=new K}L instanceof H.Property||(L=b.getPropertyAt(e));var v=b.$230u=b.initEditorView(V,L,y);if(b.$270u=y,b.$231u=V,b.$269u=L,b._editorValue=y.getEditorValue(),m){g=m.call(b,Sp(L)||L instanceof H.Property?L:L.property);for(var a=0;E>a;a++){var P=p.get(a);if(Sp(P))c+=m.call(b,P);else{if(P.property===L)break;c+=m.call(b,P.property)}}}else g=b.getRowHeight(),c=g*b.getRowIndex(L);var Q=b._columnLineX,n=Q+1,S=b.getContentWidth()-Q-1,A=g;b.layoutEditor(v,n,c+b.ty(),S,A-(b.isRowLineVisible()?b.getRowLineSize():0)),b.$67u||(b.$67u=b.$318u.bind(this)),b.$68u||(b.$68u=b.$213u.bind(this)),y.addValueChangeListener(b.$67u),y.addEditorListener(b.$68u),b.getContentDiv().appendChild(v.getView()),v.iv(!0),v.validate(),y.shouldSelect()&&(v.a("editorId")?v.findViewById(v.a("editorId")).requestFocus():v.requestFocus()),y.afterLayout(v),b.fireViewEvent({kind:"beginEdit",data:V,property:L,editor:y,editorView:v}),b.iv()}},setDataValue:function(Z,R,h){var a=this;if(h.setValue)return h.setValue(R,h,Z,a);var p=ih(R,h.getAccessType(),h.getName());return Em(R,h.getAccessType(),h.getName(),Z),p!==Z?!0:void 0},$318u:function(_){var b,$=this,J=$.getEditorValidator(),D=$.$231u,H=$.$269u,O=_.value;if(J){var d=ih(D,H.getAccessType(),H.getName());b=J.call($,d,O,D,H,$.$270u,$.$230u)}else b=!0;b&&$.setDataValue(O,D,H)},$163u:function(){var L=this;L.$270u=L.$230u=L.$231u=L.$269u=L._editorValue=y},isEditing:function(O,I){var Q=this;return O||I?Q.$231u===O&&Q.$269u===I?!0:void 0:!!Q.$270u},getEditor:function(){return this.$270u},endEdit:function(L){var X=this,A=X.$270u;if(A){X.requestFocus();var K=X.$231u,c=X.$269u,w=A.getEditorValue();if(L){var n=X.getEditorValidator();if(n){var u=ih(K,c.getAccessType(),c.getName()),B=n.call(X,u,w,K,c,A,X.$230u,!0);B===!0?X.endEditImpl(w,!0,K,c):"end"===B&&X.endEditImpl(w,!1,K,c)}else X.endEditImpl(w,!0,K,c)}else X.endEditImpl(w,!1,K,c)}},endEditImpl:function(X,x,j,$){var H=this,u=H.$270u,U=H.$230u,E=H._editorValue;if(u){var B;x&&(H.setDataValue(X,j,$),B=E!==X),H.$163u(),u.removeValueChangeListener(H.$67u),u.removeEditorListener(H.$68u),u.beforeRemove(U),U.closePopup(),U.setErrorMessage(),xm(U.getView()),H.iv(),H.fireViewEvent({kind:"endEdit",valueChanged:B})}},$213u:function(A){var H=this,b=H.$270u;if(b){var y=!1;"stop"===A.kind&&(y=!0),H.endEdit(y)}},getEditorClassAt:function(c,P){var g=this,z=c instanceof H.Property?c:g.getPropertyAt(c);if(z){var S=z.getEditorClass(P);return S}},getToggleIconDrawable:function(X){var P=this;return P.isExpanded(X)?P.getExpandIconDrawable():P.getCollapseIconDrawable()},getCurrentRowBackgroundDrawable:function(N){var p=this;return N===p.getSelectProperty()?p.getSelectRowBackgroundDrawable():N===p.getHoverProperty()?p.getHoverRowBackgroundDrawable():p.getRowBackgroundDrawable()},processValidateImpl:function(){var t=this;t.$116u&&(t.validateModel(),delete t.$116u),H.PropertyView.superClass.processValidateImpl.call(t)},drawPropertyIndent:function($,e,I,m,c){$&&$.draw(e,I,m,c,y,this)},validateImpl:function(p,j,r,h){var E,W,f,e=this,c=e.getRowHeightFunc(),F=-e.ty(),V=e.getIndent(),R=e.getIconWidth(),C=e.getIconHeight(),Z=e.isRowLineVisible(),d=Z?e.getRowLineSize():0,s=r-V,k=e.$271u,t=k.size(),X=e._columnLineX=V+s*e.getColumnPosition(),q=0;if(c)for(var x=0;t>x;x++){var L=k.get(x);q+=c.call(e,Sp(L)||L instanceof H.Property?L:L.property)}else q=t*e.getRowHeight();var G=e.$118u={x:0,y:F,width:r,height:h};if(e.$188u=q-(e.isClipLastRowLine()?d:0),c){for(var n=0,x=0;t>x;x++){var L=k.get(x);if(n+=c.call(e,Sp(L)||L instanceof H.Property?L:L.property),n>=G.y){W=x;break}}W==y&&(W=0)}else W=w(G.y/e.getRowHeight());if(e.$70u=W,c){n=0;for(var x=0;t>x;x++){var L=k.get(x);if(n+=c.call(e,Sp(L)||L instanceof H.Property?L:L.property),n>=G.y+G.height){f=x+1;break}}f==y&&(f=t)}else f=i((G.y+G.height)/e.getRowHeight());
e.$69u=f,e.$70u<0&&(e.$70u=0),e.$69u>t&&(e.$69u=t);var g=e.getRootContext(),I=e.getIndentBackgroundDrawable();g.save(),g.beginPath(),g.rect(p,j,r,h),g.clip(),g.translate(p,j),g.translate(0,-F),e.$340u(),e._93db(g),e.drawPropertyIndent(I,0,F,V,h);for(var x=e.$70u;x<e.$69u;x++){var J=k.get(x),S=0;if(c){E=c.call(e,Sp(J)||J instanceof H.Property?J:J.property);for(var M=0;x>M;M++){var l=k.get(M);S+=c.call(e,Sp(l)||l instanceof H.Property?l:l.property)}}else E=e.getRowHeight(),S=E*x;if(E-=d,Sp(J)){I&&I.draw(V,S,s,E,y,e);var z=e.getToggleIconDrawable(J);z&&z.draw((V-R)/2,S+(E-C)/2,R,C,y,e),g.save(),g.beginPath(),g.rect(V,S,s,E),g.clip(),e.drawCategoryName(g,J,x,V,S,s,E),g.restore()}else{var U=J.property,A=e.getCellPaddingLeft(U),Q=e.getCellPaddingRight(U),v=J.data,b=U.getIcon(),T=e.getCurrentRowBackgroundDrawable(U);b&&ql(g,fp(b),$j,(V-R)/2,S+(E-C)/2,R,C),T&&T.draw(V,S,s,E,y,e),g.save(),g.beginPath();var _=V+A,D=X-V-A-Q;if(g.rect(0,S,_+D,E),g.clip(),e.drawPropertyName(g,U,x,_,S,D,E),g.restore(),!e.isEditing(v,U)){var o=X+1+A,Y=r-X-1-A-Q;g.save(),g.beginPath(),g.rect(o,S,Y,E),g.clip();var O=e.drawPropertyValue(g,U,e.getValue(v,U),x,o,S,Y,E,v);e.addElement(O,U.getId(),0,o,S,Y,E),g.restore()}}x<e.$69u-1?uh(g,V,S+E,s,d,e.getRowLineColor()):x!==e.$69u-1||e.isClipLastRowLine()||uh(g,V,S+E,s,d,e.getRowLineColor())}e.isColumnLineVisible()&&(uh(g,X,0,1,q,e.getColumnLineColor()),uh(g,r-1,0,1,q)),e._92db(g),g.restore(),e.ty(e.ty())},getStartRowIndex:function(){return this.$70u},getEndRowIndex:function(){return this.$69u},getValueAlign:function(j){var n,o=this;return j&&(n=j.getAlign()),n==y&&(n=o.getPropertyValue("valueAlign")),n},getCellPaddingLeft:function(R){var m;return R&&(m=R.getPaddingLeft()),m==y&&(m=this.getPropertyValue("cellPaddingLeft")),m},getCellPaddingRight:function(w){var J;return w&&(J=w.getPaddingRight()),J==y&&(J=this.getPropertyValue("cellPaddingRight")),J},drawCategoryName:function(G,N,A,j,d,O,e){var E=this,B=E.getCellPaddingLeft(),J=E.getCellPaddingRight();j+=B,O-=B+J,Yl(G,N,E.getCategoryFont(N),E.getCategoryColor(N),j,d,O,e)},drawPropertyName:function(H,g,d,i,X,B,b){var N=this,k=N.getNameAlign(g);H.save(),H.beginPath(),H.rect(i,X,0>B?0:B,b),H.clip(),g.drawPropertyName?g.drawPropertyName(H,g,d,i,X,B,b,N):Yl(H,N.getPropertyName(g),N.getPropertyFont(g,d),N.getPropertyColor(g,d),i,X,B,b,k),H.restore()},drawPropertyValue:function(q,u,c,N,t,Q,b,U,g){var h=this,y=(h.getValueAlign(u),u.getValueRenderer());if(q.save(),q.beginPath(),q.rect(t,Q,0>b?0:b,U),q.clip(),u.drawPropertyValue){var R=u.drawPropertyValue(q,u,c,N,t,Q,b,U,g,h);return q.restore(),R}if(y){H._uiRendererLoadedMap||(H._uiRendererLoadedMap={});var F=H._uiRendererLoadedMap[y];if(F){var A=O.parse(F);if(!A.comps){if(u.__$uiRendererIns)return q.restore(),u.__$uiRendererIns;var w=new H.UIJSONSerializer;w.setShipListeners(!0);var $=w.deserialize(H._uiRendererLoadedMap[y]);return u.__$uiRendererIns=$,$.fireViewEvent({kind:"rendererInit",renderer:$,data:g,property:u,master:h}),q.restore(),$}ql(q,A,"fill",t,Q,b,U,g,h)}else H._uiRendererLoadingMap||(H._uiRendererLoadingMap={}),H._uiRendererLoadingMap[y]?H._uiRendererLoadingMap[y].indexOf(h)<0&&H._uiRendererLoadingMap[y].push(h):(H._uiRendererLoadingMap[y]=[h],O.xhrLoad(y,function(x){H._uiRendererLoadedMap[y]=x,H._uiRendererLoadingMap[y].forEach(function(m){m.iv()}),H._uiRendererLoadingMap[y]=null}))}else eg(q,c,u,h.getLabelFont(u,c,N),h.getCurrentLabelColor(u,c,N),t,Q,b,U,g,h);q.restore()},isPropertyEditable:function(Y,E,W){E=E==y?X.getPropertyAt(Y):E;var X=this,D=E.isEditable(W)&&X.isEditable();if(D){var O,M=X.getRowHeightFunc(),n=X.$271u,c=n.size(),h=Y,v=X._columnLineX,J=v+1,I=0,g=X.getContentWidth()-v-1;if(M){O=M.call(X,Sp(E)||E instanceof H.Property?E:E.property);for(var d=0;c>d;d++){var R=n.get(d);if(R instanceof H.Property?R:R.property===E)break;I+=M.call(X,Sp(R)||R instanceof H.Property?R:R.property)}}else O=X.getRowHeight(),I=X.getRowIndex(E)*O;var o={x:J,y:I,width:g,height:O};if(h instanceof Event&&(h=X.lp(Y)),wp(o,h))return!0}},setProperties:function(n){this.$268u.clear(),this.addProperties(n)},addProperties:function(g){if(g){var H=this.$268u;g.forEach(function(W){if(!(W instanceof $k)){var x=Ee(W.className);W=Rg(x?x:$k,W)}H.add(W)})}},getRowIndexAt:function(z){if(this.isContentEvent(z)){Nl(z)&&(z=this.lp(z));var V=this,Y=V.$271u,Z=Y.size(),F=V.getRowHeightFunc(),_=0,n=-1;if(V.isRowLineVisible()&&(_=V.getRowLineSize()),F)for(var a=0,s=0;Z>s;s++){var j=Y.get(s);if(a+=F.call(V,Sp(j)||j instanceof H.Property?j:j.property),a-_>z.y){n=s;break}}else{var a=V.getRowHeight();n=w(z.y/a),z.y<a*(n+1)-_||(n=-1)}return n>=0&&Z>n?n:-1}},getRowIndex:function(M){for(var b=this,P=b.$271u,j=0;j<P.size();j++){var C=P.get(j);if(C.property===M)return j}},getPropertyAt:function(Q){var e=this,V=e.getRowIndexAt(Q);return V>=0?e.$271u.get(V).property:y},getToolTip:function(n){var s=this,j=s.getPropertyAt(n),z=s.$80u;return j&&z?j.getToolTip(z,s._columnLineX<s.lp(n).x,s):y},getSerializableProperties:function(){var D=H.PropertyView.superClass.getSerializableProperties.call(this);return Nf(D,{scrollBarMode:1,scrollBarColor:1,scrollBarSize:1,scrollBarTimeout:1,scrollBarMinLength:1,scrollBarActiveSize:1,autoScrollSize:1,labelColor:1,selectLabelColor:1,hoverLabelColor:1,labelFont:1,editable:1,categorizable:1,indent:1,columnPosition:1,sortFunc:1,visibleFunc:1,expandIcon:1,expandIconDrawable:1,collapseIcon:1,collapseIconDrawable:1,rowBackground:1,rowBackgroundDrawable:1,hoverRowBackground:1,hoverRowBackgroundDrawable:1,selectRowBackground:1,selectRowBackgroundDrawable:1,indentBackground:1,indentBackgroundDrawable:1,iconWidth:1,iconHeight:1,pannable:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,rowHeightFunc:1,rowHeight:1,rowLineVisible:1,rowLineColor:1,columnLineVisible:1,columnLineColor:1,dataModel:1,propertyModel:1,selectionModelShared:1,selectionModel:1,selectProperty:1,preferredSizeRowCountLimit:1,cellPaddingLeft:1,cellPaddingRight:1,nameAlign:1,valueAlign:1,dataModelEditable:1,editorValidator:1,rowLineSize:1,"is:clipLastRowLine":1})},serializeProperty:function(v,w,J){var x=this;return"selectProperty"===w?{__i:v.getId()}:J.serializeProperty(v,w,x)},deserializeProperty:function(W,o,Q){var p=this;if("selectProperty"===o){var N=p.getPropertyModel(),J=N.$272u;return J[W.__i]}return Q.deserializeProperty(W,o,p)}});var Dl=function(B){this.pv=B};sf(Dl,A,{ms_listener:1,getView:function(){return this.pv._view},clear:function(){var t=this;t.state=t.$44u=t._lp=t.$46u=t.p=t._touchMoveDate=t._touchMoveCp=t._velocityY=t._velocityX=t.infling=y,t.pv.setCursor("")},handle_mousedown:function(k){this.handle_touchstart(k)},handle_touchstart:function(d){var s=this,R=s.pv;if(delete s.$31u,R.isSelfViewEvent(d)){var f=R.$270u;if(f&&f.stopEditing(),s.infling=!1,R._flingAnim&&(R._flingAnim.stop(),delete R._flingAnim,s.infling=!0),!d._htScroll){R.isSelfViewEvent(d)&&R.requestFocus(),R.$261u.contains(Nl(d))||qd(d);var D=R.getCurrentData(),t=R.getPropertyAt(d);if(t){var w=R.isPropertyEditable(d,t,D);if(t.getValueType()===x)s.$31u=Hf(d);else if(w){var a=R.getEditorClassAt(t,D);a&&no(function(){var q=R.$228u(a);q&&q.isEditable(d,R)&&(R.beginEdit(D,t,q),s.clear())})}}R.$270u||(db(d)?(s.$44u=Hf(d),s._lp=R.lp(d),s.$46u=R.ty(),s.p=R.getColumnPosition(),s.handle_touchmove(d)):R.setSelectProperty(t))}}},handleWindowMouseUp:function($){this.handleWindowTouchEnd($)},handleWindowTouchEnd:function(c){if("p"===this.state){var v=this.$46u,a=0,h=this.$44u,T=Hf(c),C=this.pv.getOverScrollEffect();C&&C.endPan(this.pv,{kind:"endPan",nativeEvent:c,translateX:a+T.x-h.x,translateY:v+T.y-h.y}),this._velocityY&&D(this._velocityY)>50?this.pv.flingV(this._velocityY):self._velocityX&&D(this._velocityX)>50&&this.pv.flingV(this._velocityX)}this.clear()},handle_mouseup:function(o){this.handle_touchend(o)},handle_touchend:function(Q){var Z=this,b=Z.pv;if(b.isSelfViewEvent(Q)&&Z.infling===!1){var S=b.getCurrentData(),k=b.getPropertyAt(Q);if(k){var t=b.isPropertyEditable(Q,k,S);if(t)if(k.getValueType()===x){var p=Z.$31u;if(p){delete Z.$31u;var q=Hf(Q);if(fl(p,q)<qh){b.fireViewEvent({kind:"beginEdit",data:S,property:k});var A=b.setDataValue(!b.getValue(S,k),S,k);b.fireViewEvent({kind:"endEdit",valueChanged:A})}}}else if(Z.$44u){var q=Hf(Q);if(fl(q,Z.$44u)<qh){var n=b.getEditorClassAt(k,S);if(n){var C=b.$228u(n);if(C&&C.isEditable(Q,b)){var T=b.$270u;T&&T.stopEditing(),b.beginEdit(S,k,C)}}}}}if(!b.$270u&&Z.$44u&&!Z.state){var b=Z.pv,R=b.getRowIndexAt(Q),q=Hf(Q);if(fl(q,Z.$44u)<qh){if(R>=0){var V=b.$271u.get(R);Sp(V)&&(b.toggleHitTest(Q)?b.toggle(V,Q):dc(Q)&&b.toggle(V,Q))}b.setSelectProperty(k)}}}O.getDragger()!==Z&&Z.clear(Q)},handleWindowMouseMove:function(e){this.handleWindowTouchMove(e)},handleWindowTouchMove:function(c){var m=this,W=m.pv,U=0,M=m.$46u,u=m.$44u,t=Hf(c),L=m.state;if("p"===L){c._htScroll=!0;var z=m._touchMoveDate,T=m._touchMoveCp;if(m._touchMoveDate=new Date,m._touchMoveCp=t,m._velocityX=m._velocityY=null,z&&T){var y=(m._touchMoveDate.getTime()-z.getTime())/1e3,k=(m._touchMoveCp.x-T.x)/4,q=(m._touchMoveCp.y-T.y)/4;D(k)>D(q)?m._velocityX=k/y:m._velocityY=q/y}var I=W.getOverScrollEffect();I&&I.betweenPan(W,{kind:"betweenPan",nativeEvent:c,translateX:U+t.x-u.x,translateY:M+t.y-u.y,translateOffsetX:t.x-u.x,translateOffsetY:t.y-u.y}),W.setTranslateY(M+t.y-u.y)}else if("c"===L){var O=W.getContentWidth()-W.getIndent();if(O>16){var K=m.p-(u.x-t.x)/O,g=16/O;g>K&&(K=g),K>1-g&&(K=1-g),W.setColumnPosition(K)}}},handle_mousemove:function(T){this.handle_touchmove(T)},handle_touchmove:function(z){if(!pk()&&db(z)&&!z._htScroll){var I=this,G=I.pv;if(G.isSelfViewEvent(z))if(il||G.setHoverProperty(G.getPropertyAt(z)),I.$44u){if(!I.state)if(G.resizeHitTest(I._lp))I.state="c",sr(I,z);else if(G.isPannable()&&fl(Hf(z),I.$44u)>2){I.state="p";var N=G.getOverScrollEffect();N&&N.beginPan(G,{kind:"beginPan",nativeEvent:z}),sr(I,z)}}else G.resizeHitTest(z)?G.setCursor(F):G.setCursor(Bq)}},handle_mousewheel:function(a){this.handleScroll(a,a.wheelDelta/40)},handle_DOMMouseScroll:function(v){2===v.axis&&this.handleScroll(v,-v.detail)},handleScroll:function(c){var x=this.pv;x.isSelfViewEvent(c)&&(qd(c),x.$270u&&x.$270u.stopEditing())},handle_keydown:function(g){var F=this.pv,s=F.$271u,b=s.size(),e=F.getSelectProperty();if(e&&F.isSelfViewEvent(g)){var i=F.getRowIndex(e);if(qb(g)||hc(g)){for(var t;!t||!t.property;){var I=!1;if(i+=qb(g)?-1:1,0>i&&(i=0,I=!0),i>=b&&(i=b-1,I=!0),t=s.get(i),I)break}t&&F.setSelectProperty(t.property)}}},handle_mouseleave:function(){this.pv.setHoverProperty(y)}}),A.defineProperties(Dl.prototype,{disabled:{get:function(){return this.pv.isDisabled()}}}),H.PropertyPane=function(T){var y=this;H.PropertyPane.superClass.constructor.call(y);var V=y.$235u=y.createCategoryButton(),A=y.$236u=y.createSortButton(),G=y.$237u=y.createFilterInput(),B=y._propertyView=y.createPropertyView();B.isVisible=function(c){if(c){var I=G.getValue(),d=this.getVisibleFunc(),P=this.getPropertyName(c);if(P&&I)if(y.isCaseSensitive()){if(P.indexOf(I)<0)return!1}else if(P.toLocaleLowerCase().indexOf(I.toLocaleLowerCase())<0)return!1;return d?d(c):!0}return this.getPropertyValue(Fe)},B.mp(function(l){var B=l.property;("indent"===B||"columnPosition"===B||"sortFunc"===B||"categorizable"===B||"nameAlign"===B||"valueAlign"===B)&&y.iv()}),V.setStyle("propertypane_category"),V.setSelected(B.isCategorizable()),V.addPropertyChangeListener(function(h){"selected"===h.property&&(h.newValue?B.setCategorizable(!0):B.setCategorizable(!1))}),A.setStyle("propertypane_sort"),A.setSelected(!!B.getSortFunc()),A.addPropertyChangeListener(function(K){"selected"===K.property&&(K.newValue?B.setSortFunc(y.getSortFunc()):B.setSortFunc(null))}),y.addView(V),y.addView(A),y.addView(G),y.addView(B),G.setStyle("propertypane_search"),G.__borderRadius=M.borderRadius,G.__border=new H.border.FocusLineBorder(1,M.borderColor,M.baseColor),G.__iconPosition="right",G.__icon="propertypane_search",G.addPropertyChangeListener(function(Z){"value"===Z.property&&B.ivm()}),y._sortFunc=function(f,S){return O.sortFunc(B.getPropertyName(f),B.getPropertyName(S))},T instanceof j?B.dm(T):y.set(T)},sf("ht.ui.PropertyPane",H.ViewGroup,{getInteractorClasses:function(){return[hk]},ui_ac:["drawable:headerBackground","headerLabelColor","headerLabelFont","headerLabelAlign","headerLabels","is:caseSensitive","toolbarHeight","toolbarPadding","headerHeight"],ms_ac:["sortFunc"],__caseSensitive:!1,__headerLabels:["Property","Value"],__headerLabelFont:M.font,__headerLabelColor:M.textColor,__background:M.viewGroupBackground,__headerBackground:M.headerBackground,__headerHeight:30,__toolbarHeight:29,__toolbarPadding:[1,1,5,0],createPropertyView:function(){return new H.PropertyView},createCategoryButton:function(){var S=new H.ToggleButton;return S.__background=y,S.__hoverBackground=M.hoverBackground,S.__activeBackground=M.activeBackground,S.__selectBackground=y,S.__selectHoverBackground=M.hoverBackground,S.__selectActiveBackground=M.activeBackground,S.__selectIcon="propertypane_activeCategory",S.__icon="propertypane_category",S.__hoverIcon="propertypane_category",S.__activeIcon="propertypane_activeCategory",S},createSortButton:function(){var u=new H.ToggleButton;return u.__background=y,u.__hoverBackground=M.hoverBackground,u.__activeBackground=M.activeBackground,u.__selectBackground=y,u.__selectHoverBackground=M.hoverBackground,u.__selectActiveBackground=M.activeBackground,u.__selectIcon="propertypane_activeSort",u.__icon="propertypane_sort",u.__hoverIcon="propertypane_sort",u.__activeIcon="propertypane_activeSort",u},createFilterInput:function(){var M=new H.TextField;return M.__instant=!0,M},getFilterInput:function(){return this.$237u},getPropertyView:function(){return this._propertyView},getSortButton:function(){return this.$236u},getCategoryButton:function(){return this.$235u},addProperties:function(K){this._propertyView.addProperties(K)},setPropertyDatas:function(U){this._propertyView.setPropertyDatas(U)},getPropertyDatas:function(){return this._propertyView.getPropertyDatas()},setDataModelEditable:function(){this._propertyView.setDataModelEditable(!0)},drawHeaderLabel:function(E,q,$,h,O,z,V){var C=this;E.save(),E.beginPath(),E.rect($,h,0>O?0:O,z),E.clip(),Yl(E,q,C.getHeaderLabelFont(),C.getHeaderLabelColor(),$,h,O,z,V),E.restore()},set:function(m){var G=this;if(m)for(var o in m){var M=m[o];"dataModel"===o?G._propertyView.dm(M):G[mi(o)](M)}},validateImpl:function(_,$,K,c){var b,A,G,B,e=this,L=e.getContentDiv(),M=e._propertyView,S=M&&M.isVisible(),W=e.$235u,m=W&&W.isVisible(),d=e.$236u,i=d&&d.isVisible(),v=e.$237u,Q=v&&v.isVisible(),J=e.getToolbarHeight(),a=e.getToolbarPadding(),o=e.getHeaderHeight(),g=e.getHeaderLabels(),N=e.getRootContext();if(Jr(a)?(G=a[0],A=a[1],B=a[2],b=a[3]):b=A=B=G=a,N.beginPath(),J>0){var p=b;if(m){var U=W.getPreferredSize();e.layoutChild(W,p,G,U.width,J-G-B),p+=U.width;var k=W.getView();k.parentNode||L.appendChild(k)}if(i){U=d.getPreferredSize(),e.layoutChild(d,p,G,U.width,J-G-B),p+=U.width;var k=d.getView();k.parentNode||L.appendChild(k)}if(Q){e.layoutChild(v,p+16,G,K-p-16-A,J-G-B);var V=v.getView();V.parentNode||L.appendChild(V)}}else{var z=W.getView();z.parentNode===L&&L.removeChild(z);var h=d.getView();h.parentNode===L&&L.removeChild(h);var C=v.getView();C.parentNode===L&&L.removeChild(C)}if(S){var Z=M.getIndent(),x=M.getCellPaddingLeft(),T=M.getCellPaddingRight(),R=e.getHeaderLabelAlign(),F=R==y?M.getNameAlign():R,r=R==y?M.getValueAlign():R,l=Z+M.getColumnPosition()*(K-Z);if(o>0){var q=e.getHeaderBackgroundDrawable();q&&q.draw(_,$+J,K,o,y,e),e.drawHeaderLabel(N,g[0],_+Z+x,$+J,l-Z-x-T,o,F),e.drawHeaderLabel(N,g[1],_+l+x,$+J,K-l-x-T,o,r),eh.drawVerticalLine(N,M.getColumnLineColor(),_+l,$+J,o),uh(N,_,$+J+o-1,K,1,M.getRowLineColor())}e.layoutChild(M,0,J+o,K,c-J-o)}},getSerializableProperties:function(){var h=H.PropertyPane.superClass.getSerializableProperties.call(this);return delete h.children,Nf(h,{headerBackground:!0,headerBackgroundDrawable:!0,headerLabelColor:!0,headerLabelFont:!0,headerLabelAlign:!0,headerLabels:!0,"is:caseSensitive":!0,toolbarHeight:!0,headerHeight:!0,sortFunc:!0,toolbarPadding:1})}});var hk=function(l){hk.superClass.constructor.call(this,l)};sf(hk,H.Interactor,{handle_mousedown:function(J){O.isLeftButton(J)&&this.handle_touchstart(J)},handleWindowMouseMove:function(P){this.handleWindowTouchMove(P)},handleWindowMouseUp:function(z){this.handleWindowTouchEnd(z)},handle_mousemove:function(H){var M=this,E=M.getComponent(),R=E.getPropertyView();if(!pk()||E.isSelfViewEvent(H)){var K=E.getToolbarHeight(),D=E.getHeaderHeight(),Z=E.lp(H),j=Z.x,F=Z.y;if(E.setCursor("default"),K+D>F&&F>=K){var Q=R.getIndent(),h=Q+R.getColumnPosition()*(E.getContentWidth()-Q);j>h-(il?16:6)&&h+(il?16:6)>j&&E.setCursor("ew-resize")}}},handle_touchstart:function(z){var X=this,h=X.getComponent();if(h.isSelfViewEvent(z)){O.preventDefault(z);var X=this,E=h.getPropertyView(),Z=h.getToolbarHeight(),S=h.getHeaderHeight(),x=h.lp(z),M=x.x,k=x.y;if(Z+S>k&&k>=Z){var G=E.getIndent(),m=G+E.getColumnPosition()*(h.getContentWidth()-G);M>m-(il?16:6)&&m+(il?16:6)>M&&sr(X,z)}}},handleWindowTouchMove:function($){var H=this,q=H.getComponent(),a=q.getPropertyView(),y=q.lp($).x,M=a.getIndent(),f=q.getContentWidth(),g=f-M;if(g>16){var e=(y-M)/g,N=16/g;N>e&&(e=N),e>1-N&&(e=1-N),a.setColumnPosition(e)}},handleWindowTouchEnd:function(){}}),H.TreeView=function(Y){var l=this;l.$137u(),l.$136u(),l.setUpInteractors(),Y instanceof j?l.dm(Y):l.set(Y),l._dataModel||l.dm(new j)},sf("ht.ui.TreeView",df,{ui_ac:[h,W,"hoverLabelColor",_,"rootVisible",cc,Km,hg,Cc,tk,sb,Pd,"rowLineSize","is:clipLastRowLine",gq,"iconGap","pannable","drawable:expandIcon","drawable:collapseIcon","drawable:hoverExpandIcon","drawable:hoverCollapseIcon","drawable:selectExpandIcon","drawable:selectCollapseIcon","drawable:rowBackground","drawable:stripeRowBackground","rowRenderer","toggleIconVisible","drawable:selectRowBackground","drawable:focusRowBackground","rowHeightFunc","drawable:hoverRowBackground","iconWidth","iconHeight","iconStretch","drawable:checkIcon","drawable:uncheckIcon","drawable:indeterminateIcon","drawable:radioOnIcon","drawable:radioOffIcon","editorClass","editable","dragEnabled","dropEnabled","dropLineColor","rowIndent","preferredSizeRowCountLimit","editorValidator"],ms_ac:["rootData","hoverData","loader"],_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{ivm:!0,preferredSizeRowCountLimit:!0,rowHeight:!0,rowHeightFunc:!0}),ms_bnb:1,ms_sm:1,_49o:1,ui_txy:1,$152u:1,ms_dm:1,$150u:1,$162u:1,$148u:1,__toggleIconVisible:!0,__iconWidth:16,__iconHeight:16,__iconGap:4,__rowHeight:26,__rowIndent:4,__preferredSizeRowCountLimit:10,__radioOnIcon:"ui_"+E,__radioOffIcon:"ui_"+q,__checkIcon:"ui_"+V,__uncheckIcon:"ui_"+G,__indeterminateIcon:"ui_indeterminate",__rowLineVisible:!1,__clipLastRowLine:!1,__rowLineColor:M.lineColor,__autoMakeVisible:!0,__labelFont:M.font,__dropLineColor:M.insertColor,__checkMode:y,__expandIcon:"ui_expandIcon",__collapseIcon:"ui_collapseIcon",__indent:16,__rootVisible:!0,__pannable:!0,__rowLineSize:1,__labelColor:M.textColor,__hoverRowBackground:M.hoverBackground,__selectRowBackground:M.rowSelectBackground,__focusRowBackground:M.rowSelectBackground,getInteractorClasses:function(){return[H.ScrollInteractor,sp]},checkHitTest:function(v,y){var T=this;if(T.isCheckMode()){var s=v;v instanceof Event&&(s=T.lp(v)),y||(y=T.getDataAt(v));var x,r=s.x,D=T.getLevel(y),w=T.getIndent(),F=T.getIconWidth();if(x=T.isToggleIconVisible()?w*D+F+T.getIconGap()+T.getRowIndent():w*D+T.getRowIndent(),r>=x&&x+F>=r)return!0}},toggleHitTest:function(L,p){var Y=this,X=L;if(p||(p=Y.getDataAt(L)),p&&Y.isToggleIconVisible()&&Y.getToggleIconDrawable(p)){L instanceof Event&&(X=Y.lp(L));var W=X.x,F=Y.getRowIndent(),A=Y.getIndent(),d=Y.getLevel(p),V=A*d+F;if(W>=V&&W<=V+Y.getIconWidth())return!0}},isDataEditable:function(b,g){var P=this,Q=P.isEditable();return g=g==y?P.getDataAt(b):g,Q&&g&&!P.checkHitTest(b,g)&&!P.toggleHitTest(b,g)?!0:void 0},getCurrentRowBackgroundDrawable:function(T,$,u){var G=this,H=G.isCheckMode();return T===G.getFocusData()&&H||$&&!H?G.getSelectRowBackgroundDrawable():T===G.getHoverData()?G.getHoverRowBackgroundDrawable():0!==u%2?G.getStripeRowBackgroundDrawable()||G.getRowBackgroundDrawable():G.getRowBackgroundDrawable()},drawRow:function(Z,K,B,e,A,m,R,S){var c=this,t=c.getCurrentRowBackgroundDrawable(K,B,S);return c.drawRowBackground(t,e,A,m,R,K),c.drawTree(Z,K,B,e,A,m,R)},getSerializableProperties:function(){var I=H.TreeView.superClass.getSerializableProperties.call(this);return Nf(I,{scrollBarMode:1,scrollBarColor:1,scrollBarSize:1,scrollBarTimeout:1,scrollBarMinLength:1,scrollBarActiveSize:1,autoScrollSize:1,labelColor:1,selectLabelColor:1,hoverLabelColor:1,labelFont:1,rootVisible:1,checkMode:1,sortFunc:1,visibleFunc:1,indent:1,rowHeight:1,rowLineVisible:1,rowLineColor:1,autoMakeVisible:1,iconGap:1,expandIcon:1,expandIconDrawable:1,collapseIcon:1,collapseIconDrawable:1,hoverExpandIcon:1,hoverExpandIconDrawable:1,hoverCollapseIcon:1,hoverCollapseIconDrawable:1,selectExpandIcon:1,selectExpandIconDrawable:1,selectCollapseIcon:1,selectCollapseIconDrawable:1,selectRowBackground:1,selectRowBackgroundDrawable:1,rowHeightFunc:1,pannable:1,rowBackground:1,rowBackgroundDrawable:1,stripeRowBackground:1,stripeRowBackgroundDrawable:1,indeterminateIcon:1,indeterminateIconDrawable:1,hoverRowBackground:1,hoverRowBackgroundDrawable:1,focusRowBackground:1,focusRowBackgroundDrawable:1,iconWidth:1,iconHeight:1,iconStretch:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,radioOnIcon:1,radioOnIconDrawable:1,radioOffIcon:1,radioOffIconDrawable:1,editorClass:1,editable:1,dataModel:1,rootData:1,loader:1,selectionModelShared:1,selectionModel:1,dragEnabled:1,dropEnabled:1,dropLineColor:1,rowIndent:1,preferredSizeRowCountLimit:1,editorValidator:1,rowRenderer:1,toggleIconVisible:1,rowLineSize:1,"is:clipLastRowLine":1})},serializeProperty:function(s,l,L){var D=this;return"rootData"===l?{__i:s.getId()}:L.serializeProperty(s,l,D)},deserializeProperty:function(L,x,a){var X=this;if("rootData"===x){var E=X.dm(),Y=E.$272u;return Y[L.__i]}return a.deserializeProperty(L,x,X)}});var sp=function(Y){sp.superClass.constructor.call(this,Y)};sf(sp,jc,{$319u:function(){var k=this,T=k.list;T.addViewListener(function(l){var F=l.kind,g=T.isDropEnabled&&T.isDropEnabled();if(g)if("dragEnter"===F)T.acceptDrop(l);else if("dragMove"===F){var B=l.target,u=l.source;delete B.$222u,delete B.$223u,delete B.$224u,B.autoScroll(l.nativeEvent);var X,H,z=B.lp(l.nativeEvent),c=B.$118u,o=B.$271u,f=o.size(),x=B.getRowHeightFunc(),L=0,I=z.y;if(x)if(I<c.y||I>=c.y+c.height)H="append";else{for(var n=0;f>n;n++){var y=o.get(n),M=x.call(B,y),U=M/3;if(L+U>I&&L>=c.y){X=y,H="up";break}if(L+2*U>I&&L>=c.y){X=y,H=Sj;break}if(L+M>I){if(L+M<=c.y+c.height){L+=M,X=y,H="down";break}if(L>=c.y){X=y,H=Sj;break}break}L+=M}H||(H="append")}else{var M=B.getRowHeight(),U=M/3;if(I<c.y||I>=N(c.y+c.height,B.$69u*M))H="append";else{var $=w(I/M);L=M*$,L+U>I&&L>=c.y?(X=o.get($),H="up"):L+2*U>I&&L>=c.y?(X=o.get($),H=Sj):L+M<=c.y+c.height?(L+=M,X=o.get($),H="down"):L>=c.y&&(X=o.get($),H=Sj)}}var k=!0;if(u===B){var P,t=l.data.data,j=l.data.selection;P=T.isSelected(t)?j._as:[t],T.isDroppable(P,H,X)||(k=!1)}k&&H!=C&&(B.$222u=L,B.$223u=X,B.$224u=H),B.iv()}else if("dragCompleted"===F&&l.target===T){var P,u=l.source,B=l.target,v=B.dm(),o=(v.getRoots(),B.$271u),X=B.$223u,H=B.$224u,t=l.data.data,j=l.data.selection;P=t&&j?j.contains(t)?j._as:[t]:l.data,H&&(u===B?T.isDroppable(P,H,X)&&T.handleDrop(l,P,H,X):T.handleDrop(l,P,H,X)),delete B.$222u,delete B.$223u,delete B.$224u,B.iv()}else if("dragExit"===F||"dragCanceled"===F){var B=l.target;B&&(delete B.$222u,delete B.$223u,delete B.$224u,B.iv())}})},handleCheckMode:function(r,w){var x=this.list;return x.checkHitTest(r,w)?(x.checkData(w),void 0):x.toggleHitTest(r,w)?(x.toggle(w),void 0):(dc(r)&&x.toggle(w),x.setFocusData(w),void 0)},handleSelectMode:function(e,_){var z=this,B=z.list;B.toggleHitTest(e,_)?B.toggle(_):sp.superClass.handleSelectMode.call(z,e,_)},handle_keydown:function($){if(ob($)||Hg($)){var X=this.list;if(X.isSelfViewEvent($)){var J=X.$271u,a=X.isCheckMode(),g=X.sm(),j=a?X.getFocusData():g.ld();j?j.hasChildren()&&(ob($)?X.collapse(j):X.expand(j)):J.size()>0&&(j=J.get(0),a?X.setFocusData(j):g.ss(j))}}else sp.superClass.handle_keydown.call(this,$)}});var vj=H.TableHeader=function(E){var p=this;E instanceof H.TableView||E instanceof H.TreeTableView?p.setTableView(E):p.set(E),H.TableHeader.superClass.constructor.call(p)};sf("ht.ui.TableHeader",df,{ui_ac:["drawable:checkIcon","drawable:uncheckIcon","drawable:indeterminateIcon","drawable:sortDescIcon","drawable:sortAscIcon",h,_,"iconWidth","iconHeight","columnPaddingLeft","columnPaddingRight","drawable:moveBackground","drawable:insertLine",ys,Qp,"resizable","movable"],ms_ac:[cc],__checkIcon:"ui_"+V,__uncheckIcon:"ui_"+G,__indeterminateIcon:"ui_indeterminate",__movable:!0,__resizable:!0,__labelFont:M.font,__columnLineColor:M.lineColor,__columnLineVisible:!0,__sortDescIcon:"table_sortDesc",__sortAscIcon:"table_sortAsc",__moveBackground:"#dee0e0",__insertLine:"#0092d4",__iconWidth:16,__iconHeight:16,__background:M.headerBackground,__labelColor:M.textColor,_checkMode:Kp,getInteractorClasses:function(){return[Ud]},$186u:function(){this.invalidateColumnInfos("columnModelChange")},$185u:function(J){var b=this,o=J.property;(o===bd||o===Fe||"fixed"===o)&&b.invalidateColumnInfos("columnPropertyChange",o),b.iv()},$187u:function(){this.invalidateColumnInfos("columnHierarchyChange")},onPropertyChanged:function(E){var o=this;z.ui.TableHeader.superClass.onPropertyChanged.call(o,E),E.property===bd&&o.invalidateColumnInfos("viewWidth")},invalidateColumnInfos:function(R,a){var O=this;O._invalidateColumnInfos||(O.checkPreferredSize("ivc"),O.checkMinSize("ivc"),O.checkMaxSize("ivc"),O._invalidateColumnInfos=!0,a?O.fireViewEvent({kind:"invalidateColumnInfos",type:R,property:a}):O.fireViewEvent({kind:"invalidateColumnInfos",type:R})),O.iv()},$161u:function(u){var E=this,l=E.$117u;l!==u&&(l&&(l.umm(E.$186u,E),l.umd(E.$185u,E),l.umh(E.$187u,E)),E.$117u=u,u.mm(E.$186u,E),u.md(E.$185u,E),u.mh(E.$187u,E),E.fp("columnModel",l,u),E.$186u())},setTableView:function(p){var i=this,B=i._tableView;B&&(B.off("selectionModelSharedChange",i.handleTableViewEvent,i),B.ump(i.$327u,i),B.sm().ums(i.handleSelectionChange,i));var Z=p.getColumnModel();i.tv=p,i.$86u=new I,i.$161u(Z),p.on("selectionModelSharedChange",i.handleTableViewEvent,i,C,C,!0),p.mp(i.$327u,i),p.sm().ms(i.handleSelectionChange,i),i.setPropertyValue("tableView",p)},handleSelectionChange:function(){var L=this,v=L.getTableView();v.$116u&&v.validateModel();var u=v.getRowDatas(),f=0;if(v.isCheckMode()){for(var $=0,m=u.size();m>$;$++){var O=u.get($);v.isSelected(O)&&f++}L._selectionChange=!0,0===f?L.setCheckMode(Kp):m===f?L.setCheckMode("all"):L.setCheckMode("indeterminate"),L._selectionChange=!1}else L._selectionChange=!0,L.setCheckMode(Kp),L._selectionChange=!1},handleTableViewEvent:function(S){var P=this;if("selectionModelSharedChange"===S.kind){var o=S.oldSelectionModel,n=S.newSelectionModel;o!==n&&(o.ums(P.handleSelectionChange,P),n.ms(P.handleSelectionChange,P))}},$327u:function(X){var e=this;"checkMode"===X.property?(e.handleSelectionChange(),e.iv()):"columnModel"===X.property?e.$161u(X.newValue):"dataModel"===X.property&&e._handleDataModelChange(X),ag[X.property]&&e.iv()},_handleDataModelChange:function(O){var U=this,P=U._tableView,e=O.oldValue,x=O.newValue;P.isSelectionModelShared()&&(e.sm().ums(U.handleSelectionChange,U),x.sm().ms(U.handleSelectionChange,U))},getTableView:function(){return this.tv},figurePreferredSize:function(){var O=this,D=O.$117u._roots,m=1;if(D)for(var h=D.size(),j=0;h>j;j++){var t=D.get(j),B=t._children.size()>0;t.isVisible()&&(t instanceof H.GroupColumn?B:!0)&&(m=s(m,O.$217u(t,1)))}return{width:100,height:30*m}},getSortIconDrawable:function(w){return this.tv.getSortColumn()===w?w.getSortOrder()===Po?this.getSortAscIconDrawable():this.getSortDescIconDrawable():void 0},getColumnInfoAt:function(o){var e=this,t=e.$86u,f=e.getTableView().tx(),j=o,V=t.size();o instanceof Event&&(j=e.lp(o));for(var Z=0;V>Z;Z++){var C=t.get(Z),h=C.startX+C.width,S=C.y,w=C.y+C.height,i=j.x;if(C.column.getFixed()&&(i+=f,i>=C.startX&&h>=i&&C.width>0&&j.y>=S&&j.y<=w))return C}for(var Z=0;V>Z;Z++){var C=t.get(Z),h=C.startX+C.width,S=C.y,w=C.y+C.height,i=j.x;if(!C.column.getFixed()&&i>=C.startX&&h>=i&&C.width>0&&j.y>=S&&j.y<=w)return C}},getColumnInfo:function(V){for(var b,m=0,l=this.$86u,d=l.size();d>m;m++)if(b=l.get(m),b.column===V)return b},getResizeColumnInfoAt:function(K){var w=this,I=w.$86u,Y=K,F=w.getTableView(),R=F.getRightScrollBarIndent()||0,e=F.tx(),d=I.size();K instanceof Event&&(Y=w.lp(K));for(var i=0;d>i;i++){var E=I.get(i),z=E.startX+E.width,v=E.y,A=E.y+E.height,X=Y.x,L=E.column,n=L.getFixed();if("right"===n)X+=e;else if(n)X+=e;else{var S=F.getScrollBarIndent()||0,V=w.getContentWidth();if(!(E.startX+E.width-S>=-e||E.startX+E.width>-e+V-R))continue}if("right"===n&&F.isRightFixedShadowVisible(R,e)){if(D(E.startX-X)<=(il?10:3)&&Y.y>=v&&Y.y<=A)return E}else if(D(z-X)<=(il?10:3)&&Y.y>=v&&Y.y<=A)return E}},resizeHitTest:function(D,v){var M=this,T=M.getColumnInfo(v),u=T.startX+T.width,b=D;return D instanceof Event&&(b=M.lp(D)),u-b.x<=(il?10:3)?!0:void 0},checkIconHitTest:function(U){var D=this,x=D.$87u;if(x){var V=U;if(U instanceof Event&&(V=D.lp(U)),wp(x,V))return!0}},setCheckMode:function(t){var l=this,N=l.getTableView();if(l.setPropertyValue("checkMode",t),!l._selectionChange){var p=N.sm(),n=N.getRowDatas();"all"===t?p.ss(n):t===Kp&&p.clearSelection()}},getLabel:function(b){return b.toLabel()},getLabelFont:function(){return this.getPropertyValue(_)},getLabelColor:function(){return this.getPropertyValue(h)},getLabelAlign:function(A){return A.getAlign()},$334u:function(C){this.$88u=C,this.iv()},getColumnDisplayWidth:function(r){var T=this,q=T.getColumnInfo(r);return q?q.width:void 0},figureColumnDisplayWidth:function(n){var o=this;if(n instanceof H.GroupColumn){var F=o.getContentWidth(),p=0,S=o.$117u.getRoots(),A=0,g=function(t){var y=t._as?t:t.getChildren(),X=y.size();if(X>0)for(var W=0;X>W;W++){var N=y.get(W);N.isVisible()&&g(N)}else if(t instanceof H.Column){var e=t.getWidth();e>=0?(F-=e,t.isDescendantOf(n)&&(p+=e)):t.isDescendantOf(n)&&(A-=e)}};return g(S),A>0&&(p+=F*A),s(16,p)}var k=n.getWidth();if(k>=0)return k;var F=o.getContentWidth(),S=o.$117u.getRoots(),g=function(c){var m=c._as?c:c.getChildren(),w=m.size();if(w>0)for(var C=0;w>C;C++){var K=m.get(C);K.isVisible()&&g(K)}else if(c instanceof H.Column){var T=c.getWidth();T>=0&&(F-=T)}};return g(S),s(16,-F*k)},getLogicalPoint:function(v){var J=this,$=J.getTableView(),k=J._view.getBoundingClientRect(),l=$.tx(),I=J.getZoom()||1;return v=ck(v),{x:(v.clientX-k.left-J.getPaddingLeft()-J.getBorderLeft())/I-l,y:(v.clientY-k.top-J.getPaddingTop()-J.getBorderTop())/I}},drawInsertLine:function(e,K,W,P,B){e&&e.draw(K,W,P,B,y,this)},$218u:function(X){for(var c=0;X;)c++,X=X.getParent();return c},$217u:function(n,D){var O=n._children,p=O.size();if(p>0)for(var e=0;p>e;e++){var U=O.get(e),J=this.$218u(U);D=s(D,J),U._children.size()>0&&(D=this.$217u(U,D))}return D},$216u:function(U,G,O,I,P,C,o,K){var $,r=this,c=r.$88u;G instanceof z.List?($=G.size(),G=G._as):($=1,G=[G]);for(var D=0;$>D;D++){var v=P/C,B=G[D],m=B.getFixed(),i=r.$218u(B);if(m==K){if(!B.isVisible())continue;var L=r.getColumnDisplayWidth(B);if(L==y)continue;U.save(),U.beginPath(),U.rect(O,I+v*(i-1),L,v),U.clip();var l=I+v*(i-1);(o||!c||c.column!==B)&&r.drawColumn(U,B,O,l,L,v),r.isColumnLineVisible(B)&&(B._parent&&uh(U,O,l,L,1,r.getColumnLineColor()),uh(U,O+L-1,l,1,v,r.getColumnLineColor())),U.restore(),r.$216u(U,B._children,O,I,P,C,o,K),O+=L}}},$214u:function(A,k,e,M,u,s){var y=this;if(k){var L=k.size();if("right"!=u||s)for(var Z=0;L>Z;Z++){var _=k.get(Z),j=_.getFixed(),U=_._children.size()>0;if(u==j&&_.isVisible()&&(_ instanceof H.GroupColumn?U:!0)){var V=y.figureColumnDisplayWidth(_),O=y.$215u,T=!_._parent;
if(T)M=y.$217u(_,1),A.add({column:_,startX:O,width:V,isTop:!0,totalDeep:M,y:0,height:e/M});else{var t=y.$218u(_);A.add({column:_,startX:O,width:V,isTop:!1,totalDeep:M,columnDeep:t,y:e/M*(t-1),height:e/M})}U?y.$214u(A,_._children,e,M,u,s):y.$215u=O+V}}else for(var Z=L-1;Z>=0;Z--){var _=k.get(Z),j=_.getFixed(),U=_._children.size()>0;if(u==j&&_.isVisible()&&(_ instanceof H.GroupColumn?U:!0)){var V=y.figureColumnDisplayWidth(_),O=y.__contentWidth-V,T=!_._parent;if(T)M=y.$217u(_,1),U&&y.$214u(A,_._children,e,M,u,s),A.add({column:_,startX:O,width:V,isTop:!0,totalDeep:M,y:0,height:e/M},A.size()-y.__rightCount);else{U&&y.$214u(A,_._children,e,M,u,s);var t=y.$218u(_);A.add({column:_,startX:O,width:V,isTop:!1,totalDeep:M,columnDeep:t,y:e/M*(t-1),height:e/M},A.size()-y.__rightCount)}y.__rightCount++,U||(y.__contentWidth-=V)}}}},$124u:function(R){var z=this,v=z.$86u;v.clear(),z.$215u=0,z.$214u(v,z.$117u._roots,R,C,"left"),z.$214u(v,z.$117u._roots,R,C,y);var X=z.$215u;delete z.$215u;var i=0,w=function(p){for(var V=p.size(),X=V-1;X>=0;X--){var c=p.get(X),d=c.getFixed(),Y=c._children,F=Y.size()>0;if("right"===d&&c.isVisible()&&(c instanceof H.GroupColumn?F:!0)){var l=z.figureColumnDisplayWidth(c);F?w(Y):i+=l}}};w(z.$117u._roots);var Y=z.getContentWidth();X+i>Y?(z.__rightCount=0,z.__contentWidth=z.getContentWidth(),z.$214u(v,z.$117u._roots,R,C,"right"),delete z.__contentWidth,delete z.__rightCount):(z.$215u=X,z.$214u(v,z.$117u._roots,R,C,"right",!0),delete z.$215u)},validateImpl:function(A,X,d,b){var t=this,R=t.getTableView(),U=t.$86u,f=t.$88u,v=-R.tx();t.$87u=y,t._invalidateColumnInfos&&(t.$124u(b),t._invalidateColumnInfos=y);var q=t.getRootContext();q.save(),q.translate(-v,0);var a=0;U.each(function(S){var L=S.column,U=S.startX;S.isTop&&"left"==L.getFixed()&&(t.$216u(q,L,U+A+v,X,b,t.$217u(L,1),!1,"left"),a+=S.width)});var W=0;if(U.each(function(P){var Y=P.column,N=P.startX;P.isTop&&"right"==Y.getFixed()&&(t.$216u(q,Y,N+A+v,X,b,t.$217u(Y,1),!1,"right"),W+=P.width)}),(a>0||W>0)&&(q.save(),q.beginPath(),q.rect(A+v+a,X,d-a-W,b),q.clip()),U.each(function(g){var z=g.column,o=g.startX;v+d-W>=o&&o+g.width>=v+a&&g.isTop&&!z.getFixed()&&t.$216u(q,z,o+A,X,b,t.$217u(z,1),!1,y)}),(a>0||W>0)&&q.restore(),f){var O=f.column,F=f.startX,Q=f.position,n=t.getMoveBackgroundDrawable(),S=f.width,P=R.tx();n.draw(F+A-(O.getFixed()?P:0),X,S,b,O,t),t.$216u(q,O,F+A-(O.getFixed()?P:0),X,b,t.$217u(O,1),!0,O.getFixed());var Y=t.getInsertLineDrawable();Y&&Y.draw(Q+A-(O.getFixed()?P:0),X,1,b,y,t)}var g=R._scrollBarIndent;if(R.isFixedShadowVisible(g,-v)){var s=A+v+g-1,_=X,u=10,x=b;R.drawFixedShadow(q,s,_,u,x,R.getFixedShadow())}var K=R._rightScrollBarIndent;if(R.isRightFixedShadowVisible(K,-v)){var s=v+t.getContentWidth()+t.getContentLeft()-K-10,_=X,u=10,x=b;R.drawRightFixedShadow(q,s,_,u,x,R.getFixedShadow())}q.restore()},isCheckHeader:function(s){var E=this.getTableView();return E.$90u===s&&E.sm().getSelectionMode()===Te},getHeaderCheckIconDrawable:function(){var B=this,q=B.getCheckMode();return"all"===q?B.getCheckIconDrawable():q===Kp?B.getUncheckIconDrawable():B.getIndeterminateIconDrawable()},drawSortIcon:function(n,t,q,Z,X,b){n&&n.draw(t,q,Z,X,b,this)},drawColumn:function(B,W,i,n,S,O){var r=this,c=fp(W.getIcon()),L=r.getIconWidth(),_=r.getIconHeight(),g=n+(O-_)/2,M=r.getLabelAlign(W),Y=r.getColumnPaddingLeft(),s=r.getColumnPaddingRight();if(Y==y&&(Y=W.getPaddingLeft()||0),s==y&&(s=W.getPaddingRight()||0),i+=Y,S=S-Y-s,B.save(),B.beginPath(),B.rect(i,n,0>S?0:S,O),B.clip(),r.isCheckHeader(W)&&r._tableView instanceof H.TableView){var e=r.getHeaderCheckIconDrawable(),p=r.$87u={x:i+(S-L)/2,y:g,width:L,height:_};e.draw(p.x,p.y,L,_,y,r),p.x-=r.getContentLeft(),p.y-=r.getContentTop(),p.width-=1,p.height-=1}else{var Q=i,T=0;if(r.isCheckHeader(W)){r._tableView.getIconGap&&(T=r._tableView.getIconGap());var e=r.getHeaderCheckIconDrawable(),p=r.$87u={x:i,y:g,width:L,height:_};e.draw(p.x,p.y,L,_,y,r),p.x-=r.getContentLeft(),p.y-=r.getContentTop(),p.width-=1,p.height-=1,i+=L+T}var J=r.getLabel(W),f=r.getLabelFont(W),X=r.getLabelColor(W),C=go(f,J).width;c||(L=0),M===dn?(c&&ql(B,c,$j,i,g,L,_),Yl(B,J,f,X,i+L,n,S,O,dn)):M===mo?(c&&ql(B,c,$j,Q+S-C-L,g,L,_),Yl(B,J,f,X,Q,n,S,O,mo)):(c&&ql(B,c,$j,Q+(S-C-L)/2,g,L,_),Yl(B,J,f,X,Q+(S-C+L)/2,n,0,O,dn))}if(B.restore(),L=r.getIconWidth(),W.isSortable()){var v=r.getSortIconDrawable(W);v&&(M===mo?r.drawSortIcon(v,Q-Y+2,g,L,_,W):r.drawSortIcon(v,Q+S+s-L-2,g,L,_,W))}},getSerializableProperties:function(){var T=H.TableHeader.superClass.getSerializableProperties.call(this);return Nf(T,{checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,sortDescIcon:1,sortDescIconDrawable:1,sortAscIcon:1,sortAscIconDrawable:1,indeterminateIcon:1,indeterminateIconDrawable:1,labelColor:1,labelFont:1,checkMode:1,iconWidth:1,iconHeight:1,columnPaddingLeft:1,columnPaddingRight:1,moveBackground:1,moveBackgroundDrawable:1,insertLine:1,insertLineDrawable:1,columnLineVisible:1,columnLineColor:1,resizable:1,movable:1,tableView:1})}});var Ud=function(t){var F=this;F.th=t};sf(Ud,A,{ms_listener:1,getView:function(){return this.th._view},handle_mousemove:function(j){if(!pk()){var l=this,I=l.th;delete l.$89u,I.setCursor(y);var _=I.getResizeColumnInfoAt(j);if(I.isResizable()&&_)l.$89u=_,I.setCursor(F);else{var g=I.getColumnInfoAt(j);if(g){var O=g.column;(O.isSortable()||I.isMovable()||O===I._tableView.getCheckColumn())&&(l.$89u=g,I.setCursor(c))}}}},handle_mousedown:function(C){this.handle_touchstart(C)},handle_touchstart:function(J){var q=this,K=q.th;K.isSelfViewEvent(J)&&(qd(J),K.requestFocus(),q.handle_mousemove(J),q.$89u&&(q.x=Hf(J).x,q.lx=q.th.lp(J).x,q.w=q.$89u.width,sr(q,J)))},getResidualHeaderWidth:function(){var S=this.th,d=S.getContentWidth(),w=S.$117u.getRoots(),z=function(F){var n=F._as?F:F.getChildren(),h=n.size();if(h>0)for(var T=0;h>T;T++){var O=n.get(T);O.isVisible()&&z(O)}else if(F instanceof H.Column){var Q=F.getWidth();Q>=0&&(d-=Q)}};return z(w),d},handleWindowMouseMove:function(p){this.handleWindowTouchMove(p)},handleWindowTouchMove:function(A){var m=this,J=m.th,l=J.getTableView(),S=J.getCursor(),T=m.$89u,t=(Hf(A).x-m.x)/J.getZoom();if(!m.resizing&&!m.$202u)if(S===F){m.resizing=1;var z=T.column,w=l.getRightScrollBarIndent()||0;"right"===z.getFixed()&&l.isRightFixedShadowVisible(w,l.tx())&&(m._resizeRight=1)}else J.isMovable()&&S===c&&D(t)>2&&T.isTop&&(m.$202u=1);if(m.resizing){var z=T.column,a=m.getResidualHeaderWidth();if(z instanceof H.GroupColumn){var L=[],r=function(l){for(var D=l.getChildren(),C=D.size(),h=0;C>h;h++){var q=D.get(h);q instanceof H.GroupColumn&&q.isVisible()?r(q):q.isVisible()&&L.push(q)}};r(z),m.leafW==y&&(m.leafW=[]);for(var p=0,n=L.length;n>p;p++){var s=L[p],E=m.leafW[p];if(E==y&&(E=m.leafW[p]=s.getWidth()),0>E){var d=(-E+t/n/a)*a;16>d&&(d=16),s.setWidth(-d/a)}else{if(m._resizeRight)var d=E-t/n;else var d=E+t/n;16>d&&(d=16),s.setWidth(d)}}}else{var Y;m._resizeRight?(Y=m.w-t,16>Y&&(Y=16),z.getWidth()<0?z.setWidth(Y/a):z.setWidth(Y)):(Y=m.w+t,16>Y&&(Y=16),z.getWidth()<0?z.setWidth(-Y/a):z.setWidth(Y))}}else if(m.$202u){var g=m.lx+t,h=l.tx();J.$86u.each(function(f){var $=f.column,c=g;if(f.isTop){$.getFixed()&&(c+=h);var Q=f.startX,B=Q+f.width;if(T.column.getFixed()===$.getFixed()&&c>=Q&&B>=c){var P={column:T.column,width:T.width,startX:T.startX+t,front:B-c>c-Q,insertColumn:f.column};P.position=P.front?Q:B,J.$334u(P)}}})}},handleWindowMouseUp:function(l){this.handleWindowTouchEnd(l)},handleWindowTouchEnd:function(t){var g=this,Q=g.th,s=Q._tableView,C=g.$89u,H=s.tx();if(g.$202u){var u=Q.$88u;if(u&&u.insertColumn!==u.column){var J=u.column,U=s.getColumnModel()._roots,P=U.remove(J),h=U.indexOf(u.insertColumn);h>=0&&(u.front||h++,h<=U.size()&&(U.add(J,h),s.getColumnModel()._38I(J,P,h)))}Q.$334u(y),delete g.$202u}else if(!g.resizing&&C){J=C.column;var p=Q.lp(t).x,V=C.startX,K=!0;if(C.column.getFixed()&&(p+=H),Q.onColumnClicked){var j=Q.onColumnClicked(C,t);j===!1&&(K=!1)}if(K&&p>=V&&p<=V+C.width)if(Q.checkIconHitTest(t)){var m=Q.getCheckMode();if("all"===m)Q.setCheckMode(Kp);else if(m===Kp)Q.setCheckMode("all");else if("indeterminate"===m){for(var v=!0,z=s.getRowDatas(),W=0,x=z.length;x>W;W++){var S=z.get(W);if(!s.isSelected(S)&&s.isSelectable(S)){v=!1;break}}v?Q.setCheckMode(Kp):Q.setCheckMode("all")}}else{if(J.isSortable()){var Y=s.getSortMode(),$=J.getSortOrder();if(Y===k){var D=s.getSortColumn();D===J?$===qc?(s.setSortColumn(y),J.setSortOrder(y)):$===Po?J.setSortOrder(qc):J.setSortOrder(Po):(D&&D.setSortOrder(y),s.setSortColumn(J),J.setSortOrder(Po))}else if("bistate"===Y){var D=s.getSortColumn();s.getSortColumn()===J?J.setSortOrder($===Po?qc:Po):(D&&D.setSortOrder(y),s.setSortColumn(J),J.setSortOrder(Po))}}s.onColumnClicked(J,t)}}g.$89u=g.resizing=g._resizeRight=g.x=g.lx=g.w=g.leafW=y}}),A.defineProperties(Ud.prototype,{disabled:{get:function(){return this.th.isDisabled()}}});var Jj=H.TableView=function(B){var $=this;$.$164u(),$.$136u(),$.setUpInteractors(),$.addTopPainter(function(O){var c=$._scrollBarIndent,y=$._rightScrollBarIndent,t=$.getTranslateX();if($.isFixedShadowVisible(c,t)){var d=-t+c-1,W=-$.ty(),u=10,b=$.getContentHeight();$.drawFixedShadow(O,d,W,u,b,$.getFixedShadow())}if($.isRightFixedShadowVisible(y,t)){var d=-t+$.getContentWidth()-y-10,W=-$.ty(),u=10,b=$.getContentHeight();$.drawRightFixedShadow(O,d,W,u,b,$.getFixedShadow())}}),B instanceof j?$.dm(B):$.set(B),$._dataModel||$.dm(new j)};sf("ht.ui.TableView",df,{ui_ac:[h,W,"hoverLabelColor",_,"sortMode",fd,tk,sb,Pd,"rowLineSize","is:clipLastRowLine",ys,Qp,Km,hg,gq,"drawable:rowBackground","drawable:selectRowBackground","drawable:hoverRowBackground","drawable:focusRowBackground","drawable:stripeRowBackground","iconWidth","iconHeight","rowHeightFunc","pannable","drawable:checkIcon","drawable:uncheckIcon","drawable:radioOnIcon","drawable:radioOffIcon","dragEnabled","dropEnabled","dropLineColor","preferredSizeRowCountLimit","fixedShadow","editorValidator"],ms_ac:["hoverData","sortColumn"],_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{columnModel:!0,ivm:!0,preferredSizeRowCountLimit:!0,rowHeight:!0,rowHeightFunc:!0,ivc:!0}),ms_sm:1,_49o:1,ui_txy:1,$152u:1,ms_dm:1,$151u:1,$148u:1,$149u:1,__iconWidth:16,__iconHeight:16,__rowHeight:26,__preferredSizeRowCountLimit:10,__radioOnIcon:"ui_"+E,__radioOffIcon:"ui_"+q,__checkIcon:"ui_"+V,__uncheckIcon:"ui_"+G,__rowLineColor:M.lineColor,__rowLineSize:1,__autoMakeVisible:!0,__labelFont:M.font,__dropLineColor:M.insertColor,__sortMode:k,__batchEditable:!1,__rowLineVisible:!0,__clipLastRowLine:!1,__columnLineVisible:!0,__columnLineColor:M.lineColor,__pannable:!0,__fixedShadow:"rgba(0,0,0,0.12)",__labelColor:M.textColor,__hoverRowBackground:M.hoverBackground,__selectRowBackground:M.rowSelectBackground,__focusRowBackground:M.rowSelectBackground,getInteractorClasses:function(){return[H.ScrollInteractor,mm]},checkHitTest:function(n){var N=this;if(N.isCheckMode()){var L=n;n instanceof Event&&(L=N.lp(n));var W=N.$90u,S=N.getColumnInfo(W),_=L.x;if(S&&_>=S.startX&&_<S.startX+S.width)return!0}},getCheckColumn:function(){var n=this;if(!n.$90u){var G=n.$90u=new xs;G.s("uiSerializable",!1),G.setEditable(!0),G.setWidth(50),G.drawCell=n.drawCheckColumnCell}return n.$90u},isCheckMode:function(){return this.$117u.contains(this.$90u)},setCheckMode:function(E){var A=this,H=A.$117u,e=A.getCheckColumn();E!==A.isCheckMode()&&(E?H.add(e,0):H.remove(e),A.fp(cc,!E,E))},drawCheckColumnCell:function(Q,q,K,H,m,l,d,z,c){var Z=c.getIconWidth(),x=c.getIconHeight(),C=c.getViewCheckIconDrawable(q);C&&c.drawCheckIcon(C,m+(d-Z)/2,l+(z-x)/2,Z,x,q)},getSerializableProperties:function(){var k=H.TableView.superClass.getSerializableProperties.call(this);return Nf(k,{scrollBarMode:1,scrollBarColor:1,scrollBarSize:1,scrollBarTimeout:1,scrollBarMinLength:1,scrollBarActiveSize:1,autoScrollSize:1,labelColor:1,selectLabelColor:1,hoverLabelColor:1,labelFont:1,sortMode:1,batchEditable:1,rowHeight:1,rowLineVisible:1,rowLineColor:1,columnLineVisible:1,columnLineColor:1,sortFunc:1,visibleFunc:1,pannable:1,autoMakeVisible:1,rowBackground:1,rowBackgroundDrawable:1,stripeRowBackground:1,stripeRowBackgroundDrawable:1,selectRowBackground:1,selectRowBackgroundDrawable:1,hoverRowBackground:1,hoverRowBackgroundDrawable:1,focusRowBackground:1,focusRowBackgroundDrawable:1,iconWidth:1,iconHeight:1,rowHeightFunc:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,radioOnIcon:1,radioOnIconDrawable:1,radioOffIcon:1,radioOffIconDrawable:1,dataModel:1,columnModel:1,sortColumn:1,selectionModelShared:1,selectionModel:1,"is:checkMode":1,dragEnabled:1,dropEnabled:1,dropLineColor:1,preferredSizeRowCountLimit:1,fixedShadow:1,editorValidator:1,rowLineSize:1,"is:clipLastRowLine":1})},serializeProperty:function(P,B,N){var L=this;return"sortColumn"===B?{__i:P.getId()}:N.serializeProperty(P,B,L)},deserializeProperty:function($,X,V){var L=this;if("sortColumn"===X){var S=L.getColumnModel(),v=S.$272u;return v[$.__i]}return V.deserializeProperty($,X,L)}});var mm=function(c){mm.superClass.constructor.call(this,c)};sf(mm,jc,{handle_touchstart:function(g){var e=this,A=e.list;mm.superClass.handle_touchstart.call(e,g);var M=A.getColumnAt(g),I=A.getDataAt(g);delete e.$31u,I&&M&&M.getValueType(I)===x&&M.isEditable(I)&&(e.$31u=Hf(g))},handle_touchend:function(a){mm.superClass.handle_touchend.call(this,a);var g=this,P=g.$31u;if(P){var Z=Hf(a);if(delete g.$31u,fl(P,Z)<qh){var p=g.list,S=p.getColumnAt(a),u=p.getDataAt(a);if(u&&S&&S.isEditable(u)){p.fireViewEvent({kind:"beginEdit",data:u,column:S});var o=p.setDataValue(!p.getValue(u,S),u,S);p.fireViewEvent({kind:"endEdit",valueChanged:o})}}}}});var Qm=H.TableFooter=function(t){var M=this;H.TableFooter.superClass.constructor.call(M),t instanceof H.TableView||t instanceof H.TreeTableView?M.setTableView(t):M.set(t)};sf("ht.ui.TableFooter",df,{ui_ac:[h,_,ys,Qp,"columnPaddingLeft","columnPaddingRight"],__labelColor:M.textColor,__labelFont:M.font,__columnLineColor:M.lineColor,__columnLineVisible:!0,__visible:!1,__background:M.headerBackground,$186u:function(){this.invalidateColumnInfos("columnModelChange")},$185u:function(B){var D=this,z=B.property;(z===bd||z===Fe||"fixed"===z)&&D.invalidateColumnInfos("columnPropertyChange",z),D.iv()},$187u:function(){this.invalidateColumnInfos("columnHierarchyChange")},onPropertyChanged:function(t){var Z=this;z.ui.TableFooter.superClass.onPropertyChanged.call(Z,t),t.property===bd&&Z.invalidateColumnInfos("viewWidth")},invalidateColumnInfos:function(Y,c){var r=this;r._invalidateColumnInfos||(r._invalidateColumnInfos=!0,c?r.fireViewEvent({kind:"invalidateColumnInfos",type:Y,property:c}):r.fireViewEvent({kind:"invalidateColumnInfos",type:Y})),r.iv()},$161u:function(J){var N=this,B=N.$117u;B!==J&&(B&&(B.umm(N.$186u,N),B.umd(N.$185u,N),B.umh(N.$187u,N)),N.$117u=J,J.mm(N.$186u,N),J.md(N.$185u,N),J.mh(N.$187u,N),N.fp("columnModel",B,J),N.$186u())},setTableView:function(D){var U=this,S=U._tableView;S&&(S.ump(U.$327u,U),D.off("endValidate",U.handleTableViewValidate,U));var Q=D.getColumnModel();U.tv=D,U.$86u=new I,U.$161u(Q),D.mp(U.$327u,U),D.on("endValidate",U.handleTableViewValidate,U,!1,!1,!0),U.setPropertyValue("tableView",D)},handleTableViewValidate:function(){var y=this;y.iv(),y.validate()},$327u:function(R){var T=this;"columnModel"===R.property&&T.$161u(R.newValue),ag[R.property]&&T.iv()},getTableView:function(){return this.tv},figurePreferredSize:function(){return{width:100,height:30}},getColumnInfo:function(c){for(var y,R=0,w=this.$86u,O=w.size();O>R;R++)if(y=w.get(R),y.column===c)return y},getColumnDisplayWidth:function(X){var g=this,t=g.getColumnInfo(X);return t?t.width:void 0},figureColumnDisplayWidth:function(U){var Y=this;if(U instanceof H.GroupColumn){var g=Y.getContentWidth(),u=0,L=Y.$117u.getRoots(),e=0,x=function(Y){var L=Y._as?Y:Y.getChildren(),N=L.size();if(N>0)for(var B=0;N>B;B++){var I=L.get(B);I.isVisible()&&x(I)}else if(Y instanceof H.Column){var t=Y.getWidth();t>=0?(g-=t,Y.isDescendantOf(U)&&(u+=t)):Y.isDescendantOf(U)&&(e-=t)}};return x(L),e>0&&(u+=g*e),s(16,u)}var O=U.getWidth();if(O>=0)return O;var g=Y.getContentWidth(),L=Y.$117u.getRoots(),x=function(b){var V=b._as?b:b.getChildren(),A=V.size();if(A>0)for(var W=0;A>W;W++){var Z=V.get(W);Z.isVisible()&&x(Z)}else if(b instanceof H.Column){var E=b.getWidth();E>=0&&(g-=E)}};return x(L),s(16,-g*O)},getLogicalPoint:function(i){var p=this,s=p.getTableView(),L=p._view.getBoundingClientRect(),v=s.tx(),Y=p.getZoom();return i=ck(i),{x:(i.clientX-L.left-p.getPaddingLeft()-p.getBorderLeft())/Y-v,y:(i.clientY-L.top-p.getPaddingTop()-p.getBorderTop())/Y}},$218u:function(L){for(var s=0;L;)s++,L=L.getParent();return s},$217u:function(h,k){var n=h._children,W=n.size();if(W>0)for(var l=0;W>l;l++){var r=n.get(l),x=this.$218u(r);k=s(k,x),r._children.size()>0&&(k=this.$217u(r,k))}return k},$216u:function(U,L,g,a,G,w,H,h){var k,i=this;L instanceof z.List?(k=L.size(),L=L._as):(k=1,L=[L]);for(var u=0;k>u;u++){var m=L[u],o=m.getFixed(),s=m.hasChildren();if(o==h){if(!m.isVisible())continue;var j=i.getColumnDisplayWidth(m);if(j==y)continue;if(!s){U.save(),U.beginPath(),U.rect(g,a,j,G),U.clip();var B=a;i.drawColumn(U,m,g,B,j,G),i.isColumnLineVisible(m)&&(m._parent&&uh(U,g,B,j,1,i.getColumnLineColor()),uh(U,g+j-1,B,1,G,i.getColumnLineColor())),U.restore()}i.$216u(U,m._children,g,a,G,w,H,h),g+=j}}},$214u:function(d,K,J,m,Q,l){var E=this;if(K){var w=K.size();if("right"!=Q||l)for(var N=0;w>N;N++){var r=K.get(N),k=r.getFixed(),D=r._children.size()>0;if(Q==k&&r.isVisible()&&(r instanceof H.GroupColumn?D:!0)){var o=E.figureColumnDisplayWidth(r),P=E.$215u,F=!r._parent;if(F)m=E.$217u(r,1),d.add({column:r,startX:P,width:o,isTop:!0,totalDeep:m,y:0,height:J/m});else{var L=E.$218u(r);d.add({column:r,startX:P,width:o,isTop:!1,totalDeep:m,columnDeep:L,y:J/m*(L-1),height:J/m})}D?E.$214u(d,r._children,J,m,Q,l):E.$215u=P+o}}else for(var N=w-1;N>=0;N--){var r=K.get(N),k=r.getFixed(),D=r._children.size()>0;if(Q==k&&r.isVisible()&&(r instanceof H.GroupColumn?D:!0)){var o=E.figureColumnDisplayWidth(r),P=E.__contentWidth-o,F=!r._parent;if(F)m=E.$217u(r,1),D&&E.$214u(d,r._children,J,m,Q,l),d.add({column:r,startX:P,width:o,isTop:!0,totalDeep:m,y:0,height:J/m},d.size()-E.__rightCount);else{D&&E.$214u(d,r._children,J,m,Q,l);var L=E.$218u(r);d.add({column:r,startX:P,width:o,isTop:!1,totalDeep:m,columnDeep:L,y:J/m*(L-1),height:J/m},d.size()-E.__rightCount)}E.__rightCount++,D||(E.__contentWidth-=o)}}}},$124u:function(m){var p=this,s=p.$86u;s.clear(),p.$215u=0,p.$214u(s,p.$117u._roots,m,C,"left"),p.$214u(s,p.$117u._roots,m,C,y);var c=p.$215u;delete p.$215u;var I=0,T=function(J){for(var e=J.size(),X=e-1;X>=0;X--){var B=J.get(X),Z=B.getFixed(),M=B._children,x=M.size()>0;if("right"===Z&&B.isVisible()&&(B instanceof H.GroupColumn?x:!0)){var y=p.figureColumnDisplayWidth(B);x?T(M):I+=y}}};T(p.$117u._roots);var q=p.getContentWidth();c+I>q?(p.__rightCount=0,p.__contentWidth=p.getContentWidth(),p.$214u(s,p.$117u._roots,m,C,"right"),delete p.__contentWidth,delete p.__rightCount):(p.$215u=c,p.$214u(s,p.$117u._roots,m,C,"right",!0),delete p.$215u)},validateImpl:function(e,I,N,p){var b=this,U=b.getTableView(),n=b.$86u,m=-U.tx();b._invalidateColumnInfos&&(b.$124u(p),b._invalidateColumnInfos=y);var R=b.getRootContext();R.save(),R.translate(-m,0);var $=0;n.each(function(W){var r=W.column,d=W.startX;W.isTop&&"left"===r.getFixed()&&(b.$216u(R,r,d+e+m,I,p,b.$217u(r,1),!1,"left"),$+=W.width)});var W=0;n.each(function(Q){var x=Q.column,S=Q.startX;Q.isTop&&"right"==x.getFixed()&&(b.$216u(R,x,S+e+m,I,p,b.$217u(x,1),!1,"right"),W+=Q.width)}),($>0||W>0)&&(R.save(),R.beginPath(),R.rect(e+m+$,I,N-$-W,p),R.clip()),n.each(function(d){var w=d.column,F=d.startX;m+N-W>=F&&F+d.width>=m+$&&d.isTop&&!w.getFixed()&&b.$216u(R,w,F+e,I,p,b.$217u(w,1),!1,y)}),($>0||W>0)&&R.restore();var d=U._scrollBarIndent;if(U.isFixedShadowVisible(d,-m)){var w=e+m+d-1,P=I,L=10,B=p;U.drawFixedShadow(R,w,P,L,B,U.getFixedShadow())}var u=U._rightScrollBarIndent;if(U.isRightFixedShadowVisible(u,-m)){var w=m+b.getContentWidth()+b.getContentLeft()-u-10,P=I,L=10,B=p;U.drawRightFixedShadow(R,w,P,L,B,U.getFixedShadow())}R.restore()},getSummary:function(e,y){var z,m=this,O=m.getTableView(),u=e.getSummary();if("sum"===u)for(var p=0,G=y.size();G>p;p++){var E=y.get(p);z===C?z=O.getValue(E,e):z+=O.getValue(E,e)}else if("max"===u)for(var p=0,G=y.size();G>p;p++){var E=y.get(p);z=z===C?O.getValue(E,e):s(z,O.getValue(E,e))}else if("min"===u)for(var p=0,G=y.size();G>p;p++){var E=y.get(p);z=z===C?O.getValue(E,e):N(z,O.getValue(E,e))}else if("average"===u){for(var p=0,G=y.size();G>p;p++){var E=y.get(p);z===C?z=O.getValue(E,e):z+=O.getValue(E,e)}z/=G}else if("first"===u){var E=y.get(0);E&&(z=O.getValue(E,e))}return z},drawColumn:function(D,j,T,w,q,z){var n=this,x=n.getColumnPaddingLeft(),m=n.getTableView(),Z=n.getColumnPaddingRight();x==y&&(x=j.getPaddingLeft()||0),Z==y&&(Z=j.getPaddingRight()||0),T+=x,q=q-x-Z,D.save(),D.beginPath(),D.rect(T,w,0>q?0:q,z),D.clip();var H=n.getSummary(j,m.getAllRowDatas?m.getAllRowDatas():m.getRowDatas()),l=n.getLabelFont(j),Y=n.getLabelColor(j);Yl(D,H,l,Y,T,w,q,z,j.getAlign()),D.restore()},getSerializableProperties:function(){var q=H.TableFooter.superClass.getSerializableProperties.call(this);return Nf(q,{labelColor:1,labelFont:1,columnLineVisible:1,columnLineColor:1,columnPaddingLeft:1,columnPaddingRight:1,tableView:1})}});var we=H.TreeTableView=function(Q){var N=this;N.$137u(),N.$164u(),N.$136u(),N.addTreeColumn(),N.setUpInteractors(),N.addTopPainter(function(g){var M=N._scrollBarIndent,$=N._rightScrollBarIndent,V=N.getTranslateX();if(N.isFixedShadowVisible(M,V)){var o=-V+M-1,u=-N.ty(),Y=10,z=N.getContentHeight();N.drawFixedShadow(g,o,u,Y,z,N.getFixedShadow())}if(N.isRightFixedShadowVisible($,V)){var o=-V+N.getContentWidth()-$-10,u=-N.ty(),Y=10,z=N.getContentHeight();N.drawRightFixedShadow(g,o,u,Y,z,N.getFixedShadow())}}),Q instanceof j?N.dm(Q):N.set(Q),N._dataModel||N.dm(new j)},ge=function(U,a,t,o,J,d,_,k,Z){return Z.drawTree(U,a,t,J,d,_,k)},wi=function(s,v,h){return h.getLabel(s)};sf("ht.ui.TreeTableView",df,{ui_ac:[h,W,"hoverLabelColor",_,"sortMode",fd,Cc,cc,"rootVisible",Km,hg,gq,Pd,tk,sb,"pannable",ys,Qp,"rowLineSize","is:clipLastRowLine","drawable:rowBackground","drawable:stripeRowBackground","drawable:selectRowBackground","drawable:expandIcon","drawable:collapseIcon","drawable:hoverExpandIcon","drawable:hoverCollapseIcon","drawable:selectExpandIcon","drawable:selectCollapseIcon","rowHeightFunc","toggleIconVisible","drawable:hoverRowBackground","drawable:focusRowBackground","iconWidth","iconHeight","iconGap","drawable:checkIcon","drawable:uncheckIcon","drawable:indeterminateIcon","drawable:radioOnIcon","drawable:radioOffIcon","preferredSizeRowCountLimit","dragEnabled","dropEnabled","dropLineColor","fixedShadow","editorValidator"],ms_ac:["hoverData","rootData","loader","sortColumn"],_preferredSizeProps:Nf(Fb(qf._preferredSizeProps),{columnModel:!0,ivm:!0,preferredSizeRowCountLimit:!0,rowHeight:!0,rowHeightFunc:!0,ivc:!0}),ms_bnb:1,ms_sm:1,_49o:1,ui_txy:1,$152u:1,ms_dm:1,$151u:1,$150u:1,$162u:1,$148u:1,$149u:1,__toggleIconVisible:!0,__iconGap:4,__iconWidth:16,__iconHeight:16,__rowHeight:26,__preferredSizeRowCountLimit:10,__radioOnIcon:"ui_"+E,__radioOffIcon:"ui_"+q,__checkIcon:"ui_"+V,__uncheckIcon:"ui_"+G,__indeterminateIcon:"ui_indeterminate",__rowLineColor:M.lineColor,__autoMakeVisible:!0,__labelFont:M.font,__dropLineColor:M.insertColor,__sortMode:k,__checkMode:y,__batchEditable:!1,__indent:16,__rowLineVisible:!0,__rowLineSize:1,__clipLastRowLine:!1,__columnLineVisible:!0,__columnLineColor:M.lineColor,__expandIcon:"ui_expandIcon",__collapseIcon:"ui_collapseIcon",__pannable:!0,__fixedShadow:"rgba(0,0,0,0.12)",__labelColor:M.textColor,__hoverRowBackground:M.hoverBackground,__selectRowBackground:M.rowSelectBackground,__focusRowBackground:M.rowSelectBackground,createTreeColumn:function(){return new H.Column},addTreeColumn:function(G){var a=this;G?a.$123u=G:(G=a.$123u=a.createTreeColumn(),G.setDisplayName("Name"),G.setName("name"),G.setWidth(140),a.$117u.contains(G)||a.$117u.add(G),a.$117u.moveTo(G,0)),G.s("treeColumn",!0),G.drawCell=ge,G.getValue=wi},getInteractorClasses:function(){return[H.ScrollInteractor,Gh]},checkHitTest:function($,e){var q=this;if(q.isCheckMode()){var f=$;$ instanceof Event&&(f=q.lp($)),e||(e=q.getDataAt($));var I,j=q.$123u,R=q.getColumnInfo(j),s=f.x,y=q.getLevel(e),u=q.getIndent(),B=q.getIconWidth();if(I=q.isToggleIconVisible()?u*y+B+R.startX+j.getPaddingLeft()+q.getIconGap():u*y+R.startX+j.getPaddingLeft(),s>=I&&I+B>=s)return!0}},toggleHitTest:function(d,I){var j=this,f=d;if(I||(I=j.getDataAt(d)),I&&j.isToggleIconVisible()&&j.getToggleIconDrawable(I)){d instanceof Event&&(f=j.lp(d));var S=f.x,r=j.getIndent(),h=j.getLevel(I),D=j.$123u,B=j.getColumnInfo(D);if(B){var c=r*h+B.startX+D.getPaddingLeft();if(S>=c&&S<=c+j.getIconWidth())return!0}}},getTreeColumn:function(){return this.$123u},getSerializableProperties:function(){var n=H.TreeTableView.superClass.getSerializableProperties.call(this);return Nf(n,{scrollBarMode:1,scrollBarColor:1,scrollBarSize:1,scrollBarTimeout:1,scrollBarMinLength:1,scrollBarActiveSize:1,autoScrollSize:1,labelColor:1,selectLabelColor:1,hoverLabelColor:1,labelFont:1,sortMode:1,batchEditable:1,indent:1,rootVisible:1,sortFunc:1,visibleFunc:1,autoMakeVisible:1,rowLineColor:1,rowHeight:1,rowLineVisible:1,pannable:1,columnLineVisible:1,columnLineColor:1,selectRowBackground:1,selectRowBackgroundDrawable:1,expandIcon:1,expandIconDrawable:1,collapseIcon:1,collapseIconDrawable:1,hoverExpandIcon:1,hoverExpandIconDrawable:1,hoverCollapseIcon:1,hoverCollapseIconDrawable:1,selectExpandIcon:1,selectExpandIconDrawable:1,selectCollapseIcon:1,selectCollapseIconDrawable:1,rowHeightFunc:1,indeterminateIcon:1,indeterminateIconDrawable:1,rowBackground:1,rowBackgroundDrawable:1,stripeRowBackground:1,stripeRowBackgroundDrawable:1,hoverRowBackground:1,hoverRowBackgroundDrawable:1,focusRowBackground:1,focusRowBackgroundDrawable:1,iconWidth:1,iconHeight:1,iconGap:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,radioOnIcon:1,radioOnIconDrawable:1,radioOffIcon:1,radioOffIconDrawable:1,dataModel:1,columnModel:1,rootData:1,loader:1,sortColumn:1,selectionModelShared:1,selectionModel:1,preferredSizeRowCountLimit:1,dragEnabled:1,dropEnabled:1,dropLineColor:1,fixedShadow:1,editorValidator:1,toggleIconVisible:1,rowLineSize:1,"is:clipLastRowLine":1,checkMode:1})},serializeProperty:function(i,h,p){var P=this;return"sortColumn"===h||"rootData"===h?{__i:i.getId()}:p.serializeProperty(i,h,P)},deserializeProperty:function(N,f,q){var K=this;if("sortColumn"===f){var e=K.getColumnModel(),g=e.$272u;return g[N.__i]}if("rootData"===f){var y=K.getDataModel(),g=y.$272u;return g[N.__i]}return q.deserializeProperty(N,f,K)}});var Gh=function(k){Gh.superClass.constructor.call(this,k)};sf(Gh,sp,{handle_touchstart:function(w){var K=this,V=K.list;Gh.superClass.handle_touchstart.call(K,w);var o=V.getColumnAt(w),f=V.getDataAt(w);delete K.$31u,f&&o&&o.getValueType(f)===x&&o.isEditable(f)&&(K.$31u=Hf(w))},handle_touchend:function(c){Gh.superClass.handle_touchend.call(this,c);var i=this,U=i.$31u;if(U){var T=Hf(c);if(delete i.$31u,fl(U,T)<qh){var h=i.list,Z=h.getColumnAt(c),v=h.getDataAt(c);if(v&&Z&&Z.isEditable(v)){h.fireViewEvent({kind:"beginEdit",data:v});var B=h.setDataValue(!h.getValue(v,Z),v,Z);h.fireViewEvent({kind:"endEdit",valueChanged:B})}}}}}),H.TablePane=function(C){var K=this;H.TablePane.superClass.constructor.call(K),C instanceof H.TableView?K.init(C):C instanceof j||C==y?K.init(new Jj(C)):K.set(C)},sf("ht.ui.TablePane",pf,{$147u:1,figurePreferredSize:function(){var R=this,F=R.getTableView(),T=R.getTableHeader(),p=F&&F.isVisible(),M=T&&T.isVisible(),Q=0,I=0;return p&&M?(Q=s(F.getPreferredSize().width,T.getPreferredSize().width),I=F.getPreferredSize().height+T.getPreferredSize().height):p?(Q=F.getPreferredSize().width,I=F.getPreferredSize().height):M&&(Q=T.getPreferredSize().width,I=T.getPreferredSize().height),{width:i(Q+R.getPaddingLeft()+R.getPaddingRight()+R.getBorderLeft()+R.getBorderRight()),height:i(I+R.getPaddingTop()+R.getPaddingBottom()+R.getBorderTop()+R.getBorderBottom())}},getSerializableProperties:function(){var M=H.TablePane.superClass.getSerializableProperties.call(this);return delete M.children,Nf(M,{tableView:1,tableHeader:1,tableFooter:1})}}),H.TreeTablePane=function(q){var c=this;H.TreeTablePane.superClass.constructor.call(c),q instanceof we?c.init(q):q instanceof j||q==y?c.init(new we(q)):c.set(q)},sf("ht.ui.TreeTablePane",pf,{$147u:1,figurePreferredSize:function(){var T=this,X=T.getTableView(),f=T.getTableHeader(),z=X&&X.isVisible(),N=f&&f.isVisible(),e=0,I=0;return z&&N?(e=s(X.getPreferredSize().width,f.getPreferredSize().width),I=X.getPreferredSize().height+f.getPreferredSize().height):z?(e=X.getPreferredSize().width,I=X.getPreferredSize().height):N&&(e=f.getPreferredSize().width,I=f.getPreferredSize().height),{width:i(e+T.getPaddingLeft()+T.getPaddingRight()+T.getBorderLeft()+T.getBorderRight()),height:i(I+T.getPaddingTop()+T.getPaddingBottom()+T.getBorderTop()+T.getBorderBottom())}},getSerializableProperties:function(){var K=H.TreeTablePane.superClass.getSerializableProperties.call(this);return delete K.children,Nf(K,{tableView:1,tableHeader:1,tableFooter:1})}}),H.PageButtonGroup=function(){var q=this;H.PageButtonGroup.superClass.constructor.call(q),q.setStyle("buttongroup");var c=new H.ToggleButton({minSize:{width:0,height:0}});c._pagePropertyChangeHandler=function(){q.initButtons()},c.addPropertyChangeListener(c._pagePropertyChangeHandler),q.setTemplateButton(c)},O.def("ht.ui.PageButtonGroup",z.ui.HButtonGroup,{ms_ac:["buttonCount","templateButton"],_buttonCount:6,initButtons:function(){var c=this;c.clear();var E=c.getButtonCount(),Z=c.getParent();if(Z){for(var F=Z._pageCount,f=Z.getCurrentPage(),r=c._radios=new H.Radios,b=w(f/E)*E,e=N(b+E,F),A=new H.UIJSONSerializer,W=A.serialize(c.getTemplateButton()),y=0,l=0,D=b;e>D;D++){var i=A.deserialize(W);i.__layoutParams={width:"wrap_content",height:"match_parent"},i.setText(D+1+""),i.a("page",D),r.add(i),D===f&&i.setSelected(!0),c.addView(i);var Q=i.getPreferredSize();y=s(Q.width,y),l=s(Q.height,l)}c.getChildren().each(function(R){R.setPreferredSize(y,l)}),r.on("p:selectedButton",function(g){if(g.source===c._radios){var w=g.newValue;if(w){var r=w.a("page");Z.setCurrentPage(r)}}},C,C,C,!0)}},onPropertyChanged:function(k){var s=this;if(H.PageButtonGroup.superClass.onPropertyChanged.call(s,k),"buttonCount"===k.property)s.initButtons();else if("parent"===k.property)s.initButtons(),k.newValue&&k.newValue.on("p:currentPage",function(W){for(var x=s.getChildren(),Z=!1,I=0;I<x.length;I++){var O=x.get(I);if(O.a("page")===W.newValue){O.setSelected(!0),Z=!0;break}}Z||s.initButtons()},C,C,C,!0);else if("templateButton"===k.property){s.initButtons();var p=k.newValue;p&&!p._pagePropertyChangeHandler&&(p._pagePropertyChangeHandler=function(){s.initButtons()},p.addPropertyChangeListener(p._pagePropertyChangeHandler))}},getSerializableProperties:function(){var q=H.PageButtonGroup.superClass.getSerializableProperties.call(this);return delete q.children,Nf(q,{templateButton:!0,buttonCount:!0})}}),H.Pagination=function(){var l=this;z.ui.Pagination.superClass.constructor.call(l);var s=new z.ui.Label;s.setText(l.getHintText()),s.setAttr("pageFunc","hintLabel"),s.__align="left",s.__vAlign="middle",l.addView(s,{width:"match_parent",height:"match_parent"});var Z=new z.ui.Button;Z.a("pageFunc","first"),Z.__text="First",l.addView(Z,{width:"wrap_content",height:"match_parent"});var e=new z.ui.Button;e.a("pageFunc","previous"),e.__text="Previous",l.addView(e,{width:"wrap_content",height:"match_parent"});var O=l._buttonGroup=new H.PageButtonGroup;l.addView(O,{width:"wrap_content",height:"match_parent"});var m=new z.ui.NumberInput;m.__iconVisible=!1,m.a("pageFunc","gotoPageValue"),l.addView(m,{width:40,height:"match_parent",vAlign:"middle"});var P=new z.ui.Button;P.a("pageFunc","gotoPage"),P.__text="Go",l.addView(P,{width:"wrap_content",height:"match_parent"});
var n=new z.ui.Button;n.a("pageFunc","next"),n.__text="Next",l.addView(n,{width:"wrap_content",height:"match_parent"});var r=new z.ui.Button;r.a("pageFunc","last"),r.__text="Last",l.addView(r,{width:"wrap_content",height:"match_parent"}),l.on("d:click",function(i){var P=Je(i);if("first"===P.a("pageFunc"))l.handleFirst();else if("previous"===P.a("pageFunc"))l.handlePrevious();else if("next"===P.a("pageFunc"))l.handleNext();else if("last"===P.a("pageFunc"))l.handleLast();else if("gotoPage"===P.a("pageFunc")){var F=function(R){for(var p=0;p<R.length;p++){var i=R.get(p),o=i.a("pageFunc");if("gotoPageValue"===o){var J=i.getValue();if(!isNaN(J)){var J=aj(J)-1;0>J&&(J=0),J>l._pageCount-1&&(J=l._pageCount-1),l.setCurrentPage(J),i.setValue(J+1)}}i.getChildren&&F(i.getChildren())}};F(l.getChildren())}},C,C,C,!0),l.on("addView",function(I){I.child instanceof z.ui.PageButtonGroup&&(l._buttonGroup=I.child)},C,C,C,!0)},O.def("ht.ui.Pagination",H.HBoxLayout,{ms_ac:["rowsPerPage","currentPage","hintText","rowCount"],__background:z.ui.uiTheme.headerBackground,__padding:10,_hintText:"Showing {startRow} to {endRow} of {rowCount} entries",_rowsPerPage:10,_currentPage:0,_rowCount:0,getPageButtonGroup:function(){return this._buttonGroup},handleFirst:function(){this.setCurrentPage(0)},handlePrevious:function(){var U=this.getCurrentPage();this.setCurrentPage(Math.max(U-1,0))},handleNext:function(){var m=this.getCurrentPage();this.setCurrentPage(Math.min(m+1,this._pageCount-1))},handleLast:function(){this.setCurrentPage(this._pageCount-1)},setRowCount:function(S){var D=this;D.setPropertyValue("rowCount",S),D._pageCount=Math.ceil(D.getRowCount()/D.getRowsPerPage()),D._buttonGroup.initButtons()},columnSortOrderChangeHandler:function(S){var $=this;"sortOrder"!==S.property||!S.newValue&&$._tableView.getSortColumn()||($._invalidateRequest=!0,$.iv())},fit:function(G){var V=this,N=V._tableView;V._tableView=G,N&&(N.getColumnModel&&N.getColumnModel().removeDataPropertyChangeListener(V.columnSortOrderChangeHandler,V),N.getCurrentSortFunc=N._oldGetCurrentSortFunc,delete N._oldGetCurrentSortFunc),G._oldGetCurrentSortFunc=G.getCurrentSortFunc,G.getCurrentSortFunc=function(){},G.getColumnModel&&G.getColumnModel().addDataPropertyChangeListener(V.columnSortOrderChangeHandler,V)},setRowsPerPage:function(p){var G=this;G.setPropertyValue("rowsPerPage",p),G._pageCount=Math.ceil(G.getRowCount()/G.getRowsPerPage()),G._buttonGroup.initButtons()},onPropertyChanged:function(H){var M=H.property;("rowsPerPage"===M||"currentPage"===M||"rowCount"===M||"tableView"===M)&&(this._invalidateRequest=!0),z.ui.Pagination.superClass.onPropertyChanged.call(this,H)},validateImpl:function(g,y,x,K){var u=this;z.ui.Pagination.superClass.validateImpl.call(u,g,y,x,K),u._invalidateRequest&&u._tableView&&(u.fireViewEvent({kind:"execRequest",tableView:u._tableView,currentPage:u.getCurrentPage(),rowsPerPage:u.getRowsPerPage()}),u._invalidateRequest=!1);var r=u._pageCount,X=u.getCurrentPage(),V=function(q){for(var Z=0;Z<q.length;Z++){var f=q.get(Z),w=f.a("pageFunc");if("first"===w||"previous"===w)0===X?f.setDisabled(!0):f.setDisabled(!1);else if("last"===w||"next"===w)r-1===X?f.setDisabled(!0):f.setDisabled(!1);else if("hintLabel"===w){var j=u.getHintText();j=j.replace("{startRow}",u.getCurrentPage()*u.getRowsPerPage()+1),j=j.replace("{endRow}",N((u.getCurrentPage()+1)*u.getRowsPerPage(),u.getRowCount())),j=j.replace("{rowCount}",u.getRowCount()),j=j.replace("{currentPage}",u.getCurrentPage()+1),j=j.replace("{rowsPerPage}",u.getRowsPerPage()),j=j.replace("{totalPage}",u._pageCount),f.setText(j)}f.getChildren&&V(f.getChildren())}};V(u.getChildren())},getSerializableProperties:function(){var P=H.Pagination.superClass.getSerializableProperties.call(this);return Nf(P,{rowsPerPage:!0,currentPage:!0,rowCount:!0,hintText:!0,requestCallback:!0})}}),H.Divider=function(O){H.Divider.superClass.constructor.call(this,O)},sf("ht.ui.Divider",df,{ui_ac:["orientation","lineWidth","lineColor","lineDash"],__orientation:"horizontal",__lineWidth:1,__lineColor:"black",figurePreferredSize:function(){var V=this,o=V.getOrientation();return"h"===o||"horizontal"===o?{width:500,height:V.getPaddingTop()+V.getPaddingBottom()+V.getBorderTop()+V.getBorderBottom()+V.getLineWidth()}:{width:V.getPaddingLeft()+V.getPaddingRight()+V.getBorderLeft()+V.getBorderRight()+V.getLineWidth(),height:500}},validateImpl:function(y,s,G,q){var o=this,p=o.getOrientation(),M=o.getLineWidth(),r=o.getLineColor(),J=o.getLineDash(),L=o.getRootContext();L.beginPath(),"h"===p||"horizontal"===p?(J&&L.setLineDash(J),L.strokeStyle=r,L.lineWidth=M,L.moveTo(y,s+q/2),L.lineTo(y+G,s+q/2),L.stroke()):(J&&L.setLineDash(J),L.strokeStyle=r,L.lineWidth=M,L.moveTo(y+G/2,s),L.lineTo(y+G/2,s+q),L.stroke())},getSerializableProperties:function(){var u=H.Divider.superClass.getSerializableProperties.call(this);return z.Default.addMethod(u,{orientation:!0,lineWidth:!0,lineColor:!0,lineDash:!0})}});var vq=H.DragHelper={};vq.doDrag=function(M,l,O,V,$){vq.isDragging()&&vq.cancelDrag(),vq.$220u={dragView:M,data:l,image:O,imageOffsetX:V||0,imageOffsetY:$||0},U.addEventListener(il?"touchmove":"mousemove",vq.handleWindowMouseMove),U.addEventListener(il?"touchend":"mouseup",vq.handleWindowMouseUp),U.addEventListener("keydown",vq.handleKeyDown)},vq.isDragging=function(P){var r=vq.$220u;return P?r&&r.dragView===P?!0:void 0:!!r},vq.getDragView=function(){var K=vq.$220u;return K&&K.dragView},vq.getDropView=function(){var u=vq.$220u;return u&&u.dropView},vq.cancelDrag=function(Z){var m=vq.$220u;if(m){var G=m.dragView,I=m.dropView;G&&G.fireViewEvent({source:m.dragView,target:m.dropView,data:m.data,kind:"sourceDragCanceled",nativeEvent:Z}),I&&I.fireViewEvent({source:m.dragView,target:m.dropView,data:m.data,kind:"dragCanceled",nativeEvent:Z})}vq.$221u()},vq.handleKeyDown=function(d){27==d.keyCode&&vq.cancelDrag(d)},vq.$221u=function(){var Y=vq.$220u,V=Y.dragCanvas,l=Y.indicatorCanvas;V&&u.body.removeChild(V),l&&u.body.removeChild(l),U.removeEventListener(il?"touchmove":"mousemove",vq.handleWindowMouseMove),U.removeEventListener(il?"touchend":"mouseup",vq.handleWindowMouseUp),U.removeEventListener("keydown",vq.handleKeyDown),delete vq.$220u},vq.acceptDragDrop=function(P,m){var a=vq.$220u;a&&(a.dropView=P),a.cursor=m},vq.handleWindowMouseMove=function($){var o=vq.$220u,D=o.image,p=o.imageOffsetX,c=o.imageOffsetY;D=fp(D);var a=o.dragCanvas;if(!a){var N,G;D instanceof HTMLElement&&(N=aj(D.style.width),G=aj(D.style.height)),(isNaN(N)||N==y)&&(N=D.width),(isNaN(G)||G==y)&&(G=D.height),a=o.dragCanvas=Hi(y,!0),Yh(a,N,G);var b=Lf(a);Xl(b,0,0,1),gl(b,D,0,0,N,G),a.style.zIndex="100001",a.style.pointerEvents=Kp,u.body.appendChild(a)}var a=o.dragCanvas,j=Uo($);a.style.left=j.x+p+vl,a.style.top=j.y+c+vl;var K=o.dropView,e=o.dragView;if(!K)for(var E=Je($);E&&(E.fireViewEvent({source:e,target:E,data:o.data,kind:"dragEnter",nativeEvent:$}),K=o.dropView,K||(o.dragView.fireViewEvent({source:e,target:E,data:o.data,kind:"sourceDragEnter",nativeEvent:$}),K=o.dropView),!K);)E=E._parent||E.getStyleParent();if(K){K.getView().contains(Nl($))?(K.fireViewEvent({source:e,target:K,data:o.data,kind:"dragMove",nativeEvent:$}),e.fireViewEvent({source:e,target:K,data:o.data,kind:"sourceDragMove",nativeEvent:$})):(K.fireViewEvent({source:e,target:K,data:o.data,kind:"dragExit",nativeEvent:$}),e.fireViewEvent({source:e,target:K,data:o.data,kind:"sourceDragExit",nativeEvent:$}),delete o.dropView,K=y);var P=o.indicatorCanvas;if(P&&!K)u.body.removeChild(P),delete o.indicatorCanvas;else if(!P&&K&&o.cursor!==y){P=o.indicatorCanvas=Hi(y,!0),Yh(P,20,20);var b=Lf(P);Xl(b,0,0,1);var i=o.cursor;i===C&&(i="drag_add"),gl(b,fp(i),0,0,20,20),P.style.zIndex="100002",P.style.pointerEvents=Kp,u.body.appendChild(P)}P&&(P.style.left=j.x+5+vl,P.style.top=j.y+5+vl)}},vq.handleWindowMouseUp=function(Q){var g=vq.$220u,H=g.dragView,z=g.dropView;H&&H!==z&&H.fireViewEvent({source:H,target:z,data:g.data,kind:"sourceDragCompleted",nativeEvent:Q}),z&&z.fireViewEvent({source:H,target:z,data:g.data,kind:"dragCompleted",nativeEvent:Q}),vq.$221u()};var Jf=new z.graph3d.Graph3dView;H.UIJSONSerializer=function(J){this._options=J},sf("ht.ui.UIJSONSerializer",A,{isShipListeners:function(){return this._shipListeners},setShipListeners:function(Y){this._shipListeners=Y},enableListeners:function(){this._shipListeners=!0},disableListeners:function(){this._shipListeners=!1},isListenersEnabled:function(){return this._shipListeners},serialize:function(R,c){return O.stringify(this.toJSON(R),c)},toJSON:function(E){var G=this,M=z._uiSerializing;z._uiSerializing=!0,G.refObjects=[];var J,a=G.json={v:O.getUIVersion(),r:{},c:y};try{a.c=G.serializeClass(E)}catch(e){J=e}if(z._uiSerializing=M,G.refObjects.forEach(function(J){delete J.$232u}),delete G.refObjects,delete G.json,J)throw J;return O.parse(O.stringify(a))},$300u:function(T){for(var U=T.getSelection(),F=T.getSelectionMode(),J=[],r=0;r<U.size();r++){var D=U.get(r);J.push({__i:D.getId()})}return{selectionMode:F,selection:J}},serializeClass:function(U,R,X){var b=this;if(U instanceof z.DataModel){var d=new z.JSONSerializer(U);d.isSerializable=function(D){return D.s("uiSerializable")===!1?!1:!0};var P=d.serialize();U.$232u==y&&(U.$232u=O.getId());var n=U.$232u;return b.json.r[n]={dataModel:P,selectionModel:b.$300u(U.sm())},b.refObjects.push(U),{__i:n}}if(U instanceof z.SelectionModel)return b.$300u(U);var P={},j=!1;if(P.type=U.getClassName(),P.p={},b.serializeProperties(P,U),U.getField&&(P.fields={},b.serializeFields(P,U)),U.getAttr&&(P.attr={},b.serializeAttrs(P,U)),j=X&&X.isRef?X.isRef(U,R,b):b.isRef(U,R,X)){U.$232u==y&&(U.$232u=O.getId());var n=U.$232u;return b.json.r[n]=P,b.refObjects.push(U),{__i:n}}return P},isRef:function(m){return m instanceof H.drawable.Drawable||m instanceof H.border.Border||m instanceof H.Radios||m instanceof H.TableView||m instanceof H.TreeTableView||m instanceof H.ContextMenu?!0:void 0},isSameValue:fe,serializeProperty:function(L,v,M){var D=this;if(L instanceof z.List){for(var N=[],b=0,_=L.size();_>b;b++){var E=L.get(b);E.getSerializableProperties?(E=D.serializeClass(E,v,M),N.push(E)):N.push(E)}L={__a:N}}else if(Jr(L)){for(var N=[],b=0,w=L.length;w>b;b++){var E=L[b];E.getSerializableProperties?(E=D.serializeClass(E,v,M),N.push(E)):N.push(E)}L=N}else{if(L instanceof Date)return"__ht__date"+L.getTime();if(L instanceof z.DataModel)L=D.serializeClass(L,v,M);else if(L instanceof z.SelectionModel)L=D.serializeClass(L,v,M);else if(L instanceof RegExp)L={__r:L.toString()};else if(L&&L.getSerializableProperties)L=D.serializeClass(L,v,M);else if(M instanceof H.ViewGroup&&"bindingData"===v){var F={};for(var A in L)F[A]=D.serializeProperty(L[A],A,M);L=F}else if((M instanceof H.ComboBox||M instanceof H.MultiSelect)&&"dropDownConfig"===v){var F={};for(var A in L)F[A]=D.serializeProperty(L[A],A,M);L=F}}return L},serializeProperties:function(c,g){if(this._shipListeners&&g.getListeners){var d=g.getListeners();if(d&&d.length>0){for(var I=[],l=0,J=d.length;J>l;l++){var K=d[l];K.core||I.push(O.stringify({name:K.name,listener:K.listener,once:K.once,beforeEvent:K.beforeEvent}))}I&&I.length>0&&(c.listeners=I)}}var o,b=g.getSerializableProperties(),e=g.getClass();for(var Y in b){o||(o=g instanceof z.graph3d.Graph3dView?Jf:new e);var M=y;0===Y.indexOf("is:")&&(M="is"),-1!==Y.indexOf("Drawable",Y.length-8)&&(M="get"),Y=Y.substr(Y.indexOf(":")+1);var h=_q(Y,M);if(g[h]){var V=g[h](),F=!1;if(V instanceof z.SelectionModel?g.isSelectionModelShared()||(F=!0):this.isSameValue(V,o[h]())||(F=!0),"content"===Y&&(V instanceof z.graph.GraphView||V instanceof z.graph3d.Graph3dView)&&g.getUrl()&&(F=!1),F)if(g.serializeProperty)c.p[Y]=g.serializeProperty(V,Y,this);else{var G=g.getParent&&g.getParent();c.p[Y]=G&&G.serializeChildProperty?G.serializeChildProperty(V,Y,g,this):this.serializeProperty(V,Y,g)}}}},serializeAttrs:function(k,$){var M,J=$.getSerializableAttrs(),V=$.getClass();for(var d in J){M||(M=$ instanceof z.graph3d.Graph3dView?Jf:new V);var l=$.a(d),x=!1;this.isSameValue(l,M.a(d))||(x=!0),x&&(k.attr[d]=$.serializeProperty?$.serializeProperty(l,d,this):this.serializeProperty(l,d,$))}},serializeFields:function(J,X){var G,P=X.getSerializableFields(),$=X.getClass();for(var w in P){G||(G=X instanceof z.graph3d.Graph3dView?Jf:new $);var Y=X.f(w),H=!1;this.isSameValue(Y,G.f(w))||(H=!0),H&&(J.fields[w]=X.serializeProperty?X.serializeProperty(Y,w,this):this.serializeProperty(Y,w,X))}},$299u:function(j,x){var e;x instanceof z.DataModel?e=x.sm():(e=x.sm(),x=x.dm());for(var Y=j.selection,i=[],k=0;k<Y.length;k++){var h=Y[k];i.push(x.$272u[h.__i])}e.setSelection(i),e.setSelectionMode(j.selectionMode)},deserializeClass:function(j,l,R){if(j.dataModel){var L=new z.DataModel,w=new z.JSONSerializer(L),N=this.setDataId,t=!!(R._wrapper?R._wrapper.isDisableInit():!0);return w.deserialize(j.dataModel,null,{setId:N,view:R,disableInit:t,disableOnPreDeserialize:t,disableOnPostDeserialize:t}),L.$272u=w._82I,this.$299u(j.selectionModel,L),L}if(!j.selectionMode){if(j&&"object"==typeof j&&j.__i!=y)return this.refMap[j.__i]||this.createRefInstance(j.__i,R),this.refMap[j.__i];var A=j.type,E=O.getClass(A),b=new E;return b instanceof z.ui.UIGraphView||b instanceof z.graph3d.Graph3dView?this._options&&b.setDisableInit(this._options.disableInit):(b instanceof z.graph.GraphView||b instanceof z.graph3d.Graph3dView)&&(b._wrapper=R),b}this.$299u(j,R)},deserializeProperty:function(h,_,i){var q=h;if(h&&Jr(h.__a)){for(var n=new z.List,E=0,U=h.__a.length;U>E;E++){var L=h.__a[E];n.add(this.deserializeProperty(L,_,i))}q=n}else if(Jr(h)){for(var T=[],E=0,U=h.length;U>E;E++){var L=h[E];T.push(this.deserializeProperty(L,_,i))}q=T}else if(h&&"string"==typeof h&&"__ht__date"==h.substr(0,10))q=new Date(aj(q.substr(10)));else if(h&&"object"==typeof h&&h.type&&h.p)q=this.deserializeClass(h,_,i),this.deserializeProperties(q,h.p,h),this.deserializeFields(q,h.fields),this.deserializeAttrs(q,h.attr);else if(h&&"object"==typeof h&&h.__r!=y){var f=h.__r,N=f.replace(/.*\/([gimy]*)$/,"$1"),k=f.replace(new RegExp("^/(.*?)/"+N+"$"),"$1");q=new RegExp(k,N)}else if(h&&"object"==typeof h&&h.__i!=y)q=this.refMap[h.__i],q||(q=this.createRefInstance(h.__i,i));else if(h&&"object"==typeof h&&h.selectionMode!=y)q=this.deserializeClass(h,_,i);else if(h&&"bindingData"===_&&i instanceof H.ViewGroup){var S={};for(var x in h)S[x]=this.deserializeProperty(h[x],x,i);q=S}else if(h&&"dropDownConfig"===_&&(i instanceof H.ComboBox||i instanceof H.MultiSelect)){var S={};for(var x in h)S[x]=this.deserializeProperty(h[x],x,i);q=S}return q},deserializeFields:function(D,Z){if(Z)for(var r in Z){var A;A=D.deserializeProperty?D.deserializeProperty(Z[r],r,this,Z):this.deserializeProperty(Z[r],r,D,Z),D.f(r,A)}},deserializeAttrs:function(t,M){if(M)for(var a in M){var G;G=t.deserializeProperty?t.deserializeProperty(M[a],a,this,M):this.deserializeProperty(M[a],a,t,M),t.a(a,G)}},deserializeProperties:function(r,A,P){var o=this;if(o._shipListeners&&P.listeners)for(var s=O.parse(P.listeners),Y=0,U=s.length;U>Y;Y++){var p=s[Y];p=O.parse(p),p.beforeEvent&&r.on(p.name,p.listener,C,C,p.once,C,C,!0)}for(var T in A){var D;D=r.deserializeProperty?r.deserializeProperty(A[T],T,o,A):this.deserializeProperty(A[T],T,r,A),eh.setPropertyValue(r,y,T,D)}if(o._shipListeners&&P.listeners)for(var s=O.parse(P.listeners),Y=0,U=s.length;U>Y;Y++){var p=s[Y];p=O.parse(p),p.beforeEvent||r.on(p.name,p.listener,C,C,p.once)}},createRefInstance:function(y,F){var U=this,J=U.refs,o=J[y],D=U.deserializeClass(o,y,F);return U.refMap[y]=D,D instanceof z.DataModel?U.dataModels.push(D):(U.deserializeProperties(D,o.p,o),U.deserializeFields(D,o.fields),U.deserializeAttrs(D,o.attr)),D},preloads:function(T){T&&Array.isArray(T)&&T.length>0&&T.forEach(function(o){var I=new z.ui.RefViewGroup;I.setAsync(!0),I.setUrl(o)})},deserialize:function(k,C){var N=this;N.refMap={},N.setDataId=C,N.dataModels=[],Sp(k)&&(k=O.parse(k)),N.refs=k.r;var Z=k.c,z=N.deserializeClass(Z);return N.deserializeProperties(z,Z.p,Z),N.deserializeFields(z,Z.fields),N.deserializeAttrs(z,Z.attr),N.dataModels.forEach(function(I){delete I.$272u}),delete N.dataModels,delete N.refs,delete N.refMap,delete N.setDataId,N.preloads(k.preloads),z}});var $g=z.ui.SimpleDMJSONSerializer=function(b){this.dm=this._dataModel=b};O.def("ht.ui.SimpleDMJSONSerializer",A,{serialize:function(V){return O.stringify(this.toJSON(),V)},toJSON:function(){var Z=this,K=Z.dm,T=K.getRoots(),A=Z.json=[];return T.each(Z.serializeData,this),A},isSerializable:function(){return!0},getProperties:function(D){return D.getSerializableProperties()},getStyles:function(t){return t.getSerializableStyles()},getAttrs:function(B){return B.getSerializableAttrs()},serializeData:function(L){var i=this;if(i.isSerializable(L)){var z,D,q,R,g=O.getClass(L.getClassName())||L.getClass(),d=new g,F={className:L.getClassName(),id:L.getId()};i.json.push(F),z=i.getProperties(L);for(D in z){var Q=y;0===D.indexOf("is:")?Q="is":0===D.indexOf("get:")&&(Q="get"),-1!==D.indexOf("Drawable",D.length-8)&&(Q="get"),D=D.substr(D.indexOf(":")+1),R=_q(D,Q),L[R]&&(q=L[R](),q!==d[R]()&&i.serializeValue(D,q,F,"p"))}z=i.getStyles(L);for(D in z)q=L.s(D),q!==d.s(D)&&i.serializeValue(D,q,F,"s");z=i.getAttrs(L);for(D in z)q=L.a(D),q!==d.a(D)&&i.serializeValue(D,q,F,"a")}L.getChildren().each(i.serializeData,i)},serializeValue:function(U,i,t,T){"parent"===U&&(i=i.getId()),"p"===T?t[U]=i:"a"===T?t["a:"+U]=i:"s"===T&&(t["s:"+U]=i)},deserialize:function(E,e,s){var Q=this;return Sp(E)&&/.json$/.test(E)?(O.xhrLoad(E,function(q){Q.deserializeImpl(q,e,s)}),void 0):Q.deserializeImpl(E,e,s)},deserializeImpl:function(D,l,A){var o=this,B=o.dm;A=O.isBoolean(A)?{setId:A}:O.isFunction(A)?{finishFunc:A}:A||{},D=o.json=O.isString(D)?O.parse(D):D,o._82I={};for(var K=new I,x=new I,N=0,E=D.length;E>N;N++){var Y=D[N],p=Ee(Y.className),C=new p,X=Y.id;A.setId&&X!=y&&(C._id=X),o._82I[X]=C,K.add(C),x.add(Y)}for(N=0;E>N;N++)o.deserializeData(K.get(N),x.get(N));return K.each(function(H){l&&!H.getParent()&&H.setParent(l),B.add(H)}),K},deserializeData:function(h,_){for(var V in _)"id"===V||("parent"===V?h.setParent(this._82I[_[V]]):"className"===V||(0===V.indexOf("a:")?h.a(V.substr(2),_[V]):0===V.indexOf("s:")?h.s(V.substr(2),_[V]):h[mi(V)]?h[mi(V)](_[V]):h[V]=_[V]))}}),H.Form=function(Z){Z&&this.setViewGroup(Z)},sf("ht.ui.Form",A,{ms_fire:!0,ms_ac:["viewGroup","formDataNameWarnDisabled"],addChangeListener:function(L,Y,D){var W=this;W.$273u||(W.$273u=new b),W.$273u.add(L,Y,D)},removeChangeListener:function(C,p){this.$273u&&this.$273u.remove(C,p)},fireChangeEvent:function(i){var m=this;m.$273u||(m.$273u=new b);var t=i.oldValue,F=i.newValue;"jsonChange"===i.kind&&(null==t&&(t={}),null==F&&(F={})),fe(t,F)||m.$273u.fire(i)},isFormDataView:function(V){return V.getFormDataName&&V.getFormDataName()?!0:void 0},getFormDataName:function(m){return m.getFormDataName(m)},getFormDataValue:function(n){return n.getFormDataValue()},onPropertyChanged:function(T){var S=this,Y=T.property;if("viewGroup"===Y){var k=T.oldValue;S.invalidateViewGroup(k)}},$295u:function(d){if(d.property===Sj&&d.source!==this.getViewGroup()){var v=this;v.$298u(d.source),v.invalidateViewGroup(v.getViewGroup())}},$294u:function(A){"children"===A.property&&this.invalidateViewGroup(this.getViewGroup())},invalidateViewGroup:function(U){var b=this;U&&(b.$298u(U),b._json!==C&&(b.$274u=b._json),delete b.$275u,delete b._json),b.$276u||(b.$276u=!0,b.$293u())},stopEditing:function(){for(var j=this,M=j.$275u,b=u.activeElement;b&&!b.htComp;)b=b.parentNode;var w;if(b&&(w=b.htComp),w)for(var W in M){var m=M[W];if(Array.isArray(m))for(var t=0,q=m.length;q>t;t++)w===m[t]&&m[t].stopFormEditing&&m[t].stopFormEditing();else w===m&&m.stopFormEditing&&m.stopFormEditing()}},$293u:function(){var m=this;if(m.$276u){var r=m.getViewGroup(),I=m.$274u;if(r&&(m._json={},m.$275u={},m.$297u(r),m.initJSON(r)),m.fireChangeEvent({kind:"jsonChange",newValue:m._json,oldValue:I,form:m,inRebuild:!0}),!m.isFormDataNameWarnDisabled()){var f=m.$275u;if(f)a:for(var J in f){var W=f[J];if(Jr(W))for(var A=0,R=W.length;R>A;A++){var D=W[A];if(!(D instanceof H.ToggleButton)){console.warn("监测到重复的 formDataName: "+J+", 使用 setFormDataNameWarnDisabled(true) 关闭此警告");break a}}}}delete m.$274u,delete m.$276u}},$296u:function(y){var f=this,t=y.source,Q=y.property;if("formDataName"===Q)f.invalidateViewGroup(f.getViewGroup());else if(("formDataValue"===Q||t.getFormDataProperties()[Q])&&!f._setOuter){var R=f.getFormDataName(t),q=f.getValue(f.$275u[R]),v=f._json[R];f._json[R]=q,f.fireChangeEvent({kind:"formDataValueChange",view:t,name:R,newValue:f._json[R],oldValue:v,form:f})}},$298u:function(D){var i=this;if(D.removePropertyChangeListener(i.$295u,i),D.removePropertyChangeListener(i.$296u,i),D.removePropertyChangeListener(i.$294u,i),D.getChildren)for(var b=D._children,k=b.size(),W=0;k>W;W++){var E=b.get(W);i.isFormDataView(E)&&(E.removePropertyChangeListener(i.$295u,i),E.removePropertyChangeListener(i.$296u,i)),E.getChildren&&i.$298u(E)}},$297u:function(l){var R=this,i=R.$275u,K=l._children,T=K.size();l.addPropertyChangeListener(R.$295u,R),l.addPropertyChangeListener(R.$294u,R);for(var d=0;T>d;d++){var P=K.get(d),n=R.isFormDataView(P);if(n){var A=R.getFormDataName(P);i[A]?Jr(i[A])?i[A].push(P):i[A]=[i[A],P]:i[A]=P,P.addPropertyChangeListener(R.$295u,R),P.addPropertyChangeListener(R.$296u,R)}!n&&P.getChildren&&R.$297u(P)}},getValue:function(D){var v,w=this,Z=!1;if(Jr(D)){v=[];for(var c=0,E=D.length;E>c;c++){Z||D[c].getRadios()==y||D[c].getValue()==y||(Z=!0);var V=w.getFormDataValue(D[c]);V!==C&&v.push(V)}}else v=w.getFormDataValue(D);return Z&&Jr(v)&&(v=v[0]),v},initJSON:function(){var H=this,P=H._json,f=H.$275u;for(var x in f){var Y=f[x];P[x]=H.getValue(Y)}},getFormViewMap:function(){var I=this,u=I.$275u;return u||(I.$293u(),u=I.$275u),u},getFormDataNames:function(){var D=this;return D.$275u||D.$293u(),D.$275u?A.keys(D.$275u):void 0},getFormView:function(x){var E=this,A=E.$275u;return A||(E.$293u(),A=E.$275u),A?A[x]:void 0},getItem:function(N){var O=this,j=O.getJSON();return N?j[N]:void 0},setItem:function(l,b){var c=this,f=c.$275u;if(f||(c.$293u(),f=c.$275u),f){c._setOuter=!0;var k=f[l],P=c._json[l];if(!k)return console.warn("ht.ui.Form#setItem: "+l+" 对应的组件不存在"),c._setOuter=!1,void 0;if(Jr(k))for(var y=0,n=k.length;n>y;y++){var s=k[y];s instanceof H.ToggleButton?s.setFormDataValue(b):s.setFormDataValue(b[y])}else k.setFormDataValue(b);b=c.getValue(k),c._json[l]=b,c.fireChangeEvent({kind:"formDataValueChange",view:k,name:l,newValue:c._json[l],oldValue:P,form:c,fromSetter:!0}),c._setOuter=!1}},setJSON:function(F){F||(F={}),Sp(F)&&(F=O.parse(F));var I=this,E=I.$275u;E||(I.$293u(),E=I.$275u),I._setOuter=!0;for(var i in E){var t=E[i],s=F[i];if(Jr(t))for(var G=0,C=t.length;C>G;G++){var X=t[G];X instanceof H.ToggleButton?X.setFormDataValue(s):X.setFormDataValue(s&&s[G])}else t.setFormDataValue(s)}var u=I._json;I._json=F,I.fireChangeEvent({kind:"jsonChange",newValue:F,oldValue:u,form:I,fromSetter:!0}),I._setOuter=!1},getJSON:function(){var T=this,Y=T._json;return Y==y&&T.$293u(),this._json}}),H.RefViewGroup=function(s){H.RefViewGroup.superClass.constructor.call(this),this.set(s)},sf("ht.ui.RefViewGroup",pf,{ms_ac:["url"],__overflow:"visible",__scrollBarMode:"completelyOff",isAsync:function(){return this._async},setAsync:function(Z){var U=this._async;this._async=Z,this.fp("async",U,Z)},setUpInteractors:function(){},layoutDOM:function(G,p,j,g){var r=this,v=r._view,$=r.getBoxShadow(),c=r.getBorderRadius();if(mh(v,G,p,j,g),$!=y&&r.setBoxShadowStyle($),c!=y){if(Jr(c)){for(var I=c.slice(0),H=0;H<I.length;H++){var e=I[H];Oi(e)&&(I[H]=e+vl)}c=I.join(" ")}else c=aj(c)+vl;r._view.style.borderRadius=c,r.$289u&&(r.$289u.style.borderRadius=c)}else r._view.style.borderRadius="",r.$289u&&(r.$289u.style.borderRadius="")},figurePreferredSize:function(){var R=this,z=R.getVisibleChildren(),m=z.get(0),B=0,r=0;if(m){var j=R.getChildPreferredSize(m);B=j.width,r=j.height}return{width:i(R.getPaddingLeft()+R.getPaddingRight()+R.getBorderLeft()+R.getBorderRight()+B),height:i(R.getPaddingTop()+R.getPaddingBottom()+R.getBorderTop()+R.getBorderBottom()+r)}},initView:function(){var D=this,b=D._view=Sl();b.htComp=D,b._ht=D,b.className="ht_ui_view ht-ui-view",b.setAttribute(S,"ht-view "+D.getClassName())},appendChildDOM:function(I){var K=this;K.getView().appendChild(I.getView())},removeChildDOM:function(q){var v=this;v.getView().removeChild(q.getView())},reloadUrl:function(c){var J=this,i=J.getUrl();if(J.clear(),i){var f=new H.UIJSONSerializer;if(f.setShipListeners(!0),$.test(i)){c&&(i=i.indexOf("?")>0?i+"&ts="+Date.now():i+"?ts="+Date.now()),H._uiRendererLoadedMap||(H._uiRendererLoadedMap={});var e=function(Z){var z=f.deserialize(Z);J.addView(z,{width:"wrap_content",height:"wrap_content"})};if(J.isAsync())kg(i,e);else{var z=kg(i);e(z)}var A=function(W){W.forEach(function(I){I.checkBindings&&I.checkBindings(),!I.getChildren||I instanceof H.RefViewGroup||A(I.getChildren())})};A(J.getChildren())}}},onPropertyChanged:function(I){var D=this,s=I.property;H.RefViewGroup.superClass.onPropertyChanged.call(D,I),"url"===s&&D.reloadUrl()},validateImpl:function(i,A,m,d){var K=this,r=K.getChildren();if(r.size()>0){var b=r.get(0);K.layoutChild(b,i,A,m,d)}},getSerializableProperties:function(){var y=Fb(H.RefViewGroup.superClass.getSerializableProperties.call(this));return delete y.bindingData,delete y.children,y.url=1,y.bindingData=1,y}});var tc=function(k){k=k.trim(),k=k.replace(/\n+/,"\n");for(var b=k.split(/\s+/),P=0,$=0;$<b.length;$++){var m=b[$];if(m.indexOf(">")>0)for(var B=m.split(">"),V=0;V<B.length;V++){var i=B[V],N=i.indexOf("&"),x=i.indexOf(":nth-child(");if(x>=0&&(P+=10),0===N){var K=i.split("&").length-1;P+=10*K}else if(N>0){var K=i.split("&").length-1;P+=10*K+1}else P+=1}else{var w=m.indexOf(":nth-child(");w>=0&&(P+=10);var Y=m.indexOf("&");if(0===Y){var K=m.split("&").length-1;P+=10*K}else if(Y>0){var K=m.split("&").length-1;P+=10*K+1}else P+=1}}return P};!function(){var d=function(A,h,G){var z=new XMLHttpRequest;z.overrideMimeType("text/plain"),z.open("GET",A,G),z.onload=function(J){(200===this.status||0===this.status)&&h(J.target.response)},z.onerror=function(B){console.error(B)},z.send(y)},t=function(h){for(var K,A=/^\s*@import\((.*)\).*$/gm;K=A.exec(h);){var U=K[0],x=K[1];d(x,function(e){e=t(e),e=e.trim();var s=e.length;0===e.indexOf("({")&&e.indexOf("})")===s-2&&(e=e.substring(2,s-2),e=e.trim(),","!==e[e.length-1]&&(e+=",")),h=h.replace(U,e)},!1)}return h||""},E=function(T,e){var n,K=/^\s*@import\((.*)\).*$/gm;if(n=K.exec(T)){var P=n[0],w=n[1];d(w,function(c){c=c.trim();var U=c.length;0===c.indexOf("({")&&c.indexOf("})")===U-2&&(c=c.substring(2,U-2),c=c.trim(),","!==c[c.length-1]&&(c+=",")),T=T.replace(P,c),E(T,e)},!0)}else e(T||"")},l=function(z,Q,B,e){for(var f=A.keys(e),W=0,K=f.length;K>W;W++){var n,X=f[W],w=e[X];if(0===X.indexOf("v:")&&(X=X.substr(2),n=!0),n||w==y||"object"!=typeof w||"layoutParams"===X||X===dd||"dropDownConfig"===X||X===Zm||X===Qc||Jr(w)||w.getSuperClass)B[X]=w;else{var B={},a=Q?Q+" "+X:X;z[a]=B,l(z,a,B,w)}}},w=function(k){if(k){_i&&_i.Default&&_i.Default.parseUIStyle&&(k=_i.Default.parseUIStyle(k)),k=t(k);var x={};return l(x,y,x,eval(k)),x}},L=function(b,X){b&&(_i&&_i.Default&&_i.Default.parseUIStyle&&(b=_i.Default.parseUIStyle(b)),E(b,function(C){var J={};l(J,y,J,eval(C)),X(J)}))};if(U.document){var x=[w("var inputStyle = 'div.ht_ui_view ::-webkit-input-placeholder {     color: ' + ht.ui.uiTheme.placeholderTextColor + '; } div.ht_ui_view ::-moz-placeholder {     /* Mozilla Firefox 19+ */     color: ' + ht.ui.uiTheme.placeholderTextColor + '; } div.ht_ui_view :-ms-input-placeholder {     /* Internet Explorer 10+ */     color: ' + ht.ui.uiTheme.placeholderTextColor + '; } div.ht_ui_view textarea::selection, div.ht_ui_view input::selection {     color: #fff;     background: ' + ht.ui.uiTheme.baseColor + ' } div.ht_ui_view textarea::-moz-selection, div.ht_ui_view input::-moz-selection {     color: #fff;     background: ' + ht.ui.uiTheme.baseColor + ' }';  var styleTag = document.createElement('style'); if (styleTag.styleSheet) {     styleTag.styleSheet.cssText = inputStyle; } else {     styleTag.appendChild(document.createTextNode(inputStyle)); } document.getElementsByTagName('head')[0].appendChild(styleTag);  var minorButtonStyle = {     background: '#FFF',     hoverBackground: ht.ui.uiTheme.hoverBackground,     activeBackground: ht.ui.uiTheme.activeBackground,     textColor: ht.ui.uiTheme.textColor,     hoverTextColor: ht.ui.uiTheme.textColor,     activeTextColor: ht.ui.uiTheme.textColor,     border: new ht.ui.border.LineBorder(1, ht.ui.uiTheme.borderColor) };  var obviousButtonStyle = {     background: ht.ui.uiTheme.baseColor,     hoverBackground: ht.ui.uiTheme.hoverColor,     activeBackground: ht.ui.uiTheme.activeColor,     textColor: '#FFF',     hoverTextColor: '#FFF',     activeTextColor: '#FFF',     border: new ht.ui.border.LineBorder(1, ht.ui.uiTheme.baseColor) };  ({     '&button-warn': {         background: null,         hoverBackground: ht.ui.uiTheme.hoverBackground,         activeBackground: ht.ui.uiTheme.activeBackground,         textColor: '#FF0033',         hoverTextColor: '#FF0033',         activeTextColor: '#FF0033',         border: new ht.ui.border.LineBorder(1, '#FF0033')     },     '&button-obvious': obviousButtonStyle,     '&button-minor': minorButtonStyle,     '&breadcrumb-arrow': {         itemBackground: ['ht.ui.drawable.BreadcrumbItemBackgroundDrawable', 1, ht.ui.uiTheme.baseColor],         hoverItemBackground: ['ht.ui.drawable.BreadcrumbItemBackgroundDrawable', 1, ht.ui.uiTheme.baseColor, ht.ui.uiTheme.hoverBackground],         activeItemBackground: ['ht.ui.drawable.BreadcrumbItemBackgroundDrawable', 1, ht.ui.uiTheme.baseColor, ht.ui.uiTheme.activeBackground],         selectItemBackground: ['ht.ui.drawable.BreadcrumbItemBackgroundDrawable', 1, ht.ui.uiTheme.baseColor, ht.ui.uiTheme.baseColor],         itemGap: -6,         selectItemTextColor: '#fff',         itemPadding: [6, 16, 6, 16],         separator: null     },     '&buttongroup>ht.ui.Button*,ht.ui.HButtonGroup>ht.ui.Button*,ht.ui.VButtonGroup>ht.ui.Button*': {         padding: [5, 17, 5, 17],         background: '#fff',         disabledBackground: ht.ui.uiTheme.dimColor,         hoverBackground: '#f7f7f7',         activeBackground: '#ebebeb',         selectBackground: ht.ui.uiTheme.baseColor,         selectHoverBackground: null,         selectActiveBackground: null,         textColor: ht.ui.uiTheme.baseColor,         hoverTextColor: ht.ui.uiTheme.baseColor,         activeTextColor: ht.ui.uiTheme.baseColor,         selectTextColor: '#fff',         disabledTextColor: ht.ui.uiTheme.textDimColor,         preferredSize: null,         border: ['ht.ui.border.LineBorder', 1, ht.ui.uiTheme.baseColor],         disabledBorder: null     },     'ht.ui.HButtonGroup>ht.ui.RadioButton*,ht.ui.VButtonGroup>ht.ui.RadioButton*': {         background: undefined,         hoverBackground: undefined,         activeBackground: undefined,         disabledBackground: undefined,         selectBackground: undefined,         selectDisabledBackground: undefined,         selectHoverBackground: undefined,         selectActiveBackground: undefined,          textColor: ht.ui.uiTheme.textColor,         hoverTextColor: ht.ui.uiTheme.textColor,         activeTextColor: ht.ui.uiTheme.textColor,         selectTextColor: ht.ui.uiTheme.textColor     },     '&progressbar-thin': {         preferredSize: {             width: 120,             height: 2         }     },     '&textfield-search': {         border: new ht.ui.border.LineBorder(1, ht.ui.uiTheme.borderColor),         icon: 'propertypane_search',         iconPosition: 'right'     },     '&tablayout-line-outside': {         titleColor: ht.ui.uiTheme.textColor,         activeTitleColor: ht.ui.uiTheme.baseColor,         tabBackground: null,         hoverTabBackground: ['ht.ui.drawable.ColorDrawable', ht.ui.uiTheme.hoverBackground],         activeTabBackground: ['ht.ui.drawable.TabBackgroundLineDrawable', 2, ht.ui.uiTheme.baseColor, 'outside'],         moveTabBackground: ['ht.ui.drawable.TabBackgroundLineDrawable', 2, ht.ui.uiTheme.baseColor, 'outside']     },     '&tablayout-buttongroup': {         tabBackground: ['ht.ui.drawable.TabBackgroundDrawable', 1, ht.ui.uiTheme.baseColor],         hoverTabBackground: ['ht.ui.drawable.TabBackgroundDrawable', 1, ht.ui.uiTheme.baseColor, ht.ui.uiTheme.hoverBackground],         activeTabBackground: ['ht.ui.drawable.TabBackgroundDrawable', 1, ht.ui.uiTheme.baseColor, ht.ui.uiTheme.baseColor],         moveTabBackground: ['ht.ui.drawable.TabBackgroundDrawable', 1, ht.ui.uiTheme.baseColor, '#fff'],         activeTitleColor: '#fff',         titleColor: ht.ui.uiTheme.baseColor,         tabHeaderLineSize: 0     } })")],r=U.htconfig&&U.htconfig.extendedUIStyles,a=U.document.querySelectorAll('link[rel="ht-style"]'),k=U.document.querySelectorAll('script[rel="ht-style"]');
r&&(Uj(r)&&(r=r()),x.push(r));for(var K=0;K<a.length;K++){var Q=a[K],B=Q.href;try{d(B,function(h){var u=w(h);u&&x.push(u)},!1)}catch(W){console.error(W)}}for(var K=0;K<k.length;K++){var M=k[K];try{var c=M.innerHTML,M=w(c);M&&x.push(M)}catch(W){console.error(W)}}var z=function(j){for(var J=0;J<j.length;J++){var W=j[J];for(var f in W)if(f.indexOf(",")<0){var z=tc(f);A.defineProperty(W[f],"_priority",{value:z,enumerable:!1})}}};z(x);var T=!1,F=function(){T||(T=!0,no(function(){X()}))},X=function(){for(var w=u.querySelectorAll("div.ht_ui_view"),_=[],e=0,P=w.length;P>e;e++){var l=w[e],z=l.htComp;if(z)for(;z;){var F=z._parent;if(!F){_.indexOf(z)<0&&_.push(z);break}z=F}}for(var e=0,P=_.length;P>e;e++){var n=_[e];n.refreshStyles()}m++,T=!1};Nf(O,{uiStyles:x,loadUIStyle:function(P,s,Z){var Y=O.loadedUIStyles;Y||(O.loadedUIStyles=Y={});try{Y[P]={};var E=!0,S=!0;s&&(S=!1,Z?d(Sp(s)?s:s.style,function(w){L(w,function(u){u&&(z([u]),Y[P].style=u,S=!0,E&&S&&Z&&Z())})},!0):L(s,function(F){F&&(z([F]),Y[P].style=F)}))}catch(n){console.error(n)}},removeLoadedUIStyle:function($){var u=O.loadedUIStyles;u&&u[$]&&(delete u[$],0===A.keys(u).length&&(O.loadedUIStyles=y))},clearLoadedUIStyles:function(){O.loadedUIStyles=y},getLoadedUIStyle:function(x){var W=O.loadedUIStyles;return W?W[x]:void 0},invalidateUIStyles:F})}}()}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//form
!function(I,k,E){"use strict";var q="ht",d=q+".widget.",A=I[q],s=A.Color,Q=A.widget,o=s.widgetBorder,l=s.widgetBackground,h=s.widgetIconBorder,g=s.transparent,x=s.background,Y=s.highlight,V=A.Default,$=V.def,R=V.widgetRowHeight,L=V.removeHTML,p=V.drawText,z=V.getTextSize,m=V.isLeftButton,P=V.getWindowInfo,b=V.getImage,r=V.drawCenterImage,w=V.preventDefault,n=V.getLogicalPoint,J=V.labelFont,K=V.labelColor,u=V.labelSelectColor,B=V.widgetIndent,a=V.startDragging,O=V.createElement,i=V.getClientPoint,C=V.scrollBarInteractiveSize,t=V.getInternal(),F=t.addEventListener,D=t.removeEventListener,e=(t.createView,t.createDiv),S=t.createCanvas,v=t.createImage,_=t.setCanvas,M=t.initContext,X=t.translateAndScale,j=t.isString,y=t.drawBorder,c=t.getImageWidth,Z=t.getImageHeight,H=t.fillRect,T=t.layout,N=t.addMethod,W=t.isH,U=V.isTouchable,G=Math.round,f="readonly",Pb=U?"touchstart":"mousedown",xb={x:0,y:0,width:0,height:0},$m=function(G){var Z=G.touches[0];return Z?Z:G.changedTouches[0]},Oo=function(K,L){return K.querySelector(L)},Bq=function(R,G){var u=V.getLogicalPoint(G,R._canvas||R._view);return u.x>=0&&u.y>=0&&u.x<=R.getWidth()&&u.y<=R.getHeight()};N(V,{textFieldFont:J,textFieldColor:K,textFieldBorderColor:o,textAreaFont:J,textAreaColor:K,textAreaBorderColor:o,radioButtonLabelFont:J,radioButtonLabelColor:K,radioButtonPressBackground:o,checkBoxLabelFont:J,checkBoxLabelColor:K,checkBoxPressBackground:o,buttonLabelFont:J,buttonLabelColor:K,buttonLabelSelectColor:u,buttonBackground:l,buttonBorderColor:o,buttonSelectBackground:Y,sliderBackground:s.widgetIconBackground,sliderLeftBackground:s.widgetIconHighlight,sliderThickness:3,sliderPadding:4,sliderButton:v(14,14,{type:"circle",rect:[0,0,14,14],borderWidth:1,borderColor:h,gradient:"linear.northeast",gradientColor:s.widgetIconGradient,background:l}),comboBoxMaxHeight:-1,comboBoxLabelFont:J,comboBoxLabelColor:K,comboBoxLabelSelectColor:u,comboBoxShadowColor:g,comboBoxBorderColor:o,comboBoxBackground:x,comboBoxSelectBackground:Y,comboBoxDropDownIcon:v(12,16,{type:"shape",points:[1,5,6,11,11,5],borderWidth:2,borderColor:h}),imageBorderColor:E,imageBackground:E,formPaneLabelColor:K,formPaneLabelFont:J,formPaneLabelAlign:"left",formPaneLabelVAlign:"middle",formPaneHPadding:8,formPaneVPadding:8,formPaneLabelHPadding:2,formPaneLabelVPadding:0,formPaneHGap:6,formPaneVGap:6},!0);var Ah=function(J,E){var w=this;(w._view=t.createView(null,w)).appendChild(w._element=O(J,E)),w.setHeight(R),w.setWidth(80),w.iv()};$(Ah,k,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["toolTip"],onPropertyChanged:function(){this.iv()},getToolTip:function(){return this._toolTip||this.getText()},getElement:function(){return this._element},getText:function(){return this._element.value},setText:function(x){this._element.value=x},getValue:function(){return this.getText()},setValue:function(H){this.setText(H)},getColor:function(){return this._element.style.color},setColor:function(i){this._element.style.color=i},getBackground:function(){return this._element.style.background},setBackground:function(h){this._element.style.background=h},getBorder:function(){return this._element.style.border},setBorder:function(w){this._element.style.border=w},getFont:function(){return this._element.style.font},setFont:function(Y){this._element.style.font=Y},isEditable:function(){return!this._element.hasAttribute(f)},setEditable:function(i){var K=this._element;i?K.removeAttribute(f):K.setAttribute(f,!0)},validateImpl:function(){var E=this;T(E._element,0,0,E.getWidth(),E.getHeight())},setFocus:function(){return V.setFocus(this._element),this.fireViewEvent("focus"),!0}}),Q.TextField=function(){Q.TextField.superClass.constructor.call(this,"input",V.textFieldBorderColor),this.setColor(V.textFieldLabelColor),this.setFont(V.textFieldLabelFont)},$(d+"TextField",Ah,{getType:function(){return this._element.getAttribute("type")},setType:function(e){var g=this._element,I=V.numberListener;g.setAttribute("type",e),D(g,"keydown",I,!1),"number"===e&&F(g,"keydown",I,!1)}}),Q.TextArea=function(){Q.TextArea.superClass.constructor.call(this,"textarea",V.textAreaBorderColor),this.setColor(V.textAreaLabelColor),this.setFont(V.textAreaLabelFont)},$(d+"TextArea",Ah,{}),Q.Button=function(){var m=this,T=m._view=t.createView(null,m);m.setHeight(R),m.setWidth(80),m._canvas=S(T),new ip(m),m.iv()},$(d+"Button",k,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["groupId","label","icon","iconColor","orientation","toolTip","labelFont","labelColor","labelSelectColor","borderColor","background","selectBackground","togglable","selected","pressed","clickable"],_clickable:!0,_togglable:!1,_selected:!1,_pressed:!1,_orientation:"h",_labelFont:V.buttonLabelFont,_labelColor:V.buttonLabelColor,_labelSelectColor:V.buttonLabelSelectColor,_borderColor:V.buttonBorderColor,_background:V.buttonBackground,_selectBackground:V.buttonSelectBackground,onClicked:function(){},onSelectedChanged:function(){},getValue:function(){return this.isSelected()},setValue:function(c){this.setSelected(c)},onValueChanged:function(){},onPropertyChanged:function(s){var k=this,S=k._view.parentNode;k.iv(),"selected"===s.property&&(null!=k.getGroupId()&&S&&S.handleGroupSelectedChanged&&S.handleGroupSelectedChanged(k),k.onSelectedChanged(),k.onValueChanged(s.oldValue,s.newValue))},getToolTip:function(){return this._toolTip||this._label},getCurrentBackground:function(){return this._pressed||this._selected?this._selectBackground:this._background},getCurrentBorderColor:function(){return this._borderColor},validateImpl:function(){var t=this,s=t._canvas,o=t.getWidth(),L=t.getHeight(),I=t._pressed||t._selected,a=t.getCurrentBackground();_(s,o,L);var m=M(s);X(m,0,0,1),m.clearRect(0,0,o,L),a&&H(m,0,0,o,L,a),y(m,t.getCurrentBorderColor(),0,0,o,L);var A=t._iconColor,D=b(t._icon,A),N=c(D),T=Z(D),w=t._label,S=t.getLabelFont(),C=I?t._labelSelectColor:t._labelColor,j=null==w?xb:z(S,w),d=j.width,U=j.height;W(t)?(N&&r(m,D,o/2-(N+d)/2+N/2,L/2,t,t,A),d&&p(m,w,S,C,o/2-(N+d)/2+N,0,d,L,"center")):(N&&r(m,D,o/2,L/2-(T+U)/2+T/2,t,t,A),d&&p(m,w,S,C,o/2-d/2,L/2-(T+U)/2+T,d,U,"center")),m.restore()}});var ip=function(n){this.button=n,this.addListeners()};$(ip,k,{ms_listener:1,getView:function(){return this.button._view},handle_mousedown:function(y){m(y)&&this.handle_touchstart(y)},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)},handleWindowMouseUp:function(q){this.handleWindowTouchEnd(q)},handle_touchstart:function(Y){w(Y),this.button.setFocus(Y)&&this.button.isClickable()&&(a(this,Y),this.button.setPressed(!0))},handleWindowTouchMove:function(){},handleWindowTouchEnd:function(I){var V=this,z=V.button;z.setPressed(!1),Bq(z,I)&&(z.isTogglable()&&(null!=z.getGroupId()?z.setSelected(!0):z.setSelected(!z.isSelected())),z.onClicked(I))}});var Tk=function(){var X=this,Z=X._view=t.createView(null,X);X.setHeight(R),X.setWidth(80),X._canvas=S(Z),new Se(X),X.iv()};$(Tk,k,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["label","labelFont","labelColor","toolTip","icon","iconColor","selected","pressed","pressBackground","padding"],_padding:0,_selected:!1,_pressed:!1,onClicked:function(){},onSelectedChanged:function(){},onValueChanged:function(){},getValue:function(){return this.isSelected()},setValue:function(G){this.setSelected(G)},onPropertyChanged:function(y){var d=this;d.iv(),"selected"===y.property&&(d.onSelectedChanged(),d.onValueChanged(y.oldvalue,y.newValue))},getToolTip:function(){return this._toolTip||this._label},validateImpl:function(){var K=this,S=K._canvas,P=K.getWidth(),o=K.getHeight(),O=K.getCheckIcon;_(S,P,o);var D=M(S);X(D,0,0,1),D.clearRect(0,0,P,o);var f=K._padding,H=K._iconColor,x=b(O?K.getCheckIcon():K.getRadioIcon()),L=c(x),T=Z(x);K._pressed&&(D.fillStyle=K._pressBackground,D.beginPath(),O?D.rect(f,o/2-T/2,L,T):D.arc(f+L/2,o/2,Math.min(L,T)/2,0,2*Math.PI,!0),D.fill()),r(D,x,f+L/2,o/2,K,K),f+=L+1,x=b(K.getIcon(),H),L=c(x),r(D,x,f+L/2,o/2,K,K,H),f+=L,p(D,K._label,K._labelFont,K._labelColor,f,0,0,o),D.restore()}});var Se=function(y){this.c=y,this.addListeners()};$(Se,k,{ms_listener:1,getView:function(){return this.c._view},handle_mousedown:function(l){m(l)&&this.handle_touchstart(l)},handleWindowMouseMove:function(k){this.handleWindowTouchMove(k)},handleWindowMouseUp:function($){this.handleWindowTouchEnd($)},handle_touchstart:function(r){w(r),this.c.setFocus(r)&&(a(this,r),this.c.setPressed(!0))},handleWindowTouchMove:function(){},handleWindowTouchEnd:function(W){var v=this,I=v.c;I.setPressed(!1),Bq(I,W)&&(I.handleClick(W),I.onClicked(W))}}),Q.CheckBox=function(){Q.CheckBox.superClass.constructor.call(this)},$(d+"CheckBox",Tk,{_labelFont:V.checkBoxLabelFont,_labelColor:V.checkBoxLabelColor,_pressBackground:V.checkBoxPressBackground,getCheckIcon:function(){return this._selected?"check":"uncheck"},handleClick:function(){this.setSelected(!this.isSelected())}}),Q.RadioButton=function(){Q.RadioButton.superClass.constructor.call(this)},$(d+"RadioButton",Tk,{ms_ac:["groupId"],_pressBackground:V.radioButtonPressBackground,_labelFont:V.radioButtonLabelFont,_labelColor:V.radioButtonLabelColor,getRadioIcon:function(){return this._selected?"radioOn":"radioOff"},onPropertyChanged:function(l){var u=this,Z=u._view.parentNode;u.iv(),null!=u.getGroupId()&&"selected"===l.property&&(Z&&Z.handleGroupSelectedChanged&&Z.handleGroupSelectedChanged(u),u.onSelectedChanged(),u.onValueChanged(l.oldValue,l.newValue))},handleClick:function(){this.setSelected(!0)}}),Q.Slider=function(){var b=this,O=b._view=t.createView(null,b);b.setHeight(R),b.setWidth(80),b._canvas=S(O),new _e(b),b.iv(),b.enableToolTip()},$(d+"Slider",k,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["value","min","max","step","button","toolTip","instant","thickness","padding","background","leftBackground"],_min:0,_max:100,_value:50,_step:E,_instant:!0,_button:V.sliderButton,_thickness:V.sliderThickness,_padding:V.sliderPadding,_background:V.sliderBackground,_leftBackground:V.sliderLeftBackground,onPropertyChanged:function(r){var f=this,c=r.property;("min"===c||"max"===c||"step"===c)&&f.setValue(f._value),f.iv()},adjustValue:function(c){null==c&&(c=0);var o=this,y=o._min,w=o._max,m=o._step;return y>c&&(c=y),c>w&&(c=w),m>0&&(c=Math.floor((c-y)/m)*m+y),c},getToolTip:function(){return this._toolTip||this._value},getValue:function(){return this._value},setValue:function(f){var s=this,K=s._value;f=s.adjustValue(f),K!==f&&(s._value=f,s.fp("value",K,f),s.onValueChanged(K,f))},onValueChanged:function(){},onBeginValueChanged:function(){},onEndValueChanged:function(){},drawBackground:function(Y,V,n,X,W){H(Y,V,n,X,W,this.getBackground())},drawLeftBackground:function(x,n,b,w,B){var g=this.getLeftBackground();g&&H(x,n,b,w,B,g)},drawButton:function(c,H,A,W,P){r(c,b(this._button),H+W/2,A+P/2,this,this)},getButtonWidth:function(){var G=b(this._button);return G?G.width:0},validateImpl:function(){var t=this,c=t._canvas,J=t._min,S=t._max,m=t._value,o=t._padding,F=t._thickness,j=t.getWidth(),N=t.getHeight(),u=t.getButtonWidth(),w=(N-F)/2,l=u/2+(m-J)/(S-J)*(j-2*o-u);_(c,j,N);var k=M(c);X(k,0,0,1),k.clearRect(0,0,j,N),t.drawBackground(k,o,w,j-2*o,F),t.drawLeftBackground(k,o,w,l,F),t.drawButton(k,o+l-u/2,0,u,N),k.restore()}});var _e=function(G){this.slider=G,this.addListeners()};$(_e,k,{ms_listener:1,getView:function(){return this.slider._view},handle_mousedown:function(u){m(u)&&this.handle_touchstart(u)},handleWindowMouseMove:function(q){this.handleWindowTouchMove(q)},handleWindowMouseUp:function(V){this.handleWindowTouchEnd(V)},setValue:function(w){var H=this.slider,f=H.getPadding()+H.getButtonWidth()/2,J=H.getMin();H.setValue(J+(n(w,H._canvas).x-f)/(H.getWidth()-2*f)*(H.getMax()-J))},handle_touchstart:function(O){var v=this;w(O),v.slider.setFocus(O)&&(v.slider.onBeginValueChanged(),v.setValue(O),a(v,O),V.showToolTip(O,v.slider.getToolTip(O)))},handleWindowTouchMove:function(F){this.setValue(F),V.showToolTip(F,this.slider.getToolTip(F))},handleWindowTouchEnd:function(H){this.setValue(H),this.slider.onEndValueChanged(),V.hideToolTip()}}),Q.ComboBox=function(){var f=this,v=f._view=t.createView(null,f),k=f._listView=new Q.ListView,M=f._canvas=S(v),j=k._view,g=k.sm();f.setHeight(R),f.setWidth(80),g.setSelectionMode("single"),k.drawRow=function(S,B,k,U,W,b,u){f.drawRow(S,B,k,U,W,b,u)},v.style.display="inline-block",t.setBorder(v,V.comboBoxBorderColor),j.style.boxShadow="0px 0px 10px "+V.comboBoxShadowColor,null!=V.baseZIndex&&(j.style.zIndex=parseInt(V.baseZIndex)+1+""),F(j,"mousemove",function(m){g.ss(k.getDataAt(m))},!1),F(j,"keydown",function(k){if(t.isEnter(k)){var P=g.ld();P&&(f.setValue(P.value),f.close())}t.isEsc(k)&&f.close()},!1),F(v,"keydown",function(X){(t.isDown(X)||t.isUp(X))&&f.open()},!1),k.onDataClicked=function(Q){f.setValue(Q.value),f.close()},F(v,Pb,function(U){if(m(U)){var K=U.target;(K===M||K===v)&&(w(U),f.toggle())}},!1),f._handleWindowClick=function(k){if(m(k)){var D=k.target;D===f._input||j.contains(D)||D===v||(f._input?f.setInputValue(f._input):f.close())}},f.iv()},V.def(d+"ComboBox",k,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["dropDownIcon","dropDownWidth","dropDownBackground","toolTip","strict","indent","background","labelFont","labelColor","labelSelectColor","maxHeight","selectBackground","value","values","labels","icons","editable"],_strict:!0,_editable:!1,_maxHeight:V.comboBoxMaxHeight,_labelFont:V.comboBoxLabelFont,_labelColor:V.comboBoxLabelColor,_labelSelectColor:V.comboBoxLabelSelectColor,_background:V.comboBoxBackground,_dropDownWidth:E,_dropDownIcon:V.comboBoxDropDownIcon,_dropDownBackground:V.comboBoxBackground,_selectBackground:V.comboBoxSelectBackground,_indent:B,getInput:function(){return this._input},getListView:function(){return this._listView},onPropertyChanged:function(T){this.iv(),"value"===T.property&&this.onValueChanged(T.oldValue,T.newValue)},onValueChanged:function(){},getToolTip:function(){return this._toolTip||this.toLabel(this._value)},getLabelColor:function(f,C){return C?this._labelSelectColor:this._labelColor},isEqual:function(c,f){return this._strict?c===f:c==f},toLabel:function(l){var b=this,O=b._values,_=b._labels;if(_&&O&&_.length===O.length)for(var n=0;n<O.length;n++)if(b.isEqual(O[n],l))return _[n];return null==l?"":l+""},toIcon:function(j){var Q=this,o=Q._values,J=Q._icons;if(J&&o&&J.length===o.length)for(var V=0;V<o.length;V++)if(Q.isEqual(o[V],j))return J[V];return null},drawValue:function(Q,A,j,i,n,x,N){var L=this,X=L._indent,G=L.toLabel(A),c=b(L.toIcon(A));c&&(r(Q,c,i+X/2,n+N/2),i+=X),G&&p(Q,G,L.getLabelFont(A,j),L.getLabelColor(A,j),i,n,0,N)},drawRow:function(v,C,T,t,a,c,s){var g=this,E=C.value,B=g._indent;T&&H(v,t,a,c,s,g._selectBackground),g.drawValue(v,E,T,t,a,c-B,s)},validateImpl:function(){var j=this,v=j._canvas,h=j._indent,O=j.getWidth(),F=j.getHeight(),T=O-h,C=j._background||"";j._view.style.background=C,j._listView._view.style.background=j._dropDownBackground,_(v,O,F);var s=M(v);X(s,0,0,1),s.clearRect(0,0,O,F),r(s,b(j._dropDownIcon),T+h/2,F/2,j,j),s.beginPath(),s.rect(0,0,T,F),s.clip(),j.drawValue(s,j._value,!1,0,0,T,F),s.restore()},isOpened:function(){return!!this._listView._view.parentNode},open:function(){var H=this,Z=H._listView,S=Z.dm(),e=H._values||[],z=e.length;if(!H.isOpened()){S.clear();for(var j=0;z>j;j++){var b=new A.Data,h=e[j];b.setName(H.toLabel(h)),b.value=h,S.add(b),H.isEqual(h,H._value)&&S.sm().ss(b)}var s=P(),g=s.left,u=s.top,o=s.height,m=H._view.getBoundingClientRect(),C=m.left+g,p=m.top+u,x=m.height,O=H.getIndent(),_=H.getWidth(),G=H.getHeight(),y=C+1,d=p+x,R=H.getDropDownWidth()||_,l=z*G;if(H._maxHeight>0&&(l=Math.min(l,H._maxHeight)),Z.setRowHeight(G),d+l>u+o&&(p-u>u+o-p-x?(l=Math.min(l,p-u),d=p-l):l=u+o-d),H._editable){var B=H._input=V.createElement("input",H.getSelectBackground(),H.getLabelFont(),H.toLabel(H._value));B.className="ht-widget-combobox-input",A.Default.appendToScreen(B),T(B,C,p+1,_-O,G),F(B,"keydown",function(g){t.isEnter(g)?H.setInputValue(B):t.isEsc(g)&&H.close()},!1),H.onInputCreated(B)}Z.getView().className="ht-widget-combobox-popup",A.Default.appendToScreen(Z.getView()),T(Z,y,d,R,l),Z.setFocus(),A.Default.callLater(function(){F(I,Pb,H._handleWindowClick,!1)}),H.onOpened&&H.onOpened(),t.closePopup(H)}},onInputCreated:function(){},setInputValue:function(w){var l=this,H=l._labels,p=l._values,f=w.value;if(H)for(var i=0;i<H.length;i++)f===H[i]&&(f=p[i]);"string"==typeof f&&p&&p.length&&"number"==typeof p[0]&&(f=parseFloat(f)),l.setValue(f),l.close()},close:function(){var c=this;c.isOpened()&&(L(c._listView._view),c._input&&(L(c._input),delete c._input),D(I,Pb,c._handleWindowClick,!1),c.onClosed&&c.onClosed(),V.popup===c&&delete V.popup),c.setFocus()},toggle:function(){var D=this;D.isOpened()?D.close():D.open()}}),Q.BaseDropDownTemplate=function(l){this._master=l},V.def(d+"BaseDropDownTemplate",k,{ms_ac:["master"],getView:function(){},onOpened:function(){},onClosed:function(){},getValue:function(){},getWidth:function(){},getHeight:function(){}}),Q.MultiComboBox=function(){var M=this,k=M._view=t.createView(null,M),T=M._canvas=S(k);M.setHeight(R),M.setWidth(80),k.style.display="inline-block",t.setBorder(k,V.comboBoxBorderColor),F(k,"keydown",function(S){(t.isDown(S)||t.isUp(S))&&M.open()},!1),F(k,Pb,function(q){if(m(q)){var N=q.target;(N===T||N===k)&&(w(q),M.toggle())}},!1),M._handleWindowClick=function(G){if(m(G)){var P=G.target,J=M._dropDownComponentInstanceView;P===M._input||P===k||J&&J.contains(P)||M.close()}},M.iv()},V.def(d+"MultiComboBox",k,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["dropDownIcon","toolTip","background","labelFont","labelColor","value","editable","indent","dropDownComponent"],_editable:!1,_background:V.comboBoxBackground,_dropDownIcon:V.comboBoxDropDownIcon,_indent:B,_labelFont:V.comboBoxLabelFont,_labelColor:V.comboBoxLabelColor,onPropertyChanged:function(i){var b=this;b.iv(),"value"===i.property&&b.onValueChanged(i.oldValue,i.newValue)},onValueChanged:function(){},getDropDownComponentInstance:function(){return this._dropDownComponentInstance},getToolTip:function(){return this._toolTip},validateImpl:function(){var e=this,q=e._canvas,n=e._indent,A=e.getWidth(),K=e.getHeight(),a=A-n,y=e._background||"";e._view.style.background=y,_(q,A,K);var w=M(q);X(w,0,0,1),w.clearRect(0,0,A,K),r(w,b(e._dropDownIcon),a+n/2,K/2,e,e),w.beginPath(),w.rect(0,0,a,K),w.clip(),this.drawValue(w,0,0,a,K),e._input&&e._input.value!==e._value&&(e._input.value=null==e._value?"":e._value),w.restore()},drawValue:function(K,b,e,j,r){p(K,this._value,this.getLabelFont(),this.getLabelColor(),b+1,e,0,r)},isOpened:function(){var h=this,j=h._dropDownComponentInstanceView;return!!j},open:function(){var _=this;if(!_.isOpened()){var s=V.getClass(_._dropDownComponent),O=_._dropDownComponentInstance=new s(_),U=_._dropDownComponentInstanceView=O.getView(),e=P(),$=e.left,b=e.top,w=e.width,M=e.height,h=_._view.getBoundingClientRect(),Y=h.left+$,c=h.top+b,d=(h.width,h.height),D=_.getIndent(),K=_.getWidth(),H=_.getHeight(),v=Y,f=c+d,R=O.getWidth()||K,C=O.getHeight();if(f+C>b+M&&c-b>b+M-c-d&&(f=c-C),v+R>$+w&&(v-=v+R-$-w),_._editable){var S=_._input=V.createElement("input",V.comboBoxSelectBackground,_.getLabelFont(),_._value);A.Default.appendToScreen(S),T(S,Y,c+1,K-D,H),F(S,"keydown",function(r){t.isEnter(r)?(_.setValue(S.value),_.close(!0)):t.isEsc(r)&&_.close(!0)},!1),_.onInputCreated(S)}U.style.boxShadow="0px 0px 10px "+V.toolTipShadowColor,U.style.position="absolute",null!=V.baseZIndex&&(U.style.zIndex=parseInt(V.baseZIndex)+1+""),A.Default.appendToScreen(U),A.Default.setFocus(U),T(O,v,f,R,C),O.onOpened&&O.onOpened(_._value),F(I,Pb,_._handleWindowClick,!1),_.onOpened&&_.onOpened(),t.closePopup(_),_.fireViewEvent("open")}},onInputCreated:function(){},close:function(n){var s=this;if(s.isOpened()){n||s.setValue(s._dropDownComponentInstance.getValue());var A=s._dropDownComponentInstance,w=s._dropDownComponentInstanceView;A.onClosed&&A.onClosed(),L(w),delete s._dropDownComponentInstanceView,delete s._dropDownComponentInstance,s._input&&(L(s._input),delete s._input),D(I,Pb,s._handleWindowClick,!1),s.onClosed&&s.onClosed(),V.popup===s&&delete V.popup,s.fireViewEvent("close")}s.setFocus()},toggle:function(){var E=this;E.isOpened()?E.close():E.open()}}),Q.Image=function(){var r=this,u=r._view=t.createView(null,r);u.onmousedown=w,r.setHeight(R),r.setWidth(80),r._canvas=S(u),new Bf(r),r.iv()},$(d+"Image",k,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["icon","iconColor","stretch","toolTip","borderColor","background"],_borderColor:V.imageBorderColor,_background:V.imageBackground,_stretch:"centerUniform",onClicked:function(){},onPropertyChanged:function(){this.iv()},validateImpl:function(){var k=this,G=k._canvas,$=k.getWidth(),Y=k.getHeight(),j=k._iconColor,E=b(k._icon,j),u=k._background;_(G,$,Y);var c=M(G);X(c,0,0,1),c.clearRect(0,0,$,Y),u&&H(c,0,0,$,Y,u),this.drawImage(c,E,0,0,$,Y,j),y(c,k._borderColor,0,0,$,Y),c.restore()},drawImage:function(n,v,Q,G,L,O,X){v&&V.drawStretchImage(n,v,this._stretch,Q,G,L,O,null,this,X)}});var Bf=function(T){this.image=T,this.addListeners()};$(Bf,k,{ms_listener:1,getView:function(){return this.image._view},handle_mousedown:function(A){m(A)&&this.handle_touchstart(A)},handleWindowMouseMove:function(K){this.handleWindowTouchMove(K)},handleWindowMouseUp:function(M){this.handleWindowTouchEnd(M)},handle_touchstart:function(Q){w(Q),a(this,Q)},handleWindowTouchMove:function(){},handleWindowTouchEnd:function(C){var V=this,v=V.image;Bq(v,C)&&v.onClicked(C)}});var jg="data:image/png;base64,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",zg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAEACAIAAABdw+MhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALBJREFUeNrs2sEJgDAQRNGJBPuvV5R4FAuYnF4aeGRv+9mx0n0zOQEAAAAAAAAAAAAAAABsAsbK0/3Bk6MLXO1WAQAAAAAAAAAAAAAAAOBLCUn3bGCWWwgAAAAAAAAAAAAAAACA36Z/rzKw7vKIcgEAAAAAAAAAAAAAAADYBIzyzUBmuYUAAAAAAAAAAAAAAAAA2AmM8s1AZrmFAAAAAAAAAAAAAAAAAPht+uWU8AowAGyEi9doBGciAAAAAElFTkSuQmCC",mc="data:image/png;base64,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",Qj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA6SURBVChTY/iPCk6DwRkYoKv0sWPHjiIBBohyCADKQVXBAIr0kSNHoMIwwAC1BAyApkGFYYAS6f//AVzgDAPz1XkAAAAAAElFTkSuQmCC",Hd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNmlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjarY6xSsNQFEDPi6LiUCsEcXB4kygotupgxqQtRRCs1SHJ1qShSmkSXl7VfoSjWwcXd7/AyVFwUPwC/0Bx6uAQIYODCJ7p3MPlcsGo2HWnYZRhEGvVbjrS9Xw5+8QMUwDQCbPUbrUOAOIkjvjB5ysC4HnTrjsN/sZ8mCoNTIDtbpSFICpA/0KnGsQYMIN+qkHcAaY6addAPAClXu4vQCnI/Q0oKdfzQXwAZs/1fDDmADPIfQUwdXSpAWpJOlJnvVMtq5ZlSbubBJE8HmU6GmRyPw4TlSaqo6MukP8HwGK+2G46cq1qWXvr/DOu58vc3o8QgFh6LFpBOFTn3yqMnd/n4sZ4GQ5vYXpStN0ruNmAheuirVahvAX34y/Axk/96FpPYgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAUggAARVYAAA6lwAAF2/XWh+QAAAANUlEQVR42myNsQ0AMAzC8P9Hu0sjpU3YkLFADWBmIInqQsgDAar8kCY6zDtYzfUzte5ROQMAeFAiAMRBE+oAAAAASUVORK5CYII=";
Q.ColorPicker=function(){var h=this;Q.ColorPicker.superClass.constructor.call(h),h.setEditable(!0),h.setDropDownComponent(Q.ColorPickerTemp)},$(d+"ColorPicker",Q.MultiComboBox,{ms_ac:["instant","clearButtonVisible","paletteColors"],_clearButtonVisible:!0,setValue:function(s){var q=this;if(s!==E){var p=q._value;q._value=s,q.fp("value",p,s)}},drawValue:function(K,c,x,b,X){this._value&&(K.beginPath(),K.rect(c+2,x+2,20,X-4),K.fillStyle=this._value,K.fill()),p(K,this._value,this.getLabelFont(),this.getLabelColor(),c+23,x,0,X)}}),Q.ColorPickerTemp=function(c){var f=this,P="px",L=f._view=t.createView(null,f),S=f.$10o=document.createElement("div"),l=f.$12o=e(),K=f._paletteColorsDiv=e(),I=S.style;f._h=360,f._s=100,f._v=100,L.className="colorPickerPopup ht-widget-colorpicker-popup",L.style.position="absolute",L.style.background=A.Color.background||"white",Q.ColorPickerTemp.superClass.constructor.call(f,c);var J='<div style="border: 1px solid rgba(0, 0, 0, 0); position: absolute; width: 40px; height: 20px; top: 5px; left: 5px; bottom: 5px; background: url('+Qj+') repeat;"></div>                      <div class= "preview" style="border: 1px solid black; position: absolute; width: 40px; height: 20px; top: 5px; left: 5px; bottom: 5px;"></div>                      <div style="margin-left: 50px; color: '+V.labelColor+";font: "+V.labelFont+'; line-height: 30px;" >                             <span>R:</span><input class="color_R" style="width: 28px;" type="'+(U?"number":"text")+'">                             <span>G:</span><input class="color_G" style="width: 28px" type="'+(U?"number":"text")+'">                             <span>B:</span><input class="color_B" style="width: 28px" type="'+(U?"number":"text")+'">                             <span>A:</span><input class="color_A" style="width: 28px" value="1" type="'+(U?"number":"text")+'">                      </div>',h='<div>        <div class="satval" style="position: absolute;cursor:crosshair;margin-left:5px;top: 6px;border:1px solid black;width:128px;height:128px;background-image: url('+jg+');background-color: red;background-size:contain;">            <div class="satval_pointer" style="position:absolute;left: 124px; top: -3px;width: 7px; height: 7px;background-image: url('+Hd+')"></div>        </div>        <div class="hue_picker" style="position:absolute;width: 46px; height: 140px;left: 152px;top:0;">            <div class="hue_image" style="border: 1px solid black;position:absolute;left:7px;top:6px;width:30px; height:128px; background: url('+zg+');background-size:contain;"></div>            <div class="hue_pointer" style="position:absolute;top:1px;left:0;width:46px; height:12px; background: url('+mc+')"></div>        </div>        <div style="position: absolute; left: 210px;top:6px;">        <input type="button" value="&#10003" class="color_ok" style="color: '+V.labelColor+'"><br><br>        <input type="button" value="&#10005" class="color_clear" style="color: '+V.labelColor+'">        </div>        </div>';I.font=V.labelFont,I.height=30+P,I.lineHeight=30+P,I.position="relative",I.whiteSpace="nowrap",S.innerHTML=J,l.innerHTML=h;var d=c.getPaletteColors(),j=f.calculatePaletteWidth();if(d&&d.length>0)for(var D=0;D<d.length;D++)for(var X=0;X<d[D].length;X++){var g=d[D][X],G=e();G.style.left=5+X*(j+5)+"px",G.style.background=g,G.style.width=j+"px",G.style.height=j+"px",G.style.top=5+D*(j+5)+"px",G.style.border="1px solid black",G.style.boxSizing="border-box",G.className="colorPalette",G._color=g,K.appendChild(G)}K.style.top="166px",L.appendChild(S),L.appendChild(l),L.appendChild(K),F(L,"click",function(x){var Y=x.target,t=Y.className;if("color_ok"===t)f.$13o=f.$9o(),c.close();else if("color_clear"===t)f.$13o=null,c.close();else if(["color_R","color_G","color_B","color_A"].indexOf(t)>=0)Y.select();else if("colorPalette"===t){var S=Y._color;f.$13o=S,c.close()}});var C=function(G){var t,E=G.target,Y=E.className,d=!1;["color_R","color_G","color_B"].indexOf(Y)>=0?(t=parseInt(E.value),E.value=t>=0&&255>=t?parseInt(E.value):0,d=!0):"color_A"===Y&&(t=parseFloat(E.value),E.value=t>=0&&1>=t?parseFloat(E.value):0,d=!0),d&&f.updateInputChange()};F(L,"keydown",function(L){var O=L.target,o=O.className;["color_R","color_G","color_B","color_A","color_ok","color_clear"].indexOf(o)>=0&&13==L.keyCode&&(C(L),f.$13o=f.$9o(),c.close())}),new Jg(f),F(L,"change",C);var $=Oo(L,".color_clear");c._clearButtonVisible||($.style.display="none"),A.Default.onElementCreated&&(A.Default.onElementCreated(L.querySelector("input.color_R")),A.Default.onElementCreated(L.querySelector("input.color_G")),A.Default.onElementCreated(L.querySelector("input.color_B")),A.Default.onElementCreated(L.querySelector("input.color_A")),A.Default.onElementCreated(L.querySelector(".color_ok")),A.Default.onElementCreated(L.querySelector(".color_clear"))),A.Default.onWidgetColorPickerCreated&&A.Default.onWidgetColorPickerCreated(this)},$(Q.ColorPickerTemp,Q.BaseDropDownTemplate,{updateInputChange:function(){var o=this,K=o._view,P=o.$9o();K.querySelector(".preview").style.backgroundColor=P;var $=A.Default.toColorData(P);if($){var y=(4===$.length?$[3]/255:1,o.$5o($[0]/255,$[1]/255,$[2]/255)),R=Oo(K,".satval_pointer");o._h=G(360*y.h),o._s=G(100*y.s),o._v=G(100*y.v),R.style.left=127*y.s-3+"px",R.style.top=127-127*y.v-3+"px",Oo(K,".hue_pointer").style.top=128-127*y.h+"px";var C=o.$2o(o._h/360,1,1);K.querySelector(".satval").style.backgroundColor=o.$4o(C.r,C.g,C.b,!0)}o._master._instant&&o._master.setValue(o.$9o())},$6o:function(u){var N=this,i=N._view,y=N._master,l=N._h,D=N._s,S=N._v,M=N.$2o(l/360,D/100,S/100),Q=M.r,Z=M.g,J=M.b;i.querySelector("input.color_R").value=G(255*Q),i.querySelector("input.color_G").value=G(255*Z),i.querySelector("input.color_B").value=G(255*J);var o=N.$9o();i.querySelector(".preview").style.backgroundColor=o;var t=N.$2o(l/360,1,1);i.querySelector(".satval").style.backgroundColor=N.$4o(t.r,t.g,t.b,!0),!u&&y._instant&&y.setValue(o)},$5o:function(J,B,h){var l,s,T=Math.max(Math.max(J,B),h),i=Math.min(Math.min(J,B),h),v=T;if(i==T)l=0,s=0;else{var X=T-i;s=X/T,l=J==T?(B-h)/X:B==T?2+(h-J)/X:4+(J-B)/X,l/=6,0>l&&(l+=1),l>1&&(l-=1)}return{h:l,s:s,v:v}},$4o:function(L,x,b,n){return L=G(255*L),x=G(255*x),b=G(255*b),n==E&&(n=!0),L=L.toString(16),1==L.length&&(L="0"+L),x=x.toString(16),1==x.length&&(x="0"+x),b=b.toString(16),1==b.length&&(b="0"+b),((n?"#":"")+L+x+b).toUpperCase()},$3o:function(b,T,c){c==E&&(c=null),"#"==b.substr(0,1)&&(b=b.substr(1));var M,I,v;if(3==b.length)M=b.substr(0,1),M+=M,I=b.substr(1,1),I+=I,v=b.substr(2,1),v+=v;else{if(6!=b.length)return c;M=b.substr(0,2),I=b.substr(2,2),v=b.substr(4,2)}return M=parseInt(M,16),I=parseInt(I,16),v=parseInt(v,16),isNaN(M)||isNaN(I)||isNaN(v)?c:T?{r:M,g:I,b:v}:{r:M/255,g:I/255,b:v/255}},$2o:function(b,I,e){var N,H,T;if(0==e)N=0,H=0,T=0;else{var f=Math.floor(6*b),K=6*b-f,h=e*(1-I),s=e*(1-I*K),D=e*(1-I*(1-K));switch(f){case 1:N=s,H=e,T=h;break;case 2:N=h,H=e,T=D;break;case 3:N=h,H=s,T=e;break;case 4:N=D,H=h,T=e;break;case 5:N=e,H=h,T=s;break;case 6:case 0:N=e,H=D,T=h}}return{r:N,g:H,b:T}},$9o:function(){var I=this._view,Y=Oo(I,"input.color_R").value,h=Oo(I,"input.color_G").value,x=Oo(I,"input.color_B").value,i=Oo(I,"input.color_A").value||1;return""===Y||""===h||""===x||""===i?E:1==i?"rgb("+Y+","+h+","+x+")":"rgba("+Y+","+h+","+x+","+i+")"},getView:function(){return this._view},onOpened:function(g){if(g){var u,b=this,a=b._view;if(a.querySelector(".preview").style.backgroundColor=g,u=A.Default.toColorData(g)){var Z=4===u.length?u[3]/255:1,M=b.$5o(u[0]/255,u[1]/255,u[2]/255),U=Oo(a,".satval_pointer");Oo(a,"input.color_R").value=u[0],Oo(a,"input.color_G").value=u[1],Oo(a,"input.color_B").value=u[2],Oo(a,"input.color_A").value=Z.toFixed(2),b._h=G(360*M.h),b._s=G(100*M.s),b._v=G(100*M.v),U.style.left=127*M.s-3+"px",U.style.top=127-127*M.v-3+"px",Oo(a,".hue_pointer").style.top=128-127*M.h+"px",b.$6o(!0)}}},onClosed:function(){},getValue:function(){return this.$13o},calculatePaletteWidth:function(){var $=this,y=($._view,$._master),G=y.getPaletteColors();if(G&&G.length>0){var V=$.getWidth(),h=G[0].length,r=(V-5-5-5*(h-1))/h;return r}},getHeight:function(){var k=this,H=(k._view,k._master),B=H.getPaletteColors(),W=170,A=k.calculatePaletteWidth();return A>0&&(W+=B.length*(A+5)),W},getWidth:function(){return 252}});var Jg=function(x){this.$8o=x,this.setUp()};$(Jg,k,{ms_listener:1,getView:function(){return this.$8o._view},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners(),this.clear()},clear:function(){delete this.$7o},handle_touchstart:function(U){var g=this,K=U.target,y=g.$8o,j=g.getView(),Y=Oo(j,".hue_picker"),e=Oo(j,".satval");Y.contains(K)?(g.$7o=1,g.$1o(U,1)):e.contains(K)&&(g.$7o=2,g.$1o(U,2)),g.$7o&&V.isDoubleClick(U)&&(y.$13o=y.$9o(),y._master.close())},$1o:function(H,q){V.preventDefault(H);var m,y,L,K=this,f=K.$8o,z=K.getView(),n=Oo(z,".hue_picker"),A=Oo(z,".satval");if(H=U?$m(H):H,1===q){m=n.getBoundingClientRect(),L=H.clientY-m.top,L-=7,0>L&&(L=0),L>127&&(L=127),Oo(z,".hue_pointer").style.top=L+1+"px";var W=L;W=G(360-W*(360/127)),f._h=W,f.$6o()}else if(2===q){m=A.getBoundingClientRect(),y=H.clientX-m.left-1,L=H.clientY-m.top-1,0>y&&(y=0),y>127&&(y=127),0>L&&(L=0),L>127&&(L=127),f._s=G(100*y/127),f._v=G(100-100*L/127);var T=Oo(z,".satval_pointer");T.style.left=y-3+"px",T.style.top=L-3+"px",f.$6o()}},handle_mousedown:function(A){this.handle_touchstart(A)},handle_mouseup:function(D){this.handle_touchend(D)},handle_touchend:function(g){var Z=this;Z.clear(g)},handle_mousemove:function(V){this.handle_touchmove(V)},handle_touchmove:function(){var U=this;U.$7o&&V.startDragging(U)},handleWindowMouseUp:function(M){this.handleWindowTouchEnd(M)},handleWindowTouchEnd:function(v){var I=this;I.clear(v)},handleWindowMouseMove:function(T){this.handleWindowTouchMove(T)},handleWindowTouchMove:function(I){var w=this,o=w.$7o;o&&w.$1o(I,o)}}),Q.FormPane=function(M){var H=this,K=H._view=t.createView(1,H);M||(H._canvas=S(K)),K.appendChild(H._79O=e()),H._rows=[],H._itemMap={},H.iv(),K.handleGroupSelectedChanged=function(h){if(h.isSelected()){var y=h.getGroupId();null!=y&&H._rows.forEach(function(L){var T=L.items;T&&T.forEach(function(V){if(V){var b=V.element;b&&b!==h&&b.setSelected&&b.getGroupId&&b.getGroupId()===y&&b.setSelected(!1)}})})}},new ye(H)},$(d+"FormPane",k,{ms_v:1,ms_fire:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,ms_value:1,ms_ac:["labelColor","labelFont","labelAlign","labelVAlign","vPadding","hPadding","labelHPadding","labelVPadding","hGap","vGap","rows","rowHeight","scrollBarColor","scrollBarSize","autoHideScrollBar"],_29I:xb,_91I:0,_59I:0,_labelColor:V.formPaneLabelColor,_labelFont:V.formPaneLabelFont,_labelAlign:V.formPaneLabelAlign,_labelVAlign:V.formPaneLabelVAlign,_hPadding:V.formPaneHPadding,_vPadding:V.formPaneVPadding,_labelHPadding:V.formPaneLabelHPadding,_labelVPadding:V.formPaneLabelVPadding,_hGap:V.formPaneHGap,_vGap:V.formPaneVGap,_rowHeight:V.widgetRowHeight,_scrollBarColor:V.scrollBarColor,_scrollBarSize:V.scrollBarSize,_autoHideScrollBar:V.autoHideScrollBar,getScrollWidth:function(){return this._91I},getScrollHeight:function(){return this._59I},onPropertyChanged:function(L){var M=this,g=L.property;M.iv(),"translateX"===g?M._42o():"translateY"===g&&M._43o()},adjustTranslateX:function(b){var O=this.getWidth()-this._91I;return O>b&&(b=O),b>0?0:Math.round(b)},adjustTranslateY:function(r){var N=this.getHeight()-this._59I;return N>r&&(r=N),r>0?0:Math.round(r)},setPadding:function(p){this.setVPadding(p),this.setHPadding(p)},getLabelFont:function(U){return U&&U.font?U.font:this._labelFont},getLabelColor:function(_){return _&&_.color?_.color:this._labelColor},getLabelAlign:function(S){return S&&S.align?S.align:this._labelAlign},getLabelVAlign:function(O){return O&&O.vAlign?O.vAlign:this._labelVAlign},getRowBorderColor:function(d){return d?d.borderColor:null},getRowBackground:function(z){return z?z.background:null},getItemBorderColor:function(z){return z?z.borderColor:null},getItemBackground:function(g){return g?g.background:null},getItemById:function(l){return this._itemMap[l]},getViewById:function(D){var w=this.getItemById(D);return w?w.element:null},getItemView:function(d){if(d){var M=d.element;if(M){if(M.tagName)return M;if(M.getView)return M.getView()}}return null},updateItemElement:function(o,g){var O=this,b=O.getItemById(o);if(b){var n=O.getItemView(b);n&&O._view.removeChild(n),b.element=g,n=O.getItemView(b),n&&(n.style.position="absolute",O._view.insertBefore(n,O._79O)),O.iv()}},addRow:function(j,a,v,V){var l=this,C=l._view;if(j){for(var B=0;B<j.length;B++){var F=j[B];F&&((F.tagName||F.getView)&&(j[B]={element:F}),t.initItemElement(F),null!=F.id&&(l._itemMap[F.id]=F))}j.forEach(function(w){var Z=l.getItemView(w);Z&&(Z.style.position="absolute",C.insertBefore(Z,l._79O))})}var x=V||{};return x.items=j,x.widths=a,x.height=v,null==x.index?l._rows.push(x):l._rows.splice(x.index,0,x),l.iv(),x},removeRows:function(S){if(S){var A=this,q=[];S.forEach(function(R){R.items&&R.items.forEach(function(f){var o=A.getItemView(f);o&&o.parentNode&&o.parentNode.removeChild(o),f&&null!=f.id&&delete A._itemMap[f.id]})}),A._rows.forEach(function(v){S.indexOf(v)<0&&q.push(v)}),A._rows=q,A.iv()}},removeRow:function(A){var w;w=A&&"object"==typeof A?[A]:[this._rows[A]],this.removeRows(w)},clear:function(){for(var e=this,W=e._view;W.firstChild;)W.removeChild(W.firstChild);e._canvas&&W.appendChild(e._canvas),W.appendChild(e._79O),e._rows=[],e._itemMap={},e.iv()},validateImpl:function(){var b,g,R,C,k,O,z=this,i=z._canvas,u=z._rowHeight,D=z.getWidth(),o=z.getHeight(),n=z._hPadding,$=z._vPadding,c=z._vGap,E=z.ty(),m=z.tx(),S=D-2*n,h=o-2*$,A=z._rows,t=A.length,q=0,d=h-(t-1)*c;for(z._29I={x:-m,y:-E,width:D,height:o},i&&(_(i,D,o),O=M(i),X(O,0,0,1),O.clearRect(0,0,D,o)),R=0;t>R;R++)C=A[R],k=C.height,null==k?d-=u:j(k)?(b=k.split("+"),g=parseFloat(b[0]),g>1?d-=g:q+=g,g=parseFloat(b[1]),g>1?d-=g:q+=g):k>1?d-=k:q+=k;0>d?(z._59I=o-d,d=0):z._59I=o;var Y=$+E,L=D;for(R=0;t>R;R++){C=A[R],k=C.height,null==k?k=u:j(k)?(b=k.split("+"),g=parseFloat(b[0]),k=g>1?g:g/q*d,g=parseFloat(b[1]),k+=g>1?g:g/q*d):1>=k&&(k=k/q*d);var Q=n+m;if(O){var N=z.getRowBorderColor(C),s=z.getRowBackground(C);s&&H(O,Q,Y,S,k,s),N&&y(O,N,Q,Y,S,k)}var f=z.validateRow(O,D,C.items,C.widths,Q,Y,S,k);f>L&&(L=f),Y+=k+c}O&&O.restore(),z._91I=L,z._92I(),z._93I(),z.tx(z.tx()),z.ty(z.ty())},validateRow:function(W,a,c,m,J,M,h,P){if(!c)return 0;var q,k,I,D,n,B=this,d=a,x=B._hGap,s=c.length,A=0,p=h-(s-1)*x;for(I=0;s>I;I++)D=m[I],j(D)?(q=D.split("+"),k=parseFloat(q[0]),k>1?p-=k:A+=k,k=parseFloat(q[1]),k>1?p-=k:A+=k):D>1?p-=D:A+=D;for(0>p&&(d-=p,p=0),I=0;s>I;I++){if(n=c[I],D=m[I],j(D)?(q=D.split("+"),k=parseFloat(q[0]),D=k>1?k:k/A*p,k=parseFloat(q[1]),D+=k>1?k:k/A*p):1>=D&&(D=D/A*p),n){if(W){var K=B.getItemBorderColor(n),l=B.getItemBackground(n);l&&H(W,J,M,D,P,l),K&&y(W,K,J,M,D,P)}B.validateItem(W,n,J,M,D,P)}J+=D+x}return d},validateItem:function(q,y,D,H,L,I){var l,Y=this,W=y.element;W&&!j(W)?T(W,D,H,L,I):q&&(j(y)?l=y:j(y.element)&&(l=y.element),l&&(q.save(),q.beginPath(),q.rect(D,H,L,I),q.clip(),p(q,l,Y.getLabelFont(y),Y.getLabelColor(y),D+Y._labelHPadding,H-Y._labelVPadding,L-2*Y._labelHPadding,I-2*Y._labelVPadding,Y.getLabelAlign(y),Y.getLabelVAlign(y)),q.restore()))}});var ye=function(T){this.f=T,this.addListeners()};$(ye,k,{ms_listener:1,getView:function(){return this.f._view},handle_mousedown:function(z){m(z)&&this.handle_touchstart(z)},handleWindowMouseMove:function(M){this.handleWindowTouchMove(M)},handleWindowMouseUp:function(N){this.handleWindowTouchEnd(N)},handle_touchstart:function(l){var M,h=this,e=h.f,W=l.target;h.isV(l)?M="v":h.isH(l)?M="h":(W===h.getView()||e._79O.contains(W))&&(M="p"),(h.s=M)&&(h.cp=i(l),h.tx=e.tx(),h.ty=e.ty(),w(l),a(h,l))},handle_mousemove:function(c){var Y=this,g=Y.f;Y.isV(c)&&g._43o(),Y.isH(c)&&g._42o()},handleWindowTouchMove:function(p){var F=this,L=F.f,J=F.s,Y=F.tx,C=F.ty,_=F.cp,l=i(p),t=L._29I;"p"===J?L.setTranslate(Y+l.x-_.x,C+l.y-_.y):"v"===J?L.ty(C+(_.y-l.y)*L._59I/t.height):"h"===J&&L.tx(Y+(_.x-l.x)*L._91I/t.width)},handleWindowTouchEnd:function(){},handle_mousewheel:function(A){this.h(A,A.wheelDelta/40,A.wheelDelta!==A.wheelDeltaX)},handle_DOMMouseScroll:function(O){this.h(O,-O.detail,1)},h:function(O,D,V){var C=this.f;w(O),t.closePopup(),V&&C._41o()?C.translate(0,10*D):C._40o()&&C.translate(10*D,0)},isV:function(Z){var R=this.f,w=R._29I;return R._41o()&&w.x+w.width-R.lp(Z).x<C},isH:function(H){var o=this.f,w=o._29I;return o._40o()&&w.y+w.height-o.lp(H).y<C}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//cssanimation
!function(r,k,U){"use strict";var D,m,_="ht",G=r[_],d=G.Default,s=d.getInternal(),o=s.addEventListener,E=s.removeEventListener,L=["transitionend","webkitTransitionEnd"],P=null,I=r.parseInt,V=r.isNaN,l={linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)","ease-in":"cubic-bezier(0.420, 0.000, 1.000, 1.000)","ease-out":"cubic-bezier(0.000, 0.000, 0.580, 1.000)","ease-in-out":"cubic-bezier(0.420, 0.000, 0.580, 1.000)","ease-in-quad":"cubic-bezier(0.550, 0.085, 0.680, 0.530)","ease-in-cubic":"cubic-bezier(0.550, 0.055, 0.675, 0.190)","ease-in-quart":"cubic-bezier(0.895, 0.030, 0.685, 0.220)","ease-in-quint":"cubic-bezier(0.755, 0.050, 0.855, 0.060)","ease-in-sine":"cubic-bezier(0.470, 0.000, 0.745, 0.715)","ease-in-expo":"cubic-bezier(0.950, 0.050, 0.795, 0.035)","ease-in-circ":"cubic-bezier(0.600, 0.040, 0.980, 0.335)","ease-in-back":"cubic-bezier(0.600, -0.280, 0.735, 0.045)","ease-out-quad":"cubic-bezier(0.250, 0.460, 0.450, 0.940)","ease-out-cubic":"cubic-bezier(0.215, 0.610, 0.355, 1.000)","ease-out-quart":"cubic-bezier(0.165, 0.840, 0.440, 1.000)","ease-out-quint":"cubic-bezier(0.230, 1.000, 0.320, 1.000)","ease-out-sine":"cubic-bezier(0.390, 0.575, 0.565, 1.000)","ease-out-expo":"cubic-bezier(0.190, 1.000, 0.220, 1.000)","ease-out-circ":"cubic-bezier(0.075, 0.820, 0.165, 1.000)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.320, 1.275)","ease-in-out-quad":"cubic-bezier(0.455, 0.030, 0.515, 0.955)","ease-in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1.000)","ease-in-out-quart":"cubic-bezier(0.770, 0.000, 0.175, 1.000)","ease-in-out-quint":"cubic-bezier(0.860, 0.000, 0.070, 1.000)","ease-in-out-sine":"cubic-bezier(0.445, 0.050, 0.550, 0.950)","ease-in-out-expo":"cubic-bezier(1.000, 0.000, 0.000, 1.000)","ease-in-out-circ":"cubic-bezier(0.785, 0.135, 0.150, 0.860)","ease-in-out-back":"cubic-bezier(0.680, -0.550, 0.265, 1.550)"},i=d.animate=function(n){var c=this;return c instanceof i?("string"==typeof n&&(n=document.querySelector(n)),D===U&&(D=function(){var J={webkitTransform:"-webkit-transform",msTransform:"-ms-transform",transform:"transform"},I=document.createElement("p");for(var K in J)if(P!=I.style[K])return J[K];return P}()),m===U&&(m=function(){var u=document.body.style;return"transition"in u||"webkitTransition"in u}()),c._el=n,c.$1m={},c.$2m=[],c.$3m=[],c.duration(),c.$4m=new G.Notifier,void 0):new i(n)};d.def(i,k,{transform:function(J){var j=this;return j.$3m.push(J),"-webkit-transform"===D?(j.$5m(D,j.$3m.join(" ")),j.$6m(D),j.$5m("transform",j.$3m.join(" ")),j.$6m("transform")):(j.$5m(D,j.$3m.join(" ")),j.$6m(D)),j},translate:function(l,b){l=l==P?0:l,b=b==P?0:b;var X=V(l)?l:l+"px",d=V(b)?b:b+"px";return this.transform("translate("+X+", "+d+")")},translateX:function(L){return L=L==P?0:L,L=V(L)?L:L+"px",this.transform("translateX("+L+")")},tx:function(m){this.translateX(m)},translateY:function(b){return b=b==P?0:b,b=V(b)?b:b+"px",this.transform("translateY("+b+")")},ty:function(_){this.translateY(_)},scale:function(A,y){return A=V(A)?1:A,y=y==P||V(y)?A:y,this.transform("scale("+A+", "+y+")")},scaleX:function(H){return H=V(H)?1:H,this.transform("scaleX("+H+")")},scaleY:function(D){return D=V(D)?1:D,this.transform("scaleY("+D+")")},rotate:function(k){return k=I(k)||0,this.transform("rotate("+k+"deg)")},skew:function(C,X){return C=I(C)||0,X=I(X)||0,this.transform("skew("+C+"deg, "+X+"deg)")},skewX:function(Q){return Q=I(Q)||0,this.transform("skewX("+Q+"deg)")},skewY:function(v){return v=I(v)||0,this.transform("skewY("+v+"deg)")},$7m:function(D){this._el.$17m=D;for(var l=0;l<L.length;l++)o(this._el,L[l],D)},$8m:function(P){for(var D=0;D<L.length;D++)E(this._el,L[D],P);delete this._el.$17m},$9m:function(x){function c(){q.$8m(c),x.apply(h,arguments)}var q=this,h=q._el;h.$17m&&q.$8m(h.$17m),q.$7m(c)},$5m:function(X,L){this.$1m[X]=L},$10m:function(){var h=this.$1m,z=this._el.style;for(var w in h){var u=h[w];if(w.indexOf("transition-property")>=0){var P=z.getPropertyValue(w);P&&(P.indexOf(u)>=0?u=P:u.indexOf(P)>=0||(u=P+", "+u))}z.setProperty(w,u)}},$11m:function(L,v){this.$5m("-webkit-"+L,v),this.$5m(L,v)},$12m:function(){var f=this._el.style;f.webkitTransition=f.transition=""},duration:function(o){return V(o)&&(o=200),this.$14m=o,this.$11m("transition-duration",o+"ms"),this},delay:function(s){return s=I(s)||0,this.$11m("transition-delay",s+"ms"),this},ease:function(L){return L=l[L]||L||"ease",this.$11m("transition-timing-function",L),this},$6m:function(F){this.$2m.indexOf(F)<0&&this.$2m.push(F)},set:function(F,s){return this.$5m(F,s),this.$6m(F),this},then:function(p){var d=this,U=this.$4m;if(!(p instanceof i)){var X=new i(d._el);return X.$3m=this.$3m.slice(0),d.then(X),X.$15m=d,d.$16m=X,X}return U.add(function(G){"end"===G.kind&&p.end(d.$13m)}),this},pop:function(){return this.$15m},end:function(N){var I=this,A=I.$4m;I.$11m("transition-property",I.$2m.join(", ")),I.$10m(),N&&(I.$13m=N);var u=function(D){I.$12m(),A.fire({kind:"end"}),I.$16m||I.$13m&&I.$13m.call(I,D)};0!==I.$14m&&m?I.$9m(function(a){d.callLater(function(){u(a)},P,P,0)}):u({target:I._el,mock:1})}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//autolayout
!function(Y,W,q){"use strict";var P="ht",o=P+".layout.",u=Y[P]||module.parent.exports.ht,T=null,I=u.Default,z=I.def,x=u.List,w=u.Node,a=u.Edge,X=u.Group,m=Math,O=m.floor,p=m.ceil,v=m.sqrt,n=m.max,r=m.min,H=m.abs,y=m.cos,d=m.sin,f=m.PI,b=2*f,J=f/2,L=m.atan,j=m.atan2,A=m.random,h=m.pow,Q=Number.MAX_VALUE,s=Number.MIN_VALUE,l="circular",V="symmetric",E="hierarchical",e="towardnorth",c="towardsouth",S="towardeast",K="towardwest",g=function(){throw"Oops!"},R=function(Z){return l===Z?new xf:V===Z?new Qb:E===Z?new Tg:Z===e||Z===c||Z===S||Z===K?new Ul:T},F=function(c){return c===K?new $(J):c===S?new $(-J):c===e?new $(f):T},$=function(Z){this.s=d(Z),this.c=y(Z)};$.prototype.tf=function(V,j){return 1===arguments.length&&(j=V.y,V=V.x),{x:this.c*V-this.s*j,y:this.s*V+this.c*j}};var t=function(L,m){this.x=L,this.y=m};z(t,W,{equals:function(s){return this===s?!0:s instanceof t?s.x===this.x&&s.y===this.y:!1}});var U=function(M,A){this.width=M,this.height=A};z(U,W,{});var B=function(S,x){this.x=S,this.y=x};z(B,W,{});var D=function(){var J=arguments;2===J.length?(D.superClass.constructor.call(this,J[1].width,J[1].height),this.x=J[0].x,this.y=J[0].y):(D.superClass.constructor.call(this,J[2],J[3]),this.x=J[0],this.y=J[1])};z(D,U,{});var _=function(E,o){if(_.a2(E.x,o.x))this._a=1,this._b=0,this._c=-E.x;else{this._b=-1;var c=(o.y-E.y)/(o.x-E.x),y=E.y-E.x*c;this._a=c,this._c=y}};z(_,W,{a3:function(){return this._a},a4:function(){return this._b},a5:function(){return this._c}}),_.a6=function(U,V){if(_.a1(U.a3())&&_.a1(V.a3()))return T;if(_.a1(U.a4())&&_.a1(V.a4()))return T;if(_.a1(V.a4())){var E=U;U=V,V=E}var L,s,N=U.a3(),d=U.a4(),x=-U.a5();_.a1(U.a3())?(L=V.a4(),s=-V.a5()):(L=V.a4()-V.a3()/U.a3()*U.a4(),s=-V.a5()-V.a3()/U.a3()*-U.a5());var W=s/L,R=(x-W*d)/N;return new t(R,W)},_.a1=function(E){return _.a2(E,0)},_.a2=function(m,u){return H(m-u)<1e-5};var C=function(m){if(this._a=new Wi,m)for(var j=0;j<m.size();j++)this._a.aa(m.get(j))};z(C,W,{c:function(){return this._a.ah()},d:function(){return this._a.ah()},a:function(){for(var j=new x,U=this.c();U.i1();U.i2())j.add(U.i6(),0);return new C(j)},b:function(){return this._a.ay()}});var M=function(D,w){this.x=D,this.y=w};z(M,W,{a:function(l,r){this.x=l,this.y=r}});var G=function(V,S){this.x=V||0,this.y=S||0};z(G,W,{b:function(){return new G(this.x,this.y)},a:function(w){this.z=w},c:function(){return this.x},d:function(){return this.y},f:function(T,w){this.x=T,this.y=w}});var Z=function(V){this._c=new Wi,V?(this.ac(V.a8().b()),this.ad(V.a9().b())):(this.ac(new G),this.ad(new G))};z(Z,W,{a6:function(){return this.a5(this)},ac:function(v){v.a(this),this._a=v},ad:function(x){x.a(this),this._b=x},a8:function(){return this._a},a9:function(){return this._b},a1:function(G,R){return this.a4(G,R,this.aa())},a2:function(){return this._c.ay()},a7:function(c){return this._c.ak(c)},aa:function(){return 0===this._c.ay()?T:this._c.as()},a3:function(){this._c.af()},i2:function(B){var D=this.a7(B);return D?new t(D.x,D.y):T},i1:function(){return this.a2()},i6:function(){var l=this.a8();return new t(l.c(),l.d())},i7:function(){var E=this.a9();return new t(E.c(),E.d())},i8:function(I){this.a8().f(I.x,I.y)},i9:function(x){this.a9().f(x.x,x.y)},i3:function(o,s,S){var W=this.a7(o);W&&W.a(s,S)},i4:function(c,P){this.a1(c,P)},i5:function(){this.a3()}});var k=function(s){k.superClass.constructor.call(this,s)};z(k,Z,{a5:function(c){return new k(c)},a4:function(T,q,m){var H=new M(T,q);return this.ab(H,m),H},ab:function(Q,O){this._c.an(Q,this._c.al(O))}});var N=function(){if(2===arguments.length){var r=arguments[0],n=arguments[1];this._s=!1,this._w=30,this._h=30,this._x=r-this._w/2,this._y=n-this._h/2}else{var k=arguments[0];this._s=k._s,this._w=k._w,this._h=k._h,this._x=k._x,this._y=k._y}};z(N,W,{m3:function(){return this.m2(this)},m4:function(){return this._x+this._w/2},m5:function(){return this._y+this._h/2},m6:function(p,L){this._x=p-this._w/2,this._y=L-this._h/2},i1:function(){return this._x},i2:function(){return this._y},i5:function(K,l){this._x=K,this._y=l},i3:function(){return this._w},i4:function(){return this._h},i6:function(e,G){var U=(this._w-e)/2,x=(this._h-G)/2;this._x+=U,this._y+=x,this._w=e,this._h=G},m1:function(L){var y,X,N,e;L.width<=0?(y=this._x,X=this._x+this._w,N=this._y,e=this._y+this._h):(y=r(this._x,L.x),X=n(this._x+this._w,L.x+L.width),N=r(this._y,L.y),e=n(this._y+this._h,L.y+L.height)),L.x=y,L.y=N,L.width=X-y,L.height=e-N}});var i=function(M){M?i.superClass.constructor.call(this,M):i.superClass.constructor.call(this,0,0)};z(i,N,{m2:function(B){return new i(B)}});var ce={a2:function(u){var i=Zk.a2(pf.a(u.xa()));return ce.a4(u,i,ce.a3(u,i))},a3:function(X,P){for(var f=X.x9();f.i1();f.i2())P.i7(f.i9(),-1);for(var m=0,t=new Th(X.xa()),U=X.x9();U.i1();U.i2()){var T=U.i9();-1===P.i2(T)&&ce.a(T,t,P,m++)}return m},a6:function(a){for(var u=new Lr,_=ce.a2(a),i=0;i<_.length-1;i++){var q=a.xo(_[i].x2(),_[i+1].x3());u.aa(q)}return u},a4:function(X,$,O){for(var D=[],d=0,G=X.x9();O>d;d++)D[d]=new Gk;for(;G.i1();G.i2())D[$.i2(G.i9())].ae(G.i9());return D},a:function(g,V,I,O){for(V.c(g),I.i7(g,O);!V.a();){g=V.b();for(var j=g.ag();j;j=j.a8()){var t=j.a3();-1===I.i2(t)&&(I.i7(t,O),V.c(t))}for(var _=g.ae();_;_=_.a7()){var n=_.a2();-1===I.i2(n)&&(I.i7(n,O),V.c(n))}}},a1:function(Z,D,p){var d=new Pn(D,p);return d.a8(Z),d._i},a5:function(A,Y,G){for(var x=[],F=0;G>F;F++)x[F]=new Lr;for(var u=A.xf();u.i1();u.i2())x[Y.i2(u.i8())].aa(u.i8());return x},a7:function(g){var A=new Lr,z=Zk.a3(pf.b(g.xa())),u=Zk.a4(pf.a(g.xh())),C=ce.a1(g,u,z),B=ce.a5(g,u,C);if(B.length>1){for(var D=new Gk,M=0;M<B.length;M++){var j=B[M],H=T;if(1===j.ay()){var t=j.c2();1===t.a2().ad()?H=t.a2():1===t.a3().ad()&&(H=t.a3())}else{for(var l=j.c1();l.i1();l.i2()){var n=l.i8();if(z.i4(n.a2()))if(H){if(H!==n.a2()){H=T;break}}else H=n.a2();if(z.i4(n.a3()))if(H){if(H!==n.a3()){H=T;break}}else H=n.a3()}if(H){var m=j.c2();H=m.a2()!==H?m.a2():m.a3()}}H&&D.aa(H)}for(var E,p=D.x4();!D.ar();p=E)E=D.x4(),A.ac(g.xo(p,E))}return A}},Gc=function(){this._c=0,this._d=0,this._e=0,this._b=!0,this._f=!1};z(Gc,W,{a6:function(y){this._f=y},a7:function(k){this._b=k},a8:function(K){0!==K.x0()&&this.a9(K,K.x9().i9())},a9:function(c,C){if(this._xx=c.xk(),this._c=c.xl(),this._d=0,this._e=0,this.a0(C),this._b)for(var h=c.x9();h.i1();h.i2()){var Y=h.i9();this._xx.i1(Y)||(this.a1(Y),this.a0(Y))}c.xi(this._xx),c.xj(this._c)},a0:function(c){var s=++this._d;this._xx.z1(c,Gc._B),this.a5(c,s);for(var R=this._f?c.ap():c.af();R.i1();R.i2()){var g=R.i8();if(!this._c.i4(g)){this._c.i7(g,!0);var K=g.a1(c);this._xx.i1(K)?this.a3(g,K,!1):(this.a3(g,K,!0),this.a0(K),this.a2(g,K))}}this.a4(c,s,++this._e),this._xx.z1(c,Gc._C)},a5:function(){},a4:function(){},a3:function(){},a2:function(){},a1:function(){}}),Gc._B={},Gc._C={};var Vj=function(w){this._a=w};z(Vj,Gc,{a5:function(d){var o=this._a._ah.i2(d);this._a._ad[o].ae(d)}});var Ko=function(V){this._a=V};z(Ko,Gc,{a2:function(e,z){var i=e.a1(z),l=this._a[i.al()],g=this._a[z.al()];g._a+1>l._a?(l._c=l._a,l._b=l._d,l._a=g._a+1,l._d=e):g._a+1>l._c&&(l._c=g._a+1,l._b=e)}});var ug=function(F){this._a=F};z(ug,Gc,{a3:function(I,e,h){h&&I.a2()===e&&this._a.ac(I)}});var Ni=function(){this._a=0,this._c=0};z(Ni,W,{});var $e=function(){this._a=0};z($e,W,{a1:function(J,v){this._a=0;for(var F=v.length-1;F>=0;F--)v[F]=-1;for(var l=J.x9();l.i1();l.i2()){var y=l.i9();if(0===y.ak()){this.a2(y,y.al(),v);break}}for(var o=J.x9();o.i1();o.i2()){var q=o.i9(),s=q.al();-1===v[s]&&this.a2(q,s,v)}},a2:function(Y,Z,C){C[Z]=-2;for(var l=Y.ag();l;){var h=l.a3(),N=h.al();switch(C[N]){case-1:this.a2(h,N,C);case-2:default:l=l.a8()}}C[Z]=this._a++}});var Uo={a1:function(m){var b=new nq;return b.a8(m),b._n},a2:function(W){var Y,b=W.x9(),r=0;for(b.i4();b.i1();b.i2())0===b.i9().ak()&&(Y=b.i9(),r++);if(1===r)return Y;for(r=0,b.i4();b.i1();b.i2())0===b.i9().ao()&&(Y=b.i9(),r++);return 1===r?Y:Uo.a8(W)},a8:function(s){var H=pf.a(s.x0()),K=Zk.a2(H);return Uo.a6(s,K)},a6:function(U,m){var J=U.xd(),_=pf.d(1),M=pf.a(U.x0(),-1),Q=Uo.a4(U,J);Uo.a7(J,m,_,M,-1);for(var W=Q.c1();W.i1();W.i2())U.x3(W.i8());return _[0]},a7:function(Q,r,$,U,C){for(var D=0,p=Q.ag();p;p=p.a8()){var i=p.a3(),K=Uo.a7(i,r,$,U,C);K>C&&(C=K),D+=U[i.al()]}for(var g=D*(Q._g.xa()-1-D),h=Q.ag();h;h=h.a8())for(var H=h.a3(),u=h.a8();u;u=u.a8()){var _=u.a3();g+=U[H.al()]*U[_.al()]}return r.i7(Q,g),U[Q.al()]=D+1,g>C&&(C=g,$[0]=Q),C},a4:function(e,I){var $=new Lr,R=new ug($);R.a6(!1),R.a9(e,I);for(var K=$.c1();K.i1();K.i2())e.x3(K.i8());return $},a3:function(Z){return Uo.a4(Z,Uo.a2(Z))}},nq=function(){this._n=!0,this.a6(!1)};z(nq,Gc,{a3:function(N,c,O){O||(this._n=!1)},a1:function(){this._n=!1}});var Pn=function(y,U){this._i=0,this._m=U,this._j=y,this._l=!1};z(Pn,Gc,{a8:function(W){this._h=pf.a(W.x0()),this._k=pf.a(W.x0()),this._g=new Th(W.xh()),Pn.superClass.a8.call(this,W)},a5:function(v,h){this._k[v.al()]=this._h[v.al()]=h},a3:function(l,V,v){if(this._g.c(l),!v){var W=l.a1(V);this._h[W.al()]=r(this._h[W.al()],this._k[V.al()])}},a1:function(){this._l=!1},a2:function(B,c){var f=B.a1(c);if(this._h[c.al()]>=this._k[f.al()]){for(;this._g.d()!==B;this._j.i5(this._g.b(),this._i));this._j.i5(this._g.b(),this._i),this._i++,this._g.a()?this._l?this._m.i5(f,!0):this._l=!0:this._m.i5(f,!0)}this._h[f.al()]=r(this._h[f.al()],this._h[c.al()])}});var hn=function(M,L){this._h=!1,this._i=M,this._g=L};z(hn,W,{z1:function(c,J){c._c[this._i]=J},i1:function(K){return K._c[this._i]},i5:function(F,r){F._c[this._i]=r},i4:function(C){return C._c[this._i]},i7:function(j,m){j._c[this._i]=m},i2:function(e){var Z=e._c[this._i];return Z?Z:0},i6:function(t,E){t._c[this._i]=E},i3:function(U){var R=U._c[this._i];return R?R:0},c:function(){return this._h},d:function(){this._h=!0}});var Nf=function(V,q){this._c=!1,this._d=V,this._b=q};z(Nf,W,{i8:function(V,I){V._c[this._d]=I},i1:function(x){return x._c[this._d]},i7:function(z,p){z._c[this._d]=p},i4:function(S){var h=S._c[this._d];return h?h:!1},i5:function(q,C){q._c[this._d]=C},i2:function(s){var O=s._c[this._d];return O?O:0},i6:function(U,p){U._c[this._d]=p},i3:function(V){var J=V._c[this._d];return J?J:0},a:function(){return this._c},b:function(){this._c=!0}});var to=function(A){this._bb=A,this.i4()};z(to,W,{i1:function(){return this._aa!=T},i2:function(){this._aa=this._aa._a},i3:function(){this._aa=this._aa._b},i4:function(){this._aa=this._bb._b},i5:function(){this._aa=this._bb._c},i7:function(){return this._bb.ay()},i6:function(){return this._aa._c}});var up=function(z){up.superClass.constructor.call(this,z)};z(up,to,{i8:function(){return this.i6()}});var Wi=function(B){if(this._id=Wi.id(),this._a=0,B)for(B.i4();B.i1();B.i2())this.ae(B.i6())};z(Wi,W,{ac:function(T){var R=this.ag(T);return this._b?(this._b._b=R,R._a=this._b,this._b=R):this._b=this._c=R,this._a++,R},ae:function(Z){var y=this.ag(Z);return this._c?(this._c._a=y,y._b=this._c,this._c=y):this._b=this._c=y,this._a++,y},z1:function(d){d._b=T,d._a=T,this._c?(this._c._a=d,d._b=this._c,this._c=d):this._b=this._c=d,this._a++},ad:function(w){w._b=T,w._a=T,this._b?(this._b._b=w,w._a=this._b,this._b=w):this._b=this._c=w,this._a++},aa:function(O){return this.ae(O),!0},ab:function(e){for(;e.i1();e.i2())this.ae(e.i6())},ao:function(T,H){if(H===this._b)return this.ac(T);if(H){var j=this.ag(T);return this.aq(j,H),j}return this.ae(T)},aq:function(X,E){if(E)if(E===this._b)this.ad(X);else{if(this._c){var $=E._b;E._b=X,X._a=E,$._a=X,X._b=$}else X._b=T,X._a=T,this._b=this._c=X;this._a++}else this.ad(X)},ap:function(Y,W){if(W)if(W===this._c)this.z1(Y);else{if(this._b){var _=W._a;W._a=Y,Y._a=_,_._b=Y,Y._b=W}else Y._b=T,Y._a=T,this._b=this._c=Y;this._a++}else this.z1(Y)},an:function(F,G){if(G===this._c)return this.ae(F);if(G){var k=this.ag(F);return this.ap(k,G),k}return this.ac(F)},ay:function(){return this._a},ar:function(){return 0===this._a},af:function(){this._b=this._c=T,this._a=0},am:function(){return this._b._c},at:function(){var F=this.am();return this.aw(this._b),F},as:function(){return this._c._c},au:function(){return this.aw(this._c)},ak:function(E){for(var n=0,z=this._b;z;){if(E===n)return z._c;z=z._a,n++}return T},aj:function(G){return G._a?G._a:this._b},ai:function(e){return e._b?e._b:this._c},aw:function(C){return C!==this._b?C._b._a=C._a:this._b=C._a,C!==this._c?C._a._b=C._b:this._c=C._b,this._a--,C._c},av:function(j){return this.aw(j._aa)},ah:function(){return new to(this)},al:function(n){for(var f=this._b;f;){if(!f._c&&!n)return f;if(f._c===n)return f;f=f._a}return T},a0:function(){for(var n=pf.d(this._a),L=0,q=this._b;q;)n[L]=q._c,q=q._a,L++;return n},ax:function(){for(var w=this._b;w;w=w._b){var l=w._a;w._a=w._b,w._b=l}var u=this._b;this._b=this._c,this._c=u},a1:function(Z){var Y=this.a0(),Q=0;Y.sort(Z);for(var v=this._b;v;)v._c=Y[Q],v=v._a,Q++},a2:function(){var h=this.a0();h.sort(pf.c);for(var L=0,k=this._b;k;)k._c=h[L],k=k._a,L++},az:function(x){this._b?x._b&&(this._c._a=x._b,x._b._b=this._c,this._c=x._c):(this._b=x._b,this._c=x._c),this._a+=x._a,x._b=x._c=T,x._a=0},ag:function(N){return new Ah(N)}}),Wi.id=function(){var n=0;return function(){return++n}}();var Lr=function(N){Lr.superClass.constructor.call(this,N)};z(Lr,Wi,{c1:function(){return new up(this)},c2:function(){return this.am()},c3:function(){return this.at()}});var Nh=function(){this._c=0};z(Nh,W,{a:function(g){this._c++,g._b=this._b,g._a=T,this._b?(this._b._a=g,this._b=g):this._b=this._a=g},b:function(D,V){if(!V)return this.a(D),void 0;var Q=V._b;Q?Q._a=D:this._a=D,D._b=Q,D._a=V,V._b=D,this._c++},c:function(B){var x=B._a,f=B._b;this._c--,x?x._b=f:this._b=f,f?f._a=x:this._a=x}});var Fc=function(X,Q){this._p=X,this._j=Q,this._o=X._o[Q]};z(Fc,W,{i1:function(){return this._o!=T},i2:function(){this._o=this._o._k[this._j]},i3:function(){this._o=this._o._f[this._j]},i4:function(){this._o=this._p._o[this._j]},i5:function(){this._o=this._p._q[this._j]},i7:function(){return this._p._n[this._j]},i6:function(){return this._o},i8:function(){return this._o}});var Ah=function(D){this._c=D};z(Ah,W,{a:function(){return this._a},b:function(){return this._b},c:function(f){this._c=f},d:function(){return this._c}});var wh=function(D,t,o,g){this._r=D,this._s=t,this._q=o,this._p=g};z(wh,W,{i1:function(X){return this._p[X.a5()]},i3:function(Y){return this._r[Y.a5()]},i2:function(U){return this._s[U.a5()]},i4:function(X){return this._q[X.a5()]},i8:function(h,K){this._p[h.a5()]=K},i6:function(w,G){this._r[w.a5()]=G},i5:function(f,E){this._s[f.a5()]=E},i7:function(u,w){this._q[u.a5()]=w}});var Th=function(P){this._a=pf.d(P),this._b=-1};z(Th,W,{d:function(){return this._a[this._b]},b:function(){return this._a[this._b--]},c:function(x){this._a[++this._b]=x},a:function(){return this._b<0}});var Gg=function(){};z(Gg,W,{a0:function(H){this._c=pf.d(H)}});var tm=function(u,L,Z,T,c,q,i){this._g=0,u.xt(this,L,Z,T,c,q,i)};z(tm,Gg,{a5:function(){return this._h._u&&this._h.b1(),this._g},a2:function(){return this._d},a3:function(){return this._e},a1:function(C){return this._d!==C?this._d:this._e},a4:function(){for(var s=0;1>=s;s++)this._k[s]=T,this._f[s]=T},a8:function(){return this._k[0]},a7:function(){return this._k[1]},a6:function(g,N,F,n){this.a0(n),this._h=g,this._k=pf.d(2),this._f=pf.d(2),this._d=N,this._e=F}});var lc=function(F){this._j=0,this._h=F,this.i4()};z(lc,W,{i2:function(){this._k=this._k._k[this._j],this._k||0!==this._j||(this._k=this._h._o[1],this._j=1)},i3:function(){this._k=this._k._f[this._j],this._k||1!==this._j||(this._k=this._h._q[0],this._j=0)},i4:function(){this._k=this._h._o[0],this._k?this._j=0:(this._k=this._h._o[1],this._j=1)},i5:function(){this._k=this._h._q[1],this._k?this._j=1:(this._k=this._h._q[0],this._j=0)},i1:function(){return!!this._k},i6:function(){return this._k},i8:function(){return this._k},i7:function(){return this._h.ad()}});var _m=function(){this._a=Wm._A,this._b=Wm._A,this._c=new x};z(_m,W,{i1:function(){return this._c.size()},i2:function(m){return this._c.get(m)},i3:function(S,q,j){this._c.set(S,new t(q,j))},i4:function(Y,M){this._c.add(new t(Y,M))},i5:function(){this._c.clear()},i6:function(){return this._a},i7:function(){return this._b},i8:function(l){this._a=l},i9:function(a){this._b=a}});var Mi=function(){this._x=0,this._y=0,this._w=0,this._h=0};z(Mi,W,{i5:function(x,c){this._x=x,this._y=c},i6:function(Q,b){this._w=Q,this._h=b},i4:function(){return this._h},i3:function(){return this._w},i1:function(){return this._x},i2:function(){return this._y}});var Vo=function(i,h,c,X){this._m=i,this._n=h,this._l=c,this._k=X};z(Vo,W,{i1:function(J){return this._k[J.al()]},i3:function(t){return this._m[t.al()]},i2:function(Q){return this._n[Q.al()]},i4:function(l){return this._l[l.al()]},z1:function(k,s){this._k[k.al()]=s},i6:function(T,H){this._m[T.al()]=H},i7:function(s,D){this._n[s.al()]=D},i5:function(u,S){this._l[u.al()]=S}});var kg=function(y,F){this._b=y,this._r=F,this._a=[];for(var c=this._b-1;c>=0;c--)this._a.push(c);this._c=new x};z(kg,W,{a1:function(N){var U;if(0===this._a.length){this.a2(N,this._b,this._b+this._r);for(var s=this._b+this._r-1;s>this._b;s--)this._a.push(s);U=this._b,this._b+=this._r}else U=this._a.pop();return U},b:function(F){var f=this.a1(F),t=new hn(f,this);return this._c.add(t),this.a4(F,f),t},c:function(x){var M=this.a1(x),f=new Nf(M,this);return this._c.add(f),this.a4(x,M),f},a2:function(f,m,L){for(var V=f._a;V;V=V._a){var N=pf.d(L);pf.f(V._c,N,m),V._c=N}},a3:function(o,v,C){var k=pf.d(C);pf.f(o._c,k,v),o._c=k},a4:function($,h){for(var U=$._a;U;U=U._a)U._c[h]=T},a5:function(B,A){if(B instanceof hn){var Z=B;if(Z.c())throw"";Z.d();var e=B._i;this._a.indexOf(e)<0&&(this.a4(A,e),this._a.push(e),this._c.remove(B))}},a6:function(k,O){if(k instanceof Nf){var y=k;if(y.a())throw"";y.b();var g=y._d;this._a.indexOf(g)<0&&(this.a4(O,g),this._a.push(g),this._c.remove(k))}}});var gq=function(m){this._id=Wi.id(),this._p=0,m.xs(this)};z(gq,Gg,{ad:function(){return this._n[0]+this._n[1]},ak:function(){return this._n[1]},ao:function(){return this._n[0]},al:function(){return this._g._y&&this._g.c(),this._p},ag:function(){return this._o[0]},ae:function(){return this._o[1]},af:function(){return new lc(this)},am:function(){return new Fc(this,1)},ap:function(){return new Fc(this,0)},an:function(){return new Xk(this)},aq:function(){return new ef(this,1)},aw:function(){return new ef(this,0)},ah:function(o){for(var g=this._o[0];g;g=g._k[0])if(g.a3()===o)return g;return T},ai:function(_){for(var k=this._o[1];k;k=k._k[1])if(k.a2()===_)return k;return T},aj:function(P){var g=this.ah(P);return g||(g=this.ai(P)),g},au:function(k){this.at(k,1,pf.d(this.ak()))},av:function(P){this.at(P,0,pf.d(this.ao()))},as:function(S,h){this.a0(h),this._g=S,this._o=pf.d(2),this._q=pf.d(2),this._n=pf.a(2)},ab:function(P,p,y,_,d){if(!p)return this.aa(P,y,_),void 0;var v;if(v=p._d===p._e?_:this!==p._d?1:0,0===d){var T=p._k[v];P._f[_]=p,P._k[_]=T,p._k[v]=P,T?T._d===T._e?T._f[_]=P:T._f[this!==T._d?1:0]=P:this._q[y]=P}else{var S=p._f[v];P._k[_]=p,P._f[_]=S,p._f[v]=P,S?S._d===S._e?S._k[_]=P:S._k[this!==S._d?1:0]=P:this._o[y]=P}this._n[y]++},aa:function(e,E,L){var O=this._q[E];e._k[L]=T,O?(e._f[L]=O,O._d===O._e?O._k[L]=e:O._k[this!==O._d?1:0]=e):(this._o[E]=e,e._f[L]=T),this._q[E]=e,this._n[E]++},ar:function(x,j,t){var K,d;K=x._k[t],d=x._f[t],K?K._f[K._d!==this?1:0]=d:this._q[j]=d,d?d._k[d._d!==this?1:0]=K:this._o[j]=K,this._n[j]--},ac:function(){for(var b=0;1>=b;b++)this._o[b]=T,this._q[b]=T,this._n[b]=0},at:function(k,L,P){if(!(this._n[L]<2)){for(var S=this._n[L],K=0,M=this._o[L];M;M=M._k[L])P[K]=M,K++;pf.s(P,S,k);var W=1,w=this._o[L]=P[0];for(w._f[L]=T;S>W;)M=P[W],M._f[L]=w,w._k[L]=M,W++,w=M;this._q[L]=M,M._k[L]=T}}});var ef=function(n,f){ef.superClass.constructor.call(this,n,f),this._h=1!==f?1:0};z(ef,Fc,{i6:function(){return this.i9()},i9:function(){return 0!==this._h?this._o._e:this._o._d}});var Xk=function(Z){Xk.superClass.constructor.call(this,Z)};z(Xk,lc,{i6:function(){return this._k.a1(this._h)},i9:function(){return this._k.a1(this._h)}});var Kr=function(s){Kr.superClass.constructor.call(this,s)};z(Kr,to,{i9:function(){return this.i6()}});var Zq=function(N){this._o=N,this._c=N._a};z(Zq,W,{i1:function(){return this._c!=T},i2:function(){this._c=this._c._a},i3:function(){this._c=this._c._b},i5:function(){this._c=this._o._b},i4:function(){this._c=this._o._a},i7:function(){return this._o._c},i6:function(){return this._c},i9:function(){return this._c},i8:function(){return this._c}});var Gk=function(y){if(y&&y.length){Gk.superClass.constructor.call(this);for(var J=0;J<y.length;J++)this.ae(y[J])}else Gk.superClass.constructor.call(this,y)};z(Gk,Wi,{x1:function(){return new Kr(this)},x2:function(){return this.am()},x3:function(){return this.as()},x4:function(){return this.at()}});var hk=function(l){this._d=l,hk.superClass.constructor.call(this)};z(hk,Gk,{});var Um=function(X){this._a=X,this._b=new Lr,this._c=new Gk};z(Um,W,{a:function(){for(var s=this._a.x9();s.i1();s.i2())this.e(s.i9())},b:function(){this.c(),this.d()},c:function(){for(;!this._c.ar();){var k=this._c.x4();this._a.xq(k)||this.g(k)}},d:function(){for(;!this._b.ar();){var D=this._b.c3();this._a.xp(D)||this.f(D)}},e:function(W){for(var I=W.af();I.i1();I.i2())this._b.ac(I.i8()),this._a.h1(I.i8());this._c.ac(W),this._a.h2(W)},f:function(K){this._a.u1(K)},g:function(n){this._a.h3(n)}}),Um.h=function(O,o){for(o.i4();o.i1();o.i2()){var B=o.i8();O.xq(B.a2())||O.h3(B.a2()),O.xq(B.a3())||O.h3(B.a3()),O.xp(B)||O.u1(B)}},Um.i=function(w,M){for(M.i4();M.i1();M.i2()){var t=M.i8();w.xp(t)&&w.h1(t),0===t.a2().ad()&&w.h2(t.a2()),0===t.a3().ad()&&w.h2(t.a3())}};var Bs=function(){var l=arguments;this._g=l[0],this._f=this._g.xk(),this._h=this._g.xk(),this._d=new Wi,this._e=0,1!==l.length&&this.a(l[1],l[2],l[3],l[4])};z(Bs,W,{a:function(A,C,p,O){for(var R=pf.d(p-C+1),b=C,P=0;p>=b;b++)R[b]=new hk(b);for(var x=this._g.x9();x.i1();x.i2()){var f=x.i9();(!O||O.i4(f))&&(this._f.z1(f,R[A.i2(f)-C].ac(f)),this._e++)}for(;P<R.length;P++)for(var j=R[P],Z=this._d.ae(j),s=j.x1();s.i1();s.i2())this._h.z1(s.i9(),Z)},c:function(){this._g.xi(this._h),this._g.xi(this._f)},e:function(){return 0===this._e},g:function(){for(;this._d.am().ar();this._d.at());this._e--;var J=this._d.am().x4();return this._h.z1(J,T),this._f.z1(J,T),J},f:function(){for(;this._d.as().ar();this._d.au());this._e--;var h=this._d.as().x4();return this._h.z1(h,T),this._f.z1(h,T),h},d:function(k){var _=this._f.i1(k),D=this._h.i1(k),s=D.d(),U=T,R=D.a();R?(U=R.d(),this._h.z1(k,R)):(U=new hk(s._d+1),this._h.z1(k,this._d.ae(U))),s.aw(_),this._f.z1(k,U.ac(k))},b:function(R){var q=this._f.i1(R),A=this._h.i1(R),r=A.d(),d=T,p=A.b();p?(d=p.d(),this._h.z1(R,p)):(d=new hk(r._d-1),this._h.z1(R,this._d.ac(d))),r.aw(q),this._f.z1(R,d.ac(R))}});var Zk={a1:function(b){return new Vo(b,T,T,T)},a2:function(a){return new Vo(T,a,T,T)},a3:function(L){return new Vo(T,T,L,T)},a4:function(k){return new wh(T,k,T,T)},a5:function(W){return new wh(T,T,W,T)},a6:function(z){return new wh(T,T,T,z)}},$g=function(){var m=arguments;if(2===m.length){this._a=new Wi,this._b=new Wi,this._c=0;var D=m[0],I=m[1],W=new er(D._j2.gj(I)/2,0);this._a.ac(W),W=new er(D._j2.gj(I)/2,0),this._b.ac(W)}else this._a=m[1],this._b=m[2],this._c=m[3]};z($g,W,{});var er=function(P,x){this._b=P,this._a=x};z(er,W,{});var Im=function(){this._cx=!0,this._cs=new Tp,this._ct=new ym,this._cw=new sb};z(Im,W,{i5:function(E){this._cx=E},k:function(){var q=new uh(this);return this._cx&&(this._cs.w1(q),q=this._cs),this._cw.w1(q),q=this._cw,this._ct.w1(q),q=this._ct},i2:function(o){this.k().i2(o)},i1:function(G){return this.k().i1(G)}});var Ul=function(){Ul.superClass.constructor.call(this),this._jv=20,this._jw=40,this._jx=function(T,t){var m=T.a3(),d=t.a3(),D=m._g;return O(100*(D.g5(m)-D.g5(d)))}};z(Ul,Im,{i4:function(K){return Uo.a1(K)},i3:function(a){if(!this.i4(a))throw"";var j=Uo.a3(a);if(this._j2=a,this._j3=new mi(a),lq.c(a),this._jy=a.xk(),!a.xb()){this.bu();var e=this._j3.c1();this.f(e),this.b(this._j3),this.c(this._j3)}for(var _;!j.ar();a.x3(_))_=j.c3(),lq.b(a.g2(_))},bu:function(){if(this._jx)for(var j=this._j2.x9();j.i1();j.i2())j.i9().av(this._jx)},c:function(R){for(var d=this.a2(R),E=pf.a(d.length),h=0;h<d.length;h++){for(var z=d[h],x=0,K=z.ah();K.i1();K.i2()){var D=K.i6();x=n(x,this._j2.g9(D))}E[h]=x}for(var w=-this._jw,F=0;F<d.length;F++){w+=this._jw+E[F];for(var u=d[F],$=u.ah();$.i1();$.i2()){var T=$.i6();this._j2.s2(T,this._j2.g5(T),w-E[F]/2)}}},a2:function(W){for(var m=pf.d(W.b()),h=0,H=W.b();H>h;h++)m[h]=new Wi;return W.c1(),this.a1(W.c1(),0,m),m},a1:function(q,T,o){o[T].ae(q);for(var L=q.aw();L.i1();L.i2())this.a1(L.i9(),T+1,o)},b:function(f){var X=f.c1();this._j2.s2(X,0,this._j2.g6(X)),this.g(X)},g:function(B){for(var w=B.aw();w.i1();w.i2()){var z=w.i9(),D=this._jy.i1(z);this._j2.s2(z,this._j2.g5(B)+D._c,this._j2.g6(z)),this.g(z)}},f:function(g){if(this._j3.c2(g))return this._jy.z1(g,new $g(this,g)),void 0;var O=g.aw(),y=O.i9();O.i2(),this.f(y);var v=this._jy.i1(y),p=new $g(this,v._a,v._b,0);if(!O.i1())return p._a.ac(new er(this._j2.gj(g)/2,0)),p._b.ac(new er(this._j2.gj(g)/2,0)),this._jy.z1(g,p),void 0;for(;O.i1();){y=O.i9(),O.i2(),this.f(y),v=this._jy.i1(y);for(var _=p._b.ah(),A=v._a.ah(),M=2147483647,$=0,f=0;_.i1()&&A.i1();){var P=_.i6();_.i2();var S=A.i6();A.i2(),f+=P._a,$+=S._a,M=r(M,$-f-P._b-S._b)}v._c=this._jv-M,$+=v._c;var x=v._b.am();if(x._a=v._c,_.i1()&&!A.i1())for(var B=f-this.a3(v._b);_.i1();B=0){var t=_.i6();_.i2(),v._b.ae(new er(t._b,t._a+B))}else if(!_.i1()&&A.i1()){var T=this.a3(p._a);for(T=$-T;A.i1();T=0){var L=A.i6();A.i2(),p._a.ae(new er(L._b,L._a+T))}}p._b=v._b}this._jy.z1(g,p);for(var X=-v._c/2,E=g.aw();E.i1();){var Z=E.i9();E.i2();var h=this._jy.i1(Z);h._c+=X;var D=h._b.am();D._a+=X,D=h._a.am(),D._a+=X}p._a.ac(new er(this._j2.gj(g)/2,0)),p._b.ac(new er(this._j2.gj(g)/2,0))},a3:function(d){for(var C=0,v=d.ah();v.i1();v.i2()){var x=v.i6();C+=x._a}return C}});var mi=function(m){this._b=m,this.a()};z(mi,W,{c1:function(){return this._a||this.a(),this._a},b:function(){return this._a?this.d(this._a):-1},d:function(t){for(var S=0,X=t.aw();X.i1();X.i2())S=n(S,this.d(X.i9()));return S+1},c2:function(h){return 0===h.ao()},a:function(){for(var A=this._b.x9();A.i1();A.i2())if(0===A.i9().ak())return this._a=A.i9(),void 0}});var ff=function(y){this._d=0,this._e=0,this._f=0,this._a=0,this._b=0,this._g=y,this._c=new Wi};z(ff,W,{a:function(){return this._d+this._e+this._f}});var Fl=function(){Fl.superClass.constructor.call(this),this._kl=340,this._km=360,this._kk=40,this._ko=.5};z(Fl,Im,{ic:function(){return this._km},ia:function(){return this._kl},i9:function(){return this._ko},i3:function(Z){if(!Uo.a1(Z))throw"";this._a=Z;var b=this.i8(),m=Uo.a4(Z,b);lq.c(Z),this._kn=pf.d(Z.x0());for(var T=Z.x9();T.i1();T.i2()){var N=T.i9();N!==b?this.aa(N,new ff(this._kk+this.q(N.aq().i9()))):this.aa(N,new ff(this._kk))}this.s(b),Z.s2(b,0,0),this.t(b);for(var K;!m.ar();Z.x3(K))K=m.c3()},i4:function(n){return Uo.a1(n)},i0:function(k){return this._kn[k.al()]},i8:function(){return Uo.a2(this._a)},i7:function(y){for(var t,j=this.ib(y);;){if(t=this.i6(y),j>=t)break;for(var M=y.aw();M.i1();M.i2()){var F=M.i9();this.i0(F)._g*=1+this._ko}}var X=(j-t)/(2*y.ao());t=0;for(var s=y.aw();s.i1();s.i2()){var g=this.i0(s.i9());g._d+=X,g._e+=X,t+=g._d+g._e}this.id(y)},id:function(Q){for(var k=pf.d(Q.ao()),p=0,C=Q.ap();C.i1();)k[p]=C.i8(),C.i2(),p++;var S=this;k.sort(function(J,i){var b=J.a3(),u=i.a3(),H=S.i0(b).a()-S.i0(u).a();return H>0?1:H>=0?0:-1});for(var m=0;m<k.length;m++)this._a.h1(k[m]);for(var n=0;n<k.length;n+=2)this._a.u1(k[n]);for(p=k.length-1,0===p%2&&p--;p>0;p-=2)this._a.u1(k[p])},ib:function(k){return 0===k.ak()?this._km:2===k.ao()?r(180,this._kl):this._kl},i6:function(X){for(var h=0,u=X.ap();u.i1();u.i2()){for(var V,c=u.i8(),x=c.a3(),j=this.i0(x),s=-j._g,Z=j._b,P=j._c,b=0,z=b+1,r=P._b,F=r.d();z>b;z=(V.y-Z)/(V.x-s))V=F,r=P.ai(r),F=r.d(),b=(F.y-V.y)/(F.x-V.x);for(j._d=180*-L(z)/f,b=0,z=b-1,r=P._b,F=r.d();r.a().d().x===F.x;F=r.d())r=r.a();for(var A;b>z;z=(A.y-Z)/(A.x-s))A=F,r=P.aj(r),F=r.d(),b=(F.y-A.y)/(F.x-A.x);j._e=180*L(z)/f,h+=j._d+j._e}return h},aa:function(U,_){this._kn[U.al()]=_},p:function(U){var y=this.i0(U),d=new Wi,p=2*this.q(U);d.aa(new t(0,0)),d.aa(new t(0,p)),d.aa(new t(p,p)),d.aa(new t(p,0)),y._c=d,y._a=p/2,y._b=p/2},r:function(Z){if(0===Z.ao())this.p(Z);else{var T=this.i0(Z),b=this.q(Z),O=new Wi;O.aa(new t(-b,-b)),O.aa(new t(-b,b)),O.aa(new t(b,-b)),O.aa(new t(b,b));for(var y=Z.aw();y.i1();y.i2()){var K=this.i0(y.i9());O.az(K._c)}for(var G=Wm.h(O),R=Q,f=Q,x=s,c=s,A=G.ah();A.i1();A.i2()){var B=A.i6();B.x<R&&(R=B.x),B.x>x&&(x=B.x),B.y<f&&(f=B.y),B.y>c&&(c=B.y)}for(var E=new Wi,W=G.ah();W.i1();W.i2()){var I=W.i6();E.aa(new t(I.x-R,I.y-f))}T._c=E,T._a=-R,T._b=-f}},s:function($){if(0===$.ao())this.r($);else{for(var z=$.aw();z.i1();z.i2())this.s(z.i9());this.i7($);for(var F=0,j=$.aw();j.i1();j.i2()){var u=j.i9(),b=this.i0(u),n=180-(360-this.ib($))/2-F-(b._e+b._f);F+=b.a(),n=n/180*f;for(var p=d(n),O=y(n),I=b._c._b;I;I=I.a()){var A=I.d(),o=A.x+b._g,W=A.y-b._b,i=new t(o*O-p*W,o*p+O*W);I.c(i)}var x=b._a+b._g;b._a=x*O,b._b=x*p}this.r($)}},t:function(g){var n=this._a.g4(g),t=0;if(g.ak()>0){var Z=g.aq().i9(),e=this._a.g4(Z);t=f+j(e.y-n.y,e.x-n.x)}for(var T=g.aw();T.i1();T.i2()){var c=T.i9(),Y=this.i0(c);if(0!==t){var L=y(t),q=d(t),J=Y._a*L-q*Y._b,N=Y._a*q+L*Y._b;Y._a=J,Y._b=N}this._a.s2(c,n.x+Y._a,n.y+Y._b),this.t(c)}},q:function(b){return 1.41*(n(this._a.gj(b),this._a.g9(b))/2)}});var Lf=function(){};z(Lf,W,{i2:function(U){return U.ad()},i1:g,i3:g,i4:g});var Hk=function(Y){this._a=Y};z(Hk,W,{i2:function(o){for(var k=0,t=o.an();t.i1();t.i2())this._a.i1(t.i9())&&k++;return k},i4:function(w){return this._a.i1(w)==T},i1:g,i3:g});var kn=function(){kn.superClass.constructor.call(this),this._kq=!1,this._kp=90};z(kn,Fl,{a:function(O,z){this._kr=z,this._ks=O,this._kq=!0},i7:function(y){if(!this.u(y))return kn.superClass.i7.call(this,y),void 0;for(var m=this.i9(),l=this.ib(y),B=(360-l)/2+l,v=new Lr(y.ap());;){var L,u,M=this.i6(y),V=v._b;for(M=(360-l)/2;V;V=V.a()){var P=V.d(),o=P.a3(),E=this.i0(o),n=this._ks.i3(P),Y=n-(M+E._e);if(Y>=0&&n+E._d>=B&&(Y=M+E.a()<=B?B-M-E.a():2*(B-(n+E._d))),E._f=0,Y>=0)E._f=Y,L=V,u=E;else{for(-Y>E._d+E._e?Y=(E._d+E._e)/2:Y/=-2,M-=Y,B>=M&&M+E.a()>B&&(M+=Y,Y=M+E.a()-B,M-=Y);L&&Y>u._f;u=this.i0(L.d().a3()))if(Y-=u._f,u._f=0,L=L.b(),!L){u=T;break}L?u._f-=Y:M+=Y}M+=E.a()}if(B>=M){for(var e=0,F=(360-l)/2,j=y.ap();j.i1();j.i2()){var Z=j.i8(),U=Z.a3(),q=this._ks.i3(Z),S=this.i0(U),Q=F+S._f+S._e;e<H(Q-q)&&(e=H(Q-q)),F+=S.a()}if(e<=this._kp)break}for(var d=y.aw();d.i1();d.i2()){var G=d.i9();this.i0(G)._g*=1+m}}},ib:function(M){return this.u(M)?0===M.ak()?this.ic():this.ia():kn.superClass.ib.call(this,M)},u:function(_){return this._kq&&0!==_.ao()?this._ks.i1(_.ag())!=T:!1}});var Ce=function(c){this._a=c};z(Ce,W,{i1:function(N){return this._a.i1(N)},i2:g,i3:g,i4:g});var Xj=function(){};z(Xj,W,{w1:function(U){this._bb=U},w2:function(){return this._bb},w4:function(S){this._bb&&this._bb.i2(S)},w3:function(a){return this._bb?this._bb.i1(a):!0}});var ym=function(){this._cg=45,this._ce=400,this._ch=400,this._cf=0};z(ym,Xj,{i1:function(D){if(this.w2()){for(var I=!0,B=D.xk(),e=ce.a3(D,B),y=pf.d(e),b=pf.d(e),K=0;e>K;K++)y[K]=new Gk,b[K]=new Lr;for(var p=D.xf();p.i1();p.i2()){var R=p.i8();b[B.i2(R.a2())].aa(R),D.h1(R)}for(var C=D.x9();C.i1();C.i2()){var F=C.i9();y[B.i2(F)].aa(F),D.h2(C.i9())}for(var O=0;e>O;O++){for(var q=y[O].x1();q.i1();q.i2())D.h3(q.i9());for(var g=b[O].c1();g.i1();g.i2())D.u1(g.i8());I=this.w3(D);for(var J=b[O].c1();J.i1();J.i2())D.h1(J.i8());for(var L=y[O].x1();L.i1();L.i2())D.h2(L.i9());if(!I)break}for(var Z=0;e>Z;Z++)for(var W=y[Z].x1();W.i1();W.i2())D.h3(W.i9());for(var o=0;e>o;o++)for(var X=b[o].c1();X.i1();X.i2())D.u1(X.i8());return D.xi(B),I}return!0},i2:function($){if(!$.xb()){for(var x=$.xk(),z=ce.a3($,x),m=pf.d(z),W=pf.d(z),C=pf.d(z),f=pf.d(z),N=0;z>N;N++)m[N]=new Gk,W[N]=new Lr;for(var q=$.xf();q.i1();q.i2()){var M=q.i8();W[x.i2(M.a2())].aa(M),$.h1(M)}for(var g=$.x9();g.i1();g.i2()){var y=g.i9();m[x.i2(y)].aa(y),$.h2(g.i9())
}for(var U=0;z>U;U++){for(var S=m[U].x1();S.i1();S.i2())$.h3(S.i9());for(var v=W[U].c1();v.i1();v.i2())$.u1(v.i8());this.w4($);var Y=$.g3();C[U]=new D(Y.x,Y.y,Y.width,Y.height);var d={};if(f[U]=d,this._cf>0){var E=this._cg+p((Y.width+1)/this._cf)*this._cf,R=this._cg+p((Y.height+1)/this._cf)*this._cf;d.x=Y.x,d.y=Y.y,d.width=E,d.height=R}else d.x=Y.x,d.y=Y.y,d.width=Y.width+this._cg,d.height=Y.height+this._cg;for(var b=W[U].c1();b.i1();b.i2())$.h1(b.i8());for(var h=m[U].x1();h.i1();h.i2())$.h2(h.i9())}for(var s=0;z>s;s++)for(var J=m[s].x1();J.i1();J.i2())$.h3(J.i9());for(var i=0;z>i;i++)for(var I=W[i].c1();I.i1();I.i2())$.u1(I.i8());if(lq.a(f,T,this._ce/this._ch),this._cf<=0)for(var G=0;G<f.length;G++)this.w5($,m[G],W[G],new t(f[G].x,f[G].y),C[G]);else for(var c=0;c<f.length;c++){var j=O((f[c].x-C[c].x)/this._cf)*this._cf,F=O((f[c].y-C[c].y)/this._cf)*this._cf,e=C[c].x+j,A=C[c].y+F;this.w5($,m[c],W[c],new t(e,A),C[c])}$.xi(x)}},w5:function(b,w,d,J,Y){for(var I=-Y.x+J.x,X=-Y.y+J.y,Q=w.x1();Q.i1();Q.i2()){var e=b.ga(Q.i9());b.s4(Q.i9(),new t(e.x+I,e.y+X))}for(var O=d.c1();O.i1();O.i2()){for(var f=O.i8(),M=new x,$=b.gp(f).c();$.i1();$.i2()){var S=$.i6();M.add(new t(S.x+I,S.y+X))}b.s5(f,new C(M))}}});var sb=function(){};z(sb,Xj,{i1:function(e){return this.w3(e)},i2:function(Y){this.w7(Y),this.w2()&&this.w4(Y),this.w6(Y)},w7:function(P){this.e(P),this.k(P),this.i(P)},e:function(g){for(var A=g.x9();A.i1();A.i2()){var c=g.g4(A.i9());g.s1(A.i9(),c)}},w6:function(S){this.l(S),this.j(S),this.f(S)},l:function(T){for(var x=T.x9();x.i1();x.i2()){var f=T.g4(x.i9());T.s1(x.i9(),f)}},j:function(D){for(var x=D.xf();x.i1();x.i2()){var J=D.g7(x.i8()),G=J.i6();J.i8(G),G=J.i7(),J.i9(G);for(var $=0;$<J.i1();$++){var A=J.i2($);J.i3($,A.x,A.y)}}},k:function(e){for(var c=e.xf();c.i1();c.i2()){var U=e.g7(c.i8()),N=U.i6();U.i8(N),N=U.i7(),U.i9(N);for(var W=0;W<U.i1();W++){var S=U.i2(W);U.i3(W,S.x,S.y)}}},f:function(E){this._ca&&(E.x1("A",this._ca),this._ca=T,this._b6=T),this._b8&&(E.x1("B",this._b8),this._b8=T,this._b9=T)},i:function(t){this._ca=t.xc("A"),this._ca&&(this._b6=new Ce(this._ca),t.x1("A",this._b6)),this._b8=t.xc("B"),this._b8&&(this._b9=new Ce(this._b8),t.x1("B",this._b9))}});var Tp=function(){this._a=new Lr,this._c=10};z(Tp,Xj,{i2:function(Q){this._b=Q.xl(),this.w9(Q),this.w4(Q),this.c(Q),this.w8(Q,this._b),Q.xj(this._b)},i1:function(J){if(this.w2()){this._b=J.xl(),this.w9(J);var F=this.w3(J);return this.c(J),J.xj(this._b),F}return!0},w8:function(A,Z){for(var S=A.xf();S.i1();S.i2()){var y=S.i8();Z.i1(y)&&lq.g(A,y,Z.i1(y),this._c)}},w9:function(y){for(var v=y.xk(),f=y.x9();f.i1();f.i2()){for(var L=f.i9(),p=L.af();p.i1();p.i2()){var x=p.i8(),B=x.a1(L),U=v.i1(B);if(U!==x)if(U){this._b.i1(U)||this._b.i8(U,new Lr);var E=this._b.i1(U);E.aa(x),this._a.ac(x),y.h1(x)}else v.z1(B,x)}for(var h=L.af();h.i1();h.i2()){var A=h.i8(),j=A.a1(L);v.z1(j,T)}}y.xi(v)},c:function(N){for(;!this._a.ar();N.u1(this._a.c3()));}});var uh=function(L){this._a=L};z(uh,W,{i2:function(X){this._a.i3(X)},i1:function(d){return this._a.i4(d)}});var Sk=function(){Sk.superClass.constructor.call(this),this._jo=30,this._jp=new li,this._jt=5};z(Sk,Im,{i4:function(){return!0},i3:function(P){this._ju=P,lq.c(P);for(var Y=this._jp.i1(P),d=0,V=P.x9();V.i1();V.i2())d=n(d,this.e(V.i9()));d<this._jt&&(d=this._jt),this.a(Y,d)},a:function(r,u){var Q=r.i7(),R=2*f/Q,S=0,h=pf.a(Q),B=0;for(r.i4();Q>B;)h[B]=this.e(r.i9())+this._jo,S+=h[B],B++,r.i2();var q=S/Q,M=S/b;u>M&&(M=u),r.i4();for(var U=0,T=0;Q>T;){var k=R/q*h[T];U+=k/2;var F=y(U)*M,i=d(U)*M;U+=k/2,this._ju.s2(r.i9(),F,i),T++,r.i2()}return M},e:function(i){var y=this._ju.gj(i),e=this._ju.g9(i);return e>=y?e:y}});var xf=function(){xf.superClass.constructor.call(this),this._jm=new Sk,this._jk=new kn};z(xf,Im,{i4:function(){return!0},i3:function(d){if(!(d.x0()<2)){this._jn=d,lq.c(this._jn),lq.e(this._jn);var w=new Dn(this._jn);w.a1(),w.h();var S=new Um(this._jn);S.a();for(var F=w.x9();F.i1();F.i2()){var n=F.i9(),R=w.c2(n);if(R.ay()>1){var I=w.d1(n);Um.h(this._jn,I.c1()),this._jm.i3(this._jn);var J=this._jn.g3();w.s7(n,J.width,J.height)}else if(1===R.ay()){var l=R.x2();w.s8(n,this._jn.gm(l)),this._jn.s2(l,0,0)}else w.s7(n,1,1);Um.i(this._jn,this._jn.xf())}S.b();var N=this.a7(w);Uo.a4(w,N);var z=w.xk(),q=w.xl();this.a2(w,q,z),this.a1(w,q),this.a3(w,N,q),this._jk.a(q,z),this._jk.i3(w),this.a5(w,N,z);for(var M=w.x9();M.i1();M.i2())for(var v=M.i9(),g=w.g4(v),D=w.c2(v).x1();D.i1();D.i2()){var p=D.i9();this._jn.s2(p,g.x+this._jn.g5(p),g.y+this._jn.g6(p))}}},a7:function(z){for(var Q,j=-1,J=z.x9();J.i1();J.i2()){var n=J.i9();z.c2(n).ay()>j&&(Q=n,j=z.c2(n).ay())}return Q},a1:function(A,n){for(var l=function(m,P){var Z=n.i3(m)-n.i3(P);return Z>0?1:Z>=0?0:-1},O=A.x9();O.i1();O.i2())O.i9().av(l)},a2:function(r,S,n){for(var I=pf.a(this._jn.x0()),c=r.x9();c.i1();c.i2())for(var W=c.i9(),G=r.c2(W),y=G.x1();y.i1();y.i2())I[y.i9().al()]=W.al();this.a4(r,Uo.a2(r),I,S,n)},a3:function(m,Q,y){if(m.c2(Q).ay()>1){for(var r=0,D=0,J=0,x=Q.ap();x.i1();x.i2()){var V=x.i8(),H=y.i3(V);H-r>D&&(D=H-r,J=(r+H)/2),r=H}360-r>D&&(J=(360+r)/2),this.a6(m,Q,J);for(var c=Q.ap();c.i1();c.i2()){var i=c.i8(),P=y.i3(i);for(P-=J;0>P;P+=360);y.i6(i,P)}Q.av(function(S,h){var K=y.i3(S)-y.i3(h);return K>0?1:K>=0?0:-1})}},a4:function(g,u,Z,K,M){for(var n=u.al(),v=M.i3(u),l=u.ap();l.i1();l.i2()){for(var y=l.i8(),i=g.b(y),$=0,Y=0,o=0,t=0,C=i.c1();C.i1();C.i2()){var b,P,d=C.i8();Z[d.a2().al()]===n?(b=d.a2(),P=d.a3()):(b=d.a3(),P=d.a2()),o-=this._jn.g5(b),t+=this._jn.g6(b),$-=this._jn.g5(P),Y+=this._jn.g6(P)}if(0!==o||0!==t){var r;for(r=180*j(t,o)/f-v;0>r;r+=360);K.i6(y,r)}if(0!==$&&0!==Y){var T=180*j(Y,$)/f;0>T&&(T+=360),M.i6(y.a3(),T)}this.a4(g,y.a3(),Z,K,M)}},a5:function(L,z,P){for(var N=L.g4(z),u=z.ap();u.i1();u.i2()){var H=u.i8(),y=H.a3(),J=L.g4(y),R=180*j(J.y-N.y,J.x-N.x)/f;P.i1(y)&&(R+=P.i3(y)),this.a6(L,y,R),this.a5(L,y,P)}},a6:function($,S,Q){Q=Q/180*f;var r=$.c2(S);if(!(r.ay()<=1))for(var M=r.x1();M.i1();M.i2()){var U=M.i9(),V=this._jn.g5(U),z=this._jn.g6(U),Z=y(Q),v=d(Q),T=V*Z-v*z,k=V*v+Z*z;this._jn.s2(U,T,k)}}});var jo=function(){this._a=(new Date).getTime()};z(jo,W,{b:function(){return(new Date).getTime()-this._a}});var Wm={_A:new t(0,0),b:function(z,w,Q){return Wm.c(z.x,z.y,w.x,w.y,Q.x,Q.y)},c:function(q,N,g,Q,d,L){g-=q,Q-=N,d-=q,L-=N;var o=d*Q-L*g;return o>=0?0>=o?0:-1:1},d:function(L,m,J){return Wm.b(L,m,J)>0},f:function(W,Y,q){return Wm.b(W,Y,q)<0},g:function(X,g,C){return 0===Wm.b(X,g,C)},h:function(P){return Wm.i(P)},i:function(P){var w=new Wi(P.ah()),O=new Wi;if(w.a2(),w.ar())return O;var h=w.at();for(O.ae(h);!w.ar()&&h.equals(w.am());w.at());if(w.ar())return O;h=w.at();for(var B=O.ae(h),G=w.ah();G.i1();G.i2()){var F=G.i6();if(!F.equals(h))if(h=F,2===O.ay()&&Wm.g(O.am(),O.as(),F))B.c(F);else{var y;for(y=B;!Wm.f(O.ai(y).d(),y.d(),F);y=O.ai(y));var v;for(v=B;!Wm.d(O.aj(v).d(),v.d(),F);v=O.aj(v));for(;v!==O.aj(y);O.aw(O.aj(y)));B=O.an(F,y)}}return O},j:function(){return Wm.k(Q)},k:function(j){return O(A()*j)},l:function($,x){return A()*(x-$)+$}},li=function(){};z(li,W,{i1:function(m){this._b=m;var M=new Lr;M=ce.a6(m),M.az(ce.a7(m));for(var v=this.a1();!M.ar();m.x5(M.c3()));return v.x1()},a1:function(){if(this._b.x0()<3)return new Gk(this._b.x9());for(var s=this._b.xk(),f=this._b.xk(),x=this._b.xl(),u=new Bs(this._b,new Lf,0,this.a3(this._b)),J=this._b.x0(),h=new Lr,R=new Lr,o=new Um(this._b);J>3;J--){for(var X=u.g(),U=X.an();U.i1();U.i2())s.z1(U.i9(),J),f.i5(U.i9(),!1);for(var B=X.an();B.i1();B.i2())for(var g=B.i9(),a=g.ap();a.i1();a.i2()){var K=a.i8();s.i2(K.a3())===J&&(R.aa(K),f.i5(K.a2(),!0),f.i5(K.a3(),!0))}if(R.ay()<X.ad()-1){for(var Q=T,d=X.an();d.i1();d.i2()){var m=d.i9();if(s.i2(m)===J&&!f.i4(m))if(Q){var D=this._b.xo(Q,m);x.i7(D,!0),R.aa(D),Q=T}else Q=m}if(Q)for(var n=X.an();n.i1();n.i2()){var V=n.i9();if(V!==Q&&!V.aj(Q)){var F=this._b.xo(Q,V);x.i7(F,!0),R.aa(F);break}}if(R.ay()<X.ad()-1){for(var Y,y=2147483647,I=X.an();I.i1();I.i2()){var H=I.i9();H.ad()<y&&(Y=H,y=H.ad())}for(var w=X.an();w.i1();w.i2()){var P=w.i9();if(!Y.aj(P)&&Y!==P){var z=this._b.xo(Y,P);if(x.i7(z,!0),R.aa(z),R.ay()>=X.ad()-1)break}}}}for(var Z=X.an();Z.i1();Z.i2())u.b(Z.i9());for(var A=R.c1();A.i1();A.i2()){var M=A.i8();x.i4(M)&&(u.d(M.a2()),u.d(M.a3()))}h.az(R),o.e(X)}o.b(),u.c();for(var k=h.c1();k.i1();k.i2()){var e=k.i8();e._h&&(x.i4(e)?this._b.x5(e):this._b.h1(e))}var q,W=this.a4(this._b),c=new Gk,O=W.ak(0),t=W.ak(1);q=O.a2()===t.a2()||O.a2()===t.a3()?O.a3():O.a2(),c.aa(q);for(var C=W.c1();C.i1();C.i2()){var _=C.i8();q=_.a1(q),c.aa(q)}for(var E=h.c1();E.i1();E.i2()){var L=E.i8();x.i4(L)||L._h||this._b.u1(L)}return this._b.xi(f),this._b.xj(x),this._b.xi(s),this.a2(c),c},a2:function(V){if(V.ay()<this._b.x0()){for(var M=this._b.xk(),v=V._b;v;v=v.a()){var f=v.d();M.z1(f,v)}for(var E=new Bs(this._b,new Hk(M),0,V.ay(),new Hk(M));!E.e();){for(var p=E.f(),n=p.an();n.i1();n.i2()){var Z=n.i9();if(M.i1(Z)){var u,X=M.i1(Z),O=V.ai(X).d();u=p.aj(O)?V.ao(p,X):V.an(p,X),M.z1(p,u);break}}for(var Q=p.an();Q.i1();Q.i2()){var C=Q.i9();M.i1(C)||E.d(C)}}this._b.xi(M),E.c()}},a3:function(u){for(var k=0,F=u.x9();F.i1();F.i2())k=n(k,F.i9().ad());return k},a4:function(U){for(var i=[],V=0,q=U.x0();q>V;V++)i[V]=new Ni;var m=new Ko(i);m.a6(!1),m.a8(U);for(var z,J=-1,w=U.x9();w.i1();w.i2()){var o=w.i9(),E=i[o.al()];E._a+E._c>J&&(J=E._a+E._c,z=o)}for(var a=new Lr,d=z,N=i[d.al()]._d;N;N=i[d.al()]._d)a.ac(N),d=N.a1(d);d=z;for(var T=i[d.al()]._b;T;T=i[d.al()]._d)a.ae(T),d=T.a1(d);return a}});var Jd=function(){this._v=new Nh,this._x=new Nh,this._z=new kg(3,5),this._w=new kg(3,5),this._y=!1,this._u=!1,this._t={}};z(Jd,W,{xm:function(){var S=new gq(this);return S},xo:function(d,z){return this.xn(d,T,z,T,0,0)},xn:function(a,P,k,o,n,v){return new tm(this,a,P,k,o,n,v)},x4:function(W){this.b3(W)},b3:function(b){for(var g;g=b._o[0];)this.x5(g);for(;g=b._o[1];)this.x5(g);this._v.c(b),b._g=T,this._y=!0},x5:function(T){this.a11(T)},a11:function(v){if(v._h!==this)throw"";this.a12(v,v.a2(),v.a3()),this._x.c(v),v._h=T,this._u=!0},x7:function(d){d._p=this._v._c,d._g=this,d.ac(),d._c.length<this._z._b&&this._z.a3(d,d._c.length,this._z._b),this._v.a(d),this._y=!0},x8:function(z){if(z._h)throw"";z._c.length<this._w._b&&this._w.a3(z,z._c.length,this._w._b),z._a&&z._a._h===this?this._x.b(z,z._a):this._x.a(z),z._h=this,z.a4(),this.b2(z,z.a2(),T,z.a3(),T,0,0),this._u=!0},xr:function(i,W,J){var f=i.a2(),G=i.a3();i._h?(f!==W&&(f.ar(i,0,0),i._d=W,W.ab(i,T,0,0,0)),G!==J&&(G.ar(i,1,1),i._e=J,J.ab(i,T,1,1,0))):(i._d=W,i._e=J)},x3:function(I){this.xr(I,I.a3(),I.a2())},h1:function(H){this.a11(H)},u1:function(k){this.x8(k)},h2:function(U){this.x4(U)},h3:function(P){this.x7(P)},xa:function(){return this._v._c},x0:function(){return this._v._c},xh:function(){return this._x._c},xg:function(){return this._x._c},xb:function(){return 0===this._v._c},xq:function(t){return t._g===this},xp:function(J){return J._h===this},xd:function(){return this._v._a},x9:function(){return new Zq(this._v)},xf:function(){return new Zq(this._x)},x2:function(O,h){var j=pf.d(this.xh());if(O&&h)for(var v=this.x9();v.i1();v.i2())v.i9().at(O,1,j),v.i9().at(h,0,j);else if(!h&&O)for(var $=this.x9();$.i1();$.i2())$.i9().at(O,1,j);else if(h&&!O)for(var m=this.x9();m.i1();m.i2())m.i9().at(h,0,j)},xk:function(){return this._z.b(this._v)},xl:function(){return this._w.c(this._x)},xi:function(R){this._z.a5(R,this._v)},xj:function(N){this._w.a6(N,this._x)},xc:function(O){return this._t[O]},x1:function(Q,r){this._t[Q]=r},x6:function(c){delete this._t[c]},b2:function(Z,o,C,V,L,m,A){o.ab(Z,C,0,0,m),V.ab(Z,L,1,1,A)},a12:function(n,j,t){j.ar(n,0,0),t.ar(n,1,1)},c:function(){for(var s=0,Y=this.x9();Y.i1();Y.i2())Y.i9()._p=s++;this._y=!1},b1:function(){for(var q=0,a=this.xf();a.i1();a.i2())a.i8()._g=q++;this._u=!1},xs:function(M){M.as(this,this._z._b),M._p=this._v._c,this._v.a(M)},xt:function(j,Q,E,J,I,m,M){j.a6(this,Q,J,this._w._b),j._g=this._x._c,this._x.a(j),this.b2(j,j.a2(),E,j.a3(),I,m,M)}});var gk=function(){gk.superClass.constructor.call(this)};z(gk,Jd,{gb:function(B){return this.g1(B)},g7:function(C){return this.g2(C)},g5:function(D){var A=this.g1(D);return A.i1()+A.i3()/2},g6:function(x){var l=this.g1(x);return l.i2()+l.i4()/2},g4:function(h){return new t(this.g5(h),this.g6(h))},gi:function(F){return this.g1(F).i1()},gh:function(m){return this.g1(m).i2()},ga:function(S){var P=this.g1(S);return new t(P.i1(),P.i2())},gj:function(Q){return this.g1(Q).i3()},g9:function(Q){return this.g1(Q).i4()},gm:function(V){return new U(this.gj(V),this.g9(V))},s1:function(E,C){this.s2(E,C.x,C.y)},s2:function(I,J,N){var o=this.g1(I);o.i5(J-o.i3()/2,N-o.i4()/2)},s7:function(j,z,$){this.g1(j).i6(z,$)},s8:function(N,k){this.s7(N,k.width,k.height)},s3:function(D,L,d){this.g1(D).i5(L,d)},s4:function(k,T){this.s3(k,T.x,T.y)},gp:function(K){for(var Z=this.g2(K),V=new x,N=0;N<Z.i1();N++)V.add(Z.i2(N));return new C(V)},gf:function(S){for(var U=this.g2(S),j=new Wi,n=0;n<U.i1();n++)j.aa(U.i2(n));return j},gc:function(B){var W=new x;W.add(this.gs(B));for(var U=this.gp(B).d();U.i1();U.i2())W.add(U.i6());return W.add(this.gl(B)),new C(W)},gd:function(X){var e=new Wi;e.aa(this.gs(X));for(var z=this.gp(X).d();z.i1();z.i2())e.aa(z.i6());return e.aa(this.gl(X)),e},m1:function(P,F){var B=this.g2(P);B.i5();var w=F.ah(),C=w.i6();this.gx(P,C);var G=F.as();for(w.i2();w.i6()!==G;w.i2()){var v=w.i6();B.i4(v.x,v.y)}this.gy(P,G)},s5:function(v,b){var e=this.g2(v);e.i5();for(var G=b.d();G.i1();G.i2()){var C=G.i6();e.i4(C.x,C.y)}},s6:function(m,W){var X=this.g2(m);X.i5();for(var r=W.ah();r.i1();r.i2()){var k=r.i6();X.i4(k.x,k.y)}},m2:function(X,H,L){this.gx(X,H),this.gy(X,L)},gn:function(Y){return this.g2(Y).i6()},gk:function(R){return this.g2(R).i7()},gt:function(y,k){this.g2(y).i8(k)},gz:function(F,j){this.g2(F).i9(j)},gs:function(i){var f=this.g2(i).i6();return f?new t(this.g5(i.a2())+f.x,this.g6(i.a2())+f.y):this.g4(i.a2())},gl:function(A){var p=this.g2(A).i7();return p?new t(this.g5(A.a3())+p.x,this.g6(A.a3())+p.y):this.g4(A.a3())},gx:function(J,H){this.g2(J).i8(new t(H.x-this.g5(J.a2()),H.y-this.g6(J.a2())))},gy:function(a,F){this.g2(a).i9(new t(F.x-this.g5(a.a3()),F.y-this.g6(a.a3())))},g8:function(){for(var y=new Lr,V=this.xf();V.i1();V.i2())y.aa(V.i8());return y},g3:function(){for(var Y,I,b=Y=Q,t=I=s,m=this.x9();m.i1();m.i2()){var B=this.ga(m.i9()),U=this.gm(m.i9());b=r(B.x,b),Y=r(B.y,Y),t=n(B.x+U.width,t),I=n(B.y+U.height,I)}for(var A=this.xf();A.i1();A.i2())for(var D=this.gp(A.i8()).c();D.i1();D.i2()){var H=D.i6();b=r(H.x,b),Y=r(H.y,Y),t=n(H.x,t),I=n(H.y,I)}return{x:O(b),y:O(Y),width:O(t-b),height:O(I-Y)}}});var mo=function(){mo.superClass.constructor.call(this),this.a(new i,new k)};z(mo,gk,{a:function(C,T){this._a3=C,this._a4=T},xo:function(_,y){return this.l2(_,y,this._a4.a6())},l2:function(u,y,C){return this.l1(u,T,y,T,0,0,C)},xn:function(x,I,f,V,_,g){return this.l1(x,I,f,V,_,g,this._a4.a6())},l1:function(w,E,h,B,q,Z,x){var F=new tm(this,w,E,h,B,q,Z);return F._l=x,F},xm:function(){var C=new gq(this);return C._r=this._a3.m3(),C},g3:function(){for(var k={x:0,y:0,width:-1,height:-1},N=this.x9();N.i1();N.i2())N.i9()._r.m1(k);return k},g1:function(m){return m._r},g2:function(h){return h._l},g5:function(q){return q._r.m4()},g6:function(_){return _._r.m5()},gi:function(X){return X._r.i1()},gh:function(D){return D._r.i2()},gj:function(D){return D._r.i3()},g9:function(K){return K._r.i4()},s2:function(M,O,u){M._r.m6(O,u)},s7:function(j,E,x){j._r.i6(E,x)},s3:function(B,V,m){B._r.i5(V,m)}});var Vm=function(){Vm.superClass.constructor.call(this),this._ap=this.xk(),this._as=this.xl()};z(Vm,gk,{g1:function(m){var D=this._ap.i1(m);return D||(D=new Mi,this._ap.z1(m,D)),D},g2:function(t){var w=this._as.i1(t);return w||(w=new _m,this._as.i8(t,w)),w}});var Dn=function(H){Dn.superClass.constructor.call(this),this._ay=H,this._a0=this.xk(),this._au=this.xl()};z(Dn,Vm,{c2:function(Z){var i=this._a0.i1(Z);return i},a2:function(Y,m){this._a0.z1(Y,m)},h:function(){this._az||(this._az=this.xk());for(var J=pf.a(this._ay.x0()+1),v=1,p=this.x9();p.i1();){for(var I=this.c2(p.i9()),c=I.x1();c.i1();c.i2()){var $=c.i9();J[$.al()]=v}for(var i=new Lr,n=I.x1();n.i1();n.i2())for(var C=n.i9(),g=J[C.al()],A=C.ap();A.i1();A.i2()){var W=A.i8(),Q=W.a3(),S=J[Q.al()];S===g&&i.ac(W)}this._az.z1(p.i9(),i),p.i2(),v++}},d1:function(D){return this._az.i1(D)},b:function(X){return this._au.i1(X)},a3:function(X,c){this._au.i8(X,c)},a1:function(){var C=this._ay.xk(),d=Zk.a4(pf.a(this._ay.xh())),e=ce.a5(this._ay,d,ce.a1(this._ay,d,C));this.d2(C,e),this._ay.xi(C)},c1:function(_){for(var N,R=-1,a=0,m=_.length;m>a;a++){var j=_[a];j.ay()>R&&(N=j,R=j.ay())}return N},d2:function(i,H){for(var T=this._ay.xl(),f=this._ay.xk(),Q=H.length,G=0;Q>G;G++)for(var W=H[G],q=W.c1();q.i1();q.i2())T.i8(q.i8(),W);var D=this.c1(H);this.a4(D,i,T,new x,f);var o={};Q=H.length;for(var j=0;Q>j;j++){var p=H[j];if(p.ay()>1){var J=this.xm();o[p._id]=J}}for(var K=this._ay.x9();K.i1();K.i2()){var t=K.i9();if(i.i4(t)&&!f.i1(t)){var R=this.xm();o[t._id]=R;var z=new Gk;z.aa(t),this.a2(R,z)}}var Y=pf.d(2),Z=0;for(Q=H.length;Q>Z;Z++){var y=H[Z];if(1===y.ay()){var c=y.c2();Y[0]=c.a2(),Y[1]=c.a3();for(var A=0;2>A;A++){var V=Y[A];if(1===V.ad()){var v=this.xm();o[V._id]=v;var w=new Gk;w.aa(V),this.a2(v,w)}}}}for(var e=this._ay.x9();e.i1();e.i2()){var I=e.i9();if(f.i1(I))for(var d=f.i1(I),a=o[d._id],h=I.af();h.i1();h.i2()){var E=h.i8();if(T.i1(E)!==d){var N=o[T.i1(E)._id];if(!N){var g=E.a1(I),r=f.i1(g);N=r?o[r._id]:o[g._id]}var B,O=a.aj(N);O?B=this.b(O):(O=this.xo(a,N),B=new Lr),B.aa(E),this.a3(O,B)}}else if(i.i4(I))for(var s=o[I._id],S=I.af();S.i1();S.i2()){var M=S.i8(),C=M.a1(I),X=o[C._id];if(X){var m=s.aj(X);if(!m){var k=this.xo(s,X),$=new Lr;$.aa(M),this.a3(k,$)}}}}if(2===this._ay.x0()&&1===this._ay.xg()){var b=this._ay.xf().i8(),n=o[b.a2()._id],_=o[b.a3()._id];if(_&&n&&!_.aj(n)){var P=this.xo(n,_),L=new Lr;L.aa(b),this.a3(P,L)}}var l=pf.a(this._ay.x0()),F=1;Q=H.length;for(var U=0;Q>U;U++){var u=H[U],Wi=o[u._id];if(Wi){var hp=this.c2(Wi);hp||(hp=new Gk,this.a2(Wi,hp));for(var ko=u.c1();ko.i1();ko.i2()){var oi=ko.i8(),hj=oi.a2();l[hj.al()]===F||i.i4(hj)&&f.i1(hj)!==u||(l[hj.al()]=F,hp.aa(hj)),hj=oi.a3(),l[hj.al()]===F||i.i4(hj)&&f.i1(hj)!==u||(l[hj.al()]=F,hp.aa(hj))}}}this._ay.xj(T),this._ay.xi(f)},a4:function(M,j,c,d,T){if(!d.contains(M)){d.add(M);for(var R=[],G=M.c1();G.i1();G.i2()){var K=G.i8();R[0]=K.a2(),R[1]=K.a3();for(var B=0;2>B;B++){var k=R[B];if(j.i4(k)&&!T.i1(k)){M.ay()>1&&T.z1(k,M);for(var q=k.af();q.i1();q.i2())this.a4(c.i1(q.i8()),j,c,d,T)}}}}}});var zl=function(r,y,T){this._a={},zl.superClass.constructor.call(this);for(var F=new x,h=0,i=y.size();i>h;h++){var C=y.get(h);if(C instanceof a)F.add(C);else{C instanceof X&&C.setExpanded(!0);var p=r.getNodeSize(C);if(C instanceof X&&C.setExpanded(!1),p){var O=this.xm(),z=r._repulsion;T!==l||C instanceof X?T===l?z*=1.1:T===V&&(z*=.9):z*=.6,T===S||T===K?this.s7(O,p.height*z,p.width*z):this.s7(O,p.width*z,p.height*z),O.node=C,this._a[C.getId()]=O}}}for(h=0,i=F.size();i>h;h++){var E=F.get(h),e=E.getSourceAgent(),Q=E.getTargetAgent(),v=this._a[e.getId()],b=this._a[Q.getId()];v&&b&&v!==b&&this.xo(v,b)}};z(zl,mo,{});var lq={_D:new C,_E:new t(0,0),b:function(K){if(K.i1()>0){for(var G=new x,m=K.i1()-1;m>=0;m--)G.add(K.i2(m));K.i5();for(var L=0,R=G.size();R>L;L++){var e=G.get(L);K.i4(e.x,e.y)}}var V=K.i6();K.i8(K.i7()),K.i9(V)},c:function(P){lq.d(P,!0)},d:function(c,C){if(C)for(var k=c.xf();k.i1();k.i2()){var z=k.i8();c.gt(z,lq._E),c.gz(z,lq._E),c.s5(z,lq._D)}else for(var I=c.xf();I.i1();I.i2())c.s5(I.i8(),lq._D)},e:function(H){for(var Y=new t(0,0),j=H.xf();j.i1();j.i2()){var P=j.i8();H.gt(P,Y),H.gz(P,Y)}},f:function(U,z,b,j){for(var Q=U.gc(z).b(),d=pf.d(Q),I=0,y=U.gc(z).c();y.i1();y.i2()){var c=y.i6();(0>=I||!c.equals(d[I-1]))&&(d[I]=new t(c.x,c.y),I++)}if(Q=I,!(2>Q)){var J=new x,e=lq.i(new B(d[1].x-d[0].x,d[1].y-d[0].y));e.x*=j,e.y*=j;for(var u=lq.h(d[0],e),o=lq.h(d[1],e),w=new _(u,o),h=1;Q-1>h;h++){var M=w,E=lq.i(new B(d[h+1].x-d[h].x,d[h+1].y-d[h].y));E.x*=j,E.y*=j;var m=lq.h(d[h],E),Y=lq.h(d[h+1],E);w=new _(m,Y);var N=_.a6(M,w);N&&J.add(new t(N.x,N.y))}var X=new B(d[Q-1].x-d[Q-2].x,d[Q-1].y-d[Q-2].y);X=lq.i(X),X.x*=j,X.y*=j;var a=lq.h(d[Q-1],X),$=new C(J);z.a2()===b.a2()?(U.s5(b,$),U.m2(b,u,a)):(U.s5(b,$.a()),U.m2(b,a,u))}},g:function(e,g,U,W){for(var P=W,c=U.c1();c.i1();c.i2()){var b=c.i8();lq.f(e,g,b,P),0>P&&(P-=W),P=-P}},a:function(X,f,k){return lq.j(X,f,k,1)},l:function(s,d,$){if(!s||s.length<1)return d&&(d.x=0,d.y=0,d.width=0,d.height=0),{width:0,height:0};for(var e=0,h=0,F=0;F<s.length;F++){var y=s[F];e=n(e,y.width),h=n(h,y.height)}var K,Q,w=e*h*s.length,A=v(w/$),W=w/A,c=O(W/e),E=p(W/e),r=p(s.length/c),Y=p(s.length/E);E*Y>c*r?(K=c,Q=r):(K=E,Q=Y);var q,R=0,T=0,M=0,o=0;if(e>h)for(var u=0;u<s.length;u++)q=s[u],q.x=T*e,q.y=R*h,M=n(M,q.x+q.width),o=n(o,q.y+q.height),++T>=K&&(R++,T=0);else for(var S=0;S<s.length;S++)q=s[S],q.x=T*e,q.y=R*h,M=n(M,q.x+q.width),o=n(o,q.y+q.height),++R>=Q&&(T++,R=0);return d&&(d.x=0,d.y=0,d.width=M,d.height=o),{width:Q,height:K}},j:function(A,q,h){if(!A||A.length<1)return q&&(q.x=0,q.y=0,q.width=0,q.height=0),0;for(var u,H,L=u=A[0].width,z=H=A[0].height,w=A.length,p=1;w>p;p++){var e=A[p].width;L=r(L,e),u=n(u,e);var t=A[p].height;z=r(z,t),H=n(H,t)}if(z/H>.95&&L/u>.95)return lq.l(A,q,h).width;for(var l=new Wi,i=0,U=0;w>U;U++){var m=A[U];l.aa(A[U]),i=O(i+m.width*m.height)}l.a1(function($,u){var p=O(u.height)-O($.height);return 0===p?O(u.width)-O($.width):p});var c=0,I=0,N=O(h*v(i/h)),R=N,k=0,W=new Wi;do{var _,s,y=new Wi,J=_=s=0;W.aa(y);for(var o=l.ah();o.i1();o.i2()){var G=o.i6();J+G.width>R&&y.ay()>0?(s=n(s,J),y=new Wi,y.aa(G),W.aa(y),J=O(G.width)):(y.aa(G),J=O(J+G.width)),1===y.ay()&&(_=O(_+y.am().height))}s=n(s,J),h*_>s&&k!==s&&(W.af(),R=O(1.1*R),k=s)}while(W.ar());for(var b=0,X=W.ah();X.i1();X.i2()){for(var D=0,f=X.i6(),d=f.ah();d.i1();d.i2()){var T=d.i6();T.x=D,T.y=b,D+=T.width}c=n(c,D),b+=lq.k(f),I=n(I,b)}return q&&(q.x=0,q.y=0,q.width=c,q.height=I),W.ay()},k:function(J){for(var i=0,x=J.ah();x.i1();x.i2())i=n(x.i6().height,i);return i},h:function(u,x){return new t(u.x+x.x,u.y+x.y)},i:function(q){var c=v(q.x*q.x+q.y*q.y);return new B(-q.y/c,q.x/c)}},ag=function(D){this._a=D,this._b=!1};z(ag,W,{a:function(){return this._b},b:function(){return this._a},c:function(){return 1===this._a},d:function(){return 2===this._a},e:function(){return 4===this._a},f:function(){return 8===this._a},g:function(){return 0===this._a}}),ag.h=function(z,B){var P=z.xc("A");return P?P.i1(B):T},ag.i=function(g,x){var c=g.xc("B");return c?c.i1(x):T},ag.j=function(i){switch(i){case 1:return ag.k;case 2:return ag.l}return T},ag.k=new ag(1),ag.l=new ag(2);var pc=function(R,x,l,Z,o){this._o=0,this._l=0,this._i=0,this._d=0,this._f=0,this._b=R,this._a=1e-4,this._r=x,this._p=1,this._e=(o.gj(R)+o.g9(R))/4;var N=.45*l*v(Z);this._k=Wm.l(-N,N),this._h=Wm.l(-N,N),this._g=Wm.l(-N,N)};z(pc,W,{});var ms=function(){this._a=0,this._c=0,this._b=0};z(ms,W,{});var Qb=function(){Qb.superClass.constructor.call(this),this._dj=0,this._dh=0,this._dq=0,this._dp=0,this._dt=0,this._de=0,this._d3=0,this._dr=0,this._ed=0,this._dw=.65,this._ea=1,this._dl=80,this._dx=3,this._d8=!0,this._eb=3e5,this._ee=2,this._di=2,this._df=1e3};z(Qb,Im,{i4:function(){return!0},i3:function(l){if(l&&(this._d5=l,this.s(l))){var r=new ms,t=0,c=O(this._dx*this._dz.length*this._dz.length+20*this._dz.length);c=n(c,1e4);var I=this._ea*this._ea*this._dz.length,S=this._df;try{for(;this._dj>I&&c>t;t++){var j=this.b(2147483647&t);0===S--&&(this._dy.b()>this._eb&&(t=c),S=this._df),this.h(j,r),this.d(j,r),this.i(j,r),this._d8?(this.g(j,r),this.j(j,r)):(this.f(j,r),this.c(j,r));var B=v(r._a*r._a+r._c*r._c+r._b*r._b);this.ac(j,r,B),this.aa(j,r,B)}}finally{this.r()}}},s:function(q){if(!q||q.xa()<1)return!1;this._d5=q,this._dp=1,this._dy=new jo,this._dt=q.x0(),this._d2=pf.d(this._dt),this._df=1+1e5/this._dt,this._ed=1/(2*this._di),this._de=this._ed*this._ee/(.05*this._dl),this._d3=h(this._dl,-1)*this._ed,this._dr=h(this._dl,3)*this._ed,this._dj=0,this._du=new ms,this._dq=n(20*this._dl,10);var W=n(.1,r(this._dw*this._dl,this._dq)),P=this._dt;lq.c(q),this._dz=pf.d(P);for(var g=q.x9();g.i1();g.i2()){var N=g.i9(),v=new pc(N,W,this._dl,this._dt,q);this._dz[--P]=v,this._dj+=v._r,this._dh+=v._r*v._r,this._du._a+=v._k,this._du._c+=v._h,this._du._b+=v._g,this._d2[N.al()]=v}return this._d8=!1,this._dz.length>0},b:function(x){var M=this._dz.length,B=M-x%M-1,k=Wm.k(B+1),u=this._dz[k];return this._dz[k]=this._dz[B],this._dz[B]=u,u},f:function(z,H){for(var Q,y,J=Q=y=0,K=z._b.ae();K;K=K.a7()){var T,j=this._d2[K.a2().al()],C=j._k-z._k,S=j._h-z._h,b=j._g-z._g,V=C*C+S*S+b*b,n=v(V),M=n-(j._e+z._e);0>=M||(T=M*M*this._d3/n,J+=C*T,Q+=S*T,y+=b*T)}for(var f=z._b.ag();f;f=f.a8()){var h,t=this._d2[f.a3().al()],O=t._k-z._k,l=t._h-z._h,m=t._g-z._g,o=O*O+l*l+m*m,q=v(o),P=q-(t._e+z._e);0>=P||(h=P*P*this._d3/q,J+=O*h,Q+=l*h,y+=m*h)}H._a+=J,H._c+=Q,H._b+=y},g:function(Y,D){var V,J,G=V=J=0;this._dp++,Y._f=this._dp;for(var h=Y._b.ae();h;h=h.a7()){var j=this._d2[h.a2().al()];j._f=this._dp;var S=j._k-Y._k,x=j._h-Y._h,a=j._g-Y._g,$=S*S+x*x+a*a,s=v($);if(0!==s){var A=n(1e-6,s-(Y._e+j._e)),O=-this._ef[h.a5()]/(A*A);O+=A*A*this._d1[h.a5()],O/=s,G+=S*O,V+=x*O,J+=a*O}}for(var c=Y._b.ag();c;c=c.a8()){var H=this._d2[c.a3().al()];H._f=this._dp;var M=H._k-Y._k,C=H._h-Y._h,K=H._g-Y._g,m=M*M+C*C+K*K,f=v(m);if(0!==f){var Z=n(1e-6,f-(Y._e+H._e)),z=-this._ef[c.a5()]/(Z*Z);z+=Z*Z*this._d1[c.a5()],z/=f,G+=M*z,V+=C*z,J+=K*z}}D._a+=G,D._c+=V,D._b+=J},j:function(y,C){for(var U,A,u=U=A=0,l=this._dt-1;l>=0;l--){var N=this._d2[l];if(N._f!==y._f){var r=y._k-N._k,H=y._h-N._h,b=y._g-N._g,d=r*r+H*H+b*b;if(0!==d){var $=v(d),P=n(1e-6,$-(y._e+N._e)),e=this._dr/(P*P*$);u+=r*e,U+=H*e,A+=b*e}}}C._a+=u,C._c+=U,C._b+=A},c:function(W,r){for(var y,x,u=y=x=0,i=this._dt-1;i>=0;i--){var $=this._d2[i],H=W._k-$._k,C=W._h-$._h,j=W._g-$._g,I=H*H+C*C+j*j;if(0!==I){var z,t=v(I),A=t-(W._e+$._e);z=0>=A?this._dr/(1e-8*t):this._dr/(A*A*t),u+=H*z,y+=C*z,x+=j*z}}r._a+=u,r._c+=y,r._b+=x},i:function(b,l){var Z=this._du._b/this._dt-b._g;l._b+=Z*this._dl*this._dt/this._dh},d:function(G,F){if(0!==this._de){var k=this._du._a/this._dt-G._k,J=this._du._c/this._dt-G._h,f=this._du._b/this._dt-G._g;F._a+=k*this._de,F._c+=J*this._de,F._b+=f*this._de}},h:function(B,w){var u=.05*(B._r+2);u>0&&(w._a=Wm.l(-u,u),w._c=Wm.l(-u,u),w._b=Wm.l(-u,u))},ac:function(v,l,i){if(0!==i&&0!==v._a){var j=l._a*v._o+l._c*v._l+l._b*v._i,o=j/(i*v._a);this._dh-=v._r*v._r,this._dj-=v._r,v._r+=v._p*o>0?.45*o:.15*o,v._r>this._dq?v._r=this._dq:v._r<.1&&(v._r=.1),this._dj+=v._r,this._dh+=v._r*v._r,v._p=o}},aa:function(y,c,Y){if(Y>0){var M=y._r/Y,Z=c._a*M,k=c._c*M,n=c._b*M;y._k+=Z,y._h+=k,y._g+=n,this._du._a+=Z,this._du._c+=k,this._du._b+=n,y._a=Y,y._o=c._a,y._l=c._c,y._i=c._b}},r:function(){for(var d=this._d2.length-1;d>=0;d--){var v=this._d2[d];this._d5.s2(v._b,v._k,v._h)}}});var Rr=function(q,x){this._e=q,this._f=x,this._c={}};z(Rr,W,{r:function(){for(var $ in this._c){var t=this._c[$];t.g.setExpanded(t.b)}},p:function(){for(var J=new x,e=new x,O=new x,n=0,z=this._f.size();z>n;n++){var D=this._f.get(n);if(D instanceof a)D.isLooped()||J.add(D);else if(D instanceof w){if(D.getParent()instanceof X){D instanceof X||e.add(D);continue}J.add(D),D instanceof X&&(O.add(D),this.l(D))}}return e.each(function(V){for(var p=!0,I=0;I<O.size();I++)if(V.isDescendantOf(O.get(I))){p=!1;break}p&&J.add(V)}),J},l:function(S){if(!this._c[S.getId()]){var d=this._e.getType(S),A=R(d);if(A){this._c[S.getId()]={g:S,b:S.isExpanded()},S.setExpanded(!0);for(var U,p=new x,n=S.getChildren(),b=0,e=n.size();e>b;b++)if(U=n.get(b),U instanceof X&&(this.l(U),U.setExpanded(!1)),U instanceof a||p.contains(U)||p.add(U),U instanceof w){var M=U.getEdges();if(M)for(var G=0,s=M.size();s>G;G++){var i=M.get(G);p.contains(i)||p.add(i)}}var P=new zl(this._e,p,d);try{A.i2(P);var Y=F(d);for(var c in P._a){var z=P._a[c],q=P.g4(z);z.node.p(Y?Y.tf(q):q)}}catch(L){}S.eachChild(function(f){f instanceof X&&f.setExpanded(!0)})}}}});var lp=function(){};z(lp,W,{i1:function(D,E,L){var Q=this.a1(D,E);return this.a2(D,E,L),Q},a1:function(C,M){var j=lp.i4(C);j.ax();for(var I=0,U=j.x1();U.i1();U.i2())M.i7(U.i9(),-1);for(var p=j.x1();p.i1();p.i2()){for(var E=p.i9(),L=-1,K=E.aq();K.i1();K.i2())L=n(L,M.i2(K.i9()));M.i7(E,L+1),I=n(I,L+1)}return I+1},a2:function(V,b,M){M.az(lp.i3(V,b))}}),lp.i3=function(A,Q){for(var C=new Lr,n=A.xf();n.i1();n.i2()){var m=n.i8();Q.i2(m.a2())>Q.i2(m.a3())&&(A.x3(m),C.ac(m))}return C},lp.i4=function(m){var S=pf.a(m.xa());return(new $e).a1(m,S),lp.i2(m,S)},lp.i2=function(C,D){for(var n=pf.d(C.x0()),G=C.x9();G.i1();G.i2()){var A=G.i9(),u=A.al();n[D[u]]=A}return new Gk(n)};var vo=function(){vo.superClass.constructor.call(this),this.c0()};z(vo,Lr,{c0:function(){this._bc=1,this._bd=0}});var Vh=function(){this._m1=20,this._m2=60,this._m3=5,this._m4=0};z(Vh,W,{i4:function(j){this._m3=j},i5:function(b){this._m4=b},i3:function(m){this._m1=m},i6:function(j){this._m2=j},i2:function(S){this._m5=S},t1:function(){return this._m2},a1:function(k,X){for(var v=pf.d(X.length),I=0;I<X.length;I++)v[I]=X[I].x1();this.a2(k,v)},a2:function(y,Y){for(var M=pf.a(Y.length),e=0,X=0;X<Y.length;X++){var C=0,x=Y[X];for(x.i4();x.i1();x.i2())C=n(C,y.g9(x.i9()));for(M[X]=C,x.i4();x.i1();x.i2()){var z=(M[X]-y.g9(x.i9()))/2;y.s4(x.i9(),new t(y.gi(x.i9()),e+z))}e+=M[X]+this.t1(),x.i4()}},i1:function(b,q,p){this._m6=b,this.t2(q,p)}});var To=function(){To.superClass.constructor.call(this)};z(To,Vh,{t2:function(i){var W=this._m6;this._a=W.xc("D"),this._h=W.xc("C"),this.a1(W,i),this.tg(W,i),this.tf(i,Zk.a5(this._e),this._m5,this._l),this.tb(W,this._f[0]),this.ta(i),this.th(W,this._f[0],i),this.b(i),this.tb(W,this._f[1]),this.ta(i),this.th(W,this._f[1],i),this.b(i),this.a11(this._f[1]),this.a12(i),this.tb(W,this._f[2]),this.ta(i),this.th(W,this._f[2],i),this.b(i),this.tb(W,this._f[3]),this.ta(i),this.th(W,this._f[3],i),this.b(i),this.a11(this._f[3]),this.a12(i),this.tc(W),this.tj()},a11:function(u){for(var J=0;J<u.length;J++)u[J]=-u[J]},b:function(d){for(var _=0;_<d.length;_++){var h=d[_];h.ax()}for(var S=0;S<d.length;S++)for(var e,a=0,y=d[S].x1();y.i1();y.i2()){var R=y.i9(),i=R.al();this._l[i]=a++,this._b[i]=e,this._k[i]=T,e&&(this._k[e.al()]=R),e=R}var P=this._a;this._a=this._h,this._h=P;for(var M=this._m6.xf();M.i1();M.i2()){var V=M.i8(),F=this._m6.gn(V);this._m6.gt(V,new t(-F.x,F.y));var j=this._m6.gk(V);this._m6.gz(V,new t(-j.x,j.y))}var o=this._l,n=function(x,X){return!x&&X?1:x&&!X?-1:x||X?o[x.a2().al()]-o[X.a2().al()]:0},E=function(u,l){return!u&&l?1:u&&!l?-1:u||l?o[u.a3().al()]:0};this._m6.x2(n,E)},a12:function(Q){for(var r=this._m6.xf();r.i1();r.i2()){var Y=r.i8();this._m6.x3(Y);var s=this._m6.gn(Y),j=this._m6.gk(Y);this._m6.gz(Y,s),this._m6.gt(Y,j)}for(var C=new Wi,X=0,n=0;X<Q.length;X++)C.ae(Q[X]);for(;n<Q.length;n++)Q[n]=C.au();var D=this._l,G=function(r,s){return!r&&s?1:r&&!s?-1:r||s?D[r.a2().al()]-D[s.a2().al()]:0},R=function(V,X){return!V&&X?1:V&&!X?-1:V||X?D[V.a3().al()]:0};this._m6.x2(G,R)},tg:function(Z,x){var w=Z.x0(),M=Z.xg(),o=0;for(this._l=pf.a(w),this._b=pf.d(w),this._k=pf.d(w),this._m=pf.d(w),this._i=pf.d(w),this._o=pf.d(w),this._f=pf.e(4,w),this._c=pf.a(w),this._g=pf.a(w),this._j=pf.a(w),this._d=pf.b(w),this._e=pf.b(M);o<x.length;o++)for(var g,O=0,p=x[o].x1();p.i1();p.i2()){var _=p.i9(),s=_.al();this._l[s]=O++,this._b[s]=g,this._k[s]=T,g&&(this._k[g.al()]=_),g=_}var X=this._l,E=function(n,L){return!n&&L?1:n&&!L?-1:n||L?X[n.a2().al()]-X[L.a2().al()]:0},z=function(H,Q){return!H&&Q?1:H&&!Q?-1:H||Q?X[H.a3().al()]:0};Z.x2(E,z)},tb:function(S,R){for(var H=S.x9();H.i1();H.i2()){var b=H.i9(),x=b.al();this._m[x]=b,this._i[x]=b,R[x]=Q,this._o[x]=b,this._c[x]=Q,this._d[x]=!1,this._j[x]=this._g[x]=0}},ta:function(L){for(var h=1;h<L.length;h++)for(var j=-1,z=L[h]._b;z;z=z.a()){var e=z.d(),n=e.al(),s=e.ak();if(0!==s){for(var P=O((s+1)/2),K=p((s+1)/2),q=1,H=e.ae(),o=!1;P>q;H=H.a7())q++;for(;K>=q&&!o;q++){var u=this._m6.g2(H),$=H.a2(),J=$.al();this._i[n]===e&&!this._e[H.a5()]&&j<this._l[J]&&(j=this._l[J],this._i[J]=e,this._m[n]=this._m[J],this._i[n]=this._m[n],o=!0,this._j[J]=u.i6().x,this._g[n]=u.i7().x),H=H.a7()
}}}},th:function(i,H,x){for(var y=i.x9();y.i1();y.i2()){var r=y.i9(),W=r.al();this._m[W]===r&&this.td(i,r,H)}for(var f=0;f<x.length;f++){var A=x[f].x1();if(A.i1()){var M=x[f].x1().i9(),z=M.al();this._o[this._m[z].al()]===M&&this.tk(i,M,H)}}for(var B=i.x9();B.i1();B.i2()){var c=B.i9(),t=c.al(),K=this._c[this._o[this._m[t].al()].al()];Q>K&&(H[t]+=K)}},td:function(X,U,d){var q=U.al();if(d[q]===Q){d[q]=0;var F=U,K=0;do{var R=F.al();if(R!==q&&(K-=this._g[R]),this._l[R]>0){var $=this._b[R],b=this._m[this._b[R].al()],I=b.al();this.td(X,b,d),this._o[q]===U&&(this._o[q]=this._o[I]),this._o[q]===this._o[I]&&(d[q]=n(d[q],d[$.al()]+this.ti(X,$,F)-K))}K+=this._j[R],F=this._i[R]}while(F!==U);K=0,F=U;do{var c=F.al();c!==q&&(K-=this._g[c]),d[c]=d[q]+K,K+=this._j[c],F=this._i[c]}while(F!==U)}},tk:function(c,$,G){var O=$.al();if(!this._d[O]){this._d[O]=!0;var p=$;do{var b=p.al(),u=this._k[b];if(u){var A=u.al(),R=this._o[this._m[A].al()];if(R!==this._o[O]){var e=G[A]-G[O]-this.ti(c,p,u);this._c[R.al()]!==Q&&(e+=this._c[R.al()]),this._c[this._o[O].al()]=r(this._c[this._o[O].al()],e)}else this.tk(c,this._m[A],G)}p=this._i[b]}while(p!==$)}},tc:function(H){for(var m=pf.a(4),P=pf.a(4),R=H.x9();R.i1();R.i2()){var o=R.i9().al();P[0]+=this._f[0][o],P[1]+=this._f[1][o],P[2]+=this._f[2][o],P[3]+=this._f[3][o]}P[0]/=H.xa(),P[1]/=H.xa(),P[2]/=H.xa(),P[3]/=H.xa();for(var D=H.x9();D.i1();D.i2()){var L=D.i9(),s=L.al(),C=H.g4(L);m[0]=this._f[0][s]-P[0],m[1]=this._f[1][s]-P[1],m[2]=this._f[2][s]-P[2],m[3]=this._f[3][s]-P[3],m.sort(pf.n),H.s1(L,new t((m[1]+m[2])/2,C.y))}},ti:function(D,Y,n){var z,j=D.gj(Y),H=D.gj(n);return z=j>1&&H>1?this._m1+(j+H)/2:this._m3+(j+H)/2,this._l[Y.al()]<this._l[n.al()]?(this._a&&(z+=this._a.i3(n)),this._h&&(z+=this._h.i3(Y))):(this._a&&(z+=this._a.i3(Y)),this._h&&(z+=this._h.i3(n))),z},tj:function(){this._l=this._b=this._k=this._e=this._m=this._i=this._f=this._c=this._o=this._d=this._j=this._g=T},tf:function(n,j,t,T){for(var N=n.length,H=2;N-1>H;H++)for(var B=-1,o=0,G=0,L=n[H].x1(),h=n[H].x1();h.i1();h.i2()){var s,w=h.i9(),i=!1;if(1===w.ak()&&(s=w.ae().a2(),t.i1(s)&&t.i1(w)&&(i=!0)),G===n[H].ay()-1||i){for(var l=i?T[s.al()]:n[H-1].ay();G>=o;o++){for(var W=L.i9(),J=W.am();J.i1();J.i2()){var D=J.i8(),C=T[D.a2().al()];(B>C||C>l)&&j.i7(J.i8(),!0)}L.i2()}B=l}G++}}});var Nm=function(D,Z){this._b=20,this._a=Z,this._d=D,this._f={}};z(Nm,W,{a3:function(h){this._b=h},a4:function(d,v,f,t,h){if(this.a2(d)){var F=this.b2(d);F._o=v,F._m=h,F._n=t,F._f=f}},b2:function(E){var g=this._f[E._id];return g||(g=new Qf,this._f[E._id]=g),g},a2:function(F){return!!this._f[F._id]},c:function(){for(var R=Zk.a1(pf.a(this._d.xa())),P=Zk.a1(pf.a(this._d.xa())),Z=this._d.x9();Z.i1();Z.i2()){var F=Z.i9();if(this.a2(F)){var e=this.b2(F);R.i6(F,this._b*(e.c()-1)),P.i6(F,this._b*(e.b()-1))}}this._d.x1("D",R),this._d.x1("C",P)},g:function(){this._d.x6("D"),this._d.x6("C")},f:function(){for(var x=this._d.x9();x.i1();x.i2()){var L=x.i9();if(this.a2(L)){var M=this._d.gi(L),j=this._d.gh(L),U=this._d.gj(L),r=this._d.g9(L),R=this.b2(L),A=R._q.ay()+R._b.ay()+R._f,V=R._d.ay()+R._g.ay()+R._o,W=R._i.ay()+R._l.ay()+R._n,y=R._h.ay()+R._k.ay()+R._m,d=this._a.a7(U,A),o=this._a.a7(U,V),h=this._a.a7(r,y),K=this._a.a7(r,W);R.a2(this._a.a8(U,A,d),this._a.a8(U,V,o),this._a.a8(r,y,h),this._a.a8(r,W,K));for(var e=R._j.c1();e.i1();e.i2()){var F=e.i8(),m=this.a1(F),k=this.b1(F),P=new Wi;m.b()===k.b()?(m.c()?(P.aa(new t(M+R._g._bd*o+R._c,j)),P.aa(new t(M+R._g._bd*o+R._c,j-this._b)),R._g._bd++,P.aa(new t(M+R._g._bd*o+R._c,j-this._b)),P.aa(new t(M+R._g._bd*o+R._c,j)),R._g._bd++,R._g._bc=n(R._g._bc,2)):m.d()?(P.aa(new t(M+R._b._bd*d+R._p,j+r)),P.aa(new t(M+R._b._bd*d+R._p,j+r+this._b)),R._b._bd++,P.aa(new t(M+R._b._bd*d+R._p,j+r+this._b)),P.aa(new t(M+R._b._bd*d+R._p,j+r)),R._b._bd++,R._b._bc=n(R._b._bc,2)):m.f()?(P.aa(new t(M,j+R._i._bd*K+R._a)),P.aa(new t(M-this._b,j+R._i._bd*K+R._a)),R._i._bd++,P.aa(new t(M-this._b,j+R._i._bd*K+R._a)),P.aa(new t(M,j+R._i._bd*K+R._a)),R._i._bd++,R._i._bc=n(R._i._bc,2)):m.e()&&(P.aa(new t(M+U,j+R._h._bd*h+R._e)),P.aa(new t(M+U+this._b,j+R._h._bd*h+R._e)),R._h._bd++,P.aa(new t(M+U+this._b,j+R._h._bd*h+R._e)),P.aa(new t(M+U,j+R._h._bd*h+R._e)),R._h._bd++,R._h._bc=n(R._h._bc,2)),this._d.m1(F,P)):m.c()||k.c()?m.e()||k.e()?(P.aa(new t(M+U-R._d._bd*o-R._c,j)),P.aa(new t(M+U-R._d._bd*o-R._c,j-this._b*R._d._bc)),P.aa(new t(M+U+this._b*R._h._bc,j-this._b*R._d._bc)),P.aa(new t(M+U+this._b*R._h._bc,j+R._h._bd*h+R._e)),P.aa(new t(M+U,j+R._h._bd*h+R._e)),R._d._bd++,R._d._bc++,R._h._bd++,R._h._bc++,k.c()&&P.ax(),this._d.m1(F,P)):m.f()||k.f()?(P.aa(new t(M+R._g._bd*o+R._c,j)),P.aa(new t(M+R._g._bd*o+R._c,j-this._b*R._g._bc)),P.aa(new t(M-this._b*R._i._bc,j-this._b*R._g._bc)),P.aa(new t(M-this._b*R._i._bc,j+R._i._bd*K+R._a)),P.aa(new t(M,j+R._i._bd*K+R._a)),R._g._bd++,R._g._bc++,R._i._bd++,R._i._bc++,k.c()&&P.ax(),this._d.m1(F,P)):(m.d()||k.d())&&(P.aa(new t(M+U-R._d._bd*o-R._c,j)),P.aa(new t(M+U-R._d._bd*o-R._c,j-this._b*R._d._bc)),P.aa(new t(M+U+this._b*R.b(),j-this._b*R._d._bc)),P.aa(new t(M+U+this._b*R.b(),j+r+this._b*R._q._bc)),P.aa(new t(M+U-R._q._bd*d-R._p,j+r+this._b*R._q._bc)),P.aa(new t(M+U-R._q._bd*d-R._p,j+r)),R._d._bd++,R._d._bc++,R._k._bc++,R._h._bc++,R._q._bc++,R._q._bd++,k.c()&&P.ax(),this._d.m1(F,P)):m.d()||k.d()?m.e()||k.e()?(P.aa(new t(M+U-R._q._bd*d-R._p,j+r)),P.aa(new t(M+U-R._q._bd*d-R._p,j+r+this._b*R._q._bc)),P.aa(new t(M+U+this._b*R._k._bc,j+r+this._b*R._q._bc)),P.aa(new t(M+U+this._b*R._k._bc,j+r-R._k._bd*h-R._e)),P.aa(new t(M+U,j+r-R._k._bd*h-R._e)),R._q._bd++,R._q._bc++,R._k._bd++,R._k._bc++,k.d()&&P.ax(),this._d.m1(F,P)):(m.f()||k.f())&&(P.aa(new t(M+R._b._bd*d+R._p,j+r)),P.aa(new t(M+R._b._bd*d+R._p,j+r+this._b*R._b._bc)),P.aa(new t(M-this._b*R._l._bc,j+r+this._b*R._b._bc)),P.aa(new t(M-this._b*R._l._bc,j+r-R._l._bd*K-R._a)),P.aa(new t(M,j+r-R._l._bd*K-R._a)),R._b._bd++,R._b._bc++,R._l._bd++,R._l._bc++,k.d()&&P.ax(),this._d.m1(F,P)):(P.aa(new t(M,j+r-R._l._bd*K-R._a)),P.aa(new t(M-this._b*R._l._bc,j+r-R._l._bd*K-R._a)),P.aa(new t(M-this._b*R._l._bc,j+r+this._b*R.a1())),P.aa(new t(M+U+this._b*R._k._bc,j+r+this._b*R.a1())),P.aa(new t(M+U+this._b*R._k._bc,j+r-R._k._bd*h-R._e)),P.aa(new t(M+U,j+r-R._k._bd*h-R._e)),R._l._bd++,R._l._bc++,R._b._bc++,R._q._bc++,R._k._bc++,R._k._bd++,k.f()&&P.ax(),this._d.m1(F,P))}}}},a5:function(T,Y){for(var h=0;h<T.length;h++)for(var H=T[h],p=Y[h],B=H.x1();B.i1();B.i2()){var Q=B.i9();if(this.a2(Q)){var b=this.b2(Q);p._g=n(p._g,this._b*(b.d()-1)),p._j=n(p._j,this._b*(b.a1()-1))}}},a1:function(o){var W,q=this._d.xc("A");if(q&&(W=q.i1(o)),!W||W.g()){var y=this._d.xc("B");if(!y)return ag.j(1);var F=y.i1(o);if(!F||F.g())return ag.j(1);if(F.c())return ag.j(8);if(F.f())return ag.j(1);if(F.d())return ag.j(4);if(F.e())return ag.j(2)}return W},b1:function(Y){var n,r=this._d.xc("B");if(r&&(n=r.i1(Y)),!n||n.g()){var g=this._d.xc("A");if(!g)return ag.j(8);var s=g.i1(Y);if(!s||s.g())return ag.j(8);if(s.c())return ag.j(8);if(s.f())return ag.j(1);if(s.d())return ag.j(4);if(s.e())return ag.j(2)}return n}});var Qf=function(){this._o=0,this._f=0,this._n=0,this._m=0,this._c=0,this._p=0,this._e=0,this._a=0,this._j=new Lr,this._g=new vo,this._d=new vo,this._b=new vo,this._q=new vo,this._h=new vo,this._k=new vo,this._i=new vo,this._l=new vo};z(Qf,W,{a1:function(){return n(this._q._bc,this._b._bc)},d:function(){return n(this._d._bc,this._g._bc)},b:function(){return n(this._k._bc,this._h._bc)},c:function(){return n(this._l._bc,this._i._bc)},a2:function(C,R,M,T){this._c=R,this._a=T,this._p=C,this._e=M,this._g.c0(),this._d.c0(),this._b.c0(),this._q.c0(),this._k.c0(),this._h.c0(),this._l.c0(),this._i.c0()}});var eh=function(C,I,h,a){this._k=20,this._r=.5,this._d=C,this._c=I,this._j=h,this._m=a,this._i=C.xc("A")!=T||C.xc("B")!=T,this._t=new cc(C,I,h,a),this._b=new Nm(C,this)};z(eh,W,{a6:function(y){this._k=y,this._t.a1(y),this._b.a3(y)},g1:function(){return this._k},a9:function(z){return this.c1(),z},a5:function(L){return this.a1(),L},b3:function(y){return this.c1(),y=this.c4(y),this._b.c(),y},g2:function(W){return this._b.g(),W},e2:function(X){X=this.f(X),this._b.f()},e1:function(){this._t.d(),this._n&&this._d.xi(this._n),this.a1(),this._d=T},a1:function(){this._i&&(this._q&&(this._d.x1("A",this._q),this._q=T),this._p&&(this._d.x1("B",this._p),this._p=T),this._h&&(this._d.xj(this._h),this._h=T),this._l&&(this._d.xj(this._l),this._l=T))},c1:function(){if(this._i){this._h||(this._h=this._d.xl()),this._l||(this._l=this._d.xl());for(var $=this._d.xf();$.i1();$.i2()){var Y=$.i8(),p=this._j.i1(Y.a2()),I=this._j.i1(Y.a3());if(p&&!I){var F=this._j.i1(Y.a2());this._m.i4(F)?this._l.i8(Y,ag.h(this._d,F)):this._l.i8(Y,ag.i(this._d,F))}else if(!p&&I){var v=this._j.i1(Y.a3());this._m.i4(v)?this._h.i8(Y,ag.i(this._d,v)):this._h.i8(Y,ag.h(this._d,v))}else p||I||(this._m.i4(Y)?(this._h.i8(Y,ag.i(this._d,Y)),this._l.i8(Y,ag.h(this._d,Y))):(this._h.i8(Y,ag.h(this._d,Y)),this._l.i8(Y,ag.i(this._d,Y))))}this._q=this._d.xc("A"),this._p=this._d.xc("B"),this._d.x1("A",this._h),this._d.x1("B",this._l)}},c4:function(F){this._n=this._d.xk(),this._a=this._d.xl(),this._g=this._d.xl();for(var o=new Lr,E=new Lr,h=new Lr,Q=new Lr,O=new Lr,T=new Lr,I=new Lr,z=new Lr,x=new Lr,c=this._d.xk(),N=0;N<F.length;N++)for(var y=0,P=F[N].x1();P.i1();)c.i6(P.i9(),y),P.i2(),y++;for(var q=function(I,u){var l=c.i3(I.a3())-c.i3(u.a3());return 0>=l?l>=0?0:-1:1},C=function(W,D){var J=c.i3(W.a2())-c.i3(D.a2());return 0>=J?J>=0?0:-1:1},a=0;a<F.length;a++)for(var e=F[a],D=e._b;D;D=D.a()){var u=D.d(),d=0;u.av(q),u.au(C),o.af(),E.af(),h.af(),Q.af(),O.af(),T.af(),I.af(),z.af(),x.af();for(var n=u.ap();n.i1();){var B=n.i8(),i=this.b1(B);!i||i.d()||i.g()?h.aa(B):i.e()?o.aa(B):i.f()?(E.aa(B),x.aa(B)):i.c()&&(z.aa(B),x.aa(B)),n.i2(),d++}d=0;for(var s=u.am();s.i1();){var l=s.i8(),X=this.a2(l);!X||X.c()||X.g()?Q.aa(l):X.e()?o.aa(l):X.f()?(E.aa(l),x.aa(l)):X.d()&&(T.aa(l),x.aa(l)),s.i2(),d++}var J=c.i3(u);if(!x.ar())for(var V=.1/x.ay(),f=J-.4;!x.ar();f+=V){var L=x.c3();if(L.a2()===u){var Y=this._d.xm();this._n.z1(Y,L.a2()),this._d.s7(Y,1,1),this._c.z1(Y,this._c.i1(u)),c.i6(Y,f),this._a.i8(L,this._d.gn(L)),this._d.gt(L,Wm._A),this._d.xr(L,Y,L.a3()),e.ao(Y,D)}else{var g=this._d.xm();this._n.z1(g,L.a3()),this._d.s7(g,1,1),this._c.z1(g,this._c.i1(u)),c.i6(g,f),this._g.i8(L,this._d.gk(L)),this._d.gz(L,Wm._A),this._d.xr(L,L.a2(),g),e.ao(g,D)}}if(!o.ar())for(var U=.1/o.ay(),p=J+.1;!o.ar();p+=U){var H=o.c3();if(H.a2()===u){var R=this._d.xm();this._n.z1(R,H.a2()),this._d.s7(R,1,1),this._c.z1(R,this._c.i1(u)),c.i6(R,p),this._a.i8(H,this._d.gn(H)),this._d.gt(H,Wm._A),this._d.xr(H,R,H.a3()),D=e.an(R,D)}else{var m=this._d.xm();this._n.z1(m,H.a3()),this._d.s7(m,1,1),this._c.z1(m,this._c.i1(u)),c.i6(m,p),this._g.i8(H,this._d.gk(H)),this._d.gz(H,Wm._A),this._d.xr(H,H.a2(),m),D=e.an(m,D)}}var r=eh._z;this._b.a2(u)&&(r=this._b.b2(u));var K=r._b.ay()+T.ay()+u.ao()+O.ay()+r._q.ay();if(K>0)for(var k=this._d.g9(u)/2,b=this._d.gj(u),v=this.a7(b,K),W=-.5*b+this.a8(this._d.gj(u),K,v)+v*(r._b.ay()+T.ay()),G=u.ap();G.i1();G.i2()){var $=G.i8();this.c2($)||this._j.i1($.a2())||(this._d.g2($).i8(new t(W,k)),W+=v)}var M=this._t.a3(u),j=0,_=0,A=0,Z=0;if(M&&(j=M._e.ay(),_=M._c.ay(),A=M._b.ay(),Z=M._d.ay()),K=r._g.ay()+j+z.ay()+u.ak()+I.ay()+_+r._d.ay(),K>0){for(var S=this._d.gj(u),w=this.a7(S,K),cn=this.a8(S,K,w),ef=-.5*S+cn+w*(r._g.ay()+j+z.ay()),Aj=-this._d.g9(u)/2,sr=u.am();sr.i1();sr.i2()){var Le=sr.i8();this.d1(Le)||this._j.i1(Le.a3())||(this._d.g2(Le).i9(new t(ef,Aj)),ef+=w)}if(M){for(var ad=-.5*S+cn+w*(r._g.ay()+z.ay()+M._e.ay()-1),ur=M._e.c1();ur.i1();ur.i2()){var un=ur.i8();this._d.u1(un),un.a2()!==u||this.c2(un)?this.d1(un)||(this._d.g2(ur.i8()).i9(new t(ad,Aj)),ad-=w):(this._d.g2(ur.i8()).i8(new t(ad,Aj)),ad-=w),this._d.h1(un)}ad=.5*S-cn-w*(r._d.ay()+I.ay());for(var dq=M._c.c1();dq.i1();dq.i2()){var gq=dq.i8();this._d.u1(gq),gq.a2()!==u||this.c2(gq)?this.d1(gq)||(this._d.g2(dq.i8()).i9(new t(ad,Aj)),ad-=w):(this._d.g2(dq.i8()).i8(new t(ad,Aj)),ad-=w),this._d.h1(gq)}}}this._b.a2(u)&&this._b.a4(u,j+z.ay()+u.ak()+I.ay()+_,T.ay()+u.ao()+O.ay(),A+E.ay(),Z+o.ay())}return this._d.xi(c),F},a7:function(x,y){return 1>=y?0:x/(y-1+2*this._r)},a8:function(U,r,A){return 1>=r?.5*U:.5*(U-A*(r-1))},f:function(o){var u=this.g1(),c=0;for(this._f=this._d.xk();c<o.length;c++)for(var b=o[c],j=b._b;j;){var S=j.d(),n=this._n.i1(S);if(n||this._t.b2(S))j=j.a();else{var l=new Gk,q=new Gk,W=new Gk,N=new Gk,C=new Gk,v=new Gk,m=new Lr,Q=new Lr,p=new uf(l,q,W,N,C,v,m,Q);this._f.z1(S,p),m.ab(S.am()),Q.ab(S.ap());for(var x=j.b();x&&this._n.i1(x.d())===S;x=x.b()){var a=x.d(),Z=this.c3(a);Z.f()?q.ac(a):Z.c()?N.ac(a):Z.d()&&v.ac(a)}for(var U=j.a();U&&this._n.i1(U.d())===S;U=U.a()){var f=U.d(),Y=this.c3(f);Y.e()?l.aa(f):Y.c()?W.aa(f):Y.d()&&C.aa(f)}j=U}}for(var w=this.d2(o),E=0,B=0;B<o.length;B++){var e=w[B];B>0&&(E+=w[B-1]._j+w[B-1]._h+w[B-1]._b),E+=e._g+e._f+e._a+e._d;for(var r=o[B].x1();r.i1();r.i2()){var D=r.i9();this._d.s3(D,this._d.gi(D),this._d.gh(D)+E)}e._c+=E,e._i+=E}for(var V=0;V<o.length;V++)for(var z=o[V],k=z.x1();k.i1();k.i2()){var i=k.i9();this._n.i1(i)&&z.av(k)}for(var P=this,I=function(_,R){return P.a3(_)?P.a3(R)?P._d.gi(_)>=P._d.gi(R)?-1:1:1:P.a3(R)?-1:P._d.gi(_)>=P._d.gi(R)?1:-1},G=function(U,H){return P.a3(U)?P.a3(H)?P._d.gi(U)>=P._d.gi(H)?1:-1:1:P.a3(H)?-1:P._d.gi(U)>=P._d.gi(H)?-1:1},F=0;F<o.length;F++)for(var s=w[F],K=o[F].x1();K.i1();K.i2()){var A=K.i9();if(!this._t.b2(A)){var H=this._f.i1(A),g=H._d,h=H._a,J=H._b,O=H._h,R=H._f,d=H._c,$=H._g,M=H._e,_=0,X=0,y=0,L=0,mq=A.ao(),pb=A.ak(),Pk=this._d.gi(A),qf=this._d.gh(A),Vg=this._d.gj(A),be=this._d.g9(A),Ld=this._t.a3(A),aj=eh._z;if(this._b.a2(A)&&(aj=this._b.b2(A)),Ld){if(_=Ld._d.ay(),X=Ld._b.ay(),y=Ld._e.ay(),L=Ld._c.ay(),_>0)for(var ug=aj._h.ay()+g.ay()+_+aj._k.ay(),yq=this.a7(be,ug),Yd=this.a8(be,ug,yq),Sb=qf+Yd+yq*(aj._h.ay()+this.a4(g)),Zl=Ld._d.c1();Zl.i1();Zl.i2()){var Ab=Zl.i8();this._d.u1(Ab),Ab.a2()===A?this.c2(Ab)||this._d.gx(Ab,new t(Pk+Vg,Sb)):(this.d1(Ab),this._d.gy(Ab,new t(Pk+Vg,Sb))),Sb+=yq,this._d.h1(Ab)}if(X>0)for(var rm=aj._i.ay()+h.ay()+X+aj._l.ay(),tg=this.a7(be,rm),Xk=this.a8(be,rm,tg),Gp=qf+Xk+tg*(aj._i.ay()+this.a4(h)),ff=Ld._b.c1();ff.i1();ff.i2()){var Dq=ff.i8();this._d.u1(Dq),Dq.a2()===A?this.c2(Dq)||this._d.gx(Dq,new t(Pk,Gp)):this.d1(Dq)||this._d.gy(Dq,new t(Pk,Gp)),Gp+=tg,this._d.h1(Dq)}}if(g.ay()>0){g.a1(I);for(var Hd=aj._h.ay()+g.ay()+_+aj._k.ay(),Cq=this.a7(be,Hd),Oc=this.a8(be,Hd,Cq),yb=qf+Oc+Cq*aj._h.ay(),Co=!0;!g.ar();){var rs=g.x4();if(this.a3(rs)){Co&&(Co=!1,yb+=Cq*_);var Al=rs.ag(),mc=this._d.gd(Al),qj=mc.at();if(mc.ac(new t(qj.x,s.b())),this.c2(Al)){var gs=this._a.i1(Al);mc.ac(new t(qj.x,gs.y+this._d.g6(A))),mc.ac(new t(gs.x+this._d.g5(A),gs.y+this._d.g6(A)))}else mc.ac(new t(qj.x,yb)),mc.ac(new t(Pk+Vg,yb));this._d.xr(Al,A,Al.a3()),this._d.m1(Al,mc)}else{var ie=rs.ae(),Hr=this._d.gd(ie),mo=Hr.au();if(Hr.ae(new t(mo.x,s.a())),this.d1(ie)){var sj=this._g.i1(ie);Hr.ae(new t(mo.x,sj.y+this._d.g6(A))),Hr.ae(new t(sj.x+this._d.g5(A),sj.y+this._d.g6(A)))}else Hr.ae(new t(mo.x,yb)),Hr.ae(new t(Pk+Vg,yb));this._d.xr(ie,ie.a2(),A),this._d.m1(ie,Hr)}this._d.x4(rs),yb+=Cq}}if(h.ay()>0){h.a1(G);for(var rq=aj._i.ay()+h.ay()+X+aj._l.ay(),Ak=this.a7(be,rq),wb=this.a8(be,rq,Ak),ns=qf+wb+Ak*aj._i.ay(),ts=!0;!h.ar();){var Bf=h.x4();if(this.a3(Bf)){ts&&(ts=!1,ns+=Ak*X);var Rl=Bf.ag(),_b=this._d.gd(Rl),yp=_b.at();if(_b.ac(new t(yp.x,s.b())),this.c2(Rl)){var Pp=this._a.i1(Rl);_b.ac(new t(yp.x,Pp.y+this._d.g6(A))),_b.ac(new t(Pp.x+this._d.g5(A),Pp.y+this._d.g6(A)))}else _b.ac(new t(yp.x,ns)),_b.ac(new t(Pk,ns));this._d.xr(Rl,A,Rl.a3()),this._d.m1(Rl,_b)}else{var Tr=Bf.ae(),Uq=this._d.gd(Tr),pj=Uq.au();if(Uq.ae(new t(pj.x,s.a())),this.d1(Tr)){var Td=this._g.i1(Tr);Uq.ae(new t(pj.x,Td.y+this._d.g6(A))),Uq.ae(new t(Td.x+this._d.g5(A),Td.y+this._d.g6(A)))}else Uq.ae(new t(pj.x,ns)),Uq.ae(new t(Pk,ns));this._d.xr(Tr,Tr.a2(),A),this._d.m1(Tr,Uq)}this._d.x4(Bf),ns+=Ak}}var pr=aj._g.ay()+aj._d.ay()+pb+O.ay()+J.ay()+y+L;Vg=this._d.gj(A);var jd=this.a7(Vg,pr),ep=this.a8(Vg,pr,jd);pr=aj._b.ay()+aj._q.ay()+mq+d.ay()+R.ay();var Go=this.a7(Vg,pr),Ji=this.a8(Vg,pr,Go);if(O.ay()>0)for(var us,ok=jd,Ob=u,hk=this._d.gi(A)+ep+ok*(aj._g.ay()+O.ay()-1),zi=this._d.gh(A),nq=s._c-s._g-O.ay()*Ob;!O.ar();this._d.x4(us)){us=O.x4();var Zq=us.ag(),Si=this._d.gd(Zq),up=Si.at();if(Si.ac(new t(up.x,s.b())),Si.ac(new t(up.x,nq)),this.c2(Zq)){var op=this._a.i1(Zq);Si.ac(new t(op.x+this._d.g5(A),nq)),Si.ac(new t(op.x+this._d.g5(A),op.y+this._d.g6(A)))}else Si.ac(new t(hk,nq)),Si.ac(new t(hk,zi)),hk-=ok;nq+=Ob,this._d.xr(Zq,A,Zq.a3()),this._d.m1(Zq,Si)}if(J.ay()>0)for(var Vm,He=jd,$o=u,zo=this._d.gi(A)+this._d.gj(A)-ep-He*aj._d.ay(),li=this._d.gh(A),Uh=s._c-s._g-$o;!J.ar();this._d.x4(Vm)){Vm=J.x4();var cl=Vm.ag(),Ed=this._d.gd(cl),Yl=Ed.at();if(Ed.ac(new t(Yl.x,s.b())),Ed.ac(new t(Yl.x,Uh)),this.c2(cl)){var Wj=this._a.i1(cl);Ed.ac(new t(Wj.x+this._d.g5(A),Uh)),Ed.ac(new t(Wj.x+this._d.g5(A),Wj.y+this._d.g6(A)))}else Ed.ac(new t(zo,Uh)),Ed.ac(new t(zo,li)),zo-=He;Uh-=$o,this._d.xr(cl,A,cl.a3()),this._d.m1(cl,Ed)}if(d.ay()>0)for(var hr,rf=Go,Dg=u,ag=this._d.gi(A)+Ji+rf*(aj._b.ay()+d.ay()-1),Lc=this._d.gh(A)+this._d.g9(A),al=Lc+d.ay()*Dg;!d.ar();this._d.x4(hr)){hr=d.x4();var Ic=hr.ae(),lk=this._d.gd(Ic),Cf=lk.au();if(lk.ae(new t(Cf.x,s.a())),lk.ae(new t(Cf.x,al)),this.d1(Ic)){var Rf=this._g.i1(Ic);lk.ae(new t(Rf.x+this._d.g5(A),al)),lk.ae(new t(Rf.x+this._d.g5(A),Rf.y+this._d.g6(A)))}else lk.ae(new t(ag,al)),lk.ae(new t(ag,Lc)),ag-=rf;al-=Dg,this._d.xr(Ic,Ic.a2(),A),this._d.m1(Ic,lk)}if(R.ay()>0)for(var Lp,Vk=Go,jf=u,Og=this._d.gi(A)+this._d.gj(A)-Ji-Go*aj._q.ay(),he=this._d.gh(A)+this._d.g9(A),Kr=he+jf;!R.ar();this._d.x4(Lp)){Lp=R.x4();var Eo=Lp.ae(),Jj=this._d.gd(Eo),Ub=Jj.au();if(Jj.ae(new t(Ub.x,s.a())),Jj.ae(new t(Ub.x,Kr)),this.d1(Eo)){var Ln=this._g.i1(Eo);Jj.ae(new t(Ln.x+this._d.g5(A),Kr)),Jj.ae(new t(Ln.x+this._d.g5(A),Ln.y+this._d.g6(A)))}else Jj.ae(new t(Og,Kr)),Jj.ae(new t(Og,he)),Og-=Vk;Kr+=jf,this._d.xr(Eo,Eo.a2(),A),this._d.m1(Eo,Jj)}for(;!M.ar();){var Zf=M.c3(),Jb=this._d.gl(Zf);s.a()+12<Jb.y&&this._d.g7(Zf).i4(Jb.x,s.a())}for(;!$.ar();){var Xm=$.c3(),Tc=this._d.gs(Xm);if(s.b()-12>Tc.y){var Hn=this._d.gf(Xm);Hn.ac(new t(Tc.x,s.b())),this._d.s6(Xm,Hn)}}}}for(var sq=0;sq<o.length;sq++)for(var go=o[sq],om=go._b;om;om=om.a()){var Tk=om.d(),Ti=this._t.a3(Tk);Ti&&Ti._a!=T&&(this._d.x4(Ti._a),go.aw(om.b()))}return this._d.xi(this._f),this._d.xj(this._a),this._d.xj(this._g),o},c3:function(j){return this.a3(j)?this.b1(j.ag()):this.a2(j.ae())},b1:function(c){return this._h?this._h.i1(c):eh.s},a2:function(y){return this._l?this._l.i1(y):eh.u},c2:function(x){if(x){var d=this.b1(x);return d!=T&&d.a()}return!1},d1:function(e){if(e){var i=this.a2(e);return i!=T&&i.a()}return!1},a3:function(F){return 1===F.ao()},b2:function(O){return 1===O.ak()},a4:function(p){for(var l=0,R=p._b;R;R=R.a())this.b2(R.d())&&l++;return l},d2:function(Z){for(var y=this._k,H=pf.d(Z.length+1),h=0;h<Z.length;h++){var t=Z[h],u=new Wq;H[h]=u,u._c=Q,u._i=s;for(var K=t.x1();K.i1();K.i2()){var q=K.i9(),z=this._d.gb(q);u._c=r(u._c,z.i2()),u._i=n(u._i,z.i2()+z.i4())}}this._b.a5(Z,H);for(var d=0;d<Z.length;d++)for(var l=H[d],M=Z[d].x1();M.i1();M.i2()){var V=M.i9(),B=this._f.i1(V);B&&(l._h=n(l._h,n(B._f.ay()*y,B._c.ay()*y)),l._f=n(l._f,n(B._b.ay()*y,B._h.ay()*y)))}return H}}),eh.s=ag.j(2),eh.u=ag.j(1),eh._z=new Qf;var Vi=function(){this._af=0,this._b=0};z(Vi,W,{ib:function(p){this._af=p},ia:function(C,F,o){this.a6(C,F,o),this.b2(!1);var s=this.g();if(this.o()&&s>0){for(var m=this.r(),j=0;20>j&&s>0&&this.o();j++){this.b2(!0);var O=this.g();s>O&&(this.a7(m),s=O)}this.b3(m),this.b1()}return this.c()},a6:function(a,Z,X){this._b=(new Date).getTime(),this._ac=a,this._ah=Z;var d=this;this._p=function(q,u){var R=d._n[q.al()]-d._n[u.al()];return R>0?1:R>=0?0:-1},this._ad=pf.d(X);for(var Y=0;Y<this._ad.length;Y++)this._ad[Y]=new Gk;this._ab=pf.a(this._ac.x0()),this._f=pf.d(this._ac.x0()),this._n=pf.a(this._ac.x0()+1);var v=this._ab;this._o=function(p,m){if(!p&&m)return 1;if(p&&!m)return-1;if(!p&&!m)return 0;var M=p,d=m,q=M._h,z=M.a2(),e=d.a2(),y=v[z.al()]-v[e.al()];if(0===y){var O=Vi.b(ag.h(q,M),q.gn(M)),x=Vi.b(ag.h(q,d),q.gn(d)),C=O-x;if(0===C){var X=v[M.a3().al()]-v[d.a3().al()];return 0===X?Vi.a(ag.i(q,M),q.gk(M))-Vi.a(ag.i(q,d),q.gk(d)):X}return C}return y},this._l=function(F,J){if(!F&&J)return 1;if(F&&!J)return-1;if(!F&&!J)return 0;var x=F,P=J,n=x._h,B=x.a3(),e=P.a3(),Q=v[B.al()]-v[e.al()];if(0===Q){var o=Vi.a(ag.i(n,x),n.gk(x))-Vi.a(ag.i(n,P),n.gk(P));if(0===o){var i=v[x.a2().al()]-v[P.a2().al()];return 0===i?Vi.b(ag.h(n,x),n.gn(x))-Vi.b(ag.h(n,P),n.gn(P)):i}return o}return Q},this._z=function(b,l){if(!b&&l)return 1;if(b&&!l)return-1;if(!b&&!l)return 0;var v=b,M=l,j=v._h;return Vi.b(ag.h(j,v),j.gn(v))-Vi.b(ag.h(j,M),j.gn(M))},this._e=function(r,g){if(!r&&g)return 1;if(r&&!g)return-1;if(!r&&!g)return 0;var f=r,P=g,J=f._h;return Vi.a(ag.i(J,f),J.gk(f))-Vi.a(ag.i(J,P),J.gk(P))},this._ac.x2(this._e,this._z)},c:function(){this._ah=T,this._aa=T,this._f=T,this._n=T,this._p=T,this._o=T,this._l=T,this._ac=T;var J=this._ad;return this._ad=T,J},o:function(){var O=(new Date).getTime()-this._b;return O<=this._af},m:function(){for(var y=this,b=function(l,e){return p(y._n[l.a3().al()])-p(y._n[e.a3().al()])},R=this._ac.x9();R.i1();R.i2()){for(var v=R.i9().aw();v.i1();v.i2())this._n[v.i9().al()]=Wm.j();R.i9().av(b)}},b2:function(D){for(var a=0;a<this._ad.length;a++)this._ad[a].af();if(D){this.m();for(var f=0,J=this._ab.length;J>f;f++)this._ab[f]=0;this._ac.x2(T,this._z)}var V=this._ac.xm();this._ah.i7(V,0);for(var Z=this._ac.x9();Z.i1();Z.i2())0===Z.i9().ak()&&Z.i9()!==V&&this._ac.xo(V,Z.i9());var B=new Vj(this);B.a6(!0),B.a9(this._ac,V),this._ad[0].at(),this._ac.x4(V),this.d()},a1:function(){this._ac.x2(this._o,this._l);for(var L=0,Q=1;Q<this._ad.length;Q++){var f=this.a2(this._ad[Q-1],this._ad[Q]);L+=f}return L},a2:function(z,m){var Q=z.ah(),J=m.ah(),N=new Wi,e=new Wi,o=0;for(this._aa=pf.d(this._ac.x0());Q.i1()&&J.i1();J.i2())o+=this.a8(Q.i6(),N,e,!0),o+=this.a8(J.i6(),e,N,!1),Q.i2();for(;Q.i1();Q.i2())o+=this.a8(Q.i6(),N,e,!0);for(;J.i1();J.i2())o+=this.a8(J.i6(),e,N,!1);return o},a8:function(y,K,U,I){var B=0,R=0,J=0;if(this._aa[y.al()])for(var F=this._aa[y.al()].a(),Q=K._b;Q!==F;Q=Q.a()){var O=Q._c;O===y?(B++,J+=R,K.aw(Q)):R++}var e=B*U.ay()+J;if(I)for(var s=y.ag();s;s=s.a8()){var T=s.a3();this._ab[T.al()]>=this._ab[y.al()]&&(this._aa[T.al()]=U.ae(T))}else for(var c=y.ae();c;c=c.a7()){var t=c.a2();this._ab[t.al()]>this._ab[y.al()]&&(this._aa[t.al()]=U.ae(t))}return e},g:function(){for(var G=this.r(),D=this.a1(),a=!0,C=0;3>C&&this.o()&&D>0;){var v=this.k();D>v?(this.a7(G),D=v):C++,a=!a}if(this.b3(G),this.b1(),D>0){for(var q=1,X=0;1===q&&D>0;X++){this.e(),this.i();var V=this.a1();D>V?(q=1,this.a7(G)):q=-1,D=V}this.b3(G),this.b1()}return D},e:function(){for(var w=this.l(),p=this.r(),T=pf.d(this._ac.x0()),$=this._ad.length-1;$>=0;$--)for(var O=this._ad[$].ah();O.i1();O.i2()){var _=O.i6();if(1===_.ak()&&1===_.ao()){var c=w.i1(_.ag());if(c&&!T[c.al()])for(var E=this.a4(_,c),X=c.al(),V=T[X]=pf.d(E+1),I=V.length-1;I>=0;I--)V[I]=new Wi}}for(var e=0;e<this._ad.length;e++)for(var L=this._ad[e].ah();L.i1();L.i2()){var B=L.i6();if(1===B.ak()&&1===B.ao()){var a=w.i1(B.ag());if(a){var D=a.al(),z=this.a4(B,a)-1;T[D][z].ae(B.ae())}}else for(var o=B.ae();o;o=o.a7()){var d=w.i1(o);d&&T[d.al()][this.a4(B,d)-1].ae(o)}}for(var H=this._ac.x9();H.i1();H.i2()){var k=H.i9();if(T[k.al()])for(var A=k.ag();A;A=A.a8()){var n=w.i1(A);if(n)for(var b=T[n.al()];b[0].ay()>0;){for(var h,y=0;;){h=b[y].am();var F=h.a3();if(1!==F.ak()||1!==F.ao())break;y++}var q=b[y].at().a3();y--,q=h.a2(),h=b[y].at();for(var x=h.a3();y>=0;)if(p[q.al()]!==p[x.al()]&&(this._ab[q.al()]=p[x.al()]),q=q.ae().a2(),--y>=0){var W=b[y].at();x=W.a3()}}}}this.b1(),this._ac.xj(w)},i:function(){for(var X=this.f(),B=this.r(),R=pf.d(this._ac.x0()),J=0;J<this._ad.length;J++)for(var l=this._ad[J].ah();l.i1();l.i2()){var d=l.i6();if(1===d.ak()&&1===d.ao()){var K=X.i1(d.ae());if(K&&!R[K.al()])for(var f=this.a4(K,d),g=R[K.al()]=pf.d(f+1),I=g.length-1;I>=0;I--)g[I]=new Wi}}for(var q=this._ad.length-1;q>=0;q--)for(var b=this._ad[q].ah();b.i1();b.i2()){var r=b.i6();if(1===r.ak()&&1===r.ao()){var C=X.i1(r.ae());C&&R[C.al()][this.a4(C,r)-1].ae(r.ag())}else for(var p=r.ag();p;p=p.a8()){var m=X.i1(p);m&&R[m.al()][this.a4(m,r)-1].ae(p)}}for(var y=this._ac.x9();y.i1();y.i2()){var L=y.i9();if(R[L.al()])for(var Q=L.ae();Q;Q=Q.a7()){var V=X.i1(Q);if(V)for(var Z=R[V.al()];Z[0].ay()>0;){for(var E,D=0;;){E=Z[D].am();var k=E.a2();if(1!==k.ak()||1!==k.ao())break;D++}var $=Z[D].at().a2();D--,$=E.a3(),E=Z[D].at();for(var o=E.a2();D>=0;)if(B[$.al()]!==B[o.al()]&&(this._ab[$.al()]=B[o.al()]),$=$.ag().a3(),--D>=0){var T=Z[D].at();o=T.a2()}}}}this.b1(),this._ac.xj(X)},a4:function(w,U){return this._ah.i2(w)-this._ah.i2(U)},l:function(){for(var k=Zk.a6(pf.d(this._ac.xg())),K=this._ac.x9();K.i1();K.i2()){var M=K.i9();if(M.ao()>1){for(var H=0,L=M.ag();L;L=L.a8()){var u=L.a3();1===u.ak()&&1===u.ao()&&H++}if(H>1)for(var x=M.ag();x;x=x.a8()){var J=x,e=J.a3();if(1===e.ak()&&1===e.ao()){for(;1===e.ak()&&1===e.ao();e=J.a3())k.i8(J,M),J=e.ag();k.i8(J,M)}}}}return k},f:function(){for(var D=Zk.a6(pf.d(this._ac.xg())),_=this._ac.x9();_.i1();_.i2()){var x=_.i9();if(x.ak()>1){for(var m=0,B=x.ae();B;B=B.a7()){var k=B.a2();1===k.ak()&&1===k.ao()&&m++}if(m>1)for(var a=x.ae();a;a=a.a7()){var j=a,S=j.a2();if(1===S.ak()&&1===S.ao()){for(;1===S.ak()&&1===S.ao();S=j.a2())D.i8(j,x),j=S.ae();D.i8(j,x)}}}}return D},k:function(){for(var f=1;f<this._ad.length;f++){for(var d=this._ad[f],U=d.ah();U.i1();U.i2()){var J=U.i6();this._n[J.al()]=this.a5(J,d.ay(),J.am(),this._ad[f-1].ay()),this._n[J.al()]+=this._ab[J.al()]/(3*this._ad[f-1].ay())}this.a3(d,this._p)}return this.a1()},a5:function(N,J,l,F){var Q=0;if(0===l.i7())Q=F*this._ab[N.al()]/J;else{for(;l.i1();l.i2()){var j=l.i8();Q+=j.a2()===N?this._ab[j.a3().al()]:this._ab[j.a2().al()]}Q/=l.i7()}return Q},a7:function(c){pf.f(this._ab,c,c.length)},b3:function(A){pf.f(A,this._ab,A.length)},r:function(){var v=pf.a(this._ab.length);return this.a7(v),v},d:function(){for(var b=0;b<this._ad.length;b++)for(var y=0,U=this._ad[b].ah();U.i1();)this._ab[U.i6().al()]=y,U.i2(),y++},b1:function(){for(var A=0;A<this._ad.length;A++){for(var g=this._ad[A],E=g._b;E;E=E.a()){var a=E.d();this._f[this._ab[a.al()]]=a}for(var N=0,T=g._b;T;)T.c(this._f[N]),T=T.a(),N++}},a3:function(r,E){for(var i=r.ah(),z=0;z<r.ay();i.i2())this._f[z]=i.i6(),z++;pf.s(this._f,r.ay(),E);for(var B=0,K=r._b;K;)K.c(this._f[B]),this._ab[this._f[B].al()]=B,K=K.a(),B++}}),Vi.b=function(B,X){if(!B)return 0;var f=B.a()?O(X.x):0,Z=B.a()?O(X.y):0;return B.e()?1e4-Z:B.f()?-1e4+Z:B.c()?-2e4-f:f},Vi.a=function(H,g){if(!H)return 0;var l=H.a()?O(g.x):0,z=H.a()?O(g.y):0;return H.e()?1e4+z:H.f()?-1e4-z:H.d()?-2e4-l:l};var Tg=function(){Tg.superClass.constructor.call(this),this._i6=0,this._i3=2147483647,this._i0=60,this._iz=20,this._i2=20,this._i4=20,this.i5(!1),this._i7=new lp,this._i1=new Vi,this._i8=new To};z(Tg,Im,{j2:function(){return this._i2},i4:function(){return!0},i3:function(I){this._i6=(new Date).getTime(),lq.d(I,!1);var _=I.xk(),r=I.xk(),A=I.xl(),i=new Lr,V=new eh(I,_,r,A);V.a6(this.j2()),this._i8.i3(this._iz),this._i8.i6(this._i0),this._i8.i4(this._i2),this._i8.i5(this._i4),this._i8.i2(r);for(var v=this._i7.i1(I,_,i),P=i.c1();P.i1();P.i2()){var h=P.i8();A.i7(h,!0);var t=I.gn(h);I.gt(h,I.gk(h)),I.gz(h,t)}this.a2(I,_,r),v=V.a9(v);var T=this.j1(I,_,v);T=V.a5(T),T=V.b3(T),this._i8.i1(I,T,_),T=V.g2(T),V.e2(T),this.b(I,r),this.w(I),this.a1(I,i),V.e1(),I.xj(A),I.xi(r),I.xi(_)},j1:function(S,N,m){if(this._i1 instanceof Vi){var F=this._i1,Z=(new Date).getTime()-this._i6;F.ib(this._i3-Z)}var B=this._i1.ia(S,N,m);return B},a1:function(Y,F){for(var h=F.c1();h.i1();h.i2()){var y=h.i8(),C=Y.gs(y),O=Y.gl(y);Y.x3(y);var B=Y.gp(y);Y.s5(y,B.a()),Y.gy(y,C),Y.gx(y,O)}},b:function(B,m){for(var M=B.x9();M.i1();M.i2()){var g=M.i9(),H=m.i1(g);if(H&&!B.xp(H)){for(var T=g.am().i8().a2();m.i1(T);T=g.am().i8().a2())g=T;B.u1(H);for(var o=g.ae(),N=new Wi;m.i1(o.a3());o=o.a3().ag()){var h=B.gs(o);N.aa(h),N.az(B.gf(o));var C=B.gl(o);C.equals(h)||N.aa(C)}var c=B.gs(o);N.aa(c),N.az(B.gf(o));var U=B.gl(o);U.equals(c)||N.aa(U),B.m1(H,N)}}for(var X=B.x9();X.i1();X.i2())m.i1(X.i9())&&B.x4(X.i9())},w:function(X){for(var r=X.xf();r.i1();r.i2()){var L=r.i8(),F=X.g2(L);if(F.i1()>0){var N=new x,A=X.gc(L),O=A.c(),$=O.i6();O.i2();var W=$.x,q=$.y;if(O.i1()){var T=O.i6(),P=T.x,l=T.y;for(O.i2();O.i1();O.i2()){var G=O.i6(),w=G.x,k=G.y,I=(W-w)*(l-k)/(q-k)+w;H(I-P)>=1&&(N.add(T),W=P,q=l),T=G,P=w,l=k}}N.size()<F.i1()&&X.s5(L,new C(N))}}},a2:function(Y,A,u){var d=Y.g8().c1();for(d.i5();d.i1();d.i3()){var R=d.i8().a2(),i=d.i8().a3(),o=A.i2(i)-A.i2(R);if(o>1){for(var N,c,h=R;o>1;o--)N=Y.xm(),Y.s7(N,1,1),Y.s4(N,Wm._A),c=Y.xo(h,N),h===R&&Y.gt(c,Y.gn(d.i8())),A.i7(N,A.i2(h)+1),u.z1(N,d.i8()),h=N;c=Y.xo(N,i),Y.gz(c,Y.gk(d.i8())),Y.h1(d.i8())}}}});var cc=function(a,i,J,w){this._i=20,this._j=a,this._g=i,this._a=J,this._h=w};z(cc,W,{a1:function(i){this._i=i},b2:function(K){return this._e?this._e.i4(K):!1},a3:function(r){return this._f?this._f.i1(r):T},d:function(){this._j.xi(this._f),this._j.xi(this._e)}});var Wq=function(){this._c=0,this._i=0,this._g=0,this._j=0,this._f=0,this._h=0,this._d=0,this._e=0,this._a=0,this._b=0};z(Wq,W,{a:function(){return this._c-this._g-this._f-this._a},b:function(){return this._i+this._j+this._h+this._b}});var Fq=function(){this._d=new Lr,this._b=new Lr,this._c=new Lr,this._e=new Lr};z(Fq,W,{});var uf=function(S,h,H,I,F,C,b,i){this._d=S,this._a=h,this._b=H,this._h=I,this._f=F,this._c=C,this._e=b,this._g=i};z(uf,W,{});var pf={a:function(e,y){for(var n=[],b=0;e>b;b++)n[b]=y||0;return n},b:function(Q){for(var o=[],B=0;Q>B;B++)o[B]=!1;return o},c:function(b,$){if(b instanceof t)return b.x<$.x?-1:b.x>$.x?1:b.y<$.y?-1:b.y<=$.y?0:1;if(b instanceof U)return $.width>b.width?-1:$.width<b.width?1:$.height>b.height?-1:$.height>=b.height?0:1;if(b instanceof D)return b.x<$.x?-1:b.x>$.x?1:b.y<$.y?-1:b.y>$.y?1:$.width>b.width?-1:$.width<b.width?1:$.height>b.height?-1:$.height>=b.height?0:1;throw""},d:function(U){for(var o=[],$=0;U>$;$++)o[$]=T;return o},e:function(n,g){for(var D=[],B=0;n>B;B++)D[B]=pf.a(g);return D},f:function(I,g,s){for(var k=0;s>k;k++)g[k]=I[k]},s:function(P,J,l){var n=[];pf.f(P,n,J),n.sort(l),pf.f(n,P,J)},n:function(G,I){return G-I}};u.layout.AutoLayout=function(y,B){y instanceof u.DataModel?this.dm=y:this.gv=y,this.options=B||{}},z(o+"AutoLayout",W,{_repulsion:1,_type:T,_offsetX:T,_offsetY:T,_xf:0,_yf:0,_animate:!0,_frames:T,_interval:T,_duration:T,_easing:T,isAnimate:function(){return this._animate},setAnimate:function(j){this._animate=j},getFrames:function(){return this._frames},setFrames:function(_){this._frames=_},getInterval:function(){return this._interval},setInterval:function(j){this._interval=j},getDuration:function(){return this._duration},setDuration:function(p){this._duration=p},getEasing:function(){return this._easing},setEasing:function(F){this._easing=F},getRepulsion:function(){return this._repulsion},setRepulsion:function(D){this._repulsion=D},getOffsetX:function(){return this._offsetX},setOffsetX:function(O){this._offsetX=O},getOffsetY:function(){return this._offsetY},setOffsetY:function(s){this._offsetY=s},getNodeSize:function(j){var m,$=this.gv;j.getChildrenRect&&(m=j.getChildrenRect(),m&&I.grow(m,15)),!m&&$&&$.getDataUIBounds&&(m=$.getDataUIBounds(j)),m||(m=j.getRect(),I.grow(m,15));var L,p,P;return L=j.s("autolayout.gap"),p=j.s("autolayout.hgap"),P=j.s("autolayout.vgap"),L!==q||p!==q||P!==q?(p=(p||0)+(L||0),P=(P||0)+(L||0)):(L=this.options.gap||0,p=L+(this.options.hgap||0),P=L+(this.options.vgap||0)),p&&(m.x-=p,m.width=m.width+2*p),P&&(m.y-=P,m.height=m.height+2*P),m},isLayoutable:function(v){var N=this.gv;return N&&!N.isVisible(v)?!1:v.s("layoutable")===!1?!1:v instanceof a?v.getSourceAgent()&&v.getTargetAgent()&&!v.isLooped()?!0:!1:v instanceof w?v.getHost()?!1:N?N.isMovable(v):!0:!1
},getType:function(){return this._type},getLayoutDatas:function(){var S,F=this,f=F.gv,Z=F.dm,B=!1,t=new x;return f?f.sm().size()>1?(B=!0,S=f.sm().getSelection()):S=f.dm().getDatas():Z.sm().size()>1?(B=!0,S=Z.sm().getSelection()):S=Z.getDatas(),F._xf=F._yf=Q,S.each(function(Y){if(F.isLayoutable(Y)&&(t.add(Y),B&&Y instanceof w)){var C=Y.p();C.x<F._xf&&(F._xf=C.x),C.y<F._yf&&(F._yf=C.y)}}),B||(F._xf=F._offsetX==T?50:F._offsetX,F._yf=F._offsetY==T?50:F._offsetY),t},getLayoutResult:function(Q){var Z={};return this.layoutImpl(Q,T,Z),Z},layout:function(l,I){return this.layoutImpl(l,I)},layoutImpl:function(z,g,x){this._type=z;var y=this,l={},q=R(z),H=y.getLayoutDatas(),J=new Rr(y,H);if(!q)return!1;H=J.p();var M=new zl(y,H,z);try{q.i2(M)}catch(t){return J.r(),g&&g(),!1}var L,G,m,o,V=M._a;for(L in V)G=V[L],o=M.g4(G),l[L]={x:o.x+y._xf,y:o.y+y._yf};if(z===S||z===K||z===e){var u,i=F(z),b=Q,v=Q,B=2*y._repulsion;for(L in l)G=V[L],m=l[L],o=i.tf(m),m.x=o.x,m.y=o.y,z===S||z===K?(u=o.x-M.g9(G)/B,b>u&&(b=u),u=o.y-M.gj(G)/B,v>u&&(v=u)):(u=o.x-M.gj(G)/B,b>u&&(b=u),u=o.y-M.g9(G)/B,v>u&&(v=u));for(L in l)G=V[L],m=l[L],m.x=m.x-b+y._xf,m.y=m.y-v+y._yf}if(!x&&y._animate){var r=y.gv,w={};for(L in l)w[L]=V[L].node.p();r&&(r._autoLayouting=1),I.startAnim({duration:y._duration,frames:y._frames,interval:y._interval,easing:y._easing,finishFunc:function(){J.r(),g&&g(),r&&(delete r._autoLayouting,r.onAutoLayoutEnded())},action:function(R){for(L in l){var s=w[L],X=l[L];V[L].node.p(s.x+(X.x-s.x)*R,s.y+(X.y-s.y)*R)}}})}else{for(L in l)G=V[L],m=l[L],x?x[G.node.getId()]=m:G.node.p(m);J.r(),g&&g()}return!0}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//dialog
!function(_,F){"use strict";var m="ht",$=_[m],l="px",w="left",N="top",y="bottom",V="right",i="innerHTML",T="className",S="",j="width",v="height",r="string",f="position",x="absolute",d="0",u="opacity",E="background",c=$.Default,P=c.getInternal(),a=$.Color,n=c.animate,W=c.isTouchable,B=null,q=(Math.sqrt,_.parseInt),R=_.setTimeout,U=(Math.round,a.titleIconBackground),I=function(l){return typeof l===r||l instanceof String},e=function(){return document},z=function($){return e().createElement($)},O=function(){var L=z("div");return L.tabIndex=-1,L.style.outline="none",L},H=function(){return z("canvas")},L=function(c,G){b(c,"-webkit-transform",G),b(c,"-ms-transform",G),b(c,"transform",G)},b=function(W,b,m){W.style.setProperty(b,m,B)},M=function(t,b,S){c.def($.widget[t],b,S)},D=function(g,Y){g.appendChild(Y)},C=function(){return e().documentElement},h=function(){return C().clientWidth},p=function(){return C().clientHeight},k=P.addEventListener,s=P.removeEventListener,t=function(L){var u=L.touches[0];return u?u:L.changedTouches[0]};P.addMethod(c,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:U},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:U}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:U},{type:"rect",rect:[10,10,80,20],background:U}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:U},{type:"rect",rect:[10,34,56,14],background:U},{type:"rect",rect:[34,10,56,14],background:U},{type:"rect",rect:[82,10,8,56],background:U},{type:"rect",rect:[66,62,24,8],background:U}]},dialogTitleLabelColor:c.labelSelectColor,dialogTitleLabelFont:(W?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:c.labelFont,dialogTitleBackground:a.titleBackground,dialogHeaderBackground:a.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var G=function(w){var V=this;V.$1d=w,V.addListeners()};c.def(G,F,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function($){var p=this,E=p.$1d,S=E.$6d,k=E._config,V=E.$7d,_=$,K=$.target;if(V.contains(K)||c.preventDefault($),c.isLeftButton($)){W&&(_=t($));var m=p.$8d={x:_.pageX,y:_.pageY};p.$9d={x:m.x,y:m.y},!k.maximized&&k.draggable&&S.contains(K)&&(p.$4d=!0,c.startDragging(p,$)),p.handle_mousemove($)&&(p.$2d=!0,c.startDragging(p,$)),V.contains($.target)||E.$41d.focus()}},handle_mousedown:function(V){this.handle_touchstart(V)},handle_touchend:function(R){if(c.isLeftButton(R)&&!this.$5d&&!this.$3d){var $=this,x=$.$1d,P=R.target,l=x._config,V=x.$18d,e=x.$16d;for(l.closable&&V.contains(P)&&x.hide(),l.maximizable&&e.contains(P)&&(l.maximized?x.restore():x.maximize());P&&(P.className||"").indexOf("dialog-button")<0;)P=P.parentNode;P&&P.buttonItem&&x.action&&x.action(P.buttonItem,R),delete $.$8d,delete $.$9d}},handle_mouseup:function(e){this.handle_touchend(e)},handleWindowTouchEnd:function(O){var v=this,u=v.$1d,S=u.$10d;v.$2d&&v.$3d?S.fire({kind:"endResize",target:u,originEvent:O}):v.$4d&&v.$5d&&S.fire({kind:"endMove",target:u,originEvent:O}),this.clear()},handleWindowMouseUp:function(m){this.handleWindowTouchEnd(m)},handle_mousemove:function(O){var r=this.$1d._config;if(r.maximized)return!1;if("w"!==r.resizeMode&&"h"!==r.resizeMode&&"wh"!==r.resizeMode)return!1;var s=this,m=s.getView(),Q=m.querySelector(".resize-area"),K=Q.getBoundingClientRect(),M={x:K.left,y:K.top,width:K.width,height:K.height};O=W?t(O):O;var y=O.clientX,e=O.clientY,$={x:y,y:e};return c.containsPoint(M,$)?(b(m,"cursor","nwse-resize"),!0):(b(m,"cursor",S),void 0)},handleWindowTouchMove:function($){$.preventDefault();var D=$;W&&(D=t($));var m=this,e=m.$8d,V=m.$9d;if(!(V.x==e.x&&V.y==e.y&&c.getDistance(V,{x:D.pageX,y:D.pageY})<=1)){var U=m.$1d,F=U._config,Y=U.$21d,n=F.resizeMode||"wh",j=D.pageX-e.x,d=D.pageY-e.y;if(m.$2d){var y=Y.offsetWidth,J=Y.offsetHeight,s=y+j,M=J+d;if(s=Math.max(s,50),M=Math.max(M,50),"center"===F.position||F.position==B){var x={},u=Y.getBoundingClientRect();x.x=u.left,x.y=u.top,F.position=x}"w"===n?(U.setSize(s,J),e.x+=s-y):"h"===n?(U.setSize(y,M),e.y+=M-J):"wh"===n&&(U.setSize(s,M),e.x+=s-y,e.y+=M-J),m.$3d?U.$10d.fire({kind:"betweenResize",target:U,originEvent:$}):(m.$3d=!0,U.$10d.fire({kind:"beginResize",target:U,originEvent:$}))}else if(m.$4d){var f=Y.getBoundingClientRect(),I=f.width,C=f.height,i=h(),R=p(),H=q(Y.style.left)||0,k=q(Y.style.top)||0,_=H+j,a=k+d,z=U.adjustPosition({x:_,y:a},{width:I,height:C},{width:i,height:R});z&&(_=z.x,a=z.y);var v=_-H,A=a-k;b(Y,w,_+l),b(Y,N,a+l),e.x+=v,e.y+=A,F.position={x:_,y:a},m.$5d?U.$10d.fire({kind:"betweenMove",target:U,originEvent:$}):(m.$5d=!0,U.$10d.fire({kind:"beginMove",target:U,originEvent:$}))}}},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowResize:function(){var R=this,B=R,G=B._config,m=B.$21d,E=h(),i=p(),a=G.width,X=G.height,k=G.position||"center";G.maximized?(b(m,j,E+l),b(m,v,i+l),b(m,N,d),b(m,w,d)):(b(m,j,a+l),b(m,v,X+l),"center"===k?(b(m,w,(E-a)/2+l),b(m,N,(i-X)/2+l)):(b(m,w,k.x+l),b(m,N,k.y+l))),B.iv()},handle_mousewheel:function(r){r.stopPropagation()},handle_DOMMouseScroll:function(x){x.stopPropagation()}}),$.widget.Dialog=function(v){var E=this,e=E._view=P.createView(null,E);e[T]="ht-widget-dialog",b(e,f,x),c.baseZIndex!=B&&b(e,"z-index",c.baseZIndex+"");var R=E.$11d=new G(E);E.bindingHandleWindowResize=R.handleWindowResize.bind(E),E.$10d=new $.Notifier,v&&E.setConfig(v)},M("Dialog",F,{ms_v:1,ms_fire:1,setTitle:function(P){this._config.title=P,this.getView().querySelector(".dialog-container-title span").innerHTML=P},clearNodes:function(i){if(i)for(;i.firstChild;)i.removeChild(i.firstChild)},$31d:function(){var y=this,Z=y.$6d=O(),d=y._config,k=y.$12d=y.$13d();Z[T]="dialog-container-title",b(Z,"cursor","default"),b(Z,"white-space","nowrap"),b(Z,"overflow","hidden"),b(Z,"font",c.dialogTitleLabelFont),b(Z,E,d.titleBackground||c.dialogTitleBackground),b(Z,"color",d.titleColor||c.dialogTitleLabelColor);var B=z("span"),P=y.$25d();if(d.titleAlign&&b(Z,"text-align",d.titleAlign),d.titleIcon){var U=y.$14d=y.$15d();D(Z,U)}if(d.title&&d.title.trim&&(d.title=d.title.trim()),B[i]=d.title||"&nbsp;",D(Z,B),d.maximizable){var j=y.$16d=y.$17d();D(k,j)}if(d.closable){var t=y.$18d=y.$19d();D(k,t)}return D(Z,k),b(Z,"display","block"),b(Z,"line-height",P+l),Z},$13d:function(){var A=O();return b(A,f,x),b(A,w,d),b(A,V,5+l),b(A,N,d),b(A,y,d),b(A,"text-align",V),b(A,"white-space","nowrap"),A[T]="dialog-title-controls",A},$20d:function(){var n=this.$21d=O(),K=this._config,Y=K.borderWidth;return b(n,f,"fixed"),b(n,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),b(n,"padding",d+" "+Y+l+" "+Y+l+" "+Y+l),b(n,"box-sizing","border-box"),b(n,"-moz-box-sizing","border-box"),n[T]="dialog-container",b(n,E,K.titleBackground||c.dialogTitleBackground),n},$22d:function(){var X,K=this,R=K._config,m=K.$7d=O(),Z=R.content,G=0,J=R.contentPadding||0;R.buttons!=B&&R.buttons.length>0&&(G=32),I(Z)?m[i]=Z:Z.getView?(X=Z.getView(),D(m,X)):(X=Z,D(m,X)),b(m,f,x),b(m,"font",c.dialogContentLabelFont),$.Default.appendToScreen(m);var W=m.offsetWidth+1,M=m.offsetHeight,d=K.$25d();return R.width==B&&(R.width=W+10+2*J),R.height==B&&(R.height=M+d+G+5+2*J),$.Default.removeHTML(m),X&&(b(X,"box-sizing","border-box"),b(X,"-moz-box-sizing","border-box"),b(X,j,"100%"),b(X,v,"100%")),m[T]="dialog-content",b(m,N,d+J+l),b(m,y,G+J+l),b(m,w,J+l),b(m,V,J+l),b(m,"overflow","hidden"),m},getOverlayDiv:function(){return this.$41d},$23d:function(){var Z=this.$41d=O();return Z[T]="dialog-overlay",b(Z,j,"100%"),b(Z,v,"100%"),b(Z,f,"fixed"),b(Z,N,d),b(Z,w,d),b(Z,E,"rgba(235, 235, 235, 0.7)"),Z},_config:B,setSize:function(W,v){var K=this,G=K._config;G&&(G.width=W,G.height=v,K.isShowing()&&(K.bindingHandleWindowResize(),K.iv()))},getConfig:function(){return this._config},$24d:function(){var _=this._config,k=_.titleIconSize||16;return W&&(k*=1.2),k},$25d:function(){var T=this._config,m=T.titleHeight||c.widgetTitleHeight;return m},$26d:function(K){b(K,"cursor","pointer"),b(K,"display","inline-block"),b(K,"margin-right",(W?8:4)+l),b(K,"vertical-align",N)},$27d:function(){var e=this.$30d=O(),I=10;return W&&(I=20),b(e,j,I+l),b(e,v,I+l),b(e,f,x),b(e,y,d),b(e,V,d),e[T]="resize-area",e},$15d:function(){var V=this,r=H();r[T]="dialog-title-control dialog-title-control-icon";var X=V.$25d(),y=V.$24d();return V.$26d(r),P.setCanvas(r,y,X),r},$17d:function(){var K=H();K[T]="dialog-title-control dialog-title-control-maximize";var c=this.$25d(),y=this.$24d();return this.$26d(K),P.setCanvas(K,y,c),K},$19d:function(){var e=H();e[T]="dialog-title-control dialog-title-control-close";var r=this.$25d(),V=this.$24d();return this.$26d(e),P.setCanvas(e,V,r),e},$28d:function(){var T=O();return b(T,E,c.dialogContentBackground||"white"),b(T,j,"100%"),b(T,v,"100%"),b(T,f,"relative"),T},$29d:function(){var H=this,u=O();b(u,"line-height",32+l),b(u,f,x),b(u,y,d),b(u,w,d),b(u,"white-space","nowrap"),b(u,"overflow","hidden"),b(u,V,d),b(u,E,c.dialogHeaderBackground),u[T]="dialog-container-buttons";var U=this._config,G=U.buttonsAlign||V,M=0;return b(u,"text-align",G),H.$42d=[],U.buttons.forEach(function(I){var o=new $.widget.Button,L=o.getView();L[T]="dialog-button "+I.className,L.buttonItem=I,H.$42d.push(o),o.setBorderColor(B),o.setBackground(c.dialogButtonBackground),o.setSelectBackground(c.dialogButtonSelectBackground),o.setLabelColor(c.dialogButtonLabelColor),b(L,f,"relative"),b(L,"display","inline-block"),b(L,"text-align",w),b(L,"height",24+l);var _=W?10:5;G===w||G===V?b(L,"margin-"+G,_+l):0===M||b(L,"margin-"+w,_+l),b(L,"vertical-align","middle");var v=c.getTextSize(o.getLabelFont(),I.label).width+10;o.onClicked=function(O){I.action&&I.action.call(H,I,O)},o.setLabel(I.label),o.setDisabled(I.disabled),b(L,j,v+l),D(u,o.getView()),M++}),u},setConfig:function(T){if(T){var i=this,$=i._view;i._config=T,i.action=T.action,i.clearNodes($),T.borderWidth==B&&(T.borderWidth=5);var r=i.$23d(),l=i.$28d(),z=i.$31d(),q=i.$22d(),Z=i.$20d(),H=i.$30d=i.$27d();if(D($,r),D($,Z),D(Z,l),D(l,z),D(l,q),T.buttons!=B&&T.buttons.length>0){var W=i.$29d();D(l,W)}D(Z,H),T.maximized?(T.maximized=!1,i.bindingHandleWindowResize(),i.maximize(!0)):i.bindingHandleWindowResize(),i.isShowing()&&i.iv()}},hide:function(){var Q=this,w=Q.$21d,o=Q.$41d,j=Q._view;j[T]="ht-widget-dialog",n(w).duration(200).scale(.7).set(u,d).end(function(){Q.onHidden&&Q.onHidden(),$.Default.removeHTML(j),Q.$10d.fire({kind:"hide",target:Q})}),n(o).duration(200).set(u,d).end(),s(_,"resize",Q.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(S){this.$41d.style.display=S?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var s=this,b=s._config,X=s.$21d;L(X,S),s.iv(),b.maximized?s.$10d.fire({kind:"maximize",target:s}):s.$10d.fire({kind:"restore",target:s})},maximize:function(x){var X=this,L=X.$21d,B=X._config;if(!B.maximized){B.maximized=!0,X.$33d(),X.$16d[T]="dialog-title-control dialog-title-control-minimize";var K=h(),f=p(),y=B.width,J=B.height,O=q(L.style.left)||0,b=q(L.style.top)||0;X.$36d=y,X.$37d=J,X.$34d=O,X.$35d=b;var k=x?0:200;n(L).duration(k).set(w,d).set(N,d).set(j,K+l).set(v,f+l).end(function(){X.$32d()})}},restore:function(){var u=this,_=u.$34d,h=u.$35d,M=u.$36d,i=u.$37d,e=u._config;if(e.maximized&&(e.maximized=!1,u.$33d(),u.$16d[T]="dialog-title-control dialog-title-control-maximize",u.isShowing()&&_!=B&&h!=B&&M!=B&&i!=B)){var X=u.$21d;n(X).duration(200).set(w,_+l).set(N,h+l).set(j,M+l).set(v,i+l).end(function(){u.$32d()})}delete u.$34d,delete u.$35d,delete u.$36d,delete u.$37d},show:function(){var X=this,W=X._view,G=X._config,y=X.$21d,N=X.$41d;G&&G.zIndex!=B&&b(W,"z-index",G.zIndex+S),$.Default.appendToScreen(W),L(y,"scale(0.7)"),b(y,u,d),X.iv(),X.validate(),X._view[T]+=" dialog-show",R(function(){n(y).duration(200).scale(1).set(u,"1").end(function(){b(y,j,y.clientWidth+l),b(y,v,y.clientHeight+l),X.onShown&&X.onShown(),X.$10d.fire({kind:"show",target:X});var w=G&&G.content;w&&w.iv&&w.iv()}),n(N).duration(200).set(u,"1").end(),k(_,"resize",X.bindingHandleWindowResize)},30)},setPosition:function(I){var j=this.$21d;j.style.left=I.x+"px",j.style.top=I.y+"px"},addEventListener:function(k,R,u){this.$10d.add(k,R,u)},removeEventListener:function(x,s){this.$10d.remove(x,s)},$38d:function(Z,p,q,$){var I=P.initContext(Z);P.translateAndScale(I,0,0,1),I.clearRect(0,0,q,q);var T=(q-$)/2;c.drawStretchImage(I,c.getImage(p),"fill",0,T,$,$),I.restore()},$33d:function(){var B=this,C=B._config,m=B.$16d,e=C.maximized?c.dialogRestoreIcon:c.dialogMaximizeIcon;if(m&&e){var R=B.$25d(),F=B.$24d();B.$38d(m,c.getImage(e),R,F)}},$39d:function(){var f=this,N=f._config,z=f.$14d,I=N.titleIcon;if(z&&I){var O=f.$25d(),n=f.$24d();f.$38d(z,c.getImage(I),O,n)}},$40d:function(){var C=this,S=C.$18d,$=c.dialogCloseIcon;if(S&&$){var z=C.$25d(),H=C.$24d();C.$38d(S,c.getImage($),z,H)}},invalidate:function(b){var C=this,F=C.$42d;C._68I||(C._68I=1,c.callLater(C.validate,C,B,b),C.onInvalidated&&C.onInvalidated(),C.fireViewEvent("invalidate"));var x=C._config.content;x.invalidate&&x.invalidate(),F&&F.forEach(function(P){P.iv()})},validateImpl:function(){var p=this;p.$40d(),p.$33d(),p.$39d();var j=p._config.content;j.initView&&(j.setX(0),j.setY(0),j.setWidth(p.$7d.clientWidth),j.setHeight(p.$7d.clientHeight))},adjustPosition:function(C,l,p){var F=l.width,R=l.height,G=p.width,z=p.height,J=C.x,U=C.y,f=this._config,E=f.minDragSize||20;return"inside"===f.dragMode?(J+F>G&&(J=G-F),U+R>z&&(U=z-R),0>J&&(J=0),0>U&&(U=0)):(null==f.dragMode||"none"===f.dragMode)&&(-F+E>J&&(J=-F+E),J>G-E&&(J=G-E),U>z-E&&(U=z-E),0>U&&(U=0)),{x:J,y:U}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//vector
this.ht=this.ht||{},this.ht.vector=function(){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ue="top",de="bottom",xe="right",be="left",ge="center",fe="middle",s="multiple",u="single",y="radio",C="checkbox",P="x",te="y",Y="HT2018-11",p="category",E="time",D="bar",I="line",ye="Previous",me="Next",we="Previous Jump",Ce="Next Jump",ke="First",Ve="Last",De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e=function(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e};function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:n(a,t,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ie=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,a=!1,r=void 0;try{for(var n,l=e[Symbol.iterator]();!(o=(n=l.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Me=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},i=ht.Default,K=i.drawText,J=i.drawStretchImage,q=i.getImage,Q=[2,8];var a=ht.Default,le=a.drawText,he=a.drawStretchImage,se=a.getImage;a.darker;var Te={placeholderColor:"#737373",fontSize:12,fontFamily:"arial,  sans-serif",emptyColor:"rgba(0,0,0,0)",hoverDarker:5,activeDarker:11},ie=ht.Default.drawText;var f={HOVER:"ht.hover",ACTIVE:"ht.active",PRESSED:"ht.pressed",DISABLED:"ht.disabled",FOCUS:"ht.focus",FONT_SIZE:"ht.fontSize",FONT_FAMILY:"ht.fontFamily",FONT:"ht.font",VALUE:"ht.value",PLACEHOLDER:"ht.placeholder",TEXT_COLOR:"ht.textColor",PADDING:"ht.padding",EDITING:"ht.editing",TEXT_ALIGN:"ht.textAlign",LINE_HEIGHT:"ht.lineHeight",WORD_BREAK:"ht.wordBreak",CHECKED:"ht.checked",LABEL:"ht.label",ICON:"ht.icon",FORM_ITEM_NAME:"ht.name",FORM_ITEM_GROUP:"ht.group",ON_CLICK:"ht.onClick",ON_CHANGE:"ht.onChange",ON_KEYDOWN:"ht.onKeyDown",ON_KEYUP:"ht.onKeyUp",ON_SELECT_ROW:"ht.onSelectRow",ON_HOVER_CELL:"ht.onHoverCell",DROP_DOWN:"ht.dropDown",FORMAT:"ht.format",SHOW_TIME:"ht.showTime",DATE_TYPE:"ht.dateType",DATA_SOURCE:"ht.dataSource",DROP_ICON_WIDTH:"ht.dropIconWidth",DROP_ICON_HEIGHT:"ht.dropIconHeight",DROP_ROW_HEIGHT:"ht.dropRowHeight",DROP_WIDTH:"ht.dropWidth",DROP_BACKGROUND:"ht.dropBackground",DROP_HOVER_BACKGROUND:"ht.dropHoverBackground",DROP_LABEL_FONT:"ht.dropLabelFont",DROP_LABEL_COLOR:"ht.dropLabelColor",DROP_ACTIVE_LABEL_COLOR:"ht.dropActiveLabelColor",DROP_ACTIVE_BACKGOUND:"ht.dropActiveBackground",DROP_MAX_HEIGHT:"ht.dropMaxHeight",INPUT_TYPE:"ht.inputType",MAX_LENGTH:"ht.maxLength",ENTER_END_INPUTABLE:"ht.enterEndInputable",HOVER_INDEX:"ht.hoverIndex",DATASOURCE:"ht.dataSource",ROW_HEIGHT:"ht.rowHeight",HEAD_HEIGHT:"ht.headHeight",TRANSLATE_X:"ht.translateX",TRANSLATE_Y:"ht.translateY",SHOW_HEAD:"ht.showHead",SELECTED_INDEX:"ht.selectedIndex",SCROLL_BAR_VISIBLE:"ht.scrollBarVisible",AUTO_HIDE_SCROLL_BAR:"ht.autoHideScrollBar",COLUMNS:"ht.columns",MULTIPLE:"ht.multiple",MAX:"ht.max",MIN:"ht.min",STEP:"ht.step",SHOW_TOOLTIP:"ht.showToolTip",TOOLTIP_FORMAT:"ht.toolTipFormat",VALUE_BAR_DRAGGABLE:"ht.valueBarDraggable",MAX_SELECTION:"ht.maxSelection",HIDE_SELECTED:"ht.hideSelected"};var c=(e(r,[{key:"setColor",value:function(e,t,i,o){if(e&&!t){var a=ht.Default.toColorData(e);this.r=a[0],this.g=a[1],this.b=a[2],this.a=a[3]/255}else this.r=e,this.g=t,this.b=i,this.a=o}},{key:"toString",value:function(){return 1!==this.a&&null!==this.a?this.getRGBA():this.getWebColor()}},{key:"getRGB",value:function(){var e=this.r,t=this.g,i=this.b;return null!==e&&null!==t&&null!==i?"rgb("+e+", "+t+", "+i+")":null}},{key:"getRGBA",value:function(){var e=this.r,t=this.g,i=this.b,o=this.a;return null!==e&&null!==t&&null!==i?"rgba("+e+", "+t+", "+i+", "+(null===o?1:o.toFixed(2))+")":null}},{key:"getWebColor",value:function(){var e=this.r,t=this.g,i=this.b;return null!==e&&null!==t&&null!==i?"#"+this._getWebValue(e)+this._getWebValue(t)+this._getWebValue(i):null}},{key:"_getWebValue",value:function(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}}]),r);function r(e,t,i,o){l(this,r),this.r=null,this.g=null,this.b=null,this.a=null,e&&this.setColor(e,t,i,o)}var g=ht.Default,F=g.drawText,z=g.drawStretchImage,G=g.getImage,X="#ffffff",U="#cccccc",Z=new c;var v=ht.Default,re=v.drawText,ne=v.drawStretchImage,ce=v.getImage;function $(e,t){return e<=1?t*e:e}function ee(e,t){return t?(e-Le)/oe*ae+ve:pe-(e-Le)/oe*ae}var oe=void 0,ae=void 0,ve=void 0,pe=void 0,_e=void 0,Le=void 0;function Se(e,t){return e<1?t*e:e}var Re=ht.Default.drawText;var k=Math.max,V=Math.min,T=ht.Default.containsPoint,R=4;function Be(e,t,i,o,a,r){var n=4<arguments.length&&void 0!==a?a:{},l=r,h=t.x,s=t.y,u=t.width,d=t.height,c=i.width,g=i.height,f=o.x,v=o.y,p=void 0,x=void 0,b=null,y=null,m=void 0,w=void 0,C=n.color,k=void 0===C?"red":C,V=n.barWidth,D=void 0===V?8:V,I=n.gap,T=void 0===I?2:I,_=n.visible;if(e.save(),d<g){var L=d*(w=d/g);y=[h+u-D-T,s+-v*w,D,Math.max(L,R)],x=d-g,_&&(e.beginPath(),qr.apply(void 0,[e].concat(Me(y),[Math.min(D,L)/2])),e.fillStyle=k,e.fill())}if(u<c-2){var S=u*(m=u/c);b=[h+-f*m,s+d-D-T,Math.max(S,R),D],p=u-c,_&&(e.beginPath(),qr.apply(void 0,[e].concat(Me(b),[Math.min(D,S)/2])),e.fillStyle=k,e.fill())}l.scrollInfo={scrollBarX:b,scrollBarY:y,scaleX:m,scaleY:w,minX:p,minY:x},e.restore()}function Pe(e,t,i,o,a,r,n,l){var h=Or(e,"translateY",t),s=Or(e,"translateX",t),u=Lr(i,t,e,l),d=Sr(i,t,e),c=d.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,g=d.scrollInfo;if(g){var f=g.minX,v=g.minY,p=g.scrollBarX,x=g.scrollBarY,b=g.scaleX,y=g.scaleY,m=void 0,w={x:o.x+u.rect.x,y:o.y+u.rect.y};if(p){var C=(c-(p=Tr(p)).height)/2;p.y-=C,p.height=c}if(x){var k=(c-(x=Tr(x)).width)/2;x.x-=k,x.width=c}if(p&&s&&T(p,w))m={downPoint:o,startX:t.a(s)||0,scaleX:b,minX:f,axis:P};else if(x&&h&&T(x,w))m={downPoint:o,startY:t.a(h)||0,scaleY:y,minY:v,axis:te};else{var V=d.headHeight,D={x:0,y:V,width:a,height:r-V};!n&&d.pannable&&T(D,o)&&(p||x)&&(m={downPoint:o,scaleX:b,minX:f,scaleY:y,minY:v,isPan:!0},p&&s&&(m.startX=t.a(s)||0,m.scaleX=b,m.minX=f),x&&h&&(m.startY=t.a(h)||0,m.scaleY=y,m.minY=v))}return m}}function b(e,t,i,o,a,r){var n=Sr(i,t,this),l=Pe(this,t,i,o,a,r,!1,e);n._scrollDragInfo=l,n.scrollBarVisible=!!l}function m(e,g,t,f,i,o){var v=Sr(t,g,this),p=v._scrollDragInfo,x=Or(this,"translateY",g),b=Or(this,"translateX",g);v._dragTimer||(v._dragTimer=setTimeout(function(){if(p){var e=p.axis,t=p.minX,i=p.minY,o=p.downPoint,a=p.startX,r=p.startY,n=p.scaleX,l=p.scaleY,h=p.isPan;if(e===P){var s=a+(o.x-f.x)/n;s=V(0,s),s=k(t,s),b&&g.a(b,s)}else if(e===te){var u=r+(o.y-f.y)/l;u=V(0,u),u=k(i,u),x&&g.a(x,u)}else if(h){if(void 0!==a){var d=a+(f.x-o.x);d=V(0,d),d=k(t,d),b&&g.a(b,d)}if(void 0!==r){var c=r+(f.y-o.y);c=V(0,c),c=k(i,c),x&&g.a(x,c)}}}delete v._dragTimer},10))}function _(e,t,i,o,a,r){var n=Sr(i,t,this);if(n._scrollDragInfo){var l=n.scrollInfo,h=l.scrollBarX,s=l.scrollBarY,u=n.autoHideScrollBar;(h||s)&&u&&(n.scrollBarVisible=!0,H(t,n)),delete n._scrollDragInfo}}function x(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.scrollInfo,h=n.scrollSpeed||1,s=Or(this,"translateY",t),u=Or(this,"translateX",t);if(l){var d=l.scrollBarX,c=l.scrollBarY,g=l.minX,f=l.minY,v=(l.scaleX,l.scaleY,(e.wheelDeltaX||0)/40*5*h),p=(e.wheelDeltaY||0)/40*5*h,x=!1;if(c&&s&&p){var b=(t.a(s)||0)+p;b=V(0,b),b=k(f,b),t.a(s,b),x=!0}if(d&&u&&v){var y=(t.a(u)||0)+v;y=V(0,y),y=k(g,y),t.a(u,y),x=!0}if(!x&&d&&!c&&u&&p){var m=(t.a(u)||0)+p;m=V(0,m),m=k(g,m),t.a(u,m)}var w=n.autoHideScrollBar;(d||c)&&w&&(n.scrollBarVisible=!0,H(t,n))}}function H(e,t){e._hideBarTimer&&(clearTimeout(e._hideBarTimer),e._hideBarTimer=null),e._hideBarTimer=setTimeout(function(){t._scrollDragInfo||(t.scrollBarVisible=!1,e.iv())},1e3)}var L=ht.Default,Ee=L.drawText,Oe=L.drawStretchImage,He=L.getImage,We=L.drawBorder,je=L.intersectsRect,Ne=/\n/g;var j=ht.Default.drawText;var W=ht.Default.drawImage;var Ae=ht.Default.drawImage;var S=ht.Default,Fe=S.drawText,ze=S.createGradient;var A,M=ht.Default,B=M.drawStretchImage,O=M.getImage,N=M.isObject,Ye={_uuid:!0,text:!0,icon:!0,children:!0,badges:!0,drawCell:!0,expanded:!0,selected:!0,disabled:!0,checked:!0,isLeaf:!0},Ge=(A=ht.Data,t(Xe,A),e(Xe,[{key:"getAttrObject",value:function(){return this._attrObject}},{key:"a",value:function(e,t){if(2===arguments.length)this.setAttr(e,t);else{if(!N(e))return this.getAttr(e);for(var i in e)this.setAttr(i,e[i])}return this}},{key:"setAttr",value:function(e,t){if(void 0===t?delete this._attrObject[e]:this._attrObject[e]=t,Ye[e]){var i=this.a("dataInfo");i&&(i[e]=t)}}},{key:"getAttr",value:function(e){return this._attrObject[e]}},{key:"init",value:function(e){var t=e._uuid,i=e.text,o=void 0===i?"Tree":i,a=e.icon,r=void 0===a?null:a,n=e.badges,l=void 0===n?[]:n,h=e.expanded,s=void 0!==h&&h,u=e.selected,d=void 0!==u&&u,c=e.disabled,g=void 0!==c&&c,f=e.checked,v=void 0!==f&&f,p=e.isLeaf,x=void 0!==p&&p,b=e.children,y=void 0===b?[]:b,m=e.drawCell;if(this.a({text:o,icon:r,badges:l,expanded:s,selected:d,disabled:g,checked:v,isLeaf:x,children:y,drawCell:m}),void 0===this.a("_uuid"))this.a({_uuid:t,_isHovering:!1,_isLoading:!1});else if(!1===v&&"check"===this.a("_checkStatus")&&(this.checkAfter(),this.checkBefore()),0===this.a("children").length&&0<this.getChildren().size())for(var w=this.getChildren().toArray(),C=this.getDataModel(),k=w.length-1;0<=k;k--)C.remove(w[k])}},{key:"initNodeRect",value:function(e,t,i){var o=this.getDataModel();this.setRowRect(o,e),this.setTreeContentRect(o),this.setCellsRect(o),this.setToggleRect(o,t,i),this.setCheckRect(o),this.setIconRect(o),this.setTreeTextRect(o)}},{key:"setRowRect",value:function(e,t){var i=e.getAttrObject(),o=i.translateX,a=i.translateY,r=i.showHead,n=i.thHeight,l=i.tdHeight,h=i.borderWidth,s=i.rowLineWidth,u=i.rect,d=u.x,c=u.y,g=u.width;this.a("rowRect",{x:d+o+h,y:t?t.a("rowRect").y+l+s:(r?n:0)+c+a+h,width:g-2*h,height:l})}},{key:"setTreeContentRect",value:function(e){for(var t=e.getAttrObject(),i=t.treeColumnIndex,o=t.colWidths,a=t.columnLineWidth,r=0,n=0;n<i;n++)r+=o[n]+a;var l=t.indent,h=this.a("rowRect"),s=h.x,u=h.y,d=h.width,c=h.height,g=this.getDeep();this.a("treeContentRect",{x:s+g*l+r,y:u,width:d,height:c})}},{key:"setCellsRect",value:function(e){var t=e.getAttrObject(),i=t.columnLineWidth,o=t.colWidths,a=t.cellPadding,r=t.treeColumnIndex,n=this.a("rowRect"),l=n.x,h=n.y,s=n.height,u=[],d=l;if(o)for(var c=0,g=o.length;c<g;c++){0!==c&&(d+=o[c-1]+i);var f=o[c]-(c===r?0:2*a);u.push({x:d+(c===r?0:a),y:h,width:f<0?0:f,height:s})}this.a("cellsRect",u)}},{key:"setToggleRect",value:function(e,t,i){var o=this.a("treeContentRect").x,a=this.a("treeTextWH").textWidth,r=this.a("rowRect"),n=r.x,l=r.y,h=r.width,s=r.height,u=e.getAttrObject(),d=u.space,c=u.expandIconSize,g=u.expandMode,f=u.expandIconPos,v=u.showCheckbox,p=u.checkIconSize,x=u.showIcon,b=u.iconSize,y=u.iconVisibleFunc,m=void 0;"left"===f&&(m=o),"fixRight"===f&&(m=n+h-c-2*d),"right"===f&&(m=o+d+(v?p+d:0),x&&y(this.a("dataInfo"),t,i)&&(m+=b+d),m+=a),"icon"===g?this.a("toggleRect",{x:m,y:l,width:c+2*d,height:s}):this.a("toggleRect",{x:n,y:l,width:h,height:s}),this.a("toggleIconRect",{x:m+d,y:l+(s-c)/2,width:c,height:c})}},{key:"setCheckRect",value:function(e){var t=e.getAttrObject(),i=t.showCheckbox,o=t.space,a=t.expandIconSize,r=t.checkIconSize,n=t.expandIconPos;if(i){var l=this.a("treeContentRect"),h=l.x,s=l.y,u=l.height;this.a("checkRect",{x:h+o+("left"===n?a+o:0),y:s+(u-r)/2,width:r,height:r})}}},{key:"setIconRect",value:function(e){var t=e.getAttrObject(),i=t.showIcon,o=t.space,a=t.expandIconSize,r=t.checkIconSize,n=t.showCheckbox,l=t.iconSize,h=t.expandIconPos;if(i){var s=this.a("treeContentRect"),u=s.x,d=s.y,c=s.height;this.a("iconRect",{x:u+o+("left"===h?a+o:0)+(n?r+o:0),y:d+(c-l)/2,width:l,height:l})}}},{key:"setTreeTextRect",value:function(e){var t=e.getAttrObject(),i=t.space,o=t.expandIconSize,a=t.checkIconSize,r=t.iconSize,n=t.showCheckbox,l=t.showIcon,h=t.expandIconPos,s=this.a("treeContentRect"),u=s.x,d=s.y,c=s.height,g=this.a("treeTextWH"),f=g.textWidth,v=g.textHeight;this.a("treeTextRect",{x:u+i+("left"===h?o+i:0)+(n?a+i:0)+(l?r+i:0),y:d+(c-v)/2,width:f,height:v})}},{key:"drawTreeBadge",value:function(e,t,i,o,a){var r=this.a("badges");if(0!==r.length){var n=this.getDataModel().getAttrObject(),l=n.badgesVisibleFunc,h=n.expandIconPos,s=n.space,u=n.expandIconSize,d=this.getAttrObject(),c=d.rowRect,g=d.dataInfo,f=d.isLeaf,v=o.badgeFont,p=o.badgeHeight,x=o.badgeSpace,b=o.badgeRadius,y=c.x,m=c.y,w=y+c.width,C=m+(c.height-p)/2;!1===f&&"fixRight"===h&&(w-=s+u+s),e.save(),e.font=v,e.fillStyle="#777777",e.strokeStyle="white",e.lineWidth=1,e.setLineDash([]);for(var k=0,V=r.length;k<V;k++){var D=r[k],I=D.text,T=D.textColor,_=D.backColor,L=D.visible,S=sr(v,I),R=S.width,P=S.height,A=R+2*b;l&&!l(g,D,t,i)||!1===L||(w-=A+x,_&&(e.fillStyle=_),e.beginPath(),qr(e,w,C,A,p,b),e.closePath(),e.fill(),T&&(e.fillStyle=T),e.fillText(I,w+b,C+(p-P)/2),a.badgesRect.push({node:this,info:D,badgeRect:{x:w,y:C,width:A,height:p}}))}e.restore()}}},{key:"drawTreeToggleIcon",value:function(e,t,i,o,a){if(!this.a("isLeaf")){var r=o.loading,n=o.close,l=o.open,h=this.getAttrObject(),s=h.toggleRect,u=h.toggleIconRect,d=h.expanded,c=h._isLoading,g=h.dataInfo,f=u.x,v=u.y,p=u.width,x=u.height,b=void 0,y=void 0,m=this.getDataModel().getAttrObject(),w=m.getOpenIconColor,C=m.getCloseIconColor,k=m.getLoadingIconColor;c?(b=r.image,y=r.color,k&&(y=k(g,t,i))):d?(b=n.image,y=n.color,C&&(y=C(g,t,i))):(b=l.image,y=l.color,w&&(y=w(g,t,i))),B(e,b,"fill",f,v,p,x,t,i,y),a.togglesRect.push({node:this,toggleRect:s})}}},{key:"drawTreeCheckIcon",value:function(e,t,i,o,a){var r=o.check,n=o.unCheck,l=o.unCheckAll,h=this.getAttrObject(),s=h.checkRect,u=h._checkStatus,d=h.dataInfo,c=s.x,g=s.y,f=s.width,v=s.height,p=void 0,x=void 0,b=this.getDataModel().getAttrObject(),y=b.getCheckIconColor,m=b.getUnCheckIconColor,w=b.getUnCheckAllIconColor;"check"===u?(p=r.image,x=r.color,y&&(x=y(d,t,i))):"unCheckAll"===u?(p=l.image,x=l.color,w&&(x=w(d,t,i))):(p=n.image,x=n.color,m&&(x=m(d,t,i))),B(e,p,"fill",c,g,f,v,t,i,x),a.checksRect.push({node:this,checkRect:s})}},{key:"drawTreeIcon",value:function(e,t,i,o){var a=o.def,r=this.getAttrObject(),n=r.icon,l=r.iconRect,h=r.dataInfo,s=this.getDataModel().a("iconVisibleFunc"),u=l.x,d=l.y,c=l.width,g=l.height,f=void 0,v=void 0,p=this.getDataModel().getAttrObject().getDefaultIconColor;n?f=O(n):(f=a.image,v=a.color),p&&(v=p(h,t,i)),s(h,t,i)&&B(e,f,"fill",u,d,c,g,t,i,v)}},{key:"drawTreeText",value:function(e,t,i,o){var a=this.getDataModel(),r=this.getTextColor(o),n=this.getAttrObject(),l=n.text,h=n.treeTextRect,s=n.dataInfo,u=n.rowRect,d=a.getAttrObject(),c=d.showIcon,g=d.iconSize,f=d.space,v=d.iconVisibleFunc,p=d.tdFont,x=h.x,b=h.y,y=h.width;function m(){r!==o.textColor?(e.save(),e.fillStyle=r,e.fillText(l,x,b),e.restore()):e.fillText(l,x,b)}c&&!v(s,t,i)&&(x-=g+f);var w=this.a("drawCell");(w=w||a.a("drawCell"))?w(e,{x:x,y:u.y,width:y,height:u.height},s,{textFont:p,textColor:r,defaultDraw:m,data:t,view:i}):m()}},{key:"drawRowLine",value:function(e,t,i){if(t.rowLineWidth){var o=t.rowLineColor,a=t.rowLineWidth,r=i.x,n=i.y,l=i.width;e.save(),e.beginPath(),e.fillStyle=o,e.fillRect(r,n-a,l,a),e.restore()}}},{key:"drawTableCell",value:function(r,e){function t(){var e=l.x,t=l.y,i=l.width,o=l.height,a=r.measureText(C).width+2;"center"===v&&(e+=(i-a)/2),"right"===v&&(e+=i-a),"middle"===x&&(t+=(o-u)/2),"bottom"===x&&(t+=o-u),"function"==typeof g&&(C=g.call(n,C,w)),r.fillText(C,e,t)}var n=e.comp,i=e.data,o=e.column,l=e.cellRect,a=e.tdFont,h=e.tdColor,s=e.colIndex,u=e.textHeight,d=e.visibleRowIndex,c=o.key,g=o.format,f=o.align,v=void 0===f?"left":f,p=o.vAlign,x=void 0===p?"middle":p,b=o.drawCell,y=o.isIndex,m=this.a("dataInfo").tableDataSource,w=void 0===m?{}:m,C=w[c]||"";y&&(C=d),b?b.call(n,r,C,l,{font:a,color:h,column:o,colIndex:s,row:w,rowIndex:this.a("rowIndex"),defaultDraw:t,data:i}):t()}},{key:"drawTableRow",value:function(e,t){var i=t.comp,o=t.visibleRowRect,a=t.tdBackground,r=t.drawRow,n=o.x,l=o.y,h=o.width,s=o.height;a&&(e.save(),e.fillStyle=a,e.fillRect(n,l,h,s),e.restore()),r&&(e.save(),r.call(i,e,this,o),e.restore())}},{key:"getTextColor",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:{},o=i.bodyColor,a=i.color,r=e.textColor,n=e.hoverTextColor,l=e.selectTextColor,h=this.a("_isHovering");return this.a("selected")&&l?l:h&&n?n:o||a||r}},{key:"getDeep",value:function(){for(var e=1,t=this;t=t.getParent();)e++;return e}},{key:"getPreSibling",value:function(){var e=this.getDataModel().getSiblings(this).toArray(),t=e.indexOf(this)-1;return t<0?null:e[t]}},{key:"getPreVisibleSibling",value:function(e){for(var t=this.getPreSibling();t&&!e(t.a("dataInfo"));)t=t.getPreSibling();return t&&e(t.a("dataInfo"))?t:null}},{key:"checkAfter",value:function(){var t=this.a("checked"),e=this.getChildren();this.a("_checkStatus",t?"check":"unCheck"),e.each(function(e){e.a("checked",t),e.a("_checkStatus",t?"check":"unCheck"),e.checkAfter()})}},{key:"checkBefore",value:function(){var e=this.getParent();if(e){for(var t=e.getChildren().toArray(),i=0,o=!1,a=0;a<t.length;a++)t[a].a("checked")&&i++,"unCheckAll"===t[a].a("_checkStatus")&&(o=!0);i===t.length?(e.a("checked",!0),e.a("_checkStatus","check")):0!==i||o?(e.a("checked",!1),e.a("_checkStatus","unCheckAll")):(e.a("checked",!1),e.a("_checkStatus","unCheck")),e.checkBefore()}}}]),Xe);function Xe(e){l(this,Xe);var t=d(this,(Xe.__proto__||Object.getPrototypeOf(Xe)).call(this));return t._attrObject={},t.init(e),t}var Ue,Ze=ht.Default,Ke=Ze.getImage,Je=Ze.drawBorder,qe=Ze.containsPoint,Qe=Ze.isObject,$e=(Ue=ht.DataModel,t(et,Ue),e(et,[{key:"getAttrObject",value:function(){return this._attrObject}},{key:"a",value:function(e,t){if(2===arguments.length)this.setAttr(e,t);else{if(!Qe(e))return this.getAttr(e);for(var i in e)this.setAttr(i,e[i])}return this}},{key:"setAttr",value:function(e,t){void 0===t?delete this._attrObject[e]:this._attrObject[e]=t}},{key:"getAttr",value:function(e){return this._attrObject[e]}},{key:"init",value:function(e,t){for(var i=0<arguments.length&&void 0!==e?e:[],o=1<arguments.length&&void 0!==t?t:null,a=0,r=i.length;a<r;a++){var n=i[a];if(n){var l=n._uuid,h=n.expanded,s=n.children;this.tagMap[l]&&(l=ln());var u=this.getDataByTag(l);u?u.init(n):(n._uuid=l=void 0===l?ln():l,(u=new Ge(n)).setTag(l),this.add(u));var d=u.getParent()===o;if(o&&u.setParent(o),u.a("childIndex")===a&&d&&!this.hierarchyChanged||(this.moveTo(u,a),this.hierarchyChanged=!0),u.a({dataInfo:n,rowIndex:++this.rowIndex,childIndex:a}),this.tagMap[l]=!0,h&&this.init(s,u),a===r-1){var c=o?o.getChildren().toArray():this.getRoots().toArray(),g=c.length;if(r<g)for(var f=r;f<g;f++)this.remove(c[f])}}}}},{key:"reset",value:function(e,t,i){var o=e.getValue("translateX"),a=e.getValue("translateY"),r=e.getValue("indent"),n=e.getValue("borderWidth"),l=e.getValue("columnLineWidth"),h=e.getValue("rowLineWidth"),s=e.getValue("thHeight"),u=e.getValue("tdHeight"),d=e.getValue("itemHeight"),c=e.getValue("space"),g=e.getValue("iconSize"),f=e.getValue("expandIconSize"),v=e.getValue("checkIconSize"),p=e.getValue("showHead"),x=e.getValue("showLine"),b=e.getValue("showIcon"),y=e.getValue("showCheckbox"),m=e.getValue("columns"),w=e.getValue("thFont"),C=e.getValue("tdFont"),k=e.getValue("treeFont"),V=e.getValue("columnVisibleFunc"),D=e.getValue("headLineDraggable"),I=e.getValue("headDraggable"),T=e.getValue("resizeInteractiveSize"),_=e.getValue("cellPadding"),L=e.getValue("accordion"),S=e.getValue("multiSelect"),R=e.getValue("loadData")||function(e,t){return t()},P=e.getValue("onCheck")||function(){},A=e.getValue("onExpand")||function(){},M=e.getValue("onSelect")||function(){},B=e.getValue("onClickBack")||function(){},E=e.getValue("onClickBadge")||function(){},O=e.getValue("selectableFunc")||function(){return!0},H=e.getValue("expandableFunc")||function(){return!0},W=e.getValue("checkableFunc")||function(){return!0},j=e.getValue("onClickCell"),N=e.getValue("onClickHeadCell"),F=e.getValue("expandMode")||"icon",z=e.getColor("lineColor"),Y=e.getValue("lineWidth"),G=e.getValue("linePattern"),X=e.getValue("iconVisibleFunc")||function(){return!0},U=e.getValue("drawCell"),Z=e.getValue("badgesVisibleFunc"),K=e.getValue("expandIconPos")||"left",J=e.getValue("getDefaultIconColor"),q=e.getValue("getOpenIconColor"),Q=e.getValue("getCloseIconColor"),$=e.getValue("getLoadingIconColor"),ee=e.getValue("getCheckIconColor"),te=e.getValue("getUnCheckIconColor"),ie=e.getValue("getUnCheckAllIconColor");if(this.a({rect:t,translateX:o,translateY:a,indent:r,borderWidth:n,columnLineWidth:void 0===l?0:l,rowLineWidth:h,thHeight:void 0===s?0:s,tdHeight:void 0===u?d:u,space:c,iconSize:g,expandIconSize:f,checkIconSize:v,showHead:void 0!==p&&p,showLine:x,showIcon:b,showCheckbox:y,tdFont:void 0===C?k:C,thFont:w,headLineDraggable:D,headDraggable:I,resizeInteractiveSize:T,cellPadding:_,onClickCell:j,onClickHeadCell:N,accordion:L,multiSelect:S,loadData:R,onCheck:P,onExpand:A,onSelect:M,onClickBack:B,onClickBadge:E,selectableFunc:O,expandableFunc:H,checkableFunc:W,expandMode:F,lineColor:z,iconVisibleFunc:X,drawCell:U,badgesVisibleFunc:Z,lineWidth:Y,linePattern:G,expandIconPos:K,getDefaultIconColor:J,getOpenIconColor:q,getCloseIconColor:Q,getLoadingIconColor:$,getCheckIconColor:ee,getUnCheckIconColor:te,getUnCheckAllIconColor:ie}),this.tagMap={},this.hierarchyChanged=!1,this.rowIndex=-1,m){var oe=[],ae=[];if(m.forEach(function(e,t){(V&&V(e,t)||!V)&&ae.push({column:e,columnIndex:t})}),I){var re=this.a("dragColumnsInfo")||{},ne=re.dragStartColumnIndex,le=re.dragEndColumnIndex;if(void 0!==ne&&void 0!==le){var he=ae[ne],se=ae[le],ue=he.columnIndex,de=se.columnIndex;ae[ne]=se,ae[le]=he;var ce=m[ue];m[ue]=m[de],m[de]=ce,this.a("dragColumnsInfo",void 0)}}ae.forEach(function(e){var t=e.column;return oe.push(t)}),this.a("visibleColumns",oe);var ge=Ir(oe,t.width-2*n-l*(oe.length-1)),fe=[],ve=[],pe=t.x+o+n,xe=t.y+n;if(this.a("defColWidths",ht.Default.clone(ge)),D){var be=this.a("dragColumnsLineDiff");if(be)for(var ye in be)for(var me=0,we=oe.length;me<we;me++)if(oe[me].key==ye){ge[me]+=be[ye];break}var Ce=i.dragColumnLineIndex,ke=i.dragColumnLineDistance;void 0!==Ce&&void 0!==ke&&(ge[Ce]+ke<T?ge[Ce]=T:ge[Ce]+=ke)}this.a("colWidths",ge),this.a("treeColumnIndex",void 0);for(var Ve=0,De=oe.length;Ve<De;Ve++)if(oe[Ve].isTreeColumn){this.a("treeColumnIndex",Ve);break}for(var Ie=0,Te=ge.length;Ie<Te;Ie++)fe.push({x:pe,y:xe,width:ge[Ie],height:s}),D&&ve.push({x:fe[Ie].x+fe[Ie].width-T,y:xe,width:l+2*T,height:s}),pe+=l+ge[Ie];this.a({columnsRect:fe,columnLinesRect:ve,headRect:{x:t.x,y:t.y,width:t.width,height:s}})}}},{key:"getTreeIconInfo",value:function(e){var t=e.getValue("openIcon"),i=e.getValue("closeIcon"),o=e.getValue("loadingIcon"),a=e.getValue("defaultIcon"),r=e.getValue("checkIcon"),n=e.getValue("unCheckIcon"),l=e.getValue("unCheckAllIcon");return{open:{image:Ke(t||"ht.vector.treeOpenIcon"),color:t?void 0:e.getColor("openIconColor")},close:{image:Ke(i||"ht.vector.treeCloseIcon"),color:i?void 0:e.getColor("closeIconColor")},loading:{image:Ke(o||"ht.vector.treeLoadIcon"),color:o?void 0:e.getColor("loadingIconColor")},def:{image:Ke(a||"ht.vector.treeDefIcon"),color:a?void 0:e.getColor("defaultIconColor")},check:{image:Ke(r||"ht.vector.treeCheckIcon"),color:r?void 0:e.getColor("checkIconColor")},unCheck:{image:Ke(n||"ht.vector.treeUnCheckIcon"),color:n?void 0:e.getColor("unCheckIconColor")},unCheckAll:{image:Ke(l||"ht.vector.treeUnCheckAllIcon"),color:l?void 0:e.getColor("unCheckAllIconColor")}}}},{key:"drawTreeCable",value:function(f,e,v){if("left"===this.a("expandIconPos")){var t=this.getAttrObject(),i=t.showIcon,o=t.showCheckbox,a=t.lineColor,r=t.lineWidth,n=void 0===r?.5:r,l=t.linePattern,h=void 0===l?[1,1]:l,p=o?"checkRect":i?"iconRect":"treeTextRect";f.save(),f.strokeStyle=a,f.setLineDash(h),f.lineWidth=n,f.lineJoin="miter",e.forEach(function(e){var t=e.a("isLeaf"),i=cn(e.a(p)).leftMiddle,o=cn(e.a("toggleIconRect")),a=o.rightMiddle,r=o.topMiddle,n=o.middleMiddle;f.beginPath(),t?f.moveTo(n.x,n.y):f.moveTo(a.x,a.y),f.lineTo(i.x,i.y);var l=e.getPreVisibleSibling(v);if(l){var h=l.a("isLeaf"),s=cn(l.a("toggleIconRect")),u=s.bottomMiddle,d=s.middleMiddle;h?f.moveTo(d.x,d.y):f.moveTo(u.x,u.y),t?f.lineTo(n.x,n.y):f.lineTo(r.x,r.y)}else{var c=e.getParent();if(c){var g=cn(c.a(p)).bottomMiddle;f.moveTo(n.x,g.y),t?f.lineTo(n.x,n.y):f.lineTo(r.x,r.y)}}f.stroke()}),f.restore()}}},{key:"drawBorder",value:function(e,t){var i=this.a("borderWidth"),o=this.a("rect"),a=o.x,r=o.y,n=o.width,l=o.height;i&&(e.save(),Je(e,t,a,r,n,l,i),e.restore())}},{key:"drawTableHead",value:function(x,e,t){var b=t.comp,y=t.data,m=t.columnLineColor,w=t.thColor,i=t.thBackground,o=this.getAttrObject(),C=o.rect,k=o.columnLineWidth,V=o.columnsRect,D=o.visibleColumns,I=o.thFont,a=o.thHeight,T=o.showHead,r=o.borderWidth,_=o.cellPadding;x.save(),T&&(x.fillStyle=i,x.fillRect(C.x+r,C.y+r,C.width-2*r,a));for(var L=e.dragStartColumnIndex,S=e.dragColumnDistance,n=function(o){var a=V[o],e=D[o],r=a.x,n=a.y,l=a.width,h=a.height;if(x.beginPath(),x.fillStyle=m,x.fillRect(r+l,n,k,C.height),T){var s=e.displayName,t=e.align,u=void 0===t?"left":t,i=e.vAlign,d=void 0===i?"middle":i,c=e.headColor,g=e.color,f=e.drawHeadCell,v=w;c?v=c:g&&(v=g),r+=_,l=(l-=2*_)<0?0:l,x.save(),L!==o&&(x.rect(r,n,l,h),x.clip());var p=function(){if(void 0!==s){var e=sr(I,s),t=e.width,i=e.height;"center"===u&&(r+=(l-t)/2),"right"===u&&(r+=l-t),"middle"===d&&(n+=(h-i)/2),"bottom"===d&&(n+=h-i),L===o&&(r+=S,x.save(),x.fillStyle="rgb(217, 219, 220)",x.fillRect(r,a.y,l,h),x.restore()),x.fillStyle=v,x.font=I,x.fillText(s,r,n)}};f?f.call(b,x,s,a,{font:I,color:v,visibleColumn:e,index:o,defaultDraw:p,data:y}):p(),x.restore()}},l=0,h=V.length;l<h;l++)l!==L&&n(l);void 0!==L&&n(L),x.restore()}},{key:"drawScrollBar",value:function(e,t,i,o,a,r,n){var l=t.getValue("scrollBarWidthAbsolute"),h=t.getValue("scrollBarWidth"),s=t.getValue("autoHideScrollBar"),u=t.getValue("scrollable"),d=t.getValue("scrollBarColor"),c=o.translateX,g=o.translateY,f=o.scrollBarVisible,v=i.getZoom?i.getZoom():1,p=l?h/v:h,x=a,b=r;if(a-2>n.width&&(b=r+p),o&&(o.scrollBarInfo={x:n.x,y:n.y,width:n.width,height:n.height,boundWidth:x,boundHeight:b,absoluteScrollBarWidth:p},o.autoHideScrollBar=s),u){var y={x:n.x,y:n.y,width:n.width,height:n.height},m={width:x,height:b},w={x:c,y:g};n.height>b&&0!==g&&(m.height=n.height-g),Be(e,y,m,w,{visible:!s||f,color:d,gap:0,barWidth:p},o||{})}}},{key:"drawDragColumnLine",value:function(e,t){var i=t.dragColumnLineRect;if(i){var o=i.x,a=i.y,r=i.width,n=i.height;e.save(),e.fillStyle="rgb(49, 141, 251)",e.fillRect(o,a,r,n),e.restore()}}},{key:"onClickBadge",value:function(e,t,i){for(var o=Ie(e,3),a=o[0],r=o[1],n=o[2],l=this.a("onClickBadge"),h=0,s=i.length;h<s;h++){var u=i[h],d=u.node,c=u.info,g=u.badgeRect;if(qe(g,t)&&!d.a("disabled"))return l.call(this,a,d.a("dataInfo"),c,r,n),r.iv(),!0}return!1}},{key:"onClickCheck",value:function(e,t,i){for(var o=Ie(e,3),a=o[0],r=o[1],n=o[2],l=this.getAttrObject(),h=l.checkableFunc,s=l.onCheck,u=0,d=i.length;u<d;u++){var c=i[u],g=c.node,f=c.checkRect;if(qe(f,t)&&!g.a("disabled")&&h(g.a("dataInfo"),r,n))return g.a("checked",!g.a("checked")),s.call(this,a,g.a("dataInfo"),g.a("checked"),r,n),g.checkAfter(),g.checkBefore(),r.iv(),!0}return!1}},{key:"onClickToggle",value:function(e,l,h){for(var s=this,t=Ie(e,3),u=t[0],d=t[1],c=t[2],i=this.getAttrObject(),g=i.onExpand,f=i.loadData,v=i.expandableFunc,p=i.accordion,o=function(e,t){var i=h[e],o=i.node,a=i.toggleRect;if(o.a("isLeaf"))return"continue";if(qe(a,l)){if(o.a("_isLoading"))return{v:!0};if(!o.a("disabled")&&v(o.a("dataInfo"),d,c)){p&&s.getSiblings(o).each(function(e){e!==o&&e.a("expanded",!1)}),o.a("expanded",!o.a("expanded"));var r=o.getChildren().toArray(),n=o.a("expanded");return 0===r.length&&0<o.a("children").length?(s.init(o.a("children"),o),g.call(s,u,o.a("dataInfo"),n,d,c)):n&&0===r.length?new Promise(function(e){o.a("_isLoading",!0),f.call(s,o.a("dataInfo"),e)}).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];o.a({_isLoading:!1,children:e}),s.init(e,o),g.call(s,u,o.a("dataInfo"),n,d,c),d.iv()}):g.call(s,u,o.a("dataInfo"),n,d,c),d.iv(),{v:!0}}}},a=0,r=h.length;a<r;a++){var n=o(a);switch(n){case"continue":continue;default:if("object"===(void 0===n?"undefined":De(n)))return n.v}}return!1}},{key:"onClickVisibleRow",value:function(e,v,p,x){for(var b=this,t=Ie(e,3),y=t[0],m=t[1],w=t[2],i=this.getAttrObject(),C=i.selectableFunc,k=i.multiSelect,V=i.onSelect,o=function(e,t){var i=p[e],o=i.node,a=i.visibleRowRect;if(qe(a,v)){if(!o.a("disabled")&&C(o.a("dataInfo"),m,w)){var r=b.toDatas(function(e){return e.a("selected")}).toArray(),n=[];r.forEach(function(e){var t=e.a("_uuid"),i=e.a("text");n.push({_uuid:t,text:i}),k||e===o||e.a("selected",!1)}),x.selectedInfos=n,k?o.a("selected",!o.a("selected")):o.a("selected")||o.a("selected",!0),V.call(b,y,o.a("dataInfo"),o.a("selected"),m,w);var l=b.a("onClickCell"),h=o.a("cellsRect");if(l&&h&&0<h.length)for(var s=0,u=h.length;s<u;s++)if(qe(h[s],v)){var d=b.a("visibleColumns"),c=o.a("dataInfo").tableDataSource,g=void 0===c?{}:c,f=g[d[s].key]||"";l(y,0===s?o.a("text"):f,g,d,o.a("rowIndex"),s,m,w)}m.iv()}return{v:!0}}},a=0,r=p.length;a<r;a++){var n=o(a);if("object"===(void 0===n?"undefined":De(n)))return n.v}return!1}},{key:"onClickBack",value:function(e){var t=Ie(e,3),i=t[0],o=t[1],a=t[2],r=this.a("onClickBack");r&&r(i,o,a)}},{key:"onClickHeadCell",value:function(e,t){var i=Ie(e,3),o=i[0],a=i[1],r=i[2],n=this.getAttrObject(),l=n.columnsRect,h=n.onClickHeadCell,s=n.visibleColumns;if(h)for(var u=0,d=l.length;u<d;u++)if(qe(l[u],t))return h(o,s[u],u,a,r),!0;return!1}},{key:"onHoverRow",value:function(e,t,i,o,a){for(var r=Ie(e,3),n=(r[0],r[1]),l=r[2],h=0,s=i.length,u=this.a("selectableFunc");h<s;h++){var d=i[h],c=d.node,g=d.visibleRowRect;if(qe(g,t)&&u(c.a("dataInfo"),n,l)){o!==c&&(o&&o.a("_isHovering",!1),a.preHoverNode=c),c.a("disabled")?(Br(l,"not-allowed"),o!==c&&n.iv()):c.a("_isHovering")||(Br(l,"default"),c.a("_isHovering",!0),n.iv());break}}h===s&&o&&(Br(l,"default"),o.a("_isHovering",!1),delete a.preHoverNode,n.iv())}}]),et);function et(){l(this,et);var e=d(this,(et.__proto__||Object.getPrototypeOf(et)).call(this));return e._attrObject={},e}var tt=ht.Default.intersectsRect;var it=ht.Default.intersectsRect;var ot=ht.Default,at=ot.drawText,rt=ot.drawStretchImage,nt=ot.getImage;ot.darker;function lt(e,t,i,o,a){var r=t.x,n=t.y,l=t.width;n+=t.height,e.strokeStyle=a,e.beginPath(),o===xe?(e.moveTo(r+l,n),e.lineTo(r+l-i,n)):o===ge?(e.moveTo(r+(l-i)/2,n),e.lineTo(r+(l+i)/2,n)):(e.moveTo(r,n),e.lineTo(r+i,n)),e.stroke()}var st={};function ut(e,t,i,o){for(var a=[],r=0,n=sr(i,"图"),l=n.height/3,h=1,s=e.length;h<=s;h++)t<(l+=n.height+o)&&(r=h-1===r?(a.push(e.substring(r,h)),h):(a.push(e.substring(r,h-1)),h-1),l=n.height/3);return r!==h-1&&a.push(e.substring(r,h)),a}function dt(e,t,i,o,a,r){return t?r:ft===e?o||i:e===vt&&a||i}function ct(e,t){return 0===e&&1===t?3:0===e?0:e===t-1?2:1}var gt=ht.Default.drawText,ft=void 0,vt=void 0;function pt(e,t,i,o){for(var a=e,r=0;a<t;){r++,a=e;for(var n=0;n<r;n++)a+=2*i+2*e*(o+(1-o)*n/r)}return r}function xt(e,t,i,o,a,r,n,l,h,s,u,d){var c=t.x,g=t.y,f=t.width,v=t.height,p=void 0;i!==we&&i!==Ce&&(e.beginPath(),qr(e,c,g,f,v,n),e.closePath(),r&&l&&(e.strokeStyle=r,e.lineWidth=l,e.stroke()),h&&(e.fillStyle=h,e.fill())),0<=mt.indexOf(i)&&(p=i===we||i===Ce?s.hover?sn(yt+(i===we?ke:Ve).toLowerCase()):sn("ht.vector.pagination.ellipsis"):sn(yt+i.toLowerCase())),p?en(e,p,"uniform",c,g,f,v,u,d,a):Jr(e,i,o,a,c,g,f,v,ge,fe)}function bt(e,t,i,o,a,r){var n=e.active,l=e.disabled,h=e.hover;return l&&n?r:l?a:h?i:n?o:t}var yt="ht.vector.pagination.",mt=[ye,me,Ve,ke,we,Ce];function wt(e){this.mode=It.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,i=this.data.length;t<i;t++){var o=[],a=this.data.charCodeAt(t);65536<a?(o[0]=240|(1835008&a)>>>18,o[1]=128|(258048&a)>>>12,o[2]=128|(4032&a)>>>6,o[3]=128|63&a):2048<a?(o[0]=224|(61440&a)>>>12,o[1]=128|(4032&a)>>>6,o[2]=128|63&a):128<a?(o[0]=192|(1984&a)>>>6,o[1]=128|63&a):o[0]=a,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function Ct(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function kt(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var i=0;i<e.length&&0==e[i];)i++;this.num=new Array(e.length-i+t);for(var o=0;o<e.length-i;o++)this.num[o]=e[o+i]}function Vt(e,t){this.totalCount=e,this.dataCount=t}function Dt(){this.buffer=[],this.length=0}wt.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,i=this.parsedData.length;t<i;t++)e.put(this.parsedData[t],8)}},Ct.prototype={addData:function(e){var t=new wt(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[i][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=Ct.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var i=-1;i<=7;i++)if(!(e+i<=-1||this.moduleCount<=e+i))for(var o=-1;o<=7;o++)t+o<=-1||this.moduleCount<=t+o||(this.modules[e+i][t+o]=0<=i&&i<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=o&&o<=4)},getBestMaskPattern:function(){for(var e=0,t=0,i=0;i<8;i++){this.makeImpl(!0,i);var o=Et.getLostPoint(this);(0==i||o<e)&&(e=o,t=i)}return t},createMovieClip:function(e,t,i){var o=e.createEmptyMovieClip(t,i);this.make();for(var a=0;a<this.modules.length;a++)for(var r=1*a,n=0;n<this.modules[a].length;n++){var l=1*n;this.modules[a][n]&&(o.beginFill(0,100),o.moveTo(l,r),o.lineTo(1+l,r),o.lineTo(1+l,1+r),o.lineTo(l,1+r),o.endFill())}return o},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=Et.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var i=0;i<e.length;i++){var o=e[t],a=e[i];if(null==this.modules[o][a])for(var r=-2;r<=2;r++)for(var n=-2;n<=2;n++)this.modules[o+r][a+n]=-2==r||2==r||-2==n||2==n||0==r&&0==n}},setupTypeNumber:function(e){for(var t=Et.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var o=!e&&1==(t>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=o}for(i=0;i<18;i++){o=!e&&1==(t>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=o}},setupTypeInfo:function(e,t){for(var i=this.errorCorrectLevel<<3|t,o=Et.getBCHTypeInfo(i),a=0;a<15;a++){var r=!e&&1==(o>>a&1);a<6?this.modules[a][8]=r:a<8?this.modules[a+1][8]=r:this.modules[this.moduleCount-15+a][8]=r}for(a=0;a<15;a++){r=!e&&1==(o>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=r:a<9?this.modules[8][15-a-1+1]=r:this.modules[8][15-a-1]=r}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var i=-1,o=this.moduleCount-1,a=7,r=0,n=this.moduleCount-1;0<n;n-=2)for(6==n&&n--;;){for(var l=0;l<2;l++)if(null==this.modules[o][n-l]){var h=!1;r<e.length&&(h=1==(e[r]>>>a&1)),Et.getMask(t,o,n-l)&&(h=!h),this.modules[o][n-l]=h,-1==--a&&(r++,a=7)}if((o+=i)<0||this.moduleCount<=o){o-=i,i=-i;break}}}},Ct.PAD0=236,Ct.PAD1=17,Ct.createData=function(e,t,i){for(var o=Vt.getRSBlocks(e,t),a=new Dt,r=0;r<i.length;r++){var n=i[r];a.put(n.mode,4),a.put(n.getLength(),Et.getLengthInBits(n.mode,e)),n.write(a)}var l=0;for(r=0;r<o.length;r++)l+=o[r].dataCount;if(a.getLengthInBits()>8*l)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*l+")");for(a.getLengthInBits()+4<=8*l&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*l)&&(a.put(Ct.PAD0,8),!(a.getLengthInBits()>=8*l));)a.put(Ct.PAD1,8);return Ct.createBytes(a,o)},Ct.createBytes=function(e,t){for(var i=0,o=0,a=0,r=new Array(t.length),n=new Array(t.length),l=0;l<t.length;l++){var h=t[l].dataCount,s=t[l].totalCount-h;o=Math.max(o,h),a=Math.max(a,s),r[l]=new Array(h);for(var u=0;u<r[l].length;u++)r[l][u]=255&e.buffer[u+i];i+=h;var d=Et.getErrorCorrectPolynomial(s),c=new kt(r[l],d.getLength()-1).mod(d);n[l]=new Array(d.getLength()-1);for(u=0;u<n[l].length;u++){var g=u+c.getLength()-n[l].length;n[l][u]=0<=g?c.get(g):0}}var f=0;for(u=0;u<t.length;u++)f+=t[u].totalCount;var v=new Array(f),p=0;for(u=0;u<o;u++)for(l=0;l<t.length;l++)u<r[l].length&&(v[p++]=r[l][u]);for(u=0;u<a;u++)for(l=0;l<t.length;l++)u<n[l].length&&(v[p++]=n[l][u]);return v};for(var It={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Tt={L:1,M:0,Q:3,H:2},_t=0,Lt=1,St=2,Rt=3,Pt=4,At=5,Mt=6,Bt=7,Et={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;0<=Et.getBCHDigit(t)-Et.getBCHDigit(Et.G15);)t^=Et.G15<<Et.getBCHDigit(t)-Et.getBCHDigit(Et.G15);return(e<<10|t)^Et.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;0<=Et.getBCHDigit(t)-Et.getBCHDigit(Et.G18);)t^=Et.G18<<Et.getBCHDigit(t)-Et.getBCHDigit(Et.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return Et.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case _t:return(t+i)%2==0;case Lt:return t%2==0;case St:return i%3==0;case Rt:return(t+i)%3==0;case Pt:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case At:return t*i%2+t*i%3==0;case Mt:return(t*i%2+t*i%3)%2==0;case Bt:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new kt([1],0),i=0;i<e;i++)t=t.multiply(new kt([1,Ot.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case It.MODE_NUMBER:return 10;case It.MODE_ALPHA_NUM:return 9;case It.MODE_8BIT_BYTE:case It.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case It.MODE_NUMBER:return 12;case It.MODE_ALPHA_NUM:return 11;case It.MODE_8BIT_BYTE:return 16;case It.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case It.MODE_NUMBER:return 14;case It.MODE_ALPHA_NUM:return 13;case It.MODE_8BIT_BYTE:return 16;case It.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),i=0,o=0;o<t;o++)for(var a=0;a<t;a++){for(var r=0,n=e.isDark(o,a),l=-1;l<=1;l++)if(!(o+l<0||t<=o+l))for(var h=-1;h<=1;h++)a+h<0||t<=a+h||0==l&&0==h||n==e.isDark(o+l,a+h)&&r++;5<r&&(i+=3+r-5)}for(o=0;o<t-1;o++)for(a=0;a<t-1;a++){var s=0;e.isDark(o,a)&&s++,e.isDark(o+1,a)&&s++,e.isDark(o,a+1)&&s++,e.isDark(o+1,a+1)&&s++,0!=s&&4!=s||(i+=3)}for(o=0;o<t;o++)for(a=0;a<t-6;a++)e.isDark(o,a)&&!e.isDark(o,a+1)&&e.isDark(o,a+2)&&e.isDark(o,a+3)&&e.isDark(o,a+4)&&!e.isDark(o,a+5)&&e.isDark(o,a+6)&&(i+=40);for(a=0;a<t;a++)for(o=0;o<t-6;o++)e.isDark(o,a)&&!e.isDark(o+1,a)&&e.isDark(o+2,a)&&e.isDark(o+3,a)&&e.isDark(o+4,a)&&!e.isDark(o+5,a)&&e.isDark(o+6,a)&&(i+=40);var u=0;for(a=0;a<t;a++)for(o=0;o<t;o++)e.isDark(o,a)&&u++;return i+=10*(Math.abs(100*u/t/t-50)/5)}},Ot={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Ot.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;256<=e;)e-=255;return Ot.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},Ht=0;Ht<8;Ht++)Ot.EXP_TABLE[Ht]=1<<Ht;for(Ht=8;Ht<256;Ht++)Ot.EXP_TABLE[Ht]=Ot.EXP_TABLE[Ht-4]^Ot.EXP_TABLE[Ht-5]^Ot.EXP_TABLE[Ht-6]^Ot.EXP_TABLE[Ht-8];for(Ht=0;Ht<255;Ht++)Ot.LOG_TABLE[Ot.EXP_TABLE[Ht]]=Ht;kt.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var o=0;o<e.getLength();o++)t[i+o]^=Ot.gexp(Ot.glog(this.get(i))+Ot.glog(e.get(o)));return new kt(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Ot.glog(this.get(0))-Ot.glog(e.get(0)),i=new Array(this.getLength()),o=0;o<this.getLength();o++)i[o]=this.get(o);for(o=0;o<e.getLength();o++)i[o]^=Ot.gexp(Ot.glog(e.get(o))+t);return new kt(i,0).mod(e)}},Vt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],Vt.getRSBlocks=function(e,t){var i=Vt.getRsBlockTable(e,t);if(null==i)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var o=i.length/3,a=[],r=0;r<o;r++)for(var n=i[3*r+0],l=i[3*r+1],h=i[3*r+2],s=0;s<n;s++)a.push(new Vt(l,h));return a},Vt.getRsBlockTable=function(e,t){switch(t){case Tt.L:return Vt.RS_BLOCK_TABLE[4*(e-1)+0];case Tt.M:return Vt.RS_BLOCK_TABLE[4*(e-1)+1];case Tt.Q:return Vt.RS_BLOCK_TABLE[4*(e-1)+2];case Tt.H:return Vt.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},Dt.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var i=0;i<t;i++)this.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Wt=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];document.documentElement.tagName.toLowerCase();function jt(e,t){for(var i=1,o=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),a=0,r=Wt.length;a<=r;a++){var n=0;switch(t){case Tt.L:n=Wt[a][0];break;case Tt.M:n=Wt[a][1];break;case Tt.Q:n=Wt[a][2];break;case Tt.H:n=Wt[a][3]}if(o<=n)break;i++}if(i>Wt.length)throw new Error("Too long data");return i}var Nt=(t(Ft,Ct),Ft);function Ft(e){l(this,Ft);var t=d(this,(Ft.__proto__||Object.getPrototypeOf(Ft)).call(this,jt(e,Tt.H),Tt.H));return t.addData(e),t.make(),t}var zt={};var Yt,Gt=(Yt=ht.Data,t(Xt,Yt),e(Xt,[{key:"init",value:function(e,t){var i=e.getAttrObject(),o=i.dataSource,a=i.color,r=i.total,n=o[t],l=n.name,h=void 0===l?"":l,s=n.value,u=void 0===s?0:s,d=n.color;this.a({name:h,value:u,percent:u/r,color:void 0===d?a[t]:d})}},{key:"initNodeRect",value:function(e){var t=this.getDataModel();this._initItemRect(t,e),this._initDragIconRect(t)}},{key:"_initItemRect",value:function(e,t){var i=e.getAttrObject(),o=i.rect,a=i.barWidth,r=i.padding,n=i.totalWidth,l=this.getAttrObject().percent,h=o.x,s=o.y,u=o.height,d=t?t.a("itemRect"):null;this.a("itemRect",{x:d?d.x+d.width:h+r,y:s+(u-a)/2,width:l*n,height:a})}},{key:"_initDragIconRect",value:function(e){var t=e.getAttrObject(),i=t.rect,o=t.sliderWidth,a=t.sliderHeight,r=t.sliderOffsetX,n=t.sliderOffsetY,l=this.getAttrObject().itemRect,h=i.y,s=i.height,u=l.x,d=l.width;this.a("dragIconRect",{x:u+d-o/2+r,y:h+(s-a)/2+n,width:o,height:a})}}]),Xt);function Xt(e,t){l(this,Xt);var i=d(this,(Xt.__proto__||Object.getPrototypeOf(Xt)).call(this));return i.init(e,t),i}var Ut,Zt=(Ut=ht.DataModel,t(Kt,Ut),e(Kt,[{key:"init",value:function(){for(var e=this.a("dataSource"),t=0,i=e.length;t<i;t++){var o=e[t];if(o){var a=o._uuid;this.tagMap[a]&&(a=ln());var r=this.getDataByTag(a);r?r.init(this,t):(o._uuid=a=void 0===a?ln():a,(r=new Gt(this,t)).setTag(a),this.add(r)),r.a("index")===t&&!this.hierarchyChanged||(this.moveTo(r,t),this.hierarchyChanged=!0),r.a({dataInfo:o,index:t}),this.tagMap[a]=!0}}for(var n=this.getDatas().toArray(),l=n.length-1;0<=l;l--)this.tagMap[n[l].getTag()]||this.remove(n[l])}},{key:"reset",value:function(e,t){var i=e.dataSource,o=e.total,a=e.padding;this.a(e),this.a({rect:t,totalWidth:t.width-2*a,leftValue:o-i.reduce(function(e,t){return e+(t.value||0)},0)}),this.tagMap={},this.hierarchyChanged=!1}}]),Kt);function Kt(){return l(this,Kt),d(this,(Kt.__proto__||Object.getPrototypeOf(Kt)).call(this))}var Jt=ht.Default,qt=Jt.drawRoundRect,Qt=Jt.getImage,$t=Jt.drawStretchImage;var ei=(e(ti,[{key:"onClick",value:function(e,t,i,o,a,r){}},{key:"onDoubleClick",value:function(e,t,i,o,a,r){}},{key:"onDown",value:function(e,t,i,o,a,r){}},{key:"onUp",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onHover",value:function(e,t,i,o,a,r){}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){}},{key:"onDrag",value:function(e,t,i,o,a,r){}},{key:"onEndDrag",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){}}]),ti);function ti(){l(this,ti)}var ii=ht.Default.containsPoint,oi=(t(ai,ei),e(ai,[{key:"onUp",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.rectInfo,s=l.dragSliderDataModel,u=l.dragInfo,d=s.getAttrObject(),c=d.toolTipFormat,g=d.showToolTip,f=ai.getLpInDragIconsRectInfo(n,h.dragIconsRect).dragSliderData;if(void 0===f&&u&&(f=u.dragNode),f){if(Br(i,"ew-resize"),g){var v=f.getAttrObject(),p=v.name,x=v.value,b=v.percent,y="名称:"+p+"<br>数值:"+x+"<br>百分比:"+Math.floor(100*b)/100;Rr.show(c?c(p,x,b):y,e)}}else Br(i,"default"),g&&Rr.hide()}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onLeave",value:function(e,t,i,o,a,r){Rr.hide()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.rectInfo.dragIconsRect,s=ai.getLpInDragIconsRectInfo(n,h),u=s.dragSliderData,d=s.index;if(u){l.dragInfo={dragNode:u,dragNodeStartValue:u.a("value"),dragStartX:n.x};var c=h[d+1];c&&(l.dragInfo.dragNextNode=c.dragSliderData,l.dragInfo.dragNextNodeStartValue=c.dragSliderData.a("value"))}}},{key:"onDrag",value:function(e,r,n,t,i,o){var l=Yr(n,r,this,t,e),h=Sr(n,r,this),a=h.dragSliderDataModel,s=h.dragInfo;if(!h._dragSliderTimer&&a&&s){var u=s.dragNode,d=s.dragNodeStartValue,c=s.dragStartX,g=s.dragNextNode,f=s.dragNextNodeStartValue,v=a.getAttrObject(),p=v.total,x=v.totalWidth,b=v.step,y=v.leftValue,m=v.onChange,w=y;f&&(w=f),h._dragSliderTimer=setTimeout(function(){var e=(l.x-c)/x,t=p*e,i=t%b,o=Math.floor(t/b)*b+(b/2<=i?b:0);if(0<=o+d&&o<=w){if(u.a("dataInfo").value=d+o,g&&(g.a("dataInfo").value=f-o),"function"==typeof m){var a=[u.a("dataInfo")];g&&a.push(g.a("dataInfo")),m(a,r,n)}r.iv()}delete h._dragSliderTimer},10)}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);n._dragSliderTimer&&(clearInterval(n._dragSliderTimer),delete n._dragSliderTimer),delete n.dragInfo}}],[{key:"getLpInDragIconsRectInfo",value:function(e,t){for(var i=t.length-1;0<=i;i--){var o=t[i],a=o.dragSliderData,r=o.dragIconRect;if(ii(r,e))return{dragSliderData:a,dragIconRect:r,index:i}}return{}}}]),ai);function ai(){return l(this,ai),d(this,(ai.__proto__||Object.getPrototypeOf(ai)).call(this))}var ri=(t(ni,ei),e(ni,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?Br(i,"not-allowed"):Br(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);Br(i,n.defaultCursor)}},{key:"onDown",value:function(e,a,r,t,i,o){var n=Sr(r,a,this);if(!n.disabled&&!n.editing){var l=n.font,h=n.value,s=n.textAlign,u=n.maxLength,d=n.textColor,c=n.wordBreak,g=n.selectTextOnFocus,f=n.padding,v=n.onKeyDown,p=n.onKeyUp,x=n.onChange,b=n.lineHeight,y=cr("textarea"),m=y.style,w=Or(this,"value",a),C=ur(f),k=Ie(C,4),V=k[0],D=k[1],I=k[2],T=k[3];m.color=d,m.font=l,m.paddingTop=V+"px",m.paddingRight=D+"px",m.paddingBottom=I+"px",m.paddingLeft=2+T+"px",m.textAlign=s,m.resize="none",m.overflow="hidden",m.lineHeight=b+"px",m.wordBreak=c?"break-all":"keep-word",y.value=h||"",u&&y.setAttribute("maxlength",u),r.appendHTML(y);var _=Lr(r,a,this,e);_&&gr(r,y,_),n.editing=!0,n.editingValue=h,n.inputDOM=y,a.iv();var L=function(e){gr(r,y,_)},S=function e(t){var i=y.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),Pr(a,r,y,n,w),r.ump(L),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=S,setTimeout(function(){g&&y.addEventListener("focus",function(e){y.select()}),y.focus(),r.mp(L);var t=null;y.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=y.value,a.a(w,y.value)},10),9===e.keyCode&&(Pr(a,r,y,n,w),r.getView().removeEventListener("mousedown",S),r.getView().removeEventListener("touchstart",S)),v&&v(e,a,r)}),(p||x)&&(y.addEventListener("keyup",function(e){p&&p(e,a,r),rr&&x&&x(y.value,a,r)}),rr||y.addEventListener("input",function(e){x&&x(y.value,a,r)})),r.getView().addEventListener("mousedown",S),r.getView().addEventListener("touchstart",S)},1)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=Or(this,"value",t);n.editing&&n.inputDOM&&(Pr(t,i,n.inputDOM,n,l),i.getView().removeEventListener("mousedown",n.handleWindowClick),i.getView().removeEventListener("touchstart",n.handleWindowClick))}}]),ni);function ni(){return l(this,ni),d(this,(ni.__proto__||Object.getPrototypeOf(ni)).call(this))}var li=(t(hi,ei),e(hi,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?Br(i,"not-allowed"):Br(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);Br(i,n.defaultCursor)}},{key:"onDown",value:function(e,a,r,t,i,o){var n=Sr(r,a,this);if(!n.disabled&&!n.editing){var l=n.font,h=n.value,s=n.textAlign,u=n.maxLength,d=n.textColor,c=n.inputType,g=n.enterEndInputable,f=n.padding,v=n.onKeyDown,p=n.onKeyUp,x=n.onChange,b=n.selectTextOnFocus,y=a.getAnchorRect(),m=cr(),w=d||Te.textColor,C=m.style,k=Or(this,"value",a),V=ur(f),D=Ie(V,4),I=D[0],T=D[1],_=D[2],L=D[3];c&&(m.type=c),C.color=w,C.font=l,C.paddingTop=I+"px",C.paddingRight=T+"px",C.paddingBottom=_+"px",C.paddingLeft=2+L+"px",C.lineHeight=y.height+"px",C.textAlign=s,m.value=h||"",m.spellcheck=!1,u&&m.setAttribute("maxlength",u),r.appendHTML(m);var S=Lr(r,a,this,e);S&&gr(r,m,S),n.editing=!0,n.editingValue=h,n.inputDOM=m,a.iv();var R=function(e){gr(r,m,S)},P=function e(t){var i=m.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),Pr(a,r,m,n,k),r.ump(R),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=P,setTimeout(function(){b&&m.addEventListener("focus",function(e){m.select()}),m.focus(),r.mp(R);var t=null;m.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=m.value,a.a(k,m.value)},10),(9===e.keyCode||g&&ht.Default.isEnter(e))&&(Pr(a,r,m,n,k),r.getView().removeEventListener("mousedown",P),r.getView().removeEventListener("touchstart",P)),v&&v(e,a,r)}),(p||x)&&m.addEventListener("keyup",function(e){p&&p(e,a,r),x&&x(m.value,a,r)}),r.getView().addEventListener("mousedown",P),r.getView().addEventListener("touchstart",P)},1)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=Or(this,"value",t);n.editing&&n.inputDOM&&(Pr(t,i,n.inputDOM,n,l),i.getView().removeEventListener("mousedown",n.handleWindowClick),i.getView().removeEventListener("touchstart",n.handleWindowClick))}}]),hi);function hi(){return l(this,hi),d(this,(hi.__proto__||Object.getPrototypeOf(hi)).call(this))}function si(e,t,i,o,a,r,n){if(o&&(o.editing=!1,delete o.dom),a){var l=parseFloat(i.value);Ar(n)||(l=Math.min(l,n)),Ar(r)||(l=Math.max(l,r)),e.a(a,l)}e.iv(),lr(i)}var ui=ht.Default.containsPoint,di=(t(ci,ei),e(ci,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?Br(i,"not-allowed"):Br(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);Br(i,n.defaultCursor)}},{key:"onDown",value:function(e,a,r,t,i,o){var n=Sr(r,a,this),l=Lr(r,a,this,e),h=n.buttonRects,s=n.onKeyDown,u=n.onKeyUp,d=n.onChange,c=n.min,g=n.max,f={x:t.x+l.rect.x,y:t.y+l.rect.y},v=h&&(ui(h[0],f)||ui(h[1],f));if(!n.disabled)if(n.editing||v){if(v){var p=n.step,x=Or(this,"value",a);if(!x)return;var b=n.dom&&n.dom.value||a.a(x)||c||0,y=void 0;ui(h[0],f)?(y=Hr(parseFloat(b),p),Ar(g)||(y=Math.min(y,g))):(y=Wr(parseFloat(b),p),Ar(c)||(y=Math.max(y,c))),n.editing?(n.editingValue=n.dom.value=y,a.iv()):a.a(x,y),d&&b!==y&&d(y,a,r)}}else{var m=n.font,w=n.value,C=n.textAlign,k=n.maxLength,V=n.textColor,D=n.enterEndInputable,I=n.padding,T=n.selectTextOnFocus,_=a.getAnchorRect(),L=cr(),S=V||Te.textColor,R=L.style,P=Or(this,"value",a),A=ur(I),M=Ie(A,4),B=M[0],E=M[1],O=M[2],H=M[3];R.color=S,R.font=m,R.paddingTop=B+"px",R.paddingRight=E+"px",R.paddingBottom=O+"px",R.paddingLeft=2+H+"px",R.lineHeight=_.height+"px",R.textAlign=C,L.value=w||"",L.spellcheck=!1,k&&L.setAttribute("maxlength",k),r.appendHTML(L);var W=Lr(r,a,this,e);W&&gr(r,L,W),n.editing=!0,n.editingValue=w,n.dom=L,a.iv();var j=function(e){gr(r,L,W)},N=function e(t){var i=L.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),si(a,0,L,n,P,c,g),r.ump(j),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=N,setTimeout(function(){T&&L.addEventListener("focus",function(e){L.select()}),L.focus(),r.mp(j);var t=null;L.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){if(n.editingValue=L.value,P){var e=parseFloat(L.value);Ar(g)||(e=Math.min(e,g)),Ar(c)||(e=Math.max(e,c)),a.a(P,e)}},10),(9===e.keyCode||D&&ht.Default.isEnter(e))&&(si(a,0,L,n,P,c,g),r.getView().removeEventListener("mousedown",N),r.getView().removeEventListener("touchstart",N)),s&&s(e,a,r)}),L.addEventListener("keyup",function(e){u&&u(e,a,r),d&&d(parseFloat(L.value),a,r)}),L.addEventListener("input",function(e){e.target.value=e.target.value.replace(/[^\d\.{1}]/g,"")}),r.getView().addEventListener("mousedown",N),r.getView().addEventListener("touchstart",N)},1)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=Lr(i,t,this,e),h=n.buttonRects,s={x:o.x+l.rect.x,y:o.y+l.rect.y},u="text";n.disabled?u="not-allowed":h&&(ht.Default.containsPoint(h[0],s)||ht.Default.containsPoint(h[1],s))&&(u="pointer"),Br(i,u),n.dom&&(n.dom.style.cursor=u)}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=Or(this,"value",t);n.editing&&n.dom&&(si(t,0,n.dom,n,l),i.getView().removeEventListener("mousedown",n.handleWindowClick),i.getView().removeEventListener("touchstart",n.handleWindowClick))}}]),ci);function ci(){return l(this,ci),d(this,(ci.__proto__||Object.getPrototypeOf(ci)).call(this))}var gi=(t(fi,ei),e(fi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);n.disabled||(n.pressed=!0,t.iv())}},{key:"onEnter",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?Br(i,"not-allowed"):Br(i,"pointer"),n.disabled||(n.hover=!0,t.iv())}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);Br(i,n.defaultCursor||"default"),delete n.defaultCursor,n.hover=!1,t.iv()}}]),fi);function fi(){return l(this,fi),d(this,(fi.__proto__||Object.getPrototypeOf(fi)).call(this))}var vi=(t(pi,gi),e(pi,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.onClick;n.disabled||(n.pressed=!1,t.iv(),l&&0<o.x&&o.x<a&&0<o.y&&o.y<r&&l(e,t,i))}}]),pi);function pi(){return l(this,pi),d(this,(pi.__proto__||Object.getPrototypeOf(pi)).call(this))}var xi=(t(bi,gi),e(bi,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.disabled,h=(n.pressed,Or(this,"checked",t)),s=Or(this,"group",t);if(!l){delete n.pressed,t.iv();var u=n.value,d=n.onChange,c=n.group;if(!t.a(h)&&0<o.x&&o.x<a&&0<o.y&&o.y<r){var g=t.a(h);i&&i.dm()&&!g&&c&&i.dm().each(function(e){c===e.a(s)&&e.a(h,!1)}),t.a(h,!0),d&&d(void 0===u||u,t,i)}}}}]),bi);function bi(){return l(this,bi),d(this,(bi.__proto__||Object.getPrototypeOf(bi)).call(this))}var yi=(t(mi,gi),e(mi,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled){delete n.pressed;var l=n.value,h=n.onChange,s=n.group,u=(n.checked,_r(i,t).vectorInfos),d=[],c=void 0;u.forEach(function(e){e.__inputType===y&&e.group===s&&(e.checked&&(c=e.value),d.push(e))}),c!==l&&(d.forEach(function(e){e.checked=!1}),n.checked=!0,h&&h(c,l,t,i)),t.iv()}}}]),mi);function mi(){return l(this,mi),d(this,(mi.__proto__||Object.getPrototypeOf(mi)).call(this))}var wi=(t(Ci,gi),e(Ci,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.disabled,h=n.pressed,s=Or(this,"checked",t),u=Or(this,"group",t),d=Or(this,"value",t);if(!l){t.a(h,!1),t.iv(),n.value;var c=n.group,g=n.onChange;if(0<o.x&&o.x<a&&0<o.y&&o.y<r){var f=t.a(s);if(t.a(s,!f),g)if(c){var v=[];i.dm().each(function(e){c===e.a(u)&&e.a(s)&&v.push(e.a(d))}),g(v,t,i)}else g(!f,t,i)}}}}]),Ci);function Ci(){return l(this,Ci),d(this,(Ci.__proto__||Object.getPrototypeOf(Ci)).call(this))}var ki=(e(Vi,[{key:"init",value:function(){var t=this;this._initing=!0;var e=this.data,i=this.graph,o=e.a("ht.dropDownProperty"),a=(i.getZoom(),i.tx(),i.ty(),this.value),r=new this.dropDownClazz;if(o)for(var n in o)r.setPropertyValue(n,o[n]);var l=r._dropDownView=r.initDropDownView(e,this.getDatas(),a);r.getDropDownView=function(){return l},l.on("d:click",function(e){e.stopPropagation()}),l.on("d:mousedown",function(e){e.stopPropagation()}),l.on("d:mousewheel",function(e){e.stopPropagation()}),l.on("d:mousemove",function(e){t.dropDownClazz!==ht.ui.ColorDropDown&&e.stopPropagation()}),this._dropDown=r,this._dropDownView=l,this.onInit(r,l);var h=Nr(this.vectorInfo.comp,this.data,this.graph);this.prepareLayoutDropDown(r,l,{left:h.x,top:h.y,width:h.widht,height:h.height}),hr(l.getView()),r.addValueChangeListener(this.handleDropDownValueChange,this),r.addDropDownListener(this.handleDropDownChange,this),setTimeout(function(){t.registerCloseEvent(t._documentClickHandler)},100),r.afterOpen(a),l.iv(!0),this._initing=!1}},{key:"onInit",value:function(e,t){}},{key:"getDatas",value:function(){return null}},{key:"prepareLayoutDropDown",value:function(e,t,i){var o=e.getWidth(),a=e.getHeight(),r=ht.Default.getWindowInfo(),n=i.left+r.left,l=i.top+i.height+r.top;n+o>r.left+r.width&&(n=r.left+r.width-o),l+a>r.top+r.height&&(l-=i.height+a)<r.top&&(l=r.top),t.setX(Math.max(0,n)),t.setY(l),t.setWidth(o),t.setHeight(a)}},{key:"registerCloseEvent",value:function(e){var t=this.graph.getView();ht.Default.isTouchable?(document.addEventListener("touchstart",e),t.addEventListener("touchstart",e)):(document.addEventListener("mousedown",e),t.addEventListener("mousedown",e))}},{key:"unregisterCloseEvent",value:function(e){var t=this.graph.getView();ht.Default.isTouchable?(document.removeEventListener("touchstart",e),t.removeEventListener("touchstart",e)):(document.removeEventListener("mousedown",e),t.removeEventListener("mousedown",e))}},{key:"_clearDropDown",value:function(){this._dropDown=this._dropDownView=null,this.vectorInfo.editing=!1,this.data.iv()}},{key:"documentClickHandler",value:function(e){var t=this.data,i=this.graph;if(ht.Default.isLeftButton(e)){var o=this._dropDown,a=this._dropDownView,r=this.vectorInfo.comp,n=Nr(r,t,i);if(a){var l=a.containsEvent?a.containsEvent(e):o.isClickOnDropDownView(e);ht.Default.containsPoint(n,ht.Default.getClientPoint(e))||l||this.close()}}}},{key:"close",value:function(){!this._initing&&this._dropDown&&(this._dropDown.cancel(),this.vectorInfo.editing=!1,delete this._dropDown,delete this._dropDownView,this.data.iv())}},{key:"handleDropDownValueChange",value:function(e){this.value=e.value}},{key:"open",value:function(){this.isOpened()||(this.init(),this.vectorInfo.editing=!0,this.data.iv())}},{key:"isOpened",value:function(){return!!this._dropDown}},{key:"handleDropDownChange",value:function(e){this.data;var t=this._dropDown,i=this._dropDownView;if(t){if(t.beforeClose(),"stop"===e.kind){var o=t.getDropDownValue();void 0!==o&&(this.value=o)}this._clearDropDown(),ht.Default.removeHTML(i.getView()),t.removeValueChangeListener(this.handleDropDownValueChange,this),this.unregisterCloseEvent(this._documentClickHandler),t.afterClose()}}},{key:"value",get:function(){var e=this.data,t=this.valueType.split("@"),i=Ie(t,2),o=i[0],a=i[1];if("a"===o)return e.a(a);if("s"===o)return e.s(a);if("p"===o){var r=ht.Default.getter(a);if(e[r])return e[r]()}return null},set:function(e){var t=this.data,i=this.valueType,o=this.graph,a=i.split("@"),r=Ie(a,2),n=r[0],l=r[1],h=this.vectorInfo.onChange,s=this.value;if("a"===n)t.a(l,e);else if("s"===n)t.s(l,e);else if("p"===n){var u=ht.Default.setter(l);t[u]&&t[u](e)}h&&h(s,e,t,o)}}]),Vi);function Vi(t,e,i,o){l(this,Vi),this.data=t,this.graph=e,this.vectorInfo=i,this.valueType=o,this._documentClickHandler=this.documentClickHandler.bind(this),ht.Default.addMethod(t,{isInstant:function(){return this.s("instant")},setInstant:function(e){t.s("instant",e)}})}var Di=(t(Ii,ki),Ii);function Ii(e,t,i,o){l(this,Ii);var a=d(this,(Ii.__proto__||Object.getPrototypeOf(Ii)).call(this,e,t,i,o));return a.dropDownClazz=ht.ui.ColorDropDown,a}function Ti(e,t,i,o){var a=i.dropDown;a||(a=new Di(e,t,i,"a@"+o),i.dropDown=a),a.open()}var _i=(t(Li,ki),e(Li,[{key:"onInit",value:function(e,t){var i=this.data,o=i.a(f.DATE_TYPE),a=i.a("ht.selectableFunc"),r=i.a("ht.dropDownProperty");if(e.setPropertyValue("dateTimePane.type",o,!0),e.setPropertyValue("dateTimePane.selectableFunc",a,!0),r)for(var n in r)e.setPropertyValue(n,r[n],!0)}}]),Li);function Li(e,t,i,o){l(this,Li);var a=d(this,(Li.__proto__||Object.getPrototypeOf(Li)).call(this,e,t,i,o));return a.dropDownClazz=ht.ui.DateTimeDropDown,a}function Si(e,t,i,o){var a=i.dropDown;a||(e.getFormat=function(){return e.a(f.FORMAT)},a=new _i(e,t,i,o),i.dropDown=a),a.open()}var Ri=(t(Pi,ki),e(Pi,[{key:"onInit",value:function(e,t){var i=this.data,o=i.a(f.DATE_TYPE),a=i.a("ht.selectableFunc"),r=i.a("ht.dropDownProperty");if(e.setPropertyValue("dateTimePane.type",o,!0),e.setPropertyValue("dateTimePane.selectableFunc",a,!0),r)for(var n in r)e.setPropertyValue(n,r[n],!0)}}]),Pi);function Pi(e,t,i,o){l(this,Pi);var a=d(this,(Pi.__proto__||Object.getPrototypeOf(Pi)).call(this,e,t,i,o));return e.getDropDownConfig=function(){return e.a("dropDownConfig")||{}},a.dropDownClazz=ht.ui.DateRangeDropDown,a}t(Ai,ki),e(Ai,[{key:"getDatas",value:function(){return[{id:void 0,label:""},{id:"0",label:"Female"},{id:"1",label:"Male"}]}}]);function Ai(e,t,i){l(this,Ai);var o=d(this,(Ai.__proto__||Object.getPrototypeOf(Ai)).call(this,e,t,i));return o.dropDownClazz=ht.ui.ListDropDown,o}var Mi=(t(Bi,gi),e(Bi,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=Or(this,"value",t);0<o.x&&o.x<a&&0<o.y&&o.y<r&&Ti(t,i,n,l)}}}]),Bi);function Bi(){return l(this,Bi),d(this,(Bi.__proto__||Object.getPrototypeOf(Bi)).call(this))}var Ei=(t(Oi,gi),e(Oi,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled){var l=Or(this,"value",t);0<o.x&&o.x<a&&0<o.y&&o.y<r&&Si(t,i,n,"a@"+l)}}}]),Oi);function Oi(){return l(this,Oi),d(this,(Oi.__proto__||Object.getPrototypeOf(Oi)).call(this))}var Hi,Wi=(Hi=ht.graph.Interactor,t(ji,Hi),e(ji,[{key:"handle_mousedown",value:function(e){this.handle_touchstart(e)}},{key:"handle_touchstart",value:function(e){if(e.stopPropagation(),!this.gv.isOnScrollBar(e)){var t=this.gv,i=t.getDataAt(e);i&&t.sm().ss(i)}}},{key:"handle_mousemove",value:function(e){var t=this.gv,i=t._hoverData,o=t.getDataAt(e);o!==i&&(t._hoverData=o&&t.sm().contains(o)?null:o,t.redraw())}},{key:"handle_mouseleave",value:function(e){var t=this.gv;t._hoverData&&(t._hoverData=null,t.redraw())}},{key:"handle_mouseup",value:function(e){this.handle_touchend(e)}},{key:"handle_touchend",value:function(e){}}]),ji);function ji(e){return l(this,ji),d(this,(ji.__proto__||Object.getPrototypeOf(ji)).call(this,e))}var Ni,Fi={hoverDarker:5,activeDarker:11,baseColor:"#3399ff",baseColor2:"#737373",hoverBackground:"#eeeeee",emptyColor:"#ffffff",fontSize:12,fontFamily:"arial, sans-serif",font:"12px arial sans-serif",disabledColor:"#ebebeb",disabledBackground:"#fafafa",inputTextColor:"#111111",placeholderColor:"#737373"},zi=(Ni=ht.graph.GraphView,t(Yi,Ni),e(Yi,[{key:"adjustTranslateX",value:function(){return 0}},{key:"isMovable",value:function(){return!1}},{key:"adjustZoom",value:function(){return 1}},{key:"adjustTranslateY",value:function(e){var t=this,i=this.dm().toDatas(function(e){return t.isVisible(e)}),o=this.getHeight()-i.size()*this._rowHeight;return 0<=e||0<=o?0:o<e?e:o}},{key:"handleScroll",value:function(e){var t=ar?-e.detail:e.wheelDelta/40;!ar&&e.wheelDelta===e.wheelDeltaX||this.translate(0,t)}},{key:"onPropertyChanged",value:function(e){n(Yi.prototype.__proto__||Object.getPrototypeOf(Yi.prototype),"onPropertyChanged",this).call(this,e);var t=e.property;"dataModel"!==t&&"fileSize"!==t||this.doLayoutLater()}},{key:"doLayoutLater",value:function(){this._doLayoutLater||(this._doLayoutLater=!0,ht.Default.callLater(this.doLayout,this))}},{key:"onValidated",value:function(){this._lastWidth!==this.getWidth()&&this.doLayoutLater()}},{key:"isVisible",value:function(e){return!0}},{key:"doLayout",value:function(){var t=this;this._doLayoutLater=!1,this._lastWidth=this.getWidth();var i=this._iconHeight,o=this._iconWidth,a=this._rowHeight,r=this._nodes=[];this.dm().getDatas().each(function(e){t.isVisible(e)&&r.push(e)}),this._lastHeight=this.getHeight();var n=8+.5*o,l=.5*a;r.forEach(function(e,t){e.setSize(o,i),e.p(n,l),l+=a})}},{key:"drawBottomPainter",value:function(i){var o=this,a=this._rowHeight,r=this.getWidth(),n=this._hoverData,l=this._dropBorderColor,h=this._dropBorderWidth;if(this.dm().toDatas(this.isVisible,this).each(function(e){if(i.beginPath(),i.rect(0,e.p().y-a/2,r,a),o.isSelected(e)?(i.fillStyle=o.getActiveColor()||Fi.baseColor,i.fill()):e===n&&(i.fillStyle=o.getHoverBackground()||Fi.hoverBackground,i.fill()),l&&h){var t=e.p().y+a/2-.5*h;i.beginPath(),i.moveTo(0,t),i.lineTo(r,t),i.strokeStyle=l,i.lineWidth=h,i.stroke()}}),l&&h){var e=this.getViewRect(),t=e.x,s=e.y,u=e.width,d=e.height;i.strokeStyle=l,i.lineWidth=h,i.strokeRect(t+.5*h,s+.5*h,u-h,d-h)}}},{key:"getDataAt",value:function(e){var t=Math.floor(this.lp(e).y/this._rowHeight);return this._nodes[t]}},{key:"handleSelectionChange",value:function(e){n(Yi.prototype.__proto__||Object.getPrototypeOf(Yi.prototype),"handleSelectionChange",this).call(this,e),this.redraw()}},{key:"getSelectWidth",value:function(){return 0}},{key:"isOnScrollBar",value:function(e){var t=this.getViewRect(),i=this.getScrollRect(),o=this.getScrollBarSize(),a=this.lp(e);return ht.Default.isTouchable&&(o*=1.5),i.height>t.height&&a.x-t.x>t.width-o}}]),Yi);function Yi(e){l(this,Yi);var t=d(this,(Yi.__proto__||Object.getPrototypeOf(Yi)).call(this,e));t.setInteractors([new ht.graph.ScrollBarInteractor(t),new Wi(t),new ht.graph.DefaultInteractor(t),new ht.graph.TouchInteractor(t,{editable:!1})]),t.addBottomPainter(t.drawBottomPainter.bind(t)),t.setAutoHideScrollBar(!1),t._nodes=[];var i=t.getView().style;return i.transition="all 0.2s",i.transitionOrigin="0 0",t}yr(zi,{ms_ac:["rowHeight","iconWidth","iconHeight","activeColor","hoverBackground","dropBorderWidth","dropBorderColor"],_rowHeight:26,_iconWidth:20,_iconHeight:20});var Gi=(t(Xi,zi),e(Xi,[{key:"_initStyleByMaster",value:function(e){var t=0<arguments.length&&void 0!==e?e:this._vectorInfo;this.setIconHeight(t.dropIconWidth),this.setIconWidth(t.dropIconHeight),this.setRowHeight(t.dropRowHeight),this.setDropWidth(t.dropWidth),this.setBackground(t.dropBackground),this.setHoverBackground(t.dropHoverBackground),this.setActiveColor(t.dropActiveBackground),this.setDropLabelColor(t.dropLabelColor),this.setDropActiveLabelColor(t.dropActiveLabelColor),this.setDropLabelFont(t.dropLabelFont),this.setMaxHeight(t.dropMaxHeight),this.setDropBorderColor(t.dropBorderColor),this.setDropBorderWidth(t.dropBorderWidth)}},{key:"handleSelectData",value:function(e){var t=this._master,i=this._vectorInfo,o=i.onChange,a=this.sm().getSelectionMode(),r=i.dataSource;if(r&&0!==r.length&&e){if(a===u)this.sm().ss(e);else{if(this.sm().co(e))return;this.sm().as(e)}var n=e.a("value");if(a===u)t.a(this._valueName,n),t.a(f.LABEL,this.__getLabel()),t.a(f.ICON,e.a("icon"));else{var l=this._previousValue,h=i.maxSelection;if(n=[n],l&&l.indexOf(n[0])<0)n=l.concat(n);else if(l)return;0<h&&n.length>h&&n.shift(),t.a(this._valueName,n)}o&&o(this._previousValue,n,t,this._masterGraph),this.close()}}},{key:"setSelectionMode",value:function(e){s!==e&&u!==e||this.sm().setSelectionMode(e)}},{key:"getNodeValue",value:function(e){return e.a("value")||e.s("label")||e.s("text")}},{key:"getNodeLabel",value:function(e){return e.s("label")||e.s("text")||e.a("value")}},{key:"setData",value:function(e){var i=this,o=this.dm();o.clear(),e&&e.length&&(e.forEach(function(e){var t;e.icon?((t=new ht.Node).setImage(e.icon),t.s({pixelPerfect:!1,"image.stretch":"uniform",label:(e.label||e.value)+"","label.position":20,"label.offset.x":4,"label.font":i.getDropLabelFont()})):(t=new ht.Text).s({text:(e.label||e.value)+"",pixelPerfect:!1,"text.color":i.getLabelColor(t),"text.font":i.getDropLabelFont()}),t.a(e),o.add(t)}),this.setDropHeight(Math.min(this.getMaxHeight(),e.length*this.getRowHeight())))}},{key:"getValue",value:function(){var t=this,e=this.sm(),i=e.getSelection(),o=e.getSelectionMode();if(u===o)return 0===i.size()?null:this.getNodeValue(i.get(0));if(s!==o)return null;var a=[];return i.each(function(e){a.push(t.getNodeValue(e))}),a}},{key:"__getLabel",value:function(){var t=this,e=this.sm(),i=e.getSelection(),o=e.getSelectionMode();if(u===o)return 0===i.size()?null:this.getNodeLabel(i.get(0));if(s!==o)return null;var a=[];return i.each(function(e){a.push(t.getNodeLabel(e))}),a}},{key:"toggle",value:function(){this._transition||(this._opened?this.close():this.open())}},{key:"__scrollToIndex",value:function(e){this.dm().getDatas(),this.sm();var t=this.getMaxHeight(),i=this.getRowHeight();t<e*i?this.ty(t-(e+1)*i):this.ty(0)}},{key:"open",value:function(){var i=this,e=this._master,t=(this._masterGraph,this.getView().style),o=this.getDropWidth(),a=this.getDropHeight(),r=e.a(this._valueName);this.sm().cs(),Zr(r)?Xr(r)?r.length&&r.forEach(function(t){i.dm().each(function(e){e.a("value")===t&&i.sm().as(e)})}):this.dm().each(function(e,t){e.a("value")===r&&(i.sm().ss(e),i.__scrollToIndex(t))}):this.ty(0),this._previousValue=r,this._vectorInfo.editing=!0,this._master.iv(),this.layoutByMaster(),this.setWidth(o),this.setHeight(a),fr(t,"transform","scaleY(0)"),hr(this.getView()),this._transition=!0,this.registerCloseEvent(this._documentClickHandler),this.doLayout(),ht.Default.callLater(function(){fr(t,"transform","scaleY(1)"),setTimeout(function(){i.redraw(),i.setOpened(!0),i._transition=!1},300)})}},{key:"layoutByMaster",value:function(){this._master,this._masterGraph;var e=Nr(this._vectorInfo.comp,this._master,this._masterGraph),t=ht.Default.getWindowInfo(),i=this.getView().style,o=this.getDropWidth(),a=this.getDropHeight(),r=Math.max(0,e.x),n=e.y+e.height,l="50% 0";n+a>t.height&&n-e.height>a&&(n=n-a-e.height,l="50% 100%"),r+o>t.width&&(r=t.width-o),i.left=r+"px",i.top=n+"px",fr(i,"transformOrigin",l)}},{key:"onOpen",value:function(){}},{key:"close",value:function(){var e=this;if(!this._transition){var t=this.getView(),i=t.style;this._vectorInfo.editing=!1,this._master.iv(),this._transition=!0,this.unRegisterCloseEvent(this._documentClickHandler),fr(i,"transform","scaleY(0)"),setTimeout(function(){lr(t),e._transition=!1,e.setOpened(!1)},301)}}},{key:"registerCloseEvent",value:function(e){var t=this._masterGraph.getView();ht.Default.isTouchable?(document.addEventListener("touchstart",e),t.addEventListener("touchstart",e)):(document.addEventListener("mousedown",e),t.addEventListener("mousedown",e))}},{key:"unRegisterCloseEvent",value:function(e){var t=this._masterGraph.getView();ht.Default.isTouchable?(document.removeEventListener("touchstart",e),t.removeEventListener("touchstart",e)):(document.removeEventListener("mousedown",e),t.removeEventListener("mousedown",e))}},{key:"documentClickHandler",value:function(e){var t=this._master,i=this._masterGraph,o=Nr(this._vectorInfo.comp,t,i);ht.Default.containsPoint(o,ht.Default.getClientPoint(e))||this.close()}},{key:"getLabelColor",value:function(e){return this.sm().co(e)?this.getDropActiveLabelColor():this.getDropLabelColor()}},{key:"getScrollRect",value:function(){return n(Xi.prototype.__proto__||Object.getPrototypeOf(Xi.prototype),"getScrollRect",this).call(this)}},{key:"isVisible",value:function(e){return!this._vectorInfo.hideSelected||!this.sm().co(e)}}]),Xi);function Xi(e,t,i,o,a){l(this,Xi);var r=d(this,(Xi.__proto__||Object.getPrototypeOf(Xi)).call(this));r.setSelectionMode(a?s:u),r._master=e,r._masterGraph=t,r._vectorInfo=i,r._valueName=o,r._transition=!1,r._documentClickHandler=r.documentClickHandler.bind(r),r._previousValue=null,r.dm().setAutoAdjustIndex(!1),r.setInteractors([new ht.graph.ScrollBarInteractor(r),new ht.graph.MoveInteractor(r),new ht.graph.DefaultInteractor(r),new ht.graph.TouchInteractor(r)]);var n=r.getView().style;return n.height=0,n.boxShadow="rgba(0, 0, 0, 0.3) 0px 8px 22px",fr(n,"transition","all 0.3s esse-in"),r.mi(function(e){e.event&&(e.event.preventDefault(),e.event.stopPropagation()),"clickData"===e.kind&&r.handleSelectData(e.data)}),r.sm().ms(function(e){r.dm().each(function(e){e instanceof ht.Text&&e.s("text.color",r.getLabelColor(e))})}),r.mp(function(e){"background"===e.property&&(n.background=e.newValue)}),r.getView().addEventListener("mousemove",function(e){var t=r._hoverData,i=r.getDataAt(e);i!==t&&(r._hoverData=i&&r.sm().contains(i)?null:i,r.redraw())}),r._initStyleByMaster(),r}function Ui(e,t,i,o,a){var r=i.dropDown;r||((r=new Gi(e,t,i,o,a)).getView().className="ht-vector-dropdown",i.dropDown=r),r._transition||(r.isOpened()||(r.setData(i.dataSource),r._initStyleByMaster(i)),r.toggle())}yr(Gi,{ms_ac:["background","dropWidth","dropHeight","maxHeight","opened","dropLabelFont","dropLabelColor","dropActiveLabelColor"],_background:Fi.emptyColor,_dropWidth:200,_dropHeight:100,_maxHeight:400,_opened:!1,_dropLabelColor:Fi.inputTextColor});var Zi=(t(Ki,gi),e(Ki,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=Or(this,"value",t);0<o.x&&o.x<a&&0<o.y&&o.y<r&&Ui(t,i,n,l)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=t.__dropDown;n&&n._opened&&n.layoutByMaster()}}]),Ki);function Ki(){return l(this,Ki),d(this,(Ki.__proto__||Object.getPrototypeOf(Ki)).call(this))}function Ji(e,t,i,o,a){var r=Sr(i,t,o),n=r.rowLineWidth,l=void 0===n?0:n,h=r.columnLineWidth,s=void 0===h?0:h,u=r.rowHeights,d=r.colWidths,c=r.headHeight,g=r.translateY,f=r.translateX,v=null,p=null;if(0<(g=Math.floor(a.y-g-c))&&u&&u.length){for(var x=v=0;v<u.length&&!(g<(x+=u[v]+l));v++);v===u.length&&(v=null)}if(0<(f=Math.floor(a.x-f))&&d&&d.length){for(var b=p=0;p<d.length&&!(f<(b+=d[p]+s));p++);p===d.length&&(p=null)}return{row:v,col:p}}var qi=(t(Qi,ei),e(Qi,[{key:"onDown",value:function(e,t,i,o,a,r){if(!Pe(this,t,i,o,a,r,!0,e)){var n=Sr(i,t,this),l=n.hoverIndex,h=n.multiple,s=n.onClickCell,u=n.onClickHeadCell,d=n.headRect,c=n.headHeight,g=n.onClickCellImage,f=Yr(i,t,this,o,e),v=Or(this,"selectedIndex",t);if(d=d&&Tr(d),!Ar(l)){var p=n.dataSource||[],x=n.onSelectRow,b=n.selectedIndex;if(p&&p[l]){if(h)if(b="number"==typeof b?[b]:null==b?[]:b.slice(0),ht.Default.isCtrlDown()){var y=b.indexOf(l);0<=y?b.splice(y,1):b.push(l)}else if(ht.Default.isShiftDown()&&0<b.length){var m=b[b.length-1];if(m<l)for(var w=m+1;w<=l;w++)b.indexOf(w)<0&&b.push(w);else if(l<m)for(var C=m-1;l<=C;C--)b.indexOf(C)<0&&b.push(C)}else b=[l];else b=[l];v&&t.a(v,b),x&&x(p[l],t,i)}}if(s){var k=n.colWidths,V=n.rowHeights,D=n.columns,I=n.dataSource,T=n.rawColIndexs,_=n.rawIndexs,L=Ji(0,t,i,this,o),S=_[L.row],R=T[L.col];if(null!=R&&null!=S&&L.row<=V.length&&L.col<=k.length&&D&&I&&D[R].key){var P=D[R],A=I[S],M=A[P.key];P.format&&(M=P.format(M,A,S,R)),s(e,M,A,P,S,R,t,i)}}if(u&&c&&d&&Ar(n.resizeColIndex)&&Qr(d,f))for(var B=n.rawCols,E=n.colWidths,O=n.headHeight,H=n.rawColIndexs,W=d.x,j=0;j<E.length;j++){var N={x:W,y:d.y,width:E[j],height:O};if(Qr(N,f)){u(e,B[j],H[j],t,i);break}W+=E[j]}if(g){var F=n.drawCellImageInfo,z=void 0===F?[]:F,Y=n.columns,G=n.dataSource,X=n.rawColIndexs,U=n.rawIndexs;if(0<z.length)for(var Z=Ji(0,t,i,this,o),K=U[Z.row],J=X[Z.col],q=0,Q=z.length;q<Q;q++){var $=z[q].rect;if(Qr($,f)){g(e,z[q],G[K],Y[J],K,J,t,i);break}}}}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.rowHeights,h=n.colWidths,s=n.hoverIndex,u=n.columns,d=n.rawDatas,c=n.rawIndexs,g=(n.rawCols,n.rawColIndexs),f=n.onHoverCell,v=n.resizable,p=n.headRect,x=n.bodyRect,b=Ji(0,t,i,this,o),y=n.scrollInfo,m=n.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,w=b.row,C=b.col,k=Yr(i,t,this,o,e);if(!n._scrollDragInfo&&c&&d){p=p&&Tr(p),x=Tr(x);var V=n.onClickCellImage,D=n.drawCellImageInfo,I=void 0===D?[]:D;if(V&&0<I.length){for(var T=0,_=I.length;T<_;T++){var L=I[T].rect;if(Qr(L,k)){Br(i,"pointer");break}}T===_&&Br(i,"default")}if(Qr(x,k)&&n.autoHideScrollBar&&y&&(y.scrollBarX&&o.y>r-m||y.scrollBarY&&o.x>a-m))return n.scrollBarVisible=!0,t.iv(),void H(t,n);if(Qr(x,k)){if(f)if(null!=C&&null!==w&&w<=l.length&&C<=h.length&&u&&d&&u[C].key){var S=u[C],R=d[w],P=c[w],A=g[C],M=R[S.key];S.format&&(M=S.format(M,R,P,A)),f(e,M,R,S,P,A,t,i)}else f(e,null,null,null,null,null,t,i);s!==c[w]&&(n.hoverIndex=c[w],t.iv())}else if(p&&!n.resizeBeginPoint&&v&&Qr(p,k)){for(var B=n.resizeRects,E=void 0,O=0;O<B.length;O++)if(Qr(B[O],k)){E=O;break}n.resizeColIndex=E,Zr(E)?Br(i,"ew-resize"):Br(i,"default")}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);n.hoverIndex=null,t.iv();var l=n.onHoverCell;l&&l(e,null,null,null,null,null,t,i),Br(i,"default")}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){b.apply(this,arguments);var n=Sr(i,t,this);if(Zr(n.resizeColIndex)){var l=n.colWidths,h=n.rawColIndexs,s=n.rawCols;n.resizeSourceWidth=l[h[n.resizeColIndex]],n.resizeBeginPoint=o,s.forEach(function(e,t){e.width=l[t]})}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.resizeBeginPoint;if(l){var h=n.rawCols,s=n.rawColIndexs,u=n.resizeColIndex,d=n.resizeSourceWidth,c=n.resizeRects,g=h[s[u]],f=o.x-l.x,v=c[u],p=v.x,x=v.y,b=v.width;return v.height,n.resizeDragPoint={x:p+b/2,y:x},g.width=Math.max(d+f,1),void t.iv()}m.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){_.apply(this,arguments);var n=Sr(i,t,this);if(n.resizeBeginPoint){var l=Or(this,"translateX",t),h=(t.a(l),n.colWidths),s=0;h.forEach(function(e){s+=e}),delete n.resizeBeginPoint,delete n.resizeDragPoint,delete n.resizeColIndex,s<a?t.a(l,0):t.iv()}}},{key:"onScroll",value:function(e,t,i,o,a,r){x.apply(this,arguments)}}]),Qi);function Qi(){return l(this,Qi),d(this,(Qi.__proto__||Object.getPrototypeOf(Qi)).call(this))}function $i(e,t,i,o,a){var r=t.max,n=t.min,l=t.step,h=r-n,s=t.value,u=(i.x-o.x)/o.width*h+n,d=t.onChange,c=Or(t.comp,"value",e);if(u=Math.min(r,u),u=Math.max(n,u),l){var g=u%l;u=u-g+(Math.abs(g)>l/2)*(g<0?-l:l)}e.a(c,u),d&&d(s,u,e,a)}var eo=ht.Default.containsPoint,to=(t(io,ei),e(io,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled){var l=jr(n.barRect,2),h=Yr(i,t,this,o,e);eo(l,h)&&$i(t,n,h,n.barRect,i)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=jr(n.sliderRect,2),h=n.showToolTip,s=n.toolTipFormat,u=Or(this,"value",t),d=Yr(i,t,this,o,e);if(eo(l,d)&&h){var c=t.a(u);c=Ar(c)?"0":c+"",Rr.show(s?s(c):c,e)}else this.dragging||Rr.hide()}},{key:"onEnter",value:function(e,t,i,o,a,r){Sr(i,t,this).disabled?Br(i,"not-allowed"):Br(i,"pointer")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);Br(i,"default"),n.dragging||Rr.hide()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled){var l=jr(n.sliderRect,2),h=Yr(i,t,this,o,e);eo(l,h)&&(n.dragging=!0)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(n.dragging){var l=Yr(i,t,this,o,e),h=n.barRect;$i(t,n,l,h,i);var s=n.showToolTip,u=n.toolTipFormat,d=n.value;s&&Rr.show(u?u(d):d,e)}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){delete Sr(i,t,this).dragging,Rr.hide()}}]),io);function io(){return l(this,io),d(this,(io.__proto__||Object.getPrototypeOf(io)).call(this))}function oo(e,t,i,o,a,r){var n=t.max,l=t.min,h=t.step,s=n-l,u=(i.x-o.x)/o.width*s+l,d=t.value,c=d[0],g=d[1],f=Or(t.comp,"value",e),v=t.onChange;if(u=Math.min(n,u),u=Math.max(l,u),h){var p=u%h;u=u-p+(Math.abs(p)>h/2)*(p<0?-h:h)}var x=null;if(t.dragging){var b=t.dragging;x=b<=u?[b,u]:[u,b]}else{var y=Math.abs(c-u);x=Math.abs(g-u)<=y?[c,u]:[u,g]}return r||e.a(f,x),v&&v(d,x,e,a),u}var ao=(t(ro,ei),e(ro,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled){var l=jr(n.barRect,2),h=n.valueBarRect,s=n.valueBarDraggable,u=Yr(i,t,this,o,e);s&&ht.Default.containsPoint(h,u)||ht.Default.containsPoint(l,u)&&oo(t,n,u,n.barRect,i)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(n&&n.sliderRect&&n.sliderRect2){var l=jr(n.sliderRect,2),h=jr(n.sliderRect2,2),s=n.showToolTip,u=n.toolTipFormat,d=n.value,c=Yr(i,t,this,o,e);ht.Default.containsPoint(l,c)&&s?Rr.show(u?u(d[0]):d[0],e):ht.Default.containsPoint(h,c)&&s?Rr.show(u?u(d[1]):d[1],e):this.dragging||Rr.hide()}}},{key:"onEnter",value:function(e,t,i,o,a,r){Sr(i,t,this).disabled?Br(i,"not-allowed"):Br(i,"pointer")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);Br(i,"default"),n.dragging||Rr.hide()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled){jr(n.barRect,2);var l=jr(n.sliderRect,2),h=jr(n.sliderRect2,2),s=jr(n.valueBarRect,2),u=n.value,d=n.valueBarDraggable,c=Yr(i,t,this,o,e);ht.Default.containsPoint(l,c)?n.dragging=u[1]:ht.Default.containsPoint(h,c)?n.dragging=u[0]:d&&ht.Default.containsPoint(s,c)&&(n.draggingValueBar=oo(t,n,c,n.barRect,i,!0))}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.showToolTip,h=n.toolTipFormat,s=n.barRect,u=Yr(i,t,this,o,e);if(void 0!==n.dragging){var d=oo(t,n,u,s,i);l&&Rr.show(h?h(d):d,e)}else if(void 0!==n.draggingValueBar){var c=n.draggingValueBar,g=oo(t,n,u,s,i,!0),f=g-c,v=n.value,p=n.min,x=n.max,b=[v[0]+f,v[1]+f],y=Or(this,"value",t);if(b[0]<p?b=[p,p+(v[1]-v[0])]:b[1]>x&&(b=[x-(v[1]-v[0]),x]),n.draggingValueBar=g,t.a(y,b),l){var m=b.join(",");h&&(m=b.map(function(e){return h(e)}).join(", ")),Rr.show(m,e)}}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);delete n.dragging,delete n.draggingValueBar,Rr.hide()}}]),ro);function ro(){return l(this,ro),d(this,(ro.__proto__||Object.getPrototypeOf(ro)).call(this))}function no(e,t){if(t&&0<t.length)for(var i=0;i<t.length;i++){var o=Ie(t[i].rect,4),a=o[0],r=o[1],n=o[2],l=o[3];if(ht.Default.containsPoint({x:a,y:r,width:n,height:l},e))return t[i].value}}var lo=(t(ho,ei),e(ho,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=Or(this,"value",t);if(!n.disabled&&l){var h=void 0;if((h=n.dropDown)&&h.isOpened())h.close();else{var s=n.value,u=s?s.slice(0):null,d=n.valueItemInfo,c=no(o,d);if(c&&s&&0<=s.indexOf(c)){var g=s.indexOf(c);s.splice(g,1);var f=s.slice(0);t.a(l,f),n.onChange&&n.onChange(u,f,t,i),Br(i,"default"),this._hitValue=s}}}}},{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled)if(this._hitValue)delete this._hitValue;else{var l=Or(this,"value",t);0<o.x&&o.x<a&&0<o.y&&o.y<r&&Ui(t,i,n,l,!0)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(n.disabled)Br(i,"not-allowed");else{var l=n.valueItemInfo;no(o,l)?(this._oldCursor=i.getView().style.cursor,Br(i,"pointer")):Br(i,"default")}}},{key:"onEnter",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);n.disabled?Br(i,"not-allowed"):Br(i,"pointer"),n.disabled}},{key:"onLeave",value:function(e,t,i,o,a,r){Br(i,"default")}}]),ho);function ho(){return l(this,ho),d(this,(ho.__proto__||Object.getPrototypeOf(ho)).call(this))}function so(e,t,i,o){if(e){var a=e.x,r=e.y,n=e.width,l=e.height,h=e.boundWidth,s=e.boundHeight,u=e.absoluteScrollBarWidth;if(l<s){var d=l/s;if(uo({x:a+n-u,y:r-i*d,width:u,height:l*d},o))return!0}if(n<h-2){var c=n/h;if(uo({x:a-t*c,y:r+l-u,width:n*c,height:u},o))return!0}return!1}return!1}var uo=ht.Default.containsPoint,co=(t(go,ei),e(go,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,u=l.translateX,d=l.translateY,c=l.isScrollBarDragging,g=l.rectInfo;if(h)if(c)l.isScrollBarDragging=!1;else if(!so(s,u,d,n)&&g){var f=g.togglesRect,v=g.checksRect,p=g.visibleRowsRect,x=g.badgesRect;if(h.onClickBadge(arguments,n,x))return;if(h.onClickCheck(arguments,n,v))return;if(h.onClickToggle(arguments,n,f))return;if(h.onClickVisibleRow(arguments,n,p,l))return;h.onClickBack(arguments)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,u=l.translateX,d=l.translateY,c=l.isScrollBarDragging,g=l.rectInfo,f=l.preHoverNode;if(h&&!c)if(so(s,u,d,n))f&&(f.a("disabled")&&Br(i,"default"),f.a("_isHovering",!1),t.iv());else if(g){var v=g.visibleRowsRect;h.onHoverRow(arguments,n,v,f,l)}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.preHoverNode;l&&(Br(i,"default"),l.a("_isHovering",!1),delete n.preHoverNode,t.iv())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.scrollBarInfo,s=l.translateX,u=l.translateY;so(h,s,u,n)&&(l.isScrollBarDragging=!0),b.apply(this,arguments)}},{key:"onDrag",value:function(e,t,i,o,a,r){m.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);n&&(n.isScrollBarDragging=!1),_.apply(this,arguments)}},{key:"onScroll",value:function(e,t,i,o,a,r){x.apply(this,arguments)}}]),go);function go(){return l(this,go),d(this,(go.__proto__||Object.getPrototypeOf(go)).call(this))}function fo(e,t,i,o){if(e){var a=e.x,r=e.y,n=e.width,l=e.height,h=e.boundWidth,s=e.boundHeight,u=e.absoluteScrollBarWidth;if(l<s){var d=l/s;if(vo({x:a+n-u,y:r-i*d,width:u,height:l*d},o))return!0}if(n<h-2){var c=n/h;if(vo({x:a-t*c,y:r+l-u,width:n*c,height:u},o))return!0}return!1}return!1}var vo=ht.Default.containsPoint,po=(t(xo,ei),e(xo,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,u=l.translateX,d=l.translateY,c=l.isScrollBarDragging,g=l.rectInfo;if(h)if(c)l.isScrollBarDragging=!1;else if(!fo(s,u,d,n)&&g){var f=g.togglesRect,v=g.checksRect,p=g.visibleRowsRect;if(h.onClickHeadCell(arguments,n))return;if(h.onClickCheck(arguments,n,v))return;if(h.onClickToggle(arguments,n,f))return;if(h.onClickVisibleRow(arguments,n,p,l))return;h.onClickBack(arguments)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,u=l.translateX,d=l.translateY,c=l.isScrollBarDragging,g=l.rectInfo,f=l.preHoverNode;if(h&&!c)if(fo(s,u,d,n))f&&(f.a("disabled")&&Br(i,"default"),f.a("_isHovering",!1),t.iv());else{if(g){var v=g.visibleRowsRect;h.onHoverRow(arguments,n,v,f,l)}var p=!1;if(h.a("headLineDraggable")){for(var x=h.a("columnLinesRect"),b=0,y=x.length;b<y;b++)if(vo(x[b],n)){Br(i,"ew-resize"),p=!0;break}b===y&&Br(i,"default")}h.a("headDraggable")&&!p&&vo(h.a("headRect"),n)&&Br(i,"pointer")}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.preHoverNode;l&&(l.a("_isHovering",!1),delete n.preHoverNode,t.iv()),Br(i,"default")}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,u=l.translateX,d=l.translateY;if(fo(s,u,d,n)&&(l.isScrollBarDragging=!0),b.apply(this,arguments),h){if(h.a("headLineDraggable"))for(var c=h.a("columnLinesRect"),g=0,f=c.length;g<f;g++)if(vo(c[g],n))return l.dragColumnLineIndex=g,void(l.columnLineBegingDragX=n.x);if(h.a("headDraggable"))for(var v=h.a("columnsRect"),p=0,x=v.length;p<x;p++)if(vo(v[p],n))return l.dragStartColumnIndex=p,void(l.dragStartColumnBeginDragX=n.x)}}},{key:"onDrag",value:function(e,s,t,i,o,a){var u=Yr(t,s,this,i,e),d=Sr(t,s,this),c=d.treeTableDataModel,r=d.dragColumnLineIndex,n=d.columnLineBegingDragX,g=d.dragStartColumnBeginDragX,l=d.dragStartColumnIndex;if(m.apply(this,arguments),c){if(c.a("headLineDraggable")){if(d._dragColumnLineTimer)return;d._dragColumnLineTimer=setTimeout(function(){void 0!==r&&(d.dragColumnLineDistance=u.x-n,s.iv()),delete d._dragColumnLineTimer},10)}if(void 0===r&&c.a("headDraggable")&&void 0!==l){if(d._dragColumnTimer)return;d._dragColumnTimer=setTimeout(function(){for(var e=c.a("columnsRect"),t=0,i=e.length;t<i;t++){var o=e[t];if(vo(o,u)){var a=o.x,r=o.y,n=o.width,l=o.height,h=c.a("columnLineWidth");u.x<a+n/2?(d.dragColumnLineRect={x:a-h,y:r,width:h,height:l},d.dragColumnDirection="left"):(d.dragColumnLineRect={x:a+n,y:r,width:h,height:l},d.dragColumnDirection="right"),d.dragEndColumnIndex=t,d.dragColumnDistance=u.x-g,s.iv();break}}delete d._dragColumnTimer},10)}}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.treeTableDataModel,h=n.dragColumnLineIndex,s=n.dragColumnLineDistance,u=(n.columnLineBegingDragX,n.dragStartColumnIndex),d=n.dragEndColumnIndex,c=n.dragColumnDirection;if(n&&(n.isScrollBarDragging=!1),_.apply(this,arguments),l){if(l.a("headLineDraggable")){var g=l.a("dragColumnsLineDiff")||{},f=l.a("colWidths"),v=l.a("defColWidths"),p=l.a("visibleColumns");void 0!==h&&void 0!==s&&(g[p[h].key]=f[h]-v[h],l.a("dragColumnsLineDiff",g))}if(void 0!==h)return n._dragColumnLineTimer&&(clearTimeout(n._dragColumnLineTimer),delete n._dragColumnLineTimer),delete n.dragColumnLineIndex,delete n.dragColumnLineDistance,void delete n.columnLineBegingDragX;if(l.a("headDraggable")){if(void 0!==u&&void 0!==d){var x=!0;d-u==1&&"left"===c&&(x=!1),d-u==-1&&"right"===c&&(x=!1),u===d&&(x=!1),x&&l.a("dragColumnsInfo",{dragStartColumnIndex:u,dragEndColumnIndex:d}),t.iv()}n._dragColumnTimer&&(clearTimeout(n._dragColumnTimer),delete n._dragColumnTimer),delete n.dragStartColumnIndex,delete n.dragEndColumnIndex,delete n.dragColumnLineRect,delete n.dragColumnDirection,delete n.dragStartColumnBeginDragX,delete n.dragColumnDistance}}}},{key:"onScroll",value:function(e,t,i,o,a,r){x.apply(this,arguments)}}]),xo);function xo(){return l(this,xo),d(this,(xo.__proto__||Object.getPrototypeOf(xo)).call(this))}var bo=10,yo=10;ht.Default.setCompType("htVectorChartTip",{width:50,height:50,func:function(d,e,t,i,o){var r=t.getValue("labelFont"),c=t.getValue("labelColor"),g=t.getValue("itemFont"),f=(t.getValue("itemColor"),t.getValue("itemIconSize")),a=t.getValue("info");if(a){ht.Default.isArray(a)||(a=[a]);var v=e.x,n=e.y,p=(e.width,e.height,0),x=0,b=n;a.forEach(function(e,t){var i=e.label,o=e.datas,u=e.colors;if(0<t&&(b+=8,p+=8),i){var a=sr(r,i);p+=a.height,x=a.width,ht.Default.drawText(d,i,r,c,v,b,a.width,a.height,"left"),b+=a.height+2}o.forEach(function(e,t){var i=Ie(e,3),o=i[0],a=i[1],r=i[2],n=null!=o?o+"："+a:a,l=sr(g,n);p+=l.height+2,x=Math.max(x,l.width+f+3);var h=v;if(!ht.Default.isEmptyObject(u)){var s=f/2;d.fillStyle=r||u[t],d.beginPath(),d.moveTo(s,b+s),d.arc(s,b+s,s,0,2*Math.PI),d.fill(),h+=3+f}ht.Default.drawText(d,n,g,c,h,b,l.width,l.height,"left"),b+=l.height+2})}),yo=p,bo=x}},properties:{labelFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},labelColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},itemColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemIconSize:{valueType:"PositiveNumber",defaultValue:12},info:{valueType:"Object",defaultValue:{}}}}),ht.Default.setImage("htVectorChartTip",{width:50,height:50,fitSize:!0,pixelPerfect:!1,interactive:!0,boundExtend:2,comps:[{type:"htVectorChartTip",displayName:"htVectorChartTip",rect:[0,0,50,50],info:{func:"attr@info",value:{}},itemColor:{func:"attr@itemColor",value:"rgb(247, 247, 247)"}}]});var mo,wo=(mo=ht.graph.GraphView,t(Co,mo),e(Co,[{key:"setInfo",value:function(e){this._tipNode.a("info",e),this.getWidth()===bo&&this.getHeight()===yo||(this._tipNode.setWidth(bo),this._tipNode.setHeight(yo),this.setWidth(bo),this.setHeight(yo),this.fitContent(!1,0))}},{key:"setAttr",value:function(e){this._tipNode.a(e)}}]),Co);function Co(){l(this,Co);var e=d(this,(Co.__proto__||Object.getPrototypeOf(Co)).call(this));e.getView().style.position="relative";var t=e._tipNode=new ht.Node;return t.setImage("htVectorChartTip"),e.dm().add(t),e.setWidth(bo),e.setHeight(yo),e}var ko=new wo,Vo=(t(Do,ei),e(Do,[{key:"onDown",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.ui,h=n.option;if(h&&l&&(n._moveTimer&&clearTimeout(n._moveTimer),h&&h.tooltip.show&&!n._dragging)){var s=l.interactiveInfo,u=l.bounds.bodyRect,d=s.axisInfos,c=Yr(i,t,this,o,e),g=h.tooltip.formatter;if(Qr(u,c)&&d.length){for(var f=l.valueAxis===P?c.y:c.x,v=void 0,p=1/0,x=d[0],b=0;b<x.length;b++){var y=Math.abs(x[b].position-f);y<p&&(p=y,v=b)}if(x[v]){var m=[],w=l.seriesColors.slice(0);d.forEach(function(e){var t=e[v];m.push({label:t.label,datas:t.series,colors:w.splice(0,t.series.length)})}),m=Gr(m),g&&g(m,t,i),ko.setInfo(m),Rr.show(ko.getView(),e)}n.hoverIndex!==v&&(n.hoverIndex=v,t.iv())}else delete n.hoverIndex,t.iv(),Rr.hide()}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);void 0!==n.hoverIndex&&(delete n.hoverIndex,t.iv(),Rr.hide())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Lr(i,t,this,e),l=Sr(i,t,this),h=l.option,s=l.ui;if(l&&h&&h.onRectSelected){void 0!==l.hoverIndex&&(delete l.hoverIndex,t.iv(),Rr.hide());var u=s.bounds.bodyRect,d={x:o.x+n.rect.x,y:o.y+n.rect.y};Qr(u,d)&&(l._dragging=!0,l.rectPoint1=d)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Lr(i,t,this,e),l=Sr(i,t,this);if(l&&l._dragging){var h=l.ui.bounds.bodyRect,s={x:o.x+n.rect.x,y:o.y+n.rect.y};l.rectPoint2=rn(h,s),t.iv()}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(n&&n._dragging){var c=n.ui,l=n.option,h=c.rectPoint1,s=c.rectPoint2,u=c.valueAxis,d=l.xAxis,g=l.yAxis,f=$r(h,s);delete n._dragging,delete n.rectPoint1,delete n.rectPoint2,t.iv();var v={x:[],y:[]};d.forEach(function(e){var t=e.type,i=[];if(v.x.push(i),p===t){var o=c.interactiveInfo;o.axisInfos&&o.axisInfos.length&&o.axisInfos[0].forEach(function(e,t){e.position>f.x&e.position<f.x+f.width&&i.push(t)})}else if(E===t){var a=e._axisObj.timeRange;if(a){var r=Ie(a,2),n=r[0],l=r[1],h=l-n,s=c.bounds.bodyRect,u=Math.floor((f.x-s.x)/s.width*h+n),d=Math.floor((f.x-s.x+f.width)/s.width*h+n);u=Math.max(u,n),d=Math.min(d,l),i.push(u),i.push(d)}}}),g.forEach(function(e){var t=[];if(v.y.push(t),te===u){var i=Ie(e._axisObj.zoomValueRange,2),o=i[0],a=i[1],r=a-o,n=c.bounds.bodyRect,l=(n.height-f.height-f.y+n.y)/n.height*r+o,h=(n.height-f.y+n.y)/n.height*r+o;l=Math.max(l,o),h=Math.min(h,a),t.push(l),t.push(h)}}),l.onRectSelected(v,t,i)}}}]),Do);function Do(){return l(this,Do),d(this,(Do.__proto__||Object.getPrototypeOf(Do)).call(this))}var Io=(t(To,gi),e(To,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled){var l=Or(this,"value",t);0<o.x&&o.x<a&&0<o.y&&o.y<r&&function(e,t,i,o){var a=i.dropDown;a||(e.getFormat=function(){return e.a(f.FORMAT)},a=new Ri(e,t,i,o),i.dropDown=a),a.open()}(t,i,n,"a@"+l)}}}]),To);function To(){return l(this,To),d(this,(To.__proto__||Object.getPrototypeOf(To)).call(this))}function _o(e,t){for(var i=0;i<e.length;i++){var o=e[i],a=o.rect,r=o.index;if(ht.Default.containsPoint(a,t))return r}}var Lo=(t(So,ei),e(So,[{key:"onEnter",value:function(e,t,i,o,a,r){var n="pointer";Sr(i,t,this).disabled&&(n="not-allowed"),Br(i,n)}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);Br(i,"default"),n.hoverIndex=null,t.iv()}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.buttonRects,h=(n.values,n.disabled),s=Yr(i,t,this,o,e),u=null;h||(l&&(u=_o(l,s)),u!==n.hoverIndex&&(n.hoverIndex=u,t.iv()))}},{key:"onDown",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.buttonRects,h=n.values,s=n.disabled,u=n.onChange,d=Yr(i,t,this,o,e),c=Or(this,"value",t),g=null;if(!s&&c){l&&(g=_o(l,d));var f=Ar(g)?null:h[g],v=t.a(c);f!==v&&(t.a(c,f),u&&u(v,f,t,i))}}}]),So);function So(){return l(this,So),d(this,(So.__proto__||Object.getPrototypeOf(So)).apply(this,arguments))}var Ro=Math.PI,Po=Math.pow,Ao=Math.sin,Mo={swing:function(e){return-Math.cos(e*Ro)/2+.5},easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?.5*e*e:.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?.5*e*e*e*e:.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){return 0===e||1===e?e:-Po(2,10*(e-=1))*Ao(2*Ro*(e-.075)/.3)},elasticOut:function(e){return 0===e||1===e?e:Po(2,-10*e)*Ao(2*Ro*(e-.075)/.3)+1},elasticBoth:function(e){return 0===e||1===e?e:e<1?Po(2,10*(e-=1))*Ao(2*Ro*(e-.1125)/.45)*-.5:Po(2,-10*(e-=1))*Ao(2*Ro*(e-.1125)/.45)*.5+1},backIn:function(e){if(1===e)return e;return e*e*(2.70158*e-1.70158)},backOut:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},backBoth:function(e){var t=1.70158;return(e*=2)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},bounceIn:function(e){return 1-Easing.bounceOut(1-e)},bounceOut:function(e){var t=7.5625;return e<1/2.75?t*e*e:e<2/2.75?t*(e-=1.5/2.75)*e+.75:e<2.5/2.75?t*(e-=2.25/2.75)*e+.9375:t*(e-=2.625/2.75)*e+.984375},bounceBoth:function(e){return e<.5?.5*Easing.bounceIn(2*e):.5*Easing.bounceOut(2*e-1)+.5}},Bo=(t(Eo,ei),e(Eo,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=Yr(i,t,this,o,e),h=n.itemInfos,s=n.index,u=n.animation,d=n.onClickItem,c=n.dataSource,g=void 0;if(h&&h.length)for(var f=0;f<h.length;f++){var v=h[f];if(Qr(v.rect,l)){g=v.index;break}}if(Zr(g)&&s!==g){var p=Or(this,"index",t);if(p)if(u){n._animationObj&&n._animationObj.stop();var x=g-s;n._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Mo.easeOut,finishFunc:function(){delete n._animationObj},action:function(e){t.a(p,s+x*e)}})}else t.a(p,g)}Zr(g)&&d&&d(c[g],g,t,i)}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=Yr(i,t,this,o,e),h=n.itemInfos,s=!1;if(h&&h.length)for(var u=0;u<h.length;u++){var d=h[u];if(Qr(d.rect,l)){s=!0;break}}Br(i,s?"pointer":"default")}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.scrollable,h=n.index,s=n.dataSource,u=0<e.scrollDelta?1:-1;if(l){var d=s.length,c=Or(this,"index",t),g=h+u;0<=g&&g<d&&t.a(c,g)}}}]),Eo);function Eo(){return l(this,Eo),d(this,(Eo.__proto__||Object.getPrototypeOf(Eo)).apply(this,arguments))}var Oo=(t(Ho,ei),e(Ho,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=Yr(i,t,this,o,e),h=n.itemInfos,s=n.index,u=n.animation,d=n.onClickItem,c=n.dataSource,g=void 0;if(h&&h.length)for(var f=0;f<h.length;f++){var v=h[f];if(Qr(v.rect,l)){g=v.index;break}}if(Zr(g)&&s!==g){var p=Or(this,"index",t);if(p)if(u){n._animationObj&&n._animationObj.stop();var x=g-s;n._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Mo.easeOut,finishFunc:function(){delete n._animationObj},action:function(e){t.a(p,s+x*e)}})}else t.a(p,g)}Zr(g)&&d&&d(c[g],g,t,i)}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=Yr(i,t,this,o,e),h=n.itemInfos,s=!1;if(h&&h.length)for(var u=0;u<h.length;u++){var d=h[u];if(Qr(d.rect,l)){s=!0;break}}Br(i,s?"pointer":"default")}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.scrollable,h=n.index,s=n.dataSource,u=0<e.scrollDelta?1:-1;if(l){var d=s.length,c=Or(this,"index",t),g=h+u;0<=g&&g<d&&t.a(c,g)}}}]),Ho);function Ho(){return l(this,Ho),d(this,(Ho.__proto__||Object.getPrototypeOf(Ho)).apply(this,arguments))}function Wo(n,e){var l=e.data,h=e.view,s=n.xAxis.map(function(e){return e._axisObj.boundHeight}),u=n.yAxis.map(function(e){return e._axisObj.boundWidth}),t=2,d=e.leftAxis=[],c=e.rightAxis=[],g=e.topAxis=[],f=e.bottomAxis=[],v=0,i=0,p=0,o=0;n.xAxis.forEach(function(e,t){e.show&&(e._axisObj.position===ue?(p+=s[t],g.push(t)):(o+=s[t],f.push(t)))}),n.yAxis.forEach(function(e,t){e.show&&(e._axisObj.position===xe?(i+=u[t],c.push(t)):(v+=u[t],d.push(t)))}),n.yAxis.forEach(function(e){t=Math.max(t,2+e._axisObj.labelHeight)}),p<t&&(p=t),o<t&&(o=t);var a=e.contentRect,x=0,b=0;if(e.valueAxis===te&&n.xAxis.forEach(function(e){if(e.axisLabel.show&&e.data){var t=sr(e.axisLabel.font,e.data[0]),i=t.width/2;b<i&&(b=i),t=sr(e.axisLabel.font,e.data[e.data.length-1]),x=Math.max(t.width/2,x)}else if(e.axisLabel.show&&e.type===E){var o=e._axisObj.formatter;if("string"==typeof o){var a=o;o=function(e){return an(new Date(e),a)}}var r=sr(e.axisLabel.font,o?o(Date.now(),l,h):"e"),n=r.width/2;b<n&&(b=n),x=Math.max(r.width/2,x)}}),n.yAxis.forEach(function(r){r.markLines&&r.markLines.forEach(function(e){var t=e.value,i=e.labelStyle,o=i&&i.font||qo,a=sr(o,t).width+6;r._axisObj.position===be&&x<a?x=a:b<a&&(b=a)})}),v<b){var r=b-v;u[0]+=r,v=b}var y,m=a.x,w=a.y,C=a.width,k=a.height,V=[],D=[],I=m,T=w,_=C-v-i,L=k-p-o;i<x&&(_=_-x+i),_=Math.max(0,_),L=Math.max(0,L),T=w+p,u.forEach(function(e,t){if(n.yAxis[t]._axisObj.position===xe){for(var i=0,o=c.indexOf(t);0<o;)i+=u[c[--o]];V.push({x:m+v+_+i,y:T,width:e,height:L})}else{for(var a=0,r=d.indexOf(t);0<r;)a+=u[d[--r]];V.push({x:I+a,y:T,width:e,height:L})}}),I=m+v,T=w,s.forEach(function(e,t){if(n.xAxis[t]._axisObj.position===ue){for(var i=0,o=g.indexOf(t);0<o;)i+=s[g[--o]];D.push({x:I,y:T+i,width:_,height:e})}else{for(var a=0,r=f.indexOf(t);0<r;)a+=s[f[--r]];D.push({x:I,y:T+L+p+a,width:_,height:e})}}),y={x:m+v,y:w+p,width:Math.max(0,_),height:Math.max(0,L)},e.bounds={xAxisRects:D,yAxisRects:V,bodyRect:y}}function jo(o,a,e){return(o=Ko(o)?o.slice(0):[o]).forEach(function(e,t){var i=Jo(a);Mr(i,e),o[t]=i}),o}function No(e,t,i,o,a,r){var n=t.max,l=t.min,h=t.step,s=n-l,u=(i.x-o.x)/o.width*s+l,d=t.value,c=d[0],g=d[1];if(u=Math.min(n,u),u=Math.max(l,u),h){var f=u%h;u=u-f+(Math.abs(f)>h/2)*(f<0?-h:h)}var v=null;if(Zr(a))v=a<=u?[a,u]:[u,a];else{var p=Math.abs(c-u);v=Math.abs(g-u)<=p?[c,u]:[u,g]}return!r&&e&&e(v),u}function Fo(e,t,i,o,a,r){var n=t.max,l=t.min,h=t.step,s=n-l,u=(o.height-(i.y-o.y))/o.height*s+l,d=t.value,c=d[0],g=d[1];if(u=Math.min(n,u),u=Math.max(l,u),h){var f=u%h;u=u-f+(Math.abs(f)>h/2)*(f<0?-h:h)}var v=null;if(Zr(a))v=a<=u?[a,u]:[u,a];else{var p=Math.abs(c-u);v=Math.abs(g-u)<=p?[c,u]:[u,g]}return!r&&e&&e(v),u}function zo(e,t,i,o,a){var r=t-e,n=i.x,l=i.y,h=i.width,s=i.height,u=a?l:n,d=a?s:h;return(d-((a?o.y:o.x)-u))/d*r+e}function Yo(s,e,t,i,o,a,r){var n=Sr(t,e,i),l=n.ui,h=n.option,u=l.bounds.bodyRect,d=Yr(t,e,i,o,s);if(l&&h&&Qr(u,d)){var c=l.xAxisDataZoom,g=l.yAxisDataZoom,f=c?c.slider:null,v=g?g.slider:null,p=!1;return[f,v].forEach(function(e){if(e){var t=e.value,i=e.zoomIncrement,o=e.min,a=e.max,r=e.setter,n=(a-o)*i*(0<s.scrollDelta?1:-1),l=Math.max(o,t[0]-n),h=Math.min(a,t[1]+n);if(h<=l&&(l=h-1),Math.abs(h-l)<Math.abs(n))return;r([l,h]),p=!0}}),p}}function Go(e,t,i,o){return"function"==typeof t?t(e,i,o):"string"==typeof t?an(new Date(e),t):e}function Xo(e,t,i){e.x;var o=e.y,a=(e.width,e.height),r=i-t;return 0<=t?o+a:i<=0?o:o+a*(1-Math.abs(t)/r)}function Uo(e,t,i,o){var a=Ie(e,2),r=a[0],n=a[1],l=Ie(t,2),h=l[0],s=l[1],u=(i-s)/(h-s)*(n-r)+r;return o?u:Math.max(r,Math.min(n,u))}var Zo=ht.Default,Ko=Zo.isArray,Jo=Zo.clone,qo="12px arial",Qo=new wo,$o=(t(ea,ei),e(ea,[{key:"onMove",value:function(e,t,i,o,a,r){Lr(i,t,this,e);var n=Sr(i,t,this),l=n.ui,h=n.option;if(l&&h&&h.tooltip.show){var s=h.tooltip;if(n._dragging||n.dragging)return delete n.hoverTime,delete n.hoverPositionX,t.iv(),void Rr.hide();n._moveTimer&&clearTimeout(n._moveTimer);var u,d=Yr(i,t,this,o,e),c=h.xAxis[0]._axisObj.zoomTimeRange,g=l.xAxisDataZoom,f=l.yAxisDataZoom,v=g?g.slider:null,p=f?f.slider:null;if(c&&h.series){var x=l.seriesDatas,b=l.bounds.bodyRect,y=b.x,m=(b.y,c[0]),w=c[1],C={},k=[];if(u=h.series.map(function(e){return e.name}),Qr(b,d)){for(var V in x.forEach(function(e,o){if(e){var a={},r=l.seriesColors[o];e.forEach(function(e){var t=e[0];if(!(t<m||w<t)){var i=C[t];i=i||(C[t]={time:t,series:[]}),a[t]||(i.series.push([u[o],e[1],r]),a[t]=!0)}})}}),C)k.push(C[V]);if(k.sort(function(e,t){return e.time>t.time?1:-1}),k.length){var D=Math.floor((d.x-y)/b.width*(w-m)+m),I=function(e,t){var i=t.length;if(1===i)return t[0];for(var o=void 0,a=void 0,r=void 0;1!==i;){var n=Math.floor(i/2),l=t[n],h=l.time;if(e===h)return l;if(r=Math.abs(e-h),Zr(o)&&a<r){for(var s=1/0,u=void 0,d=0;d<t.length;d++){var c=t[d],g=Math.abs(e-c.time);g<s&&(u=c,s=g)}return s<a&&u?u:o}i=(t=h<e?t.slice(Math.min(i-1,n+1)):t.slice(0,n)).length,o=l,a=r}var f=t[0];return a<(r=Math.abs(f.time-e))?o:f}(D,k);if(I){var T=h.xAxis[0]._axisObj.formatter;if("string"==typeof T){var _=T;T=function(e){return an(new Date(e),_)}}var L=T(I.time,t,i),S=(l.seriesColors.slice(0),[{label:L,datas:I.series,colors:I.series.map(function(e){return e[2]})}]);S=Gr(S),s.formatter&&s.formatter(S,I.time,t,i),Qo.setInfo(S),D=I.time,n.hoverTime!==D&&(n.hoverTime=D,t.iv()),Rr.show(Qo.getView(),e)}}if(v||p){var R=n.sliderInfo={info:[],body:!0};return v&&R.info.push({axis:P,info:v}),void(p&&R.info.push({axis:te,info:p}))}}else{if(delete n.hoverTime,t.iv(),Rr.hide(),v&&(Qr(jr(v.sliderRect,3),d)||Qr(jr(v.sliderRect2,3),d)||Qr(v.valueBarRect,d)))return Br(i,"ew-resize"),void(n.sliderInfo={axis:P,info:v});if(p&&(Qr(jr(p.sliderRect,3),d)||Qr(jr(p.sliderRect2,3),d)||Qr(p.valueBarRect,d)))return Br(i,"ns-resize"),void(n.sliderInfo={axis:te,info:p});delete n.sliderInfo,Br(i,"default")}}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);void 0!==n.hoverTime&&(delete n.hoverTime,t.iv(),Rr.hide())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Lr(i,t,this,e),l=Sr(i,t,this),h=l.option,s=l.ui,u=l.sliderInfo;if(l&&h.onRectSelected){void 0!==l.hoverIndex&&(delete l.hoverIndex,t.iv(),Rr.hide());var d=s.bounds.bodyRect,c={x:o.x+n.rect.x,y:o.y+n.rect.y};if(Qr(d,c))return l._dragging=!0,void(l.rectPoint1=c)}if(u){var g=u.info,f=g.sliderRect,v=g.sliderRect2,p=g.valueBarRect,x=g.value,b=g.barRect,y=Yr(i,t,this,o,e);l.dragging=!0,u.body?u.info.forEach(function(e){e.draggingValue=zo(e.info.value[0],e.info.value[1],e.info.barRect,y,e.axis===te)}):Qr(jr(f,3),y)?u.fixed=x[1]:Qr(jr(v,3),y)?u.fixed=x[0]:Qr(p,y)&&(P===u.axis?u.draggingValue=No(null,u.info,y,b,null,!0):u.draggingValue=Fo(null,u.info,y,b,null,!0))}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Lr(i,t,this,e),l=Sr(i,t,this);if(l&&l._dragging){var h=l.ui.bounds.bodyRect,s={x:o.x+n.rect.x,y:o.y+n.rect.y};l.rectPoint2=rn(h,s),l._drawTimer&&clearTimeout(l._drawTimer),l._drawTimer=setTimeout(function(){t.iv(),delete l._drawTimer},2)}var u=l.sliderInfo,d=l.option;if(l.dragging&&u){var c=u.info,g=c.barRect,f=c.setter,v=Yr(i,t,this,o,e),p=u.axis===P?No:Fo,x=void 0;if(x=P===u.axis?d.xAxis[0]._axisObj.formatter:d.yAxis[0].axisLabel?d.yAxis[0].axisLabel.formatter:null,Zr(u.fixed)){var b=p(f,u.info,v,g,u.fixed);Rr.show(x?Go(b,x,t,i):b,e)}else if(Zr(u.draggingValue)){var y=u.draggingValue,m=p(null,u.info,v,g,null,!0)-y,w=u.info.value,C=u.info.min,k=u.info.max,V=[w[0]+m,w[1]+m];V[0]<C?V=[C,C+(w[1]-w[0])]:V[1]>k&&(V=[k-(w[1]-w[0]),k]),f(V);var D=V.join(",");x&&(D=V.map(function(e){return Go(e,x,t,i)}).join(",")),Rr.show(D,e)}else u.body&&u.info.forEach(function(e){var t=e.info,i=t.barRect,o=t.setter,a=t.min,r=t.max,n=e.info.value,l=e.draggingValue,h=zo(n[0],n[1],i,v,e.axis===te)-l;e.axis===te&&(h=-h);var s=e.info.value,u=[s[0]+h,s[1]+h];u[0]<a?u=[a,a+(s[1]-s[0])]:u[1]>r&&(u=[r-(s[1]-s[0]),r]),o(u)});t.iv()}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(n&&(delete n.sliderInfo,delete n.dragging,Rr.hide(),n._dragging)){var u=n.ui,l=n.option,h=u.rectPoint1,s=u.rectPoint2,d=u.valueAxis,c=l.xAxis,g=l.yAxis,f=$r(h,s);delete n._dragging,delete n.rectPoint1,delete n.rectPoint2,t.iv();var v={x:[],y:[]};c.forEach(function(e){e.type;var t=[];v.x.push(t);var i=e._axisObj.zoomTimeRange;if(i){var o=Ie(i,2),a=o[0],r=o[1],n=r-a,l=u.bounds.bodyRect,h=Math.floor((f.x-l.x)/l.width*n+a),s=Math.floor((f.x-l.x+f.width)/l.width*n+a);h=Math.max(h,a),s=Math.min(s,r),t.push(h),t.push(s)}}),g.forEach(function(e){var t=[];if(v.y.push(t),te===d){var i=Ie(e._axisObj.zoomValueRange,2),o=i[0],a=i[1],r=a-o,n=u.bounds.bodyRect,l=(n.height-f.height-f.y+n.y)/n.height*r+o,h=(n.height-f.y+n.y)/n.height*r+o;l=Math.max(l,o),h=Math.min(h,a),t.push(l),t.push(h)}}),l.onRectSelected(v,t,i)}}},{key:"onDown",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.ui,h=n.option;if(l&&h&&!n.dragging){var s=l.xAxisDataZoom,u=l.yAxisDataZoom,d=Yr(i,t,this,o,e),c=s?s.slider:null,g=u?u.slider:null;c&&Qr(c.barRect,d)&&!n.sliderInfo&&(No(c.setter,c,d,c.barRect),t.iv()),g&&Qr(g.barRect,d)&&!n.sliderInfo&&(Fo(g.setter,g,d,g.barRect),t.iv())}}},{key:"onScroll",value:function(e,t,i,o,a,r){Yo(e,t,i,this,o)&&(delete Sr(i,t,this).hoverTime,t.iv())}}]),ea);function ea(){return l(this,ea),d(this,(ea.__proto__||Object.getPrototypeOf(ea)).call(this))}var ta=(t(ia,ei),e(ia,[{key:"onMove",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.hoverIndex;if(n.tipShow){var h,s=void 0,u=t._div;if(!u){var d=(u=t._div=document.createElement("div")).style;d.boxSizing="border-box",d.position="absolute",d.background="rgba(0,0,0,0.3)",d.margin=0,d.padding="8px",d.borderRadius="5px",d.color="#fff",d.pointerEvents="none"}if(h=n.tipInfoList){for(var c=0;c<h.length;c++)if(Qr(h[c],o)){var g=ht.Default.getClientPoint(e),f=g.x+10,v=g.y-40;u.style.left=f+"px",u.style.top=v+"px",s=c;break}if(l!==s&&(n.hoverIndex=s,t.iv()),void 0===s)u.parentNode&&u.parentNode.removeChild(u);else if(hr(u),s!==l){var p=n.tipInfoList[s];p.name,p.text&&(p.name,p.text),t._div.innerHTML=p.text?p.name+":"+p.text:p.name}}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ht.vector.getVectorInfo(i,t,this);if(n.tipShow){void 0!==n.hoverIndex&&(n.hoverIndex=void 0,t.iv());var l=t._div;l.parentNode&&l.parentNode.removeChild(l)}}}]),ia);function ia(){return l(this,ia),d(this,(ia.__proto__||Object.getPrototypeOf(ia)).call(this))}function oa(e,t){for(var i=0;i<e.length;i++)if(Qr(e[i].rect,t))return e[i]}var aa=[ye,me,ke,Ve,we,Ce],ra=(t(na,ei),e(na,[{key:"onMove",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=Yr(i,t,this,o,e);if(n.itemList){var h=oa(n.itemList,l);Br(i,h?h.isDisabled?"not-allowed":"pointer":"default");var s=h?h.label:void 0;n.hoverLabel!==s&&(n.hoverLabel=s,t.iv())}}},{key:"onDown",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=Yr(i,t,this,o,e);if(n.itemList){var h=oa(n.itemList,l),s=h?h.label:void 0,u=Or(this,"current",t),d=n.onChange,c=n.totalPage,g=t.a(u),f=s;!h||h&&h.isDisabled||(0<=aa.indexOf(f)&&(f=f===ye?g-1:f===me?g+1:f===ke?1:f===we?Math.max(1,g-5):f===Ce?Math.min(c,g+5):n.itemList.length),g!==f&&(t.a(u,f),d&&d(g,f,t,i)))}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);Br(i,"default"),n.hoverLabel&&(delete n.hoverLabel,t.iv())}}]),na);function na(){return l(this,na),d(this,(na.__proto__||Object.getPrototypeOf(na)).call(this))}var la=(t(ha,ei),e(ha,[{key:"onBeginDrag",value:function(e,t,i,o,a,r){b.apply(this,arguments)}},{key:"onDrag",value:function(e,t,i,o,a,r){m.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){_.apply(this,arguments)}},{key:"onScroll",value:function(e,t,i,o,a,r){x.apply(this,arguments)}}]),ha);function ha(){return l(this,ha),d(this,(ha.__proto__||Object.getPrototypeOf(ha)).call(this))}var sa=ht.Default.setImage;sa("ht.vector.date",{width:16,height:16,comps:[{type:"roundRect",borderColor:"#ffffff",cornerRadius:1,rect:[1.5,6.54942,12.94,8]},{type:"shape",borderWidth:1,borderColor:"#ffffff",borderCap:"round",closePath:!0,points:[1.5,2.4523,14.44,2.4523,14.44,2.4523,14.44,2.4523,14.44,14.54942,14.44,14.54942,14.44,14.54942,1.5,14.54942,1.5,14.54942,1.5,14.54942,1.5,2.4523,1.5,2.4523,1.5,2.4523,1.5,2.4523],segments:[1,2,3,2,3,2,3,2,3,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[4.46,1,4.46,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[11.5,1,11.5,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,9.50677,7.00013,9.50677,9.00013,9.50677,12.50756,9.50677],segments:[1,2,1,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52,12.52535,12.50756,12.52535]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,6.54942,7.00013,6.54942,9.00013,6.54942,12.50756,6.54942],segments:[1,2,1,2]}]}),sa("ht.vector.dropDownIcon",{width:18,height:10,comps:[{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",points:[1,1,9,9,17,1]}]}),sa("ht.vector.treeOpenIcon",{width:10,height:10,attachStyle:"close",blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",borderColor:"rgb(0,0,0)",closePath:!0,points:[0,0,10,5,0,10]}]}),sa("ht.vector.treeCloseIcon",{width:10,height:10,attachStyle:"close",blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",borderColor:"rgb(0,0,0)",closePath:!0,points:[0,0,10,0,5,10]}]}),sa("ht.vector.treeDefIcon",{width:22,height:16,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[19.46829,3.58619,19.46829,1.10347,7.80392,1.10347,6.77294,0,0,0,0,16,19.46157,16,22,3.58619,19.46829,3.58619,6.04692,1.12664,7.07791,2.23011,18.26449,2.23011,18.26449,3.59706,2.82065,3.59706,1.12837,10.10776,1.12837,1.12664,6.04692,1.12664,18.43055,14.74166,1.12837,14.74166,1.12837,14.63244,3.68405,4.67291,20.5368,4.67291,18.43055,14.74166],segments:[1,2,2,2,2,2,2,2,2,5,1,2,2,2,2,2,2,2,5,1,2,2,2,2,2,5]}]}),sa("ht.vector.treeLoadIcon",{width:32,height:32,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[16.5125,32,7.69062,32,.5125,24.82187,.5125,16,.5125,7.17813,7.6875,0,16.5125,0,20.60625,0,24.5,1.54375,27.48125,4.35,27.84688,4.69375,27.8625,5.26563,27.51875,5.63125,27.175,5.99375,26.60313,6.0125,26.2375,5.66875,23.59375,3.18125,20.14063,1.8125,16.5125,1.8125,8.6875,1.8125,2.325,8.17812,2.325,16,2.325,23.82187,8.69062,30.1875,16.5125,30.1875,22.40937,30.1875,27.60312,26.6375,29.74063,21.14063,29.92188,20.675,30.44688,20.44063,30.9125,20.625,31.37813,20.80625,31.60938,21.33125,31.42813,21.79688,29.01563,27.99687,23.1625,32,16.5125,32],segments:[1,4,4,4,4,4,4,4,4,4,4,4,4,5]}]}),sa("ht.vector.treeCheckIcon",{dataBindings:[],width:160,height:160,attachStyle:"close",blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[139.3,.47663,20.5,.47663,9.52832,.47663,.5,9.50496,.5,20.47663,.5,139.57663,.5,150.54831,9.52832,159.57663,20.5,159.57663,139.5,159.57663,150.47168,159.57663,159.5,150.54831,159.5,139.57663,159.5,20.37663,159.47367,15.05689,157.32589,9.96152,153.53619,6.22809,149.74648,2.49467,144.61954,.42337,139.3,.47663,133.1,47.37663,61.3,119.57663,60.37719,120.51835,59.11835,121.05785,57.8,121.07663,56.41253,121.11208,55.0711,120.56825,54.1,119.57663,26.4,88.27663,24.93292,87.00925,24.32978,84.99815,24.85726,83.13258,25.38474,81.26701,26.95166,79.86949,28.86517,79.55795,30.77868,79.24642,32.70799,80.07473,33.8,81.67663,57.9,108.57663,126.1,40.37663,127.27177,38.81427,129.2561,38.07551,131.1643,38.49122,133.07249,38.90692,134.56971,40.40414,134.98541,42.31234,135.40112,44.22053,134.66236,46.20486,133.1,47.37663],segments:[1,2,4,2,4,2,4,2,4,4,5,1,2,4,4,2,4,4,4,2,2,4,4,4,5]}]}),sa("ht.vector.treeUnCheckIcon",{width:160,height:160,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[130,5,30,5,16.25,5,5,16.25,5,30,5,130,5,143.75,16.25,155,30,155,130,155,143.75,155,155,143.75,155,130,155,30,155,16.25,143.75,5,130,5,142.5,130,142.5,136.875,136.875,142.5,130,142.5,30,142.5,23.125,142.5,17.5,136.875,17.5,130,17.5,30,17.5,23.125,23.125,17.5,30,17.5,130,17.5,136.875,17.5,142.5,23.125,142.5,30,142.5,130],segments:[1,2,4,2,4,2,4,2,4,5,1,4,2,4,2,4,2,4,2,5]}]}),sa("ht.vector.treeUnCheckAllIcon",{width:160,height:160,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[158.11523,31.17188,158.11523,128.82813,158.11523,136.89453,155.24414,143.80859,149.52148,149.53125,143.79883,155.25391,136.9043,158.125,128.81836,158.125,31.18164,158.125,23.11523,158.125,16.20117,155.25391,10.47852,149.53125,4.75586,143.80859,1.88477,136.91406,1.88477,128.82813,1.88477,31.17188,1.88477,23.10547,4.75586,16.19141,10.47852,10.46875,16.20117,4.74609,23.0957,1.875,31.18164,1.875,128.83789,1.875,136.9043,1.875,143.81836,4.74609,149.54102,10.46875,155.24414,16.19141,158.11523,23.10547,158.11523,31.17188,132.06055,86.52344,132.06055,73.49609,132.06055,71.73828,131.41602,70.19531,130.12695,68.92578,128.83789,67.63672,127.29492,66.99219,125.55664,66.99219,34.42383,66.99219,32.66602,66.99219,31.12305,67.63672,29.85352,68.92578,28.56445,70.21484,27.91992,71.75781,27.91992,73.49609,27.91992,86.52344,27.91992,88.28125,28.56445,89.82422,29.85352,91.09375,31.14258,92.38281,32.64648,93.02734,34.42383,93.02734,125.55664,93.02734,127.31445,93.02734,128.85742,92.38281,130.12695,91.09375,131.41602,89.78516,132.06055,88.26172,132.06055,86.52344],segments:[1,2,4,4,2,4,4,2,4,4,2,4,4,5,1,2,4,4,2,4,4,2,4,4,2,4,4,5]}]}),sa("ht.vector.pagination.previous",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",points:[28,17,18,25,28,33]}]}),sa("ht.vector.pagination.next",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[32,17,22,25,32,33]}]}),sa("ht.vector.pagination.first",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:0,points:[35,17,25,25,35,33]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:0,points:[29,17,19,25,29,33]}]}),sa("ht.vector.pagination.last",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[29,17,19,25,29,33]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[35,17,25,25,35,33]}]}),sa("ht.vector.pagination.ellipsis",{modified:"Mon Aug 26 2019 15:46:29 GMT+0800 (中国标准时间)",background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[12.18756,23,4,4]},{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[23,23,4,4]},{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[33.81244,23,4,4]}]});var ua=(e(da,[{key:"show",value:function(e,t){"number"==typeof e&&(e+=""),"string"==typeof e?this._container.innerHTML=e:(this._container.innerHTML="",this._container.appendChild(e)),hr(this._container),this.update(t)}},{key:"update",value:function(e){var t=this._container.getBoundingClientRect(),i=ht.Default.getWindowInfo(),o=this._container.style,a=(e.clientX||e.pageX)+8,r=(e.clientY||e.pageY)+8;o.pointerEvents="none",a=Math.max(0,a),r=Math.max(0,r),a+t.width>i.width&&(a=i.width-t.width),r+t.height>i.height&&(r=i.height-t.height),this._container.style.left=a+"px",this._container.style.top=r+"px"}},{key:"hide",value:function(){lr(this._container)}}]),da);function da(){l(this,da),(this._container=document.createElement("div")).className="ht-vector-tooltip"}var ca=function(o,e,t,i,a){var r=a.seriesDatas[t],n=a.data,l=a.view,h=e.name,s=e.itemStyle||{},u=e.lineStyle||{},d=e.areaStyle||{},c=a.bounds,g=(c.xAxisRects,c.yAxisRects,c.bodyRect),f=g.x,v=g.y,p=g.width,x=g.height,b=Er(i.color,t),y=i.xAxis[e.xAxisIndex||0],m=i.yAxis[e.yAxisIndex||0],w=(y._axisObj.unitWidth,m._axisObj.valueRange),C=a.hoverIndex,k=w[0],V=w[1],D=y._axisObj.axisInfos,I=e.smooth,T=!!e.connectNulls,_=[],L=[],S=void 0,R=null,P=[];if(r&&r.length&&D){var A=a.interactiveInfo.axisInfos[a.valueAxis===te?e.xAxisIndex||0:e.yAxisIndex||0];if(r.forEach(function(e,t){if(D[t]){var i={x:D[t].position,y:Uo([v,v+x],w,e,!0)};if(Zr(e)){var o=R?2:1;T&&1===o&&L.length&&(o=2),_.push(i),L.push(o),R=o,A[t].series.push([h,e,u.color||b,i.x,i.y]),P.push(i)}else A[t].series.push([h,"-",u.color||b,i.x,i.y]),R=null,P.push(null)}}),S=_.slice(0),I&&2<=_.length){var M=nn(_,"number"==typeof I?I:void 0);_=M.points,L=M.segments}if(o.save(),o.beginPath(),o.rect(f,v,p,x),o.clip(),d.color){var B=_[0],E=_[_.length-1],O=Xo(g,k,V);Kr(o,_,L),o.lineTo(E.x,O),o.lineTo(B.x,O),o.closePath(),o.fillStyle=dn(o,d.color,g),o.fill()}var H=u.color||b;o.lineWidth=u.width||2,o.strokeStyle=dn(o,H),a.seriesColors.push(H),u.pattern&&o.setLineDash(u.pattern),Kr(o,_,L),o.stroke(),o.restore();var W=s.size||0,j=s.activeSize||3;W||1!==_.length||(W=1);var N=s.background,F=void 0===N?H:N,z=s.borderWidth,Y=void 0===z?1:z,G=s.borderColor,X=void 0===G?H:G,U=s.visible;if(!1!==U&&S.forEach(function(e,t){o.beginPath();var i=W;i&&("function"!=typeof U||!active&&U(e,t,r,active,n,l))&&(i&&o.arc(e.x,e.y,i,0,2*Math.PI),F&&(o.fillStyle=F,o.fill()),Y&&X&&(o.lineWidth=Y,o.strokeStyle=X,o.stroke()))}),void 0!==C&&j){var Z=s.activeBackground,K=void 0===Z?F:Z,J=s.activeBorderColor,q=void 0===J?X:J,Q=s.activeBorderWidth,$=void 0===Q?Y:Q;a._hoverHandlers||(a._hoverHandlers=[]);var ee=P[C];if(!ee||"function"==typeof U&&!U(ee,C,r,!0,n,l))return;a._hoverHandlers.push(function(){o.beginPath(),o.arc(ee.x,ee.y,j,0,2*Math.PI),K&&(o.fillStyle=K,o.fill()),$&&q&&(o.lineWidth=$,o.strokeStyle=q,o.stroke())})}}},ga=function(n,e,t,l,i){var o=i.seriesDatas[t],a=e.name,r=i.bounds.bodyRect,h=(r.x,r.y),s=(r.width,r.height),u=e.color||Er(l.color,t),d=l.xAxis[e.xAxisIndex||0],c=l.yAxis[e.yAxisIndex||0],g=d._axisObj.unitWidth,f=c._axisObj.valueRange,v=(i.hoverIndex,f[0]),p=f[1],x=d._axisObj.axisInfos,b=e.shadow,y=e.barWidth||.8,m=i.barSeries,w=m.length,C=m.indexOf(e),k=i.barCategoryGap||0,V=(g-2*(1<=k?k:g*k))/w,D=e.drawBar,I=i.view&&i.view.getZoom?i.view.getZoom():1;if(y<1&&(y*=V),o&&o.length&&x){var T=[],_=i.interactiveInfo.axisInfos[i.valueAxis===te?e.xAxisIndex||0:e.yAxisIndex||0],L=Xo(r,v,p),S=[h,h+s];o.forEach(function(e,t){var i=void 0;if(i="function"==typeof u?u(e,t,Er(l.color,t)):u,x[t]){var o={x:x[t].position,y:Uo(S,f,e)};_[t].series.push([a,Zr(e)?e:"-",i,o.x,o.y]),T.push({x:o.x-g/2+V*C+(V-y)/2+k,y:o.y<L?o.y:o.y-Math.abs(o.y-L),width:y,height:Math.abs(o.y-L)})}}),i.seriesColors.push(Er(l.color,t)),n.save(),T.forEach(function(a,e){var r=void 0;r=dn(n,"function"==typeof u?u(o[e],e,Er(l.color,e)):u,a);function t(){if(n.fillStyle=r,b){var e=b.color||ht.Default.darker(r),t=b.opacity;if(Zr(t)){var i=hn(e),o=i.splice(3,1)[0]||255;e="rgba("+i.join(",")+","+o/255*t+")"}n.shadowColor=e,n.shadowBlur=b.blur||0,n.shadowOffsetX=(b.offsetX||0)*I,n.shadowOffsetY=(b.offsetY||0)*I}n.fillRect(a.x,a.y,a.width,a.height)}D?D(n,o[e],a,{defaultDraw:t,color:r,data:i.data,view:i.view}):t()}),n.restore()}};var fa={show:!0,type:"value",splitNumber:5,axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!0,color:"#cccccc",width:1}},va={show:!0,type:"category",data:[],axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!1,color:"#cccccc",width:1}},pa=["rgb(51,153,255)","rgb(93,217,174)","#FEB64D","rgb(241,125,164)","rgb(135,144,204)","rgb(124,145,155)","rgb(48,242,120)","rgb(212,0,0)","#32D3EB","#c4ccd3"],xa=(e(ba,[{key:"initTimeAxis",value:function(){var o=this,e=this.series,a=[];if(e.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&(a=a.concat(i))}),a.length){var t=[];a.forEach(function(e){Xr(e)&&t.push(e[0])}),t.sort(function(e,t){return t<e?1:-1});var i=this.timeRange=[t[0],t[t.length-1]],r=this.axisOption.axisLabel.formatter;if(!r){var n=this.adjustTimeFormatString(this.timeRange);r=function(e){return an(new Date(e),n)}}this.formatter=r;var l=this.getDataZoomOption();if(l&&t.length){var h=i[0],s=i[1],u=this.zoomTimeRange=[Zr(l.min)?Math.max(h,l.min):h,Zr(l.max)?Math.min(s,l.max):s];u[1]-u[0]==0&&(u[0]===h?u[1]+=1:u[0]-=1),u.push(this.getUnitFromMaxAndMin(u[1],u[0])||1)}else this.zoomTimeRange=this.timeRange}}},{key:"getBoundWidth",value:function(){}},{key:"getBoundHeight",value:function(){}},{key:"getAxisValues",value:function(){var h=this,e=this.series,s=this.seriesIndexs,u=[];e.forEach(function(e,t){var i=h.ui.seriesDatas[s[t]];if(i)if(Xr(i))u=u.concat(i);else if(Ur(i)){for(var o=i.x,a=i.y,r=Math.min(o.length,a.length),n=[],l=0;l<r;l++)n.push([0,a[l]]);u=u.concat(n)}});var t=[];return u.forEach(function(e){Xr(e)?t.push(e[1]):Zr(e)&&t.push(parseFloat(e))}),t}},{key:"getMaxValueBound",value:function(){var e=this.axisOption,t=this.getAxisValues(),i=this.ui,o=i.data,a=i.view;this.valueRange||this.caluValueRange(t);var r=Ie(this.valueRange,2),n=r[0],l=r[1],h=n.toString().length>l.toString().length?n:l,s=e.axisLabel.formatter;return s&&(h=s(h,o,a)),on(e.axisLabel.font,h,e.axisLabel.rotate)}},{key:"caluValueRange",value:function(e){var t=this.axisOption,i=t.max,o=t.min,a=void 0,r=t.splitNumber||5,n=Math.max.apply(this,e),l=Math.min.apply(this,e);n<0&&(n=0);var h=n,s=l,u=l<0?n-l:n;if(Zr(o)&&Zr(i))a=(i-o)/r;else if(Zr(i)&&i/r%1==0){var d=Zr(o)?o:s;Ar(o)&&0<s&&(d=0),a=(i-(Zr(d)?d:s))/r}else if(1<n||n<=0){for(var c=1,g=u/c;100<=parseInt(g);)g=u/(c*=10);for(g=Math.ceil(g)*c;g%r!=0||g/r%c!=0;)g+=c;a=(n=g)/r}else a=n/r;if(a=a||1,Ar(o))if(0<=l)o=0;else{for(var f=0;l<f;)f-=a;l=f}if(Ar(i))for(i=n+(l<0?l:0);i<h;)i+=a;Ar(o)&&(o=l),o||i||(a=i=1),this.valueRange=[o,i,a];var v=this.getDataZoomOption();if(v&&e.length){var p=this.zoomValueRange=[Zr(v.min)?Math.max(o,v.min):o,Zr(v.max)?Math.min(i,v.max):i];p[1]-p[0]==0&&(p[0]===o?p[1]+=a/1e3:p[0]-=a/1e3),p.push(this.getUnitFromMaxAndMin(p[1],p[0])||1)}else this.zoomValueRange=this.valueRange}},{key:"getUnitFromMaxAndMin",value:function(e,t,i){for(var o=2<arguments.length&&void 0!==i?i:5,a=e-t,r=1,n=a/r;100<=parseInt(n);)n=a/(r*=10);for(n=Math.ceil(n)*r;n%o!=0||n/o%r!=0;)n+=r;return n/o}},{key:"caluValueRange2",value:function(e){var t,i,o=this.axisOption,a=o.max,r=o.min;o.splitNumber,i=Math.min(this,e),t=Math.max(this,e),Ar(r)&&Ar(a)?t<0?a=0:0<i?(r=0,valueMax):(valueMax,valueMin):Ar(r)&&Zr(a)||Zr(r)&&Ar(a),this.valueRange=[r,a,void 0]}},{key:"adjustTimeFormatString",value:function(e){e.sort(function(e,t){return t<e?1:-1});var t=e[0],i=e[e.length-1]-t;return i<18e5?"mm:ss":i<1728e5?"HH:mm":"YYYY-MM-DD"}},{key:"getDataZoomOption",value:function(){return this.axisOption.dataZoom}},{key:"getValuesByValueRange",value:function(e){var t=Ie(this.zoomValueRange,3),i=t[0],o=t[1],a=t[2],r=[],n=0;if(0<=i){for(r.push(i);n<o;)i<=n&&r.push(n),n+=a;r.push(o)}else if(o<=0){for(r.push(o);i<n;)n<=o&&r.unshift(n),n-=a;r.unshift(i)}else{for(;n<o;)r.push(n),n+=a;for(r.push(o),n=0;i<n;)r.unshift(n),n-=a;r.unshift(i)}var l=r.length;if(3<l){var h=e?.4:.6,s=r[0],u=r[1];(r[l-1]-r[l-2])/a<h&&r.splice(l-2,1),(u-s)/a<h&&r.splice(1,1)}return r}},{key:"drawMarkLine",value:function(){}}]),ba);function ba(e,t,i){l(this,ba),this.option=t,this.axisOption=e,this.ui=i,this.series=[],this.seriesIndexs=[],this.axisInfos=[],this.data=Fr(e.data,i.data,i.view)}var ya=(t(ma,xa),e(ma,[{key:"getTimeAxisTimes",value:function(){var o=this,e=this.series,a=[];e.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&(a=a.concat(i))});var t=[];return a.forEach(function(e){Xr(e)?t.push(e[0]):t.push(parseFloat(e))}),t.sort(function(e,t){return t<e?1:-1}),t}},{key:"getBoundHeight",value:function(){var e=this.axisOption,t=this.ui,i=(t.data,t.view);if(!e.show)return 2;var o=e.axisLabel.rotate,a=e.axisTick.show?e.axisTick.length:0,r=this.getDataZoomOption(),n=0;if(r&&!1!==r.sliderVisible&&(n+=18),this.isValueAxis)return n+2;var l=e.data,h=Y;return l&&(e.type===E?(this.getTimeAxisTimes(),h=this.formatter(Date.now(),l,i)):e.type===p&&l.forEach(function(e){e.toString().length>h.length&&(h=e)})),o?(o=Math.max(-45,o),o=Math.min(45,o),n+on(e.axisLabel.font,h,o).height+4+a):n+sr(e.axisLabel.font,Y).height+4+a}},{key:"draw",value:function(a){var o=this,e=this.ui,r=e.data,n=e.view,t=this.axisOption,i=t.type===E,l=this.axisIndex,h=e.bounds.xAxisRects[l],s=e.boundaryGap,u=h.x,d=h.y,c=h.width,g=h.height,f=this.data||[],v=this.formatter||t.axisLabel.formatter,p=this.timeRange,x=void 0;if(!1!==t.show&&t.axisLine.show&&(a.strokeStyle=t.axisLine.color,a.lineWidth=t.axisLine.width,a.beginPath(),this.position===ue?(a.moveTo(u,d+g),a.lineTo(u+c,d+g)):(a.moveTo(u,d),a.lineTo(u+c,d)),a.stroke()),t.type===E){if(f=[],this.series.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&i.length>f.length&&(f=i.map(function(e){return e[0]}))}),!(p&&p[0]&&p[1]))return;x=p[1]-p[0]}var b=0,y=0,m=1,w=void 0;if(1<f.length?y=b=s?(m=1,c/(f.length-1+m)):(m=1,c/(f.length-1)):b=c/2,f&&f.length&&(this.unitWidth=b,w=1===f.length?this.axisInfos=[{position:u+b,label:v?v(f[0],r,n):f[0]}]:this.axisInfos=f.map(function(e,t){return{position:(i?u+(e-p[0])/x*c:u+t*b)+s*b/2,label:v?v(e,r,n):e}}),!1!==t.show&&(t.axisLabel.show||t.axisTick.show))){var C=t.axisLabel.font,k=t.axisLabel.color,V=t.axisLabel.align,D=t.axisTick.length,I=this.position===ue?d:d+2+(t.axisTick.show?t.axisTick.length:0),T=0,_=[];if(f.forEach(function(e){v&&(e=v(e,r,n));var t=sr(C,e);_.push(t),T+=t.width}),T>h.width&&!l&&(m=Math.ceil(T/h.width)),t.axisTick.show&&D){var L=Zr(t.axisTick.interval)?t.axisTick.interval:m;0===L&&(L=1),a.strokeStyle=t.axisTick.color,a.beginPath(),f.forEach(function(e,t){if(t%L==0){var i=u+t*y;o.position===ue?(a.moveTo(i,d+g),a.lineTo(i,d+g-D)):(a.moveTo(i,d),a.lineTo(i,d+D))}}),a.stroke()}if(t.axisLabel.show){var S=Zr(t.axisLabel.interval)?t.axisLabel.interval:m;0===S&&(S=1),f.forEach(function(e,t){if(t%S==0){var i=_[t],o=w[t].position;Ar(e)&&(e=""),v&&(e=v(e,r,n)),s?ht.Default.drawText(a,e.toString(),C,k,o-b/2,I,b,i.height,"center"):ht.Default.drawText(a,e.toString(),C,k,o-i.width/2,I,i.width,i.height,V)}})}if(a.save(),t.splitLine.show){var R=Zr(t.splitLine.interval)?t.splitLine.interval:m;0===R&&(R=1);var P=e.bounds.bodyRect,A=P.x,M=P.y,B=(P.width,P.height);a.strokeStyle=t.splitLine.color,a.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&a.setLineDash(t.splitLine.pattern),a.beginPath(),f.forEach(function(e,t){if(t%R==0){var i=A+t*y;a.moveTo(i,M),a.lineTo(i,M+B)}}),a.stroke()}a.restore()}}}]),ma);function ma(e,t,i){l(this,ma);var o=d(this,(ma.__proto__||Object.getPrototypeOf(ma)).call(this,e,t,i));return o.axisIndex=t.xAxis.indexOf(e),o.isValueAxis=i.valueAxis===P,o.position=e.position||(o.axisIndex?ue:de),t.series.forEach(function(e){(e.xAxisIndex||0)===o.axisIndex&&o.series.push(e)}),o.boundHeight=o.getBoundHeight(),e.type===E&&o.initTimeAxis(),o}var wa=(t(Ca,xa),e(Ca,[{key:"getLabelHeight",value:function(){return this.getMaxValueBound().height}},{key:"getBoundWidth",value:function(){var e=this.axisOption;if(e.size)return e.size;var t=this.getMaxValueBound(),i=e.axisTick.show?e.axisTick.length:0,o=0,a=this.getDataZoomOption();return a&&!1!==a.sliderVisible&&(o+=18),this.isValueAxis?o+t.width+i+4:o+50}},{key:"draw",value:function(o){var i=this,a=this.ui,r=a.data,n=a.view,e=this.axisOption,t=this.axisIndex,l=a.bounds.yAxisRects[t];if(!1!==e.show){var h=this.getDataZoomOption(),s=this.zoomValueRange,u=void 0;h&&(u={x:l.x,y:l.y,width:18,height:l.height},this.drawSlider(o,u),l={x:l.x+18,y:l.y,width:l.width-18,height:l.height});var d=l,c=d.x,g=d.y,f=d.width,v=d.height;if(e.axisLine.show&&(o.strokeStyle=e.axisLine.color,o.lineWidth=e.axisLine.width,o.beginPath(),this.position===xe?(o.moveTo(c,g),o.lineTo(c,g+v)):(o.moveTo(c+f,g),o.lineTo(c+f,g+v)),o.stroke()),e.axisLabel.show){var p=Ie(s,3),x=p[0],b=p[1],y=(p[2],b-x),m=this.getValuesByValueRange(!0),w=0;e.axisTick.show&&(w=e.axisTick.length)&&(o.strokeStyle=e.axisTick.color,o.beginPath(),m.forEach(function(e){var t=g+v*(1-(e-x)/y);i.position===xe?(o.moveTo(c,t),o.lineTo(c+w,t)):(o.moveTo(c+f,t),o.lineTo(c+f-w,t))}),o.stroke());var C=f-2-(e.axisTick.show?w:0),k=e.axisLabel.font,V=e.axisLabel.color,D="auto"===e.axisLabel.align?this.position===be?xe:be:e.axisLabel.align,I=e.axisLabel.formatter,T=sr(k,Y),_=c+(this.position===xe?w:0);if(m.forEach(function(e){var t=g+v*(1-(e-x)/y)-T.height/2;"function"==typeof I&&(e=I(e,r,n)),ht.Default.drawText(o,e.toString(),k,V,_,t,C,T.height,D)}),o.save(),e.splitLine.show){var L=a.bounds.bodyRect,S=L.x,R=L.y,P=L.width,A=L.height;o.strokeStyle=e.splitLine.color,o.lineWidth=e.splitLine.width||1,e.splitLine.pattern&&o.setLineDash(e.splitLine.pattern),o.beginPath(),m.forEach(function(e,t){if(!(0===t&&a.bottomAxis.length||t===m.length-1&&a.topAxis.length)){var i=R+A*(1-(e-x)/y);o.moveTo(S,i),o.lineTo(S+P,i)}}),o.stroke()}o.restore()}}}},{key:"drawSlider",value:function(e,t){var o=this,i=t.x,a=(t.y,t.width),r=t.height,n=Ie(this.valueRange,2),l=n[0],h=n[1],s=this.ui,u=s.data,d=s.view,c=this.getDataZoomOption(),g=this.getDataZoomOption(),f=g.barBackground,v=void 0===f?"#eee":f,p=g.barValueBackground,x=void 0===p?"rgb(51,153,255)":p,b=g.barWidth,y=void 0===b?Math.min(12,a):b,m=g.barBorderRadius,w=void 0===m?0:m,C=g.min,k=void 0===C?l:C,V=g.max,D=void 0===V?h:V,I=g.sliderOffsetX,T=void 0===I?0:I,_=g.sliderOffsetY,L=void 0===_?0:_,S=g.sliderWidth,R=void 0===S?14:S,P=g.sliderHeight,A=void 0===P?5:P,M=g.sliderBackground,B=void 0===M?"#32D3EB":M,E=g.sliderBorderColor,O=void 0===E?"#32D3EB":E,H=g.sliderBorderWidth,W=void 0===H?1:H,j=g.sliderBorderRadius,N=void 0===j?0:j,F=g.sliderImage,z=g.sliderVisible,Y=g.zoomIncrement,G=void 0===Y?.05:Y,X=g.onChange,U=h-l;k=Math.max(l,k),D=Math.min(h,D),h<k&&(k=h),D<l&&(D=l);var Z=Gr(t);Z.x=i+(a-y)/2,Z.width=y;var K=Gr(Z);K.height*=(D-k)/U,K.y+=(h-D)/U*r;var J=Z.x+(y-R)/2+T,q=K.y+K.height-A/2+L,Q=K.y-A/2+L;!1!==z&&(zr(e,Z,v,w),zr(e,K,x,w),F?(drawImage(e,ht.Default.getImage(F),J,q,R,A),drawImage(e,ht.Default.getImage(F),J,Q,R,A)):(N<1&&(N*=Math.min(R,A)),e.beginPath(),qr(e,J,q,R,A,N),e.closePath(),e.fillStyle=B,e.fill(),W&&(e.lineWidth=W,e.strokeStyle=O,e.stroke()),e.beginPath(),qr(e,J,Q,R,A,N),e.closePath(),e.fillStyle=B,e.fill(),W&&(e.lineWidth=W,e.strokeStyle=O,e.stroke()))),this.ui.yAxisDataZoom={slider:{dataZoom:c,rect:t,barRect:Z,zoomIncrement:G,min:l,max:h,value:[k,D],setter:function(e){var t=o.ui.originalOption.yAxis[0].dataZoom,i=[t.min,t.max];e[0]===l?delete t.min:t.min=e[0],e[1]===h?delete t.max:t.max=e[1],X&&X(i,e,u,d)},valueBarRect:K,sliderRect:{x:J,y:q,width:R,height:A},sliderRect2:{x:J,y:Q,width:R,height:A}}}}},{key:"drawMarkLine",value:function(T){var e=this.axisOption.markLines;if(e){var t=this.ui.bounds.bodyRect,_=t.x,L=t.y,S=t.width,R=t.height,i=this.valueRange,P=i[0],A=i[1]-P,M=this.position;e.forEach(function(e){var t=e.color,i=void 0===t?"rgba(242,83,75,0.7)":t,o=e.lineStyle,a=void 0===o?{}:o,r=e.itemStyle,n=void 0===r?{}:r,l=e.labelStyle,h=void 0===l?{}:l,s=e.arrowStyle,u=void 0===s?{}:s,d=e.value,c=n.radius,g=void 0===c?2:c,f=n.background,v=void 0===f?i:f,p=a.pattern,x=void 0===p?[4,4]:p,b=h.font,y=void 0===b?qo:b,m=a.color||i,w=a.width||1,C=h.color||i,k=u.background||i,V=L+R*(1-Math.abs(d-P)/A);if(T.save(),x&&T.setLineDash(x),T.lineWidth=w,T.strokeStyle=m,T.beginPath(),T.moveTo(_,V),T.lineTo(_+S,V),T.stroke(),T.beginPath(),T.arc(M===be?_:_+S,V,g,0,2*Math.PI),T.fillStyle=v,T.fill(),T.beginPath(),M===be){T.moveTo(_+S+3,V),T.lineTo(_+S-4,V-3),T.quadraticCurveTo(_+S-1,V,_+S-4,V+3),T.closePath(),T.fillStyle=k,T.fill();var D=sr(y,d);Jr(T,d,y,C,_+S+6,V-D.height/2,D.width,D.height,ge,fe)}else{T.moveTo(_-3,V),T.lineTo(_+4,V-3),T.quadraticCurveTo(_+1,V,_+4,V+3),T.closePath(),T.fillStyle=k,T.fill();var I=sr(y,d);Jr(T,d,y,C,_-I.width-6,V-I.height/2,I.width,I.height,ge,fe)}T.restore()})}}}]),Ca);function Ca(e,t,i){l(this,Ca);var o=d(this,(Ca.__proto__||Object.getPrototypeOf(Ca)).call(this,e,t,i));return o.axisIndex=t.yAxis.indexOf(e),o.isValueAxis=i.valueAxis===te,o.position=e.position||(o.axisIndex?xe:be),t.series.forEach(function(e,t){(e.yAxisIndex||0)===o.axisIndex&&(o.series.push(e),o.seriesIndexs.push(t))}),o.labelHeight=o.getLabelHeight(),o.boundWidth=o.getBoundWidth(),e.type===E&&o.initTimeAxis(),o}var ka=ht.Default,Va=ka.clone,Da=ka.unionPoint;var Ia={show:!0,type:"time",axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!1,color:"#cccccc",width:1}},Ta=(t(_a,ya),e(_a,[{key:"draw",value:function(e){var t=this.ui,i=t.data,o=t.view,a=this.axisOption,r=this.axisIndex,n=t.bounds.xAxisRects[r],l=n,h=l.x,s=l.y,u=l.width,d=l.height,c=this.getTimeAxisTimes(),g=this.formatter||a.axisLabel.formatter,f=this.zoomTimeRange,v=this.getDataZoomOption(),p=void 0,x=void 0;if(a.show&&(v&&f&&(x={x:n.x,y:n.y+n.height-18,width:n.width,height:18},this.drawSlider(e,x),n={x:n.x,y:n.y,width:n.width,height:n.height-18}),a.axisLine.show&&(e.strokeStyle=a.axisLine.color,e.lineWidth=a.axisLine.width,e.beginPath(),this.position===ue?(e.moveTo(h,s+d),e.lineTo(h+u,s+d)):(e.moveTo(h,s),e.lineTo(h+u,s)),e.stroke()),c&&c.length)){var b=sr(a.axisLabel.font,Go(Date.now(),g,i,o));if(f&&f[0]&&f[1]){p=f[1]-f[0];var y=0,m=0,w=a.axisLabel.interval;if(p?(y=u/(w=w||Math.max(Math.floor(u/(b.width+10)),1)),m=p/w):y=u/2,y&&(this.unitWidth=y,a.axisLabel.show||a.axisTick.show)){var C=a.axisLabel.font,k=a.axisLabel.color,V=a.axisLabel.align,D=a.axisTick.length,I=this.position===ue?s:s+2+(a.axisTick.show?a.axisTick.length:0);if(a.axisTick.show&&D){e.strokeStyle=a.axisTick.color,e.beginPath();var T=h;if(p)for(;T<=h+u+2;)e.moveTo(T,s),e.lineTo(T,s+D),T+=y;else e.moveTo(T+u/2,s),e.lineTo(T+u/2,s+D);e.stroke()}if(a.axisLabel.show){var _=h,L=f[0];if(p)for(;_<=h+u+2;)ht.Default.drawText(e,Go(L,g,i,o),C,k,_-b.width/2,I,b.width,b.height,V),_+=y,L+=m;else ht.Default.drawText(e,Go(L,g,i,o),C,k,_+u/2-b.width/2,I,b.width,b.height,V)}if(e.save(),a.splitLine.show){var S=Zr(a.splitLine.interval)?a.splitLine.interval:1;0===S&&(S=1);var R=t.bounds.bodyRect,P=R.x,A=R.y,M=R.width,B=R.height;e.strokeStyle=a.splitLine.color,e.lineWidth=a.splitLine.width||1,a.splitLine.pattern&&e.setLineDash(a.splitLine.pattern),e.beginPath();var E=P;if(f[0],p)for(;E<=P+M+2;)0%S==0&&(e.moveTo(E,A),e.lineTo(E,A+B)),E+=y;else{var O=E+M/2;e.moveTo(O,A),e.lineTo(O,A+B)}e.stroke()}e.restore()}}}}},{key:"drawSlider",value:function(e,t){var o=this,i=(t.x,t.y),a=t.width,r=t.height,n=Ie(this.timeRange,2),l=n[0],h=n[1],s=this.ui,u=s.data,d=s.view,c=this.getDataZoomOption(),g=c.barBackground,f=void 0===g?"#eee":g,v=c.barValueBackground,p=void 0===v?"rgb(51,153,255)":v,x=c.barWidth,b=void 0===x?Math.min(12,a):x,y=c.barBorderRadius,m=void 0===y?0:y,w=c.min,C=void 0===w?l:w,k=c.max,V=void 0===k?h:k,D=c.sliderOffsetX,I=void 0===D?0:D,T=c.sliderOffsetY,_=void 0===T?0:T,L=c.sliderWidth,S=void 0===L?5:L,R=c.sliderHeight,P=void 0===R?14:R,A=c.sliderBackground,M=void 0===A?"#32D3EB":A,B=c.sliderBorderColor,E=void 0===B?"#32D3EB":B,O=c.sliderBorderWidth,H=void 0===O?1:O,W=c.sliderBorderRadius,j=void 0===W?0:W,N=c.sliderImage,F=c.sliderVisible,z=c.zoomIncrement,Y=void 0===z?.05:z,G=c.onChange,X=h-l;C=Math.max(l,C),V=Math.min(h,V),h<C&&(C=h),V<l&&(V=l);var U=Gr(t);U.y=i+(r-b)/2,U.height=b;var Z=Gr(U);Z.width*=(V-C)/X,Z.x+=(C-l)/X*a;var K=Z.x-S/2+I,J=Z.x+Z.width-S/2+I,q=Z.y+(b-P)/2+_;!1!==F&&(zr(e,U,f,m),zr(e,Z,p,m),N?(tn(e,ht.Default.getImage(N),K,q),tn(e,ht.Default.getImage(N),J,q)):(j<1&&(j*=Math.min(S,P)),e.beginPath(),qr(e,K,q,S,P,j),e.closePath(),e.fillStyle=M,e.fill(),H&&(e.lineWidth=H,e.strokeStyle=E,e.stroke()),e.beginPath(),qr(e,J,q,S,P,j),e.closePath(),e.fillStyle=M,e.fill(),H&&(e.lineWidth=H,e.strokeStyle=E,e.stroke()))),this.ui.xAxisDataZoom={slider:{dataZoom:c,rect:t,barRect:U,valueBarRect:Z,zoomIncrement:Y,min:l,max:h,step:1,value:[C,V],setter:function(e){var t=o.ui.originalOption.xAxis[0].dataZoom,i=[t.min,t.max];e[0]===l?delete t.min:t.min=e[0],e[1]===h?delete t.max:t.max=e[1],G&&G(i,e,u,d)},sliderRect:{x:K,y:q,width:S,height:P},sliderRect2:{x:J,y:q,width:S,height:P}}}}}]),_a);function _a(e,t,i){return l(this,_a),d(this,(_a.__proto__||Object.getPrototypeOf(_a)).call(this,e,t,i))}var La=function(a,e,t,i,r){var o=r.seriesDatas[t],n=i.xAxis[e.xAxisIndex||0]._axisObj.zoomTimeRange,l=Er(i.color,t),h=e.itemStyle||{},s=e.lineStyle||{},u=e.areaStyle||{},d=s.color||l;if(r.seriesColors.push(d),o&&o.length){var c=function(e,t,i,o){var a=e.slice(0);if(o){for(var r=o[0],n=o[1],l=void 0,h=void 0,s=0;s<a.length;s++)if(a[s][0]>=r){l=s;break}for(var u=a.length-1;0<=u;u--)if(a[u][0]<=n){h=u+1;break}a=a.slice(l,h)}if(!t)return a;var d=[],c=a.length;if(i){if(c<=i)return a;Array.prototype.push.apply(d,a.splice(c-i,i))}var g=[];if(!(t<(c=a.length)))return i&&a.push.apply(a,d),a;var f=2*(c/t|0);if(f<3)return i&&a.push.apply(a,d),a;for(var v=0;v<c;v+=f){for(var p=a.slice(v,Math.min(v+f,c)),x=p.length,b=p[0],y=p[0],m=1;m<x;m++){var w=p[m];w[1]<y[1]&&(y=w),w[1]>b[1]&&(b=w)}b[0]>y[0]?(g.push(y),g.push(b)):(g.push(b),g.push(y))}return d=g.concat(d)}(o,r.maxVisiblePoint,r.endProtectPoint,n),g=[],f=(e.name,r.data),v=r.view,p=r.bounds.bodyRect,x=p.x,b=p.y,y=p.width,m=p.height,w=i.yAxis[e.yAxisIndex||0]._axisObj.zoomValueRange,C=w[0],k=w[1],V=n[0],D=n[1]-V,I=e.smooth,T=!!e.connectNulls,_=[],L=[],S=void 0,R=null;if(c.forEach(function(e){var t=e[0],i=e[1];if(Zr(i)){var o={x:x+y*((t-V)/D),y:Uo([b,b+m],w,i,!0)};_.push(o);var a=R?2:1;T&&1===a&&L.length&&(a=2),L.push(a),R=a,g.push(e)}else R=null}),S=_.slice(0),I&&2<=_.length){var P="number"==typeof I?I:void 0,A=[],M=void 0;L.forEach(function(e,t){1===e&&(M=[],A.push(M)),M.push(_[t])}),_=[],L=[],A.forEach(function(e){var t=nn(e,P);_=_.concat(t.points),L=L.concat(t.segments)})}if(a.save(),a.beginPath(),a.rect(x,b,y,m),a.clip(),u.color&&1<_.length){var B=_[0],E=_[_.length-1],O=Xo(p,C,k);Kr(a,_,L),a.lineTo(E.x,O),a.lineTo(B.x,O),a.closePath(),a.fillStyle=dn(a,u.color,p),a.fill()}a.lineWidth=s.width||2,a.strokeStyle=dn(a,d),s.pattern&&a.setLineDash(s.pattern),Kr(a,_,L),a.stroke(),a.restore();var H=h.size||0,W=h.activeSize||3;H||1!==_.length||(H=1);var j=h.background,N=void 0===j?d:j,F=h.borderWidth,z=void 0===F?1:F,Y=h.borderColor,G=void 0===Y?d:Y,X=h.visible;if(!1!==X&&S.forEach(function(e,t){a.beginPath();var i=H,o=g[t][0]===r.hoverTime;("function"!=typeof X||!o&&X(e,t,g,!1,f,v))&&(i&&Qr(p,e)&&a.arc(e.x,e.y,i,0,2*Math.PI),a.closePath(),N&&(a.fillStyle=N,a.fill()),z&&G&&(a.lineWidth=z,a.strokeStyle=G,a.stroke()))}),r.hoverTime&&W){var U=h.activeBackground,Z=void 0===U?N:U,K=h.activeBorderColor,J=void 0===K?G:K,q=h.activeBorderWidth,Q=void 0===q?z:q;r._hoverHandlers||(r._hoverHandlers=[]);var $=void 0,ee=void 0;for(ee=0;ee<g.length;ee++)if(g[ee][0]===r.hoverTime){$=S[ee];break}if(!$||"function"==typeof X&&!X($,ee,g,!0,f,v))return;r._hoverHandlers.push(function(){a.beginPath(),a.arc($.x,$.y,W,0,2*Math.PI),Z&&(a.fillStyle=Z,a.fill()),Q&&J&&(a.lineWidth=Q,a.strokeStyle=J,a.stroke())})}}};var Sa=function(o,e,a,t,i){var r=i.seriesDatas[a],n=e.name,l=e.itemStyle||{},h=e.lineStyle||{},s=i.bounds.bodyRect,u=s.x,d=s.y,c=s.width,g=s.height,f=Er(t.color,a),v=t.xAxis[e.xAxisIndex||0],p=t.yAxis[e.yAxisIndex||0]._axisObj.zoomValueRange,x=p[0],b=p[1]-x,y=v._axisObj.zoomValueRange,m=y[0],w=y[1]-m,C=e.smooth,k=void 0,V=i.hitSeriesIndex,D=i.hitPointIndex,I=t.clipMode;if(!Xr(r)&&Ur(r)){var T=r.x||[],_=r.y||[],L=T.length>_;r=[],(L?T:_).forEach(function(e,t){L?r.push([e,_[t]]):r.push([T[t],e])})}if(r&&r.length){var S=[],R=[],P=[],A=void 0;if(r.forEach(function(e,t){var i=Ie(e,2),o=i[0],a=i[1],r={x:u+c*((o-m)/w),y:d+g*(1-(a-x)/b)};if(I)S.push(r),P.push(t?2:1),R.push(e);else if(Qr(s,r)){S.push(r),R.push(e);var n=A?2:1;P.push(n),A=n}else A=null}),i.pointsInfo[a]={values:R,name:n,points:S},k=S.slice(0),C&&2<=S.length){var M="number"==typeof C?C:void 0,B=[],E=void 0;P.forEach(function(e,t){1===e&&(E=[],B.push(E)),E.push(S[t])}),S=[],P=[],B.forEach(function(e){var t=nn(e,M);S=S.concat(t.points),P=P.concat(t.segments)})}o.save(),o.beginPath(),o.rect(u,d,c,g),o.clip();var O=h.color||f;o.lineWidth=h.width||2,o.strokeStyle=dn(o,O),i.seriesColors.push(O),h.pattern&&o.setLineDash(h.pattern),Kr(o,S,P),o.stroke(),o.restore();var H=l.size||2,W=l.activeSize||4;H||1!==S.length||(H=1);var j=l.background,N=void 0===j?O:j,F=l.borderWidth,z=void 0===F?1:F,Y=l.borderColor,G=void 0===Y?O:Y;H&&(o.beginPath(),k.forEach(function(e,t){if(Qr(s,e)){var i=V===a&&D===t?W:H;i&&(o.moveTo(e.x,e.y),o.arc(e.x,e.y,i,0,2*Math.PI))}}),z&&G&&(o.lineWidth=z,o.strokeStyle=G,o.stroke()),N&&(o.fillStyle=N,o.fill()))}};var Ra=(t(Pa,xa),e(Pa,[{key:"getAxisValues",value:function(){var h=this,e=this.series,s=this.seriesIndexs,u=[];e.forEach(function(e,t){var i=h.ui.seriesDatas[s[t]];if(i)if(Xr(i))u=u.concat(i);else if(Ur(i)){for(var o=i.x,a=i.y,r=Math.min(o.length,a.length),n=[],l=0;l<r;l++)n.push([o[l],0]);u=u.concat(n)}});var t=[];return u.forEach(function(e){t.push(e[0])}),t}},{key:"getBoundHeight",value:function(){var e=this.axisOption;if(!e.show)return 2;var t=e.axisLabel.rotate,i=e.axisTick.show?e.axisTick.length:0,o=this.getDataZoomOption(),a=0;o&&!1!==o.sliderVisible&&(a+=18);var r=Y,n=this.getAxisValues();return n&&n.forEach(function(e){e.toString().length>r.length&&(r=e)}),t?(t=Math.max(-45,t),t=Math.min(45,t),a+on(e.axisLabel.font,r,t).height+4+i):a+sr(e.axisLabel.font,Y).height+4+i}},{key:"draw",value:function(a){var e=this.ui,r=e.data,n=e.view,t=this.axisOption,i=this.axisIndex,o=e.bounds.xAxisRects[i],l=this.getDataZoomOption(),h=this.zoomValueRange,s=void 0;l&&(s={x:o.x,y:o.y+o.height-18,width:o.width,height:18},this.drawSlider(a,s),o={x:o.x,y:o.y,width:o.width,height:o.height-18});var u=o,d=u.x,c=u.y,g=u.width,f=u.height;if(!1!==t.show&&(t.axisLine.show&&(a.strokeStyle=t.axisLine.color,a.lineWidth=t.axisLine.width,a.beginPath(),i?(a.moveTo(d,c+f),a.lineTo(d+g,c+f)):(a.moveTo(d,c),a.lineTo(d+g,c)),a.stroke()),t.axisLabel.show)){var v=Ie(h,3),p=v[0],x=v[1],b=(v[2],x-p),y=this.getValuesByValueRange(),m=void 0;t.axisTick.show&&(m=t.axisTick.length)&&(a.strokeStyle=t.axisTick.color,a.beginPath(),y.forEach(function(e){var t=d+g*((e-p)/b);i?(a.moveTo(t,c+f),a.lineTo(t,c+f-m)):(a.moveTo(t,c),a.lineTo(t,c+m))}),a.stroke()),t.axisTick.show;var w=t.axisLabel.font,C=t.axisLabel.color,k=t.axisLabel.formatter,V=c+(i?0:m);if(y.forEach(function(e,t){var i=sr(w,e.toString()),o=d+g*((e-p)/b)-i.width/2;"function"==typeof k&&(e=k(e,r,n)),ht.Default.drawText(a,e.toString(),w,C,o,V,i.width,i.height,"center")}),a.save(),t.splitLine.show){var D=e.bounds.bodyRect,I=D.x,T=D.y,_=D.width,L=D.height;a.strokeStyle=t.splitLine.color,a.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&a.setLineDash(t.splitLine.pattern),a.beginPath(),y.forEach(function(e,t){if(0!==t){var i=I+_*((e-p)/b);a.moveTo(i,T),a.lineTo(i,T+L)}}),a.stroke()}a.restore()}}},{key:"drawSlider",value:function(e,t){var o=this,i=(t.x,t.y),a=t.width,r=t.height,n=Ie(this.valueRange,2),l=n[0],h=n[1],s=this.ui,u=s.data,d=s.view,c=this.getDataZoomOption(),g=c.barBackground,f=void 0===g?"#eee":g,v=c.barValueBackground,p=void 0===v?"rgb(51,153,255)":v,x=c.barWidth,b=void 0===x?Math.min(12,a):x,y=c.barBorderRadius,m=void 0===y?0:y,w=c.min,C=void 0===w?l:w,k=c.max,V=void 0===k?h:k,D=c.sliderOffsetX,I=void 0===D?0:D,T=c.sliderOffsetY,_=void 0===T?0:T,L=c.sliderWidth,S=void 0===L?5:L,R=c.sliderHeight,P=void 0===R?14:R,A=c.sliderBackground,M=void 0===A?"#32D3EB":A,B=c.sliderBorderColor,E=void 0===B?"#32D3EB":B,O=c.sliderBorderWidth,H=void 0===O?1:O,W=c.sliderBorderRadius,j=void 0===W?0:W,N=c.sliderImage,F=c.sliderVisible,z=c.zoomIncrement,Y=void 0===z?.05:z,G=c.onChange,X=h-l;C=Math.max(l,C),V=Math.min(h,V),h<C&&(C=h),V<l&&(V=l);var U=Gr(t);U.y=i+(r-b)/2,U.height=b;var Z=Gr(U);Z.width*=(V-C)/X,Z.x+=(C-l)/X*a;var K=Z.x-S/2+I,J=Z.x+Z.width-S/2+I,q=Z.y+(b-P)/2+_;!1!==F&&(zr(e,U,f,m),zr(e,Z,p,m),N?(tn(e,ht.Default.getImage(N),K,q),tn(e,ht.Default.getImage(N),J,q)):(j<1&&(j*=Math.min(S,P)),e.beginPath(),qr(e,K,q,S,P,j),e.closePath(),e.fillStyle=M,e.fill(),H&&(e.lineWidth=H,e.strokeStyle=E,e.stroke()),e.beginPath(),qr(e,J,q,S,P,j),e.closePath(),e.fillStyle=M,e.fill(),H&&(e.lineWidth=H,e.strokeStyle=E,e.stroke()))),this.ui.xAxisDataZoom={slider:{dataZoom:c,rect:t,barRect:U,valueBarRect:Z,zoomIncrement:Y,min:l,max:h,value:[C,V],setter:function(e){var t=o.ui.originalOption.xAxis[0].dataZoom,i=[t.min,t.max];e[0]===l?delete t.min:t.min=e[0],e[1]===h?delete t.max:t.max=e[1],G&&G(i,e,u,d)},sliderRect:{x:K,y:q,width:S,height:P},sliderRect2:{x:J,y:q,width:S,height:P}}}}}]),Pa);function Pa(e,t,i){l(this,Pa);var o=d(this,(Pa.__proto__||Object.getPrototypeOf(Pa)).call(this,e,t,i));return o.axisIndex=t.xAxis.indexOf(e),t.series.forEach(function(e,t){(e.xAxisIndex||0)===o.axisIndex&&(o.series.push(e),o.seriesIndexs.push(t))}),o.labelHeight=o.getMaxValueBound().height,o.boundHeight=o.getBoundHeight(),o}var Aa=ht.Default,Ma=Aa.clone;Aa.unionPoint;function Ba(e,t){for(var i=ht.Math.Vector2,o=Math.cos,a=Math.sin,r=e.arcStartAngle,n=e.arcEndAngle,l=e.roseRadius,h=e.innerRadius,s=h+l,u=n-r,d={x:s*o(r),y:s*a(r)},c={x:s*o(n),y:s*a(n)},g={x:h*o(r),y:h*a(r)},f={x:h*o(n),y:h*a(n)},v=t,p=v+Math.PI/2,x=p+Math.PI/2,b=x+Math.PI/2,y=[{x:s*o(v),y:s*a(v)},{x:s*o(p),y:s*a(p)},{x:s*o(x),y:s*a(x)},{x:s*o(b),y:s*a(b)}],m=[d,c,g,f],w=0;w<4;w++){var C=y[w],k=new i(d),V=new i(C),D=k.clone().normalize().dot(V.normalize()),I=Math.acos(D);0<k.x*V.y-V.x*k.y?I<u&&m.push(C):2*Math.PI-I<u&&m.push(C)}for(var T=-1/0,_=1/0,L=0,S=m.length;L<S;L++){var R=m[L].y;T=Math.max(T,R),_=Math.min(_,R)}return{minY:_,maxY:T}}function Ea(e,t){var i=t.isEmphasis,o=t.type,a=t.outFormatter,r=e.name,n=e.value,l=e.percent,h=e.seriesName,s=e.labelEmphasis,u=e.labelNormal,d=e.labelLineNormal,c=e.labelLineEmphasis,g=void 0,f=void 0;"label"===o?f=i?(g=s.font,s.formatter):(g=u.font,u.formatter):"labelLine"===o&&(f=i?(g=c.font,c.formatter):(g=d.font,d.formatter)),a&&(f=a);var v=r.toString();f&&(v=(f=f.replace(/\\n/g,"<br>")).replace(/\{(\w)\}/g,function(e,t){return"a"===t?h:"b"===t?r:"c"===t?n:"d"===t?(100*l).toFixed(1)+"%":e}));var p=v.split("<br>"),x=void 0,b=void 0;return g&&(b=(x=sr(g,"e").height+1)*p.length/2),{labelTextArray:p,textHeight:x,beginHeight:b}}var Oa=ht.Default.isBoolean,Ha=(e(Wa,[{key:"initGLabel",value:function(e){var t=e.getValue("label.normal.show"),i=e.getValue("label.normal.position"),o=e.getValue("label.normal.formatter"),a=e.getValue("label.normal.color"),r=e.getValue("label.normal.font");this.gLabelNormal={show:!Oa(t)||t,position:i||"center",formatter:o||"",color:a,font:r||"12px serif"};var n=e.getValue("label.emphasis.show"),l=e.getValue("label.emphasis.position"),h=e.getValue("label.emphasis.formatter"),s=e.getValue("label.emphasis.color"),u=e.getValue("label.emphasis.font");this.gLabelEmphasis={show:!Oa(n)||n,position:l||"center",formatter:h||"",color:s,font:u||"13px serif"}}},{key:"initGLabelLine",value:function(e){var t=e.getValue("labelLine.normal.show"),i=e.getValue("labelLine.normal.length"),o=e.getValue("labelLine.normal.length2"),a=e.getValue("labelLine.normal.formatter"),r=e.getValue("labelLine.normal.width"),n=e.getValue("labelLine.normal.type"),l=e.getValue("labelLine.normal.font"),h=e.getValue("labelLine.normal.lineColor"),s=e.getValue("labelLine.normal.textColor");this.gLabelLineNormal={show:!Oa(t)||t,length:void 0===i?15:i,length2:void 0===o?10:o,formatter:a||"",width:void 0===r?1:r,type:n||"dashed",font:l||"12px serif",lineColor:h,textColor:s};var u=e.getValue("labelLine.emphasis.show"),d=e.getValue("labelLine.emphasis.length"),c=e.getValue("labelLine.emphasis.length2"),g=e.getValue("labelLine.emphasis.formatter"),f=e.getValue("labelLine.emphasis.width"),v=e.getValue("labelLine.emphasis.type"),p=e.getValue("labelLine.emphasis.font"),x=e.getValue("labelLine.emphasis.lineColor"),b=e.getValue("labelLine.emphasis.textColor");this.gLabelLineEmphasis={show:!Oa(u)||u,length:void 0===d?15:d,length2:void 0===c?10:c,formatter:g||"",width:void 0===f?2:f,type:v||"dashed",font:p||"13px serif",lineColor:x,textColor:b}}}]),Wa);function Wa(e){l(this,Wa),this.initGLabel(e),this.initGLabelLine(e)}var ja=ht.Default.isEmptyObject,Na=(e(Fa,[{key:"initDefaultValue",value:function(e){var t=this.data,i=this.index,o=this.color,a=t.name,r=void 0===a?"系列名":a,n=t.value,l=void 0===n?0:n,h=t.itemStyle,s=void 0===h?{}:h,u=t.labelLine,d=void 0===u?{}:u,c=t.label,g=void 0===c?{}:c,f=e.gLabelNormal,v=e.gLabelEmphasis,p=e.gLabelLineNormal,x=e.gLabelLineEmphasis,b=o[i%o.length];if(this.name=r,this.value=l,this.itemStyle=Object.assign({color:b,borderColor:"#000"},s),this.labelNormal=Object.assign({},f,g.normal||{}),this.labelEmphasis=Object.assign({},v,g.emphasis||{}),this.labelLineNormal=Object.assign({},p,d.normal||{}),this.labelLineEmphasis=Object.assign({},x,d.emphasis||{}),ja(this.labelNormal.color)){var y=this.labelNormal.position;this.labelNormal.color="center"===y?b:"black"}if(ja(this.labelEmphasis.color)){var m=this.labelEmphasis.position;this.labelEmphasis.color="center"===m?b:"black"}ja(this.labelLineNormal.lineColor)&&(this.labelLineNormal.lineColor=b),ja(this.labelLineNormal.textColor)&&(this.labelLineNormal.textColor=b),ja(this.labelLineEmphasis.lineColor)&&(this.labelLineEmphasis.lineColor=b),ja(this.labelLineEmphasis.textColor)&&(this.labelLineEmphasis.textColor=b),this.pieColor=b}},{key:"getLabelPoints",value:function(){var e=this.centerX,t=this.centerY,i=this.roseType,o=this.roseRadius,a=this.innerRadius,r=this.outerRadius,n=this.lineAngle,l=e+(i?o+a:r)*Math.cos(n),h=t+(i?o+a:r)*Math.sin(n);return{textX:(l+(e+a*Math.cos(n)))/2,textY:(h+(t+a*Math.sin(n)))/2}}},{key:"getLabelInfo",value:function(e){return Ea(this,{isEmphasis:e,type:"label"})}},{key:"getLabelLinePoints",value:function(e){var t=this.labelLineNormal,i=this.labelLineEmphasis,o=this.centerX,a=this.centerY,r=this.roseType,n=this.roseRadius,l=this.innerRadius,h=this.outerRadius,s=this.lineAngle,u=this.hoverOffset,d=t.length,c=i.length,g=e?l+n+u:l+n,f=e?h+u:h,v=o+(r?g:f)*Math.cos(s),p=a+(r?g:f)*Math.sin(s),x=void 0,b=void 0;if(e){var y=h+u+c;x=o+y*Math.cos(s),b=a+y*Math.sin(s)}else{var m=h+d;x=o+m*Math.cos(s),b=a+m*Math.sin(s)}return{x0:v,y0:p,x1:x,y1:b}}},{key:"getLabelLineLabelInfo",value:function(e){return Ea(this,{isEmphasis:e,type:"labelLine"})}}]),Fa);function Fa(e,t){l(this,Fa),Object.assign(this,e),this.initDefaultValue(t)}var za=ht.Default.isBoolean,Ya=Math.PI,Ga=Ya/180;function Xa(e,t,i,o,a){var r=Sr(i,t,a);if(r){var n=r.arcPoints,l=r.arcAngles,h=r.center,s=r.radius,u=r.foucusArcNum,d=r.hoverOffset,c=r.tooltip,g=void 0===c?{}:c,f=r.pieItems,v=Yr(i,t,a,o);if(n){var p=ht.Math.Vector2,x=2*Math.PI,b=new p(h),y=s.outerRadius,m=s.innerRadius,w=ht.Default.getDistance(v,h);if(m<w&&w<(void 0!==u?y+d:y))for(var C=0,k=l.length;C<k;C++){var V=f[C],D=V.roseType,I=V.roseRadius;if(D&&(C===u?m+I+d:m+I)<w)C===u&&(delete r.foucusArcNum,t.iv());else{var T=new p(n[C]).sub(b),_=new p(v).sub(b),L=T.clone().normalize().dot(_.normalize()),S=Math.acos(L);if(0<T.x*_.y-_.x*T.y){if(S<l[C]){u!=C&&(r.foucusArcNum=C,t.iv());break}u===C&&(delete r.foucusArcNum,t.iv())}else{if(x-S<l[C]){u!=C&&(r.foucusArcNum=C,t.iv());break}u===C&&(delete r.foucusArcNum,t.iv())}}}else void 0!==u&&(delete r.foucusArcNum,t.iv())}if(g.show){var R=r.foucusArcNum;if(void 0!==R){var P=f[R],A=P.value,M=P.percent,B=P.name,E=P.seriesName,O=g.formatter,H=[];if(O)Ea(P,{outFormatter:O}).labelTextArray.forEach(function(e,t){H.push([null,e])});else H=[["名称",B],["百分比",(100*M).toFixed(1)+"%"],["数值",A]];Ua.setInfo({label:E,datas:H}),Rr.show(Ua.getView(),e)}else Rr.hide()}}}var Ua=new wo,Za=(t(Ka,ei),e(Ka,[{key:"onMove",value:function(e,t,i,o,a,r){Xa(e,t,i,o,this)}},{key:"onUp",value:function(e,t,i,o,a,r){Xa(e,t,i,o,this)}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);void 0!==n.foucusArcNum&&(delete n.foucusArcNum,t.iv(),Rr.hide())}}]),Ka);function Ka(){return l(this,Ka),d(this,(Ka.__proto__||Object.getPrototypeOf(Ka)).call(this))}var Ja=(t(qa,ei),e(qa,[{key:"onMove",value:function(g,f,v,e,t,i){var p=Sr(v,f,this),x=p.ui,b=p.option;if(x&&b&&!p.dragging){var o=x.bounds,y=Yr(v,f,this,e,g),a=o.bodyRect,r=x.xAxisDataZoom,n=x.yAxisDataZoom,m=r?r.slider:null,w=n?n.slider:null;if(Qr(a,y)&&b.tooltip.show){var l=function(){function e(o){var e=i[o],t=e.points,a=e.values,r=e.name;t.forEach(function(e,t){var i=un(e,y);i<n&&i<1/0&&(l=parseInt(o),u=r,s=a[h=t])})}var n=6/(v.getZoom?v.getZoom():1),i=x.pointsInfo,t=b.tooltip.formatter,l=void 0,h=void 0,s=void 0,u=void 0;for(var o in i)e(o);if(Zr(s)){var a=s.join(",");t?a=t({name:u,value:s},f,v).toString():u&&(a=u+"<br/>"+a),Rr.show(a,g)}else Rr.hide();var r=p.hitSeriesIndex,d=p.hitPointIndex;if(p.hitSeriesIndex=l,d===(p.hitPointIndex=h)&&r===l||f.iv(),m||w){var c=p.sliderInfo={info:[],body:!0};m&&c.info.push({axis:P,info:m}),w&&c.info.push({axis:te,info:w})}return{v:void 0}}();if("object"===(void 0===l?"undefined":De(l)))return l.v}if(m&&(Qr(jr(m.sliderRect,3),y)||Qr(jr(m.sliderRect2,3),y)||Qr(m.valueBarRect,y)))return Br(v,"ew-resize"),void(p.sliderInfo={axis:P,info:m});if(w&&(Qr(jr(w.sliderRect,3),y)||Qr(jr(w.sliderRect2,3),y)||Qr(w.valueBarRect,y)))return Br(v,"ns-resize"),void(p.sliderInfo={axis:te,info:w});delete p.sliderInfo,Br(v,"default")}}},{key:"onDown",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.ui,h=n.option;if(l&&h&&!n.dragging){var s=l.xAxisDataZoom,u=l.yAxisDataZoom,d=Yr(i,t,this,o,e),c=s?s.slider:null,g=u?u.slider:null;c&&Qr(c.barRect,d)&&!n.sliderInfo&&(No(c.setter,c,d,c.barRect),t.iv()),g&&Qr(g.barRect,d)&&!n.sliderInfo&&(Fo(g.setter,g,d,g.barRect),t.iv())}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);Zr(n.hitPointIndex)&&(delete n.hitSeriesIndex,delete n.hitPointIndex,Rr.hide(),t.iv()),n.dragging||Br(i,"default")}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.sliderInfo;if(n.ui,l){var h=l.info,s=h.sliderRect,u=h.sliderRect2,d=h.valueBarRect,c=h.value,g=h.barRect,f=Yr(i,t,this,o,e);n.dragging=!0,l.body?l.info.forEach(function(e){e.draggingValue=zo(e.info.value[0],e.info.value[1],e.info.barRect,f,e.axis===te)}):Qr(jr(s,3),f)?l.fixed=c[1]:Qr(jr(u,3),f)?l.fixed=c[0]:Qr(d,f)&&(P===l.axis?l.draggingValue=No(null,l.info,f,g,null,!0):l.draggingValue=Fo(null,l.info,f,g,null,!0))}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.sliderInfo,h=n.option;if(n.dragging&&l){var s=l.info,u=s.barRect,d=s.setter,c=(s.sliderRect,s.sliderRect2,s.valueBarRect,s.value,s.dataZoom,Yr(i,t,this,o,e)),g=l.axis===P?No:Fo,f=void 0;if(f=P===l.axis?h.xAxis[0].axisLabel?h.xAxis[0].axisLabel.formatter:null:h.yAxis[0].axisLabel?h.yAxis[0].axisLabel.formatter:null,Zr(l.fixed)){var v=g(d,l.info,c,u,l.fixed);Rr.show(f?f(v,t,i):v,e)}else if(Zr(l.draggingValue)){var p=l.draggingValue,x=g(null,l.info,c,u,null,!0)-p,b=l.info.value,y=l.info.min,m=l.info.max,w=[b[0]+x,b[1]+x];w[0]<y?w=[y,y+(b[1]-b[0])]:w[1]>m&&(w=[m-(b[1]-b[0]),m]),l.info.setter(w);var C=w.join(",");f&&(C=w.map(function(e){return f(e,t,i)}).join(", ")),Rr.show(C,e)}else l.body&&l.info.forEach(function(e){var t=e.info,i=t.barRect,o=t.setter,a=t.min,r=t.max,n=e.info.value,l=e.draggingValue,h=zo(n[0],n[1],i,c,e.axis===te)-l;e.axis===te&&(h=-h);var s=e.info.value,u=[s[0]+h,s[1]+h];u[0]<a?u=[a,a+(s[1]-s[0])]:u[1]>r&&(u=[r-(s[1]-s[0]),r]),o(u)});t.iv()}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);delete n.sliderInfo,delete n.dragging,Rr.hide()}},{key:"onScroll",value:function(e,t,i,o,a,r){if(Yo(e,t,i,this,o)){var n=Sr(i,t,this);delete n.hitSeriesIndex,delete n.hitPointIndex,t.iv()}}}]),qa);function qa(){return l(this,qa),d(this,(qa.__proto__||Object.getPrototypeOf(qa)).call(this))}function Qa(e,t,i){for(var o=[],a=0,r=1,n=e.length;r<=n;r++){var l=e.substring(a,r);sr(i,l).width>t&&(a=r-1===a?(o.push(e.substring(a,r)),r):(o.push(e.substring(a,r-1)),r-1))}return a!==r-1&&o.push(e.substring(a,r)),o}function $a(e,t,i,o){for(var a=[],r=e.split("\n"),n=0,l=r.length;n<l;n++){var h=r[n];if(""===h&&(h=" "),o)Array.prototype.push.apply(a,Qa(h,i,t));else{for(var s,u,d="",c=void 0,g=void 0,f=void 0,v="",p=0;p<h.length;p++){h.charAt(p).match(/[a-z|A-Z]/g)?d+="1":d+="2"}d=(d=d.replace(/21/g,"2"+vr+"1")).replace(/12/g,"1"+vr+"2");for(var x=0;x<d.length;x++){d.charAt(x).match(xr)&&(h=br(h,x+1,pr))}s=h.split(pr),u=d.split(vr);for(var b=0,y=s.length;b<y;b++)c=v+s[b],g=sr(t,c),"1"===u[b][0]?g.width>i?v?(a.push(v),v="",b--):(f=Qa(s[b],i,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),v=f[f.length-1]):v=g.width===i?(a.push(c),""):c:v=g.width>i?(f=Qa(c,i,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),f[f.length-1]):c;v&&a.push(v)}}return a}function er(e,t,i,o,a,r){return e?(t=t&&new c(t),e.pressed?o||(a&&t&&0!==t.a?ht.Default.darker(t,Te.activeDarker):r?null:Te.emptyColor):e.hover?i||(a&&t&&0!==t.a?ht.Default.darker(t,Te.hoverDarker):r?null:Te.emptyColor):r?null:t?t.getRGBA():Te.emptyColor):t}var tr,ir,or,ar=/firefox/.test(window.navigator.userAgent.toLowerCase()),rr=/MSIE/.test(window.navigator.userAgent.toLowerCase()),nr=ht.Default,lr=nr.removeHTML,hr=nr.appendToScreen,sr=(tr={},ir=document?ht.Default.createCanvas().getContext("2d"):null,function(e,t){ir.font=e||ht.Default.labelFont;var i=tr[ir.font];return i||(i=2*ir.measureText("e").width,tr[ir.font]=i),{width:ir.measureText(t).width+2,height:i}}),ur=function(e,t){if(!e)return dr([],t);var i=function(e){return e?("string"!=typeof e&&(e+=""),e.replace(/^\s+|\s+$/g,"")):""}(e).split(/\s+/g),o=[];return i.forEach(function(e){isNaN(e)||o.push(parseInt(e))}),dr(o)},dr=function(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e&&0!==e.length?3===e.length?[e[0],e[1],e[2],e[1]]:2===e.length?[e[0],e[1],e[0],e[1]]:1===e.length?[e[0],e[0],e[0],e[0]]:[e[0],e[1],e[2],e[3]]:[i,i,i,i]},cr=function(e){e&&"textarea"===e||(e="input");var t=document.createElement(e),i=t.style;return i.display="block",i.boxSizing="border-box",i.position="absolute",i.outline="none",i.zIndex=1e4,i.borderWidth=0,i.backgroundColor="rgba(0, 0, 0, 0)",t},gr=function(e,t,i){var o=t.style,a=i.rect,r=new ht.Math.Matrix2d,n=e.getZoom();ht.Default.layout(t,a),r.appendTranslate(e.tx(),e.ty()),r.appendScale(n,n),r.append(i.matrix),fr(o,"transform","matrix("+r.a.toFixed(5)+", "+r.b.toFixed(5)+", "+r.c.toFixed(5)+",\n    "+r.d.toFixed(5)+", "+r.tx.toFixed(5)+", "+r.ty.toFixed(5)+")"),fr(o,"transformOrigin",(-a.x).toFixed(5)+"px "+(-a.y).toFixed(5)+"px")},fr=((or=document.createElement("input")).setAttribute("style","width: 0;height: 0;"),function(e,t,i){var o=t[0].toUpperCase+t.substring(1,t.length);e["webkit"+o]=i,e["moz"+o]=i,e["ms"+o]=i,e["o"+o]=i,e[t]=i}),vr="__htvt__",pr="||htvt||",xr=new RegExp(vr,"g"),br=function(e,t,i){return e=e.substring(0,t-1)+i+e.substring(t-1,e.length)};function yr(e,t){var i=e.prototype,o=ht.Default.getMSMap();for(var a in t)o[a]&&o.hasOwnProperty(a)?o[a](i,t):i[a]=t[a]}function mr(e){var t=e.a(f.VALUE);return void 0===t?"":t}var wr,Cr=(wr=null,function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=e.multiple,h=e.readType,s=e.filter,t=e.accept;wr||((wr=document.createElement("input")).setAttribute("type","file"),wr.setAttribute("id","hiddenFile"),wr.style.width=0,wr.style.height=0,wr.addEventListener("change",function(e){lr(wr),wr=null;for(var t=e.target.files,i={files:[]},o=0;o<t.length;o++)s?s(t[o])&&i.files.push(t[o]):i.files.push(t[o]);if(h&&0!==i.files.length)if(l){var a=0;i.files.forEach(function(t){var e=new FileReader;e.onload=function(e){t.readResult=e.target.result,++a===i.files.length&&n(i)},kr(e,t,h)})}else{var r=new FileReader;r.onload=function(e){t[0].readResult=e.target.result,n(i)},kr(r,t[0],h)}else n(i)}),hr(wr)),wr.multiple=!!l,wr.accept=t||"",wr.click()});function kr(e,t,i){"binaryString"===i?e.readAsBinaryString(t):"ArrayBuffer"===i?e.readAsArrayBuffer(t):"dataUrl"===i?e.readAsDataURL(t):e.readAsText(t)}function Vr(e,t){var i=t.borderWidth,o=t.borderColor,a=t.dash,r=t.dashPattern,n=t.background,l=t.bgGradient,h=t.bgGradientColor,s=t.contentRect;if(a&&e.setLineDash(r),n){var u;if(l&&h)n=(u=ht.Default).createGradient.apply(u,[e,l,n,h].concat(Me(s)));e.fillStyle=n,e.fill()}i&&o&&(e.strokeStyle=o,e.lineWidth=i,e.stroke())}function Dr(e,t){return ht.Default.intersectsRect(e,t)}var Ir=function(e,t){for(var i=[],o=0,a=0,r=void 0,n=0,l=e.length;n<l;n++)if(r=e[n].width||.1,isNaN(r)){var h=r.split("+"),s=parseFloat(h[0]),u=[];1<s?a+=s:o+=s,u.push(s),1<(s=parseFloat(h[1]))?(a+=s,u.unshift(s)):(o+=s,u.push(s)),i.push(u)}else 1<=(r=parseFloat(r))?a+=r=Math.max(12,r):o+=r,i.push(r);for(n=0,l=i.length;n<l;n++)(r=i[n])<1?i[n]=Math.max(0,r/o*(t-a)):r instanceof Array&&(i[n]=r[0]+Math.max(0,r[1]/o*(t-a)));return i},Tr=function(e){var t=Ie(e,4);return{x:t[0],y:t[1],width:t[2],height:t[3]}},_r=function(e,t){return e&&t?e.getDataUI?e.getDataUI(t):e.getData3dUI?e.getData3dUI(t):void 0:null},Lr=function(e,t,i,o){var a=function(e,t,i,o){if(!e||!e.interactiveInfo)return null;if(i){var a=void 0;if("billboard"===t.s("shape3d"))a=t.s("shape3d.image");else if(o){var r=e.gv.intersectObject(o,t);a=t.s("shape3d."+("body"===r.part?"":r.part+".")+"image")}return a&&e.interactiveInfo[a]?e.interactiveInfo[a].bodyInfo.compInfos:null}return e.interactiveInfo.bodyInfo?e.interactiveInfo.bodyInfo.compInfos:null}(_r(e,t),t,e instanceof ht.graph3d.Graph3dView,o);if(a)for(var r=0,n=a.length;r<n;r++){var l=a[r];if(l.comp===i)return l}return null},Sr=function(e,t,i){var o=_r(e,t);if(!o)return{};var a=t.getCurrentPrefix();if(o.vectorInfos)for(var r=o.vectorInfos,n=0;n<r.length;n++){var l=r[n];if(l.comp===i&&l.prefix===a)return l}else o.vectorInfos=[];var h={comp:i,prefix:a};return o.vectorInfos.push(h),h},Rr=new ua,Pr=function(e,t,i,o,a){o&&(o.editing=!1,delete o.dom),a&&e.a(a,i.value),e.iv(),lr(i)},Ar=function(e){return null==e},Mr=function e(t,i,o){for(var a in i){var r=i[a];"object"!==(void 0===r?"undefined":De(r))||ht.Default.isArray(r)||o?t[a]=i[a]:(Ar(t[a])&&ht.Default.isObject(i[a])&&(t[a]={}),e(t[a],i[a]))}},Br=function(e,t){e.getView().style.cursor=t},Er=function(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e[i%=e.length]},Or=function(e,t,i,o){var a=e[t],r=i.getCurrentPrefix();if(a&&a.func&&"string"==typeof a.func){var n=a.func.split("@"),l=Ie(n,2);l[0];return(r||"")+l[1]}return null},Hr=function(e,t){var i,o,a,r;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}if(r=Math.abs(i-o),a=Math.pow(10,Math.max(i,o)),0<r){var n=Math.pow(10,r);t=o<i?(e=Number(e.toString().replace(".","")),Number(t.toString().replace(".",""))*n):(e=Number(e.toString().replace(".",""))*n,Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/a},Wr=function(e,t){var i,o,a;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}return((e*(a=Math.pow(10,Math.max(i,o)))-t*a)/a).toFixed(o<=i?i:o)},jr=function(e,t){return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}},Nr=function(e,t,i){var o=Lr(i,t,e),a=o.rect,r=o.matrix,n=new ht.Math.Matrix2d,l=gn(i),h=i.tx?i.tx():0,s=i.ty?i.ty():0;n.appendTranslate(h,s),n.appendScale(l,l),n.append(r);var u=new ht.Math.Vector2;return a=ht.Default.unionPoint([n.apply(u.set(a.x,a.y)),n.apply(u.set(a.x,a.y+a.height)),n.apply(u.set(a.x+a.width,a.y)),n.apply(u.set(a.x+a.width,a.y+a.height))])},Fr=function(e,t,i){if(!e||!e.func)return e;var o,a=e.func,r=e.value;return o=ht.Default.isFunction(a)?i&&i.vectorDataBindingDisabled&&!e.isSafeFunc?r:a(t,i):t instanceof ht.Data?/^attr@/.test(a)?t.a(a.slice(5)):/^style@/.test(a)?t.s(a.slice(6)):/^field@/.test(a)?t[a.slice(6)]:t[a]?t[a](i):r:r,void 0!==r&&null==o?r:o},zr=function(e,t,i,o){var a=t.x,r=t.y,n=t.width,l=t.height;e.fillStyle=i,e.beginPath(),qr(e,a,r,n,l,o),e.closePath(),e.fill()},Yr=function(e,t,i,o,a){var r=Lr(e,t,i,a);return{x:o.x+r.rect.x,y:o.y+r.rect.y}},Gr=function(e){return ht.Default.clone(e)},Xr=function(e){return ht.Default.isArray(e)},Ur=function(e){return ht.Default.isObject(e)},Zr=function(e){return!Ar(e)},Kr=function(e,t,i,o){ht.Default.drawPoints(e,t,i,o)},Jr=function(e,t,i,o,a,r,n,l,h,s){ht.Default.drawText(e,t,i,o,a,r,n,l,h,s)},qr=function(e,t,i,o,a,r,n,l,h){ht.Default.drawRoundRect.apply(ht.Default,arguments)},Qr=function(e,t,i,o){return ht.Default.containsPoint(e,t,i,o)},$r=function(e,t){return ht.Default.unionPoint(e,t)},en=function(e,t,i,o,a,r,n,l,h,s){!s&&l&&(s=l.s("body.color")),ht.Default.drawStretchImage(e,t,i,o,a,r,n,l,h,s)},tn=function(e,t,i,o,a,r,n,l,s){!s&&n&&(s=n.s("body.color")),ht.Default.drawImage(e,img,i,o,w,h,n,l,s)},on=function(e,t,i){if(i){var o=sr(e,t),a=new ht.Math.Vector2(0,0),r=new ht.Math.Vector2(o.width,0),n=new ht.Math.Vector2(o.width,o.height),l=new ht.Math.Vector2(0,o.height),h=new ht.Math.Vector2(o.width/2,o.height/2),s=Math.PI*(i/180);return a.rotateAround(h,s),r.rotateAround(h,s),n.rotateAround(h,s),l.rotateAround(h,s),$r([a,r,n,l])}return sr(e,t)},an=function(e,t){var i=t;i=(i=i.replace(/yyyy|YYYY/,e.getFullYear())).replace(/yy|YY/,9<e.getYear()%100?(e.getYear()%100).toString():"0"+e.getYear()%100);var o=e.getMonth()+1;i=(i=(i=(i=(i=i.replace(/MM/,9<o?o.toString():"0"+o)).replace(/M/g,o)).replace(/w|W/g,["日","一","二","三","四","五","六"][e.getDay()])).replace(/dd|DD/,9<e.getDate()?e.getDate().toString():"0"+e.getDate())).replace(/d|D/g,e.getDate());var a=e.getHours();return i=(i=(i=(i=i.replace(/HH/,9<a?a.toString():"0"+a)).replace(/H/g,a)).replace(/A/g,12<=a?"PM":"AM")).replace(/Aa/g,12<=a?"pm":"am"),a=12<a?a%12:a,i=(i=(i=(i=(i=(i=i.replace(/hh/,9<a?a.toString():"0"+a)).replace(/h/g,a)).replace(/mm/,9<e.getMinutes()?e.getMinutes().toString():"0"+e.getMinutes())).replace(/m/g,e.getMinutes())).replace(/ss|SS/,9<e.getSeconds()?e.getSeconds().toString():"0"+e.getSeconds())).replace(/s|S/g,e.getSeconds())},rn=function(e,t){var i=e.x,o=e.y,a=e.width,r=e.height,n=t.x,l=t.y;return n=Math.max(n,i-1),n=Math.min(n,i+a+1),l=Math.max(l,o-1),{x:n,y:l=Math.min(l,o+r+1)}},nn=function(e,t){var i=1<arguments.length&&void 0!==t?t:.1,o=e.length,a=[],r=[];if(o<=2)return{points:e,segments:o?1===o?[1]:[1,2]:null};for(var n=0;n<o;n++){var l=e[n],h=e[n-1]||l,s=e[n+1]||l,u=new ht.Math.Vector2(e[n]),d=new ht.Math.Vector2(h),c=new ht.Math.Vector2(s).clone().sub(d).multiplyScalar(i);if(0===n){a.push({x:u.x,y:u.y});var g=u.clone().add(c);a.push({x:g.x,y:g.y}),r.push(1)}else if(n===o-1){var f=u.clone().sub(c);a.push({x:f.x,y:f.y}),a.push({x:u.x,y:u.y}),r.push(4)}else{var v=u.clone().sub(c),p=u.clone().add(c);a.push({x:h?Math.max(h.x,v.x):v.x,y:v.y}),a.push({x:u.x,y:u.y}),a.push({x:s?Math.min(s.x,p.x):p.x,y:p.y}),r.push(4)}}return{points:a,segments:r}},ln=function(){var i=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})},hn=function(e){return ht.Default.toColorData(e)},sn=function(e){return ht.Default.getImage(e)},un=function(e,t){return ht.Default.getDistance(e,t)},dn=function(e,t,i){if("object"!==(void 0===t?"undefined":De(t)))return t;var o=t.type,a=t.colorStops,r=t.coordinate,n=i.x,l=i.y,h=i.width,s=i.height,u=void 0;if("radial"===o){r=r||[0,0,.5,0,1,.5];var d=Math.min(h,s),c=[n+h*r[0],l+s*r[1],d*r[2],n+h*r[3],l+s*r[4],d*r[5]];u=e.createRadialGradient.apply(e,c),a.forEach(function(e){var t=e.offset,i=e.color;u.addColorStop(t,i)})}else{var g=[n+h*(r=r||[0,0,0,1])[0],l+s*r[1],n+h*r[2],l+s*r[3]];u=e.createLinearGradient.apply(e,g),a.forEach(function(e){var t=e.offset,i=e.color;u.addColorStop(t,i)})}return u},cn=function(e){var t=e.x,i=e.y,o=e.width,a=e.height,r=o/2,n=a/2;return{middleMiddle:{x:t+r,y:i+n},topMiddle:{x:t+r,y:i},bottomMiddle:{x:t+r,y:i+a},leftMiddle:{x:t,y:i+n},rightMiddle:{x:t+o,y:i+n}}},gn=function(e){return e.getZoom?e.getZoom():1},fn={comp:{button:function(e,t,i,o,a){var r=i.getValue("text"),n=i.getValue("disabled"),l=i.getValue("font"),h=i.getValue("icon"),s=i.getValue("iconPosition"),u=i.getValue("iconWidth"),d=i.getValue("iconHeight"),c=i.getValue("iconGap"),g=i.getColor("iconColor"),f=i.getColor("hoverIconColor"),v=i.getColor("activeIconColor"),p=i.getColor("textColor"),x=i.getColor("hoverTextColor"),b=i.getColor("activeTextColor"),y=i.getColor("disabledTextColor"),m=i.getValue("borderWidth"),w=i.getColor("borderColor"),C=i.getColor("hoverBorderColor"),k=i.getColor("activeBorderColor"),V=i.getColor("disabledBorderColor"),D=i.getColor("background"),I=i.getColor("hoverBackground"),T=i.getColor("activeBackground"),_=i.getColor("disabledBackground"),L=i.getValue("borderRadius"),S=i.getValue("handleClick"),R=Sr(a,o,i),P=dr(Q),A=Ie(P,4),M=(A[0],A[1],A[2],A[3],ur(L)),B=Ie(M,4),E=B[0],O=B[1],H=B[2],W=B[3],j=t.x,N=t.y,F=t.width,z=t.height;if(n?(D=_,w=V,p=y,m=m||1):(D=er(R,D,I,T,!0),w=er(R,w,C,k,!0),g=er(R,g,f,v,!1,!0),p=er(R,p,x,b,!0)),e.fillStyle=D,e.beginPath(),qr(e,j,N,F,z,E,O,W,H),e.closePath(),e.fill(),m&&w&&(e.strokeStyle=w,e.lineWidth=m,e.stroke()),!h&&Zr(r))K(e,r,l,p,j,N,F,z,"center","middle");else if(h&&!Zr(r))J(e,q(h),"uniform",j+.5*(F-u),N+.5*(z-d),u,d,o,a,g);else if(h&&Zr(r)){var Y=sr(l,r),G=void 0,X=void 0;if(ue===s||de===s){var U=N+.5*(z-d-Y.height-c);G={x:j,height:Y.height,width:F},X={x:j+.5*(F-u),width:u,height:d},ue===s?(G.y=U+d+c,X.y=U):de===s&&(G.y=U,X.y=U+Y.height+c)}else{var Z=j+.5*(F-u-Y.width-c);G={width:Y.width,y:N,height:z},X={y:.5*(z-d),width:u,height:d},xe===s?(G.x=Z,X.x=Z+Y.width+c):(G.x=Z+u+c,X.x=Z)}K(e,r,l,p,G.x,G.y,G.width,G.height,"center","middle"),J(e,q(h),"uniform",X.x,X.y,X.width,X.height,o,a,g)}R&&(R.disabled=n,R.onClick=S)},input:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),u=i.getColor("borderColor"),d=i.getValue("borderPattern"),c=i.getColor("focusBorderColor")||u,g=i.getValue("borderRadius"),f=i.getValue("padding"),v=i.getColor("background"),p=i.getColor("focusBackground")||v,x=i.getValue("icon"),b=i.getValue("iconWidth"),y=i.getValue("iconHeight"),m=i.getValue("iconAlign"),w=i.getValue("font"),C=i.getValue("textAlign"),k=i.getColor("textColor"),V=i.getValue("maxLength"),D=i.getValue("inputType"),I=i.getValue("enterEndInputable"),T=i.getValue("onKeyDown"),_=i.getValue("onKeyUp"),L=i.getValue("onChange"),S=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",R=i.getValue("formatter"),P=Sr(a,o,i),A=P&&P.editing,M=P&&P.editingValue,B=ur(f),E=Ie(B,4),O=E[0],H=E[1],W=E[2],j=E[3],N=ur(g),F=Ie(N,4),z=F[0],Y=F[1],G=F[2],X=F[3],U=t.x,Z=t.y,K=t.width,J=t.height,q=void 0;if(o&&A?(q=p,u=c):q=v,e.beginPath(),qr(e,U,Z,K,J,z,Y,X,G),e.closePath(),q&&(e.fillStyle=q,e.fill()),(s&&u||A&&s&&c)&&(e.save(),e.strokeStyle=A?c:u,e.lineWidth=s,d&&d.length&&e.setLineDash(d),e.stroke(),e.restore()),r=(Zr(r)?r:"")+"",!M||!A){var Q=!r&&n,$=(R?R(r,o,a):r)||n||"",ee=r?k:l,te=Math.max(0,K-j-H),ie=Math.max(0,J-O-W),oe=U+j,ae=Z+O;A&&($=n||"",ee=l),$&&(e.save(),e.beginPath(),e.rect(oe,ae,te,ie),e.clip(),!Q&&o&&"password"===D&&($=function(){for(var e="",t=0;t<$.length;t++)e+="•";return e}()),le(e,$,w,ee,oe,Z+1,te,J,C,"middle"),e.restore())}if(x){var re=void 0;re="left"===m?U:"center"===m?U+.5*(K-b):U+K-b,he(e,se(x),"uniform",re,.5*(J-y),b,y,o,a)}if(h){var ne=s/2;e.beginPath(),qr(e,U-ne,Z-ne,K+s,J+s,z,Y,X,G),e.fillStyle=S,e.closePath(),e.fill()}P&&(P.disabled=h,P.font=w,P.value=r,P.placeholder=n,P.textAlign=C,P.maxLength=V,P.textColor=k,P.inputType=D,P.enterEndInputable=I,P.onKeyUp=_,P.onKeyDown=T,P.onChange=L,P.padding=f,P.selectTextOnFocus=i.getValue("selectTextOnFocus"))},inputNumber:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getColor("min"),s=i.getColor("max"),u=i.getColor("step"),d=i.getValue("disabled"),c=i.getValue("borderWidth"),g=i.getColor("borderColor"),f=i.getColor("focusBorderColor")||g,v=i.getValue("borderRadius"),p=i.getValue("padding"),x=i.getColor("background"),b=i.getColor("focusBackground")||x,y=i.getValue("icon"),m=i.getValue("iconWidth"),w=i.getValue("iconHeight"),C=i.getValue("iconAlign"),k=i.getValue("font"),V=i.getValue("textAlign"),D=i.getColor("textColor"),I=i.getValue("maxLength"),T=i.getValue("enterEndInputable"),_=i.getValue("buttonVisible"),L=i.getValue("onKeyDown"),S=i.getValue("onKeyUp"),R=i.getValue("onChange"),P=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",A=Sr(a,o,i),M=A&&A.editing,B=A&&A.editingValue,E=ur(p),O=Ie(E,4),H=O[0],W=O[1],j=O[2],N=O[3],F=ur(v),z=Ie(F,4),Y=z[0],G=z[1],X=z[2],U=z[3],Z=t.x,K=t.y,J=t.width,q=t.height,Q=void 0;if(o&&M?(Q=b,g=f):Q=x,e.beginPath(),qr(e,Z,K,J,q,Y,G,U,X),e.closePath(),Q&&(e.fillStyle=Q,e.fill()),(c&&g||M&&c&&f)&&(e.strokeStyle=M?f:g,e.lineWidth=c,e.stroke()),!B&&0!==B||!M){var $=Zr(r)?r:Zr(n)?n:"",ee=Zr(r)?D:l,te=Math.max(0,J-N-W),ie=Math.max(0,q-H-j),oe=Z+N,ae=K+H;M&&($=Zr(n)?n:"",ee=l),Zr($)&&(e.save(),e.beginPath(),e.rect(oe,ae,te,ie),e.clip(),at(e,$,k,ee,oe,K+1,te,q,V,"middle"),e.restore())}if(_){var re=Z+J-20,ne=K+c/2,le=q-c,he=5<le/2?2.5:le/2*.4;e.strokeStyle=g,e.beginPath(),e.moveTo(re,ne),e.lineTo(re,ne+le),e.moveTo(re,ne+le/2),e.lineTo(20+re,ne+le/2),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4+he),e.lineTo(10+re,ne+le/4-he),e.lineTo(14+re,ne+le/4+he),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4*3-he),e.lineTo(10+re,ne+le/4*3+he),e.lineTo(14+re,ne+le/4*3-he),e.stroke(),A&&(A.buttonRects=[{x:re,y:ne,width:20,height:q/2},{x:re,y:ne+q/2,width:20,height:q/2}])}if(y){var se=void 0;se="left"===C?Z:"center"===C?Z+.5*(J-m):Z+J-m,rt(e,nt(y),"uniform",se,.5*(q-w),m,w,o,a)}if(d){var ue=c/2;e.beginPath(),qr(e,Z-ue,K-ue,J+c,q+c,Y,G,U,X),e.fillStyle=P,e.closePath(),e.fill()}A&&(A.disabled=d,A.font=k,A.value=r,A.placeholder=n,A.textAlign=V,A.maxLength=I,A.textColor=D,A.enterEndInputable=T,A.onKeyUp=S,A.onKeyDown=L,A.onChange=R,A.padding=p,A.step=u,A.min=h,A.max=s,A.selectTextOnFocus=i.getValue("selectTextOnFocus"))},textarea:function(t,e,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),u=i.getColor("borderColor"),d=i.getValue("borderPattern"),c=i.getColor("focusBorderColor"),g=i.getValue("borderRadius"),f=i.getValue("padding"),v=i.getColor("background"),p=i.getColor("focusBackground")||v,x=i.getValue("textAlign"),b=i.getColor("textColor"),y=i.getValue("lineHeight"),m=i.getValue("font"),w=i.getValue("wordBreak"),C=i.getValue("maxLength"),k=i.getValue("enterEndInputable"),V=i.getValue("onKeyUp"),D=i.getValue("onKeyDown"),I=i.getValue("onChange"),T=i.getValue("formatter"),_=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",L=Sr(a,o,i),S=L&&L.editing,R=L&&L.editingValue,P=ur(f),A=Ie(P,4),M=A[0],B=A[1],E=A[2],O=A[3],H=ur(g),W=Ie(H,4),j=W[0],N=W[1],F=W[2],z=W[3],Y=e.x,G=e.y,X=e.width,U=e.height,Z=void 0;if(o&&S?(Z=p,u=c):Z=v,t.beginPath(),qr(t,Y,G,X,U,j,N,z,F),t.closePath(),Z&&(t.fillStyle=Z,t.fill()),(s&&u||S&&s&&c)&&(t.save(),t.strokeStyle=S?c:u,t.lineWidth=s,d&&t.setLineDash(d),t.stroke(),t.restore()),r=(Zr(r)?r:"")+"",!R||!S){var K=(T?T(r,o,a):r)||n||"",J=r?b:l,q=Math.max(0,X-O-B),Q=Math.max(0,U-M-E);if(S&&(K=n||"",J=l),K){t.save(),t.beginPath(),t.rect(Y+O,G+M,q,Q),t.clip();var $=$a(K,m,q,w),ee=G+M;$.forEach(function(e){G+U<ee||(ie(t,e,m,J,Y+O,ee,q,y,x,"middle"),ee+=y)}),t.restore()}}if(h){var te=s/2;t.beginPath(),qr(t,Y-te,G-te,X+s,U+s,j,N,z,F),t.fillStyle=_,t.closePath(),t.fill()}L&&(L.disabled=h,L.font=m,L.value=r,L.placeholder=n,L.textAlign=x,L.maxLength=C,L.textColor=b,L.enterEndInputable=k,L.padding=f,L.wordBreak=w,L.onKeyUp=V,L.onKeyDown=D,L.onChange=I,L.lineHeight=y,L.selectTextOnFocus=i.getValue("selectTextOnFocus"))},radio:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("checked"),l=i.getColor("normalColor"),h=i.getColor("background"),s=i.getColor("activeColor"),u=i.getColor("disabledColor"),d=i.getColor("disabledBackground"),c=(i.getValue("symbol"),Sr(a,o,i)),g=n?s:l,f=t.x,v=t.y,p=t.width,x=t.height,b=Math.min(p,x);o&&(r?(g=u,h=d):c.pressed?n?g=ht.Default.darker(g,Te.activeDarker):h=ht.Default.darker(h,Te.activeDarker):c.hover&&(n?g=ht.Default.darker(g,Te.hoverDarker):h=ht.Default.darker(h,Te.hoverDarker))),h&&(e.beginPath(),e.fillStyle=h,e.arc(f+.5*p,v+.5*x,.5*b,0,2*Math.PI),e.fill()),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*x,.5*b,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*x,.25*b,0,2*Math.PI),e.fill()),o&&!o.__inputType&&(o.__inputType=y),c&&(c.disabled=r,c.onChange=i.getValue("onChange"),c.group=i.getValue("group"),c.value=i.getValue("value"))},checkbox:function(e,t,i,o,a){var r=i.getValue("checked"),n=i.getValue("disabled"),l=i.getColor("borderColor"),h=i.getColor("activeBorderColor"),s=i.getColor("disabledBorderColor"),u=i.getColor("background"),d=i.getColor("activeBackground"),c=i.getColor("disabledBackground"),g=i.getValue("borderRadius"),f=i.getColor("iconColor"),v=i.getColor("disabledIconColor"),p=Sr(a,o,i),x=t.x,b=t.y,y=t.width,m=t.height,w=Math.min(y,m);u=r?d:u,u=n?(l=s,f=v,c):er(o,u,null,null,!0),r&&!n&&(l=h),m<y?x+=.5*(y-m):y<m&&(b+=.5*(m-y)),e.beginPath(),qr(e,x,b,w,w,g),e.closePath(),u&&(e.fillStyle=u,e.fill()),e.strokeStyle=l,e.lineWidth=1,e.stroke(),r&&(e.beginPath(),e.moveTo(x+.125*w,b+.5*w),e.lineTo(x+w*(3/8),b+.75*w),e.lineTo(x+.8125*w,b+.25*w),e.lineWidth=Math.max(1,w/16),e.lineCap="round",e.strokeStyle=f,e.stroke()),o&&!o.__inputType&&(o.__inputType=C),p&&(p.disabled=n,p.checked=r,p.onChange=i.getValue("onChange"),p.group=i.getValue("group"),p.value=i.getValue("value"))},colorPicker:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("borderWidth"),l=i.getValue("borderColor"),h=i.getValue("disabledBorderColor"),s=i.getValue("focusBorderColor"),u=i.getValue("borderRadius"),d=i.getValue("textColor"),c=i.getValue("value"),g=i.getValue("font"),f=i.getValue("fullMode"),v=i.getValue("showDropDownIcon"),p=i.getValue("dropDownIcon"),x=i.getValue("dropDownIconColor"),b=i.getValue("dropDownIconWidth"),y=i.getValue("dropDownIconHeight"),m=i.getValue("onChange"),w=Sr(a,o,i),C=ur(u),k=Ie(C,4),V=k[0],D=k[1],I=k[2],T=k[3],_=t.x,L=t.y,S=t.width,R=t.height,P=_+S+5,A=L+R+5,M=!1,B=void 0;if(r?l=d=h:w&&w.editing&&s&&(l=s),e.save(),f){e.beginPath(),qr(e,_,L,S,R,V,D,T,I),e.closePath(),e.clip();for(var E=L,O=0;E<A;E+=5,O++){M=O%2!=0;for(var H=_;H<P;H+=5)e.fillStyle=M?U:X,e.fillRect(H,E,5,5),M=!M}}else{P=(B={x:_+4,y:L+4,width:1.66*(R-8),height:R-8}).x+B.width,A=B.y+B.height,e.beginPath(),e.rect(B.x,B.y,B.width,B.height),e.closePath(),e.clip();for(var W=B.y,j=0;W<A;W+=5,j++){M=j%2!=0;for(var N=B.x;N<P;N+=5)e.fillStyle=M?U:X,e.fillRect(N,W,5,5),M=!M}}e.restore(),e.beginPath(),qr(e,_,L,S,R,V,D,T,I),e.closePath(),c&&f?(e.fillStyle=c,e.fill()):c&&!f&&(e.fillStyle=c,e.fillRect(B.x,B.y,B.width,B.height),Z.setColor(c),F(e,Z,g,d,B.x+B.width+4,L,S-B.width-8,R,"left","middle")),n&&(e.lineWidth=n,e.strokeStyle=l,e.stroke()),v&&z(e,G(p||"ht.vector.dropDownIcon"),"uniform",_+S-8-b,L+.5*(R-y),b,y,o,a,x),w&&(w.disabled=r,w.onChange=m)},comboBox:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getValue("dataSource"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),u=i.getColor("borderColor"),d=i.getColor("disabledBorderColor"),c=i.getColor("focusBorderColor"),g=i.getValue("borderRadius"),f=i.getValue("padding"),v=i.getColor("background"),p=i.getColor("disabledBackground"),x=i.getColor("focusBackground")||v,b=i.getValue("icon"),y=i.getValue("iconWidth"),m=i.getValue("iconHeight"),w=i.getValue("iconAlign"),C=i.getValue("font"),k=i.getValue("textAlign"),V=i.getColor("textColor"),D=i.getColor("disabledTextColor"),I=i.getValue("dropDownIcon"),T=i.getColor("dropDownIconColor"),_=i.getValue("dropDownIconWidth"),L=i.getValue("dropDownIconHeight"),S=i.getValue("drawUnMatchValue"),R=Sr(a,o,i),P=R&&R.editing,A=ur(f),M=Ie(A,4),B=M[0],E=M[1],O=M[2],H=M[3],W=ur(g),j=Ie(W,4),N=j[0],F=j[1],z=j[2],Y=j[3],G=t.x,X=t.y,U=t.width,Z=t.height,K=void 0;o?h?(K=p,u=d,V=D,s=s||1):P?(K=x,u=c):K=v:K=v,e.beginPath(),qr(e,G,X,U,Z,N,F,Y,z),e.closePath(),K&&(e.fillStyle=K,e.fill()),(s&&u||P&&s&&c)&&(e.strokeStyle=P?c:u,e.lineWidth=s,e.stroke());var J="";if(S)J=r;else if(!Ar(r)&&l)for(var q=0,Q=l.length;q<Q;q++)if(l[q].value===r){J=l[q].label,b=l[q].icon;break}J||(b=null,Ar(r)||(J=r+""));var $=J||n||"",ee=Math.max(0,U-H-E-_-8),te=Math.max(0,Z-B-O),ie=G+H,oe=X+B;if(Ar(r)&&!h&&(V=Te.placeholderColor),e.save(),e.beginPath(),e.rect(ie,oe,ee,te),e.clip(),re(e,$,C,V,b?ie+y:ie,oe,ee,te,k,"middle"),e.restore(),b){var ae=void 0;ae="left"===w?ie:"center"===w?G+.5*(U-y):G+U-y-E,ne(e,ce(b),"uniform",ae,.5*(Z-m),y,m,o,a)}ne(e,ce(I||"ht.vector.dropDownIcon"),"uniform",G+U-8-_,X+.5*(Z-L),_,L,o,a,T),R&&(R.disabled=h,R.dataSource=l,R.dropIconWidth=i.getValue("dropIconWidth"),R.dropIconHeight=i.getValue("dropIconHeight"),R.dropRowHeight=i.getValue("dropRowHeight"),R.dropWidth=i.getValue("dropWidth"),R.dropBackground=i.getValue("dropBackground"),R.dropLabelFont=i.getValue("dropLabelFont"),R.dropLabelColor=i.getValue("dropLabelColor"),R.dropActiveLabelColor=i.getValue("dropActiveLabelColor"),R.dropActiveBackground=i.getValue("dropActiveBackground"),R.dropHoverBackground=i.getValue("dropHoverBackground"),R.dropMaxHeight=i.getValue("dropMaxHeight"),R.onChange=i.getValue("onChange"),R.dropBorderColor=i.getValue("dropBorderColor"),R.dropBorderWidth=i.getValue("dropBorderWidth"))},gauge:function(e,t,i,o,a){var r=i.getValue("pointerRadius"),n=i.getColor("pointerColor"),l=i.getValue("value"),h=i.getValue("max"),s=i.getValue("showTick"),u=i.getValue("tickEvery"),d=i.getColor("tickColor"),c=i.getValue("tickWidth"),g=(i.getValue("tickRadius"),i.getValue("bigTickEvery")),f=i.getColor("bigTickColor"),v=i.getValue("bigTickWidth"),p=(i.getValue("bigTickRadius"),i.getValue("showLabel")),x=i.getValue("labelEvery"),b=i.getColor("labelColor"),y=i.getValue("labelFont"),m=i.getValue("labelRadius"),w=i.getValue("showShadow"),C=i.getValue("shadowBlur"),k=i.getColor("shadowColor"),V=i.getValue("shadowOffsetX"),D=i.getValue("shadowOffsetY");_e=i.getValue("clockwise"),Le=i.getValue("min"),ve=i.getValue("startAngle"),pe=i.getValue("endAngle"),oe=Math.abs(h-Le),ae=Math.abs(pe-ve);var I=t.x,T=t.y,_=t.width,L=t.height,S=Math.min(_,L)/2,R=ee(l,_e);if(e.save(),w&&(e.shadowColor=k,e.shadowBlur=C,e.shadowOffsetX=V,e.shadowOffsetY=D),e.translate(I+.5*_,T+.5*L),s){if(g){e.beginPath(),e.strokeStyle=f,e.lineWidth=v;for(var P=Le;P<=h;P+=g){var A=ee(P,_e),M=S*Math.cos(A),B=S*Math.sin(A);e.moveTo(.84*M,.84*B),e.lineTo(M,B)}e.stroke()}if(u){e.beginPath(),e.strokeStyle=d,e.lineWidth=c;for(var E=Le;E<=h;E+=u){var O=ee(E,_e),H=S*Math.cos(O),W=S*Math.sin(O);e.moveTo(.9*H,.9*W),e.lineTo(H,W)}e.stroke()}}if(p&&x){m=$(m,S),e.font=y,e.fillStyle=b,e.textAlign="center",e.textBaseline="middle";for(var j=Le;j<=h;j+=x){var N=ee(j,_e),F=m*Math.cos(N),z=m*Math.sin(N);e.fillText(j,F,z)}}var Y=.05*(r=$(r,S));e.rotate(R),e.beginPath(),e.moveTo(-1.5*Y,0),e.lineTo(0,-Y),e.lineTo(r,0),e.lineTo(0,Y),e.closePath(),e.fillStyle=n,e.fill(),e.restore()},table:function(p,x,o,b,y){var a,i=o.getValue("columns"),e=o.getValue("dataSource"),t=o.getColor("thBackground"),r=o.getColor("tdBackground"),m=o.getValue("thHeight"),n=o.getValue("tdHeight"),w=o.getValue("textLineHeight"),s=o.getColor("thColor"),C=o.getColor("tdColor"),u=o.getValue("thFont"),k=o.getValue("tdFont"),V=o.getValue("borderWidth"),l=o.getColor("borderColor"),h=o.getColor("columnLineColor"),D=o.getValue("columnLineWidth"),d=o.getValue("columnLinePattern"),c=o.getColor("rowLineColor"),I=o.getValue("rowLineWidth"),g=o.getValue("rowLinePattern"),T=o.getValue("showHeadRowLine"),_=o.getValue("cellPadding"),L=o.getValue("showHead"),S=o.getColor("hoverBackground"),R=o.getColor("hoverColor"),P=o.getColor("selectBackground"),A=o.getColor("selectColor"),M=o.getValue("translateY")||0,B=o.getValue("translateX")||0,f=o.getValue("scrollable"),v=o.getValue("autoHideScrollBar"),E=o.getColor("scrollBarColor"),O=o.getValue("scrollBarWidth"),H=o.getValue("scrollBarWidthAbsolute"),W=o.getValue("drawRow"),j=o.getValue("multiple"),N=o.getValue("onSelectRow"),F=o.getValue("onHoverCell"),z=o.getValue("onClickCell"),Y=o.getValue("onClickCellImage"),G=o.getValue("selectedIndex")||[],X=o.getValue("visibleFunc"),U=o.getValue("columnVisibleFunc"),Z=o.getValue("resizable"),K=o.getValue("resizeLineWidth"),J=o.getValue("resizeLineColor"),q=o.getValue("resizeInteractiveSize"),Q=o.getValue("showHeadColumnLineOnly"),$=Sr(y,b,o),ee=x.x,te=x.y,ie=x.width,oe=x.height,ae=ie-2*V,re=oe-2*V,ne=void 0,le=[],he=[],se=[],ue=[],de=[];if(L&&(ne=[ee+V,te+V,ae,m]),a=[ee+V,te+m*L+V,ie,re-m*L],Ar(G)||ht.Default.isArray(G)||(G=[G]),p.save(),p.beginPath(),p.rect(ee,te,ie,oe),p.clip(),t&&L&&(p.fillStyle=t,p.fillRect.apply(p,Me(ne))),r&&(p.fillStyle=r,p.fillRect.apply(p,Me(a))),i&&0<i.length&&(i.forEach(function(e,t){(U&&U(e,t,b,y)||!U)&&(se.push(e),ue.push(t))}),se.length)){var ce=se.length,ge=Ir(se,ae-D*(ce-1)),fe=e.length,ve=[],pe=[],xe=$.customColWidths||[],be=ee+V+B;if(L){var ye=1;y&&y.getZoom&&(ye=y.getZoom()),q*=1/ye;for(var me=function(e){var t=se[e],i=t.drawHeadCell,o=ge[e]-2*_,a=t.headColor||t.color||s,r=t.headFont||t.font||u;"function"==typeof a&&(a=a(t)),"function"==typeof r&&(r=r(t)),be+=_,p.save(),p.beginPath();var n,l=t.displayName||t.key,h=[be,te+V,o,m];p.rect.apply(p,h),p.clip(),n=function(){Ee.apply(void 0,[p,l,r,a].concat(h,[t.align||"left","middle"]))},i?i(p,l,Tr(h),{color:a,font:r,defaultDraw:n,data:b,column:t,colIndex:ue[e]}):n(),p.restore(),be+=o+D+_,pe.push({x:be-q/2-D/2,y:te,width:q,height:m})},we=0;we<ce;we++)me(we)}p.save(),p.beginPath(),p.rect(ee+V,te+V+(L?m:0),ae,re-m*L),p.clip();var Ce=te;if(e&&0<fe&&(e.forEach(function(e,t){(X&&X(e,t,b,y)||!X)&&(le.push(e),he.push(t))}),le.forEach(function(e,t){ve.push(function(r,n,l,e,t){var h=Math.max(l,e);return t.forEach(function(e,t){var i=e.format,o=r[e.key];if(i&&(o=i(o,r,n,t)),"string"==typeof o){var a=o.match(Ne);a&&a.length&&(h=Math.max(h,l*(a.length+1)))}}),h}(e,he[t],w,n,i))}),!j&&1<G.length&&(G=G.slice(0,1)),le.forEach(function(s,u){var d=he[u],c=ve[u],g=Ce+I*(d+T*L*1)+m*L+V+M,e={x:ee,y:g,width:ie,height:c};if(Ce+=c,be=ee+V+B,je(Tr(a),e)){p.save(),W&&W.call(o,p,s,d,e,he.indexOf(d),b,y);var f=$&&$.hoverIndex===d,v=G&&-1!==G.indexOf(d);v&&P?(p.fillStyle=P,p.fillRect(ee,g,ie,c)):!v&&f&&S&&(p.fillStyle=S,p.fillRect(ee,g,ie,c));for(var t=function(e){var a=se[e],t=ue[e],i=a.drawCell,r=ge[e]-2*_,n=a.bodyFont||a.font||k,l=a.bodyColor||a.color||C;if(v&&A&&(l=A),!v&&f&&R&&(l=R),"function"==typeof l&&(l=l(s[a.key],s)),"function"==typeof n&&(n=n(s[a.key],s)),!je({x:be+=_,y:g,width:r,height:c},x))return be+=r+D+_,"continue";var h=s[a.key];a.format&&(h=a.format(h,s,d,t)),p.save(),p.beginPath(),p.rect(be,g,r,c),p.clip();function o(){var e=a.isIcon;if(a.isIndex&&(e=!1,h=u+1),e)0<r&&Oe(p,He(h),"centerUniform",be,g+1,r,c-2,b,y);else{if(function(e){return e===undefined||e===null||e===""}(h))return;var t="string"==typeof h?h.match(Ne):null;if(t?t.length:0){var i=h.split(Ne),o=g;"middle"===a.vAlign?o=g+(c-i.length*w)/2:"bottom"===a.vAlign&&(o=g+(c-i.length*w)),i.forEach(function(e){Ee(p,e,n,l,be,o,r,w,a.align||"left",a.vAlign||"middle"),o+=w})}else Ee(p,h,n,l,be,g,r,c,a.align||"left",a.vAlign||"middle")}}i?i(p,h,{x:be,y:g,width:r,height:c},{column:a,colIndex:t,row:s,rowIndex:d,font:n,color:l,defaultDraw:o,data:b},de):o();be+=r+D+_,p.restore()},i=0;i<ce;i++)t(i);p.restore()}})),$&&($.rowHeights=ve,$.colWidths=ge,$.headHeight=L?m:0,$.rowLineWidth=I,$.columnLineWidth=D,$.translateX=B,$.translateY=M,$.autoHideScrollBar=v,$.multiple=j,$.selectedIndex=G,$.dataSource=e,$.columns=i,$.onSelectRow=N,$.onHoverCell=F,$.onClickCell=z,$.onClickCellImage=Y,$.rawDatas=le,$.rawIndexs=he,$.rawCols=se,$.rawColIndexs=ue,$.headRect=ne,$.bodyRect=a,$.resizable=Z,$.resizeRects=pe,$.customColWidths=xe,$.onClickHeadCell=o.getValue("onClickHeadCell"),$.pannable=o.getValue("pannable"),$.scrollBarInteractiveSize=o.getValue("scrollBarInteractiveSize"),$.scrollSpeed=o.getValue("scrollSpeed"),$.drawCellImageInfo=de),I){var ke=te+V+m*L+M;p.beginPath(),T&&L&&(ke+=I/2,p.moveTo(ee,ke),p.lineTo(ee+ie,ke),ke+=I/2);for(we=0;we<fe&&(ke+=ve[we]+I/2,!(te+oe<ke));we++)ke<te||(p.moveTo(ee,ke),p.lineTo(ee+ie,ke)),ke+=I/2;p.strokeStyle=c,p.lineWidth=I,g&&1<g.length&&p.setLineDash(g),p.stroke()}if(p.restore(),D){var Ve=ee+V+B,De=te+(Q&&L?m:oe);p.beginPath();for(var Ie=0;Ie<ce;Ie++)Ve+=ge[Ie]+D/2,p.moveTo(Ve,te),p.lineTo(Ve,De),Ve+=D/2;p.strokeStyle=h,p.lineWidth=D,d&&1<d.length&&p.setLineDash(d),p.stroke()}if(b&&$&&f){var Te=D?D*(ce-1):0,_e=I?(fe-1)*I:0;ge.forEach(function(e){Te+=e}),ve.forEach(function(e){_e+=e});var Le={x:ee+V,y:te+V+(L?m:0),width:ae,height:re-(L?m:0)},Se={width:Te,height:_e},Re={x:B,y:M},Pe=y.getZoom?y.getZoom():1;Be(p,Le,Se,Re,{visible:!v||$.scrollBarVisible,color:E,barWidth:H?O/Pe:O,gap:2/Pe},$)}}if(V&&We(p,l,ee,te,ie,oe,V),$.resizeDragPoint&&J&&K){var Ae=$.resizeDragPoint.x;p.strokeStyle=J,p.lineWidth=K,p.beginPath(),p.moveTo(Ae,te),p.lineTo(Ae,te+oe),p.stroke()}p.restore()},pie:function(V,e,t,i,o){var a=t.getValue("dataSource"),r=t.getValue("radius"),n=t.getValue("center"),D=t.getValue("startAngle"),l=t.getValue("endAngle"),h=t.getValue("tooltip.show"),s=t.getValue("tooltip.formatter"),I=t.getValue("roseType"),u=t.getValue("seriesName"),T=t.getValue("hoverOffset"),d=t.getValue("avoidLabelOverlap"),c=t.getValue("color"),g=t.getValue("minRoseRadius"),f=t.getValue("minAngle");if(a instanceof Array){l<D&&(l=D),360<l-D&&(l=D+360),D*=-Ya/180,l*=Ya/180;var v=e.x,p=e.y,x=e.width,b=e.height,y=Math.min(x,b),m=0,w=0,C=-D,k=Ie(r,2),_=k[0],L=void 0===_?0:_,S=k[1],R=void 0===S?.5:S,P=Ie(n,2),A=P[0],M=void 0===A?.5:A,B=P[1],E=void 0===B?.5:B,O=l-Math.abs(D);0<=L&&L<=1&&(L*=y/2),0<=R&&R<=1&&(R*=y/2),M=0<=M&&M<=1?M*x+v:M+v,E=0<=E&&E<=1?E*b+p:E+p;var H=(a=a.filter(function(){return 0<(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).value})).map(function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).value||0}),W=H.reduce(function(e,t){return e+t},0),j=H.map(function(e){return e/W}),N=Math.max.apply(Math,Me(H)),F=R-L,z=H.map(function(e){var t=e/N*F;return t<g?g:t}),Y=j.map(function(e){return e*O}),G=O,X=0;if(f*=Ga,Y=Y.map(function(e,t){return e<f?(G-=f,f):(X+=H[t],e)}),G<=.001){var U=O/H.length;Y=Y.map(function(e,t){return U})}else{var Z=G/X;Y=Y.map(function(e,t){return e===f?f:H[t]*Z})}var K=Sr(o,i,t),J=[],q=void 0,Q=[],$=[],ee=[],te=[],ie=void 0;if(K){0<a.length&&(q=new Ha(t),a.forEach(function(e,t){if(e){var i=j[t],o=z[t],a=Y[t],r=C+a/2;m+=a,J.push(new Na({percent:i,roseRadius:o,lineAngle:r,arcAngle:a,arcEndAngle:m,arcStartAngle:w,seriesName:u,index:t,data:e,centerX:M,centerY:E,outerRadius:R,innerRadius:L,roseType:I,hoverOffset:T,color:c},q)),C+=a,w=m}}),C=-D,m=w=D),ie=K.foucusArcNum;for(var oe=0,ae=J.length;oe<ae;oe++){var re=J[oe].arcAngle;Q.push({x:M+R*Math.cos(C),y:E+R*Math.sin(C)}),$.push(re),C+=re,oe===ae-1&&(C=-D)}!function(e,t,i){for(var o=0,a=e.length;o<a;o++){var r=e[o],n=i===o,l=r.getLabelLinePoints(n),h=l.x0,s=l.y0,u=l.x1,d=l.y1,c=r.getLabelLineLabelInfo(n),g=c.labelTextArray,f=c.textHeight,v=c.beginHeight;t.push({x0:h,y0:s,x1:u,y1:d,labelTextArray:g,labelLineIsShow:n?r.labelLineEmphasis.show:r.labelLineNormal.show,lineLength2:n?r.labelLineEmphasis.length2:r.labelLineNormal.length2,oneTextHeight:f,allTextHeight:2*v})}}(J,ee,ie),d&&function(e,d,t,c,g){for(var i=[],o=[],a=0;a<e.length;a++)e[a].x0<d?i.push(e[a]):o.push(e[a]);function r(e,t){if(e.sort(function(e,t){return e.y0-t.y0}),0<(e=e.filter(function(e){if(e.labelLineIsShow)return e})).length){for(var i=e[0].allTextHeight/2+3,o=e[e.length-1].allTextHeight/2,a=g-i-o-3,r=e.length,n=0,l=0,h=e.length;l<h;l++){if(a<(n+=e[l].allTextHeight)){r=l;break}}var s=a/(r-1);s===1/0&&(s=0);for(var u=0;u<r;u++)e[u].avoidIsShow=!0,e[u].x1=d+t*(c+10),e[u].y1=i+u*s}}0<i.length&&r(i,-1),0<o.length&&r(o,1)}(ee,M,0,R,b);for(var ne=0,le=J.length;ne<le;ne++){var he=J[ne],se=(be=ie===ne)?he.labelLineEmphasis:he.labelLineNormal,ue=se.show,de=se.width,ce=se.type,ge=se.font,fe=se.lineColor,ve=se.textColor;if(he.value&&!1!==ue)if("continue"===function(){var e=ee[ne],t=e.x0,i=e.y0,o=e.x1,a=e.y1,r=e.oneTextHeight,n=e.allTextHeight,l=e.labelTextArray,h=e.lineLength2,s=e.avoidIsShow;if(d&&!s)return"continue";V.save(),V.lineWidth=de,V.font=ge,V.strokeStyle=fe,V.fillStyle=ve,V.setLineDash("dashed"===ce?[2,2]:[]);var u=o<=t?-1:1;V.textAlign=o<=t?"right":"left",V.textBaseline="top",V.beginPath(),0<de?(V.moveTo(t,i),d&&V.lineTo(M+u*(R+5),i),V.lineTo(o,a),o+=u*h,V.lineTo(o,a),V.stroke()):o+=u*h,l.forEach(function(e,t){V.fillText(e,o+3*u,a-n/2+r*t)}),V.restore()}())continue}V.save(),V.translate(M,E),V.rotate(-D),Ce("fill"),Ce("stroke"),V.restore(),function(e,t){for(var i=0,o=e.length;i<o;i++){var a=e[i].getLabelPoints(),r=a.textX,n=a.textY;t.push({textX:r,textY:n})}}(J,te),V.save(),V.textAlign="center",V.textBaseline="top";for(var pe=0,xe=J.length;pe<xe;pe++){he=J[pe];var be,ye=(be=ie===pe)?he.labelEmphasis:he.labelNormal,me=(ue=ye.show,ye.position),we=ye.color;ge=ye.font;he.value&&!1!==ue&&function(){V.save(),V.font=ge,V.fillStyle=we;var e=te[pe],i="center"===me?M:e.textX,o="center"===me?E:e.textY,t=he.getLabelInfo(be),a=t.labelTextArray,r=t.textHeight,n=t.beginHeight;a.forEach(function(e,t){V.fillText(e,i,o-n+r*t)}),V.restore()}()}V.restore(),K&&(K.arcPoints=Q,K.arcAngles=$,K.center={x:M,y:E},K.radius={outerRadius:R,innerRadius:L},K.hoverOffset=T,K.tooltip={show:!za(h)||h,formatter:s||""},K.pieItems=J)}}function Ce(e){for(var t=0,i=J.length;t<i;t++){var o=J[t],a=o.arcEndAngle,r=o.arcStartAngle,n=o.roseRadius,l=o.itemStyle,h=l.color,s=l.borderWidth,u=l.borderColor,d=l.borderType,c=void 0;if(o.value&&("stroke"===e&&0<s||"fill"===e)){if(V.save(),V.beginPath(),V.moveTo(L*Math.cos(r),L*Math.sin(r)),ie===t?(c=I?n+T+L:R+T,V.arc(0,0,c,r,a,!1),V.arc(0,0,L,a,r,!0),"fill"===e&&(V.globalAlpha=.9,V.shadowBlur=10,V.shadowColor="rgba(0, 0, 0, 0.5)")):(c=I?n+L:R,V.arc(0,0,c,r,a,!1),V.arc(0,0,L,a,r,!0)),V.closePath(),"fill"===e){if("string"==typeof h)V.fillStyle=h;else if("object"===(void 0===h?"undefined":De(h))){var g=h.type,f=h.colorStops,v=null;if("radial"===g)v=V.createRadialGradient(0,0,L,0,0,c);else if("linear"===g){var p=Ba(o,D),x=p.minY,b=p.maxY;v=V.createLinearGradient(0,x,0,b)}if(v&&f instanceof Array){for(var y=0,m=f.length;y<m;y++){var w=f[y],C=w.offset,k=w.color;void 0!==C&&void 0!==k&&v.addColorStop(C,k)}V.fillStyle=v}}V.fill()}else"stroke"===e&&(V.strokeStyle=u,V.lineWidth=s,V.setLineDash("dashed"===d?[2,2]:[]),V.stroke());V.globalAlpha=1,V.restore()}}}},ruler:function(u,d,c,g,f){c.getValue("value");var v=c.getValue("max"),p=c.getValue("min"),e=c.getValue("labelEvery"),t=c.getValue("labelFont"),i=c.getColor("labelColor"),o=c.getValue("labelAlign"),a=c.getValue("labelDistance"),r=c.getValue("labelOffsetX"),n=c.getValue("labelOffsetY"),l=c.getValue("labelFormatter"),x=c.getValue("direction"),b=c.getValue("paddingBefore"),y=c.getValue("paddingAfter"),h=c.getColor("background"),s=c.getValue("smallTickEvery"),m=c.getColor("smallTickColor"),w=c.getValue("smallTickWidth"),C=c.getValue("smallTickLongness"),k=c.getValue("mediumTickEvery"),V=c.getColor("mediumTickColor"),D=c.getValue("mediumTickWidth"),I=c.getValue("mediumTickLongness"),T=c.getValue("largeTickEvery"),_=c.getColor("largeTickColor"),L=c.getValue("largeTickWidth"),S=c.getValue("largeTickLongness"),R=c.getValue("reverse"),P=c.getValue("cursors"),A=d.x,M=d.y,B=d.width,E=d.height;h&&(u.fillStyle=h,u.fillRect(A,M,B,E));var O=v-p,H=E;x!==be&&x!==xe||(H=B);var W=[{every:s,color:m,longness:C,width:w},{every:k,color:V,longness:I,width:D},{every:T,color:_,longness:S,width:L}];if(R){if(W.forEach(function(e){if(e.every){var t=Se(e.longness,H);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,x===ue||x===de){var i=A+B-b,o=(B-b-y)*(e.every/O),a=x===ue?M:M+E;x===de&&(t=0-t);for(var r=p;r<=v;r+=e.every)u.moveTo(i,a),u.lineTo(i,a+t),i-=o}else{var n=M+E-b,l=(E-b-y)*(e.every/O),h=x===be?A:A+B;x===xe&&(t=0-t);for(var s=p;s<=v;s+=e.every)u.moveTo(h,n),u.lineTo(h+t,n),n-=l}u.stroke()}}),e){var j=Se(a,H);if(u.fillStyle=i,u.font=t,x===ue||x===de){var N=A+B-b+r,F=e/O*(B-b-y),z=(x===ue?M:M+E)+n;if(x===de)j=0-j-sr(t,"1").height;else u.textBaseline="hanging";for(var Y=p;Y<=v;Y+=e){var G=l?l(Y):Y,X=sr(t,G);o===ge?Re(u,G,t,i,N-.5*X.width,z+j,X.width,X.height,o,"middle"):o===xe?u.fillText(G,N-sr(t,G).width+2,z+j):o===be&&u.fillText(G,N,z+j),N-=F}}else{var U=M+E-b+n,Z=e/O*(E-b-y),K=(x===be?A:A+B)+r;u.textBaseline="middle",x===xe&&(j=0-j);for(var J=p;J<=v;J+=e){var q=l?l(J):J+"";x===xe?u.fillText(q,K+j-sr(t,q).width+2,U):u.fillText(q,K+j,U),U-=Z}}}P&&P.forEach(function(e){var t=e.value,i=e.color,o=void 0===i?"red":i,a=e.size,r=void 0===a?2:a,n=e.drawTop,l=void 0;if(x===ue||x===de){var h=B-y-b;l=[A+h+b-(t-p)/O*h-r/2,M,r,E]}else{var s=E-b-y;l=[A,M+s+b-(t-p)/O*s-r/2,B,r]}u.fillStyle=o,u.fillRect.apply(u,Me(l)),n&&n(u,d,{x:l[0],y:l[1],width:l[2],height:l[3]},c,g,f)})}else{if(W.forEach(function(e){if(e.every){var t=Se(e.longness,H);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,x===ue||x===de){var i=A+b,o=(B-b-y)*(e.every/O),a=x===ue?M:M+E;x===de&&(t=0-t);for(var r=p;r<=v;r+=e.every)u.moveTo(i,a),u.lineTo(i,a+t),i+=o}else{var n=M+b,l=(E-b-y)*(e.every/O),h=x===be?A:A+B;x===xe&&(t=0-t);for(var s=p;s<=v;s+=e.every)u.moveTo(h,n),u.lineTo(h+t,n),n+=l}u.stroke()}}),e){var Q=Se(a,H);if(u.fillStyle=i,u.font=t,x===ue||x===de){var $=A+b+r,ee=e/O*(B-b-y),te=(x===ue?M:M+E)+n;if(x===de)Q=0-Q-sr(t,"1").height;else u.textBaseline="hanging";for(var ie=p;ie<=v;ie+=e){var oe=l?l(ie):ie,ae=sr(t,oe);o===ge?Re(u,oe,t,i,$-.5*ae.width,te+Q,ae.width,ae.height,o,"middle"):o===xe?u.fillText(oe,$-ae.width+2,te+Q):o===be&&u.fillText(oe,$,te+Q),$+=ee}}else{var re=M+b+n,ne=e/O*(E-b-y),le=(x===be?A:A+B)+r;u.textBaseline="middle",x===xe&&(Q=0-Q);for(var he=p;he<=v;he+=e){var se=l?l(he):he+"";x===xe?u.fillText(se,le+Q-sr(t,se).width+2,re):u.fillText(se,le+Q,re),re+=ne}}}P&&P.forEach(function(e){var t=e.value,i=e.color,o=void 0===i?"red":i,a=e.size,r=void 0===a?2:a,n=e.drawTop,l=void 0;x===ue||x===de?l=[A+b+(t-p)/O*(B-y-b)-r/2,M,r,E]:l=[A,M+b+(t-p)/O*(E-b-y)-r/2,B,r];u.fillStyle=o,u.fillRect.apply(u,Me(l)),n&&n(u,d,{x:l[0],y:l[1],width:l[2],height:l[3]},c,g,f)})}},multilineText:function(i,e,t,o,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getValue("textAlign"),h=t.getValue("color"),s=t.getValue("lineHeight"),u=t.getColor("background"),d=t.getValue("padding"),c=t.getColor("borderColor"),g=t.getValue("borderWidth"),f=t.getValue("borderRadius"),v=t.getValue("dash"),p=t.getValue("dashPattern"),x=e.x,b=e.y,y=e.width,m=e.height,w=ur(d),C=Ie(w,4),k=C[0],V=C[1],D=C[2],I=C[3],T=ur(f),_=Ie(T,4),L=_[0],S=_[1],R=_[2],P=_[3];i.beginPath(),qr(i,x,b,y,m,L,S,P,R),i.closePath(),Vr(i,{borderWidth:g,borderColor:c,dash:v,dashPattern:p,background:u});var A=I,M=k,B=0,E=y-I-V,O=r.split(/\n/),H=O.length*s+k+D,W=I+k;O.forEach(function(e){var t=sr(n,e);B=Math.max(B,t.width),j(i,e,n,h,A,M,E,s,l,"middle"),M+=s}),W+=B,o&&o.constructor===ht.Node&&(o.getWidth()===W&&o.getHeight()===H||(o.setSize(W,H),o.setSize3d(W,100,H)))},slider:function(e,t,i,o,a){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),h=i.getValue("step"),s=i.getValue("sliderImage"),u=i.getValue("sliderBorderWidth"),d=i.getValue("sliderBorderRadius"),c=i.getColor("sliderBorderColor"),g=i.getColor("sliderBackground"),f=i.getValue("sliderWidth"),v=i.getValue("sliderHeight"),p=i.getValue("sliderOffsetX"),x=i.getValue("sliderOffsetY"),b=i.getColor("barBackground"),y=i.getColor("barValueBackground"),m=i.getValue("barGradient"),w=i.getColor("barGradientColor"),C=i.getValue("barWidth"),k=i.getValue("barBorderRadius"),V=i.getValue("padding"),D=i.getValue("disabled"),I=i.getColor("disabledLayerColor"),T=i.getColor("showToolTip"),_=i.getColor("toolTipFormat"),L=Sr(a,o,i);l=Math.min(n,Math.max(r,l));var S=t.x,R=t.y,P=t.width,A=t.height,M=Math.abs(n-r),B={x:S+V,y:R+(A-C)/2,width:P-2*V,height:C};k<1&&(k*=C),zr(e,B,b,k);var E=ht.Default.clone(B);E.width*=(l-r)/M,m&&(y=ht.Default.createGradient(e,m,y,w,B.x,B.y,B.width,B.height)),zr(e,E,y,k);var O=E.x+E.width-f/2+p,H=E.y+(C-v)/2+x;s?W(e,ht.Default.getImage(s),O,H,f,v):(d<1&&(d*=Math.min(f,v)),e.beginPath(),qr(e,O,H,f,v,d),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=c,e.stroke())),D&&(e.fillStyle=I,e.fillRect(S,R,P,A)),L&&(L.disabled=D,L.value=l,L.max=n,L.min=r,L.step=h,L.showToolTip=T,L.toolTipFormat=_,L.barRect=B,L.onChange=i.getValue("onChange"),L.sliderRect={x:O,y:H,width:f,height:v})},rangeSlider:function(e,t,i,o,a){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),h=i.getValue("step"),s=i.getValue("sliderImage"),u=i.getValue("sliderBorderWidth"),d=i.getValue("sliderBorderRadius"),c=i.getColor("sliderBorderColor"),g=i.getColor("sliderBackground"),f=i.getValue("sliderWidth"),v=i.getValue("sliderHeight"),p=i.getValue("sliderOffsetX"),x=i.getValue("sliderOffsetY"),b=i.getColor("barBackground"),y=i.getColor("barValueBackground"),m=i.getValue("barGradient"),w=i.getColor("barGradientColor"),C=i.getValue("barWidth"),k=i.getValue("barBorderRadius"),V=i.getValue("padding"),D=i.getValue("disabled"),I=i.getColor("disabledLayerColor"),T=i.getColor("showToolTip"),_=i.getColor("toolTipFormat"),L=Sr(a,o,i),S=t.x,R=t.y,P=t.width,A=t.height,M=Ie(l,2),B=M[0],E=M[1];B=Math.max(r,B),E=Math.min(n,E);var O=Math.abs(n-r),H={x:S+V,y:R+(A-C)/2,width:P-2*V,height:C};k<1&&(k*=C),zr(e,H,b,k);var W=ht.Default.clone(H);W.width*=(E-B)/O,W.x+=(B-r)/O*H.width,m&&(y=ht.Default.createGradient(e,m,y,w,H.x,H.y,H.width,H.height)),zr(e,W,y,k);var j=W.x-f/2+p,N=W.x+W.width-f/2+p,F=W.y+(C-v)/2+x;s?(Ae(e,ht.Default.getImage(s),j,F,f,v),Ae(e,ht.Default.getImage(s),N,F,f,v)):(d<1&&(d*=Math.min(f,v)),e.beginPath(),qr(e,j,F,f,v,d),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=c,e.stroke()),e.beginPath(),qr(e,N,F,f,v,d),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=c,e.stroke())),D&&(e.fillStyle=I,e.fillRect(S,R,P,A)),L&&(L.disabled=D,L.value=l,L.max=n,L.min=r,L.step=h,L.valueBarDraggable=i.getValue("valueBarDraggable"),L.onChange=i.getValue("onChange"),L.showToolTip=T,L.toolTipFormat=_,L.barRect=H,L.valueBarRect=W,L.sliderRect={x:j,y:F,width:f,height:v},L.sliderRect2={x:N,y:F,width:f,height:v})},multipleComboBox:function(r,e,t,i,o){var a=t.getValue("value"),n=t.getValue("dataSource"),l=t.getValue("placeholder"),h=t.getValue("disabled"),s=t.getValue("borderWidth"),u=t.getColor("borderColor"),d=t.getColor("focusBorderColor"),c=t.getValue("borderRadius"),g=t.getColor("background"),f=t.getColor("focusBackground")||g,v=t.getColor("disabledLayerColor"),p=t.getValue("itemFont"),x=t.getColor("itemTextColor"),b=t.getColor("itemBorderWidth"),y=t.getColor("itemBorderColor"),m=t.getColor("itemBorderRadius"),w=t.getColor("itemBackground"),C=t.getColor("itemGradient"),k=t.getColor("itemGradientColor"),V=t.getValue("itemPadding"),D=t.getValue("itemHGap"),I=t.getValue("itemVGap"),T=t.getValue("closeIconOnLeft"),_=t.getValue("closeIconSize"),L=t.getColor("closeIconColor"),S=t.getValue("padding"),R=Sr(o,i,t),P=R&&R.editing,A=e.x,M=e.y,B=e.width,E=e.height,O=ur(S),H=Ie(O,4),W=H[0],j=H[1],N=H[2],F=H[3],z=ur(c),Y=Ie(z,4),G=Y[0],X=Y[1],U=Y[2],Z=Y[3],K=void 0;i&&P?(K=f,u=d):K=g,r.beginPath(),qr(r,A,M,B,E,G,X,Z,U),r.closePath(),K&&(r.fillStyle=K,r.fill()),(s&&u||P&&s&&d)&&(r.strokeStyle=P?d:u,r.lineWidth=s,r.stroke());var J=[];a&&n&&a.forEach(function(e){for(var t=0;t<n.length;t++)if(e===n[t].value){J.push(n[t]);break}});var q=[],Q=ur(V),$=Ie(Q,4),ee=$[0],te=$[1],ie=$[2],oe=$[3],ae=[A+F-b/2,M+W-b/2,B-F-j+b,E-W-N+b+1];r.save(),r.beginPath(),r.rect.apply(r,ae),r.clip();var re=1,ne=void 0;if(0<J.length){var le=[A+F+b/2,M+W+b/2,B-F-j-b,E-W-N-b],he=le[0],se=le[1],ue=0,de=ur(m),ce=Ie(de,4),ge=ce[0],fe=ce[1],ve=ce[2],pe=ce[3],xe=w;J.forEach(function(e){var t=e.label||e.value,i=sr(p,t);ne=ne||i.height,ue&&he+i.width+D+b+7>le[0]+le[2]&&(he=le[ue=0],se+=ne+I+b+ee+ie,re++);var o=[he,se,i.width+oe+te+_+2,i.height+ee+ie];b&&(r.beginPath(),r.strokeStyle=y,qr.apply(void 0,[r].concat(o,[ge,fe,pe,ve])),r.closePath(),w&&(C&&k&&(xe=ze.apply(void 0,[r,C,w,k].concat(o))),r.fillStyle=xe,r.fill()),r.stroke());var a=[o[0]+oe+i.width+2,o[1]+ee,_,o[3]-ie-ee];T&&(a[0]=o[0]+oe,o[0]+=_+2),o[2]=o[2]-_-2,q.push({value:e.value,rect:a}),r.beginPath(),r.strokeStyle=L,r.lineCap="round",r.moveTo(a[0],a[1]+(a[3]-_)/2),r.lineTo(a[0]+a[2],a[1]+(a[3]-_)/2+_),r.moveTo(a[0]+a[2],a[1]+(a[3]-_)/2),r.lineTo(a[0],a[1]+(a[3]-_)/2+_),r.stroke(),Fe.apply(void 0,[r,t,p,x].concat(o,["center","middle"])),he+=i.width+D+b+oe+te+_+2,ue++})}else if(l){var be=sr(p,l),ye=[A+F,M+W,B-F-j,be.height+ee+ie];Fe.apply(void 0,[r,l,p,Te.placeholderColor].concat(ye,["left","middle"])),ne=be.height}if(r.restore(),h){var me=[A-s/2,M-s/2,B+s,E+s];r.save(),r.beginPath(),qr.apply(void 0,[r].concat(me,[G,X,Z,U])),r.clip(),r.fillStyle=v,r.fill(),r.restore()}i&&(i.__suggestHeight=W+N+(ee+ie+ne)*re+I*(re-1)),R&&(R.value=a,R.valueItemInfo=q,R.disabled=h,R.dataSource=n,R.dropIconWidth=t.getValue("dropIconWidth"),R.dropIconHeight=t.getValue("dropIconHeight"),R.dropRowHeight=t.getValue("dropRowHeight"),R.dropWidth=t.getValue("dropWidth"),R.dropBackground=t.getValue("dropBackground"),R.dropLabelFont=t.getValue("dropLabelFont"),R.dropLabelColor=t.getValue("dropLabelColor"),R.dropActiveLabelColor=t.getValue("dropActiveLabelColor"),R.dropActiveBackground=t.getValue("dropActiveBackground"),R.dropHoverBackground=t.getValue("dropHoverBackground"),R.dropMaxHeight=t.getValue("dropMaxHeight"),R.onChange=t.getValue("onChange"),R.hideSelected=t.getValue("hideSelected"),R.maxSelection=t.getValue("maxSelection"))},richTextPane:function(h,e,t,s,u){var i=t.getValue("content"),o=t.getColor("background"),a=t.getValue("bgGradient"),r=t.getColor("bgGradientColor"),n=t.getValue("showArrow"),d=t.getValue("arrowOrientation"),l=t.getValue("arrowPosition"),c=t.getValue("padding"),g=t.getValue("vGap"),f=t.getValue("hGap"),v=t.getValue("font"),p=t.getValue("color"),x=t.getColor("borderColor"),b=t.getValue("borderWidth")||0,y=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("vAlign"),C=ur(c),k=Ie(C,4),V=k[0],D=(k[1],k[2],k[3]),I=e.x+b/2,T=e.y+b/2,_=e.width-b,L=e.height-b,S=[I,T,_,L];if(h.save(),n)if(h.beginPath(),de===d){var R=_-10;h.moveTo(I,T),h.lineTo(I+_,T),h.lineTo(I+_,T+L-10),h.lineTo(I+R*l+10,T+L-10),h.lineTo(I+R*l+5,T+L),h.lineTo(I+R*l,T+L-10),h.lineTo(I,T+L-10),h.closePath(),S=[I,T,_,L-10]}else if(be===d){var P=L-10;h.moveTo(I+10,T),h.lineTo(I+_,T),h.lineTo(I+_,T+L),h.lineTo(I+10,T+L),h.lineTo(I+10,T+P*l+10),h.lineTo(I,T+P*l+5),h.lineTo(I+10,T+P*l),h.closePath(),S=[I+10,T,_-10,L]}else if(xe===d){var A=L-10;h.moveTo(I,T),h.lineTo(I+_-10,T),h.lineTo(I+_-10,T+A*l),h.lineTo(I+_,T+A*l+5),h.lineTo(I+_-10,T+A*l+10),h.lineTo(I+_-10,T+L),h.lineTo(I,T+L),h.closePath(),S=[I,T,_-10,L]}else{var M=_-10;h.moveTo(I+M*l,T+10),h.lineTo(I+M*l+5,T),h.lineTo(I+M*l+10,T+10),h.lineTo(I+_,T+10),h.lineTo(I+_,T+L),h.lineTo(I,T+L),h.lineTo(I,T+10),h.closePath(),S=[I,T+10,_,L-10]}else h.beginPath(),h.rect(I,T,_,L);if(Vr(h,{borderWidth:b,borderColor:x,background:o,bgGradient:a,bgGradientColor:r,contentRect:S,dash:y,dashPattern:m}),o){var B;if(a)o=(B=ht.Default).createGradient.apply(B,[h,a,o,r].concat(Me(S)));h.fillStyle=o,h.fill()}if(x&&b&&(h.lineWidth=b,h.strokeStyle=x,h.stroke()),h.textAlign="left",i){i.length;var E=T+V+(d===ue?10:0);i.forEach(function(e,t){var r=I+D+(d===be?10:0),n=0,l=(i.length,[]);e.forEach(function(e,t){var i=Fr(e.text,s,u),o=sr(e.font||v,i);n=Math.max(n,o.height),o.width,l[t]=o.width}),e.forEach(function(e,t){var i=Fr(e.text,s,u),o=Fr(e.font,s,u)||v,a=Fr(e.vAlign,s,u)||w;h.fillStyle=Fr(e.color,s,u)||p,h.font=o,"top"===(h.textBaseline=a)?h.fillText(i,r,E):"middle"===a?h.fillText(i,r,E+n/2):h.fillText(i,r,E+n),r+=l[t]+f}),n,E+=g+n})}h.restore()},textBox:function(o,e,t,i,a){var r=t.getValue("content"),n=t.getValue("autoScale"),l=t.getValue("font"),h=t.getValue("wordBreak"),s=t.getValue("vAlign"),u=t.getColor("color"),d=t.getValue("lineHeight"),c=t.getValue("textAlign"),g=t.getValue("padding"),f=t.getColor("background"),v=t.getValue("fillContent"),p=t.getColor("borderColor"),x=t.getValue("borderWidth"),b=t.getValue("borderRadius"),y=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("bgGradient"),C=t.getColor("bgGradientColor"),k=t.getValue("translateX"),V=t.getValue("translateY"),D=t.getColor("scrollBarColor"),I=t.getValue("scrollable"),T=t.getValue("autoHideScrollBar"),_=t.getValue("scrollBarWidth"),L=t.getValue("scrollBarWidthAbsolute"),S=t.getValue("underline"),R=ur(g),P=Ie(R,4),A=P[0],M=P[1],B=P[2],E=P[3],O=ur(b),H=Ie(O,4),W=H[0],j=H[1],N=H[2],F=H[3];if(o.beginPath(),qr(o,e.x,e.y,e.width,e.height,W,j,F,N),o.closePath(),Vr(o,{borderWidth:x,borderColor:p,dash:y,dashPattern:m,background:f,bgGradient:w,bgGradientColor:C,contentRect:[e.x,e.y,e.width,e.height]}),r&&i){o.save();var z=e.x,Y=e.y,G=z+E,X=Y+A,U=parseInt(e.width)-E-M,Z=parseInt(e.height)-A-B,K=$a(r,l,U,h);if(n&&K.length*d>Z){var J=U+"-"+Z+l+d,q=st[J];q=q||(st[J]={});var Q=0,$=0,ee=void 0,te=void 0,ie=void 0,oe=void 0,ae=void 0,re=void 0;if(s="top",q&&q[r])te=1/(ee=q[r]),oe=ee*d,re=parseInt(U*te),o.scale(ee,ee),K=$a(r,l,re,h);else{for(;Q<4;){if(te=1/(ee=Math.sqrt(Z/((K.length+$)*d))),oe=ee*d,re=parseInt(U*te),ae&&o.scale(ae,ae),o.scale(ee,ee),(ie=$a(r,l,re,h)).length*oe>Z)$+=Math.ceil((ie.length*oe-Z)/oe+.5),ae=te;else{if(!(ie.length*oe<Z&&Math.abs(Z-ie.length*oe)>2*oe)){K=ie;break}$-=Math.floor((Z-ie.length*oe)/oe),ae=te}4==++Q&&(K=ie)}q[r]=ee}G=(z+E)*te,X=(Y+A)*te,K.forEach(function(e,t){if(ht.Default.drawText(o,e,l,u,G,X,re,oe,c,s),S){var i=sr(l,e);lt(o,{x:G,y:X,height:d,width:re},i.width,c,u)}X+=d})}else if(v&&(K.length+1)*d<Z){var ne=U+"-"+Z+l+d,le=st[ne];le=le||(st[ne]={});var he=0,se=void 0,ue=void 0,de=void 0,ce=void 0,ge=void 0,fe=void 0;if(s="top",le&&le[r])ue=1/(se=le[r]),ce=se*d,fe=parseInt(U*ue),o.scale(se,se),K=$a(r,l,fe,h);else{for(var ve=Math.sqrt(Z/(K.length*d));he<4;){if(ue=1/(se=ve),ce=se*d,fe=parseInt(U*ue),ge&&o.scale(ge,ge),o.scale(se,se),!((de=$a(r,l,fe,h)).length*ce>Z||de.length*ce<Z&&Z-de.length*ce>.8*ce)){K=de;break}ge=ue,ve*=Math.sqrt(Z/(de.length*ce)),4==++he&&(K=de)}le[r]=se}G=(z+E)*ue,X=(Y+A)*ue,K.forEach(function(e,t){if(ht.Default.drawText(o,e,l,u,G,X,fe,ce,c,s),S){var i=sr(l,e);lt(o,{x:G,y:X,height:d,width:fe},i.width,c,u)}X+=d})}else if(!n&&I){var pe=z+E,xe=Y+A,be=xe-d,ye=xe+Z+d;o.save(),o.beginPath(),o.rect(pe,xe,U,Z),o.clip(),X+=V,K.forEach(function(e,t){if(be<=X&&X<ye&&(ht.Default.drawText(o,e,l,u,G,X,U,d,c,s),S)){var i=sr(l,e);lt(o,{x:G,y:X,height:d,width:U},i.width,c,u)}X+=d}),o.restore();var me=Sr(a,i,t),we=U,Ce=K.length*d,ke=a.getZoom?a.getZoom():1,Ve=L?_/ke:_;me&&(me.translateX=k,me.translateY=V,me.autoHideScrollBar=T),Be(o,{x:G,y:Y+A,width:U,height:Z},{width:we,height:Ce},{x:k,y:V},{visible:!T||me.scrollBarVisible,color:D,gap:0,barWidth:Ve},me||{})}else"middle"===s?X+=(Z-K.length*d)/2:"bottom"===s&&(X+=Z-K.length*d),K.forEach(function(e,t){if(ht.Default.drawText(o,e,l,u,G,X,U,d,c,s),S){var i=sr(l,e);lt(o,{x:G,y:X,height:d,width:U},i.width,c,u)}X+=d});o.restore()}},textEllipsis:function(e,t,i,o,a){var r,n=i.getValue("content"),l=i.getValue("font"),h=i.getValue("align"),s=i.getValue("vAlign"),u=i.getColor("color"),d=i.getValue("padding"),c=i.getColor("background"),g=i.getColor("borderColor"),f=i.getValue("borderWidth"),v=i.getValue("borderRadius"),p=i.getValue("dash"),x=i.getValue("dashPattern"),b=i.getValue("bgGradient"),y=i.getColor("bgGradientColor"),m=ur(d),w=Ie(m,4),C=w[0],k=w[1],V=w[2],D=w[3],I=ur(v),T=Ie(I,4),_=T[0],L=T[1],S=T[2],R=T[3];e.beginPath(),qr(e,t.x,t.y,t.width,t.height,_,L,R,S),e.closePath(),Vr(e,{borderWidth:f,borderColor:g,dash:p,dashPattern:x,background:c,bgGradient:b,bgGradientColor:y,contentRect:[t.x,t.y,t.width,t.height]});for(var P=[t.x+D,t.y+C,t.width-D-k,t.height-C-V],A=P[2],M="",B=0;B<n.length;B++){M+=n[B];var E=sr(l,M+"...").width;if(E<=A&&B==n.length-1){n=M;break}if(A<E){n=(M=M.slice(0,M.length-1))+"...";break}}(r=ht.Default).drawText.apply(r,[e,n,l,u].concat(P,[h,s]))},verticalTextBox:function(o,e,t,i,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getColor("color"),h=t.getValue("padding"),s=t.getValue("startOnRight"),u=t.getColor("background"),d=t.getColor("borderColor"),c=t.getValue("borderWidth"),g=t.getValue("borderRadius"),f=t.getValue("dash"),v=t.getValue("dashPattern"),p=t.getValue("bgGradient"),x=t.getColor("bgGradientColor"),b=t.getValue("wordBreak"),y=t.getValue("vGap"),m=t.getValue("hGap"),w=t.getValue("autoWrap"),C=ur(h),k=Ie(C,4),V=k[0],D=k[1],I=k[2],T=k[3],_=ur(g),L=Ie(_,4),S=L[0],R=L[1],P=L[2],A=L[3];if(o.beginPath(),qr(o,e.x,e.y,e.width,e.height,S,R,A,P),o.closePath(),Vr(o,{borderWidth:c,borderColor:d,dash:f,dashPattern:v,background:u,bgGradient:p,bgGradientColor:x,contentRect:[e.x,e.y,e.width,e.height]}),r){var M={x:e.x+T,y:e.y+V,width:e.width-T-D,height:e.height-V-I},B=M.x,E=M.y,O=M.width,H=w?function(e,g,f,v,p){var x=[];return e.split("\n").forEach(function(e){if(""===e&&(e=Y),p)Array.prototype.push.apply(x,ut(e,f,g,v));else{for(var t,i,o,a="",r=void 0,n=void 0,l="",h=0;h<e.length;h++){e.charAt(h).match(/[a-z|A-Z]/g)?a+="1":a+="2"}a=(a=a.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var s=0;s<a.length;s++){a.charAt(s).match(/\_/g)&&(e=br(e,s+1,"|"))}t=e.split("|"),i=a.split("_");for(var u=(o=sr(g,"图")).height/3,d=0,c=t.length;d<c;d++)r=l+t[d],u+=o.height*t[d].length+v,"1"===i[d][0]?f<u?(l?(x.push(l),l="",d--):(n=ut(t[d],f,g,v),Array.prototype.push.apply(x,n.slice(0,n.length-1)),l=n[n.length-1]),u=o.height/3):u===f?(x.push(r),l="",u=o.height/3):l=r:f<u?(n=ut(r,f,g,v),Array.prototype.push.apply(x,n.slice(0,n.length-1)),l=n[n.length-1],u=o.height/3):l=r;l&&x.push(l)}}),x}(r,n,M.height,y,b):[r],W=sr(n,"图"),j=W.width,N=W.height,F=void 0,z=void 0;o.save(),o.fillStyle=l,o.textBaseline="top",o.font=n,s?(F=B+O-j,z=E,H.forEach(function(e){for(var t=0;t<e.length;t++){var i=e[t];o.fillText(i,F,z),z+=y+N}z=E,F=F-j-m})):(F=B,z=E,H.forEach(function(e){for(var t=0;t<e.length;t++){var i=e[t];o.fillText(i,F,z),z+=y+N}z=E,F+=j+m})),o.restore()}},tree:function(I,T,e,_,L){var t=e.getValue("dataSource"),S=e.getValue("itemHeight"),R=e.getValue("badgeHeight"),P=e.getValue("badgeSpace"),A=e.getValue("badgeRadius"),M=e.getValue("translateX"),i=e.getValue("translateY"),o=e.getValue("borderWidth"),B=e.getValue("rowLineWidth"),a=e.getValue("treeFont"),E=e.getValue("badgeFont"),O=e.getColor("textColor"),H=e.getColor("hoverBackColor"),W=e.getColor("hoverTextColor"),j=e.getColor("selectBackColor"),N=e.getColor("selectTextColor"),r=e.getColor("backColor"),n=e.getColor("borderColor"),F=e.getValue("rowLineColor"),l=e.getValue("showLine"),z=e.getValue("showCheckbox"),Y=e.getValue("showIcon"),G=e.getValue("showBadge"),X=e.getValue("visibleFunc")||function(){return!0},U=e.getColor("itemBackColor"),h=Sr(L,_,e),s=null,Z=null,u=T.x,d=T.y,c=T.width,g=T.height,K=0,J=-B,q={togglesRect:[],visibleRowsRect:[],checksRect:[],badgesRect:[]};if(h&&(h.treeTableDataModel?s=h.treeTableDataModel:(s=new $e,h.treeTableDataModel=s),s.reset(e,T),s.init(t),z&&s.eachByBreadthFirst(function(e){e.a("checked")&&(e.checkAfter(),e.checkBefore())})),s){var Q=s.getTreeIconInfo(e);r&&(I.save(),I.fillStyle=r,I.beginPath(),I.fillRect(u,d,c,g),I.restore()),I.save(),I.font=a,I.fillStyle=O,I.textBaseline="top",I.textAlign="start";var $=2*I.measureText("e").width;I.beginPath(),I.rect(u,d,c,g),I.clip();var ee=[];s.getRoots().each(function e(t){if(X(t.a("dataInfo"))){t.a("treeTextWH",{textWidth:I.measureText(t.a("text")).width+2,textHeight:$}),t.initNodeRect(Z,_,L);var i=(Z=t).a("rowRect"),o=t.a("treeTextRect"),a=o.x,r=o.width,n={x:i.x-M,y:i.y,width:i.width,height:i.height};if(J+=S+B,K=Math.max(K,a-M+r),tt(T,n)){var l=t.a("_isHovering"),h=t.a("selected"),s=t.a("disabled");if(U){var u=n.x,d=n.y,c=n.width,g=n.height;I.save(),I.fillStyle=U,I.fillRect(u,d,c,g+1),I.restore()}if(H&&l){var f=n.x,v=n.y,p=n.width,x=n.height;I.save(),I.fillStyle=H,I.fillRect(f,v,p,x),I.restore()}if(j&&h){var b=n.x,y=n.y,m=n.width,w=n.height;I.save(),I.fillStyle=j,I.fillRect(b,y,m,w),I.restore()}if(t.drawTreeToggleIcon(I,_,L,Q,q),z&&t.drawTreeCheckIcon(I,_,L,Q,q),Y&&t.drawTreeIcon(I,_,L,Q),G&&t.drawTreeBadge(I,_,L,{badgeFont:E,badgeHeight:R,badgeSpace:P,badgeRadius:A},q),t.drawTreeText(I,_,L,{textColor:O,selectTextColor:N,hoverTextColor:W}),s){var C=n.x,k=n.y,V=n.width,D=n.height;I.save(),I.fillStyle="rgba(192, 192, 192, 0.5)",I.fillRect(C,k,V,D),I.restore()}t.drawRowLine(I,{rowLineWidth:B,rowLineColor:F},n),q.visibleRowsRect.push({node:t,visibleRowRect:n}),ee.push(t)}t.a("expanded")&&t.getChildren().each(e)}}),l&&s.drawTreeCable(I,ee,X),s.drawBorder(I,n),I.restore(),h&&(h.translateX=M,h.translateY=i,h.rectInfo=q);var f={x:u+o,y:d+o,width:c-2*o,height:g-2*o};s.drawScrollBar(I,e,L,h,K,J,f)}},treeTable:function(L,S,R,P,A){var e=R.getValue("dataSource"),M=R.getValue("translateX"),t=R.getValue("translateY"),i=R.getValue("borderWidth"),o=R.getColor("borderColor"),a=R.getValue("columnLineWidth"),r=R.getColor("columnLineColor"),B=R.getValue("rowLineWidth"),E=R.getColor("rowLineColor"),n=R.getValue("showLine"),O=R.getValue("showCheckbox"),H=R.getValue("showIcon"),l=R.getColor("lineColor"),h=R.getValue("showHead"),s=R.getValue("thHeight"),W=R.getValue("tdHeight"),j=R.getValue("tdFont"),u=R.getColor("thColor"),N=R.getColor("tdColor"),d=R.getColor("thBackground"),F=R.getColor("tdBackground"),z=R.getValue("visibleFunc")||function(){return!0},Y=R.getValue("drawRow"),G=R.getColor("hoverTextColor"),X=R.getColor("hoverBackColor"),U=R.getColor("selectTextColor"),Z=R.getColor("selectBackColor"),c=Sr(A,P,R),g=null,K=null,f=S.x,v=S.y,p=S.width,x=S.height,b=0,J=h?s:-B,q={togglesRect:[],visibleRowsRect:[],checksRect:[],headCellsRect:[]};if(c&&(c.treeTableDataModel?g=c.treeTableDataModel:(g=new $e,c.treeTableDataModel=g),g.reset(R,S,c),g.init(e),O&&g.eachByBreadthFirst(function(e){e.a("checked")&&(e.checkAfter(),e.checkBefore())})),g){var Q=g.a("visibleColumns"),$=g.getTreeIconInfo(R),ee=g.a("treeColumnIndex");L.save(),n&&(L.strokeStyle=l,L.setLineDash([1,1]),L.lineWidth=.5,L.lineJoin="miter"),L.font=j,L.fillStyle=N,L.textBaseline="top",L.textAlign="start";var te=2*L.measureText("e").width;L.beginPath(),L.rect(f,v,p,x),L.clip();var ie=0,oe=[];g.getRoots().each(function e(t){if(z(t.a("dataInfo"))){t.a("treeTextWH",{textWidth:L.measureText(t.a("text")).width+2,textHeight:te}),t.initNodeRect(K),ie++;var i=(K=t).a("rowRect"),o={x:i.x-M,y:i.y,width:i.width,height:i.height};if(J+=W+B,it(S,o)){var a=t.a("cellsRect"),r=a.length,n=t.a("_isHovering"),l=t.a("selected"),h=t.a("disabled");if(t.drawTableRow(L,{comp:R,visibleRowRect:o,tdBackground:F,drawRow:Y}),X&&n){var s=o.x,u=o.y,d=o.width,c=o.height;L.save(),L.fillStyle=X,L.fillRect(s,u,d,c),L.restore()}if(Z&&l){var g=o.x,f=o.y,v=o.width,p=o.height;L.save(),L.fillStyle=Z,L.fillRect(g,f,v,p),L.restore()}if(0<r)for(var x=0;x<r;x++){var b=a[x],y=b.x,m=b.y,w=b.width,C=b.height,k=Q[x],V=t.getTextColor({textColor:N,hoverTextColor:G,selectTextColor:U},k);L.save(),L.beginPath(),V!==N&&(L.fillStyle=V),x==ee?(L.rect(y,S.y,w,S.height),L.clip(),t.drawTreeToggleIcon(L,P,A,$,q),O&&t.drawTreeCheckIcon(L,P,A,$,q),H&&t.drawTreeIcon(L,P,A,$),t.drawTreeText(L,P,A,{textColor:V,selectTextColor:U,hoverTextColor:G})):(L.rect(y,m,w,C),L.clip(),t.drawTableCell(L,{comp:R,data:P,column:k,cellRect:b,tdFont:j,tdColor:V,colIndex:x,textHeight:te,visibleRowIndex:ie})),L.restore()}if(h){var D=o.x,I=o.y,T=o.width,_=o.height;L.save(),L.fillStyle="rgba(192, 192, 192, 0.5)",L.fillRect(D,I,T,_),L.restore()}t.drawRowLine(L,{rowLineWidth:B,rowLineColor:E},o),q.visibleRowsRect.push({node:t,visibleRowRect:o}),oe.push(t)}t.a("expanded")&&t.getChildren().each(e)}}),n&&g.drawTreeCable(L,oe,z),g.drawTableHead(L,c,{comp:R,data:P,columnLineColor:r,thColor:u,thBackground:d}),g.drawBorder(L,o),g.drawDragColumnLine(L,c),L.restore();for(var y=g.a("columnsRect"),m=0,w=y.length;m<w;m++){b+=y[m].width,m!==w-1&&(b+=a)}c&&(c.translateX=M,c.translateY=t,c.rectInfo=q);var C={x:f+i,y:v+i,width:p-2*i,height:x-2*i};g.drawScrollBar(L,R,A,c,b,J,C)}},chart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),h=i.getValue("colors"),s=i.getColor("background"),u=i.getValue("onRectSelected"),d=i.getValue("rectSelectBorderColor"),c=i.getValue("rectSelectBackground"),g=i.getValue("boundaryGap"),f={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor"),formatter:i.getValue("tooltipFormatter")};if(r&&r.length){var v={color:h&&h.length?h:pa,xAxis:jo(n,va),yAxis:jo(l,fa),series:r,tooltip:f,onRectSelected:u,rectSelectBorderColor:d,rectSelectBackground:c},p={data:o,view:a,boundaryGap:g,rect:e,contentRect:Va(e),valueAxis:te,seriesDatas:r.map(function(e){return!1===e.visible?[]:Fr(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(v.xAxis.forEach(function(e){e._axisObj=new ya(e,v,p)}),v.yAxis.forEach(function(e){e._axisObj=new wa(e,v,p)}),Wo(v,p),o){var x=Sr(a,o,i);if(x){var b=x;p.hoverIndex=b.hoverIndex,p._dragging=b._dragging,p.rectPoint1=b.rectPoint1,p.rectPoint2=b.rectPoint2,b._dragging&&b.rectPoint1&&b.rectPoint2&&(p.selectRect=Da(b.rectPoint1,b.rectPoint2))}}if(s&&(t.fillStyle=s,t.fillRect(e.x,e.y,e.width,e.height)),v.xAxis.forEach(function(e){e._axisObj.draw(t)}),v.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(a,r,n){var e=r.series,t=n.interactiveInfo.axisInfos=r.xAxis.map(function(e){return e._axisObj.axisInfos.map(function(e){return{position:e.position,label:e.label,series:[]}})});if(n.barSeries=[],n.barCategoryGap=null,e.forEach(function(e,t){e.type===D&&!1!==e.visible&&(n.barSeries.push(e),Zr(e.barCategoryGap)&&(n.barCategoryGap=e.barCategoryGap))}),e.forEach(function(e,t){var i=e.type,o=void 0;i===I?o=ca:i===D&&(o=ga),o&&o(a,e,t,r,n)}),void 0!==n.hoverIndex){var i=t[0][n.hoverIndex].position,o=n.bounds.bodyRect;a.strokeStyle=r.tooltip.lineColor,a.lineWidth=r.tooltip.lineWidth,a.beginPath(),a.moveTo(i,o.y),a.lineTo(i,o.y+o.height),a.stroke(),n._hoverHandlers&&n._hoverHandlers.forEach(function(e){e()})}}(t,v,p),p.selectRect){var y=p.selectRect,m=y.x,w=y.y,C=y.width,k=y.height;t.fillStyle=c,t.fillRect(m,w,C,k),t.strokeStyle=d,t.strokeRect(m,w,C,k)}if(v.xAxis.forEach(function(e){e._axisObj.drawMarkLine(t)}),v.yAxis.forEach(function(e){e._axisObj.drawMarkLine(t)}),o){var V=Sr(a,o,i);V.ui=p,V.option=v}}},radioButton:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("values")||[],l=i.getValue("labels")||[],h=i.getValue("borderWidth"),s=i.getValue("borderRadius"),u=i.getValue("font"),d=i.getColor("labelColor"),c=i.getColor("borderColor"),g=i.getColor("background"),f=i.getColor("hoverLabelColor"),v=i.getColor("hoverBorderColor"),p=i.getColor("hoverBackground"),x=i.getColor("activeLabelColor"),b=i.getColor("activeBorderColor"),y=i.getColor("activeBackground"),m=i.getColor("disabledLabelColor"),w=i.getColor("disabledBorderColor"),C=i.getColor("disabledBackground"),k=i.getValue("vertical"),V=i.getValue("onChange"),D=i.getValue("disabled"),I=Sr(a,o,i),T=t.x,_=t.y,L=t.width,S=t.height,R=Math.min(n.length,l.length);if(R){if(ft=vt=null,Zr(r)){var P=n.indexOf(r);vt=0<=P?P:null}I&&Zr(I.hoverIndex)&&(ft=I.hoverIndex);for(var A=[],M=0;M<R;M++)M!==ft&&M!==vt&&A.push(M);Zr(ft)&&ft===vt?A.push(ft):(Zr(vt)&&A.push(vt),Zr(ft)&&A.push(ft));var B,E,O,H,W,j,N,F,z,Y,G,X,U,Z,K,J,q,Q,$,ee,te,ie,oe,ae,re,ne,le,he,se=[];if(k)for(var ue=S/R,de=0;de<A.length;de++){var ce=A[de],ge=l[ce],fe={x:T,y:_+ce*ue,width:L,height:ue};se.push({rect:fe,index:ce});var ve=dt(ce,D,d,f,x,m),pe=dt(ce,D,c,v,b,w),xe=dt(ce,D,g,p,y,C);K=e,J=fe,q=ct(ce,R),Q=s,$=ge,ee=u,te=ve,ie=h,oe=pe,ae=xe,void 0,re=J.x,ne=J.y,le=J.width,he=J.height,K.save(),K.beginPath(),0===q?qr(K,re,ne,le,he,Q,Q,0,0):1===q?qr(K,re,ne,le,he,0):2===q?qr(K,re,ne,le,he,0,0,Q,Q):qr(K,re,ne,le,he,Q),K.closePath(),ae&&(K.fillStyle=ae,K.fill()),oe&&ie&&(K.strokeStyle=oe,K.stroke()),K.clip(),gt(K,$,ee,te,re,ne,le,he,"center","middle"),K.restore()}else for(var be=L/R,ye=0;ye<A.length;ye++){var me=A[ye],we=l[me],Ce={x:T+be*me,y:_,width:be,height:S};se.push({rect:Ce,index:me});var ke=dt(me,D,d,f,x,m),Ve=dt(me,D,c,v,b,w),De=dt(me,D,g,p,y,C);B=e,E=Ce,O=ct(me,R),H=s,W=we,j=u,N=ke,F=h,z=Ve,Y=De,void 0,G=E.x,X=E.y,U=E.width,Z=E.height,B.save(),B.beginPath(),0===O?qr(B,G,X,U,Z,H,0,H,0):1===O?qr(B,G,X,U,Z,0):2===O?qr(B,G,X,U,Z,0,H,0,H):qr(B,G,X,U,Z,H),B.closePath(),Y&&(B.fillStyle=Y,B.fill()),z&&F&&(B.strokeStyle=z,B.stroke()),B.clip(),gt(B,W,j,N,G,X,U,Z,"center","middle"),B.restore()}I&&(I.disabled=D,I.onChange=V,I.buttonRects=se,I.values=n)}},carousel:function(e,t,i,o,a){var r=i.getValue("dataSource"),n=i.getValue("minScale"),l=i.getValue("minOpacity"),h=i.getValue("vertical"),s=i.getValue("index"),u=i.getValue("gap"),d=i.getValue("itemWidth"),c=i.getValue("itemHeight"),g=i.getColor("itemBackground"),f=i.getColor("itemColor"),v=i.getValue("font"),p=i.getColor("background"),x=i.getValue("drawItem"),b=i.getValue("animation"),y=i.getValue("onClickItem"),m=Sr(a,o,i),w=t.x,C=t.y,k=t.width,V=t.height,D=s%1;if(s|=0,p&&(e.fillStyle=p,e.fillRect(w,C,k,V)),r&&r.length&&d&&c){var I,T,_=1-l,L=[],S=void 0;if(I=(1-n)/(S=h?pt(c,V,u,n):pt(d,k,u,n)),T=_/S,e.save(),e.beginPath(),e.rect(w,C,k,V),e.clip(),h){for(var R=w+k/2,P=C+V/2-c/2-u-D*c,A=0;A<S;A++){var M=n+I*(S-A-1-D),B=l+T*(S-A-1-D),E=s-A-1;if(E<0||E>=r.length)break;var O=r[E],H=[(R-d*M/2)/M,(P-=c*M)/M,d,c];e.save(),e.globalAlpha=B,e.scale(M,M),x?x(e,O,Tr(H),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,H)),Jr.apply(void 0,[e,O,v,f].concat(H,[ge,fe]))),e.restore(),P-=u,L.push({index:E,rect:{x:H[0]*M,y:H[1]*M,width:H[2]*M,height:H[3]*M}})}P=C+V/2+c/2+u-D*(c+u);for(var W=0;W<S;W++){var j=n+I*(S-W-1+D),N=l+T*(S-W-1+D),F=s+W+1;if(F<0||F>=r.length)break;var z=r[F],Y=[(R-d*j/2)/j,P/j,d,c];e.save(),e.globalAlpha=N,e.scale(j,j),x?x(e,z,Tr(Y),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,Y)),Jr.apply(void 0,[e,z,v,f].concat(Y,[ge,fe]))),e.restore(),P+=c*j+u,L.push({index:F,rect:{x:Y[0]*j,y:Y[1]*j,width:Y[2]*j,height:Y[3]*j}})}P=C+V/2-c/2-D*c;var G=r[s];if(G){var X=1-I*D,U=1-T*D,Z=[(R-d*X/2)/X,P/X,d,c];e.save(),e.globalAlpha=U,e.scale(X,X),x?x(e,G,Tr(Z),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,Z)),Jr.apply(void 0,[e,G,v,f].concat(Z,[ge,fe]))),e.restore(),L.push({index:s,rect:{x:Z[0]*X,y:Z[1]*X,width:Z[2]*X,height:Z[3]*X}})}}else{for(var K=C+V/2,J=w+k/2-d/2-u-D*d,q=0;q<S;q++){var Q=n+I*(S-q-1-D),$=l+T*(S-q-1-D),ee=s-q-1;if(ee<0||ee>=r.length)break;var te=r[ee],ie=[(J-=d*Q)/Q,(K-c*Q/2)/Q,d,c];e.save(),e.globalAlpha=$,e.scale(Q,Q),x?x(e,te,Tr(ie),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,ie)),Jr.apply(void 0,[e,te,v,f].concat(ie,[ge,fe]))),e.restore(),J-=u,L.push({index:ee,rect:{x:ie[0]*Q,y:ie[1]*Q,width:ie[2]*Q,height:ie[3]*Q}})}J=w+k/2+d/2+u-D*(d+u);for(var oe=0;oe<S;oe++){var ae=n+I*(S-oe-1+D),re=l+T*(S-oe-1+D),ne=s+oe+1;if(ne<0||ne>=r.length)break;var le=r[ne],he=[J/ae,(K-c*ae/2)/ae,d,c];e.save(),e.globalAlpha=re,e.scale(ae,ae),x?x(e,le,Tr(he),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,he)),Jr.apply(void 0,[e,le,v,f].concat(he,[ge,fe]))),e.restore(),J+=d*ae+u,L.push({index:ne,rect:{x:he[0]*ae,y:he[1]*ae,width:he[2]*ae,height:he[3]*ae}})}J=w+k/2-d/2-D*d;var se=r[s];if(se){var ue=1-I*D,de=1-T*D,ce=[J/ue,(K-c*ue/2)/ue,d,c];e.save(),e.globalAlpha=de,e.scale(ue,ue),x?x(e,se,Tr(ce),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,ce)),Jr.apply(void 0,[e,se,v,f].concat(ce,[ge,fe]))),e.restore(),L.push({index:s,rect:{x:ce[0]*ue,y:ce[1]*ue,width:ce[2]*ue,height:ce[3]*ue}})}}e.restore(),m&&(m.itemInfos=L,m.index=s,m.animation=b,m.dataSource=r,m.onClickItem=y,m.scrollable=i.getValue("scrollable"))}},carousel2:function(e,t,i,o,a){var r=i.getValue("dataSource"),n=i.getValue("vertical"),l=i.getValue("gap"),h=i.getValue("itemWidth"),s=i.getValue("itemHeight"),u=i.getColor("itemBackground"),d=i.getColor("itemColor"),c=i.getValue("font"),g=i.getColor("background"),f=i.getValue("drawItem"),v=i.getValue("offset")||0,p=(Sr(a,o,i),t.x),x=t.y,b=t.width,y=t.height;if(g&&(e.fillStyle=g,e.fillRect(p,x,b,y)),r&&r.length&&h&&s){e.save(),e.beginPath(),e.rect(p,x,b,y),e.clip();var m=r.length;if(n){var w=s+l,C=x+v,k=p+(b-h)/2,V=0;if((C%=w*r.length)<=x)for(;;){if(Dr({x:k,y:C,width:h,height:s},t))break;V++,C+=w}else if(x<C)for(;;){if(!Dr({x:k,y:C,width:h,height:s},t)&&C<x){C+=w,V++;break}C-=w,V--}for(;;){var D={x:k,y:C,width:h,height:s};if(!Dr(D,t))break;var I,T=V%m;T<0&&(T=m+V),I=r[T],f?f(e,I,D,o,a):(u&&(e.fillStyle=u,e.fillRect(k,C,h,s)),Jr(e,I,c,d,k,C,h,s,ge,fe)),C+=w,V++}}else{var _=h+l,L=x+(y-s)/2,S=p+v,R=0;if((S%=_*r.length)<=p)for(;;){if(Dr({x:S,y:L,width:h,height:s},t))break;R++,S+=_}else if(p<S)for(;;){if(!Dr({x:S,y:L,width:h,height:s},t)&&S<p){S+=_,R++;break}S-=_,R--}for(;;){var P={x:S,y:L,width:h,height:s};if(!Dr(P,t))break;var A,M=R%m;M<0&&(M=m+R),A=r[M],f?f(e,A,P,o,a):(u&&(e.fillStyle=u,e.fillRect(S,L,h,s)),Jr(e,A,c,d,S,L,h,s,ge,fe)),S+=_,R++}}e.restore()}},timeAxisChart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),h=i.getValue("colors"),s=i.getColor("background"),u=i.getValue("onRectSelected"),d=i.getValue("rectSelectBorderColor"),c=i.getValue("rectSelectBackground"),g=i.getValue("maxVisiblePoint"),f=i.getValue("endProtectPoint"),v=i.getValue("xAxisRange"),p={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor"),pattern:i.getValue("tooltipLinePattern"),formatter:i.getValue("tooltipFormatter")};if(r&&r.length){n&&!Xr(n)&&(n=[n]),l&&!Xr(l)&&(l=[l]);var x={series:r,xAxis:n,yAxis:l,color:h},b={color:h&&h.length?h:pa,xAxis:jo(n,Ia),yAxis:jo(l,fa),series:r,tooltip:p,onRectSelected:u,rectSelectBorderColor:d,rectSelectBackground:c},y={data:o,view:a,maxVisiblePoint:g,endProtectPoint:f,xAxisRange:v,originalOption:x,rect:e,contentRect:Gr(e),valueAxis:te,seriesDatas:r.map(function(e){return!1===e.visible?[]:Fr(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(b.xAxis.forEach(function(e){e._axisObj=new Ta(e,b,y)}),b.yAxis.forEach(function(e){e._axisObj=new wa(e,b,y)}),Wo(b,y),o){var m=Sr(a,o,i);if(m){var w=m;y.hoverTime=w.hoverTime,y._dragging=w._dragging,y.rectPoint1=w.rectPoint1,y.rectPoint2=w.rectPoint2,w._dragging&&w.rectPoint1&&w.rectPoint2&&(y.selectRect=$r(w.rectPoint1,w.rectPoint2))}}if(s&&(t.fillStyle=s,t.fillRect(e.x,e.y,e.width,e.height)),b.xAxis.forEach(function(e){e._axisObj.draw(t)}),b.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(i,o,a){if(o.series.forEach(function(e,t){"line"===e.type&&La(i,e,t,o,a)}),void 0!==a.hoverTime){var e=o.xAxis[0]._axisObj.zoomTimeRange,t=e[0],r=e[1]-t,n=a.bounds.bodyRect,l=n.x,h=n.y,s=n.width,u=n.height,d=l+(a.hoverTime-t)/r*s,c=o.tooltip,g=c.lineColor,f=c.lineWidth,v=c.pattern;i.strokeStyle=g,i.lineWidth=f,v&&i.setLineDash(v),i.beginPath(),i.moveTo(d,h),i.lineTo(d,h+u),i.stroke(),a._hoverHandlers&&a._hoverHandlers.forEach(function(e){e()})}}(t,b,y),y.selectRect){var C=y.selectRect,k=C.x,V=C.y,D=C.width,I=C.height;t.fillStyle=c,t.fillRect(k,V,D,I),t.strokeStyle=d,t.strokeRect(k,V,D,I)}if(o){var T=Sr(a,o,i);T.ui=y,T.option=b}}},pagination:function(s,e,t,u,d){var c=t.getValue("current"),i=t.getValue("pageSize"),o=t.getValue("total"),a=t.getValue("align"),r=t.getValue("itemWidth"),g=t.getValue("itemHeight"),f=t.getValue("gap"),v=t.getColor("labelColor"),p=t.getColor("background"),x=t.getValue("borderWidth"),b=t.getColor("borderColor"),y=t.getValue("borderRadius"),m=t.getValue("font"),w=t.getColor("hoverLabelColor"),C=t.getColor("hoverBorderColor"),k=t.getColor("hoverBackground"),V=t.getColor("activeLabelColor"),D=t.getColor("activeBorderColor"),I=t.getColor("activeBackground"),T=t.getColor("disabledLabelColor"),_=t.getColor("disabledBorderColor"),L=t.getColor("disabledBackground"),S=t.getColor("disabledActiveLabelColor"),R=t.getColor("disabledActiveBorderColor"),P=t.getColor("disabledActiveBackground"),n=t.getColor("showFirstAndLast"),l=t.getValue("disabled"),h=u?Sr(d,u,t):{},A=e.x,M=e.y,B=e.width,E=e.height;if(o){for(var O=Math.ceil(o/i),H=7<O,W=H&&4<c,j=H&&c<=O-4,N=1<c,F=c<O,z=[],Y=0;Y<O;Y++)H?((0===Y||Y===O-1||Math.abs(Y+1-c)<=2||!W&&Y<5||!j&&O-5<Y)&&z.push({label:Y+1,isDisabled:!!l}),1===Y&&W&&z.push({label:we,isDisabled:!!l}),Y===O-2&&j&&z.push({label:Ce,isDisabled:!!l})):z.push({label:Y+1,isDisabled:!!l});z.unshift({label:ye,isDisabled:!N||l}),n&&z.unshift({label:ke,isDisabled:!N||l}),z.push({label:me,isDisabled:!F||l}),n&&z.push({label:Ve,isDisabled:!F||l});var G=h.hoverLabel;if(xe===a)for(var X=A+B-x/2,U=M+(E-g)/2,Z=z.length-1;0<=Z;Z--){var K=(ne=z[Z]).label,J=ne.isDisabled,q=sr(m,K),Q={x:X-=le=0<=mt.indexOf(K)?r:Math.max(r,q.width),y:U,width:le,height:g},$={active:c===K,hover:G===K,disabled:J},ee=bt($,v,w,V,T,S),te=bt($,b,C,D,_,R),ie=bt($,p,k,I,L,P);xt(s,Q,K,m,ee,te,y,x,ie,$,u,d),X-=f,ne.rect=Q}else if(be===a)for(var oe=A+x/2,ae=M+(E-g)/2,re=0;re<z.length;re++){K=(ne=z[re]).label,J=ne.isDisabled,q=sr(m,K);var ne,le,he={x:oe,y:ae,width:le=0<=mt.indexOf(K)?r:Math.max(r,q.width),height:g},se={active:c===K,hover:G===K,disabled:J},ue=bt(se,v,w,V,T,S),de=bt(se,b,C,D,_,R),ce=bt(se,p,k,I,L,P);xt(s,he,K,m,ue,de,y,x,ce,se,u,d),oe+=le+f,ne.rect=he}else{var ge=0,fe=M+(E-g)/2,ve=[],pe=void 0;z.forEach(function(e){var t=e.label,i=(e.isDisabled,sr(m,t)),o=0<=mt.indexOf(t)?r:Math.max(r,i.width);ge+=o,ve.push(o)}),ge+=(z.length-1)*f,pe=A+B/2-ge/2,z.forEach(function(e,t){var i=e.label,o=e.isDisabled,a={x:pe,y:fe,width:ve[t],height:g},r={active:c===i,hover:G===i,disabled:o},n=bt(r,v,w,V,T,S),l=bt(r,b,C,D,_,R),h=bt(r,p,k,I,L,P);xt(s,a,i,m,n,l,y,x,h,r,u,d),pe+=a.width+f,e.rect=a})}u&&(h.itemList=z,h.totalPage=O,h.current=c,h.disabled=l,h.onChange=t.getValue("onChange"))}},gantt:function(v,e,t,i,o){var a=t.getValue("dataSource"),n=t.getValue("font"),r=t.getValue("xAxisStart"),l=t.getValue("xAxisEnd"),h=t.getValue("xAxisGroup"),s=t.getValue("xAxisLabelType"),u=(t.getValue("xAxisLabelLayout"),t.getValue("yAxisPercent")),d=t.getValue("overflow"),c=t.getValue("tipShow"),g=t.getValue("yAxisTipShow"),f=t.getValue("xAxisTipShow"),p=t.getValue("seriesTipShow"),x=t.getValue("barColorGradient"),b=t.getColor("backgroundColor"),y=t.getColor("yAxisLabelColor"),m=t.getColor("xAxisLabelColor"),w=t.getColor("barColor"),C=t.getColor("columnColors"),k=Sr(o,i,t),V=e.x,D=e.y,I=e.width,T=e.height,_={tipInfoList:[]};if(v.font=n,v.textAlign="left",v.textBaseline="top",b&&(v.fillStyle=b,v.fillRect(V,D,I,T)),a&&0!==a.length){var L=new Date(r),S=new Date(l),R=(1-u)*I,P=S-L,A=P/(h-1),M=R/h,B=T/(a.length+1),E=I-R;v.fillStyle=m;for(var O=0;O<h;O++){var H=new Date(L.getTime()+A*O),W=V+E+O*M,j=D+.5*B-.3*sr(n,H).height,N=an(H,"YYYY-MM-DD hh:mm:ss");switch(s){case 0:H=an(H,"YYYY-MM-DD hh:mm:ss");break;case 1:H=an(H,"YYYY-MM-DD");break;case 2:H=an(H,"DD");break;case 3:H=an(H,"hh:mm:ss");break;default:H=an(H,"YYYY-MM-DD hh:mm:ss")}if(v.fillText(H,W,j),f){var F={x:W,y:j-4,width:sr(n,H).width,height:sr(n,H).height,name:N};_.tipInfoList.push(F)}}v.fillStyle=y,a.forEach(function(e,t){var i=V+2,o=D+(t+1)*B-.3*sr(n,e.name).height+.5*B,a=e.name;if(d&&sr(n,e.name).width>u*I&&(a=function(e,t,i,o){for(var a="",r=e.length;r>0;r--){a=e.slice(0,r)+o;if(sr(t,a).width<=i){break}}return a}(a,n,u*I,"...")),0<C.length&&(v.fillStyle=C[t%C.length],v.fillRect(V,D+B+t*B,I,B)),v.fillStyle=y,v.fillText(a,i,o),g){var r={x:i,y:o,width:sr(n,e.name).width,height:sr(n,e.name).height,name:e.name};_.tipInfoList.push(r)}}),a.forEach(function(e,t){var i=new Date(e.start),o=new Date(e.end),a=R*((o-i)/P),r=.6*B,n=V+E+(i-L)/P*R,l=D+(t+1)*B+(B-r)/2,h=8<a?4:0,s=a-2*h,u=r-8,d=n+h,c=D+(t+1)*B+(B-u)/2;v.strokeStyle=w,qr(v,n,l,a,r,8),v.stroke();var g=v.createLinearGradient(d,D,d+s,D);if(g.addColorStop(0,"rgba(255,255,255,0)"),g.addColorStop(1,w),v.fillStyle=x?g:w,v.beginPath(),qr(v,d,c,s,u,5),v.closePath(),v.fill(),p){var f={x:n,y:l,width:a,height:r,start:e.start,end:e.end,name:e.name,text:e.start+"~"+e.end};_.tipInfoList.push(f)}}),k&&(k.tipInfoList=_.tipInfoList,k.tipShow=c)}},radio2:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("checked"),l=i.getColor("normalColor"),h=i.getColor("background"),s=i.getColor("activeColor"),u=i.getColor("disabledColor"),d=i.getColor("disabledBackground"),c=(i.getValue("symbol"),Sr(a,o,i));Zr(c.checked)&&(n=c.checked);var g=n?s:l,f=t.x,v=t.y,p=t.width,x=t.height,b=Math.min(p,x);o&&(r?(g=u,h=d):c.pressed?n?g=ht.Default.darker(g,Te.activeDarker):h=ht.Default.darker(h,Te.activeDarker):c.hover&&(n?g=ht.Default.darker(g,Te.hoverDarker):h=ht.Default.darker(h,Te.hoverDarker))),h&&(e.beginPath(),e.fillStyle=h,e.arc(f+.5*p,v+.5*x,.5*b,0,2*Math.PI),e.fill()),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*x,.5*b,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*x,.25*b,0,2*Math.PI),e.fill()),o&&!o.__inputType&&(o.__inputType=y),c&&(c.disabled=r,c.onChange=i.getValue("onChange"),c.group=i.getValue("group"),c.value=i.getValue("value"),c.checked=n,c.__inputType=y)},valueAxisChart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),h=i.getValue("colors"),s=i.getColor("background"),u=i.getValue("clipMode"),d={show:i.getValue("tooltip"),formatter:i.getValue("tooltipFormatter")};if(r&&r.length){n&&!Xr(n)&&(n=[n]),l&&!Xr(l)&&(l=[l]);var c={series:r,xAxis:n,yAxis:l,color:h,clipMode:u},g={color:h&&h.length?h:pa,xAxis:jo(n,va),yAxis:jo(l,fa),series:r,tooltip:d,clipMode:u},f={data:o,view:a,rect:e,contentRect:Ma(e),valueAxis:te,originalOption:c,seriesDatas:r.map(function(e){return!1===e.visible?[]:Fr(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(g.xAxis.forEach(function(e){e._axisObj=new Ra(e,g,f)}),g.yAxis.forEach(function(e){e._axisObj=new wa(e,g,f)}),Wo(g,f),s&&(t.fillStyle=s,t.fillRect(e.x,e.y,e.width,e.height)),o){var v=Sr(a,o,i);if(v){var p=v;f.hitPointIndex=p.hitPointIndex,f.hitSeriesIndex=p.hitSeriesIndex}}if(g.xAxis.forEach(function(e){e._axisObj.draw(t)}),g.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(i,o,a){var e=o.series;a.pointsInfo={},e.forEach(function(e,t){Sa(i,e,t,o,a)})}(t,g,f),o){var x=Sr(a,o,i);x.ui=f,x.option=g}}},qrcode:function(e,t,i,o,a){var r=i.getColor("colorDark"),n=i.getColor("colorLight"),l=i.getColor("padding"),h=i.getValue("content");if(!Ar(h)){e.save();var s=zt[h],u=(s=s||(zt[h]=new Nt(h))).getModuleCount(),d=t.x,c=t.y,g=t.width,f=t.height,v=10*u,p=d,x=c,b=Math.min(g,f);g-=2*l,f-=2*l;var y=Math.min(g,f)/v;f<g?p=d+(g-f)/2:x=c+(f-g)/2,e.translate(p,x),e.fillStyle=n,e.fillRect(0,0,b,b);var m=v/u;e.translate(l,l),e.fillStyle=r,e.scale(y,y),e.beginPath();for(var w=0;w<u;w++)for(var C=0;C<u;C++){if(s.isDark(w,C)){var k=C*m,V=w*m;e.rect(k,V,10,10)}}e.fill(),e.restore()}},dragSlider:function(h,e,t,a,r){var i={dataSource:t.getValue("dataSource"),color:t.getValue("color"),step:t.getValue("step"),total:t.getValue("total"),padding:t.getValue("padding"),onChange:t.getValue("onChange"),barWidth:t.getValue("barWidth"),barBackground:t.getValue("barBackground"),barBorderRadius:t.getValue("barBorderRadius"),sliderImage:t.getValue("sliderImage"),sliderBorderWidth:t.getValue("sliderBorderWidth"),sliderBorderRadius:t.getValue("sliderBorderRadius"),sliderBorderColor:t.getValue("sliderBorderColor"),sliderBackground:t.getValue("sliderBackground"),sliderWidth:t.getValue("sliderWidth"),sliderHeight:t.getValue("sliderHeight"),sliderOffsetX:t.getValue("sliderOffsetX"),sliderOffsetY:t.getValue("sliderOffsetY"),showToolTip:t.getValue("showToolTip"),toolTipFormat:t.getValue("toolTipFormat")},o=Sr(r,a,t),n=i.barBackground,l=i.barWidth,s=i.barBorderRadius,u=i.padding,d=i.sliderBackground,c=i.sliderBorderRadius,g=i.sliderBorderWidth,f=i.sliderBorderColor,v=i.sliderImage,p={itemsRect:[],dragIconsRect:[]},x=e.x,b=e.y,y=e.width,m=e.height,w=null,C=null;o&&(o.dragSliderDataModel?w=o.dragSliderDataModel:(w=new Zt,o.dragSliderDataModel=w),w.reset(i,e),w.init(),h.save(),h.beginPath(),h.rect(x,b,y,m),h.clip(),n&&(h.save(),h.fillStyle=n,h.beginPath(),qt(h,x+u,b+(m-l)/2,y-2*u,l,s),h.closePath(),h.fill(),h.restore()),w.getRoots().each(function(e,t,i){e.initNodeRect(C);var o=(C=e).getAttrObject(),a=o.itemRect,r=o.color,n=0===t,l=t===i.size()-1;h.save(),h.fillStyle=r,h.beginPath(),qt(h,a.x,a.y,a.width,a.height,n?s:0,l?s:0,n?s:0,l?s:0),h.closePath(),h.fill(),h.restore(),p.itemsRect.push({dragSliderData:e,itemRect:a})}),w.getRoots().each(function(e,t,i){var o=e.getAttrObject().dragIconRect;v?$t(h,Qt(v),"fill",o.x,o.y,o.width,o.height,a,r):(h.save(),h.fillStyle=d,h.beginPath(),qt(h,o.x,o.y,o.width,o.height,c,c,c,c),h.closePath(),h.fill(),g&&(h.lineWidth=g,h.strokeStyle=f,h.stroke()),h.restore()),p.dragIconsRect.push({dragSliderData:e,dragIconRect:o})}),h.restore(),o.rectInfo=p)},verticalBar:function(a,e,t,i,o){var r=t.getValue("colors"),n=t.getValue("labelColor"),l=t.getValue("dataSource"),h=t.getValue("font"),s=t.getValue("barPercent");if(l&&l.length){var u=(i?ht.vector.getVectorInfo(o,i,t):{}).hoverIndex,d=e.x,c=e.y,g=e.width,f=e.height,v=f/l.length*s,p=f/l.length,x=(p-v)/2,b=0,y=[],m=void 0===w,w=m?-1/0:w;l.forEach(function(e){var t=ht.Default.getTextSize(h,e.name);b=Math.max(b,t.width),y.push(y),m&&(w=Math.max(w,e.value))});var C=g-b-10-48,k=c,V=d;l.forEach(function(e,t){V=d;var i=y[t];ht.Default.drawText(a,e.name,h,n,V,k,i.width,p,"left","middle"),V+=b+5;var o=e.value/w;o=Math.min(o,1),a.fillStyle=u===t?ht.Default.brighter(r[t]):r[t%r.length],a.fillRect(V,k+x,C*o,v),V+=C*o+5,ht.Default.drawText(a,e.value+"",h,n,V,k,48,p,"left","middle"),k+=p})}}},dragSliderInteractor:new oi,pieInteractor:new Za,buttonInteractor:new vi,inputInteractor:new li,textAreaInteractor:new ri,radioInteractor:new xi,checkboxInteractor:new wi,colorPickerInteractor:new Mi,dateTimePickerInteractor:new Ei,comboBoxInteractor:new Zi,tableInteractor:new qi,sliderInteractor:new to,rangeSliderInteractor:new ao,multipleComboBoxInteractor:new lo,treeInteractor:new co,treeTableInteractor:new po,chartInteractor:new Vo,inputNumberInteractor:new di,dateRangePickerInteractor:new Io,radioButtonInteractor:new Lo,carouselInteractor:new Bo,timeAxisChartInteractor:new $o,carouselInteractor2:new Oo,paginationInteractor:new ra,ganttInteractor:new ta,textBoxInteractor:new la,radioInteractor2:new yi,valueAxisChartInteractor:new Ja,Color:c,ListView:zi,ListDropDown:Gi,getVectorInfo:Sr,caluMultilineSize:function(e,t){var i=e.a("ht.content"),o=e.a(f.FONT),a=e.a(f.LINE_HEIGHT),r=e.a(f.PADDING),n=ur(r),l=Ie(n,4),h=l[0],s=l[1],u=l[2],d=l[3],c=i.split(/\n/),g=0;return c.forEach(function(e){var t=sr(o,e);g=Math.max(g,t.width)}),{width:g+d+s,height:c.length*a+h+u}},caluRichTextPaneSize:function(n,l){var e=n.a("ht.content"),t=n.a("ht.borderWidth")||1,i=n.a("ht.padding"),o=n.a("ht.showArrow"),a=n.a("ht.arrowOrientation"),r=n.a("ht.vGap"),h=n.a("ht.hGap"),s=n.a("ht.font"),u=ur(i),d=Ie(u,4),c=d[0],g=d[1],f=d[2],v=d[3]+g+t,p=c+f+t;o&&(a===be||a===xe?v+=10:p+=10);var x=0,b=0;return e&&(e.forEach(function(e,t){var a=0,r=(e.length-1)*h;e.forEach(function(e,t){var i=Fr(e.text,n,l),o=sr(e.font||s,i);a=Math.max(a,o.height),r+=o.width}),x=Math.max(x,r),b+=a}),b+=(e.length-1)*r),{width:v+=x,height:p+=b}},setFormData:function a(r,e,n){return(e?e.getChildren():r.dm().getDatas()).each(function(e){var t=e.a(f.FORM_ITEM_NAME),i=e.a(f.FORM_ITEM_GROUP),o=n[t];if(t)void 0!==o&&function(e,t){e.a(f.VALUE,t)}(e,o);else if(i){if(void 0===(o=n[i]))return;e.__inputType===y?e.a(f.CHECKED,e.a(f.VALUE)===o):e.__inputType===C&&e.a(f.CHECKED,0<=o.indexOf(e.a(f.VALUE)))}e.hasChildren()&&a(r,e,n)}),n}},vn="0.0.8";return function(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===i&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".ht-vector-tooltip{\n    box-sizing: border-box;\n    padding: 5px 12px;\n    margin: 0;\n    position: absolute;\n    background-color: rgba(0, 0, 0, 0.5);\n    color: rgb(247, 247, 247);\n    border-radius: 5px;\n    /* -webkit-transition: all 0.5s;\n    transition: all 0.5s; */\n}\n",{}),fn.openColorDropDown=Ti,fn.openDateTimeDropDown=Si,fn.getFormData=function(e,t){var n={},l=t?t.getChildren():e.dm().getDatas();return l.each(function(e){var t=e.a(f.FORM_ITEM_NAME),i=e.a(f.FORM_ITEM_GROUP);if(t)n[t]=mr(e);else if(i&&!n[f.FORM_ITEM_GROUP])if(e.__inputType===y)for(var o=0;o<l.length;o++){var a=l.get(o);if(i===a.a(f.FORM_ITEM_GROUP)&&a.a(f.CHECKED)){n[i]=mr(a);break}}else if(e.__inputType===C){var r=[];l.each(function(e){i===e.a(f.FORM_ITEM_GROUP)&&e.a(f.CHECKED)&&r.push(mr(e))}),n[i]=r}}),n},fn.selectFile=Cr,fn.getVersion=function(){return vn},fn}();
//animation
!function(h){"use strict";var r="ht",k=h[r],s=k.Default,x="prototype",l=k.DataModel[x],y=k.Data[x],L=null,g=function(e){return"set"+e.charAt(0).toUpperCase()+e.slice(1)};s.getEasing=function(b){var M=L;return b.indexOf(".")>=0?(b=b.split("."),M=i[b[0]][b[1]]):M=i[b],function(B){return M(B,0,1,1)}},s.getCommonEasing=function(H){var F=L;return H.indexOf(".")>=0?(H=H.split("."),F=i[H[0]][H[1]]):F=i[H],F},y.setAnimation=function(g){var S=this._animation;this._animation=g,S!==g&&(this._animationprocess=L,this._animationstatus=L),this.fp("animation",S,g)},y.getAnimation=function(){return this._animation},y.pauseAnimation=function(){this._pauseAnimation=!0,this._pauseTime=Date.now()},y.resumeAnimation=function(){delete this._pauseAnimation},h.requestAnimFrame=function(){return h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||function(i){h.setTimeout(i,1e3/60)}}();var b=h.requestAnimFrame,v=h.setInterval;l.setAnimationInterval=function(x){var o=this;o.$2a=x,o.$1a!=L&&(clearInterval(o.$1a),delete o.$1a,o.enableAnimation(x))},l.getAnimationInterval=function(){return this.$2a||"animationFrame"},l.getDataAnimation=function(J){return J.getAnimation()},l.enableAnimation=function(B){var D=this,N=D.getDatas();if(D.$1a==L){B&&D.setAnimationInterval(B),B=D.getAnimationInterval();var Y=function(){var O=D.getAnimationInterval();N.each(function(k){var H=D.getDataAnimation(k);if(k.setAnimation(H),H&&!k._pauseAnimation){var Y=H.start;k._animationstatus=k._animationstatus||{},k._animationprocess=k._animationprocess||Y.slice(0);for(var V=k._animationstatus,B=k._animationprocess,Q=0;Q<B.length;Q++)if(null!=B[Q]){var j;j=V[Q]?V[Q]:V[Q]={$5a:0,$6a:0,$7a:0,$8a:0};var W=H[B[Q]],v=W.property,R=W.accessType,M=W.from,r=W.to,z=W.easing||"Quad.easeOut",P=j.$5a,A=W.frames||60,a=W.repeat||0,c=W.duration,b=W.delay||0,f=W.interval,l=j.$6a,U=W.onUpdate,q=W.onComplete,h=!1,G=function(){var o;o=c!=L?s.getCommonEasing(z)(Date.now()-j._startTime,M,r-M,c):s.getCommonEasing(z)(P,M,r-M,A),U?U.call(k,o):R?"style"===R?k.s(v,o):"attr"===R?k.a(v,o):"field"===R&&(k[v]=o):k[g(v)](o),h=!0},u=function(){j._startTime==L&&(j._startTime=Date.now());var a=k._pauseTime;a!=L&&(j._startTime+=Date.now()-a),Q==B.length-1&&delete k._pauseTime,f!=L?j.$7a>=f?(j.$7a=0,G()):j.$7a+=isNaN(O)?16.6666:O:G()};if(b?j.$8a>=b?u():j.$8a+=isNaN(O)?16.6666:O:u(),h)if(c!=L){if(Date.now()-j._startTime>c)if(a===!0)j._startTime=Date.now();else if(l=j.$6a=l+1,l>a)if(q&&q.call(k),W.next)V[Q]=L,B[Q]=W.next;else{V[Q]=L,B[Q]=L;for(var y=!0,m=0;m<B.length;m++)null!=B[m]&&(y=!1);y&&(k.setAnimation(L),k._animationstatus=L,k._animationprocess=L,k._pauseTime=L)}}else if(P=j.$5a=P+1,P>A)if(a===!0)P=j.$5a=0;else if(l=j.$6a=l+1,l>a)if(q&&q.call(k),W.next)V[Q]=L,B[Q]=W.next;else{V[Q]=L,B[Q]=L;for(var y=!0,m=0;m<B.length;m++)null!=B[m]&&(y=!1);y&&(k.setAnimation(L),k._animationstatus=L,k._animationprocess=L)}}}}),"animationFrame"===O&&D.$1a!=L&&(D.$1a=b(Y))};D.$1a="animationFrame"===B?b(Y):v(Y,B)}},l.disableAnimation=function(){var K=this,J=K.getAnimationInterval();"animationFrame"===J||clearInterval(K.$1a),delete K.$1a};var i={Linear:function(P,w,v,x){return v*P/x+w},Quad:{easeIn:function(n,x,A,D){return A*(n/=D)*n+x},easeOut:function(l,R,E,r){return-E*(l/=r)*(l-2)+R},easeInOut:function(e,y,b,Z){return(e/=Z/2)<1?b/2*e*e+y:-b/2*(--e*(e-2)-1)+y}},Cubic:{easeIn:function($,g,W,Q){return W*($/=Q)*$*$+g},easeOut:function(F,V,m,b){return m*((F=F/b-1)*F*F+1)+V},easeInOut:function(r,K,y,Y){return(r/=Y/2)<1?y/2*r*r*r+K:y/2*((r-=2)*r*r+2)+K}},Quart:{easeIn:function(i,v,f,n){return f*(i/=n)*i*i*i+v},easeOut:function(S,h,x,W){return-x*((S=S/W-1)*S*S*S-1)+h},easeInOut:function(s,m,K,L){return(s/=L/2)<1?K/2*s*s*s*s+m:-K/2*((s-=2)*s*s*s-2)+m}},Quint:{easeIn:function(D,i,M,o){return M*(D/=o)*D*D*D*D+i},easeOut:function(L,C,u,o){return u*((L=L/o-1)*L*L*L*L+1)+C},easeInOut:function(Y,F,$,Q){return(Y/=Q/2)<1?$/2*Y*Y*Y*Y*Y+F:$/2*((Y-=2)*Y*Y*Y*Y+2)+F}},Sine:{easeIn:function(w,V,X,i){return-X*Math.cos(w/i*(Math.PI/2))+X+V},easeOut:function(U,w,n,S){return n*Math.sin(U/S*(Math.PI/2))+w},easeInOut:function(F,K,a,h){return-a/2*(Math.cos(Math.PI*F/h)-1)+K}},Expo:{easeIn:function(r,t,g,b){return 0==r?t:g*Math.pow(2,10*(r/b-1))+t},easeOut:function(w,N,I,M){return w==M?N+I:I*(-Math.pow(2,-10*w/M)+1)+N},easeInOut:function(i,A,k,u){return 0==i?A:i==u?A+k:(i/=u/2)<1?k/2*Math.pow(2,10*(i-1))+A:k/2*(-Math.pow(2,-10*--i)+2)+A}},Circ:{easeIn:function(l,y,Q,Z){return-Q*(Math.sqrt(1-(l/=Z)*l)-1)+y},easeOut:function(E,W,l,i){return l*Math.sqrt(1-(E=E/i-1)*E)+W},easeInOut:function(w,R,i,n){return(w/=n/2)<1?-i/2*(Math.sqrt(1-w*w)-1)+R:i/2*(Math.sqrt(1-(w-=2)*w)+1)+R}},Elastic:{easeIn:function(P,D,h,b,x,M){var u;return 0==P?D:1==(P/=b)?D+h:("undefined"==typeof M&&(M=.3*b),!x||x<Math.abs(h)?(u=M/4,x=h):u=M/(2*Math.PI)*Math.asin(h/x),-(x*Math.pow(2,10*(P-=1))*Math.sin((P*b-u)*2*Math.PI/M))+D)},easeOut:function(v,e,k,s,Q,G){var M;return 0==v?e:1==(v/=s)?e+k:("undefined"==typeof G&&(G=.3*s),!Q||Q<Math.abs(k)?(Q=k,M=G/4):M=G/(2*Math.PI)*Math.asin(k/Q),Q*Math.pow(2,-10*v)*Math.sin((v*s-M)*2*Math.PI/G)+k+e)},easeInOut:function(a,S,n,y,z,W){var x;return 0==a?S:2==(a/=y/2)?S+n:("undefined"==typeof W&&(W=y*.3*1.5),!z||z<Math.abs(n)?(z=n,x=W/4):x=W/(2*Math.PI)*Math.asin(n/z),1>a?-.5*z*Math.pow(2,10*(a-=1))*Math.sin((a*y-x)*2*Math.PI/W)+S:.5*z*Math.pow(2,-10*(a-=1))*Math.sin((a*y-x)*2*Math.PI/W)+n+S)}},Back:{easeIn:function(o,c,_,P,B){return"undefined"==typeof B&&(B=1.70158),_*(o/=P)*o*((B+1)*o-B)+c},easeOut:function(h,R,X,m,t){return"undefined"==typeof t&&(t=1.70158),X*((h=h/m-1)*h*((t+1)*h+t)+1)+R},easeInOut:function(q,N,R,r,X){return"undefined"==typeof X&&(X=1.70158),(q/=r/2)<1?R/2*q*q*(((X*=1.525)+1)*q-X)+N:R/2*((q-=2)*q*(((X*=1.525)+1)*q+X)+2)+N}},Bounce:{easeIn:function(R,E,v,q){return v-i.Bounce.easeOut(q-R,0,v,q)+E},easeOut:function(P,N,L,x){return(P/=x)<1/2.75?L*7.5625*P*P+N:2/2.75>P?L*(7.5625*(P-=1.5/2.75)*P+.75)+N:2.5/2.75>P?L*(7.5625*(P-=2.25/2.75)*P+.9375)+N:L*(7.5625*(P-=2.625/2.75)*P+.984375)+N},easeInOut:function(l,v,c,A){return A/2>l?.5*i.Bounce.easeIn(2*l,0,c,A)+v:.5*i.Bounce.easeOut(2*l-A,0,c,A)+.5*c+v}}}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//contextmenu
!function(s,I){"use strict";var j="ht",Q=s[j],h="position",e="absolute",S="px",u="left",r="top",B="innerHTML",W="className",O="width",q="height",D="0",g="display",E="none",l="visibility",T="user-select",x="margin",Z="padding",z=null,f=Q.Color,N=Q.Default,A=N.getInternal(),v=s.setTimeout,L=s.setInterval,G=s.clearTimeout,d=s.clearInterval,t=s.parseInt,R=N.isLeftButton,K=N.isDragging,Y=N.startDragging,n=N.getDistance,F=N.isTouchable,$=f.widgetIconHighlight,H=f.widgetIconBorder,p=f.widgetIconGradient,C=function(){return document},c=function(B,t){return B.querySelectorAll(t)},U=function(z){var b=C().createElement(z);return"ul"===z&&(M(b,h,"relative"),M(b,x,D),M(b,Z,D),M(b,"list-style",E),M(b,"box-sizing","border-box"),M(b,"-moz-box-sizing","border-box"),M(b,g,"inline-block"),M(b,"vertical-align","text-bottom"),M(b,"border","1px solid "+N.contextMenuBorderColor),M(b,"box-shadow","0 0 16px 1px "+N.contextMenuShadowColor),M(b,"overflow","hidden"),N.contextMenuBorderRadius&&M(b,"border-radius",N.contextMenuBorderRadius+S)),b},V=function(n){var t=n.touches[0];return t?t:n.changedTouches[0]},P=function(){return U("div")},y=function(){return U("canvas")},M=function(Z,E,r){Z.style.setProperty(E,r,z)},i=function(H,C,r){N.def(Q.widget[H],C,r)},b=function(l,M){l.appendChild(M)},w=function(W,R){W.removeChild(R)},m=A.addEventListener,k=A.removeEventListener;A.addMethod(N,{contextMenuCheckIcon:{width:16,height:16,comps:[{type:"border",rect:[1,1,14,14],width:1,color:H},{type:"shape",points:[13,3,7,12,4,8],borderWidth:2,borderColor:$}]},contextMenuRadioIcon:{width:16,height:16,comps:[{type:"circle",rect:[2,2,12,12],borderWidth:1,borderColor:H},{type:"circle",rect:[4,4,8,8],borderWidth:1,borderColor:$,gradient:N.imageGradient,gradientColor:p,background:$}]},contextMenuLabelFont:(F?"16":"13")+"px arial, sans-serif",contextMenuLabelColor:"#000",contextMenuBackground:"#fff",contextMenuDisabledLabelColor:"#888",contextMenuHoverBackground:"#648BFE",contextMenuHoverLabelColor:"#fff",contextMenuSeparatorWidth:1,contextMenuSeparatorColor:"#E5E5E5",contextMenuScrollerColor1:"#FDFDFD",contextMenuScrollerColor2:"#D3D3D3",contextMenuScrollerBorderColor:"#C3C3C3",contextMenuBorderColor:"#C3C3C3",contextMenuShadowColor:"rgba(128, 128, 128, 0.5)",contextMenuBorderRadius:5,contextMenuSubmenuMark:"▶"},!0);var o=function(j){var R=this,r=j._view;if(R.$11b=j,R.addListeners(),m(r,"contextmenu",function(k){k.preventDefault()}),!F){var U=R.$37b=R.$36b.bind(R);m(r,"mouseover",U),m(r,"mouseout",U)}};N.def(o,I,{ms_listener:1,getView:function(){return this.$11b._view},handle_touchstart:function(U){if(N.preventDefault(U),R(U)){for(var P=this,r=P.$11b,q=P.getView(),i=q.children,p=0;p<i.length;p++){var Z=i[p],H=Z.$24b,z=Z.$25b;if(H&&H.contains(U.target))return r.scrollUp(Z),P.$28b=v(function(){P.$29b=L(function(){r.scrollUp(Z)},100)},500),Y(P,U),void 0;if(z&&z.contains(U.target))return r.scrollDown(Z),P.$28b=v(function(){P.$29b=L(function(){r.scrollDown(Z)},100)},500),Y(P,U),void 0}F&&(U=V(U)),P.$30b={x:U.pageX,y:U.pageY}}},handle_mousedown:function(W){this.handle_touchstart(W)},handle_touchend:function(O){if(R(O)){var d=this,X=d.$30b,J=F?{x:V(O).pageX,y:V(O).pageY}:{x:O.pageX,y:O.pageY};if(!X||n(X,J)>1)return delete d.$30b,void 0;for(var v=d.getView(),t=d.$11b,k=O.target,Q=z,r=z,m=t._items,x=v.$26b,q=0;q<x.length;q++)if(r=x[q],r.contains(k)){Q=r.getAttribute("data-id");break}if(Q&&m){var _=t.$17b(m,function(X){return X._id===Q});if(_){var U=!1;_.disabled instanceof Function?U=_.disabled.call(t,_):_.disabled===!0&&(U=!0),U||(_.items?F&&d.$36b(r,!0):t.$1b(_,O))}}delete d.$30b}},$36b:function(E,h){if(!K()){var H,g=this,U=g.$11b,f=g.getView(),n=U.$20b||f.children[0],x=U.$19b,a=f.$26b,t=f.children,T=E.target,z=f.getBoundingClientRect(),Q=N.getWindowInfo(),Y=Q.width,o=Q.height,j=function(O){for(var w=0;w<t.length;w++){var E=t[w],z=new RegExp(O+"$"),I=E[W];if(I&&(z.test(I)||I.indexOf(O+" ")>=0))return E}},R=function(j){for(var f=0;f<a.length;f++){var q=a[f],i=new RegExp(j+"$"),C=q[W];if(C&&(i.test(C)||C.indexOf(j+" ")>=0))return q}},I=function(m){var L=R("menu-item"+m.$45b),q=L.getBoundingClientRect(),B=q.top-z.top,a=q.left-z.left;M(m,r,B+S),M(m,u,a+q.width+S);var n=m.getBoundingClientRect(),J=n.top,s=n.left,E=n.height,v=n.width,j=J+E+2,W=s+v+2;j>o&&M(m,r,B+o-j+S),W>Y&&M(m,u,a-v+S)};if(h)H=E;else{if("mouseover"===E.type){for(var A=0;A<a.length;A++){var O=a[A];if(O.contains(T)){H=O;break}}if(!H&&x){var q=x.parentNode,m=j("submenu"+x.getAttribute("data-id"));(m&&m.contains(T)||q&&q.contains(T))&&(H=x)}}else if("mouseout"===E.type){for(var B=!1,P=E.relatedTarget,A=0;A<t.length;A++){var $=t[A];if("hidden"!==$.style.visibility&&$.contains(P)){B=!0;break}}if(B)return}!H&&n&&(H=R("menu-item"+(n.$45b||"NaN")))}if(H!=x){if(x)for(var i=x;i;){if(i[W]=i[W].replace(" menu-item-hover",""),i[W].indexOf("disabled")<0){var D=U.getItemByProperty("_id",i.getAttribute("data-id"));null!=D.background?D.background instanceof Function?M(i,"background-color",D.background.call(U,D)):M(i,"background-color",D.background):M(i,"background-color",N.contextMenuBackground),M(i,"color",N.contextMenuLabelColor)}var F=j("submenu"+i.getAttribute("data-id"));F&&M(F,l,"hidden");var k=i.parentNode;i=R("menu-item"+(k.$45b||"NaN"))}if(H){for(var Z=H,V=[];Z;){Z[W]+=" menu-item-hover",Z[W].indexOf("disabled")<0&&(M(Z,"background-color",N.contextMenuHoverBackground),M(Z,"color",N.contextMenuHoverLabelColor));var s=j("submenu"+Z.getAttribute("data-id"));s&&(M(s,l,"visible"),V.push(s));var k=Z.parentNode;Z=R("menu-item"+(k.$45b||"NaN"))}V.reverse(),V.forEach(function(n){I(n)})}}U.$19b=H,U.$20b=H?H.parentNode:f.children[0]}},handle_mouseup:function(K){this.handle_touchend(K)},handleWindowTouchEnd:function(){var Z=this;Z.$28b!=z&&(G(Z.$28b),delete Z.$28b),Z.$29b!=z&&(d(Z.$29b),delete Z.$29b),delete Z.$34b,delete Z.$30b,delete Z.$35b},handleWindowMouseUp:function(U){this.handleWindowTouchEnd(U)},handle_mousemove:function(R){this.handle_touchmove(R)},handle_touchmove:function(g){if(!K()&&R(g)){for(var O=this,y=O.getView().children,G=z,k=0;k<y.length;k++){var $=y[k];if($.contains(g.target)){G=$;break}}var E=O.$30b,B=F?{x:V(g).pageX,y:V(g).pageY}:{x:g.pageX,y:g.pageY};G&&E&&n(E,B)>2&&(Y(O,g),O.$34b=G,O.$35b=G.$18b)}},handleWindowTouchMove:function(Z){Z.preventDefault();var w=this,J=w.$11b,H=w.$34b,m=w.$35b,O=w.$30b;if(O&&H){var d=F?{x:V(Z).pageX,y:V(Z).pageY}:{x:Z.pageX,y:Z.pageY},q=d.y-O.y;q>0?J.scrollUp(H,H.$18b-(m-q)):J.scrollDown(H,m-q-H.$18b)}},handleWindowMouseMove:function(n){this.handleWindowTouchMove(n)},$10b:function($,w){$.preventDefault();for(var v=this,y=v.getView().children,o=z,j=0;j<y.length;j++){var H=y[j];if(H.contains($.target)){o=H;break}}if(o){var p=this.$11b,B=p.getRowHeight();Math.abs(w)>.05&&(w>0?p.scrollUp(o,w*B):0>w&&p.scrollDown(o,-w*B))}},handle_mousewheel:function(u){this.$10b(u,u.wheelDelta/40)},handle_DOMMouseScroll:function(C){this.$10b(C,-C.detail)},$44b:function(e){this.getView().contains(e.target)||this.$11b.hide()},$41b:function(J){this.$11b.show(J)},$4b:function($,K){var u=this.$11b;if(K=K||u._items,K&&K.length&&$.keyCode){var C=[$.keyCode];$.shiftKey&&C.push(16),$.ctrlKey&&C.push(17),$.altKey&&C.push(18),/mac/.test(s.navigator?s.navigator.userAgent.toLowerCase():"")?$.metaKey&&C.push(17):$.metaKey&&C.push(91),C.sort();var d=C.join(),k=u.$17b(K,function(w){if(w.key){var Z=w.key.slice(0);return Z.sort(),d===Z.join()}});if(k){k.preventDefault!==!1&&$.preventDefault();var b=!1;k.disabled instanceof Function?b=k.disabled.call(u,k):k.disabled===!0&&(b=!0),b||u.$1b(k,$)}}},$39b:function(M){var y=this,x=V(M);y.$32b={x:x.pageX,y:x.pageY}},$38b:function(O){var y=this,N=V(O);y.$31b={x:N.pageX,y:N.pageY},y.$33b=v(function(){y.$31b&&(y.$32b?n(y.$31b,y.$32b)<10&&y.$11b.show(O):y.$11b.show(O)),delete y.$33b,delete y.$31b,delete y.$32b},600)},$40b:function(){var H=this;H.$33b!=z&&(G(H.$33b),delete H.$33b,delete H.$31b,delete H.$32b)}}),Q.widget.ContextMenu=function(i){var j=this,O=j._view=A.createView(null,j);O[W]="ht-widget-contextmenu",j.setItems(i),j.$13b=new o(j),M(O,"font",N.contextMenuLabelFont),M(O,h,e),M(O,"cursor","default"),M(O,"-webkit-"+T,E),M(O,"-moz-"+T,E),M(O,"-ms-"+T,E),M(O,T,E),M(O,"box-sizing","border-box"),M(O,"-moz-box-sizing","border-box"),N.baseZIndex!=z&&M(O,"z-index",t(N.baseZIndex)+2+""),j.$3b=function(m){j.$13b.$4b(m)}},i("ContextMenu",I,{$5b:0,_items:z,$21b:z,_enableGlobalKey:!1,ms_v:1,enableGlobalKey:function(){var y=this,J=y._enableGlobalKey;J===!1&&(m(C(),"keydown",y.$3b),y._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,k(C(),"keydown",this.$3b)},setItems:function(q){this._items=q},getItems:function(){return this._items},setVisibleFunc:function(t){this.$16b=t},setLabelMaxWidth:function(c){this.$43b=c},$1b:function(k,S){var m=this;if("check"===k.type)k.selected=!k.selected;else if("radio"===k.type){var c=k.groupId;m.$17b(m._items,function(h){h.groupId===c&&(h.selected=!1)}),k.selected=!0}if(m.hide(),k.action)k.action.apply(k.scope||m,[k,S]);else if(k.href){var z=k.linkTarget||"_self";s.open(k.href,z)}},getItemById:function(q){return this.getItemByProperty("id",q)},setItemVisible:function(Q,G){var f=this.getItemById(Q);f&&(f.visible=G)},getItemByProperty:function(s,C,B){var i=this;if(B=B||i._items,!B||0===B.length)return z;var x=i.$17b(B,function(v){return v[s]===C});return x||z},scrollUp:function(S,K){var G=this;if(K=K==z?20:K,K=t(K),0!==K){var b=0;S.$18b>K&&(b=S.$18b-K),G.$42b(S,b),S.scrollTop=b,S.$18b=b}},scrollDown:function(a,d){var Y=this;if(d=d==z?20:d,d=t(d),0!==d){var C=a.$22b,n=a.$23b,J=C-n;n+a.$18b+d<C&&(J=a.$18b+d),Y.$42b(a,J),a.scrollTop=J,a.$18b=J}},$42b:function(Y,l){l=l==z?Y.$18b:l;var v=Y.$24b,W=Y.$25b;v&&(M(v,"top",l+S),0==l?M(v,g,E):M(v,g,"block")),W&&(M(W,"bottom",-l+S),l==Y.$22b-Y.$23b?M(W,g,E):M(W,g,"block"))},getRowHeight:function(){return this._view.querySelector(".menu-item").offsetHeight},$17b:function($,c){for(var J=0;J<$.length;J++){var v=$[J];if(c(v))return v;if(v.items){var Z=this.$17b(v.items,c);if(Z)return Z}}},$2b:function(I,H){for(var J=this,D=0;D<I.length;D++){J.$5b++;var i=I[D];if(i.visible!==!1&&!(N.isFunction(i.visible)&&i.visible()===!1||J.$16b&&!J.$16b.call(J,i))){var X=U("li"),V=J.$5b+"";if(M(X,"white-space","nowrap"),M(X,g,"block"),"separator"===i||i.separator===!0){var m=P();m[W]="separator",M(m,q,N.contextMenuSeparatorWidth+S),M(m,"background",N.contextMenuSeparatorColor),b(X,m)}else{i._id=V,X.setAttribute("data-id",V);var d=U("span"),k=U("span"),a=y(),Y=P();if(M(d,g,"inline-block"),M(d,q,"1.2em"),M(k,g,"inline-block"),M(k,q,"1.2em"),M(k,"line-height","1.2em"),a[W]="prefix",M(a,g,"inline-block"),M(a,O,"1em"),M(a,q,"1em"),M(a,"vertical-align","middle"),M(a,x,"0 0.2em"),"check"===i.type&&i.selected?a[W]+=" check-prefix":"radio"===i.type&&i.selected&&(a[W]+=" radio-prefix"),b(X,a),i.icon){var w=y();w[W]="contextmenu-item-icon",M(w,g,"inline-block"),M(w,q,"1.2em"),M(w,O,"1.2em"),M(w,"margin-right","0.2em"),M(w,"float","left"),w.$50b=i.icon,w._item=i,b(d,w)}if(k[B]=i.label,b(d,k),b(X,d),Y[W]="suffix",M(Y,g,"inline-block"),M(Y,"margin-left","1em"),M(Y,"margin-right","0.4em"),M(Y,"text-align","right"),M(Y,"font-size","75%"),i.items&&(Y[B]=N.contextMenuSubmenuMark),i.suffix&&(Y[B]=i.suffix),b(X,Y),X[W]="menu-item menu-item"+V,null!=i.background?i.background instanceof Function?M(X,"background-color",i.background.call(J,i)):M(X,"background-color",i.background):M(X,"background-color",N.contextMenuBackground),M(X,"color",N.contextMenuLabelColor),M(X,Z,"3px 0"),i.disabled instanceof Function){var f=i.disabled.call(J,i);f&&(X[W]+=" disabled",M(X,"color",N.contextMenuDisabledLabelColor))}else i.disabled&&(X[W]+=" disabled",M(X,"color",N.contextMenuDisabledLabelColor));if(i.items){J.$21b||(J.$21b=new Q.List);var n=U("ul");n[W]="submenu"+V,n.$45b=V,M(n,l,"hidden"),M(n,h,e),b(J._view,n),J.$21b.add(n),J.$2b(i.items,n)}}b(H,X)}}},rebuild:function(){var N=this,R=N._items,C=N._view;if(C&&(C[B]="",N.$21b=z,N.$5b=0,N.$19b=z,N.$20b=z,C.$26b=z,R&&0!==R.length)){var o=U("ul",N._r);b(C,o),N.$2b(R,o)}},addTo:function(u){if(u){var Z=this,C=Z.$13b;if(Z.$12b=u,Z.$9b=function(b){C.$44b(b)},Z.$27b=function(Q){C.$41b(Q)},F){var Q=Z.$6b=function(e){C.$38b(e)},_=Z.$7b=function(h){C.$39b(h)},w=Z.$8b=function(O){C.$40b(O)};m(u,"touchstart",Q,!0),m(u,"touchmove",_),m(u,"touchend",w)}else m(u,"contextmenu",Z.$27b)}},showOnView:function(M,o,F){M=M.getView?M.getView():M;var h=N.getWindowInfo(),A=M.getBoundingClientRect();this.show(A.left+h.left+o,A.top+h.top+F)},show:function(q,k,w){var y=this,w=w==z?!0:!1,T=y._view;if(T){if(y.invalidate(),1===arguments.length){var _=q;if(F){var Z=V(_);q=Z.pageX,k=Z.pageY}else q=_.pageX,k=_.pageY}var R=N.getWindowInfo(),t=R.width,K=R.height,A=R.left,x=R.top,Y={pageX:q,pageY:k,clientX:q-A,clientY:k-x,target:1,originEvent:_},o=Y.clientX,i=Y.clientY,Q=function(Q){Q.style.height=K-6+S;var u=P(),Y=P(),l=function(t){M(t,h,e),M(t,"text-align","center"),M(t,O,"100%"),M(t,"font-size",10+S),M(t,"padding","2px 0"),M(t,"border","0px solid "+N.contextMenuScrollerBorderColor),M(t,"background-color",N.contextMenuScrollerColor1),t.style.backgroundImage="-webkit-linear-gradient(top, "+N.contextMenuScrollerColor1+", "+N.contextMenuScrollerColor2+")",t.style.backgroundImage="linear-gradient(to bottom, "+N.contextMenuScrollerColor1+", "+N.contextMenuScrollerColor2+")"};u[W]="menu-arrow-item menu-arrow-item-top",Y[W]="menu-arrow-item menu-arrow-item-bottom",l(u),M(u,"top",D),M(u,"left",D),M(u,"border-bottom-width",1+S),u[B]="▲",l(Y),M(Y,"bottom",D),M(Y,"left",D),M(Y,"border-top-width",1+S),Y[B]="▼",Q.$24b=u,Q.$25b=Y,Q.$18b=Q.scrollTop,Q.$22b=Q.scrollHeight,Q.$23b=Q.clientHeight,b(Q,u),b(Q,Y),y.$42b(Q)};y.beforeShow&&y.beforeShow(Y);var U=y._items;if(U&&(_&&_.preventDefault(),U.length)){y.rebuild(),N.appendToScreen(T),T.$26b=c(T,".menu-item");var v=T.children[0];v.offsetHeight>K&&Q(v);var l=i+(w?1:0),J=o+(w?1:0),X=function(c){for(var k=0,l=0,J=0,Y=y.$43b;J<c.children.length;J++){var t=c.children[J];if(t.getAttribute("data-id")){var R=t.children[1],e=t.children[2],r=R.children;if(Y){var A=r[0];r.length>1&&(A=r[1]),A.offsetWidth>Y&&(A[B]="<marquee scrollamount='3'>"+A[B]+"</marquee>",A.children[0].style.verticalAlign="text-bottom",M(A,O,Y+S),M(A,g,"inline-block"))}var j=R.offsetWidth,f=e.offsetWidth;j>k&&(k=j),f>l&&(l=f)}}for(J=0;J<c.children.length;J++){var t=c.children[J];if(t.getAttribute("data-id")){var R=t.children[1],e=t.children[2],T=R.children[0],G=R.children[1];!G&&T.style.width&&M(T,O,k+S),M(R,O,k+S),M(e,O,l+S)}}};X(v);var H=i+3+T.offsetHeight,f=o+3+T.offsetWidth;H>K?M(T,r,l-(H-K)+x+S):M(T,r,l+x+S),f>t?M(T,u,J-(f-t)+A+S):M(T,u,J+A+S);var p=y.$21b;p&&p.each(function(w){X(w),w.offsetHeight>K&&Q(w)}),y.$9b&&m(C(),F?"touchstart":"mousedown",y.$9b,!0),y.afterShow&&y.afterShow(Y),y.$47b()}}},isShowing:function(){return this._view?this._view.parentNode!=z:!1},getRelatedView:function(){return this.$12b},hide:function(){var $=this,Q=$._view;Q&&Q.parentNode&&(w(Q.parentNode,Q),k(C(),F?"touchstart":"mousedown",$.$9b,!0),$.afterHide&&$.afterHide())},dispose:function(){var o=this,Y=o.$12b,p=o._view;p&&(p.parentNode&&w(p.parentNode,p),o.disableGlobalKey(),Y&&(F?(k(Y,"touchstart",o.$6b,!0),k(Y,"touchmove",o.$7b),k(Y,"touchend",o.$8b)):k(Y,"contextmenu",o.$27b)),o._view=o._items=o.$21b=o.$19b=o.$12b=o.beforeShow=o.afterShow=o.afterHide=o.$9b=o.$3b=o.$6b=o.$7b=o.$8b=o.$27b=z)},$46b:function(C,k,Y,y,j){var P=A.initContext(C);A.translateAndScale(P,0,0,1),P.clearRect(0,0,Y,y),N.drawStretchImage(P,N.getImage(k),"fill",0,0,Y,y,j,this),P.restore()},$47b:function(){var m,Z,F,y=this,e=y._view;if(y.isShowing()){var g=c(e,".check-prefix");for(F=0;F<g.length;F++){var s=g[F];m=s.clientWidth,Z=s.clientHeight,s.$48b=m,s.$49b=Z,A.setCanvas(s,m,Z)}var O=c(e,".radio-prefix");for(F=0;F<O.length;F++){var U=O[F];m=U.clientWidth,Z=U.clientHeight,U.$48b=m,U.$49b=Z,A.setCanvas(U,m,Z)}var P=c(e,".contextmenu-item-icon");for(F=0;F<P.length;F++){var j=P[F];m=j.clientWidth,Z=j.clientHeight,j.$48b=m,j.$49b=Z,A.setCanvas(j,m,Z)}}},validateImpl:function(){var i,q,E,S=this,R=S._view;if(S.isShowing()){var r=c(R,".check-prefix");for(E=0;E<r.length;E++){var Y=r[E];i=Y.$48b,q=Y.$49b,i&&q&&S.$46b(Y,N.contextMenuCheckIcon,i,q)}var U=c(R,".radio-prefix");for(E=0;E<U.length;E++){var y=U[E];i=y.$48b,q=y.$49b,i&&q&&S.$46b(y,N.contextMenuRadioIcon,i,q)}var L=c(R,".contextmenu-item-icon");for(E=0;E<L.length;E++){var O=L[E];i=O.$48b,q=O.$49b,i&&q&&S.$46b(O,N.getImage(O.$50b),i,q,O._item)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//uicarousel
!function(a,b,c){"use strict";var d=ht.Default,e=d.def,f=ht.ui,g=d.startDragging,h=null,i=d.isDragging,j={width:16,height:16,comps:[{type:"circle",rect:[17,1,1],relative:!0,background:"#EBEBEB"}]},k={width:16,height:16,comps:[{type:"circle",rect:[17,1,1],relative:!0,background:"#3399ff"}]},l={width:20,height:40,comps:[{type:"rect",background:"rgba(0,0,0,0.20)",rect:[0,0,20,40]},{type:"shape",borderWidth:1,borderColor:"rgba(255, 255, 255, 0.4)",rotation:3.14159,points:[5.98486,10.84151,14.01514,20.09022,6.14152,29.15849]}]},m={width:20,height:40,comps:[{type:"rect",background:"rgba(0,0,0,0.40)",rect:[0,0,20,40]},{type:"shape",borderWidth:1,borderColor:"rgba(255, 255, 255, 0.4)",rotation:3.14159,points:[5.98486,10.84151,14.01514,20.09022,6.14152,29.15849]}]},n={width:20,height:40,comps:[{type:"rect",background:"rgba(0,0,0,0.60)",rect:[0,0,20,40]},{type:"shape",borderWidth:1,borderColor:"rgba(255, 255, 255, 0.4)",rotation:3.14159,points:[5.98486,10.84151,14.01514,20.09022,6.14152,29.15849]}]};f.Carousel=function(){ht.ui.Carousel.superClass.constructor.call(this)},e("ht.ui.Carousel",ht.ui.ViewGroup,{ui_ac:["autoplay","interval","is:loop","is:vertical","currentIndex","indicatorWidth","indicatorHeight","drawable:indicator","drawable:activeIndicator","is:indicatorVisible","indicatorGap","drawable:controller","drawable:hoverController","drawable:activeController","is:controllerVisible","controllerWidth","controllerHeight","is:autoHideController"],ms_ac:["currentController","currentControllerState"],__autoplay:500,__interval:4e3,__loop:!0,__indicatorWidth:5,__indicatorHeight:5,__indicatorGap:10,__indicator:["ht.ui.drawable.ImageDrawable",j,"fill"],__activeIndicator:["ht.ui.drawable.ImageDrawable",k,"fill"],__indicatorVisible:!0,__controllerVisible:!0,__controllerWidth:20,__controllerHeight:40,__controller:l,__hoverController:m,__activeController:n,__autoHideController:!0,initView:function(){var a=this;f.Carousel.superClass.initView.call(a,!0);var b=a.getContentCanvas();b.style.zIndex="1000001",b.style.pointerEvents="none"},getInteractorClasses:function(){return f.Carousel.superClass.getInteractorClasses.call(this).concat([f.CarouselInteractor])},onPropertyChanged:function(a){var b=this;f.Carousel.superClass.onPropertyChanged.call(b,a);var c=a.property;"children"===c&&(b.stopAnimation(),b.setCurrentIndex(0))},add:function(a,b){if(a&&a.getView)this.addView(a,h,b);else{a instanceof ht.ui.drawable.Drawable||(a=d.toDrawable(a));var c=new ht.ui.View({background:a});this.addView(c,h,b)}},clearAutoplay:function(){var a=this;clearTimeout(a._autoplayTimer),delete a._autoplayTimer},resumeAutoplay:function(){var a=this;a._pauseAutoplay=!1,a.iv()},pauseAutoplay:function(){var a=this;a._pauseAutoplay=!0,a.iv()},stopAnimation:function(){var a=this;a._ignoreIndex=!0,a._animation&&a._animation.stop(),a._ignoreIndex=!1},startAutoplay:function(a,b,c){var e=this;a==h&&(a=e.getInterval());var f=function(){var a=e.getContentWidth(),c=e.getContentHeight(),f=e.getVisibleChildren(),g=f.size(),i=e.isVertical(),j=e.getCurrentIndex(),k=f.get(j);b==h&&(b=j+1);var l=f.get(b);l||(l=f.get(0),b=0);var m=!0;if(j>b&&(m=!1),0===b&&j===g-1?m=!0:0===j&&b===g-1&&(m=!1),e._animateIndex=j,e.layoutChild(k,0,0,a,c),e.layoutChild(l,0,0,a,c),l.getView().style.visibility="visible",i)if(m){l.setY(k.getY()+k.getHeight()),l.setX(k.getX());var n=l.getY(),o=k.getY(),p=k.getY(),q=k.getY()-k.getHeight()}else{l.setY(k.getY()-k.getHeight()),l.setX(k.getX());var n=l.getY(),o=k.getY(),p=k.getY(),q=k.getY()+k.getHeight()}else if(m){l.setX(k.getX()+k.getWidth()),l.setY(k.getY());var r=l.getX(),s=k.getX(),t=k.getX(),u=k.getX()-k.getWidth()}else{l.setX(k.getX()-k.getWidth()),l.setY(k.getY());var r=l.getX(),s=k.getX(),t=k.getX(),u=k.getX()+k.getWidth()}e._animation=d.startAnim({duration:e.getAutoplay(),action:function(a,b){i?(l.setY(n-(n-o)*a),k.setY(p-(p-q)*a)):(l.setX(r-(r-s)*a),k.setX(t-(t-u)*a))},finishFunc:function(){e._ignoreIndex||e.setCurrentIndex(b),delete e._animation,delete e._animateIndex,e.clearAutoplay(),e.iv()}})};c?f():e._autoplayTimer=setTimeout(f,a)},figureIndicatorPosition:function(a,b,c,d,e){return e?{x:a-20-c,y:(b-d)/2}:{x:(a-c)/2,y:b-20-d}},figureControllerPosition:function(a,b,c,d,e,f){return e?"prev"===f?{x:(a-d)/2,y:0}:{x:(a-d)/2,y:b-c}:"prev"===f?{x:0,y:(b-d)/2}:{x:a-c,y:(b-d)/2}},getCurrentControllerDrawable:function(a){var b=this,c=b.getControllerDrawable();return"hover"===a?b.getHoverControllerDrawable()||c:"active"===a?b.getActiveControllerDrawable()||c:c},drawController:function(a,b,c,d,e,f,g){var i=this,j=i.getCurrentControllerDrawable(g),k=i.getContentCanvas(),l=i.getContentContext(),m=i._controllerRects;if(e)if("prev"===f)l.save(),l.translate(a+d/2,b+c),l.rotate(Math.PI/2),l.translate(-(a+d/2),-(b+c)),j.draw(a,b,c,d,h,i,k),l.restore(),m.prev={x:a,y:b,width:d,height:c};else{l.save(),b-=d/2;var n=a+d/2,o=b+c;l.translate(n,o),l.rotate(-Math.PI/2),l.translate(-n,-o),j.draw(a,b,c,d,h,i,k),l.restore(),m.next={x:a,y:b+d-c,width:d,height:c}}else"prev"===f?(j.draw(a,b,c,d,h,i,k),m.prev={x:a,y:b,width:c,height:d}):(l.save(),l.translate(a+c/2,b+d/2),l.rotate(Math.PI),l.translate(-(a+c/2),-(b+d/2)),j.draw(a,b,c,d,h,i,k),l.restore(),m.next={x:a,y:b,width:c,height:d})},indicatorHitTest:function(a){var b=this,c=b._indicatorRects;if(c)for(var e=a instanceof Event?b.lp(a):a,f=0,g=c.length;g>f;f++)if(d.containsPoint(c[f],e))return f},controllerHitTest:function(a){var b=this,c=b._controllerRects;if(c){var e=a instanceof Event?b.lp(a):a;if(d.containsPoint(c.prev,e))return"prev";if(d.containsPoint(c.next,e))return"next"}},drawIndicator:function(a,b,c,d,e,f,g,i){var j=this,k=j.getIndicatorDrawable(),l=j.getActiveIndicatorDrawable(),m=j.getContentCanvas(),n=j._indicatorRects;if(i)for(var o=0;f>o;o++)n.push({x:a,y:b,width:c,height:d}),g===o?l.draw(a,b,c,d,h,j,m):k.draw(a,b,c,d,h,j,m),b+=e+d;else for(var o=0;f>o;o++)n.push({x:a,y:b,width:c,height:d}),g===o?l.draw(a,b,c,d,h,j,m):k.draw(a,b,c,d,h,j,m),a+=e+c},validateImpl:function(a,b,c,e){var f=this,g=f.getVisibleChildren(),i=g.size();if(i>0){var j=f.getCurrentIndex(),k=g.get(j),l=f._animateIndex;if(l>=0&&l!==j&&f.stopAnimation(),f._animation==h){k.getView().style.visibility="visible",f.layoutChild(k,0,0,c,e);for(var m=0;i>m;m++){var n=g.get(m);n!==k&&(n.getView().style.visibility="hidden")}}if(i>1){var o=f.getAutoplay(),p=f.isLoop();!f._pauseAutoplay&&o>0&&(p||i-1>j)?f._autoplayTimer==h&&f._animation==h&&f.startAutoplay():f._autoplayTimer!=h&&f.clearAutoplay()}else f._autoplayTimer!=h&&f.clearAutoplay();f._indicatorRects=[];var q=f.getContentContext(),r=f.isVertical();if(q.clearRect(0,0,c,e),f.isIndicatorVisible()){var s=f.getIndicatorWidth(),t=f.getIndicatorHeight(),u=f.getIndicatorGap();if(r){var v=i*t+(i-1)*u,w=f.figureIndicatorPosition(c,e,s,v,r);f.drawIndicator(w.x,w.y,s,t,u,i,j,r)}else{var x=i*s+(i-1)*u,w=f.figureIndicatorPosition(c,e,x,t,r);f.drawIndicator(w.x,w.y,s,t,u,i,j,r)}}if(f._controllerRects={},(d.isTouchable||!f.isAutoHideController()||f._mouseenter)&&f.isControllerVisible()){var y=f.getControllerWidth(),z=f.getControllerHeight(),A=f.getCurrentController(),B=f.getCurrentControllerState(),C=f.figureControllerPosition(c,e,y,z,r,"prev");f.drawController(C.x,C.y,y,z,r,"prev","prev"===A?B:"normal");var D=f.figureControllerPosition(c,e,y,z,r,"next");f.drawController(D.x,D.y,y,z,r,"next","next"===A?B:"normal")}}},getSerializableProperties:function(){var a=f.Carousel.superClass.getSerializableProperties.call(this);return addMethod(a,{autoplay:1,interval:1,"is:loop":1,"is:vertical":1,currentIndex:1,indicatorWidth:1,indicatorHeight:1,indicator:1,indicatorDrawable:1,activeIndicator:1,activeIndicatorDrawable:1,indicatorVisible:1,indicatorGap:1,prev:1,prevDrawable:1,hoverPrev:1,hoverPrevDrawable:1,activePrev:1,activePrevDrawable:1,controllerVisible:1,controllerWidth:1,controllerHeight:1})}}),f.CarouselInteractor=function(a){f.CarouselInteractor.superClass.constructor.call(this,a)},e(f.CarouselInteractor,f.Interactor,{handle_mousedown:function(a){this.handle_touchstart(a)},handle_touchstart:function(a){var b=this,c=b.getComponent();if(d.preventDefault(a),d.isLeftButton(a)){var e=c.indicatorHitTest(a);if(e>=0)c.fireViewEvent({kind:"clickIndicator",index:e,nativeEvent:external});else{var f=c.controllerHitTest(a);c.setCurrentController(f),f&&(c.setCurrentControllerState("active"),g(b),b._touchstart=!0)}}},handle_touchmove:function(a){},handle_mousemove:function(a){var b=this,c=b.getComponent(),d=c.controllerHitTest(a);c.setCurrentController(d),d?b._touchstart?c.setCurrentControllerState("active"):i()||c.setCurrentControllerState("hover"):c.setCurrentControllerState(null)},handle_mouseup:function(a){this.handle_touchend(a)},handle_touchend:function(a){var b=this,c=b.getComponent();if(b._touchstart){d.isTouchable?c.setCurrentControllerState(null):c.setCurrentControllerState("hover");var e=c.getCurrentController(),f=c.getVisibleChildren().size();if("prev"===e){var g=!1;c._animation&&(c._animation.stop(),g=!0);var i=c.getCurrentIndex();i--,0>i&&(i=f-1),c._animation&&c._animation.stop(),c.clearAutoplay(),c.validate(),g?c.startAutoplay(c.getInterval(),i):c.startAutoplay(h,i,!0)}else if("next"===e){var g=!1;c._animation&&(c._animation.stop(),g=!0);var i=c.getCurrentIndex();i++,i>f-1&&(i=0),c.clearAutoplay(),c.validate(),g?c.startAutoplay(c.getInterval(),i):c.startAutoplay(h,i,!0)}}},handleWindowMouseMove:function(a){this.handleWindowTouchMove(a)},handleWindowTouchMove:function(a){},handleWindowMouseUp:function(a){this.handleWindowTouchEnd(a)},handleWindowTouchEnd:function(a){var b=this;b._touchstart=h},handle_mouseleave:function(a){var b=this,c=b.getComponent();c.isDisabled()||(c.setCurrentController(h),c.setCurrentControllerState(h),c.resumeAutoplay(),c._mouseenter=!1)},handle_mouseenter:function(a){var b=this,c=b.getComponent();c._mouseenter=!0,c.pauseAutoplay()}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);
//overview
!function(P,j){"use strict";var v="ht",k=v+".graph.",l=P[v],e=l.graph,o=l.Default,f=l.Color,G=null,_="px",H=o.getInternal(),I=H.getPinchDist,V=o.preventDefault,x=o.getTouchCount,L=o.startDragging;H.addMethod(o,{overviewBackground:f.widgetBackground,overviewMaskBackground:f.transparent,overviewContentBorderColor:f.widgetBorder,overviewContentBackground:f.background},!0),e.Overview=function(g){var q=this,I=q._view=H.createView(1,q);q._canvas=H.createCanvas(I),I.style.background=o.overviewBackground,I.appendChild(q._mask=H.createDiv()),q.setGraphView(g),q.addListeners()},o.def(k+"Overview",j,{ms_v:1,ms_fire:1,ms_listener:1,ms_ac:["maskBackground","contentBorderColor","contentBackground","autoUpdate","fixToRect"],_autoUpdate:!0,_fixToRect:!1,_rate:1,_scrollRect:{x:0,y:0,width:0,height:0},_maskBackground:o.overviewMaskBackground,_contentBorderColor:o.overviewContentBorderColor,_contentBackground:o.overviewContentBackground,getGraphView:function(){return this.gv},setGraphView:function(F){var f=this;if(f.gv!==F){var X=f.gv;f.gv=F,X&&(X.removeViewListener(f.handleGraphViewChanged,f),X.ump(f.handleGraphViewPropertyChanged,f)),F&&(F.addViewListener(f.handleGraphViewChanged,f),F.mp(f.handleGraphViewPropertyChanged,f)),f.fp("graphView",X,F),f.redraw()}},getCanvas:function(){return this._canvas},getMask:function(){return this._mask},dispose:function(){this.setGraphView(null)},onPropertyChanged:function(){this.redraw()},handleGraphViewChanged:function(k){this._autoUpdate&&"validate"===k.kind&&this.redraw()},handleGraphViewPropertyChanged:function(S){("canvasBackground"===S.property||this.getFixToRect()&&("zoom"===S.property||"translateX"===S.property||"translateY"===S.property))&&this.redraw()},redraw:function(){var B=this;B._redraw||(B._redraw=1,B.iv(50))},validateImpl:function(){var l=this,D=l.gv,i=l._canvas,n=l.getWidth(),c=l.getHeight(),a=l._redraw;if(D){var P=l._mask,h=P.style,y=D.getViewRect(),k=this.getFixToRect(),Q=k?"boolean"==typeof k?D.getContentRect():k:D.getScrollRect(),B=Q.x,F=Q.y,T=Q.width,j=Q.height,Y=l._rate=Math.max(T/n,j/c),I=l._x=(n-T/Y)/2,q=l._y=(c-j/Y)/2;if(0!==y.width&&0!==y.height||l.hasRetry||(o.callLater(l.iv,l,G),l.hasRetry=!0),(n!==i.clientWidth||c!==i.clientHeight)&&(H.setCanvas(i,n,c),a=1),H.isSameRect(Q,l._scrollRect)||(l._scrollRect=Q,a=1),a){var L=H.initContext(i),g=D.getDataModel(),C=g.getBackground()||l._contentBackground,s=l._contentBorderColor,X=o.devicePixelRatio;L.clearRect(0,0,n*X,c*X);var U=g.getBackground()&&g.a("width")>0&&g.a("height")>0;C&&!U&&H.fillRect(L,I*X,q*X,T/Y*X,j/Y*X,C),H.translateAndScale(L,-B/Y+I,-F/Y+q,1/Y),D._42(L),L.restore(),s&&H.drawBorder(L,s,I*X,q*X,T/Y*X,j/Y*X)}h.background=l._maskBackground,h.left=I+(y.x-B)/Y+_,h.top=q+(y.y-F)/Y+_,h.width=y.width/Y+_,h.height=y.height/Y+_,l._redraw=null}else if(a){var L=H.initContext(i);L.clearRect(0,0,n,c),L.restore(),l._redraw=null}},center:function(s){var m=this,D=m.gv;if(D){var t=D._zoom,Y=D._29I,L=m._rate,U=m._scrollRect,Q=o.getLogicalPoint(s,m._canvas),Z=U.x+(Q.x-m._x)*L,S=U.y+(Q.y-m._y)*L;D.setTranslate((Y.width/2-Z)*t,(Y.height/2-S)*t)}},handle_mousedown:function(r){this.handle_touchstart(r)},handleWindowMouseUp:function(q){this.handleWindowTouchEnd(q)},handleWindowMouseMove:function(S){this.handleWindowTouchMove(S)},handle_mousewheel:function(y){this.handleScroll(y,y.wheelDelta)},handle_DOMMouseScroll:function(E){2===E.axis&&this.handleScroll(E,-E.detail)},handleScroll:function(B,w){if(V(B),this.gv){var e=this.gv;w>0?e.scrollZoomIn():0>w&&e.scrollZoomOut()}},handle_touchstart:function(b){if(V(b),this.gv&&o.isLeftButton(b)){var K=this,h=K.gv,J=x(b);1===J?o.isDoubleClick(b)&&h.isResettable()?h.reset():(K.center(b),L(K,b)):2===J&&(K._dist=I(b),L(K,b))}},handleWindowTouchEnd:function(){delete this._dist},handleWindowTouchMove:function(Z){if(this.gv){var E=this,q=E._dist,g=x(Z);1===g?E.center(Z):2===g&&q!=G&&E.gv.handlePinch(G,I(Z),q)}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//historymanager
!function(J,G,T){"use strict";var I="ht",H=J[I],w=H.Default,n=w.def,j=w.getInternal();H.HistoryManager=function(p){this._histories=[],this.setDataModel(p)},n(H.HistoryManager,G,{ms_ac:["dataModel","histories","historyIndex","maxHistoryCount","disabled"],ms_fire:1,_historyIndex:-1,_betweenTransaction:0,_maxHistoryCount:200,_disabled:!1,ignoredPropertyMap:{imageLoaded:!0,children:!0,attaches:!0,shape:!0,childChange:!0,agentChange:!0,sourceAgent:!0,targetAgent:!0,edgeGroup:!0,"*":!0},ignoreDataModelPropertyMap:{},beginInteraction:function(){this.beginTransaction()},endInteraction:function(){this.endTransaction()},beginTransaction:function(){if(!this._disabled){var d=this;d._betweenTransaction++,1===d._betweenTransaction&&(d._transactionHistories={})}},endTransaction:function(){if(!this._disabled){var b=this,p=b._histories;if(b._betweenTransaction>0&&b._betweenTransaction--,0===b._betweenTransaction){if(b._transactionHistories){var Z=[];for(var h in b._transactionHistories)Z.push(b._transactionHistories[h]);Z.length&&(p=p.slice(0,b._historyIndex+1),p.push(Z),p.length>b._maxHistoryCount&&(p=p.slice(p.length-b._maxHistoryCount)),b.setHistories(p),b.setHistoryIndex(p.length-1,!0))}delete b._transactionHistories}}},setDataModel:function(d){var E=this,G=E._dataModel;G!==d&&(G&&(delete G._historyManager,G.ump(E.handleDataModelPropertyChange,E),G.umm(E.$5p,E),G.umd(E.$6p,E),G.removeHierarchyChangeListener(E.handleHierarchyChange,E),G.removeIndexChangeListener(E.handleIndexChange,E)),E._dataModel=d,d&&(d._historyManager=E,d.mp(E.handleDataModelPropertyChange,E),d.mm(E.$5p,E),d.md(E.$6p,E),d.addHierarchyChangeListener(E.handleHierarchyChange,E),d.addIndexChangeListener(E.handleIndexChange,E)),E.fp("dataModel",G,d),E.clear())},setHistoryIndex:function(O,H){var N=this,f=N._historyIndex,g=N._histories.length;if(-1>O?O=-1:O>=g&&(O=g-1),f!==O){if(!H){var S=O-f;S>0?N.$2p(S):0>S&&N.$1p(-S)}N._historyIndex=O,N.fp("historyIndex",f,O),N.dataModel&&N.dataModel.onHistoryManagerChanged()}},setMaxHistoryCount:function(M){var c=this,Q=c._histories,m=c._maxHistoryCount;(!M||0>=M)&&(M=10),m!==M&&(c._maxHistoryCount=M,c.fp("maxHistoryCount",m,M),Q.length>M&&c.clear())},cloneValue:function($){return H.Default.clone($)},isPropertyUndoable:function(m){return m&&!this.ignoredPropertyMap[m]},isIndexUndoable:function(){return!1},isDataModelPropertyUndoable:function(b){return b&&!this.ignoreDataModelPropertyMap[b]},$5p:function(K){this.handleChange(K,K.kind)},$6p:function(T){this.handleChange(T,"property")},handleHierarchyChange:function(p){this.handleChange(p,"hierarchy")},handleIndexChange:function(x){this.handleChange(x,"index")},handleDataModelPropertyChange:function(W){this.handleChange(W,"dataModelProperty")},toChildrenInfo:function(h){var j={};return j.data=h,j.children=[],h.eachChild(function(g){j.children.push(this.toChildrenInfo(g))},this),j},restoreChildren:function(c){var z=c.data;c.children.forEach(function(l){var r=l.data;r.getParent()!==z&&z.addChild(r),this._dataModel.contains(r)||this._dataModel.add(r),this.restoreChildren(l)},this)},handleChange:function(X,y){var r=this;if(!(r._disabled||r._isUndoRedoing||w.loadingRefGraph)){var c,t=(r._histories,X.data),C=X.property;if(!t||!(t._refGraph||t instanceof H.RefGraph)){if("property"===y)r.isPropertyUndoable(C,t)&&(c={kind:y,data:t,property:C,oldValue:r.cloneValue(X.oldValue,t,C),newValue:r.cloneValue(X.newValue,t,C),event:X});else if("hierarchy"===y||"index"===y&&r.isIndexUndoable(X))c={kind:y,data:t,oldIndex:X.oldIndex,newIndex:X.newIndex,event:X};else if("clear"===y)c={kind:y,json:X.json,event:X};else if("add"===y){if(c={kind:y,data:t,event:X,childrenInfo:this.toChildrenInfo(t),parent:t.getParent()},c.parent){var G=r._dataModel.getSiblings(t);c.siblingsIndex=G.indexOf(t)}t instanceof H.Node&&(c.host=t.getHost(),c.attaches=t.getAttaches()?t.getAttaches().toArray():T),t instanceof H.Edge&&(c.source=t.getSource(),c.target=t.getTarget())}else"remove"===y?c={kind:y,data:t,event:X}:"dataModelProperty"===y&&r.isDataModelPropertyUndoable(C,t)&&(c={kind:y,property:C,oldValue:r.cloneValue(X.oldValue,t,C),newValue:r.cloneValue(X.newValue,t,C),event:X});r.addHistory(c)}}},addHistory:function(i){var d=this;if(i)if(d._betweenTransaction){var o=(i.data?i.data._id:0)+"_"+i.kind+"_"+i.property;if("property"===i.kind||"dataModelProperty"===i.kind){var c=d._transactionHistories[o];c&&(i.oldValue=c.oldValue)}d._transactionHistories[o]=i}else{var I=d._histories;I=I.slice(0,d._historyIndex+1),I.push([i]),I.length>d._maxHistoryCount&&(I=I.slice(I.length-d._maxHistoryCount)),d.setHistories(I),d.setHistoryIndex(I.length-1,!0)}},canUndo:function(){return!this._disabled&&this._historyIndex>=0&&this._historyIndex<this._histories.length},canRedo:function(){return!this._disabled&&this._historyIndex>=-1&&this._historyIndex<this._histories.length-1},undo:function(T){(!T||0>=T)&&(T=1),this.setHistoryIndex(this._historyIndex-T)},$1p:function(x){if(this.canUndo()){var N,b=this,J=b._dataModel,C=b._histories,T=b._historyIndex,D=0;for(b._isUndoRedoing=!0,w.setIsolating(!0);x>0;){if(T>=0&&T<C.length){D++,N=C[T],T--;for(var l=N.length-1;l>=0;l--){var L=N[l],p=L.kind,g=L.data,e=L.property,Z=L.event,X=this.cloneValue(L.oldValue,g,e);if(L.undo)L.undo();else if("add"===p)J.remove(g,{keepChildren:!0});else if("remove"===p)J.contains(g)||J.add(g,Z.rootsIndex,Z.datasIndex);else if("clear"===p)J.deserialize(w.clone(L.json));else if("property"===p)if("parent"===e)X?X.addChild(g,Z.oldIndex):(g.setParent(X),Z.oldIndex>=0&&J.moveTo(g,Z.oldIndex));else{var f=null;0===e.indexOf("a:")?(f="attr",e=e.replace("a:","")):0===e.indexOf("s:")?(f="style",e=e.replace("s:","")):0===e.indexOf("f:")&&(f="field",e=e.replace("f:","")),j.setPropertyValue(g,f,e,X)}else if("dataModelProperty"===p){var f=null;0===e.indexOf("a:")?(f="attr",e=e.replace("a:","")):0===e.indexOf("s:")?(f="style",e=e.replace("s:","")):0===e.indexOf("f:")&&(f="field",e=e.replace("f:","")),j.setPropertyValue(J,f,e,X)}else"hierarchy"===p?J.moveTo(g,L.oldIndex):"index"===p&&J.moveToIndex(g,L.oldIndex)}}x--}w.setIsolating(!1),delete b._isUndoRedoing,b.afterUndo(D)}},afterUndo:function(){},redo:function(w){(!w||0>=w)&&(w=1),this.setHistoryIndex(this._historyIndex+w)},$2p:function(B){if(this.canRedo()){var b,W=this,J=W._dataModel,K=W._histories,x=W._historyIndex,i=0;for(W._isUndoRedoing=!0,w.setIsolating(!0);B>0;){if(x>=-1&&x<K.length-1){i++,x++,b=K[x];for(var Y=0;Y<b.length;Y++){var C=b[Y],I=C.kind,Q=C.data,P=C.property,R=C.event,f=this.cloneValue(C.newValue,Q,P);if(C.redo)C.redo();else if("add"===I)C.parent&&!Q.getParent()&&C.parent.addChild(Q,C.siblingsIndex),J.contains(Q)||J.add(Q,R.rootsIndex,R.datasIndex),this.restoreChildren(C.childrenInfo),Q instanceof H.Node&&(Q.setHost(C.host),C.attaches&&C.attaches.forEach(function(U){U.setHost(Q)})),Q instanceof H.Edge&&(Q.setSource(C.source),Q.setTarget(C.target));else if("remove"===I)J.remove(Q);else if("clear"===I)J.clear();else if("property"===I)if("parent"===P)f?f.addChild(Q,R.newIndex):(Q.setParent(f),R.newIndex>=0&&J.moveTo(Q,R.newIndex));else{var A=null;0===P.indexOf("a:")?(A="attr",P=P.replace("a:","")):0===P.indexOf("s:")?(A="style",P=P.replace("s:","")):0===P.indexOf("f:")&&(A="field",P=P.replace("f:","")),j.setPropertyValue(Q,A,P,f)}else if("dataModelProperty"===I){var A=null;0===P.indexOf("a:")?(A="attr",P=P.replace("a:","")):0===P.indexOf("s:")?(A="style",P=P.replace("s:","")):0===P.indexOf("f:")&&(A="field",P=P.replace("f:","")),j.setPropertyValue(J,A,P,f)}else"hierarchy"===I?J.moveTo(Q,C.newIndex):"index"===I&&J.moveToIndex(Q,C.newIndex)}}B--}w.setIsolating(!1),delete W._isUndoRedoing,this.afterRedo(i)}},afterRedo:function(){},clear:function(){this.setHistories([]),this.setHistoryIndex(-1,!0),this._betweenTransaction=0,delete this._transactionHistories}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//panel
!function(M,o,k){"use strict";var y="ht",i=M[y],O=i.Default,Q=O.isTouchable,j=O.isTouchEvent,U=i.Color,u="px",B="0",b="innerHTML",g="className",h="position",A="absolute",q="width",T="height",r="left",H="top",D="right",Y="bottom",x="max-width",C="max-height",p=null,F="none",t="",I=M.parseInt,v=M.setTimeout,Z=O.getInternal(),G=O.animate,W=U.titleIconBackground,E=function(){return document},m=function(D){return E().createElement(D)},P=function(){return m("div")},V=function(){return m("canvas")},J=function(t,q,V){t.style.setProperty(q,V,p)},f=function($,b){return $.style.getPropertyValue(b)},s=function(L,w){L.appendChild(w)},n=function(y,n){y.removeChild(n)},c=Z.addEventListener,w=(Z.removeEventListener,function(Q){var j=Q.scrollWidth,L=Q.scrollHeight;return Q===E().body&&(j=Math.max(j,E().documentElement.scrollWidth),L=Math.max(L,E().documentElement.scrollHeight)),{width:j,height:L}}),S=function(W){var I=W.touches[0];return I?I:W.changedTouches[0]};Z.addMethod(O,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:W,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:W}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:W},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:W}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:W},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:W}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:W},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:W},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:W},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:W}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:W},{type:"rect",rect:[10,118,268,56],background:W},{type:"rect",rect:[10,213,268,56],background:W}]},panelTitleLabelColor:O.labelSelectColor,panelTitleLabelFont:O.labelFont,panelContentLabelFont:O.labelFont,panelTitleBackground:U.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:k},!0);var a=i.widget.Panel=function(O){var F=this,X=F._view=Z.createView(null,F);F.$1i=0,F.$18i=new i.Notifier,F.$2i="leftTop",J(X,H,B),J(X,r,B),J(X,h,A),J(X,"overflow","hidden"),F._interactor=new z(F),F.setConfig(O),F.addEventListener(function(_){var g=F.getPanelConfig(_.id),J=g.content;("beginRestore"===_.kind||"betweenResize"===_.kind||"endToggle"===_.kind)&&(J&&J.invalidate&&J.invalidate(),g.items&&g.items.forEach(function(d){d&&d.content&&d.content.invalidate&&d.content.invalidate()}))})};O.def(a,o,{ms_v:1,_dragContainment:"parent",setConfig:function(F){function a(a){a.expanded=!a.expanded,U.togglePanel(a.id,!0,!0)}if(F){for(var U=this,c=U._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);U._config=F,U.$35i=[],F.expanded==p&&(F.expanded=F.expand!=p?F.expand:!0);var S=U._view,k=U.$24i(F,S,!0),e=k[2],m=F.width;U.$35i.push(k[1]),F.items&&F.items.forEach(function(g){g.expanded==p&&(g.expanded=g.expand!=p?g.expand:!0);var N=U.$24i(g,e.children[0]);U.$35i.push(N[1])});var M=P();J(M,q,10+u),J(M,T,10+u),J(M,h,A),J(M,Y,B),J(M,D,B),M[g]="resize-area",s(S,M),U.$10i(),F.flowLayout&&J(S,h,"relative"),J(S,"opacity",B),s(E().body,S),m==p&&(m=S.offsetWidth),J(S,q,m+u),J(S,x,m+u);var l=F.content;l&&l.isSelfViewEvent&&(l.setX(0),l.setY(0),l.setWidth(m-2*(F.borderWidth||0)),l.setHeight(F.contentHeight)),F.items&&F.items.forEach(function(G){a(G)}),F.buttons&&F.buttons.indexOf("toggle")<0||a(F),F.minimized==p&&F.minimize!=p&&(F.minimized=F.minimize),F.minimized&&F.minimizable!==!1&&U.minimize(!0),n(E().body,S),J(S,"opacity",t),c&&s(c,S),U.iv()}},getPanelConfig:function(m){var $=this,J=$._config,b=J.items;if(J.id===m)return J;if(b)for(var s=0;s<b.length;s++){var e=b[s];if(e.id===m)return e}},getPanelView:function(f){for(var e=this,i=e.$35i,q=0;q<i.length;q++){var F=i[q],E=F.parentNode;if(E.$15i===f)return E}},setDragContainment:function(g){this._dragContainment=g},getDragContainment:function(){return this._dragContainment},$20i:function(){var n=this._config,D=n.restoreIconSize||24;return D},$5i:function(d){var r=d.titleIconSize||16;return Q&&(r*=1.2),r},$4i:function(w){var m=w.titleHeight||O.widgetTitleHeight;return m},setTitle:function(_,u){if(u==p&&(u=this._config.id),u!=p){var U=this.getPanelConfig(u),F=this.getPanelView(u);U.title=_,F.querySelector(".panel-title span").innerHTML=_}},setInnerPanel:function(H){var b,L,T=this,w=H.id,S=T.$35i,D=!1;if(H.expanded==p&&(H.expanded=!0),w!=p){var h=T.getPanelConfig(w);if(h){D=!0;var d,x=T.getPanelView(w),y=x.parentNode,s=x.children[0];if(x!==T._view){T.$11i();for(d in h)delete h.key;for(d in H)h[d]=H[d];b=T.$24i(H,y,!1,x),L=b[1],y.removeChild(x);for(var c=0;c<S.length;c++)if(S[c]===s){S.splice(c,1,L);break}T.$12i(),h.expanded=!h.expanded,T.togglePanel(h.id,!0,!0),T.iv()}}}if(!D){T.$11i(),b=T.$24i(H,T._view.children[1]),L=b[1],S.push(L),T._config.items||(T._config.items=[]);var O=T._config.items;if(O.push(H),T.$12i(),O.length>1){var $=O[O.length-2],Q=T.getPanelView($.id).children[0];J(Q,"border-bottom",T.$55i($))}H.expanded=!H.expanded,T.togglePanel(H.id,!0,!0),T.iv()}},removeInnerPanel:function(r){var p,F=this,X=-1,o=F._config.items;if(o)for(p=0;p<o.length;p++){var i=o[p];if(i.id===r){X=p;break}}if(F.$11i(),X>=0){var P=F.$35i,q=F.getPanelView(r),U=q.children[0];for(p=0;p<P.length;p++)if(P[p]===U){P.splice(p,1);break}o.splice(X,1),q.parentNode.removeChild(q)}if(F.$12i(),o.length>0){var N=o[o.length-1],f=F.getPanelView(N.id).children[0];J(f,"border-bottom",F.$55i(N))}},$6i:function(l){J(l,"cursor","pointer"),J(l,"display","inline-block"),J(l,"margin-right",(Q?8:4)+u),J(l,"vertical-align",H)},$24i:function(l,k,r,v){var w=this,m=w._config.flowLayout,Y=r?k:P(),$=w.$50i(l),M=w.$3i(l,r);Y[g]="ht-widget-panel"+(r?" outer-panel":" inner-panel"),l.borderWidth==p&&(l.borderWidth=r?2:0);var E=l.borderWidth;if(E="0 "+E+u+" "+E+u+" "+E+u+" ",J(Y,"border-width",E),J(Y,"border-color",l.titleBackground||O.panelTitleBackground),J(Y,"border-style","solid"),s(Y,M),s(Y,$),r||(v?k.insertBefore(Y,v):s(k,Y)),!m&&r&&l.minimizable!==!1){var A=V(),j=w.$20i(),K=l.restoreToolTip;Z.setCanvas(A,j,j),A[g]="control-button button-minimize button-minimize-restore",w.$6i(A),J(A,"display","none"),s(k,A),A.title=K||""}var I=l.panelBackground||l.titleBackground||O.panelTitleBackground;if(J(Y,"background-color",I),l.id==p){for(var x=w.$1i++;w.getPanelConfig(x);)x=w.$1i++;l.id=x}return Y.$15i=l.id,l.width&&(Y.style.width=l.width+u),[Y,M,$]},$9i:function(X){var L=V();L[g]="control-button button-toggle button-toggle-expand",L.title=X.toggleToolTip||"";var F=this.$4i(X),z=this.$5i(X);return this.$6i(L),Z.setCanvas(L,z,F),L},$8i:function(d){var i=V(),$="control-button button-independent-switch";i[g]=d.independent===!0?$+" button-independent-switch-on":$+" button-independent-switch-off",i.title=d.independentSwitchToolTip||"";var t=this.$4i(d),P=this.$5i(d);return this.$6i(i),Z.setCanvas(i,P,t),i},$7i:function(y){var B=V();B[g]="control-button button-minimize button-minimize-minimize",B.title=y.minimizeToolTip||"";var w=this.$4i(y),o=this.$5i(y);return this.$6i(B),Z.setCanvas(B,o,w),B},$55i:function(U){var E=this._config,Y=E.items,p=U.separatorWidth||O.panelSeparatorWidth,Z=U.titleBackground||O.panelTitleBackground,x=U.expanded!==!1?Z:U.separatorColor||O.panelSeparatorColor||O.brighter(Z);return(E===U||Y&&Y.indexOf(U)===Y.length-1)&&(p=0),p+u+" solid "+x},$3i:function(l,j){var a=this,T=a._config.flowLayout,U=P(),C=P(),d=a.$4i(l),X=l.titleBackground,p=l.titleColor,c=l.titleIcon,G=l.buttons;if(U[g]="panel-title",J(U,h,"relative"),J(U,"background",X||O.panelTitleBackground),J(U,"color",p||O.panelTitleLabelColor),J(U,H,B),J(U,"box-sizing","border-box"),J(U,"-moz-box-sizing","border-box"),J(U,"padding","0 5px 0 0"),J(U,q,"100%"),J(U,"cursor","default"),J(U,"white-space","nowrap"),J(U,"font",O.panelTitleLabelFont),c){var W=V();W[g]="control-button panel-title-icon";var w=a.$4i(l),R=a.$5i(l);a.$6i(W),Z.setCanvas(W,R,w),s(U,W)}var z=m("span");J(z,"display","inline-block"),J(z,"margin-left","5px"),z[b]="<span>"+l.title+"</span>",s(U,z),J(U,"line-height",d+u),C[g]="panel-title-controls",J(C,h,A),J(C,r,B),J(C,D,5+u),J(C,H,B),J(C,Y,B),J(C,"text-align",D);var _=function(){var c=a.$9i(l);s(C,c)},E=function(){if(!T&&j&&l.minimizable!==!1){var L=a.$7i(l);s(C,L)}},o=function(){if(!j){var n=a.$8i(l);s(C,n)}},k=function(u){var W=V();W[g]="control-button custombutton-"+u.name,W.title=u.toolTip||"",W._action=u.action;var P=a.$4i(l),A=a.$5i(l);a.$6i(W),Z.setCanvas(W,A,P),s(C,W)};if(G)for(var I=0;I<G.length;I++){var y=G[I];"string"==typeof y?"minimize"===y?E():"independentSwitch"===y?o():"toggle"===y&&_():"object"==typeof y&&k(y)}else E(),_();return s(U,C),U},$50i:function(W){var j=P(),e=W.contentHeight,n=P();J(n,h,"relative"),j[g]="panel-body",J(j,"overflow","hidden");var G=W.contentBackground;if(G===k&&(G="white"),J(j,"background",G),J(j,"font",O.panelContentLabelFont),s(j,n),W.content){var U,E=W.content;E.getView?(s(n,E.getView()),U=n.children[0]):E instanceof Element?(s(n,E),U=n.children[0]):n[b]=E,E.isSelfViewEvent||U&&(J(U,q,"100%"),J(U,T,"100%")),e&&J(n,T,e+u)}return j},$10i:function(){var n=this,u=n._config,C=n._view,j=C.querySelector(".resize-area").style;j.display=u.flowLayout||u.minimized===!0||u.expanded===!1?F:"block"},$11i:function(){var V=this._view,c=V.children[1];this.$13i>=0?this.$13i++:this.$13i=1,J(c,C,t),J(V,x,t)},$12i:function(){var K=--this.$13i;if(0===K){var i=this._view,T=i.children[1];J(T,C,T.scrollHeight+u),J(i,x,i.offsetWidth+u)}},$14i:function(){var q=this._view,J=q.children[0],Z=J.children[1].children,U=this._config,$=0;q.$26i=q.offsetWidth,$+=J.children[0].offsetWidth,U.titleIcon&&($+=J.children[1].offsetWidth,Z=J.children[2].children);for(var x=0;x<Z.length;x++){var W=Z[x];$+=W.offsetWidth+5}q.$51i=$+15},togglePanel:function(I,l,Z){function o(t){var D=t.target,L=D.parentNode,_=r.getPanelConfig(L.$15i);delete L.$19i,D!==n&&r.$12i(),r.$18i.fire({kind:"endToggle",target:r,id:_.id})}for(var r=this,F=r._view,n=F.children[1],K=p,s=r.$35i,z=s.length,E=r._config.exclusive,H=r.$2i,h=[],y=r._config.narrowWhenCollapse,N=0;z>N;N++){var c=s[N],U=c.parentNode,Y=U.$15i,i=r.getPanelConfig(Y);Y===I&&(K=U),!l&&E&&i.expanded&&U!==F&&Y!==I&&i.independent!==!0&&h.push(U)}if(K&&!K.$19i){K.$19i=!0;var D=K.children[1],$=K.querySelector(".button-toggle"),_=r.getPanelConfig(K.$15i);if(!$)return;K===F||_.expanded||_.independent===!0||h.forEach(function(M){r.togglePanel(M.$15i,!0)}),K!==F&&r.$11i();var X=200;if(Z&&(X=0),r.$18i.fire({kind:"beginToggle",target:r,id:K.$15i}),_.expanded){var m=function(){$[g]="control-button button-toggle",$[g]+=H.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",J(D,q,D.clientWidth+u),_.expanded=!1,J(K.children[0],"border-bottom",r.$55i(_)),G(D).duration(X).set("opacity",B).set(C,B).end(o),y&&K===F&&G(K).duration(X).set(x,K.$51i+u).end(),K[g]+=" panel-collapse",G(K).duration(X).set("padding-bottom",B).end(),r.$28i(_,!0),r.$10i()};y&&K===F&&r.$14i(),m()}else $[g]="control-button button-toggle",$[g]+=H.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",J(D,q,t),_.expanded=!0,J(K.children[0],"border-bottom",r.$55i(_)),G(D).duration(X).set("opacity","1").set(C,D.scrollHeight+u).end(o),y&&K===F&&G(K).duration(X).set(x,(K.$26i||K.offsetWidth)+u).end(),K[g]=K[g].replace(" panel-collapse",t),G(K).duration(X).end(),r.$28i(_,!0),r.$10i()}},$16i:function(){var U=this._view,L=U.$22i,Q=U.$23i,k=this.$2i;return L==p&&(k.indexOf(r)>=0?L=U.$22i=0:k.indexOf(D)>=0&&(L=U.$22i=100)),Q==p&&(k.indexOf("Top")>=0?Q=U.$23i=0:k.indexOf("Bottom")>=0&&(Q=U.$23i=100)),[L,Q]},$25i:function(){var S=this,j=S._view,m=j.$21i,d=S.$20i(),Z=S.$16i(),V=Z[0],e=Z[1],A=S.$2i;j.children[0].style.display=F,j.children[1].style.display=F,j.children[2].style.display=t,J(j,"padding",B),J(j,x,d+u),"leftTop"===A?(J(j,r,I(f(j,r))+(m.width-d)*V/100+u),J(j,H,I(f(j,H))+(m.height-d)*e/100+u)):"leftBottom"===A?(J(j,r,I(f(j,r))+(m.width-d)*V/100+u),J(j,Y,I(f(j,Y))+(m.height-d)*(1-e/100)+u)):"rightTop"===A?(J(j,D,I(f(j,D))+(m.width-d)*(1-V/100)+u),J(j,H,I(f(j,H))+(m.height-d)*e/100+u)):"rightBottom"===A&&(J(j,D,I(f(j,D))+(m.width-d)*(1-V/100)+u),J(j,Y,I(f(j,Y))+(m.height-d)*(1-e/100)+u)),j[g]+=" panel-minimized",S.$18i.fire({kind:"endMinimize",target:S,id:j.$15i})},$17i:function(){var W=this,e=W._config,S=W._view;J(S,"-webkit-transform",t),J(S,"-ms-transform",t),J(S,"transform",t),e.minimized?W.$25i():(W.$18i.fire({kind:"endRestore",target:W,id:e.id}),S[g]=S[g].replace(" panel-minimized",t)),delete S.$19i},minimize:function(h){var Y=this,S=Y._view;if(!S.$19i&&S.children[0].style.display!==F){var j=Y._config,z=S.getBoundingClientRect(),r=Y.$20i(),Z=z.width,n=z.height,d=r/Z,l=r/n,N=Y.$16i(),w=N[0],O=N[1];S.$52i=d,S.$53i=l,S.$21i=z,Y.$18i.fire({kind:"beginMinimize",target:Y,id:S.$15i});var k=200;h&&(k=0),j.minimized=!0,S.$19i=!0,j.expanded&&(S.$26i=S.offsetWidth);var A=w+"% "+O+"%";J(S,"-webkit-transform-origin",A),J(S,"-ms-transform-origin",A),J(S,"transform-origin",A),G(S).duration(k).scale(d,l).end(function(){Y.$17i()}),Y.$10i()}},restore:function(){var p,C,X,c,t,e,L,z,S,W,U,B,j=this,K=j._view,m=K.parentNode,A=j._config;if(!K.$19i&&A.minimized){var N=K.$21i,R=K.$52i,P=K.$53i,n=(A.borderWidth+u,j.$20i()),Q=w(m),Z=j.$2i;"leftTop"===Z?(p=I(f(K,r)),X=I(f(K,H)),t=p,L=X,S=p+N.width-Q.width,W=X+N.height-Q.height,S>0&&(S>=p?p=0:p-=S),W>0&&(W>=X?X=0:X-=W),U=100*((t-p)/(N.width-n)),B=100*((L-X)/(N.height-n)),J(K,r,p+u),J(K,H,X+u)):"leftBottom"===Z?(p=I(f(K,r)),c=I(f(K,Y)),t=p,z=c,S=p+N.width-Q.width,W=c+N.height-Q.height,S>0&&(S>=p?p=0:p-=S),W>0&&(W>=c?c=0:c-=W),U=100*((t-p)/(N.width-n)),B=100*(1-(z-c)/(N.height-n)),J(K,r,p+u),J(K,Y,c+u)):"rightTop"===Z?(C=I(f(K,D)),X=I(f(K,H)),e=C,L=X,S=C+N.width-Q.width,W=X+N.height-Q.height,S>0&&(S>=C?C=0:C-=S),W>0&&(W>=X?X=0:X-=W),U=100*(1-(e-C)/(N.width-n)),B=100*((L-X)/(N.height-n)),J(K,D,C+u),J(K,H,X+u)):"rightBottom"===Z&&(C=I(f(K,D)),c=I(f(K,Y)),e=C,z=c,S=C+N.width-Q.width,W=c+N.height-Q.height,S>0&&(S>=C?C=0:C-=S),W>0&&(W>=c?c=0:c-=W),U=100*(1-(e-C)/(N.width-n)),B=100*(1-(z-c)/(N.height-n)),J(K,D,C+u),J(K,Y,c+u)),K.children[0].style.display="block",K.children[1].style.display="block",K.children[2].style.display=F,J(K,"-webkit-transform","scale("+R+", "+P+")"),J(K,"-ms-transform","scale("+R+", "+P+")"),J(K,"transform","scale("+R+", "+P+")"),K.$22i=U,K.$23i=B,J(K,"-webkit-transform-origin",U+"% "+B+"%"),J(K,"-ms-transform-origin",U+"% "+B+"%"),J(K,"transform-origin",U+"% "+B+"%"),A.narrowWhenCollapse&&!A.expanded?J(K,x,K.$51i+u):J(K,x,K.$26i+u),j.$18i.fire({kind:"beginRestore",target:j,id:K.$15i}),K.$19i=!0,A.minimized=!1,v(function(){G(K).scale(1,1).end(function(){j.$17i()})},30),j.$10i()}},addEventListener:function(p,G,v){this.$18i.add(p,G,v)},removeEventListener:function(B,Y){this.$18i.remove(B,Y)},setPosition:function(I,j){var T=this._view,X=this.$2i;"leftTop"===X?(J(T,r,I+u),J(T,H,j+u),J(T,D,t),J(T,Y,t)):"leftBottom"===X?(J(T,r,I+u),J(T,Y,j+u),J(T,D,t),J(T,H,t)):"rightTop"===X?(J(T,D,I+u),J(T,H,j+u),J(T,r,t),J(T,Y,t)):"rightBottom"===X&&(J(T,D,I+u),J(T,Y,j+u),J(T,r,t),J(T,H,t)),delete T.$22i,delete T.$23i},getPosition:function(){var P=this._view,b=this.$2i;return"leftTop"===b?{x:I(f(P,r)),y:I(f(P,H))}:"leftBottom"===b?{x:I(f(P,r)),y:I(f(P,Y))}:"rightTop"===b?{x:I(f(P,D)),y:I(f(P,H))}:"rightBottom"===b?{x:I(f(P,D)),y:I(f(P,Y))}:void 0},setPositionRelativeTo:function(G){var N=this,s=N._view.querySelectorAll(".button-toggle"),P="control-button button-toggle",n=N.getPosition();N.$2i=G,N.setPosition(n.x,n.y);for(var b=0;b<s.length;b++){var X=s[b],d=N.getPanelConfig(X.parentNode.parentNode.parentNode.$15i);X[g]=d.expanded?G.indexOf("Bottom")>=0?P+" button-toggle-collapse":P+" button-toggle-expand":G.indexOf("Bottom")>=0?P+" button-toggle-expand":P+" button-toggle-collapse"}N.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function($){var Q=this;Q._68I||(Q._68I=1,O.callLater(Q.validate,Q,p,$),Q.onInvalidated&&Q.onInvalidated(),Q.fireViewEvent("invalidate"));var q=this._config,G=q.content;G&&G.invalidate&&G.invalidate(),q.items&&q.items.forEach(function(g){g&&g.content&&g.content.invalidate&&g.content.invalidate()})},getIconStretch:function(){var s=this._config.iconStretch||"fill";return s},$27i:function(g,K,f,u,z){var x=Z.initContext(g);Z.translateAndScale(x,0,0,1),x.clearRect(0,0,f,f);var r=(f-u)/2;O.drawStretchImage(x,O.getImage(K),this.getIconStretch(z),0,r,u,u),x.restore()},$28i:function(q){var o,Y,z,g=this,y=q.id,r=g.getPanelView(y),_=r.querySelector(".button-toggle"),k=g.$2i.indexOf("Bottom")>=0;if(Y=k?O.panelCollapseIcon:O.panelExpandIcon,z=k?O.panelExpandIcon:O.panelCollapseIcon,_){o=q.expanded?O.getImage(z):O.getImage(Y);var T=g.$4i(q),e=g.$5i(q);g.$27i(_,o,T,e,"toggle")}},$29i:function($){var F,G=this,J=$.id,W=G.getPanelView(J),c=W.querySelector(".button-independent-switch"),A=O.panelUnLockIcon,l=O.panelLockIcon;if(c){F=$.independent!==!0?O.getImage(l):O.getImage(A);var V=G.$4i($),S=G.$5i($);G.$27i(c,F,V,S,"switch")}},$30i:function(K){var b=this,o=K.id,k=b.getPanelView(o),z=k.querySelector(".button-minimize-minimize"),u=O.panelMinimizeIcon;if(z){var n=b.$4i(K),y=b.$5i(K);b.$27i(z,O.getImage(u),n,y,"miminize")}},$31i:function(i){var j=this,z=i.id,E=j.getPanelView(z),C=E.querySelector(".button-minimize-restore"),k=i.titleIcon||O.panelRestoreIcon;if(C){var c=j.$20i();j.$27i(C,O.getImage(k),c,c,"restore")}},$32i:function(Q){var H=this,y=Q.id,L=H.getPanelView(y);if(Q.buttons){var e=Q.buttons;e.forEach(function(w){var F=w.name,Z=w.icon;if(F&&Z){var n=L.querySelector(".custombutton-"+F);if(n){var G=H.$4i(Q),_=H.$5i(Q)-1;H.$27i(n,O.getImage(Z),G,_,"custom")}}})}},$33i:function(R){var o=this,F=R.id,e=o.getPanelView(F),k=e.querySelector(".panel-title-icon"),$=R.titleIcon;if(k&&$){var m=o.$4i(R),x=o.$5i(R);o.$27i(k,O.getImage($),m,x,"title")}},validateImpl:function(){var r=this,A=r._config;r.$28i(A),r.$30i(A),r.$31i(A),r.$32i(A),r.$33i(A),A.items&&A.items.forEach(function(e){r.$28i(e),r.$29i(e),r.$32i(e)})},setWidth:function(P){var k=this,F=k._view,A=k._config;k._view.style.width=P+u,A&&(A.width=P,J(F,x,t)),k.iv(),k.fp&&k.fp(q,p,P)},setHeight:function(D){var I,o=this,x=o._config,z=o._view,n=z.children[1],N=o.$4i(x);D=Math.max(N,D-N),x&&(x.contentHeight=D),n&&((I=n.children[0])&&J(I,T,D+u),J(n,C,t)),o.iv(),o.fp&&o.fp(T,p,D)}});var z=function(S){var n=this,g=S.getView();n.$34i=S,n.addListeners(),c(g,"dblclick",n.$42i.bind(n))};O.def(z,o,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(W){for(var _=this.$34i,p=W.target,Q=_.$35i,c=Q.length,b=0;c>b;b++){var V=Q[b];V.contains(p)&&(W.preventDefault(),_.togglePanel(V.parentNode.$15i))}},handle_touchstart:function(Q){var W=this,Z=W.$34i,X=Z._config,s=X.flowLayout,Y=Q;if(O.isLeftButton(Q)){var r=Q.target,l=Z.getView().children[0],z=Z.getView().querySelector(".button-minimize-restore");j(Q)&&(Y=S(Q));var A=W.$40i={x:Y.pageX,y:Y.pageY};W.$41i={x:A.x,y:A.y},(!s&&l.contains(r)||z&&z.contains(r))&&(W.$38i=!0,O.startDragging(W,Q)),!s&&W.handle_mousemove(Q)&&(W.$37i=!0,O.startDragging(W,Q),Z.$11i())}},handle_mousedown:function(m){this.handle_touchstart(m)},handle_touchend:function(R){var V=this,d=V.$34i,u=R.target,E=d.$35i,T=E.length,Y=0,l=d.getView(),I=l.querySelector(".button-minimize"),q=l.querySelector(".button-minimize-restore");if(!V.$39i&&!V.$36i){if(I&&I.contains(u)||q&&q.contains(u))R.preventDefault(),d._config.minimized?d.restore():d.minimize();else for(;T>Y;Y++){var B=E[Y],O=B.parentNode,e=O.$15i,P=d.getPanelConfig(e),y=B.querySelector(".button-toggle"),r=B.querySelector(".button-independent-switch");if(y===u)R.preventDefault(),d.togglePanel(e);else if(r===u){R.preventDefault();var U="button-independent-switch-off",s="button-independent-switch-on";P.independent=P.independent==p?!0:!P.independent,r[g]=P.independent?r[g].replace(U,s):r[g].replace(s,U),d.$29i(P)}else u[g]&&u[g].indexOf("control-button custombutton-")>=0&&B.contains(u)&&u._action.call(d,P,d.getPanelView(e),R)}delete V.$40i,delete V.$41i}},handle_mouseup:function(h){this.handle_touchend(h)},handleWindowTouchEnd:function(){var l=this,y=l.$34i;l.$37i&&l.$36i?(y.$18i.fire({kind:"endResize",target:y,id:y.getView().$15i}),y.$12i()):l.$38i&&l.$39i&&y.$18i.fire({kind:"endMove",target:y,id:y.getView().$15i}),this.clear()},handleWindowMouseUp:function(Y){this.handleWindowTouchEnd(Y)},handle_mousemove:function(L){var n=this,I=n.getView(),k=I.querySelector(".resize-area"),H=k.getBoundingClientRect(),Q={x:H.left,y:H.top,width:H.width,height:H.height};L=j(L)?S(L):L;var P=L.clientX,m=L.clientY,h=n.$34i._config;return h.expanded&&h.minimized!==!0&&O.containsPoint(Q,{x:P,y:m})?(I.style.cursor="nwse-resize",!0):(I.style.cursor=t,void 0)},handleWindowTouchMove:function(t){t.preventDefault();var b=t;j(t)&&(b=S(t));var B=this,V=B.$40i,C=B.$41i;if(!(C.x==V.x&&C.y==V.y&&O.getDistance(C,{x:b.pageX,y:b.pageY})<=1)){var z=B.$34i,A=B.getView(),n=A.parentNode,e=z._config,Z=e.resizeMode||"wh",h=b.pageX-V.x,X=b.pageY-V.y,$=z.$2i;if(B.$37i){var v=A.children[1].children[0],y=A.offsetWidth,K=v.offsetHeight,U=y+h,s=K+X;U=Math.max(U,100),s=Math.max(s,100),"w"===Z?(J(A,q,U+u),e.width=U):"h"===Z?(J(v,T,s+u),e.contentHeight=s):"wh"===Z&&(J(A,q,U+u),J(v,T,s+u),e.width=U,e.contentHeight=s),$.indexOf("right")>=0&&J(A,D,I(f(A,D))-(U-y)+u),$.indexOf("Bottom")>=0&&J(A,Y,I(f(A,Y))-(s-K)+u),V.x=b.pageX,V.y=b.pageY;var d=e.content;d&&d.isSelfViewEvent&&(d.setX(0),d.setY(0),d.setWidth(e.width-2*(e.borderWidth||0)),d.setHeight(e.contentHeight)),B.$36i?z.$18i.fire({kind:"betweenResize",target:z,id:z.getView().$15i}):(B.$36i=!0,z.$18i.fire({kind:"beginResize",target:z,id:z.getView().$15i}))}else if(B.$38i){var p,c,o,G,E,R,_,k,Q,F,m=A.getBoundingClientRect(),i=m.width,M=m.height,l=w(n),W=l.width,x=l.height,L=z._dragContainment;"leftTop"===$?(p=I(f(A,r))||0,o=I(f(A,H))||0,E=p+h,_=o+X,"parent"===L&&(E+i>W&&(E=W-i),_+M>x&&(_=x-M),0>E&&(E=0),0>_&&(_=0)),Q=E-p,F=_-o,z.setPosition(E,_),V.x+=Q,V.y+=F):"rightBottom"===$?(c=I(f(A,D))||0,G=I(f(A,Y))||0,R=c-h,k=G-X,"parent"===L&&(0>R&&(R=0),0>k&&(k=0),R+i>W&&(R=W-i),k+M>x&&(k=x-M)),Q=R-c,F=k-G,z.setPosition(R,k),V.x-=Q,V.y-=F):"rightTop"===$?(c=I(f(A,D))||0,o=I(f(A,H))||0,R=c-h,_=o+X,"parent"===L&&(0>R&&(R=0),0>_&&(_=0),R+i>W&&(R=W-i),_+M>x&&(_=x-M)),Q=R-c,F=_-o,z.setPosition(R,_),V.x-=Q,V.y+=F):"leftBottom"===$&&(p=I(f(A,r))||0,G=I(f(A,Y))||0,E=p+h,k=G-X,"parent"===L&&(0>E&&(E=0),0>k&&(k=0),E+i>W&&(E=W-i),k+M>x&&(k=x-M)),Q=E-p,F=k-G,z.setPosition(E,k),V.x+=Q,V.y-=F),B.$39i?z.$18i.fire({kind:"betweenMove",target:z,id:z.getView().$15i}):(B.$39i=!0,z.$18i.fire({kind:"beginMove",target:z,id:z.getView().$15i}))}}},handleWindowMouseMove:function(l){this.handleWindowTouchMove(l)}});var K=i.widget.PanelGroup=function(R){var M=this,k=M._view=Z.createView(null,M);k.style.border="1px dashed black",k.style.position="absolute",k.style.background="rgba(120, 120, 120, 0.4)",M.$48i=new i.List,M._tolerance=100,M._config=R||{hGap:0,vGap:0},M.bindHandlePanelMove=M.handlePanelMove.bind(M),M.bindHandlePanelEvent=M.handlePanelEvent.bind(M),M.invalidate()};O.def(K,o,{invalidate:function(){var X=this;X._68I||(X._68I=1,v(function(){X.validate()},50))},validate:function(){if(this._68I){delete this._68I;var z=this.$48i.get(0);if(z){var G=z.getView().parentNode;G&&(this.layoutPanels(G,"leftTop"),this.layoutPanels(G,"rightTop"),this.layoutPanels(G,"leftBottom"),this.layoutPanels(G,"rightBottom"))}}},setLeftTopPanels:function(){var Z=this,j=Z.$43i,o=Z.$48i;j==p&&(j=Z.$43i=new i.List);for(var m=0;m<arguments.length;m++){var C=arguments[m];if("string"==typeof C)j.$49i=C;else{if(C._config.flowLayout)continue;C.setPositionRelativeTo("leftTop"),j.contains(C)||j.add(C),o.contains(C)||Z.add(C)}}},setRightTopPanels:function(){var f=this,e=f.$44i,$=f.$48i;e==p&&(e=f.$44i=new i.List);for(var h=0;h<arguments.length;h++){var X=arguments[h];if("string"==typeof X)e.$49i=X;else{if(X._config.flowLayout)continue;X.setPositionRelativeTo("rightTop"),e.contains(X)||e.add(X),$.contains(X)||f.add(X)}}},setLeftBottomPanels:function(){var L=this,l=L.$45i,M=L.$48i;l==p&&(l=L.$45i=new i.List);for(var A=0;A<arguments.length;A++){var O=arguments[A];if("string"==typeof O)l.$49i=O;else{if(O._config.flowLayout)continue;O.setPositionRelativeTo("leftBottom"),l.contains(O)||l.add(O),M.contains(O)||L.add(O)}}},setRightBottomPanels:function(){var r=this,S=r.$46i,d=r.$48i;S==p&&(S=r.$46i=new i.List);for(var l=0;l<arguments.length;l++){var W=arguments[l];if("string"==typeof W)S.$49i=W;else{if(W._config.flowLayout)continue;W.setPositionRelativeTo("rightBottom"),S.contains(W)||S.add(W),d.contains(W)||r.add(W)}}},add:function(Z){if(!Z._config.flowLayout){var R=this,c=R.$48i;c.contains(Z)||(Z.addEventListener(R.bindHandlePanelMove),Z.addEventListener(R.bindHandlePanelEvent),c.add(Z))}},remove:function(o){var l=this,C=l.$48i;C.contains(o)&&(o.removeEventListener(l.bindHandlePanelMove),o.removeEventListener(l.bindHandlePanelEvent),C.remove(o),l.$43i.contains(o)&&l.$43i.remove(o),l.$44i.contains(o)&&l.$44i.remove(o),l.$45i.contains(o)&&l.$45i.remove(o),l.$46i.contains(o)&&l.$46i.remove(o))},layoutPanels:function(Y,K,H){var k=this,x=k._config,v=x.hGap||0,I=x.vGap||0;if(Y){var W=k.$43i;if("leftBottom"===K?W=k.$45i:"rightTop"===K?W=k.$44i:"rightBottom"===K&&(W=k.$46i),!W)return;var E=W.$49i,U=v,G=I;if(Y.contains(k._view)&&Y.removeChild(k._view),W&&W.size()>0)for(var B=0;B<W.size();B++){var h=W.get(B),S=h.getView();Y=Y||S.parentNode,H!==B?h.setPosition(U,G):("leftTop"===K?(k._view.style.right="",k._view.style.bottom="",k._view.style.left=U+u,k._view.style.top=G+u):"leftBottom"===K?(k._view.style.right="",k._view.style.top="",k._view.style.left=U+u,k._view.style.bottom=G+u):"rightTop"===K?(k._view.style.left="",k._view.style.bottom="",k._view.style.right=U+u,k._view.style.top=G+u):"rightBottom"===K&&(k._view.style.left="",k._view.style.top="",k._view.style.right=U+u,k._view.style.bottom=G+u),k._view.style.width=S.offsetWidth+u,k._view.style.height=S.offsetHeight+u,Y.insertBefore(k._view,S)),"h"===E?U+=S.offsetWidth+v:"v"===E&&(G+=S.offsetHeight+I)}}},handlePanelEvent:function(M){if("beginToggle"===M.kind||"endToggle"===M.kind||"beginRestore"===M.kind||"endMinimize"===M.kind||"endResize"===M.kind){var X=this,N=M.target,o=N.getView(),g=o.parentNode,a=X.$43i,j=X.$44i,d=X.$45i,t=X.$46i,T=X._config,A=p,x=p,s=N.$47i;if(s==p&&(s=N.$47i=0),"beginToggle"===M.kind?s=N.$47i=s+1:"endToggle"===M.kind&&(s=N.$47i=s-1),a&&a.contains(N)?(A="leftTop",x=a):d&&d.contains(N)?(A="leftBottom",x=d):j&&j.contains(N)?(A="rightTop",x=j):t&&t.contains(N)&&(A="rightBottom",x=t),"beginToggle"===M.kind&&A&&1===s){var I=P(),y=I.style,i=x.$49i,q="each";y.fontSize="0",y.position="absolute",y.width="100%","leftTop"===A?(y.left=0,y.top=0):"leftBottom"===A?(y.left=0,y.bottom=0,"v"===i&&(q="reverseEach")):"rightTop"===A?(y.right=0,y.top=0,y.textAlign="right","h"===i&&(q="reverseEach")):"rightBottom"===A&&(y.right=0,y.bottom=0,y.textAlign="right",q="reverseEach"),x[q](function(t){var K=t.getView(),O=K.style,x=P();O.position="static",x.style.textAlign="left",x.style.position="relative",x.style.display="inline-block","leftTop"===A?(x.style.marginLeft=T.hGap+u,x.style.marginTop=T.vGap+u):"leftBottom"===A?(x.style.marginLeft=T.hGap+u,x.style.marginBottom=T.vGap+u):"rightTop"===A?(x.style.marginRight=T.hGap+u,x.style.marginTop=T.vGap+u):"rightBottom"===A&&(x.style.marginRight=T.hGap+u,x.style.marginBottom=T.vGap+u),x.appendChild(K),I.appendChild(x),"h"===i?x.style.verticalAlign="leftTop"===A||"rightTop"===A?"top":"bottom":I.appendChild(m("br"))}),X.$54i=I,g.appendChild(I)}else"endToggle"===M.kind&&A&&0===s?v(function(){g=g.parentNode.parentNode,g.removeChild(X.$54i),delete X.$54i,x.each(function(J){var T=J.getView(),R=T.style;R.position="absolute",g.appendChild(T)}),X.layoutPanels(g,A)},30):("beginRestore"===M.kind||"endMinimize"===M.kind||"endResize"===M.kind)&&A&&X.layoutPanels(g,A)}},handlePanelMove:function(V){if(!(V.kind.indexOf("Move")<0)){var t=this,x=t._config,J=x.hGap||0,_=x.vGap||0,P=V.target,y=P._view,Z=y.getBoundingClientRect(),N=Z.width,l=Z.height,b=N/2,k=l/2,q=y.parentNode,R=t.$43i,Y=t.$44i,U=t.$45i,h=t.$46i,L=q.getBoundingClientRect(),W=t._tolerance;if("endMove"===V.kind){var G=t._corner;G&&(P.setPositionRelativeTo(G),t.layoutPanels(q,G)),delete t._corner}if("betweenMove"===V.kind){var T=L.left,F=L.top,g=L.width,r=L.height,A=Z.left+N/2,$=Z.top+l/2;R==p&&(R=t.$43i=new i.List),U==p&&(U=t.$45i=new i.List),Y==p&&(Y=t.$44i=new i.List),h==p&&(h=t.$46i=new i.List),delete t._corner,R.contains(P)?(R.remove(P),t.layoutPanels(q,"leftTop")):U.contains(P)?(U.remove(P),t.layoutPanels(q,"leftBottom")):Y.contains(P)?(Y.remove(P),t.layoutPanels(q,"rightTop")):h.contains(P)&&(h.remove(P),t.layoutPanels(q,"rightBottom"));var K=function(o,E){var s=T+J,e=F+_;if(0===E.size()){var m=s+b,Y=e+k;"leftBottom"===o?Y=F+r-_-k:"rightTop"===o?m=T+g-J-b:"rightBottom"===o&&(m=T+g-J-b,Y=F+r-_-k);var L=A-m,R=$-Y,K=Math.sqrt(L*L+R*R);if(W>K)return t._corner=o,E.add(P),t.layoutPanels(q,o,0),!0}else if(1===E.size()){var Z=E.get(0),N=Z.getView().getBoundingClientRect(),x=N.left+b,u=N.top+k,i=N.left+N.width+J+b,U=e+k,v=s+b,S=N.top+N.height+_+k;"leftBottom"===o?(u=N.top+N.height-k,U=F+r-_-k,S=N.top-_-k):"rightTop"===o?(x=N.left+N.width-b,i=N.left-J-b,v=T+g-J-b):"rightBottom"===o&&(x=N.left+N.width-b,u=N.top+N.height-k,i=N.left-J-b,U=F+r-_-k,v=T+g-J-b,S=N.top-_-k);var M=A-x,n=$-u,Q=A-i,X=$-U,H=A-v,O=$-S,G=I(Math.sqrt(M*M+n*n)),C=I(Math.sqrt(Q*Q+X*X)),j=I(Math.sqrt(H*H+O*O)),V=[G,C,j];V.sort(function(_,E){return _-E});var d=V[0];if(W>d){if(t._corner=o,d===G)return E.add(P,0),t.layoutPanels(q,o,0),!0;if(d===C)return E.add(P),E.$49i="h",t.layoutPanels(q,o,1),!0;if(d===j)return E.add(P),E.$49i="v",t.layoutPanels(q,o,1),!0}}else if(E.size()>1){for(var B=p,f={},c=[],l=E.$49i,z=0;z<E.size();z++){var D=E.get(z),h=D.getView(),y=h.getBoundingClientRect(),w=y.left+b,a=y.top+k;"leftBottom"===o?a=y.top+y.height-k:"rightTop"===o?w=y.left+y.width-b:"rightBottom"===o&&(w=y.left+y.width-b,a=y.top+y.height-k),z===E.size()-1&&(B=y);var L=A-w,R=$-a,K=I(Math.sqrt(L*L+R*R));f[K]=z,c.push(K)}"leftTop"===o&&"h"===l?(m=B.left+B.width+J+b,Y=e+k):"leftTop"===o&&"v"===l?(m=s+b,Y=B.top+B.height+_+k):"leftBottom"===o&&"h"===l?(m=B.left+B.width+J+b,Y=F+r-_-k):"leftBottom"===o&&"v"===l?(m=s+b,Y=B.top-_-k):"rightTop"===o&&"h"===l?(m=B.left-J-b,Y=e+k):"rightTop"===o&&"v"===l?(m=T+g-J-b,Y=B.top+B.height+_+k):"rightBottom"===o&&"h"===l?(m=B.left-J-b,Y=F+r-_-k):"rightBottom"===o&&"v"===l&&(m=T+g-J-b,Y=B.top-_-k),L=A-m,R=$-Y,K=I(Math.sqrt(L*L+R*R)),f[K]=z,c.push(K),c.sort(function(f,H){return f-H});var d=c[0];if(W>d)return t._corner=o,E.add(P,f[d]),t.layoutPanels(q,o,f[d]),!0}};K("leftTop",R)||K("leftBottom",U)||K("rightTop",Y)||K("rightBottom",h)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//telecom
!function(I,x){"use strict";var E=ht.AlarmSeverity=function(k,Q,$,p,l){this.value=k,this.name=Q,this.nickName=$,this.color=p,this.displayName=l};ht.Default.def("ht.AlarmSeverity",x,{toString:function(){return this.displayName||this.name}}),function(){E.severities=new ht.List,E._vm={},E._nm={},E._cp=function(G,u){if(G&&u){var q=G.value-u.value;return q>0?1:0>q?-1:0}return G&&!u?1:!G&&u?-1:0},E.each=function(s,Z){E.severities.each(s,Z)},E.getSortFunction=function(){return E._cp},E.setSortFunction=function(T){E._cp=T,E.severities.sort(T)},E.add=function(Z,e,o,d,f){var v=new E(Z,e,o,d,f);return E._vm[Z]=v,E._nm[e]=v,E.severities.add(v),E.severities.sort(E._cp),v},E.remove=function(m){var i=E._nm[m];return i&&(delete E._nm[m],delete E._vm[i.value],E.severities.remove(i)),i},E.CRITICAL=E.add(500,"Critical","C","#FF0000"),E.MAJOR=E.add(400,"Major","M","#FFA000"),E.MINOR=E.add(300,"Minor","m","#FFFF00"),E.WARNING=E.add(200,"Warning","W","#00FFFF"),E.INDETERMINATE=E.add(100,"Indeterminate","N","#C800FF"),E.CLEARED=E.add(0,"Cleared","R","#00FF00"),E.isClearedAlarmSeverity=function(D){return D?0===D.value:!1},E.getByName=function(J){return E._nm[J]},E.getByValue=function(m){return E._vm[m]},E.clear=function(){E.severities.clear(),E._vm={},E._nm={}},E.compare=function(u,A){return E._cp(u,A)}}();var B=ht.AlarmState=function(N){this._d=N,this._nm={},this._am={},this._ps=null,this._haa=null,this._hna=null,this._hoa=null,this._hta=null,this._hls=!1,this._aac=0,this._nac=0};ht.Default.def("ht.AlarmState",x,{_ep:!0,_f:function(){this._c1(),this._c2(),this._c3(),this._c4(),this._c5(),this._c6(),this._c7(),this._d.fp("alarmState",null,this)},getHighestAcknowledgedAlarmSeverity:function(){return this._haa},getHighestNewAlarmSeverity:function(){return this._hna},getHighestOverallAlarmSeverity:function(){return this._hoa},getHighestNativeAlarmSeverity:function(){return this._hta},hasLessSevereNewAlarms:function(){return this._hls},_c1:function(){var K=null;for(var T in this._am)T=E.getByName(T),E.isClearedAlarmSeverity(T)||0!==this.getAcknowledgedAlarmCount(T)&&(K=K?E.compare(K,T)>0?K:T:T);this._haa=K},_c2:function(){var Y=null;for(var M in this._nm)M=E.getByName(M),E.isClearedAlarmSeverity(M)||0!==this.getNewAlarmCount(M)&&(Y=Y?E.compare(Y,M)>0?Y:M:M);this._hna=Y},_c3:function(){if(!this._hna)return this._hls=!1,void 0;for(var X in this._nm)if(X=E.getByName(X),!E.isClearedAlarmSeverity(X)&&0!==this.getNewAlarmCount(X)&&E.compare(this._hna,X)>0)return this._hls=!0,void 0;this._hls=!1},_c4:function(){var R=this._haa,j=this._hna,$=this._ps;this._hoa=R,E.compare(j,this._hoa)>0&&(this._hoa=j),E.compare($,this._hoa)>0&&(this._hoa=$)},_c5:function(){var F=this._haa,k=this._hna;this._hta=F,E.compare(k,this._hta)>0&&(this._hta=k)},increaseAcknowledgedAlarm:function(o,a){if(0!==a){a=a||1;var m=this._am[o.name]||0;m+=a,this._am[o.name]=m,this._f()}},increaseNewAlarm:function(k,$){if(0!==$){$=$||1;var t=this._nm[k.name]||0;t+=$,this._nm[k.name]=t,this._f()}},decreaseAcknowledgedAlarm:function(g,S){if(0!==S){S||(S=1);var l=this._am[g.name]||0;if(l-=S,0>l)throw"Alarm count can not be negative";this._am[g.name]=l,this._f()}},decreaseNewAlarm:function(v,J){if(0!==J){J||(J=1);var r=this._nm[v.name]||0;if(r-=J,0>r)throw"Alarm count can not be negative";this._nm[v.name]=r,this._f()}},acknowledgeAlarm:function(l){this.decreaseNewAlarm(l,1),this.increaseAcknowledgedAlarm(l,1)},acknowledgeAllAlarms:function(V){if(V){var k=this.getNewAlarmCount(V);this.decreaseNewAlarm(V,k),this.increaseAcknowledgedAlarm(V,k)}else for(var T in this._nm)this.acknowledgeAllAlarms(E.getByName(T))},_c6:function(){this._aac=0;for(var f in this._am)f=E.getByName(f),this._aac+=this.getAcknowledgedAlarmCount(f)},getAcknowledgedAlarmCount:function(l){return l?this._am[l.name]||0:this._aac},getAlarmCount:function(W){return this.getAcknowledgedAlarmCount(W)+this.getNewAlarmCount(W)},_c7:function(){this._nac=0;for(var m in this._nm)this._nac+=this.getNewAlarmCount(E.getByName(m))},getNewAlarmCount:function(C){return C?this._nm[C.name]||0:this._nac},setNewAlarmCount:function(Z,C){this._nm[Z.name]=C,this._f()},removeAllNewAlarms:function(w){w?delete this._nm[w]:this._nm={},this._f()},setAcknowledgedAlarmCount:function(Z,g){this._am[Z.name]=g,this._f()},removeAllAcknowledgedAlarms:function(c){c?delete this._am[c.name]:this._am={},this._f()},isEmpty:function(){return!this._hoa},clear:function(){this._am={},this._nm={},this._f()},getPropagateSeverity:function(){return this._ps},setPropagateSeverity:function(F){if(this._ep||(F=null),this._ps!==F){var i=this._ps;this._ps=F,this._f(),this._d.fp("propagateSeverity",i,F)}},isEnablePropagation:function(){return this._ep},setEnablePropagation:function(U){var I=this._ep;this._ep=U,this._d.fp("enablePropagation",I,U)&&(U||this.setPropagateSeverity(null))}});var _=ht.AlarmStatePropagator=function(c){this._dataModel=c,this._enable=!1,this._isPropagating=!1};ht.Default.def("ht.AlarmStatePropagator",x,{getDataModel:function(){return this._dataModel},isEnable:function(){return this._enable},setEnable:function(S){this._enable!==S&&(this._enable=S,this._enable?(this._dataModel.mm(this.handleDataModelChange,this),this._dataModel.md(this.handleDataPropertyChange,this),this._dataModel.each(function(J){this.propagate(J)},this)):(this._dataModel.umm(this.handleDataModelChange,this),this._dataModel.umd(this.handleDataPropertyChange,this)))},handleDataModelChange:function(O){O.data&&this.propagate(O.data)},handleDataPropertyChange:function(a){if("alarmState"===a.property||"enablePropagation"===a.property)this.propagate(a.data);else if("parent"===a.property){var m=a.oldValue;m&&this.propagate(m),this.propagate(a.data)}},propagate:function(g){g&&!this._isPropagating&&(this._isPropagating=!0,this.propagateToTop(g),this._isPropagating=!1)},propagateToTop:function(q){for(this.propagateToParent(null,q);q&&q.getParent();)this.propagateToParent(q,q.getParent()),q=q.getParent()},propagateToParent:function(Y,e){var Q=null;e.getChildren().each(function(T){var O=T.getAlarmState().getHighestOverallAlarmSeverity();E.compare(O,Q)>0&&(Q=O)}),e.getAlarmState().setPropagateSeverity(Q)}}),ht.AlarmStateStatistics=function(O){this.sumNew=0,this.sumAcked=0,this.sumTotal=0,this.severtiyMap={},this.dataMap={},this.setDataModel(O)},ht.Default.def("ht.AlarmStateStatistics",x,{ms_fire:1,getDataModel:function(){return this._dataModel},setDataModel:function(O){var r=this._dataModel;r!==O&&(r&&(r.umd(this.handleDataPropertyChange,this),r.umm(this.handleDataModelChange,this),this.severtiyMap={},this.dataMap={}),this._dataModel=O,this.reset(),O.md(this.handleDataPropertyChange,this),O.mm(this.handleDataModelChange,this),this.fp("dataModel",r,O))},dispose:function(){this._dataModel.umd(this.handleDataPropertyChange,this),this._dataModel.umm(this.handleDataModelChange,this),delete this._dataModel},handleDataPropertyChange:function($){"alarmState"===$.property&&(this.increase($.data),this.fireAlarmStateChange())},handleDataModelChange:function(g){"add"===g.kind?(this.increase(g.data),this.fireAlarmStateChange()):"remove"===g.kind?(this.decrease(g.data),this.fireAlarmStateChange()):"clear"===g.kind&&(this.severtiyMap={},this.dataMap={},this.fireAlarmStateChange())},fireAlarmStateChange:function(){this.sumAcked=0,this.sumNew=0,this.sumTotal=0,E.each(function(C){var G=this.getSumInfo(C);this.sumAcked+=G.ackedCount,this.sumNew+=G.newCount,this.sumTotal+=G.totalCount},this),this.fp("alarmState",!1,!0)},getNewAlarmCount:function(e){if(!e)return this.sumNew;var G=this.getSumInfo(e);return G.newCount},getAcknowledgedAlarmCount:function(A){if(!A)return this.sumAcked;var u=this.getSumInfo(A);return u.ackedCount},getTotalAlarmCount:function(m){if(!m)return this.sumTotal;var j=this.getSumInfo(m);return j.totalCount},getSumInfo:function(U){var z=this.severtiyMap[U.name];return z||(z={},z.newCount=0,z.ackedCount=0,z.totalCount=0,this.severtiyMap[U.name]=z),z},decrease:function(p){var X=this.dataMap[p.getId()];X&&(delete this.dataMap[p.getId()],E.each(function(S){var J=X[S.name],L=this.getSumInfo(S);L.newCount=L.newCount-J.newCount,L.ackedCount=L.ackedCount-J.ackedCount,L.totalCount=L.totalCount-J.totalCount},this))},increase:function(K){if(this.decrease(K),!this._filterFunc||this._filterFunc(K)){var q={},u=K.getAlarmState();this.dataMap[K.getId()]=q,E.each(function(K){var h={};h.newCount=u.getNewAlarmCount(K),h.ackedCount=u.getAcknowledgedAlarmCount(K),h.totalCount=u.getAlarmCount(K),q[K.name]=h;var F=this.getSumInfo(K);F.newCount=F.newCount+h.newCount,F.ackedCount=F.ackedCount+h.ackedCount,F.totalCount=F.totalCount+h.totalCount},this)}},reset:function(){this.severtiyMap={},this.dataMap={},this._dataModel.each(this.increase,this),this.fireAlarmStateChange()},setFilterFunc:function(i){var U=this._filterFunc;this._filterFunc=i,this.reset(),this.fp("filterFunc",U,i)},getFilterFunc:function(){return this._filterFunc}});var J=ht.Data.prototype;J.getAlarmState=function(){return this._alarmState||(this._alarmState=new B(this))},J=ht.DataModel.prototype,J.isEnableAlarmStatePropagator=function(){return!!this._alarmStatePropagator&&this._alarmStatePropagator.isEnable()},J.setEnableAlarmStatePropagator=function(O){O!=this.isEnableAlarmStatePropagator()&&(O?(this._alarmStatePropagator=new _(this)).setEnable(!0):this._alarmStatePropagator.setEnable(!1))},J=ht.graph.GraphView.prototype,J.getNote2=function(B){var i=B.getAlarmState().getHighestNewAlarmSeverity();if(i){var F=B.getAlarmState().getNewAlarmCount(i)+i.nickName;return B.getAlarmState().hasLessSevereNewAlarms()&&(F+="+"),F}return B.s("note2")},J.getNote2Background=function(D){var n=D.getAlarmState().getHighestNewAlarmSeverity();return n?n.color:D.s("note2.background")},J.getBodyColor=function(G){var e=G.getAlarmState().getHighestNativeAlarmSeverity();return e?e.color:G.s("body.color")},J.getBorderColor=function(v){var b=v.getAlarmState().getPropagateSeverity();return b?b.color:v.s("border.color")},J=ht.widget.TreeView.prototype,J.getBorderColor=function(f){var z=f.getAlarmState().getPropagateSeverity();return z?z.color:f.s("border.color")},J.getIcon=function(C){return C.getIcon()?"__alarmIcon__":null},J=ht.widget.TreeTableView.prototype,J.getBorderColor=function(N){var v=N.getAlarmState().getPropagateSeverity();return v?v.color:N.s("border.color")},J.getIcon=function(G){return G.getIcon()?"__alarmIcon__":null},ht.Default.setImage("__alarmIcon__",{width:16,height:16,comps:[{type:"image",name:{func:function(V){return V.getIcon()}},color:{func:function(W){var r=W.getAlarmState().getHighestNativeAlarmSeverity();return r?r.color:W.s("body.color")}},rect:[0,0,16,16]}]});var S=ht.Style;S["note2.expanded"]=!0,S["note2.color"]="#000"}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//uiuploader
!function(a,b,c){"use strict";var d=ht.Default,e=d.def,f=ht.ui;d.setImage("Uploader_true",{width:100,height:100,comps:[{type:"oval",background:"rgb(38,255,0)",rect:[0,0,100,100]},{type:"shape",borderWidth:16,borderColor:"#fff",points:[14.75638,45.93968,46.91415,70.78886,85.24362,29.21114]}]}),d.setImage("Uploader_false",{width:100,height:100,comps:[{type:"oval",background:"rgb(255,0,0)",rect:[0,0,100,100]},{type:"shape",borderWidth:16,borderColor:"#fff",points:[74.22274,22.57541,25.98608,80.23202]},{type:"shape",borderWidth:16,borderColor:"#fff",points:[22.25058,23.38747,78.28306,78.93271]}]}),d.setImage("Uploader_delete",{width:100,height:100,comps:[{type:"shape",borderWidth:8,borderColor:"#979797",points:[3.9818,4.77816,95.2446,96.51877]},{type:"shape",borderWidth:8,borderColor:"#979797",points:[95.72241,4.77816,5.25597,95.72241]}]}),d.setImage("Uploader_hoverDelete",{width:100,height:100,comps:[{type:"shape",borderWidth:8,borderColor:"#31A5FF",points:[3.9818,4.77816,95.2446,96.51877]},{type:"shape",borderWidth:8,borderColor:"#31A5FF",points:[95.72241,4.77816,5.25597,95.72241]}]}),d.setImage("Uploader_activeDelete",{width:100,height:100,comps:[{type:"shape",borderWidth:8,borderColor:"#31F5FF",points:[3.9818,4.77816,95.2446,96.51877]},{type:"shape",borderWidth:8,borderColor:"#31F5FF",points:[95.72241,4.77816,5.25597,95.72241]}]}),d.setImage("Uploader_file",{width:100,height:100,comps:[{type:"shape",borderWidth:3,borderColor:"#979797",closePath:!0,points:[10.67198,1.97609,10.67198,97.57298,88.57743,98.02391,88.57743,28.12996,66.44036,1.97609]},{type:"shape",borderWidth:3,borderColor:"#979797",points:[66.44036,1.97609,66.44036,27.67903,88.36457,27.67903]},{type:"shape",borderWidth:3,borderColor:"#979797",points:[24.29479,52.48011,73.46462,52.70557]},{type:"shape",borderWidth:3,borderColor:"#979797",points:[24.29479,75.25201,73.85606,75.25201]}]}),f.Uploader=function(){var a=this,b=a.inputFile=document.createElement("input");b.type="file",b.multiple="multiple",f.Uploader.superClass.constructor.call(this);var d=new f.VBoxLayout,e=a.createButton();b.addEventListener("change",function(){a._onChangeFunc(),b.value=""}),e.on("click",function(){b.click()},c,c,c,!0),a._button=e,a._fileList=d,a.addView(e),a.addView(d,{width:"match_parent",height:"match_parent"})};var g=function(a,b,c,d,e){var f="ui"===b?"__":"_",g=a[f+c],h=function(a,b){return e instanceof Function?e(a,b):e};a[f+c]=h(c,a),a._fileList.getChildren().each(function(a){d instanceof Array?d.forEach(function(b){a["set"+b[0].toUpperCase()+b.slice(1)](h(b,a))}):a["set"+d[0].toUpperCase()+d.slice(1)](h(d,a))}),a.fp(c,g,h(c,a))};d.def("ht.ui.Uploader",f.VBoxLayout,{ms_ac:["fileFilterFunc","multiple","accept","suffix","limit","button","fileNameFommatter"],ui_ac:["drawable:deleteIcon","drawable:activeDeleteIcon","drawable:hoverDeleteIcon","drawable:trueIcon","drawable:falseIcon","rightIconHeight","rightIconWidth","fileRowBackground","fileHoverRowBackground","fileTextColor","fileHoverTextColor","fileTextFont","fileRowHeight"],__padding:[10,20,10,20],__minSize:{width:300,height:100},__deleteIcon:"Uploader_delete",__hoverDeleteIcon:"Uploader_hoverDelete",__activeDeleteIcon:"Uploader_activeDelete",__trueIcon:"Uploader_true",__falseIcon:"Uploader_false",__rightIconWidth:16,__rightIconHeight:16,_multiple:!0,_accept:"all",_suffix:"...",_limit:20,__fileHoverRowBackground:"#F5F8FA",__fileRowBackground:"#FFF",__fileTextColor:"#4B5B6F",__fileHoverTextColor:"#31A5FF",__fileTextFont:"18px arial, sans-serif",__fileRowHeight:33,_fileFilterFunc:function(a){var b=!0;return b},_addFileData:function(a){var b=this,c=b._fileList,d=a.getLayoutParams()?a.getLayoutParams():{};d.width="match_parent";var e=b.getFileHoverRowBackground(),f=e,g=b.getFileRowBackground(),h=b.getFileTextFont(),i=b.getFileTextColor(),j=b.getFileHoverTextColor(),k=j,l=b.getFileRowHeight();a.setHoverBackground(e),a.setActiveBackground(f),a.setBackground(g),a.setTextFont(h),a.setTextColor(i),a.setHoverTextColor(j),a.setActiveTextColor(k),d.height=l,c.addView(a,d),b.fireViewEvent({kind:"fileDataAdded",data:a,source:b})},_getInputFilesList:function(){for(var a=this,b=a.inputFile.files,c=new ht.List,d=0;d<b.length;d++){var e=b[d];c.add(e)}return c},_getInputFilesListPath:function(){var a,b=this,c=b.inputFile.value;return a=b._getPath(c)},_onChangeFunc:function(){var a=this,b=a._getInputFilesList(),c=a._getInputFilesListPath(),d=a.getFileFilterFunc(),e=a.getFileDatas(),g=a.getLimit(),h=a._fileList;b.each(function(b){var i,j=c+b.name;if(b.fullName=j,d(b))if(g){var k=h.getChildren().size();if(k>=g){var l=k-g,m=new ht.List;h.getChildren().each(function(a,b){l>b&&m.add(a)}),m.each(function(b){a.removeFileData(b)});var n=new f.UploaderFileData(a);a.fireViewEvent({kind:"fileDataCreating",data:n,source:a}),n.setFile(b);for(var o=0;o<e.length;o++){var p=e.get(o).getFile();if(j===p.fullName){i=!0;break}}i||(a.removeFileData(h.getChildren().get(0)),a._addFileData(n))}else{var n=new f.UploaderFileData(a);a.fireViewEvent({kind:"fileDataCreating",data:n,source:a}),n.setFile(b);for(var o=0;o<e.length;o++){var p=e.get(o).getFile();if(j===p.fullName){i=!0;break}}!i&&a._addFileData(n)}}else{var n=new f.UploaderFileData(a);a.fireViewEvent({kind:"fileDataCreating",data:n,source:a}),n.setFile(b);for(var o=0;o<e.length;o++){var p=e.get(o).getFile();if(j===p.fullName){i=!0;break}}!i&&a._addFileData(n)}})},_getPath:function(a){var b=a.lastIndexOf("\\"),c=a.slice(0,b+1);return c},_fileNameFommatter:function(a){return a},setFileNameFommatter:function(a){var b=this;b._fileNameFommatter=a,b.getFileDatas().each(function(a){a.iv()})},removeFileData:function(a){var b=this,c=b._fileList;c.removeView(a),b.fireViewEvent({kind:"fileDataRemoved",data:a,source:b})},createButton:function(){var a=new ht.ui.Button;return a.__background="#48A2E9",a.__textColor="#F7FFFF",a.__text="点击上传",a},setButton:function(a){var b=this,d=b._button;b.removeView(d),b._button=a,b.addView(a,c,0),b.fp("button",d,a),a.on("click",function(){b.inputFile.click()},c,c,c,!0)},setFileRowBackground:function(a){var b=this;g(b,"ui","fileRowBackground","background",a)},setFileHoverRowBackground:function(a){var b=this;g(b,"ui","fileHoverRowBackground",["hoverBackground","activeBackground"],a)},setFileTextFont:function(a){var b=this;g(b,"ui","fileTextFont","textFont",a)},setFileTextColor:function(a){var b=this;g(b,"ui","fileTextColor","textColor",a)},setFileHoverTextColor:function(a){var b=this;g(b,"ui","fileHoverTextColor",["hoverTextColor","activeTextColor"],a)},setFileRowHeight:function(a){var b=this;g(b,"ui","fileRowHeight","layoutParams",function(b,c){var d=a;return"layoutParams"===b&&(d=ht.Default.clone(c.getLayoutParams()),d.height=a),d})},setAccept:function(a){var b=this,d=b.inputFile;a&&"all"!=a?d.accept=a:(a="all",d.accept=c),b.setPropertyValue("accept",a)},setLimit:function(a){var b=this,c=b._fileList,d=c.getChildren().size();if(d>a){var e=d-a,f=new ht.List;c.getChildren().each(function(a,b){e>b&&f.add(a)}),f.each(function(a){b.removeFileData(a)})}b.setPropertyValue("limit",a)},setMultiple:function(a){var b=this,d=b.inputFile;a?(a=!0,d.multiple="multiple"):(a=!1,d.multiple=c),b.setPropertyValue("multiple",a)},getFileDatas:function(){var a=this._fileList,b=a.getChildren(),c=b.toList();return c},handleFileDataDelete:function(a){var b=this;b.removeFileData(a)},getFiles:function(){var a=this,b=a.getFileDatas(),c=new ht.List;return b.each(function(a){c.add(a.getFile())}),c},reverse:function(){var a=this,b=a.getChildren();b.reverse(),a.iv()},getSerializableProperties:function(){var a=this,b=f.Uploader.superClass.getSerializableProperties.call(a);return delete b.children,d.addMethod(b,{fileFilterFunc:!0,multiple:!0,accept:!0,suffix:!0,button:!0,fileNameFommatter:!0,deleteIcon:!0,activeDeleteIcon:!0,hoverDeleteIcon:!0,trueIcon:!0,falseIcon:!0,rightIconHeight:!0,rightIconWidth:!0,fileRowBackground:!0,fileHoverRowBackground:!0,fileTextColor:!0,fileHoverTextColor:!0,fileTextFont:!0,fileRowHeight:!0})},clearFileDatas:function(){var a=this;a.getFileDatas().each(function(b){a.removeFileData(b)})}});var h=f.UploaderFileData=function(a){var b=this;h.superClass.constructor.call(b),b._source=a};d.def("ht.ui.UploaderFileData",f.Button,{ms_ac:["uploadState","file","rightIconState"],__icon:"Uploader_file",__iconWidth:16,__iconHeight:16,__iconTextGap:5,__border:null,__align:"left",__text:"未知文件.xxx",__textFont:"18px arial, sans-serif",__textColor:"#4B5B6F",__hoverTextColor:"#31A5FF",__activeTextColor:"#31A5FF",__background:"#FFF",__hoverBackground:"#F5F8FA",__activeBackground:"#F5F8FA",__state:"normal",__padding:[4,5,4,5],_rightIconState:"showState",_fileName:"未知文件.xxx",_uploadState:"waiting",_getShowFileName:function(a,b,e){var f=this,g=f._source,h=function(a){return a},i=g._fileNameFommatter&&g._fileNameFommatter instanceof Function?g._fileNameFommatter:h;b=i(b)===c?h(b):i(b);var j,k=d.getTextSize(a,b),l=g.getSuffix(),m=d.getTextSize(a,l),n=e-m.width;if(0>n)j=l;else if(k.width<e)j=b;else{if(k.width>2*n)for(var o=1;o<b.length;o++){j=b.slice(0,o-1);var p=b.slice(0,o),q=d.getTextSize(a,p);if(q.width>n)break}else for(var o=b.length-1;o>0;o--){j=b.slice(0,o);var q=d.getTextSize(a,j);if(q.width<n)break}j+=l}return j},getInteractorClasses:function(){return[f.UploaderFileDataInteractor]},getCurrentStateIconDrawable:function(){var a=this,b=a._source,d=a.getUploadState(),e=b.getTrueIconDrawable(),f=b.getFalseIconDrawable();return"string"==typeof d?c:d?e:f},validateImpl:function(a,b,c,d){var e=this,g=e._source,h=e.getFile().name,i=e.getTextFont(),j=e.getIconTextGap(),k=e.getIconWidth(),l=g.getRightIconWidth(),m=c-l-k-2*j,n=e._getShowFileName(i,h,m);e.__text=n,f.UploaderFileData.superClass.validateImpl.call(e,a,b,c,d);var o=e.getRootContext(),p=g.getRightIconHeight(),q=g.getDeleteIconDrawable(),r=e.getCurrentStateIconDrawable(),s=e.getRightIconState(),t=e.getPaddingLeft(),u=e.getBorderLeft(),v=e.getPaddingTop(),w=e.getBorderTop(),x=e._rightIconRect={x:a+c-l-t-u,y:b+(d-p)/2-v-w,width:l,height:p};if(o.beginPath(),"showState"===s)r&&r.draw(x.x+a,x.y+b,x.width,x.height,null,e);else if("showDelete"===s)q.draw(x.x+a,x.y+b,x.width,x.height,null,e);else if("hoverDelete"===s){var y=g.getHoverDeleteIconDrawable()?g.getHoverDeleteIconDrawable():q;y.draw(x.x+a,x.y+b,x.width,x.height,null,e)}else if("activeDelete"===s){var z=g.getActiveDeleteIconDrawable()?g.getActiveDeleteIconDrawable():q;z.draw(x.x+a,x.y+b,x.width,x.height,null,e)}},getSerializableProperties:function(){return{}}}),f.UploaderFileDataInteractor=function(a){f.UploaderFileDataInteractor.superClass.constructor.call(this,a)},e(f.UploaderFileDataInteractor,ht.ui.ButtonInteractor,{handle_mousedown:function(a){var b=this;b.handle_touchstart(a)},handle_touchstart:function(a){d.preventDefault(a);var b=this,c=b.getComponent();if(!c.isDisabled()&&c.hitTest(a)&&(c.requestFocus(),c.setState("active"),b._touchstart=!0),!c.isDisabled()&&d.isLeftButton(a)){var e=(c._source,c.lp(a));d.containsPoint(c._rightIconRect,e)&&(b._deleteTouchstart=!0,c.setRightIconState("activeDelete"))}},handle_mouseup:function(a){var b=this;b.handle_touchend(a)},handle_touchend:function(a){var b=this,c=b.getComponent(),e=c._source,f=c.lp(a);b._touchstart&&(d.isTouchable?(c.setState("normal"),c.setRightIconState("showState")):(c.setState("hover"),d.containsPoint(c._rightIconRect,f)&&b._deleteTouchstart?(c.setRightIconState("hoverDelete"),e.handleFileDataDelete(c)):c.setRightIconState("showDelete")),b._touchstart=null,b._deleteTouchstart=null)},handle_mousemove:function(a){var b=this,c=b.getComponent(),e=c.lp(a);c.isDisabled()||(c.hitTest(a)?b._touchstart?(c.setState("active"),b._deleteTouchstart&&d.containsPoint(c._rightIconRect,e)?c.setRightIconState("activeDelete"):d.containsPoint(c._rightIconRect,e)?c.setRightIconState("hoverDelete"):c.setRightIconState("showDelete")):d.getInternal().getDragger()||(c.setState("hover"),d.containsPoint(c._rightIconRect,e)?c.setRightIconState("hoverDelete"):c.setRightIconState("showDelete")):(c.setState("normal"),c.setRightIconState("showState")))},handle_mouseleave:function(a){var b=this,c=b.getComponent();c.isDisabled()||(c.setState("normal"),c.setRightIconState("showState"),b._touchstart=null,b._deleteTouchstart=null)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);
//uitimeline
!function(a,b,c){"use strict";var d=ht.Default,e=d.def,f=ht.ui;f.TimeLine=function(){ht.ui.TimeLine.superClass.constructor.call(this)},e("ht.ui.TimeLine",ht.ui.VBoxLayout,{ui_ac:["lineColor","lineWidth","labelFont","labelColor","labelBackground","iconBackground","headerFont","headerColor","contentFont","contentColor","eventBorder","eventBackground"],__lineColor:"#eeeeee",__lineWidth:3,__labelFont:"16px Arial",__labelColor:"rgb(255, 255, 255)",__labelBackground:["ht.ui.drawable.ColorDrawable","#FEB64D",5],__iconBackground:"#eeeeee",__headerFont:"14px Arial",__headerColor:"#000",__contentFont:"12px Arial",__contentColor:"#000",__padding:20,validateImpl:function(a,b,c,d){var e=this;ht.ui.TimeLine.superClass.validateImpl.call(e,a,b,c,d);var f=e.getRootContext(),g=e.getPaddingLeft(),h=e.getLineColor(),i=e.getLineWidth();f.beginPath(),f.fillStyle=h,f.fillRect(a+g,b,i,d)},addTimeLabel:function(a,b,c,d,e){if(a){var f=new ht.ui.Label;f.setText(a),f.setTextFont(b||this.getLabelFont()),f.setTextColor(c||this.getLabelColor()),f.setBackground(d||this.getLabelBackground()),f.setPadding(8),this.addView(f,{width:"wrap_content",height:"wrap_content",marginBottom:15},e)}},addTimeEvent:function(a,b){if(a){var c=this,d=a.icon,e=a.iconWidth||12,f=a.iconHeight||12,g=a.iconBackground||c.getIconBackground(),h=a.header,i=a.headerFont||c.getHeaderFont(),j=a.headerColor||c.getHeaderColor(),k=a.headerBackground,l=a.content,m=a.contentFont||c.getContentFont(),n=a.contentColor||c.getContentColor(),o=a.contentBackground,p=a.border||c.getEventBorder(),q=a.background||c.getEventBackground(),r=new ht.ui.HBoxLayout,s=new ht.ui.Label,t=new ht.ui.VBoxLayout;s.setIcon(d),s.setAlign("center"),s.setVAlign("middle"),s.setIconWidth(e),s.setIconHeight(f),s.setPreferredSize(e+5,f+5),s.drawBackground=function(){var a=this.getRootContext(),b=this.getContentWidth()/2,c=this.getContentHeight()/2,d=b>c?b:c;a.beginPath(),a.fillStyle=g,a.arc(b,c,d,0,2*Math.PI),a.fill()},r.addView(s,{width:"wrap_content",height:"wrap_content",marginLeft:c.getPaddingLeft()+c.getLineWidth()/2-(e+5)/2});var u,v;if("string"==typeof h){var w=new ht.ui.HtmlView;w.setContent('<div style="font: '+i+"; color: "+j+"; background: "+k+'">'+h+"</div>"),u=w,t.addView(u,{width:"match_parent",height:"wrap_content"})}else h&&(u=h,t.addView(u,{width:"match_parent",height:"wrap_content"}));if("string"==typeof l){var w=new ht.ui.HtmlView;w.setContent('<div style="font: '+m+"; color: "+n+"; background: "+o+'">'+l+"</div>"),v=w,t.addView(v,{width:"match_parent",height:"wrap_content",marginTop:5})}else l&&(v=l,t.addView(v,{width:"match_parent",height:"wrap_content",marginTop:5}));t.setBorder(p),t.setBackground(q),t.setPadding(10),r.addView(t,{width:"match_parent",height:"wrap_content",marginLeft:20}),c.addView(r,{width:"wrap_content",height:"wrap_content",marginBottom:20},b)}},addTimeEvents:function(a,b){var c=this;a.forEach(function(a){c.addTimeEvent(a,b),b&&b++})},getSerializableProperties:function(){var a=ht.ui.TimeLine.superClass.getSerializableProperties.call(this);return ht.Default.addMethod(a,{lineWidth:!0,lineColor:!0,labelFont:!0,labelColor:!0,labelBackground:!0,iconBackground:!0,headerFont:!0,headerColor:!0,contentFont:!0,contentColor:!0,eventBorder:!0,eventBackground:!0})}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);
//uisidebar
!function(a,b,c){"use strict";var d=ht.Default,e=d.def,f=ht.ui;d.setImage("sidebar_collapse",{width:16,height:16,comps:[{type:"shape",points:[3,5,8,11,13,5],segments:[1,2,2],borderWidth:2,borderColor:"#596677",rotation:Math.PI/2}]}),d.setImage("sidebar_selectCollapse",{width:16,height:16,comps:[{type:"shape",points:[3,5,8,11,13,5],segments:[1,2,2],borderWidth:2,borderColor:"#fff",rotation:Math.PI/2}]}),d.setImage("sidebar_expand",{width:16,height:16,comps:[{type:"shape",points:[3,5,8,11,13,5],segments:[1,2,2],borderWidth:2,borderColor:"#596677"}]}),d.setImage("sidebar_selectExpand",{width:16,height:16,comps:[{type:"shape",points:[3,5,8,11,13,5],segments:[1,2,2],borderWidth:2,borderColor:"#fff"}]});var g=function(a){g.superClass.constructor.call(this,a);var b=this,c=b.handle_documentmousemove.bind(b),d=a._popupTree;d.addViewListener(function(d){var e=d.kind;"beforeShow"===e?b.registerCloseEvent(c):"afterHide"===e&&(a.setHoverDataId(null),b.unregisterCloseEvent(c))})};ht.Default.def(g,f.Interactor,{registerCloseEvent:function(a){document.addEventListener(d.isTouchable?"touchstart":"mousemove",a)},unregisterCloseEvent:function(a){document.removeEventListener(d.isTouchable?"touchstart":"mousemove",a)},handle_documentmousemove:function(a){var b=this,c=b.getComponent(),e=d.getTarget(a),f=d.getDragger();f||c.isCollapsedMode()&&(c.getView().contains(e)||c._popupTree.getView().contains(e)?b.timerId&&(clearTimeout(b.timerId),delete b.timerId):b.timerId||(b.timerId=setTimeout(function(){c.setHoverDataId(null),delete b.timerId},250)))},handle_mousemove:function(a){var b=this,c=b.getComponent();if(c.isCollapsedMode()){var d=c.getDataIdAt(a);null!=d?(b.timerId&&(clearTimeout(b.timerId),delete b.timerId),c.setHoverDataId(d)):b.timerId||(b.timerId=setTimeout(function(){c.setHoverDataId(null),delete b.timerId},250))}}}),f.Sidebar=function(a){a||(a=new ht.DataModel);var b=this,c=b._accordionTree=new h(a,b);b._popupTree=new i(a,b),c.addViewListener(b.handleTreeViewEvent,b),f.Sidebar.superClass.constructor.call(b),b.addView(c),b.setDataModel(a)},e("ht.ui.Sidebar",f.VBoxLayout,{ui_ac:["drawable:headerBackground","drawable:hoverHeaderBackground","drawable:expandedHeaderBackground","drawable:selectHeaderBackground","headerLabelFont","headerLabelColor","hoverHeaderLabelColor","expandedHeaderLabelColor","selectHeaderLabelColor","headerHeight","drawable:headerCollapseIcon","drawable:hoverHeaderCollapseIcon","drawable:selectHeaderCollapseIcon","drawable:headerExpandIcon","drawable:selectHeaderExpandIcon","rowHeight","drawable:rowBackground","drawable:hoverRowBackground","drawable:expandedRowBackground","drawable:selectRowBackground","rowLabelFont","rowLabelColor","hoverRowLabelColor","expandedRowLabelColor","selectRowLabelColor","drawable:rowCollapseIcon","drawable:hoverRowCollapseIcon","drawable:selectRowCollapseIcon","drawable:rowExpandIcon","drawable:selectRowExpandIcon","indent","messageGap","headerSeparatorColor","headerSeparatorVisible","headerSeparatorSize","popupDirection","popupSeparatorColor","is:useChildSelectStateForParent","visibleFunc","headerIconWidth","headerIconHeight","rowIconWidth","rowIconHeight","iconGap"],ms_ac:["hoverDataId"],__popupDirection:"right",__popupSeparatorColor:"#f2f6f9",__headerHeight:38,__rowHeight:30,__messageGap:4,__headerIconWidth:16,__headerIconHeight:16,__rowIconWidth:16,__rowIconHeight:16,__iconGap:4,__useChildSelectStateForParent:!0,__rowLabelColor:"#b4bcc8",__hoverRowLabelColor:"#b4bcc8",__expandedRowLabelColor:"#b4bcc8",__selectRowLabelColor:"#b4bcc8",__headerLabelFont:'14px "Open Sans", sans-serif',__rowLabelFont:'14px "Open Sans", sans-serif',__hoverRowBackground:"#3e4b5c",__expandedRowBackground:"#3e4b5c",__selectRowBackground:"#3e4b5c",__hoverHeaderBackground:"#2c3542",__expandedHeaderBackground:"#2c3542",__selectHeaderBackground:"#36c6d3",__headerLabelColor:"#b4bcc8",__hoverHeaderLabelColor:"#b4bcc8",__expandedHeaderLabelColor:"#b4bcc8",__selectHeaderLabelColor:"white",__headerCollapseIcon:"sidebar_collapse",__hoverHeaderCollapseIcon:"sidebar_collapse",__selectHeaderCollapseIcon:"sidebar_selectCollapse",__headerExpandIcon:"sidebar_expand",__selectHeaderExpandIcon:"sidebar_selectExpand",__rowCollapseIcon:"sidebar_collapse",__hoverRowCollapseIcon:"sidebar_collapse",__selectRowCollapseIcon:"sidebar_selectCollapse",__rowExpandIcon:"sidebar_expand",__selectRowExpandIcon:"sidebar_selectExpand",__indent:12,__headerSeparatorColor:"#3d4957",__headerSeparatorVisible:!0,__background:"#364150",getMarginTop:function(a,b){if(0===b)return 0;if(1===b){var c=a.getParent(),d=c.getChildren(),e=d.get(0);return a===e?7:1}return 1},getMarginBottom:function(a,b){if(0===b)return 0;if(1===b){var c=a.getParent(),d=c.getChildren(),e=d.get(d.size()-1);return a===e?7:1}return 1},getAccordionTree:function(){return this._accordionTree},getPopupTree:function(){return this._popupTree},getDataIdAt:function(a){for(var b=this.getChildren(),c=d.getTarget(a),e=0,f=b.size();f>e;e++){var g=b.get(e);if(g.getView().contains(c))return g._item.id}},setListDatas:function(a,b){if(a&&(d.isString(a)&&(a=ht.Default.parse(a)),d.isArray(a))){var c=this,e=c.getDataModel(),g=new f.SimpleDMJSONSerializer(e);e.clear(),g.deserialize(a,null,b)}},getListDatas:function(){var a=this,b=a.getDataModel(),c=new f.SimpleDMJSONSerializer(b);return c.toJSON()},handleTreeViewEvent:function(a){var b=this,c=a.kind;"expand"===c||"collapse"===c?b.iv():"clickData"===c?b.fireViewEvent(a):"clickDataMessage"===c&&b.fireViewEvent(a)},setCollapsedMode:function(a){var b=this,c=!!b._collapsedMode;if(a=!!a,c!==a){var d=b.handleTreeViewEvent,e=b._accordionTree,f=b._popupTree;b.clear(),a?(e.removeViewListener(d,b),f.addViewListener(d,b),b.ivm()):(f.removeViewListener(d,b),e.addViewListener(d,b),b.addView(e))}b.setPropertyValue("collapsedMode",a)},isCollapsedMode:function(){return this._collapsedMode},hidePopup:function(){this._popupTree.hide()},isShowing:function(){return this._popupTree.isInDOM()},getInteractorClasses:function(){return f.Sidebar.superClass.getInteractorClasses.call(this).concat([g])},setDataModel:function(a){var b=this,c=b._dataModel;c!==a&&(c&&(c.umm(b.handleDataModelChange,b),c.umd(b.handleDataPropertyChange,b),c.umh(b.handleHierarchyChange,b),c.sm().ums(b.handleSelectionChange,b)),b._dataModel=a,a.mm(b.handleDataModelChange,b),a.md(b.handleDataPropertyChange,b),a.mh(b.handleHierarchyChange,b),a.sm().ms(b.handleSelectionChange,b),b.getAccordionTree().setDataModel(a),b.getPopupTree().setDataModel(a),b._invalidateModel=!0,b.fp("dataModel",c,a))},getDataModel:function(){return this._dataModel},dm:function(a){return a?void this.setDataModel(a):this.getDataModel()},handleDataModelChange:function(a){this.ivm()},handleDataPropertyChange:function(a){this.ivm()},handleHierarchyChange:function(a){this.ivm()},handleSelectionChange:function(a){this.iv()},ivm:function(){this.invalidateModel()},invalidateModel:function(){var a=this;a._invalidateModel||(a._invalidateModel=!0),a.iv()},onPropertyChanged:function(a){var b=this,c=a.property;f.Sidebar.superClass.onPropertyChanged.call(b,a),(c.indexOf("header")>=0||c.indexOf("Header")>=0||c.indexOf("row")>=0||c.indexOf("Row")>=0||"indent"===c||"messageGap"===c||"iconGap"===c)&&(b.isCollapsedMode()?b._popupTree.iv():b._accordionTree.iv()),"visibleFunc"===c&&(b._popupTree.ivm(),b._accordionTree.ivm())},validateModel:function(){var a=this;if(a.isCollapsedMode()){a.clear();var b=a._dataModel._roots;b.each(function(b){var c=new f.Button;c.__hoverBackground=null,c.__activeBackground=null,c.__border=null,c.__align="center",c.setIcon(b.getIcon()),c._item={id:b.getId(),label:b.getName(),icon:b.getIcon(),items:[]};var d=c._items=c._item.items;a.buildChildren(b,d),a.addView(c,{width:"match_parent",height:a.getHeaderHeight()})})}},buildChildren:function(a,b){var c=this,d=a.getChildren();d.each(function(a){var d={id:a.getId(),icon:a.getIcon(),label:a.getName(),items:[]};b.push(d),c.buildChildren(a,d.items)})},validateImpl:function(a,b,c,e){var g=this;if(g._invalidateModel&&(g.validateModel(),g._invalidateModel=null),f.Sidebar.superClass.validateImpl.call(g,a,b,c,e),g.isCollapsedMode()){var h=g.getChildren(),i=g.getDataModel(),j=g._popupTree,k=g._hoverDataId;null==k&&j.hide();for(var l=0,m=h.size();m>l;l++){var n=h.get(l),o=i.getDataById(n._item.id),p=j.hasSelectedChildren(o);if(n._item.id===k){var q=d.getWindowInfo(),r=n.getView().getBoundingClientRect();j.setRootData(i.getDataById(k)),j.setRootVisible(!1),j.ivm(),j.validateModel();var s=j.figurePreferredSize(),t=r.left+q.left+r.width,u=r.top+q.top,v=s.width,w=s.height;"left"===g.getPopupDirection()&&(t=r.left+q.left-v),u+w>q.top+q.height-1&&(w=q.top+q.height-1-u),j.setWidth(v),j.setHeight(w),j.show(t,u),j.validate()}if(j.isSelected(o)||p&&g.isUseChildSelectStateForParent()?n.setBackgroundDrawable(g.getSelectHeaderBackgroundDrawable()):n._item.id===k?n.setBackgroundDrawable(g.getExpandedHeaderBackgroundDrawable()):n.setBackgroundDrawable(g.getHeaderBackgroundDrawable()),g.isHeaderSeparatorVisible()){var x=n.getBorder();x?x.setColor(g.getHeaderSeparatorColor()):n.setBorder(new ht.ui.border.IndividualLineBorder(0,0,1,0,g.getHeaderSeparatorColor()))}var y=o.s("icon");j.isSelected(o)||j.hasSelectedChildren(o)&&g.isUseChildSelectStateForParent()?n.setIcon(o.s("selectIcon")||y):n._item.id===k?n.setIcon(o.s("expandedIcon")||y):n.setIcon(y),n.setIconWidth(g.getHeaderIconWidth()),n.setIconHeight(g.getHeaderIconHeight())}}},getSerializableProperties:function(){var a=ht.Default.clone(f.Sidebar.superClass.getSerializableProperties.call(this));return delete a.children,ht.Default.addMethod(a,{dataModel:!0,headerBackground:!0,headerBackgroundDrawable:!0,hoverHeaderBackground:!0,hoverHeaderBackgroundDrawable:!0,expandedHeaderBackground:!0,expandedHeaderBackgroundDrawable:!0,selectHeaderBackground:!0,selectHeaderBackgroundDrawable:!0,headerLabelFont:!0,headerLabelColor:!0,hoverHeaderLabelColor:!0,expandedHeaderLabelColor:!0,selectHeaderLabelColor:!0,headerHeight:!0,headerSeparatorColor:!0,headerSeparatorSize:!0,headerCollapseIcon:!0,headerCollapseIconDrawable:!0,hoverHeaderCollapseIcon:!0,hoverHeaderCollapseIconDrawable:!0,selectHeaderCollapseIcon:!0,selectHeaderCollapseIconDrawable:!0,headerExpandIcon:!0,headerExpandIconDrawable:!0,selectHeaderExpandIcon:!0,selectHeaderExpandIconDrawable:!0,rowHeight:!0,rowBackground:!0,rowBackgroundDrawable:!0,hoverRowBackground:!0,hoverRowBackgroundDrawable:!0,expandedRowBackground:!0,expandedRowBackgroundDrawable:!0,selectRowBackground:!0,selectRowBackgroundDrawable:!0,rowLabelFont:!0,rowLabelColor:!0,hoverRowLabelColor:!0,expandedRowLabelColor:!0,selectRowLabelColor:!0,rowCollapseIcon:!0,rowCollapseIconDrawable:!0,hoverRowCollapseIcon:!0,hoverRowCollapseIconDrawable:!0,selectRowCollapseIcon:!0,selectRowCollapseIconDrawable:!0,rowExpandIcon:!0,rowExpandIconDrawable:!0,selectRowExpandIcon:!0,selectRowExpandIconDrawable:!0,indent:!0,messageGap:!0,headerSeparatorVisible:!0,popupDirection:!0,popupSeparatorColor:!0,"is:useChildSelectStateForParent":!0,headerIconWidth:!0,headerIconHeight:!0,rowIconWidth:!0,rowIconHeight:!0,iconGap:!0})}});var h=f.Sidebar.AccordionTree=function(a,b){var c=this;c._sidebar=b,h.superClass.constructor.call(c,a),c.setRowHeightFunc(function(a){var c=this,d=c.getLevel(a),e=b.getMarginTop(a,d),f=b.getMarginBottom(a,d);return 0===d?b.getHeaderHeight(a)+e+f:b.getRowHeight(a)+e+f}),c.onDataClicked=function(a,b){var d=this.messageHitTest(a,b);d&&c.fireViewEvent({kind:"clickDataMessage",data:a,nativeEvent:b,message:d,source:c})}};d.def("ht.ui.Sidebar.AccordionTree",f.TreeView,{__preferredSizeRowCountLimit:1/0,__layoutParams:{width:"match_parent",height:"match_parent"},getRowIndent:function(){return this._sidebar.getIndent()},isVisible:function(a){var b=this._sidebar;if(a){var c=b.getVisibleFunc();return c?c(a):!0}return this.getPropertyValue("visible")},messageHitTest:function(a,b){var c,e=a._messageRects;if(e)for(var f=this.lp(b),g=0,h=e.length;h>g;g++){var i=e[g].rect;if(d.containsPoint(i,f))return c=e[g].message}},getBackgroundDrawable:function(){return this._sidebar.getBackgroundDrawable()},isRowLineVisible:function(){return this._sidebar.isHeaderSeparatorVisible()},toggleHitTest:function(a,b){var c=this;return b||(b=c.getDataAt(a)),b.hasChildren()?!0:void 0},drawToggleIcon:function(a,b,c,d,e,f){return a&&(b=this.getContentLeft()+this.getContentWidth()-d-this.getRowIndent(),a.draw(b,c,d,e,f,this)),4-this.getIconGap()},hasSelectedChildren:function(a){if(a.hasChildren()){for(var b=this,c=!1,d=b.sm().getSelection(),e=0,f=d.size();f>e;e++)for(var g=d.get(e);g;)if(g=g.getParent(),g&&g===a){c=!0;break}return c}},getRowBackgroundDrawableImpl:function(a,b,c){var d=this,e=d._sidebar;return 0===c?d.isSelected(a)||d.hasSelectedChildren(a)&&e.isUseChildSelectStateForParent()?e.getSelectHeaderBackgroundDrawable():a.hasChildren()&&d.isExpanded(a)?e.getExpandedHeaderBackgroundDrawable():a===d.getHoverData()?e.getHoverHeaderBackgroundDrawable():e.getHeaderBackgroundDrawable():d.isSelected(a)||d.hasSelectedChildren(a)&&e.isUseChildSelectStateForParent()?e.getSelectRowBackgroundDrawable():a.hasChildren()&&d.isExpanded(a)?e.getExpandedRowBackgroundDrawable():a===d.getHoverData()?e.getHoverRowBackgroundDrawable():e.getRowBackgroundDrawable()},getCurrentRowBackgroundDrawable:function(a,b){return this.getRowBackgroundDrawableImpl(a,b,this.getLevel(a))},drawRowLine:function(a,b,c,d,e,f,g){if(!g.getParent()){var i=this._sidebar;i.isHeaderSeparatorVisible()&&h.superClass.drawRowLine.call(this,a,i.getHeaderSeparatorColor(),c,d,e,f,g)}},getToggleIconDrawable:function(a){var b=this,c=b._sidebar,d=b.getLevel(a),e=a.hasChildren(),f=e&&b.isExpanded(a);if(0===d){if(f)return b.isSelected(a)||b.hasSelectedChildren(a)&&c.isUseChildSelectStateForParent()?c.getSelectHeaderExpandIconDrawable():c.getHeaderExpandIconDrawable();if(e)return b.isSelected(a)||b.hasSelectedChildren(a)&&c.isUseChildSelectStateForParent()?c.getSelectHeaderCollapseIconDrawable():a===b.getHoverData()?c.getHoverHeaderCollapseIconDrawable():c.getHeaderCollapseIconDrawable()}else if(e)return f?b.isSelected(a)||b.hasSelectedChildren(a)&&c.isUseChildSelectStateForParent()?c.getSelectRowExpandIconDrawable():c.getRowExpandIconDrawable():b.isSelected(a)||b.hasSelectedChildren(a)&&c.isUseChildSelectStateForParent()?c.getSelectRowCollapseIconDrawable():a===b.getHoverData()?c.getHoverRowCollapseIconDrawable():c.getRowCollapseIconDrawable()},getIcon:function(a){var b=this,c=b._sidebar,d=a.hasChildren(),e=a.s("icon"),f=d&&b.isExpanded(a);return f?b.isSelected(a)||b.hasSelectedChildren(a)&&c.isUseChildSelectStateForParent()?a.s("selectIcon")||e:a.s("expandedIcon")||e:b.isSelected(a)||b.hasSelectedChildren(a)&&c.isUseChildSelectStateForParent()?a.s("selectIcon")||e:a===b.getHoverData()?a.s("hoverIcon")||e:e},getLabelFont:function(a){var b=this,c=b._sidebar,d=b.getLevel(a);return 0===d?c.getHeaderLabelFont():c.getRowLabelFont()},getCurrentLabelColorImpl:function(a,b){var c=this,d=c._sidebar;return 0===b?c.isSelected(a)||c.hasSelectedChildren(a)&&d.isUseChildSelectStateForParent()?d.getSelectHeaderLabelColor():a.hasChildren()&&c.isExpanded(a)?d.getExpandedHeaderLabelColor():a===c.getHoverData()?d.getHoverHeaderLabelColor():d.getHeaderLabelColor():c.isSelected(a)||c.hasSelectedChildren(a)&&d.isUseChildSelectStateForParent()?d.getSelectRowLabelColor():a.hasChildren()&&c.isExpanded(a)?d.getExpandedRowLabelColor():a===c.getHoverData()?d.getHoverRowLabelColor():d.getRowLabelColor()},getCurrentLabelColor:function(a){var b=this;return b.getCurrentLabelColorImpl(a,b.getLevel(a))},getDataAt:function(a){var b=this;d.getTarget(a)&&(a=b.lp(a));var c=b.getRowDatas(),e=c.size(),f=b.getRowHeightFunc(),g=-1;if(f)for(var h=0,i=0,j=0;e>j;j++){var k=c.get(j),l=f.call(b,k),m=h,n=l,o=b.adjustRowRect(k,0,h,0,l);if(h=o[1],l=o[3],i=h+l,a.y>h&&a.y<=i){g=j;break}h=m+n}return 0>g||g>=e?null:c.get(g)},adjustRowRect:function(a,b,c,d,e){var f=this,g=f._sidebar,h=f.getLevel(a),i=g.getMarginTop(a,h),j=g.getMarginBottom(a,h);return c+=i,e-=i+j,[b,c,d,e]},drawRow:function(a,b,c,d,e,f,g){var i=this,j=i.adjustRowRect(b,d,e,f,g);d=j[0],e=j[1],f=j[2],g=j[3],h.superClass.drawRow.call(i,a,b,c,d,e,f,g),i.drawMessage(a,b,d,e,f,g)},getIconGap:function(){return this._sidebar.getIconGap()},getIconWidth:function(a){var b=this,c=b._sidebar;return a.getParent()?c.getRowIconWidth():c.getHeaderIconWidth()},getIconHeight:function(a){var b=this,c=b._sidebar;return a.getParent()?c.getRowIconHeight():c.getHeaderIconHeight()},drawMessage:function(a,b,c,e,f,g){var h=this,i=h._sidebar,j=b.s("messages"),k=(i.getIndent(),9),l=i.getMessageGap(),m='11px "Open Sans", sans-serif';if(j){var n=h.getContentLeft()+h.getContentWidth()-h.getRowIndent()-l;b.hasChildren()&&(n-=h.getIconWidth(b));var o=b._messageRects=[];j.forEach(function(b){var c=b.text,f=b.background;if(a.beginPath(),1===(c+"").length)a.arc(n-k,e+g/2,k,0,2*Math.PI),a.fillStyle=f,a.fill(),a.beginPath(),n-=2*k,d.drawText(a,c,m,"#fff",n,e,2*k,g,"center","middle"),o.push({rect:{x:n,y:e+g/2-k,width:2*k,height:2*k},message:b}),n-=l;else{var h=d.getTextSize(m,c),i=h.width+2,j=h.height;a.beginPath(),n-=i,d.drawRoundRect(a,n,e+(g-j)/2,i,j,3,3,3,3),a.fillStyle=f,a.fill(),a.beginPath(),d.drawText(a,c,m,"#fff",n,e,i,g,"center","middle"),o.push({rect:{x:n,y:e+(g-j)/2,width:i,height:j},message:b}),n-=l}})}}});var i=f.Sidebar.PopupTree=function(a,b){var c=this;i.superClass.constructor.call(c,a,b),c.setRowHeightFunc(function(a){var c=this,d=c.getLevel(a),e=b.getMarginTop(a,d+1),f=b.getMarginBottom(a,d+1);return b.getRowHeight(a)+e+f}),c.on("d:click",function(a){var d=c.lp(a);d.y<b.getHeaderHeight()&&c.fireViewEvent({kind:"clickData",data:c.getRootData(),nativeEvent:a,source:c})})};d.def("ht.ui.Sidebar.PopupTree",h,{getPadding:function(){var a=this;return[a._sidebar.getHeaderHeight(),0,0,0]},adjustRowRect:function(a,b,c,d,e){var f=this,g=f._sidebar,h=f.getLevel(a),i=g.getMarginTop(a,h+1),j=g.getMarginBottom(a,h+1);return c+=i,e-=i+j,[b,c,d,e]},isVisible:function(a){var b=this._sidebar;if(a){var c=b.getVisibleFunc();return c?c(a):!0}return this.getPropertyValue("visible")},getCurrentLabelColor:function(a){var b=this;return b.getCurrentLabelColorImpl(a,b.getLevel(a)+1)},getCurrentRowBackgroundDrawable:function(a,b){return this.getRowBackgroundDrawableImpl(a,b,this.getLevel(a)+1)},show:function(a,b){var c=this,e=c.isInDOM();c.setX(a),c.setY(b),e||(c.fireViewEvent({kind:"beforeShow"}),document.body.appendChild(c.getView()),c.iv(),c.fireViewEvent({kind:"afterShow"})),d.callLater(function(){c._view.focus()})},hide:function(){var a=this;a.isInDOM()&&(a.fireViewEvent({kind:"beforeHide"}),document.body.removeChild(a.getView()),a.fireViewEvent({kind:"afterHide"}))},validateImpl:function(a,b,c,e){var f=this,g=f._sidebar;i.superClass.validateImpl.call(f,a,b,c,e);var h=f.getRootContext(),j=f.getRootData();if(j){var k,l,m=g.getHeaderHeight();f.isSelected(j)||f.hasSelectedChildren(j)&&g.isUseChildSelectStateForParent()?(k=g.getSelectHeaderBackgroundDrawable(),l=g.getSelectHeaderLabelColor()):(k=g.getExpandedHeaderBackgroundDrawable(),l=g.getExpandedHeaderLabelColor()),k&&k.draw(a,0,c,m,f.getRootData(),f)}g.isHeaderSeparatorVisible()&&(h.beginPath(),h.rect(a,m-1,c,1),h.fillStyle=g.getHeaderSeparatorColor(),h.fill()),h.beginPath(),j&&d.drawText(h,f.getLabel(j),f.getLabelFont(j),l,a+g.getIndent(),0,0,g.getHeaderHeight()),h.beginPath(),"right"===g.getPopupDirection()?(h.clearRect(0,b,1,e),h.rect(0,b,1,e)):(h.clearRect(c-1,b,1,e),h.rect(c-1,b,1,e)),h.fillStyle=g.getPopupSeparatorColor(),h.fill()}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);
//uipalette
!function(a,b,c){"use strict";var d=ht.Default,e=d.def,f=ht.ui,g=null,h=function(a){var b=this,c=d.isTouchable;h.superClass.constructor.call(b,a),a.getView().addEventListener(c?"touchstart":"mousedown",function(b){var c=d.getViewAt(b);a.isDragEnabled(c)&&c instanceof f.Button&&f.DragHelper.doDrag(c,c.itemConfig,c.getRootCanvas(),10,10)})};e(h,f.Interactor,{});var i=f.Palette=function(){var a=this;i.superClass.constructor.call(a),a._radios=new f.Radios;var b=new i.PalettePanel;a.setTemplatePanel(b);var c=new i.PaletteButton;a.setTemplateButton(c)};e("ht.ui.Palette",f.VBoxLayout,{ui_ac:["dragEnabled"],ms_ac:["items","templatePanel","templateButton"],_items:[],__dragEnabled:!0,getInteractorClasses:function(){return[h].concat(i.superClass.getInteractorClasses.call(this))},getRadios:function(){return this._radios},setItems:function(a){"string"==typeof a&&(a=ht.Default.parse(a)),this.setPropertyValue("items",a)},onPropertyChanged:function(a){var b=this,c=a.property;if("items"===c)b.invalidateComps();else if("templatePanel"===c){b.invalidateComps();var d=a.newValue;d&&!d._propertyChangeHandler&&(d._propertyChangeHandler=function(a){b.invalidateComps()},d.addPropertyChangeListener(d._propertyChangeHandler))}else if("templateButton"===c){b.invalidateComps();var e=a.newValue;e&&!e._propertyChangeHandler&&(e._propertyChangeHandler=function(a){b.invalidateComps()},e.addPropertyChangeListener(e._propertyChangeHandler))}i.superClass.onPropertyChanged.call(b,a)},invalidateComps:function(){var a=this;a._invalidateComps||(a._invalidateComps=!0),a.iv()},validateComps:function(){var a=this,b=a.getItems();a._radios.clear(),a.clear();for(var c=new ht.ui.UIJSONSerializer,e=c.serialize(a.getTemplatePanel()),g=c.serialize(a.getTemplateButton()),h=0,i=b.length;i>h;h++){var j=b[h],k=j.children||[],l=c.deserialize(e);a.onCreatingPanel&&a.onCreatingPanel(l),l.itemConfig=j;for(var m in j)"children"!==m&&l[d.setter(m)]&&l[d.setter(m)](j[m]);var n=new f.FlowLayout;n.__padding=[0,0,10,0];for(var o=0,p=k.length;p>o;o++){var q=k[o],r=c.deserialize(g);a.onCreatingButton&&a.onCreatingButton(r),r.itemConfig=q,a._radios.add(r);for(var m in q)0===m.indexOf("a:")?r.a(m.substr(m.indexOf(":")+1),q[m]):r[d.setter(m)]&&r[d.setter(m)](q[m]);n.addView(r)}l.setContentView(n),a.addView(l,{width:"match_parent",height:"wrap_content"})}},validate:function(){var a=this;a._invalidateComps&&(a.validateComps(),a._invalidateComps=null),i.superClass.validate.call(a)},addItem:function(a,b,c){var d,e,f=this,h=f.getItems(),i=f._splitPath(a);h||(h=f._items=[]);for(var j=0,k=i.length;k>j;j++)e=d,h=e?e.children:h,d=f._findItemByText(h,i[j]);d&&("append"===c||c==g?(h=d.children||[],e=d,h.push(b)):"before"===c?h.splice(h.indexOf(d),0,b):"after"===c&&h.splice(h.indexOf(d)+1,0,b),e?e.children=h:f._items=h,f.fp("items",g,f.getItems()))},removeItem:function(a){var b,c,d=this,e=d.getItems(),f=d._splitPath(a);e||(e=d._items=[]);for(var h=0,i=f.length;i>h;h++)c=b,e=c?c.children:e,b=d._findItemByText(e,f[h]);b&&(e.splice(e.indexOf(b),1),c?c.children=e:d._items=e),d.fp("items",g,d.getItems())},removeItemById:function(a){var b,c=this,d=c.getItems(),e=function(b){if(b)for(var c=b.length,d=0;c>d;d++){var f=b[d];if(f.id===a)return[b,f];if(f.children){var g=e(f.children);if(g)return g}}};d||(d=c._items=[]);var f=e(d);f&&(d=f[0],b=f[1],d.splice(d.indexOf(b),1),c.fp("items",g,c.getItems()))},findItemByText:function(a){var b;return this.forEach(function(c){return c.text===a||c.title===a?(b=c,!1):void 0}),b},findItemById:function(a){var b;return this.forEach(function(c){return c.id===a?(b=c,!1):void 0}),b},forEach:function(a,b,c){var d=this,e=c?c.children:d.getItems();if(e)for(var f=e.length,g=0;f>g;g++){var h=e[g],i=a.call(b||d,h);if(i===!1)return i;d.forEach(a,b,h)}},_splitPath:function(a){for(var b=!1,c="",d=[],e=0;e<a.length;e++){var f=a[e];if("/"===f){if(!b){d.push(c),c="";continue}}else if("`"===f){b=!b;continue}c+=f}return d.push(c),d},_findItemByText:function(a,b){if(a)for(var c=0;c<a.length;c++){var d=a[c];if(d.text===b||d.title===b)return d}},getSerializableProperties:function(){var a=i.superClass.getSerializableProperties.call(this);return delete a.children,d.addMethod(a,{templatePanel:!0,templateButton:!0,items:!0,dragEnabled:!0})}}),i.PalettePanel=function(){var a=this;i.PalettePanel.superClass.constructor.call(this),a.getView().addEventListener(d.isTouchable?"touchstart":"mousedown",function(b){if(a.isHeaderVisible()&&null==a.getToolAt(b)){var c=a.lp(b);c.y<a.getHeaderHeight()&&a.setExpanded(!a.isExpanded())}}),a.on("p:expanded",function(b){a.itemConfig&&(b.newValue?delete a.itemConfig.expanded:a.itemConfig.expanded=!1)},c,c,c,!0)},e("ht.ui.Palette.PalettePanel",f.Panel,{__border:null,__borderRadius:0,handleHeaderClick:function(){},getSerializableProperties:function(){var a=i.PalettePanel.superClass.getSerializableProperties.call(this);return delete a.children,a}}),i.PaletteButton=function(){var a=this;i.PaletteButton.superClass.constructor.call(a),a.on("p:selected",function(b){a.itemConfig&&(b.newValue?a.itemConfig.selected=!0:delete a.itemConfig.selected)},c,c,c,!0)},e("ht.ui.Palette.PaletteButton",f.ToggleButton,{__textColor:ht.ui.uiTheme.textColor,__background:"#fff",__hoverBackground:ht.ui.uiTheme.hoverBackground,__activeBackground:ht.ui.uiTheme.activeBackground,__selectBackground:ht.ui.uiTheme.baseColor,__selectHoverBackground:ht.ui.uiTheme.hoverColor,__selectActiveBackground:ht.ui.uiTheme.activeColor,__selectTextColor:"#fff",__iconWidth:50,__iconHeight:50,__hTextPosition:"center",__vTextPosition:"bottom",__preferredSize:{width:80,height:80},__layoutParams:{marginLeft:10,marginTop:10},getCurrentIconDrawable:function(a){var b=this,c=b.isSelected(),d=b.getIconDrawable(),e=b.getSelectIconDrawable();return a||(a=b.getState()),c?"normal"===a?e||d:"hover"===a?b.getSelectHoverIconDrawable()||e||d:"active"===a?b.getSelectActiveIconDrawable()||e||d:void 0:i.PaletteButton.superClass.getCurrentIconDrawable.call(b,a)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);
//platette
!function(L,O){"use strict";function _(){return document}function w(){return $("div")}function j(){return $("canvas")}function s(){return document.body}function a(L,O,_){L.style.setProperty(O,_,G)}function g(L,O){L.appendChild(O)}function I(L,O){L.removeChild(O)}function V(L){this.$22h=L,this.addListeners()}var A="px",S="innerHTML",z="className",M=ht.Default,c=ht.Color,R=ht.Node,r="top",d=M.animate,W=M.getInternal(),t="0",k="none",D="max-height",p="font",Y="background",F="border-box",e="user-select",l="box-sizing",P="overflow",N=M.isTouchable,U=M.isTouchEvent,W=M.getInternal(),q=c.titleIconBackground,Q=M.scrollBarInteractiveSize,n=/msie 9/.test(L.navigator?L.navigator.userAgent.toLowerCase():""),G=null,$=function(L){return _().createElement(L)},E=W.addEventListener,L=(W.removeEventListener,W.addMethod(M,{paletteExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:q,rotation:3.14}]},paletteCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:q}]},paletteTitleLabelColor:M.labelSelectColor,paletteTitleLabelFont:M.labelFont,paletteContentLabelFont:M.labelFont,paletteContentLabelColor:"#777",paletteContentBackground:"#fff",paletteTitleHeight:M.widgetTitleHeight,paletteTitleBackground:c.titleBackground,paletteTitleHoverBackground:c.titleBackground,paletteSeparatorWidth:1,paletteSeparatorColor:void 0,paletteItemHoverBorderColor:c.highlight,paletteItemSelectBackground:c.highlight},!0),".palette-item:hover{border: 1px solid "+M.paletteItemHoverBorderColor+" !important} .palette-header:hover{background: "+M.paletteTitleHoverBackground+" !important}"),q=document.createElement("style");N||(q.styleSheet?q.styleSheet.cssText=L:q.appendChild(_().createTextNode(L))),_().getElementsByTagName("head")[0].appendChild(q);M.def(V,O,{ms_listener:1,getView:function(){return this.$22h.getView()},$26h:function(){var L=this;L.$36h&&s().removeChild(L.$36h),L.$23h=L.$24h=L.$25h=L.$35h=L.$36h=G},handle_touchstart:function(L){for(var O,_,c=this,V=c.$22h,s=L.target,e=V.sm(),N=V.dm(),q="palette-header",U="palette-item",Q=!1,w=!1,j=!1;s&&(s[z]||"").indexOf(q)<0&&(s[z]||"").indexOf(U)<0;)s=s.parentNode;s&&0<=s[z].indexOf("palette-header-tool")?Q=!0:s&&0<=s[z].indexOf(q)?j=!0:s&&0<=s[z].indexOf(U)&&(w=!0),M.isLeftButton(L)?c.$27h(L)?(c.$24h=M.getClientPoint(L),c.$25h=V.ty()):Q?(M.preventDefault(L),O=s.parentNode.$11h,(Q=(_=N.getDataById(O)).s("tools")[s.toolIndex]).action&&Q.action.call(V)):j?(M.preventDefault(L),O=s.$11h,(_=N.getDataById(O)).isExpanded()?_.setExpanded(!1):_.setExpanded(!0)):w?(O=s.$11h,Q=N.getDataById(O),e.ss(Q),V.handleDragAndDrop&&(M.preventDefault(L),Q.s("draggable")&&(V.handleDragAndDrop(L,"prepare"),c.$35h=0)),Q.s("draggable")||(M.preventDefault(L),c.$24h=M.getClientPoint(L),c.$25h=V.ty())):(M.preventDefault(L),c.$24h=M.getClientPoint(L),c.$25h=V.ty()):c.$26h(L)},handle_mousedown:function(L){this.handle_touchstart(L)},handle_mousewheel:function(L){this.handleScroll(L,L.wheelDelta/40,L.wheelDelta!==L.wheelDeltaX)},handle_DOMMouseScroll:function(L){this.handleScroll(L,-L.detail,1)},handleScroll:function(L,O,_){var c=this.$22h;M.preventDefault(L),_&&c._41o()&&c.ty(c.ty()+20*O)},handle_mouseup:function(L){this.handle_touchend(L)},handle_touchend:function(L){this.$37h(L),this.$26h(L)},handleWindowMouseUp:function(L){this.handleWindowTouchEnd(L)},handleWindowTouchEnd:function(L){this.$37h(L),this.$26h(L)},$37h:function(L){var O=this.$22h;2===this.$35h&&(this.$35h=3,O.handleDragAndDrop(L,"end"))},handleWindowMouseMove:function(L){this.handleWindowTouchMove(L)},handleWindowTouchMove:function(L){var O=this,_=O.$22h,c=O.$23h,V=O.$24h,s=O.$25h,e=M.getClientPoint(L),N=_._29I,q=O.$36h;1===O.$35h||2===O.$35h?(O.$35h=2,_.handleDragAndDrop(L,"between"),U(L)&&(L=L.touches[0]||L.changedTouches[0]),q.style.left=L.pageX-parseInt(q.width)/2+A,q.style.top=L.pageY-parseInt(q.height)/2+A):"p"===c?_.ty(s+e.y-V.y):"v"===c&&_.ty(s+(V.y-e.y)/N.height*_._59I)},handle_mousemove:function(L){this.handle_touchmove(L)},handle_touchmove:function(L){var O,_,c,V;!M.isDragging()&&M.isLeftButton(L)&&(c=(_=this).$22h,O=_.$27h(L),_.$24h?_.$23h||M.getDistance(M.getClientPoint(L),_.$24h)<2||(_.$23h=O?"v":"p",M.startDragging(_,L)):O?c._43o():0===_.$35h&&(_.$35h=1,c.handleDragAndDrop(L,"begin"),M.startDragging(_,L),U(L)&&(L=L.touches[0]||L.changedTouches[0]),O=_.$36h=new Image,_=c.$10h[c.sm().ld().getId()].querySelector(".image-box"),c=parseInt(_.style.width),V=parseInt(_.style.height),O.draggable=!1,O.src=_.toDataURL(),O.width=c,O.height=V,O.style.position="absolute",O.style.left=L.pageX-c/2+A,O.style.top=L.pageY-V/2+A,s().appendChild(O)))},$27h:function(L){var O=this.$22h,_=O.getView(),c=_.getBoundingClientRect(),V=O._29I,L=L.clientX-c.left+_.scrollLeft;return O._41o()&&V.x+V.width-L<Q}}),ht.widget.Palette=function(L){var O,_=this,c=_._view=W.createView(null,_);_.$9h={},_.$10h={},_.$4h={},_._29I={x:0,y:0,width:0,height:0},_._59I=0,_.dm(L||new ht.DataModel),c[z]="ht-widget-palette",_.$29h=new V(_),a(c,Y,M.paletteContentBackground),a(c,P,"auto"),a(c,l,F),a(c,"-moz-"+l,F),a(c,"-webkit-"+e,k),a(c,"-moz-"+e,k),a(c,"-ms-"+e,k),a(c,e,k),a(c,"position","absolute"),a(c,"overflow","hidden"),g(c,_._79O=(L=w(),(O=L.style).msTouchAction=k,O.cursor="default",N&&O.setProperty("-webkit-tap-highlight-color","rgba(0, 0, 0, 0)",G),O.position="absolute",O.left=t,O.top=t,L)),E(c,"dragstart",function(L){L.dataTransfer&&(L.dataTransfer.setData("Text","nodeid:"+L.target.$11h),L.dataTransfer.effectAllowed="all",_.$29h.$26h())})},c="Palette",L={ms_v:1,ms_fire:1,ms_dm:1,ms_sm:1,ms_vs:1,ms_bnb:1,ms_ac:["itemImageWidth","itemImageHeight","itemImagePadding","itemMargin","layout","autoHideScrollBar","scrollBarSize","scrollBarColor"],$30h:0,_itemImagePadding:4,_itemImageWidth:70,_itemImageHeight:50,_itemMargin:10,_layout:"largeicons",_autoHideScrollBar:M.autoHideScrollBar,_scrollBarSize:M.scrollBarSize,_scrollBarColor:M.scrollBarColor,getViewRect:function(){return this._29I},ty:function(L){if(L==G)return this.getTranslateY();this.setTranslateY(L)},setTranslateY:function(L){var O;this.$32h==G&&(L=this.$33h(L),O=this.$30h,this.$30h=L,this.fp("translateY",O,L))},getTranslateY:function(){return this.$30h},setLayout:function(L){var O,_,c=this,V=c._layout;"smallicons"===(c._layout=L)?O=_=20:"iconsonly"===L?O=_=50:(O=70,_=50),c.setItemImageWidth(O),c.setItemImageHeight(_),c.setItemImagePadding(4),c.fp("layout",V,L)},getDataAt:function(L){for(var O=L.target;O&&O.$11h==G;)O=O.parentNode;if(O&&O.$11h!=G)return this.getDataModel().getDataById(O.$11h)},$20h:function(){var L=16;return N&&(L*=1.2),L},$19h:function(){return M.paletteTitleHeight},$18h:function(){var L=M.paletteSeparatorWidth,O=M.paletteTitleBackground,O=M.paletteSeparatorColor||M.brighter(O);return L+A+" solid "+O},$17h:function(L){a(L,"cursor","pointer"),a(L,"display","inline-block"),a(L,"margin-right",(N?8:4)+A),a(L,"vertical-align",r)},$1h:function(L){var O=this,_=w(),c=w(),V=$("span"),s=(_[z]="palette-header",a(_,"position","relative"),a(_,Y,M.paletteTitleBackground),a(_,"color",M.paletteTitleLabelColor),a(_,r,t),a(_,l,F),a(_,"-moz-"+l,F),a(_,"padding","0 5px 0 0"),a(_,"border-top",O.$18h()),a(_,"width","100%"),a(_,"cursor","pointer"),a(_,"white-space","nowrap"),a(_,P,"hidden"),a(_,p,M.paletteTitleLabelFont),a(_,"line-height",O.$19h()+A),_.$11h=L.getId(),j()),e=O.$19h(),N=O.$20h(),q=(O.$17h(s),W.setCanvas(s,N,e),g(_,s),L.s("tools"));if(q)for(var U=0;U<q.length;U++){var Q=j();O.$17h(Q),W.setCanvas(Q,N,e),Q[z]="palette-header-tool palette-header-tool"+L.getId()+"-"+U,Q.style.position="absolute",Q.style.right=(N+10)*U+"px",Q.toolIndex=U,g(_,Q)}return s[z]="palette-toggle-icon-"+L.getId(),c[z]="palette-content",a(c,"max-height",0+A),a(c,p,M.paletteContentLabelFont),a(c,P,"hidden"),c.$11h=L.getId(),O.$9h[L.getId()]=c,V[S]=L.getName(),a(V,p,M.paletteTitleLabelFont),g(_,s),g(_,V),[_,c]},$2h:function(L){var O=this,_=O._layout,c=n&&L.s("draggable")?$("a"):w(),V=j(),s=w(),e=L.getName()||"",N=L.s("title")||L.getToolTip()||e,q=O._itemMargin,U=(V[z]="image-box",O.getItemImageWidth()),Q=O.getItemImageHeight();return W.setCanvas(V,U,Q),g(c,V),s[S]=e,s[z]="label-box","iconsonly"!==_&&g(c,s),c[z]="palette-item",a(c,"vertical-align",r),a(c,"cursor","pointer"),a(c,"border-radius",5+A),a(c,"border","1px solid transparent"),a(c,"text-align","center"),a(c,"display","inline-block"),a(c,"margin-left",q+A),a(c,"margin-top",q+A),a(c,"color",M.paletteContentLabelColor),"smallicons"===_?(a(V,"vertical-align","middle"),a(c,"margin-left",2+A),a(c,"margin-top",2+A),a(c,"padding",2+A),a(c,"text-align","left"),a(s,"display","inline-block"),a(s,"min-width",O.$21h+O._itemMargin+A)):"largeicons"===_&&(a(s,"max-width",U+A),a(s,"overflow","hidden")),c.$11h=L.getId(),N&&(c.title=N),L.s("draggable")&&!O.handleDragAndDrop&&(n?(c.href="#",a(c,"text-decoration",k)):(c.draggable="true",a(c,"transform","translate(0,0)"),a(c,"z-index","0"))),c},$16h:function(L,O,_,c){L=W.initContext(L),W.translateAndScale(L,0,0,1),L.clearRect(0,0,_,_),_=(_-c)/2;M.drawStretchImage(L,M.getImage(O),"fill",0,_,c,c),L.restore()},$15h:function(L){var O,_,c=L.getId(),c=this._view.querySelector(".palette-toggle-icon-"+c),L=L.isExpanded()?M.paletteCollapseIcon:M.paletteExpandIcon;c&&L&&(O=this.$19h(),_=this.$20h(),this.$16h(c,L,O,_))},_drawToolsIcon:function(L){var O=L.s("tools");if(O)for(var _=0;_<O.length;_++){var c=this._view.querySelector(".palette-header-tool"+L.getId()+"-"+_),V=O[_].icon,s=this.$19h(),e=this.$20h();this.$16h(c,V,s,e)}},$14h:function(L){var O,_,c,V=this,s=L.getId(),s=V.$10h[s].querySelector(".image-box"),e=L.getImage(),N=L.s("image.stretch");s&&e&&(s=W.initContext(s),O=V.getItemImagePadding(),O="smallicons"===V._layout?O/2:O,_=V.getItemImageWidth()-2*O,c=V.getItemImageHeight()-2*O,W.translateAndScale(s,0,0,1),s.clearRect(0,0,_,c),M.drawStretchImage(s,M.getImage(e),N,O,O,_,c,L,V,V.getBodyColor(L)),s.restore())},validateImpl:function(){var _=this,L=_.$9h,O=_._layout,c=_.$10h,V=_.$4h,s=_._view,e=_.dm();if(_.$13h&&(delete _.$13h,V={},e.each(function(L){V[L.getId()]=L})),"smallicons"===O)for(var N in V){var q=V[N];q instanceof R&&(q=q.getName()||"",q=M.getTextSize(M.paletteContentLabelFont,q).width,_.$21h!=G&&_.$21h>q||(_.$21h=q))}for(N in V){var U,Q,w,j,a,z,r,W,k,p=V[N];e.contains(p)?p instanceof ht.Group?(w=_.$1h(p),(a=c[p.getId()])&&(U=a.nextSibling,I(s,U),I(s,a)),a=e.getSiblings(p).indexOf(p),(Q=s.children[2*a]||_._79O)&&Q.parentNode?(s.insertBefore(w[0],Q),s.insertBefore(U||w[1],Q)):(s.appendChild(w[0]),s.appendChild(U||w[1])),c[p.getId()]=w[0],j=L[p.getId()]=U||w[1],Q=p.$12h,w=p.s("promptText"),Q||(p.$12h=$("div"),p.$12h[S]=w||"",Q=p.$12h),0===p.getChildren().size()?j.contains(Q)||g(j,Q):j.contains(Q)&&I(j,Q)):(z=p.getParent())&&(w=_.$2h(p),r=c[p.getId()],j=L[z.getId()],r&&I(r.parentNode,r),a=e.getSiblings(p).indexOf(p),(r=j.children[a])?j.insertBefore(w,r):g(j,w),c[p.getId()]=w,_.$14h(p)):(W=(r=c[p.getId()]).parentNode,p instanceof ht.Group?(k=r.nextSibling,I(s,r),I(s,k),delete L[p.getId()]):(I(W,r),0===W.children.length&&(z=e.getDataById(W.$11h))&&(Q=z.$12h)&&!W.contains(Q)&&g(W,Q)),delete c[p.getId()])}_.$4h={};function Y(){var L=_._59I,O=0;_.$32h!=G&&(clearInterval(_.$32h),O=0,delete _.$32h),_.$32h=setInterval(function(){_.$31h(),L===_._59I?2<=++O&&(clearInterval(_.$32h),delete _.$32h):(O=0,L=_._59I)},30)}var F,l;for(F in L)j=L[F],p=e.getDataById(L[F].$11h),_.$15h(p),_._drawToolsIcon(p),p.isExpanded()?(j.style.maxHeight===0+A?(l=j.scrollHeight+_._itemMargin+A,d(j).duration(200).set(D,l).set("padding-bottom",_._itemMargin+A).end(function(){Y()})):j.style.maxHeight=j.scrollHeight+A,j.style.paddingBottom=_._itemMargin+A):j.style.maxHeight!==0+A&&d(j).duration(200).set(D,t).set("padding-bottom",t).end(function(){Y()});_.$28h(),_.$31h()},$31h:function(){for(var L=this,O=L._view,_=0,c=O.children,V=0;V<c.length;V++){var s=c[V];s.className&&0<=s.className.indexOf("palette-")&&(_+=s.offsetHeight)}L._59I=_,L.$30h=L.$33h(L.ty());var e=L.ty();O.scrollTop=-e,L._29I={x:0,y:-e,width:O.clientWidth,height:O.clientHeight},a(L._79O,r,-e+A),L._93I()},$33h:function(L){var O=this._29I.height-this._59I;return 0<(L=L<O?O:L)?0:Math.round(L)},redraw:function(){this.$13h||(this.$13h=1,this.iv())},onPropertyChanged:function(L){["autoHideScrollBar","scrollBarSize","scrollBarColor","translateY"].indexOf(L.property)<0&&this.redraw(),"translateY"===L.property&&(this.iv(),this._43o())},findDataByName:function(L){for(var O=this.dm().getDatas(),_=0;_<O.size();_++){var c=O.get(_);if(c.getName()===L)return c}},setDataModel:function(L){var O=this,_=O._dataModel,c=O._selectionModel;_!==L&&(_&&(_.umm(O.$6h,O),_.umd(O.$8h,O),_.umh(O.$7h,O),c||_.sm().ums(O.$28h,O)),(O._dataModel=L).mm(O.$6h,O),L.md(O.$8h,O),L.mh(O.$7h,O),c?c._21I(L):L.sm().ms(O.$28h,O),O.sm().setSelectionMode("single"),O.fp("dataModel",_,L))},$6h:function(L){var O=this,_=O._view,c=L.data,V=O.$4h;"add"===L.kind||"remove"===L.kind?V[c.getId()]=c:"clear"===L.kind&&(O.$10h={},O.$9h={},O.$4h={},_[S]=""),O.iv()},$7h:function(L){L=L.data;this.$4h[L.getId()]=L,this.iv()},$8h:function(L){var O=L.data;"expanded"!==L.property&&(this.$4h[O.getId()]=O),this.iv()},$28h:function(){var O,_=this,L=_.sm(),c=L.ld();this.dm().each(function(L){(O=_.$10h[L.getId()])&&0<=O[z].indexOf("palette-item")&&(L===c?a(O,Y,M.paletteItemSelectBackground):O.style.removeProperty(Y))})}},M.def(ht.widget[c],O,L)}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
//flow
!function(r){"use strict";function x(r,K){for(var Q=[],Z=r.length,V=0;V<Z;V++)for(var a=r[V],M=(a=a._as?a._as:a)[0],L=1;L<a.length;L++)Q.push([M,a[L]]),M=a[L];for(var D=[],V=0;V<Q.length;V++){var y=q(Q[V][0],Q[V][1],K);D.push(y)}return{distance:D,segments:Q}}function V(r,K,Q){if(r){for(var Z,r=x(r,K),V=r.distance,a=r.segments,M=1/0,L=null,D=0,y=V.length;D<y;D++){var B=V[D];B.z<M&&(Z=D,M=B.z,L=B)}if(L.z<(Q=null==Q?.1:Q)){for(var t=0,$=0;$<=Z;$++)t+=H.getDistance(a[$][0],$<Z?a[$][1]:L);return t}}}function Z(r,K){var Q,Z;if(r)return r=x(r,K).distance,Q=1/0,Z=null,r.forEach(function(r){r.z<Q&&(Q=r.z,Z=r)}),Z}function y(r,K,Q){if(!r)return Q;if(0===K)return m=r[0][0],$=r[0][1],Q+Math.atan2($.y-m.y,$.x-m.x);if(100===K)return m=(r=r[r.length-1])[r.length-2],$=r[r.length-1],Q+Math.atan2($.y-m.y,$.x-m.x);for(var Z=0,V=[],a=r.length,M=0;M<a;M++){var L=r[M],L=S(L);Z+=L,V.push(L)}for(var D=Z*K/100,y=f(D,V),B=0,t=0;t<y;t++)B+=V[t];for(var $=C(r[y],D-=B),x=r[y],h=0,c=0,U=0;U<x.length-1;U++){var H=x[U],u=x[U+1],b=u.x-H.x,u=u.y-H.y;if(D<(h+=Math.sqrt(b*b+u*u))){c=U;break}}var m=x[c];return Q+Math.atan2($.y-m.y,$.x-m.x)}function $(r){var K=0;if(r)if(Array.isArray(r[0]))for(var Q=r.length,Z=0;Z<Q;Z++){var V=r[Z];K+=S(V)}else K=S(r);return K}function R(r){var K=r._data,Q=t(r);if(Q){K.s("flow.reverse")&&(Q.reverse(),Q.forEach(function(r){r.reverse()}));for(var Z,V,a=0,M=[],L=Q.length,D=0;D<L;D++){var y=Q[D],y=S(y);a+=y,M.push(y)}K[Y]=M,K[d]=a,K[h]=Q,K instanceof B.Edge&&(Z=(V=H.unionPoint(Q)).x+V.width/2,V=V.y+V.height/2,K.$10e={x:Z,y:V}),w(r,!0)}}function J(r){var K,Q=r.data,Z=this.dm();Q&&"add"===r.kind&&(K=Z.$3e)&&Q.s(M)&&K.indexOf(Q)<0&&K.push(Q),"clear"===r.kind&&(Z.$3e=[])}function _(r){var K=r.property,Q=r.data,r=r.newValue,Z=this.dm().$3e;if(Z&&"s:flow"===K)if(r)Z.indexOf(Q)<0&&Z.push(Q);else for(var V=Z.length,a=0;a<V;a++)if(Z[a]===Q){Z.splice(a,1);break}K==="s:"+s&&(this.getDataUI(Q)[X]=F)}function j(H){var r,u=this,b=u._data,m=b[d],z=b[Y],n=b[h],K=b.s(i),Q=u[X],Z=b.s(A),V=b.s(l),a=b.s(e),M=b.s(I),L=b.s(U),N=b.s(c),D=(L-M)/(a-1),y=(Z-V)/(a-1),G=b.getRotation?b.getRotation():0,O=b.getPosition?b.p():b.$10e,s=[],S=[];if(Q!=F){if(1===a)s.push(Z);else if(2===a)s.push(Z),s.push(V);else{if(!(2<a))return;s.push(Z);for(var B=a-2;0<B;B--)s.push(V+y*B);s.push(V)}if(1===a)S.push(L);else if(2===a)S.push(L),S.push(M);else{if(!(2<a))return;S.push(L);for(B=a-2;0<B;B--)S.push(M+D*B);S.push(M)}var R=0,t=0;s.forEach(function(r){R<a-1&&(t+=b.getFlowElementSpace(r)),R++}),r=(m-K*(t+=(Z+V)/2)+t)/K,H.save();for(B=0;B<K;B++){var J=Q,_=0,$=u._overCount,j=0;b.s("flow.autoreverse")&&$&&K-(B+1)<$||(J-=B*(r+t),R=0,s.forEach(function(r){var K,Q,Z,V=J-_;if(0<=V&&V<m){for(var a=f(V,z),M=j=0;M<a;M++)j+=z[M];V-=j;var L=C(n[a],V),D=G;if(N){for(var y=n[a],B=0,t=0,$=0;$<y.length-1;$++){var x=y[$],h=y[$+1],c=h.x-x.x,h=h.y-x.y;if(V<(B+=Math.sqrt(c*c+h*h))){t=$;break}}var U=y[t];D+=Math.atan2(L.y-U.y,L.x-U.x)}G&&(U=O,K=L.x-O.x,Q=L.y-O.y,Z=G,k.set(K,Q).rotateAround(null,Z),L=U?{x:U.x+k.x,y:U.y+k.y}:{x:k.x,y:k.y}),u.$5e(H,L,r,S[R],D)}_+=b.getFlowElementSpace(s[R]),R++}))}H.restore()}}function W(){var r=this,K=r._data,Q=K.s(A),Z=K.s(O),V=!1,a=F,Q=Math.max(Q,Q*Z);return r._6I||(V=!0),a=(K instanceof B.Edge?Kb:Qb).call(r),K.s(M)&&V&&(Z=K.s(U),0<(Q=K.s(N)&&Q<Z?Z:Q)&&H.grow(a,Math.ceil(Q/2)),R(r)),!K.s(M)&&V&&(K[Y]=K[d]=K[h]=r[X]=F),a}function o(r){this.__flowBatchGroup={}}function P(K){var r=this.__flowBatchGroup;if(r){for(var Q in K.save(),r)K.fillStyle=Q,K.beginPath(),r[Q].forEach(function(r){K.moveTo(r[0],r[1]),K.arc(r[0],r[1],r[2],0,2*Math.PI,!0)}),K.fill();K.restore()}}var B=r.ht,H=B.Default,u=H.getInternal(),r=u.ui(),F=null,Y="__segmentLengths",d="__lineTotalLength",h="__linePoints",X="__distance0",i="flow.count",b="flow.step",A="flow.element.max",e="flow.element.count",l="flow.element.min",K="flow.element.space",c="flow.element.autorotate",m="flow.element.background",U="flow.element.shadow.max",I="flow.element.shadow.min",z="flow.element.shadow.begincolor",n="flow.element.shadow.endcolor",N="flow.element.shadow.visible",M="flow",G="flow.element.image.stretch",O="flow.element.image.ratio",s="flow.begin.percent",Q=B.Math.Vector2,k=new Q,Q=(new Q,new Q,B.List,B.Default._edgeProtectMethod),t=Q.getStraightLinePoints,q=function(r,K,Q){var Z=r.x,V=r.y,a=K.x,M=K.y,L=Q.x,Q=Q.y,a=a-Z,M=M-V,D=Math.sqrt(a*a+M*M),y=a/D,D=M/D,B=(-Z+L)*y+(-V+Q)*D,Z={x:Z+B*y,y:V+B*D};return Z.x>=Math.min(r.x,K.x)&&Z.x<=Math.max(r.x,K.x)&&Z.y>=Math.min(r.y,K.y)&&Z.y<=Math.max(r.y,K.y)||(Z.x=(Math.abs(Z.x-r.x)<Math.abs(Z.x-K.x)?r:K).x,Z.y=(Math.abs(Z.y-r.y)<Math.abs(Z.y-K.y)?r:K).y),a=L-Z.x,M=Q-Z.y,Z.z=Math.sqrt(a*a+M*M),Z},S=Q.calculateLineLength,f=Q.calcSegmentIndexByDistance,C=Q.calculatePointAlongLine,T=Q.getPercentPosition,w=function(r,K){var Q,Z=r._data,V=Z[d],a=Z.s(i),M=Z.s(b),L=Z[Y],D=Z.s(A),y=Z.s(l),B=Z.s(e),t=(D-y)/(B-1),$=[],x=Z.s(s);if(L&&!isNaN(a)&&0!==a){if(1===B)$.push(D);else if(2===B)$.push(D),$.push(y);else{if(!(2<B))return;$.push(D);for(var h=B-2;0<h;h--)$.push(y+t*h);$.push(y)}var c=0,U=0,H=($.forEach(function(r){c<B-1&&(U+=Z.getFlowElementSpace(r)),c++}),Q=(V-a*(U+=(D+y)/2)+U)/a,r[X]);for(null==H&&(H=V*x),K||(H+=M);V+U<H;){var u=r._overCount;u?u++:u=1,a<=u&&(u=null),r._overCount=u,!Z.s("flow.autoreverse")||u?H-=Q+U:(H=0,Z.s("flow.reverse",!Z.s("flow.reverse")))}r[X]=H}},Q="prototype",a=B.graph.GraphView[Q],v=B.Data[Q],g=r.DataUI[Q],L=r.ShapeUI[Q],r=r.EdgeUI[Q],Q=B.DataModel[Q],D=B.Style,E=(D[A]==F&&(D[A]=7),D[l]==F&&(D[l]=0),D[i]==F&&(D[i]=1),D[b]==F&&(D[b]=3),D[e]==F&&(D[e]=10),D[K]==F&&(D[K]=3.5),D[c]==F&&(D[c]=!1),D[m]==F&&(D[m]="rgba(255, 255, 114, 0.4)"),D[z]==F&&(D[z]="rgba(255, 255, 0, 0.3)"),D[n]==F&&(D[n]="rgba(255, 255, 0, 0)"),D[N]==F&&(D[N]=1),D[U]==F&&(D[U]=22),D[I]==F&&(D[I]=4),D[G]==F&&(D[G]="fill"),D[O]==F&&(D[O]=1),D[s]==F&&(D[s]=0),a.calculatePointLength=function(r,K,Q){r=this.getDataUI(r),r=t(r);return V(r,K,Q)},H.calculatePointLength=function(r,K,Q,Z){r=t(F,r,K);return V(r,Q,Z)},H.calculateClosestPointOnLine=q,a.calculateClosestPoint=function(r,K){r=this.getDataUI(r),r=t(r);return Z(r,K)},H.calculateClosestPoint=function(r,K,Q){r=t(F,r,K);return Z(r,Q)},a.getPercentAngle=function(r,K){var Q=this.getDataUI(r),Q=t(Q);r.getRotation&&r.getRotation();return y(Q,K,r.getRotation?r.getRotation():0)},H.getPercentAngle=function(r,K,Q){r=t(F,r,K);return y(r,Q,0)},a.calculateLength=function(r){r=this.getDataUI(r),r=t(r);return $(r)},H.calculateLength=function(r,K){r=t(F,r,K);return $(r)},a.getPercentPosition=function(r,K){r=this.getDataUI(r),r=t(r);return T(r,K)},H.getPercentPositionOnPoints=function(r,K,Q){r=t(F,r,K);return T(r,Q)},a.setDataModel),p=(a.setDataModel=function(r){var K,Q=this,Z=Q._dataModel;Z!==r&&(Z&&(Z.umm(J,Q),Z.umd(_,Q),Z.$3e=[]),r.mm(J,Q),r.md(_,Q),K=r.$3e=[],r.each(function(r){r.s(M)&&K.indexOf(r)<0&&K.push(r)}),E.call(Q,r))},v.getFlowElementSpace=function(r){return this.s(K)},r.drawBody),rb=(r.drawBody=function(r){p.call(this,r);var K=this._data,Q=this.gv;K.s(M)&&Q.$7e!=F&&j.call(this,r)},L.drawBody),Kb=(L.drawBody=function(r){rb.call(this,r);var K=this._data,Q=this.gv;K.s(M)&&Q.$7e!=F&&j.call(this,r)},r._79o),Qb=L._79o,Zb=(L._79o=W,r._79o=W,g.$5e=function(r,K,Q,Z,V){var a,M,L=this._data,D=this.gv,y=L.s(m),B=L.s(z),t=L.s(n),$=L.s(N),x=D.$8e,h=L.s("flow.element.image"),c=L.s(G),U=L.s(O);x==F&&(x=D.$8e={}),r.beginPath(),h!=F?(H.isArray(h)&&(a=h.length,h=h[index%a]),a=H.getImage(h),M=Q/2,r.translate(K.x,K.y),r.rotate(V),r.translate(-K.x,-K.y),H.drawStretchImage(r,a,c,K.x-M,K.y-M*U,Q,Q*U,L),r.translate(K.x,K.y),r.rotate(-V),r.translate(-K.x,-K.y)):D.__flowBatch?(h=(h=D.__flowBatchGroup)||(D.__flowBatchGroup={}),a=[K.x,K.y,Q/2],h[y]?h[y].push(a):h[y]=[a]):(r.fillStyle=y,r.arc(K.x,K.y,Q/2,0,2*Math.PI,!0),r.fill()),$&&((U=x[c="22_"+B+"_"+t])==F&&(V=document.createElement("canvas"),u.setCanvas(V,22,22),D=V.getContext("2d"),u.translateAndScale(D,0,0,1),D.beginPath(),(h=D.createRadialGradient(11,11,0,11,11,11)).addColorStop(0,B),h.addColorStop(1,t),D.fillStyle=h,D.arc(11,11,11,0,2*Math.PI,!0),D.fill(),U=x[c]=V),H.drawImage(r,U,K.x-(M=Z/2),K.y-M,Z,Z,L))},a.$9e=function(){var K=this,r=K.dm().$3e;K._24I;r.forEach(function(r){K._24I[r._id]=r}),K.iv()},Q.prepareRemove);Q.prepareRemove=function(r){Zb.call(this,r);var K=r._dataModel.$3e;if(K)for(var Q=K.length,Z=0;Z<Q;Z++)if(K[Z]===r){K.splice(Z,1);break}},a.setFlowInterval=function(r){var K=this,Q=K.$11e;K.$11e=r,K.fp("flowInterval",Q,r),K.$7e!=F&&(clearInterval(K.$7e),delete K.$7e,K.enableFlow(r))},a.getFlowInterval=function(){return this.$11e},a.enableFlow=function(r){var K=this,Q=K.dm(),Z=Q.$3e;K.$7e==F&&(Z.forEach(function(r){r=K.getDataUI(r);R(r)}),K.$7e=setInterval(function(){Q.$3e.forEach(function(r){w(K.getDataUI(r))}),K.$9e()},r||K.$11e||50))},a.disableFlow=function(){clearInterval(this.$7e),delete this.$7e,this.dm().$3e&&this.$9e()};a.setFlowBatch=function(r){var K=this;!!K.__flowBatch!=!!r&&((K.__flowBatch=r)?(K.addBottomPainter(o),K.addTopPainter(P)):(K.removeBottomPainter(o),K.removeTopPainter(P)))}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);